var qbe=Object.defineProperty;var OU=r=>{throw TypeError(r)};var Gbe=(r,e,n)=>e in r?qbe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var oe=(r,e,n)=>Gbe(r,typeof e!="symbol"?e+"":e,n),o8=(r,e,n)=>e.has(r)||OU("Cannot "+n);var Tt=(r,e,n)=>(o8(r,e,"read from private field"),n?n.call(r):e.get(r)),Gn=(r,e,n)=>e.has(r)?OU("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,n),xn=(r,e,n,i)=>(o8(r,e,"write to private field"),i?i.call(r,n):e.set(r,n),n),a8=(r,e,n)=>(o8(r,e,"access private method"),n);function Kbe(r,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in r)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(r,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function pR(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var s8={exports:{}},g1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PU;function Xbe(){if(PU)return g1;PU=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,a){var s=null;if(a!==void 0&&(s=""+a),o.key!==void 0&&(s=""+o.key),"key"in o){a={};for(var l in o)l!=="key"&&(a[l]=o[l])}else a=o;return o=a.ref,{$$typeof:r,type:i,key:s,ref:o!==void 0?o:null,props:a}}return g1.Fragment=e,g1.jsx=n,g1.jsxs=n,g1}var IU;function Ybe(){return IU||(IU=1,s8.exports=Xbe()),s8.exports}var E=Ybe(),l8={exports:{}},an={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $U;function Zbe(){if($U)return an;$U=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function f(ee){return ee===null||typeof ee!="object"?null:(ee=h&&ee[h]||ee["@@iterator"],typeof ee=="function"?ee:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,g={};function v(ee,X,j){this.props=ee,this.context=X,this.refs=g,this.updater=j||m}v.prototype.isReactComponent={},v.prototype.setState=function(ee,X){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,X,"setState")},v.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function x(){}x.prototype=v.prototype;function w(ee,X,j){this.props=ee,this.context=X,this.refs=g,this.updater=j||m}var k=w.prototype=new x;k.constructor=w,b(k,v.prototype),k.isPureReactComponent=!0;var T=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function I(ee,X,j,ae,re,de){return j=de.ref,{$$typeof:r,type:ee,key:X,ref:j!==void 0?j:null,props:de}}function L(ee,X){return I(ee.type,X,void 0,void 0,void 0,ee.props)}function O(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===r}function W(ee){var X={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(j){return X[j]})}var Z=/\/+/g;function $(ee,X){return typeof ee=="object"&&ee!==null&&ee.key!=null?W(""+ee.key):X.toString(36)}function F(){}function A(ee){switch(ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason;default:switch(typeof ee.status=="string"?ee.then(F,F):(ee.status="pending",ee.then(function(X){ee.status==="pending"&&(ee.status="fulfilled",ee.value=X)},function(X){ee.status==="pending"&&(ee.status="rejected",ee.reason=X)})),ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason}}throw ee}function Q(ee,X,j,ae,re){var de=typeof ee;(de==="undefined"||de==="boolean")&&(ee=null);var me=!1;if(ee===null)me=!0;else switch(de){case"bigint":case"string":case"number":me=!0;break;case"object":switch(ee.$$typeof){case r:case e:me=!0;break;case d:return me=ee._init,Q(me(ee._payload),X,j,ae,re)}}if(me)return re=re(ee),me=ae===""?"."+$(ee,0):ae,T(re)?(j="",me!=null&&(j=me.replace(Z,"$&/")+"/"),Q(re,X,j,"",function(be){return be})):re!=null&&(O(re)&&(re=L(re,j+(re.key==null||ee&&ee.key===re.key?"":(""+re.key).replace(Z,"$&/")+"/")+me)),X.push(re)),1;me=0;var K=ae===""?".":ae+":";if(T(ee))for(var q=0;q<ee.length;q++)ae=ee[q],de=K+$(ae,q),me+=Q(ae,X,j,de,re);else if(q=f(ee),typeof q=="function")for(ee=q.call(ee),q=0;!(ae=ee.next()).done;)ae=ae.value,de=K+$(ae,q++),me+=Q(ae,X,j,de,re);else if(de==="object"){if(typeof ee.then=="function")return Q(A(ee),X,j,ae,re);throw X=String(ee),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return me}function H(ee,X,j){if(ee==null)return ee;var ae=[],re=0;return Q(ee,ae,"","",function(de){return X.call(j,de,re++)}),ae}function G(ee){if(ee._status===-1){var X=ee._result;X=X(),X.then(function(j){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=j)},function(j){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=j)}),ee._status===-1&&(ee._status=0,ee._result=X)}if(ee._status===1)return ee._result.default;throw ee._result}var ne=typeof reportError=="function"?reportError:function(ee){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ee=="object"&&ee!==null&&typeof ee.message=="string"?String(ee.message):String(ee),error:ee});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ee);return}console.error(ee)};function J(){}return an.Children={map:H,forEach:function(ee,X,j){H(ee,function(){X.apply(this,arguments)},j)},count:function(ee){var X=0;return H(ee,function(){X++}),X},toArray:function(ee){return H(ee,function(X){return X})||[]},only:function(ee){if(!O(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},an.Component=v,an.Fragment=n,an.Profiler=o,an.PureComponent=w,an.StrictMode=i,an.Suspense=c,an.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,an.__COMPILER_RUNTIME={__proto__:null,c:function(ee){return _.H.useMemoCache(ee)}},an.cache=function(ee){return function(){return ee.apply(null,arguments)}},an.cloneElement=function(ee,X,j){if(ee==null)throw Error("The argument must be a React element, but you passed "+ee+".");var ae=b({},ee.props),re=ee.key,de=void 0;if(X!=null)for(me in X.ref!==void 0&&(de=void 0),X.key!==void 0&&(re=""+X.key),X)!D.call(X,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&X.ref===void 0||(ae[me]=X[me]);var me=arguments.length-2;if(me===1)ae.children=j;else if(1<me){for(var K=Array(me),q=0;q<me;q++)K[q]=arguments[q+2];ae.children=K}return I(ee.type,re,void 0,void 0,de,ae)},an.createContext=function(ee){return ee={$$typeof:s,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null},ee.Provider=ee,ee.Consumer={$$typeof:a,_context:ee},ee},an.createElement=function(ee,X,j){var ae,re={},de=null;if(X!=null)for(ae in X.key!==void 0&&(de=""+X.key),X)D.call(X,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(re[ae]=X[ae]);var me=arguments.length-2;if(me===1)re.children=j;else if(1<me){for(var K=Array(me),q=0;q<me;q++)K[q]=arguments[q+2];re.children=K}if(ee&&ee.defaultProps)for(ae in me=ee.defaultProps,me)re[ae]===void 0&&(re[ae]=me[ae]);return I(ee,de,void 0,void 0,null,re)},an.createRef=function(){return{current:null}},an.forwardRef=function(ee){return{$$typeof:l,render:ee}},an.isValidElement=O,an.lazy=function(ee){return{$$typeof:d,_payload:{_status:-1,_result:ee},_init:G}},an.memo=function(ee,X){return{$$typeof:u,type:ee,compare:X===void 0?null:X}},an.startTransition=function(ee){var X=_.T,j={};_.T=j;try{var ae=ee(),re=_.S;re!==null&&re(j,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(J,ne)}catch(de){ne(de)}finally{_.T=X}},an.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},an.use=function(ee){return _.H.use(ee)},an.useActionState=function(ee,X,j){return _.H.useActionState(ee,X,j)},an.useCallback=function(ee,X){return _.H.useCallback(ee,X)},an.useContext=function(ee){return _.H.useContext(ee)},an.useDebugValue=function(){},an.useDeferredValue=function(ee,X){return _.H.useDeferredValue(ee,X)},an.useEffect=function(ee,X,j){var ae=_.H;if(typeof j=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(ee,X)},an.useId=function(){return _.H.useId()},an.useImperativeHandle=function(ee,X,j){return _.H.useImperativeHandle(ee,X,j)},an.useInsertionEffect=function(ee,X){return _.H.useInsertionEffect(ee,X)},an.useLayoutEffect=function(ee,X){return _.H.useLayoutEffect(ee,X)},an.useMemo=function(ee,X){return _.H.useMemo(ee,X)},an.useOptimistic=function(ee,X){return _.H.useOptimistic(ee,X)},an.useReducer=function(ee,X,j){return _.H.useReducer(ee,X,j)},an.useRef=function(ee){return _.H.useRef(ee)},an.useState=function(ee){return _.H.useState(ee)},an.useSyncExternalStore=function(ee,X,j){return _.H.useSyncExternalStore(ee,X,j)},an.useTransition=function(){return _.H.useTransition()},an.version="19.1.0",an}var zU;function mR(){return zU||(zU=1,l8.exports=Zbe()),l8.exports}var P=mR();const dt=pR(P),yee=Kbe({__proto__:null,default:dt},[P]);var c8={exports:{}},y1={},u8={exports:{}},d8={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LU;function Jbe(){return LU||(LU=1,function(r){function e(H,G){var ne=H.length;H.push(G);e:for(;0<ne;){var J=ne-1>>>1,ee=H[J];if(0<o(ee,G))H[J]=G,H[ne]=ee,ne=J;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var G=H[0],ne=H.pop();if(ne!==G){H[0]=ne;e:for(var J=0,ee=H.length,X=ee>>>1;J<X;){var j=2*(J+1)-1,ae=H[j],re=j+1,de=H[re];if(0>o(ae,ne))re<ee&&0>o(de,ae)?(H[J]=de,H[re]=ne,J=re):(H[J]=ae,H[j]=ne,J=j);else if(re<ee&&0>o(de,ne))H[J]=de,H[re]=ne,J=re;else break e}}return G}function o(H,G){var ne=H.sortIndex-G.sortIndex;return ne!==0?ne:H.id-G.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();r.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,b=!1,g=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function T(H){for(var G=n(u);G!==null;){if(G.callback===null)i(u);else if(G.startTime<=H)i(u),G.sortIndex=G.expirationTime,e(c,G);else break;G=n(u)}}function _(H){if(g=!1,T(H),!b)if(n(c)!==null)b=!0,D||(D=!0,$());else{var G=n(u);G!==null&&Q(_,G.startTime-H)}}var D=!1,I=-1,L=5,O=-1;function W(){return v?!0:!(r.unstable_now()-O<L)}function Z(){if(v=!1,D){var H=r.unstable_now();O=H;var G=!0;try{e:{b=!1,g&&(g=!1,w(I),I=-1),m=!0;var ne=f;try{t:{for(T(H),h=n(c);h!==null&&!(h.expirationTime>H&&W());){var J=h.callback;if(typeof J=="function"){h.callback=null,f=h.priorityLevel;var ee=J(h.expirationTime<=H);if(H=r.unstable_now(),typeof ee=="function"){h.callback=ee,T(H),G=!0;break t}h===n(c)&&i(c),T(H)}else i(c);h=n(c)}if(h!==null)G=!0;else{var X=n(u);X!==null&&Q(_,X.startTime-H),G=!1}}break e}finally{h=null,f=ne,m=!1}G=void 0}}finally{G?$():D=!1}}}var $;if(typeof k=="function")$=function(){k(Z)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,A=F.port2;F.port1.onmessage=Z,$=function(){A.postMessage(null)}}else $=function(){x(Z,0)};function Q(H,G){I=x(function(){H(r.unstable_now())},G)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return f},r.unstable_next=function(H){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var ne=f;f=G;try{return H()}finally{f=ne}},r.unstable_requestPaint=function(){v=!0},r.unstable_runWithPriority=function(H,G){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ne=f;f=H;try{return G()}finally{f=ne}},r.unstable_scheduleCallback=function(H,G,ne){var J=r.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?J+ne:J):ne=J,H){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ne+ee,H={id:d++,callback:G,priorityLevel:H,startTime:ne,expirationTime:ee,sortIndex:-1},ne>J?(H.sortIndex=ne,e(u,H),n(c)===null&&H===n(u)&&(g?(w(I),I=-1):g=!0,Q(_,ne-J))):(H.sortIndex=ee,e(c,H),b||m||(b=!0,D||(D=!0,$()))),H},r.unstable_shouldYield=W,r.unstable_wrapCallback=function(H){var G=f;return function(){var ne=f;f=G;try{return H.apply(this,arguments)}finally{f=ne}}}}(d8)),d8}var UU;function Qbe(){return UU||(UU=1,u8.exports=Jbe()),u8.exports}var h8={exports:{}},Pi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BU;function eve(){if(BU)return Pi;BU=1;var r=mR();function e(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function a(c,u,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:h==null?null:""+h,children:c,containerInfo:u,implementation:d}}var s=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Pi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Pi.createPortal=function(c,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return a(c,u,null,d)},Pi.flushSync=function(c){var u=s.T,d=i.p;try{if(s.T=null,i.p=2,c)return c()}finally{s.T=u,i.p=d,i.d.f()}},Pi.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,i.d.C(c,u))},Pi.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},Pi.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var d=u.as,h=l(d,u.crossOrigin),f=typeof u.integrity=="string"?u.integrity:void 0,m=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?i.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:f,fetchPriority:m}):d==="script"&&i.d.X(c,{crossOrigin:h,integrity:f,fetchPriority:m,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Pi.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=l(u.as,u.crossOrigin);i.d.M(c,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&i.d.M(c)},Pi.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,h=l(d,u.crossOrigin);i.d.L(c,d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Pi.preloadModule=function(c,u){if(typeof c=="string")if(u){var d=l(u.as,u.crossOrigin);i.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else i.d.m(c)},Pi.requestFormReset=function(c){i.d.r(c)},Pi.unstable_batchedUpdates=function(c,u){return c(u)},Pi.useFormState=function(c,u,d){return s.H.useFormState(c,u,d)},Pi.useFormStatus=function(){return s.H.useHostTransitionStatus()},Pi.version="19.1.0",Pi}var jU;function bee(){if(jU)return h8.exports;jU=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),h8.exports=eve(),h8.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FU;function tve(){if(FU)return y1;FU=1;var r=Qbe(),e=mR(),n=bee();function i(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function a(p){var y=p,S=p;if(p.alternate)for(;y.return;)y=y.return;else{p=y;do y=p,(y.flags&4098)!==0&&(S=y.return),p=y.return;while(p)}return y.tag===3?S:null}function s(p){if(p.tag===13){var y=p.memoizedState;if(y===null&&(p=p.alternate,p!==null&&(y=p.memoizedState)),y!==null)return y.dehydrated}return null}function l(p){if(a(p)!==p)throw Error(i(188))}function c(p){var y=p.alternate;if(!y){if(y=a(p),y===null)throw Error(i(188));return y!==p?null:p}for(var S=p,C=y;;){var z=S.return;if(z===null)break;var U=z.alternate;if(U===null){if(C=z.return,C!==null){S=C;continue}break}if(z.child===U.child){for(U=z.child;U;){if(U===S)return l(z),p;if(U===C)return l(z),y;U=U.sibling}throw Error(i(188))}if(S.return!==C.return)S=z,C=U;else{for(var ce=!1,we=z.child;we;){if(we===S){ce=!0,S=z,C=U;break}if(we===C){ce=!0,C=z,S=U;break}we=we.sibling}if(!ce){for(we=U.child;we;){if(we===S){ce=!0,S=U,C=z;break}if(we===C){ce=!0,C=U,S=z;break}we=we.sibling}if(!ce)throw Error(i(189))}}if(S.alternate!==C)throw Error(i(190))}if(S.tag!==3)throw Error(i(188));return S.stateNode.current===S?p:y}function u(p){var y=p.tag;if(y===5||y===26||y===27||y===6)return p;for(p=p.child;p!==null;){if(y=u(p),y!==null)return y;p=p.sibling}return null}var d=Object.assign,h=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),k=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function $(p){return p===null||typeof p!="object"?null:(p=Z&&p[Z]||p["@@iterator"],typeof p=="function"?p:null)}var F=Symbol.for("react.client.reference");function A(p){if(p==null)return null;if(typeof p=="function")return p.$$typeof===F?null:p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case b:return"Fragment";case v:return"Profiler";case g:return"StrictMode";case _:return"Suspense";case D:return"SuspenseList";case O:return"Activity"}if(typeof p=="object")switch(p.$$typeof){case m:return"Portal";case k:return(p.displayName||"Context")+".Provider";case w:return(p._context.displayName||"Context")+".Consumer";case T:var y=p.render;return p=p.displayName,p||(p=y.displayName||y.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case I:return y=p.displayName||null,y!==null?y:A(p.type)||"Memo";case L:y=p._payload,p=p._init;try{return A(p(y))}catch{}}return null}var Q=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},J=[],ee=-1;function X(p){return{current:p}}function j(p){0>ee||(p.current=J[ee],J[ee]=null,ee--)}function ae(p,y){ee++,J[ee]=p.current,p.current=y}var re=X(null),de=X(null),me=X(null),K=X(null);function q(p,y){switch(ae(me,y),ae(de,p),ae(re,null),y.nodeType){case 9:case 11:p=(p=y.documentElement)&&(p=p.namespaceURI)?sU(p):0;break;default:if(p=y.tagName,y=y.namespaceURI)y=sU(y),p=lU(y,p);else switch(p){case"svg":p=1;break;case"math":p=2;break;default:p=0}}j(re),ae(re,p)}function be(){j(re),j(de),j(me)}function pe(p){p.memoizedState!==null&&ae(K,p);var y=re.current,S=lU(y,p.type);y!==S&&(ae(de,p),ae(re,S))}function ie(p){de.current===p&&(j(re),j(de)),K.current===p&&(j(K),d1._currentValue=ne)}var le=Object.prototype.hasOwnProperty,Ee=r.unstable_scheduleCallback,M=r.unstable_cancelCallback,he=r.unstable_shouldYield,V=r.unstable_requestPaint,R=r.unstable_now,N=r.unstable_getCurrentPriorityLevel,B=r.unstable_ImmediatePriority,ue=r.unstable_UserBlockingPriority,ve=r.unstable_NormalPriority,se=r.unstable_LowPriority,ge=r.unstable_IdlePriority,Se=r.log,Te=r.unstable_setDisableYieldValue,De=null,Le=null;function Ke(p){if(typeof Se=="function"&&Te(p),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(De,p)}catch{}}var pt=Math.clz32?Math.clz32:Ye,jt=Math.log,Ne=Math.LN2;function Ye(p){return p>>>=0,p===0?32:31-(jt(p)/Ne|0)|0}var Ze=256,Pe=4194304;function Qe(p){var y=p&42;if(y!==0)return y;switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return p&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return p}}function Ce(p,y,S){var C=p.pendingLanes;if(C===0)return 0;var z=0,U=p.suspendedLanes,ce=p.pingedLanes;p=p.warmLanes;var we=C&134217727;return we!==0?(C=we&~U,C!==0?z=Qe(C):(ce&=we,ce!==0?z=Qe(ce):S||(S=we&~p,S!==0&&(z=Qe(S))))):(we=C&~U,we!==0?z=Qe(we):ce!==0?z=Qe(ce):S||(S=C&~p,S!==0&&(z=Qe(S)))),z===0?0:y!==0&&y!==z&&(y&U)===0&&(U=z&-z,S=y&-y,U>=S||U===32&&(S&4194048)!==0)?y:z}function $e(p,y){return(p.pendingLanes&~(p.suspendedLanes&~p.pingedLanes)&y)===0}function vt(p,y){switch(p){case 1:case 2:case 4:case 8:case 64:return y+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zt(){var p=Ze;return Ze<<=1,(Ze&4194048)===0&&(Ze=256),p}function Yt(){var p=Pe;return Pe<<=1,(Pe&62914560)===0&&(Pe=4194304),p}function fe(p){for(var y=[],S=0;31>S;S++)y.push(p);return y}function xe(p,y){p.pendingLanes|=y,y!==268435456&&(p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0)}function _e(p,y,S,C,z,U){var ce=p.pendingLanes;p.pendingLanes=S,p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0,p.expiredLanes&=S,p.entangledLanes&=S,p.errorRecoveryDisabledLanes&=S,p.shellSuspendCounter=0;var we=p.entanglements,Re=p.expirationTimes,je=p.hiddenUpdates;for(S=ce&~S;0<S;){var Je=31-pt(S),tt=1<<Je;we[Je]=0,Re[Je]=-1;var Ve=je[Je];if(Ve!==null)for(je[Je]=null,Je=0;Je<Ve.length;Je++){var Ge=Ve[Je];Ge!==null&&(Ge.lane&=-536870913)}S&=~tt}C!==0&&Ue(p,C,0),U!==0&&z===0&&p.tag!==0&&(p.suspendedLanes|=U&~(ce&~y))}function Ue(p,y,S){p.pendingLanes|=y,p.suspendedLanes&=~y;var C=31-pt(y);p.entangledLanes|=y,p.entanglements[C]=p.entanglements[C]|1073741824|S&4194090}function at(p,y){var S=p.entangledLanes|=y;for(p=p.entanglements;S;){var C=31-pt(S),z=1<<C;z&y|p[C]&y&&(p[C]|=y),S&=~z}}function Nt(p){switch(p){case 2:p=1;break;case 8:p=4;break;case 32:p=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:p=128;break;case 268435456:p=134217728;break;default:p=0}return p}function pn(p){return p&=-p,2<p?8<p?(p&134217727)!==0?32:268435456:8:2}function tn(){var p=G.p;return p!==0?p:(p=window.event,p===void 0?32:_U(p.type))}function pi(p,y){var S=G.p;try{return G.p=p,y()}finally{G.p=S}}var Hr=Math.random().toString(36).slice(2),Bn="__reactFiber$"+Hr,lr="__reactProps$"+Hr,ri="__reactContainer$"+Hr,Mi="__reactEvents$"+Hr,Ho="__reactListeners$"+Hr,Ri="__reactHandles$"+Hr,Wo="__reactResources$"+Hr,yo="__reactMarker$"+Hr;function Bs(p){delete p[Bn],delete p[lr],delete p[Mi],delete p[Ho],delete p[Ri]}function Ni(p){var y=p[Bn];if(y)return y;for(var S=p.parentNode;S;){if(y=S[ri]||S[Bn]){if(S=y.alternate,y.child!==null||S!==null&&S.child!==null)for(p=hU(p);p!==null;){if(S=p[Bn])return S;p=hU(p)}return y}p=S,S=p.parentNode}return null}function Vo(p){if(p=p[Bn]||p[ri]){var y=p.tag;if(y===5||y===6||y===13||y===26||y===27||y===3)return p}return null}function uu(p){var y=p.tag;if(y===5||y===26||y===27||y===6)return p.stateNode;throw Error(i(33))}function du(p){var y=p[Wo];return y||(y=p[Wo]={hoistableStyles:new Map,hoistableScripts:new Map}),y}function _r(p){p[yo]=!0}var Ll=new Set,gh={};function Ul(p,y){Bl(p,y),Bl(p+"Capture",y)}function Bl(p,y){for(gh[p]=y,p=0;p<y.length;p++)Ll.add(y[p])}var L1e=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),JI={},QI={};function U1e(p){return le.call(QI,p)?!0:le.call(JI,p)?!1:L1e.test(p)?QI[p]=!0:(JI[p]=!0,!1)}function Wv(p,y,S){if(U1e(y))if(S===null)p.removeAttribute(y);else{switch(typeof S){case"undefined":case"function":case"symbol":p.removeAttribute(y);return;case"boolean":var C=y.toLowerCase().slice(0,5);if(C!=="data-"&&C!=="aria-"){p.removeAttribute(y);return}}p.setAttribute(y,""+S)}}function Vv(p,y,S){if(S===null)p.removeAttribute(y);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":p.removeAttribute(y);return}p.setAttribute(y,""+S)}}function jl(p,y,S,C){if(C===null)p.removeAttribute(S);else{switch(typeof C){case"undefined":case"function":case"symbol":case"boolean":p.removeAttribute(S);return}p.setAttributeNS(y,S,""+C)}}var Q6,e$;function Ap(p){if(Q6===void 0)try{throw Error()}catch(S){var y=S.stack.trim().match(/\n( *(at )?)/);Q6=y&&y[1]||"",e$=-1<S.stack.indexOf(`
    at`)?" (<anonymous>)":-1<S.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Q6+p+e$}var ek=!1;function tk(p,y){if(!p||ek)return"";ek=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(y){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Ge){var Ve=Ge}Reflect.construct(p,[],tt)}else{try{tt.call()}catch(Ge){Ve=Ge}p.call(tt.prototype)}}else{try{throw Error()}catch(Ge){Ve=Ge}(tt=p())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Ge){if(Ge&&Ve&&typeof Ge.stack=="string")return[Ge.stack,Ve.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var z=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");z&&z.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var U=C.DetermineComponentFrameRoot(),ce=U[0],we=U[1];if(ce&&we){var Re=ce.split(`
`),je=we.split(`
`);for(z=C=0;C<Re.length&&!Re[C].includes("DetermineComponentFrameRoot");)C++;for(;z<je.length&&!je[z].includes("DetermineComponentFrameRoot");)z++;if(C===Re.length||z===je.length)for(C=Re.length-1,z=je.length-1;1<=C&&0<=z&&Re[C]!==je[z];)z--;for(;1<=C&&0<=z;C--,z--)if(Re[C]!==je[z]){if(C!==1||z!==1)do if(C--,z--,0>z||Re[C]!==je[z]){var Je=`
`+Re[C].replace(" at new "," at ");return p.displayName&&Je.includes("<anonymous>")&&(Je=Je.replace("<anonymous>",p.displayName)),Je}while(1<=C&&0<=z);break}}}finally{ek=!1,Error.prepareStackTrace=S}return(S=p?p.displayName||p.name:"")?Ap(S):""}function B1e(p){switch(p.tag){case 26:case 27:case 5:return Ap(p.type);case 16:return Ap("Lazy");case 13:return Ap("Suspense");case 19:return Ap("SuspenseList");case 0:case 15:return tk(p.type,!1);case 11:return tk(p.type.render,!1);case 1:return tk(p.type,!0);case 31:return Ap("Activity");default:return""}}function t$(p){try{var y="";do y+=B1e(p),p=p.return;while(p);return y}catch(S){return`
Error generating stack: `+S.message+`
`+S.stack}}function Ea(p){switch(typeof p){case"bigint":case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function n$(p){var y=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(y==="checkbox"||y==="radio")}function j1e(p){var y=n$(p)?"checked":"value",S=Object.getOwnPropertyDescriptor(p.constructor.prototype,y),C=""+p[y];if(!p.hasOwnProperty(y)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var z=S.get,U=S.set;return Object.defineProperty(p,y,{configurable:!0,get:function(){return z.call(this)},set:function(ce){C=""+ce,U.call(this,ce)}}),Object.defineProperty(p,y,{enumerable:S.enumerable}),{getValue:function(){return C},setValue:function(ce){C=""+ce},stopTracking:function(){p._valueTracker=null,delete p[y]}}}}function qv(p){p._valueTracker||(p._valueTracker=j1e(p))}function r$(p){if(!p)return!1;var y=p._valueTracker;if(!y)return!0;var S=y.getValue(),C="";return p&&(C=n$(p)?p.checked?"true":"false":p.value),p=C,p!==S?(y.setValue(p),!0):!1}function Gv(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}var F1e=/[\n"\\]/g;function Ca(p){return p.replace(F1e,function(y){return"\\"+y.charCodeAt(0).toString(16)+" "})}function nk(p,y,S,C,z,U,ce,we){p.name="",ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"?p.type=ce:p.removeAttribute("type"),y!=null?ce==="number"?(y===0&&p.value===""||p.value!=y)&&(p.value=""+Ea(y)):p.value!==""+Ea(y)&&(p.value=""+Ea(y)):ce!=="submit"&&ce!=="reset"||p.removeAttribute("value"),y!=null?rk(p,ce,Ea(y)):S!=null?rk(p,ce,Ea(S)):C!=null&&p.removeAttribute("value"),z==null&&U!=null&&(p.defaultChecked=!!U),z!=null&&(p.checked=z&&typeof z!="function"&&typeof z!="symbol"),we!=null&&typeof we!="function"&&typeof we!="symbol"&&typeof we!="boolean"?p.name=""+Ea(we):p.removeAttribute("name")}function i$(p,y,S,C,z,U,ce,we){if(U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(p.type=U),y!=null||S!=null){if(!(U!=="submit"&&U!=="reset"||y!=null))return;S=S!=null?""+Ea(S):"",y=y!=null?""+Ea(y):S,we||y===p.value||(p.value=y),p.defaultValue=y}C=C??z,C=typeof C!="function"&&typeof C!="symbol"&&!!C,p.checked=we?p.checked:!!C,p.defaultChecked=!!C,ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"&&(p.name=ce)}function rk(p,y,S){y==="number"&&Gv(p.ownerDocument)===p||p.defaultValue===""+S||(p.defaultValue=""+S)}function Dp(p,y,S,C){if(p=p.options,y){y={};for(var z=0;z<S.length;z++)y["$"+S[z]]=!0;for(S=0;S<p.length;S++)z=y.hasOwnProperty("$"+p[S].value),p[S].selected!==z&&(p[S].selected=z),z&&C&&(p[S].defaultSelected=!0)}else{for(S=""+Ea(S),y=null,z=0;z<p.length;z++){if(p[z].value===S){p[z].selected=!0,C&&(p[z].defaultSelected=!0);return}y!==null||p[z].disabled||(y=p[z])}y!==null&&(y.selected=!0)}}function o$(p,y,S){if(y!=null&&(y=""+Ea(y),y!==p.value&&(p.value=y),S==null)){p.defaultValue!==y&&(p.defaultValue=y);return}p.defaultValue=S!=null?""+Ea(S):""}function a$(p,y,S,C){if(y==null){if(C!=null){if(S!=null)throw Error(i(92));if(Q(C)){if(1<C.length)throw Error(i(93));C=C[0]}S=C}S==null&&(S=""),y=S}S=Ea(y),p.defaultValue=S,C=p.textContent,C===S&&C!==""&&C!==null&&(p.value=C)}function Mp(p,y){if(y){var S=p.firstChild;if(S&&S===p.lastChild&&S.nodeType===3){S.nodeValue=y;return}}p.textContent=y}var H1e=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function s$(p,y,S){var C=y.indexOf("--")===0;S==null||typeof S=="boolean"||S===""?C?p.setProperty(y,""):y==="float"?p.cssFloat="":p[y]="":C?p.setProperty(y,S):typeof S!="number"||S===0||H1e.has(y)?y==="float"?p.cssFloat=S:p[y]=(""+S).trim():p[y]=S+"px"}function l$(p,y,S){if(y!=null&&typeof y!="object")throw Error(i(62));if(p=p.style,S!=null){for(var C in S)!S.hasOwnProperty(C)||y!=null&&y.hasOwnProperty(C)||(C.indexOf("--")===0?p.setProperty(C,""):C==="float"?p.cssFloat="":p[C]="");for(var z in y)C=y[z],y.hasOwnProperty(z)&&S[z]!==C&&s$(p,z,C)}else for(var U in y)y.hasOwnProperty(U)&&s$(p,U,y[U])}function ik(p){if(p.indexOf("-")===-1)return!1;switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W1e=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),V1e=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kv(p){return V1e.test(""+p)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":p}var ok=null;function ak(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var Rp=null,Np=null;function c$(p){var y=Vo(p);if(y&&(p=y.stateNode)){var S=p[lr]||null;e:switch(p=y.stateNode,y.type){case"input":if(nk(p,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name),y=S.name,S.type==="radio"&&y!=null){for(S=p;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll('input[name="'+Ca(""+y)+'"][type="radio"]'),y=0;y<S.length;y++){var C=S[y];if(C!==p&&C.form===p.form){var z=C[lr]||null;if(!z)throw Error(i(90));nk(C,z.value,z.defaultValue,z.defaultValue,z.checked,z.defaultChecked,z.type,z.name)}}for(y=0;y<S.length;y++)C=S[y],C.form===p.form&&r$(C)}break e;case"textarea":o$(p,S.value,S.defaultValue);break e;case"select":y=S.value,y!=null&&Dp(p,!!S.multiple,y,!1)}}}var sk=!1;function u$(p,y,S){if(sk)return p(y,S);sk=!0;try{var C=p(y);return C}finally{if(sk=!1,(Rp!==null||Np!==null)&&(Ox(),Rp&&(y=Rp,p=Np,Np=Rp=null,c$(y),p)))for(y=0;y<p.length;y++)c$(p[y])}}function Tg(p,y){var S=p.stateNode;if(S===null)return null;var C=S[lr]||null;if(C===null)return null;S=C[y];e:switch(y){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(p=p.type,C=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!C;break e;default:p=!1}if(p)return null;if(S&&typeof S!="function")throw Error(i(231,y,typeof S));return S}var Fl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lk=!1;if(Fl)try{var Eg={};Object.defineProperty(Eg,"passive",{get:function(){lk=!0}}),window.addEventListener("test",Eg,Eg),window.removeEventListener("test",Eg,Eg)}catch{lk=!1}var hu=null,ck=null,Xv=null;function d$(){if(Xv)return Xv;var p,y=ck,S=y.length,C,z="value"in hu?hu.value:hu.textContent,U=z.length;for(p=0;p<S&&y[p]===z[p];p++);var ce=S-p;for(C=1;C<=ce&&y[S-C]===z[U-C];C++);return Xv=z.slice(p,1<C?1-C:void 0)}function Yv(p){var y=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&y===13&&(p=13)):p=y,p===10&&(p=13),32<=p||p===13?p:0}function Zv(){return!0}function h$(){return!1}function bo(p){function y(S,C,z,U,ce){this._reactName=S,this._targetInst=z,this.type=C,this.nativeEvent=U,this.target=ce,this.currentTarget=null;for(var we in p)p.hasOwnProperty(we)&&(S=p[we],this[we]=S?S(U):U[we]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?Zv:h$,this.isPropagationStopped=h$,this}return d(y.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=Zv)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=Zv)},persist:function(){},isPersistent:Zv}),y}var yh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jv=bo(yh),Cg=d({},yh,{view:0,detail:0}),q1e=bo(Cg),uk,dk,_g,Qv=d({},Cg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fk,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==_g&&(_g&&p.type==="mousemove"?(uk=p.screenX-_g.screenX,dk=p.screenY-_g.screenY):dk=uk=0,_g=p),uk)},movementY:function(p){return"movementY"in p?p.movementY:dk}}),f$=bo(Qv),G1e=d({},Qv,{dataTransfer:0}),K1e=bo(G1e),X1e=d({},Cg,{relatedTarget:0}),hk=bo(X1e),Y1e=d({},yh,{animationName:0,elapsedTime:0,pseudoElement:0}),Z1e=bo(Y1e),J1e=d({},yh,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),Q1e=bo(J1e),eye=d({},yh,{data:0}),p$=bo(eye),tye={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nye={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rye={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iye(p){var y=this.nativeEvent;return y.getModifierState?y.getModifierState(p):(p=rye[p])?!!y[p]:!1}function fk(){return iye}var oye=d({},Cg,{key:function(p){if(p.key){var y=tye[p.key]||p.key;if(y!=="Unidentified")return y}return p.type==="keypress"?(p=Yv(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?nye[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fk,charCode:function(p){return p.type==="keypress"?Yv(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?Yv(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),aye=bo(oye),sye=d({},Qv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),m$=bo(sye),lye=d({},Cg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fk}),cye=bo(lye),uye=d({},yh,{propertyName:0,elapsedTime:0,pseudoElement:0}),dye=bo(uye),hye=d({},Qv,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),fye=bo(hye),pye=d({},yh,{newState:0,oldState:0}),mye=bo(pye),gye=[9,13,27,32],pk=Fl&&"CompositionEvent"in window,Ag=null;Fl&&"documentMode"in document&&(Ag=document.documentMode);var yye=Fl&&"TextEvent"in window&&!Ag,g$=Fl&&(!pk||Ag&&8<Ag&&11>=Ag),y$=" ",b$=!1;function v$(p,y){switch(p){case"keyup":return gye.indexOf(y.keyCode)!==-1;case"keydown":return y.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x$(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var Op=!1;function bye(p,y){switch(p){case"compositionend":return x$(y);case"keypress":return y.which!==32?null:(b$=!0,y$);case"textInput":return p=y.data,p===y$&&b$?null:p;default:return null}}function vye(p,y){if(Op)return p==="compositionend"||!pk&&v$(p,y)?(p=d$(),Xv=ck=hu=null,Op=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(y.ctrlKey||y.altKey||y.metaKey)||y.ctrlKey&&y.altKey){if(y.char&&1<y.char.length)return y.char;if(y.which)return String.fromCharCode(y.which)}return null;case"compositionend":return g$&&y.locale!=="ko"?null:y.data;default:return null}}var xye={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w$(p){var y=p&&p.nodeName&&p.nodeName.toLowerCase();return y==="input"?!!xye[p.type]:y==="textarea"}function S$(p,y,S,C){Rp?Np?Np.push(C):Np=[C]:Rp=C,y=Ux(y,"onChange"),0<y.length&&(S=new Jv("onChange","change",null,S,C),p.push({event:S,listeners:y}))}var Dg=null,Mg=null;function wye(p){nU(p,0)}function ex(p){var y=uu(p);if(r$(y))return p}function k$(p,y){if(p==="change")return y}var T$=!1;if(Fl){var mk;if(Fl){var gk="oninput"in document;if(!gk){var E$=document.createElement("div");E$.setAttribute("oninput","return;"),gk=typeof E$.oninput=="function"}mk=gk}else mk=!1;T$=mk&&(!document.documentMode||9<document.documentMode)}function C$(){Dg&&(Dg.detachEvent("onpropertychange",_$),Mg=Dg=null)}function _$(p){if(p.propertyName==="value"&&ex(Mg)){var y=[];S$(y,Mg,p,ak(p)),u$(wye,y)}}function Sye(p,y,S){p==="focusin"?(C$(),Dg=y,Mg=S,Dg.attachEvent("onpropertychange",_$)):p==="focusout"&&C$()}function kye(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return ex(Mg)}function Tye(p,y){if(p==="click")return ex(y)}function Eye(p,y){if(p==="input"||p==="change")return ex(y)}function Cye(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var qo=typeof Object.is=="function"?Object.is:Cye;function Rg(p,y){if(qo(p,y))return!0;if(typeof p!="object"||p===null||typeof y!="object"||y===null)return!1;var S=Object.keys(p),C=Object.keys(y);if(S.length!==C.length)return!1;for(C=0;C<S.length;C++){var z=S[C];if(!le.call(y,z)||!qo(p[z],y[z]))return!1}return!0}function A$(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function D$(p,y){var S=A$(p);p=0;for(var C;S;){if(S.nodeType===3){if(C=p+S.textContent.length,p<=y&&C>=y)return{node:S,offset:y-p};p=C}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=A$(S)}}function M$(p,y){return p&&y?p===y?!0:p&&p.nodeType===3?!1:y&&y.nodeType===3?M$(p,y.parentNode):"contains"in p?p.contains(y):p.compareDocumentPosition?!!(p.compareDocumentPosition(y)&16):!1:!1}function R$(p){p=p!=null&&p.ownerDocument!=null&&p.ownerDocument.defaultView!=null?p.ownerDocument.defaultView:window;for(var y=Gv(p.document);y instanceof p.HTMLIFrameElement;){try{var S=typeof y.contentWindow.location.href=="string"}catch{S=!1}if(S)p=y.contentWindow;else break;y=Gv(p.document)}return y}function yk(p){var y=p&&p.nodeName&&p.nodeName.toLowerCase();return y&&(y==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||y==="textarea"||p.contentEditable==="true")}var _ye=Fl&&"documentMode"in document&&11>=document.documentMode,Pp=null,bk=null,Ng=null,vk=!1;function N$(p,y,S){var C=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;vk||Pp==null||Pp!==Gv(C)||(C=Pp,"selectionStart"in C&&yk(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),Ng&&Rg(Ng,C)||(Ng=C,C=Ux(bk,"onSelect"),0<C.length&&(y=new Jv("onSelect","select",null,y,S),p.push({event:y,listeners:C}),y.target=Pp)))}function bh(p,y){var S={};return S[p.toLowerCase()]=y.toLowerCase(),S["Webkit"+p]="webkit"+y,S["Moz"+p]="moz"+y,S}var Ip={animationend:bh("Animation","AnimationEnd"),animationiteration:bh("Animation","AnimationIteration"),animationstart:bh("Animation","AnimationStart"),transitionrun:bh("Transition","TransitionRun"),transitionstart:bh("Transition","TransitionStart"),transitioncancel:bh("Transition","TransitionCancel"),transitionend:bh("Transition","TransitionEnd")},xk={},O$={};Fl&&(O$=document.createElement("div").style,"AnimationEvent"in window||(delete Ip.animationend.animation,delete Ip.animationiteration.animation,delete Ip.animationstart.animation),"TransitionEvent"in window||delete Ip.transitionend.transition);function vh(p){if(xk[p])return xk[p];if(!Ip[p])return p;var y=Ip[p],S;for(S in y)if(y.hasOwnProperty(S)&&S in O$)return xk[p]=y[S];return p}var P$=vh("animationend"),I$=vh("animationiteration"),$$=vh("animationstart"),Aye=vh("transitionrun"),Dye=vh("transitionstart"),Mye=vh("transitioncancel"),z$=vh("transitionend"),L$=new Map,wk="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wk.push("scrollEnd");function us(p,y){L$.set(p,y),Ul(y,[p])}var U$=new WeakMap;function _a(p,y){if(typeof p=="object"&&p!==null){var S=U$.get(p);return S!==void 0?S:(y={value:p,source:y,stack:t$(y)},U$.set(p,y),y)}return{value:p,source:y,stack:t$(y)}}var Aa=[],$p=0,Sk=0;function tx(){for(var p=$p,y=Sk=$p=0;y<p;){var S=Aa[y];Aa[y++]=null;var C=Aa[y];Aa[y++]=null;var z=Aa[y];Aa[y++]=null;var U=Aa[y];if(Aa[y++]=null,C!==null&&z!==null){var ce=C.pending;ce===null?z.next=z:(z.next=ce.next,ce.next=z),C.pending=z}U!==0&&B$(S,z,U)}}function nx(p,y,S,C){Aa[$p++]=p,Aa[$p++]=y,Aa[$p++]=S,Aa[$p++]=C,Sk|=C,p.lanes|=C,p=p.alternate,p!==null&&(p.lanes|=C)}function kk(p,y,S,C){return nx(p,y,S,C),rx(p)}function zp(p,y){return nx(p,null,null,y),rx(p)}function B$(p,y,S){p.lanes|=S;var C=p.alternate;C!==null&&(C.lanes|=S);for(var z=!1,U=p.return;U!==null;)U.childLanes|=S,C=U.alternate,C!==null&&(C.childLanes|=S),U.tag===22&&(p=U.stateNode,p===null||p._visibility&1||(z=!0)),p=U,U=U.return;return p.tag===3?(U=p.stateNode,z&&y!==null&&(z=31-pt(S),p=U.hiddenUpdates,C=p[z],C===null?p[z]=[y]:C.push(y),y.lane=S|536870912),U):null}function rx(p){if(50<r1)throw r1=0,DT=null,Error(i(185));for(var y=p.return;y!==null;)p=y,y=p.return;return p.tag===3?p.stateNode:null}var Lp={};function Rye(p,y,S,C){this.tag=p,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Go(p,y,S,C){return new Rye(p,y,S,C)}function Tk(p){return p=p.prototype,!(!p||!p.isReactComponent)}function Hl(p,y){var S=p.alternate;return S===null?(S=Go(p.tag,y,p.key,p.mode),S.elementType=p.elementType,S.type=p.type,S.stateNode=p.stateNode,S.alternate=p,p.alternate=S):(S.pendingProps=y,S.type=p.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=p.flags&65011712,S.childLanes=p.childLanes,S.lanes=p.lanes,S.child=p.child,S.memoizedProps=p.memoizedProps,S.memoizedState=p.memoizedState,S.updateQueue=p.updateQueue,y=p.dependencies,S.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext},S.sibling=p.sibling,S.index=p.index,S.ref=p.ref,S.refCleanup=p.refCleanup,S}function j$(p,y){p.flags&=65011714;var S=p.alternate;return S===null?(p.childLanes=0,p.lanes=y,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=S.childLanes,p.lanes=S.lanes,p.child=S.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=S.memoizedProps,p.memoizedState=S.memoizedState,p.updateQueue=S.updateQueue,p.type=S.type,y=S.dependencies,p.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),p}function ix(p,y,S,C,z,U){var ce=0;if(C=p,typeof p=="function")Tk(p)&&(ce=1);else if(typeof p=="string")ce=Obe(p,S,re.current)?26:p==="html"||p==="head"||p==="body"?27:5;else e:switch(p){case O:return p=Go(31,S,y,z),p.elementType=O,p.lanes=U,p;case b:return xh(S.children,z,U,y);case g:ce=8,z|=24;break;case v:return p=Go(12,S,y,z|2),p.elementType=v,p.lanes=U,p;case _:return p=Go(13,S,y,z),p.elementType=_,p.lanes=U,p;case D:return p=Go(19,S,y,z),p.elementType=D,p.lanes=U,p;default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case x:case k:ce=10;break e;case w:ce=9;break e;case T:ce=11;break e;case I:ce=14;break e;case L:ce=16,C=null;break e}ce=29,S=Error(i(130,p===null?"null":typeof p,"")),C=null}return y=Go(ce,S,y,z),y.elementType=p,y.type=C,y.lanes=U,y}function xh(p,y,S,C){return p=Go(7,p,C,y),p.lanes=S,p}function Ek(p,y,S){return p=Go(6,p,null,y),p.lanes=S,p}function Ck(p,y,S){return y=Go(4,p.children!==null?p.children:[],p.key,y),y.lanes=S,y.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},y}var Up=[],Bp=0,ox=null,ax=0,Da=[],Ma=0,wh=null,Wl=1,Vl="";function Sh(p,y){Up[Bp++]=ax,Up[Bp++]=ox,ox=p,ax=y}function F$(p,y,S){Da[Ma++]=Wl,Da[Ma++]=Vl,Da[Ma++]=wh,wh=p;var C=Wl;p=Vl;var z=32-pt(C)-1;C&=~(1<<z),S+=1;var U=32-pt(y)+z;if(30<U){var ce=z-z%5;U=(C&(1<<ce)-1).toString(32),C>>=ce,z-=ce,Wl=1<<32-pt(y)+z|S<<z|C,Vl=U+p}else Wl=1<<U|S<<z|C,Vl=p}function _k(p){p.return!==null&&(Sh(p,1),F$(p,1,0))}function Ak(p){for(;p===ox;)ox=Up[--Bp],Up[Bp]=null,ax=Up[--Bp],Up[Bp]=null;for(;p===wh;)wh=Da[--Ma],Da[Ma]=null,Vl=Da[--Ma],Da[Ma]=null,Wl=Da[--Ma],Da[Ma]=null}var Zi=null,Ar=null,Pn=!1,kh=null,js=!1,Dk=Error(i(519));function Th(p){var y=Error(i(418,""));throw Ig(_a(y,p)),Dk}function H$(p){var y=p.stateNode,S=p.type,C=p.memoizedProps;switch(y[Bn]=p,y[lr]=C,S){case"dialog":yn("cancel",y),yn("close",y);break;case"iframe":case"object":case"embed":yn("load",y);break;case"video":case"audio":for(S=0;S<o1.length;S++)yn(o1[S],y);break;case"source":yn("error",y);break;case"img":case"image":case"link":yn("error",y),yn("load",y);break;case"details":yn("toggle",y);break;case"input":yn("invalid",y),i$(y,C.value,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name,!0),qv(y);break;case"select":yn("invalid",y);break;case"textarea":yn("invalid",y),a$(y,C.value,C.defaultValue,C.children),qv(y)}S=C.children,typeof S!="string"&&typeof S!="number"&&typeof S!="bigint"||y.textContent===""+S||C.suppressHydrationWarning===!0||aU(y.textContent,S)?(C.popover!=null&&(yn("beforetoggle",y),yn("toggle",y)),C.onScroll!=null&&yn("scroll",y),C.onScrollEnd!=null&&yn("scrollend",y),C.onClick!=null&&(y.onclick=Bx),y=!0):y=!1,y||Th(p)}function W$(p){for(Zi=p.return;Zi;)switch(Zi.tag){case 5:case 13:js=!1;return;case 27:case 3:js=!0;return;default:Zi=Zi.return}}function Og(p){if(p!==Zi)return!1;if(!Pn)return W$(p),Pn=!0,!1;var y=p.tag,S;if((S=y!==3&&y!==27)&&((S=y===5)&&(S=p.type,S=!(S!=="form"&&S!=="button")||VT(p.type,p.memoizedProps)),S=!S),S&&Ar&&Th(p),W$(p),y===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));e:{for(p=p.nextSibling,y=0;p;){if(p.nodeType===8)if(S=p.data,S==="/$"){if(y===0){Ar=hs(p.nextSibling);break e}y--}else S!=="$"&&S!=="$!"&&S!=="$?"||y++;p=p.nextSibling}Ar=null}}else y===27?(y=Ar,Au(p.type)?(p=XT,XT=null,Ar=p):Ar=y):Ar=Zi?hs(p.stateNode.nextSibling):null;return!0}function Pg(){Ar=Zi=null,Pn=!1}function V$(){var p=kh;return p!==null&&(wo===null?wo=p:wo.push.apply(wo,p),kh=null),p}function Ig(p){kh===null?kh=[p]:kh.push(p)}var Mk=X(null),Eh=null,ql=null;function fu(p,y,S){ae(Mk,y._currentValue),y._currentValue=S}function Gl(p){p._currentValue=Mk.current,j(Mk)}function Rk(p,y,S){for(;p!==null;){var C=p.alternate;if((p.childLanes&y)!==y?(p.childLanes|=y,C!==null&&(C.childLanes|=y)):C!==null&&(C.childLanes&y)!==y&&(C.childLanes|=y),p===S)break;p=p.return}}function Nk(p,y,S,C){var z=p.child;for(z!==null&&(z.return=p);z!==null;){var U=z.dependencies;if(U!==null){var ce=z.child;U=U.firstContext;e:for(;U!==null;){var we=U;U=z;for(var Re=0;Re<y.length;Re++)if(we.context===y[Re]){U.lanes|=S,we=U.alternate,we!==null&&(we.lanes|=S),Rk(U.return,S,p),C||(ce=null);break e}U=we.next}}else if(z.tag===18){if(ce=z.return,ce===null)throw Error(i(341));ce.lanes|=S,U=ce.alternate,U!==null&&(U.lanes|=S),Rk(ce,S,p),ce=null}else ce=z.child;if(ce!==null)ce.return=z;else for(ce=z;ce!==null;){if(ce===p){ce=null;break}if(z=ce.sibling,z!==null){z.return=ce.return,ce=z;break}ce=ce.return}z=ce}}function $g(p,y,S,C){p=null;for(var z=y,U=!1;z!==null;){if(!U){if((z.flags&524288)!==0)U=!0;else if((z.flags&262144)!==0)break}if(z.tag===10){var ce=z.alternate;if(ce===null)throw Error(i(387));if(ce=ce.memoizedProps,ce!==null){var we=z.type;qo(z.pendingProps.value,ce.value)||(p!==null?p.push(we):p=[we])}}else if(z===K.current){if(ce=z.alternate,ce===null)throw Error(i(387));ce.memoizedState.memoizedState!==z.memoizedState.memoizedState&&(p!==null?p.push(d1):p=[d1])}z=z.return}p!==null&&Nk(y,p,S,C),y.flags|=262144}function sx(p){for(p=p.firstContext;p!==null;){if(!qo(p.context._currentValue,p.memoizedValue))return!0;p=p.next}return!1}function Ch(p){Eh=p,ql=null,p=p.dependencies,p!==null&&(p.firstContext=null)}function Oi(p){return q$(Eh,p)}function lx(p,y){return Eh===null&&Ch(p),q$(p,y)}function q$(p,y){var S=y._currentValue;if(y={context:y,memoizedValue:S,next:null},ql===null){if(p===null)throw Error(i(308));ql=y,p.dependencies={lanes:0,firstContext:y},p.flags|=524288}else ql=ql.next=y;return S}var Nye=typeof AbortController<"u"?AbortController:function(){var p=[],y=this.signal={aborted:!1,addEventListener:function(S,C){p.push(C)}};this.abort=function(){y.aborted=!0,p.forEach(function(S){return S()})}},Oye=r.unstable_scheduleCallback,Pye=r.unstable_NormalPriority,Zr={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ok(){return{controller:new Nye,data:new Map,refCount:0}}function zg(p){p.refCount--,p.refCount===0&&Oye(Pye,function(){p.controller.abort()})}var Lg=null,Pk=0,jp=0,Fp=null;function Iye(p,y){if(Lg===null){var S=Lg=[];Pk=0,jp=$T(),Fp={status:"pending",value:void 0,then:function(C){S.push(C)}}}return Pk++,y.then(G$,G$),y}function G$(){if(--Pk===0&&Lg!==null){Fp!==null&&(Fp.status="fulfilled");var p=Lg;Lg=null,jp=0,Fp=null;for(var y=0;y<p.length;y++)(0,p[y])()}}function $ye(p,y){var S=[],C={status:"pending",value:null,reason:null,then:function(z){S.push(z)}};return p.then(function(){C.status="fulfilled",C.value=y;for(var z=0;z<S.length;z++)(0,S[z])(y)},function(z){for(C.status="rejected",C.reason=z,z=0;z<S.length;z++)(0,S[z])(void 0)}),C}var K$=H.S;H.S=function(p,y){typeof y=="object"&&y!==null&&typeof y.then=="function"&&Iye(p,y),K$!==null&&K$(p,y)};var _h=X(null);function Ik(){var p=_h.current;return p!==null?p:nr.pooledCache}function cx(p,y){y===null?ae(_h,_h.current):ae(_h,y.pool)}function X$(){var p=Ik();return p===null?null:{parent:Zr._currentValue,pool:p}}var Ug=Error(i(460)),Y$=Error(i(474)),ux=Error(i(542)),$k={then:function(){}};function Z$(p){return p=p.status,p==="fulfilled"||p==="rejected"}function dx(){}function J$(p,y,S){switch(S=p[S],S===void 0?p.push(y):S!==y&&(y.then(dx,dx),y=S),y.status){case"fulfilled":return y.value;case"rejected":throw p=y.reason,ez(p),p;default:if(typeof y.status=="string")y.then(dx,dx);else{if(p=nr,p!==null&&100<p.shellSuspendCounter)throw Error(i(482));p=y,p.status="pending",p.then(function(C){if(y.status==="pending"){var z=y;z.status="fulfilled",z.value=C}},function(C){if(y.status==="pending"){var z=y;z.status="rejected",z.reason=C}})}switch(y.status){case"fulfilled":return y.value;case"rejected":throw p=y.reason,ez(p),p}throw Bg=y,Ug}}var Bg=null;function Q$(){if(Bg===null)throw Error(i(459));var p=Bg;return Bg=null,p}function ez(p){if(p===Ug||p===ux)throw Error(i(483))}var pu=!1;function zk(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lk(p,y){p=p.updateQueue,y.updateQueue===p&&(y.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,callbacks:null})}function mu(p){return{lane:p,tag:0,payload:null,callback:null,next:null}}function gu(p,y,S){var C=p.updateQueue;if(C===null)return null;if(C=C.shared,(jn&2)!==0){var z=C.pending;return z===null?y.next=y:(y.next=z.next,z.next=y),C.pending=y,y=rx(p),B$(p,null,S),y}return nx(p,C,y,S),rx(p)}function jg(p,y,S){if(y=y.updateQueue,y!==null&&(y=y.shared,(S&4194048)!==0)){var C=y.lanes;C&=p.pendingLanes,S|=C,y.lanes=S,at(p,S)}}function Uk(p,y){var S=p.updateQueue,C=p.alternate;if(C!==null&&(C=C.updateQueue,S===C)){var z=null,U=null;if(S=S.firstBaseUpdate,S!==null){do{var ce={lane:S.lane,tag:S.tag,payload:S.payload,callback:null,next:null};U===null?z=U=ce:U=U.next=ce,S=S.next}while(S!==null);U===null?z=U=y:U=U.next=y}else z=U=y;S={baseState:C.baseState,firstBaseUpdate:z,lastBaseUpdate:U,shared:C.shared,callbacks:C.callbacks},p.updateQueue=S;return}p=S.lastBaseUpdate,p===null?S.firstBaseUpdate=y:p.next=y,S.lastBaseUpdate=y}var Bk=!1;function Fg(){if(Bk){var p=Fp;if(p!==null)throw p}}function Hg(p,y,S,C){Bk=!1;var z=p.updateQueue;pu=!1;var U=z.firstBaseUpdate,ce=z.lastBaseUpdate,we=z.shared.pending;if(we!==null){z.shared.pending=null;var Re=we,je=Re.next;Re.next=null,ce===null?U=je:ce.next=je,ce=Re;var Je=p.alternate;Je!==null&&(Je=Je.updateQueue,we=Je.lastBaseUpdate,we!==ce&&(we===null?Je.firstBaseUpdate=je:we.next=je,Je.lastBaseUpdate=Re))}if(U!==null){var tt=z.baseState;ce=0,Je=je=Re=null,we=U;do{var Ve=we.lane&-536870913,Ge=Ve!==we.lane;if(Ge?(Tn&Ve)===Ve:(C&Ve)===Ve){Ve!==0&&Ve===jp&&(Bk=!0),Je!==null&&(Je=Je.next={lane:0,tag:we.tag,payload:we.payload,callback:null,next:null});e:{var Zt=p,qt=we;Ve=y;var qn=S;switch(qt.tag){case 1:if(Zt=qt.payload,typeof Zt=="function"){tt=Zt.call(qn,tt,Ve);break e}tt=Zt;break e;case 3:Zt.flags=Zt.flags&-65537|128;case 0:if(Zt=qt.payload,Ve=typeof Zt=="function"?Zt.call(qn,tt,Ve):Zt,Ve==null)break e;tt=d({},tt,Ve);break e;case 2:pu=!0}}Ve=we.callback,Ve!==null&&(p.flags|=64,Ge&&(p.flags|=8192),Ge=z.callbacks,Ge===null?z.callbacks=[Ve]:Ge.push(Ve))}else Ge={lane:Ve,tag:we.tag,payload:we.payload,callback:we.callback,next:null},Je===null?(je=Je=Ge,Re=tt):Je=Je.next=Ge,ce|=Ve;if(we=we.next,we===null){if(we=z.shared.pending,we===null)break;Ge=we,we=Ge.next,Ge.next=null,z.lastBaseUpdate=Ge,z.shared.pending=null}}while(!0);Je===null&&(Re=tt),z.baseState=Re,z.firstBaseUpdate=je,z.lastBaseUpdate=Je,U===null&&(z.shared.lanes=0),Tu|=ce,p.lanes=ce,p.memoizedState=tt}}function tz(p,y){if(typeof p!="function")throw Error(i(191,p));p.call(y)}function nz(p,y){var S=p.callbacks;if(S!==null)for(p.callbacks=null,p=0;p<S.length;p++)tz(S[p],y)}var Hp=X(null),hx=X(0);function rz(p,y){p=ec,ae(hx,p),ae(Hp,y),ec=p|y.baseLanes}function jk(){ae(hx,ec),ae(Hp,Hp.current)}function Fk(){ec=hx.current,j(Hp),j(hx)}var yu=0,dn=null,Wn=null,Wr=null,fx=!1,Wp=!1,Ah=!1,px=0,Wg=0,Vp=null,zye=0;function $r(){throw Error(i(321))}function Hk(p,y){if(y===null)return!1;for(var S=0;S<y.length&&S<p.length;S++)if(!qo(p[S],y[S]))return!1;return!0}function Wk(p,y,S,C,z,U){return yu=U,dn=y,y.memoizedState=null,y.updateQueue=null,y.lanes=0,H.H=p===null||p.memoizedState===null?Bz:jz,Ah=!1,U=S(C,z),Ah=!1,Wp&&(U=oz(y,S,C,z)),iz(p),U}function iz(p){H.H=xx;var y=Wn!==null&&Wn.next!==null;if(yu=0,Wr=Wn=dn=null,fx=!1,Wg=0,Vp=null,y)throw Error(i(300));p===null||ii||(p=p.dependencies,p!==null&&sx(p)&&(ii=!0))}function oz(p,y,S,C){dn=p;var z=0;do{if(Wp&&(Vp=null),Wg=0,Wp=!1,25<=z)throw Error(i(301));if(z+=1,Wr=Wn=null,p.updateQueue!=null){var U=p.updateQueue;U.lastEffect=null,U.events=null,U.stores=null,U.memoCache!=null&&(U.memoCache.index=0)}H.H=Wye,U=y(S,C)}while(Wp);return U}function Lye(){var p=H.H,y=p.useState()[0];return y=typeof y.then=="function"?Vg(y):y,p=p.useState()[0],(Wn!==null?Wn.memoizedState:null)!==p&&(dn.flags|=1024),y}function Vk(){var p=px!==0;return px=0,p}function qk(p,y,S){y.updateQueue=p.updateQueue,y.flags&=-2053,p.lanes&=~S}function Gk(p){if(fx){for(p=p.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}fx=!1}yu=0,Wr=Wn=dn=null,Wp=!1,Wg=px=0,Vp=null}function vo(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wr===null?dn.memoizedState=Wr=p:Wr=Wr.next=p,Wr}function Vr(){if(Wn===null){var p=dn.alternate;p=p!==null?p.memoizedState:null}else p=Wn.next;var y=Wr===null?dn.memoizedState:Wr.next;if(y!==null)Wr=y,Wn=p;else{if(p===null)throw dn.alternate===null?Error(i(467)):Error(i(310));Wn=p,p={memoizedState:Wn.memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null},Wr===null?dn.memoizedState=Wr=p:Wr=Wr.next=p}return Wr}function Kk(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vg(p){var y=Wg;return Wg+=1,Vp===null&&(Vp=[]),p=J$(Vp,p,y),y=dn,(Wr===null?y.memoizedState:Wr.next)===null&&(y=y.alternate,H.H=y===null||y.memoizedState===null?Bz:jz),p}function mx(p){if(p!==null&&typeof p=="object"){if(typeof p.then=="function")return Vg(p);if(p.$$typeof===k)return Oi(p)}throw Error(i(438,String(p)))}function Xk(p){var y=null,S=dn.updateQueue;if(S!==null&&(y=S.memoCache),y==null){var C=dn.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(y={data:C.data.map(function(z){return z.slice()}),index:0})))}if(y==null&&(y={data:[],index:0}),S===null&&(S=Kk(),dn.updateQueue=S),S.memoCache=y,S=y.data[y.index],S===void 0)for(S=y.data[y.index]=Array(p),C=0;C<p;C++)S[C]=W;return y.index++,S}function Kl(p,y){return typeof y=="function"?y(p):y}function gx(p){var y=Vr();return Yk(y,Wn,p)}function Yk(p,y,S){var C=p.queue;if(C===null)throw Error(i(311));C.lastRenderedReducer=S;var z=p.baseQueue,U=C.pending;if(U!==null){if(z!==null){var ce=z.next;z.next=U.next,U.next=ce}y.baseQueue=z=U,C.pending=null}if(U=p.baseState,z===null)p.memoizedState=U;else{y=z.next;var we=ce=null,Re=null,je=y,Je=!1;do{var tt=je.lane&-536870913;if(tt!==je.lane?(Tn&tt)===tt:(yu&tt)===tt){var Ve=je.revertLane;if(Ve===0)Re!==null&&(Re=Re.next={lane:0,revertLane:0,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),tt===jp&&(Je=!0);else if((yu&Ve)===Ve){je=je.next,Ve===jp&&(Je=!0);continue}else tt={lane:0,revertLane:je.revertLane,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null},Re===null?(we=Re=tt,ce=U):Re=Re.next=tt,dn.lanes|=Ve,Tu|=Ve;tt=je.action,Ah&&S(U,tt),U=je.hasEagerState?je.eagerState:S(U,tt)}else Ve={lane:tt,revertLane:je.revertLane,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null},Re===null?(we=Re=Ve,ce=U):Re=Re.next=Ve,dn.lanes|=tt,Tu|=tt;je=je.next}while(je!==null&&je!==y);if(Re===null?ce=U:Re.next=we,!qo(U,p.memoizedState)&&(ii=!0,Je&&(S=Fp,S!==null)))throw S;p.memoizedState=U,p.baseState=ce,p.baseQueue=Re,C.lastRenderedState=U}return z===null&&(C.lanes=0),[p.memoizedState,C.dispatch]}function Zk(p){var y=Vr(),S=y.queue;if(S===null)throw Error(i(311));S.lastRenderedReducer=p;var C=S.dispatch,z=S.pending,U=y.memoizedState;if(z!==null){S.pending=null;var ce=z=z.next;do U=p(U,ce.action),ce=ce.next;while(ce!==z);qo(U,y.memoizedState)||(ii=!0),y.memoizedState=U,y.baseQueue===null&&(y.baseState=U),S.lastRenderedState=U}return[U,C]}function az(p,y,S){var C=dn,z=Vr(),U=Pn;if(U){if(S===void 0)throw Error(i(407));S=S()}else S=y();var ce=!qo((Wn||z).memoizedState,S);ce&&(z.memoizedState=S,ii=!0),z=z.queue;var we=cz.bind(null,C,z,p);if(qg(2048,8,we,[p]),z.getSnapshot!==y||ce||Wr!==null&&Wr.memoizedState.tag&1){if(C.flags|=2048,qp(9,yx(),lz.bind(null,C,z,S,y),null),nr===null)throw Error(i(349));U||(yu&124)!==0||sz(C,y,S)}return S}function sz(p,y,S){p.flags|=16384,p={getSnapshot:y,value:S},y=dn.updateQueue,y===null?(y=Kk(),dn.updateQueue=y,y.stores=[p]):(S=y.stores,S===null?y.stores=[p]:S.push(p))}function lz(p,y,S,C){y.value=S,y.getSnapshot=C,uz(y)&&dz(p)}function cz(p,y,S){return S(function(){uz(y)&&dz(p)})}function uz(p){var y=p.getSnapshot;p=p.value;try{var S=y();return!qo(p,S)}catch{return!0}}function dz(p){var y=zp(p,2);y!==null&&Jo(y,p,2)}function Jk(p){var y=vo();if(typeof p=="function"){var S=p;if(p=S(),Ah){Ke(!0);try{S()}finally{Ke(!1)}}}return y.memoizedState=y.baseState=p,y.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:p},y}function hz(p,y,S,C){return p.baseState=S,Yk(p,Wn,typeof C=="function"?C:Kl)}function Uye(p,y,S,C,z){if(vx(p))throw Error(i(485));if(p=y.action,p!==null){var U={payload:z,action:p,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ce){U.listeners.push(ce)}};H.T!==null?S(!0):U.isTransition=!1,C(U),S=y.pending,S===null?(U.next=y.pending=U,fz(y,U)):(U.next=S.next,y.pending=S.next=U)}}function fz(p,y){var S=y.action,C=y.payload,z=p.state;if(y.isTransition){var U=H.T,ce={};H.T=ce;try{var we=S(z,C),Re=H.S;Re!==null&&Re(ce,we),pz(p,y,we)}catch(je){Qk(p,y,je)}finally{H.T=U}}else try{U=S(z,C),pz(p,y,U)}catch(je){Qk(p,y,je)}}function pz(p,y,S){S!==null&&typeof S=="object"&&typeof S.then=="function"?S.then(function(C){mz(p,y,C)},function(C){return Qk(p,y,C)}):mz(p,y,S)}function mz(p,y,S){y.status="fulfilled",y.value=S,gz(y),p.state=S,y=p.pending,y!==null&&(S=y.next,S===y?p.pending=null:(S=S.next,y.next=S,fz(p,S)))}function Qk(p,y,S){var C=p.pending;if(p.pending=null,C!==null){C=C.next;do y.status="rejected",y.reason=S,gz(y),y=y.next;while(y!==C)}p.action=null}function gz(p){p=p.listeners;for(var y=0;y<p.length;y++)(0,p[y])()}function yz(p,y){return y}function bz(p,y){if(Pn){var S=nr.formState;if(S!==null){e:{var C=dn;if(Pn){if(Ar){t:{for(var z=Ar,U=js;z.nodeType!==8;){if(!U){z=null;break t}if(z=hs(z.nextSibling),z===null){z=null;break t}}U=z.data,z=U==="F!"||U==="F"?z:null}if(z){Ar=hs(z.nextSibling),C=z.data==="F!";break e}}Th(C)}C=!1}C&&(y=S[0])}}return S=vo(),S.memoizedState=S.baseState=y,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yz,lastRenderedState:y},S.queue=C,S=zz.bind(null,dn,C),C.dispatch=S,C=Jk(!1),U=iT.bind(null,dn,!1,C.queue),C=vo(),z={state:y,dispatch:null,action:p,pending:null},C.queue=z,S=Uye.bind(null,dn,z,U,S),z.dispatch=S,C.memoizedState=p,[y,S,!1]}function vz(p){var y=Vr();return xz(y,Wn,p)}function xz(p,y,S){if(y=Yk(p,y,yz)[0],p=gx(Kl)[0],typeof y=="object"&&y!==null&&typeof y.then=="function")try{var C=Vg(y)}catch(ce){throw ce===Ug?ux:ce}else C=y;y=Vr();var z=y.queue,U=z.dispatch;return S!==y.memoizedState&&(dn.flags|=2048,qp(9,yx(),Bye.bind(null,z,S),null)),[C,U,p]}function Bye(p,y){p.action=y}function wz(p){var y=Vr(),S=Wn;if(S!==null)return xz(y,S,p);Vr(),y=y.memoizedState,S=Vr();var C=S.queue.dispatch;return S.memoizedState=p,[y,C,!1]}function qp(p,y,S,C){return p={tag:p,create:S,deps:C,inst:y,next:null},y=dn.updateQueue,y===null&&(y=Kk(),dn.updateQueue=y),S=y.lastEffect,S===null?y.lastEffect=p.next=p:(C=S.next,S.next=p,p.next=C,y.lastEffect=p),p}function yx(){return{destroy:void 0,resource:void 0}}function Sz(){return Vr().memoizedState}function bx(p,y,S,C){var z=vo();C=C===void 0?null:C,dn.flags|=p,z.memoizedState=qp(1|y,yx(),S,C)}function qg(p,y,S,C){var z=Vr();C=C===void 0?null:C;var U=z.memoizedState.inst;Wn!==null&&C!==null&&Hk(C,Wn.memoizedState.deps)?z.memoizedState=qp(y,U,S,C):(dn.flags|=p,z.memoizedState=qp(1|y,U,S,C))}function kz(p,y){bx(8390656,8,p,y)}function Tz(p,y){qg(2048,8,p,y)}function Ez(p,y){return qg(4,2,p,y)}function Cz(p,y){return qg(4,4,p,y)}function _z(p,y){if(typeof y=="function"){p=p();var S=y(p);return function(){typeof S=="function"?S():y(null)}}if(y!=null)return p=p(),y.current=p,function(){y.current=null}}function Az(p,y,S){S=S!=null?S.concat([p]):null,qg(4,4,_z.bind(null,y,p),S)}function eT(){}function Dz(p,y){var S=Vr();y=y===void 0?null:y;var C=S.memoizedState;return y!==null&&Hk(y,C[1])?C[0]:(S.memoizedState=[p,y],p)}function Mz(p,y){var S=Vr();y=y===void 0?null:y;var C=S.memoizedState;if(y!==null&&Hk(y,C[1]))return C[0];if(C=p(),Ah){Ke(!0);try{p()}finally{Ke(!1)}}return S.memoizedState=[C,y],C}function tT(p,y,S){return S===void 0||(yu&1073741824)!==0?p.memoizedState=y:(p.memoizedState=S,p=OL(),dn.lanes|=p,Tu|=p,S)}function Rz(p,y,S,C){return qo(S,y)?S:Hp.current!==null?(p=tT(p,S,C),qo(p,y)||(ii=!0),p):(yu&42)===0?(ii=!0,p.memoizedState=S):(p=OL(),dn.lanes|=p,Tu|=p,y)}function Nz(p,y,S,C,z){var U=G.p;G.p=U!==0&&8>U?U:8;var ce=H.T,we={};H.T=we,iT(p,!1,y,S);try{var Re=z(),je=H.S;if(je!==null&&je(we,Re),Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var Je=$ye(Re,C);Gg(p,y,Je,Zo(p))}else Gg(p,y,C,Zo(p))}catch(tt){Gg(p,y,{then:function(){},status:"rejected",reason:tt},Zo())}finally{G.p=U,H.T=ce}}function jye(){}function nT(p,y,S,C){if(p.tag!==5)throw Error(i(476));var z=Oz(p).queue;Nz(p,z,y,ne,S===null?jye:function(){return Pz(p),S(C)})}function Oz(p){var y=p.memoizedState;if(y!==null)return y;y={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:ne},next:null};var S={};return y.next={memoizedState:S,baseState:S,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:S},next:null},p.memoizedState=y,p=p.alternate,p!==null&&(p.memoizedState=y),y}function Pz(p){var y=Oz(p).next.queue;Gg(p,y,{},Zo())}function rT(){return Oi(d1)}function Iz(){return Vr().memoizedState}function $z(){return Vr().memoizedState}function Fye(p){for(var y=p.return;y!==null;){switch(y.tag){case 24:case 3:var S=Zo();p=mu(S);var C=gu(y,p,S);C!==null&&(Jo(C,y,S),jg(C,y,S)),y={cache:Ok()},p.payload=y;return}y=y.return}}function Hye(p,y,S){var C=Zo();S={lane:C,revertLane:0,action:S,hasEagerState:!1,eagerState:null,next:null},vx(p)?Lz(y,S):(S=kk(p,y,S,C),S!==null&&(Jo(S,p,C),Uz(S,y,C)))}function zz(p,y,S){var C=Zo();Gg(p,y,S,C)}function Gg(p,y,S,C){var z={lane:C,revertLane:0,action:S,hasEagerState:!1,eagerState:null,next:null};if(vx(p))Lz(y,z);else{var U=p.alternate;if(p.lanes===0&&(U===null||U.lanes===0)&&(U=y.lastRenderedReducer,U!==null))try{var ce=y.lastRenderedState,we=U(ce,S);if(z.hasEagerState=!0,z.eagerState=we,qo(we,ce))return nx(p,y,z,0),nr===null&&tx(),!1}catch{}finally{}if(S=kk(p,y,z,C),S!==null)return Jo(S,p,C),Uz(S,y,C),!0}return!1}function iT(p,y,S,C){if(C={lane:2,revertLane:$T(),action:C,hasEagerState:!1,eagerState:null,next:null},vx(p)){if(y)throw Error(i(479))}else y=kk(p,S,C,2),y!==null&&Jo(y,p,2)}function vx(p){var y=p.alternate;return p===dn||y!==null&&y===dn}function Lz(p,y){Wp=fx=!0;var S=p.pending;S===null?y.next=y:(y.next=S.next,S.next=y),p.pending=y}function Uz(p,y,S){if((S&4194048)!==0){var C=y.lanes;C&=p.pendingLanes,S|=C,y.lanes=S,at(p,S)}}var xx={readContext:Oi,use:mx,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useLayoutEffect:$r,useInsertionEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r,useDeferredValue:$r,useTransition:$r,useSyncExternalStore:$r,useId:$r,useHostTransitionStatus:$r,useFormState:$r,useActionState:$r,useOptimistic:$r,useMemoCache:$r,useCacheRefresh:$r},Bz={readContext:Oi,use:mx,useCallback:function(p,y){return vo().memoizedState=[p,y===void 0?null:y],p},useContext:Oi,useEffect:kz,useImperativeHandle:function(p,y,S){S=S!=null?S.concat([p]):null,bx(4194308,4,_z.bind(null,y,p),S)},useLayoutEffect:function(p,y){return bx(4194308,4,p,y)},useInsertionEffect:function(p,y){bx(4,2,p,y)},useMemo:function(p,y){var S=vo();y=y===void 0?null:y;var C=p();if(Ah){Ke(!0);try{p()}finally{Ke(!1)}}return S.memoizedState=[C,y],C},useReducer:function(p,y,S){var C=vo();if(S!==void 0){var z=S(y);if(Ah){Ke(!0);try{S(y)}finally{Ke(!1)}}}else z=y;return C.memoizedState=C.baseState=z,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:z},C.queue=p,p=p.dispatch=Hye.bind(null,dn,p),[C.memoizedState,p]},useRef:function(p){var y=vo();return p={current:p},y.memoizedState=p},useState:function(p){p=Jk(p);var y=p.queue,S=zz.bind(null,dn,y);return y.dispatch=S,[p.memoizedState,S]},useDebugValue:eT,useDeferredValue:function(p,y){var S=vo();return tT(S,p,y)},useTransition:function(){var p=Jk(!1);return p=Nz.bind(null,dn,p.queue,!0,!1),vo().memoizedState=p,[!1,p]},useSyncExternalStore:function(p,y,S){var C=dn,z=vo();if(Pn){if(S===void 0)throw Error(i(407));S=S()}else{if(S=y(),nr===null)throw Error(i(349));(Tn&124)!==0||sz(C,y,S)}z.memoizedState=S;var U={value:S,getSnapshot:y};return z.queue=U,kz(cz.bind(null,C,U,p),[p]),C.flags|=2048,qp(9,yx(),lz.bind(null,C,U,S,y),null),S},useId:function(){var p=vo(),y=nr.identifierPrefix;if(Pn){var S=Vl,C=Wl;S=(C&~(1<<32-pt(C)-1)).toString(32)+S,y=""+y+"R"+S,S=px++,0<S&&(y+="H"+S.toString(32)),y+=""}else S=zye++,y=""+y+"r"+S.toString(32)+"";return p.memoizedState=y},useHostTransitionStatus:rT,useFormState:bz,useActionState:bz,useOptimistic:function(p){var y=vo();y.memoizedState=y.baseState=p;var S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return y.queue=S,y=iT.bind(null,dn,!0,S),S.dispatch=y,[p,y]},useMemoCache:Xk,useCacheRefresh:function(){return vo().memoizedState=Fye.bind(null,dn)}},jz={readContext:Oi,use:mx,useCallback:Dz,useContext:Oi,useEffect:Tz,useImperativeHandle:Az,useInsertionEffect:Ez,useLayoutEffect:Cz,useMemo:Mz,useReducer:gx,useRef:Sz,useState:function(){return gx(Kl)},useDebugValue:eT,useDeferredValue:function(p,y){var S=Vr();return Rz(S,Wn.memoizedState,p,y)},useTransition:function(){var p=gx(Kl)[0],y=Vr().memoizedState;return[typeof p=="boolean"?p:Vg(p),y]},useSyncExternalStore:az,useId:Iz,useHostTransitionStatus:rT,useFormState:vz,useActionState:vz,useOptimistic:function(p,y){var S=Vr();return hz(S,Wn,p,y)},useMemoCache:Xk,useCacheRefresh:$z},Wye={readContext:Oi,use:mx,useCallback:Dz,useContext:Oi,useEffect:Tz,useImperativeHandle:Az,useInsertionEffect:Ez,useLayoutEffect:Cz,useMemo:Mz,useReducer:Zk,useRef:Sz,useState:function(){return Zk(Kl)},useDebugValue:eT,useDeferredValue:function(p,y){var S=Vr();return Wn===null?tT(S,p,y):Rz(S,Wn.memoizedState,p,y)},useTransition:function(){var p=Zk(Kl)[0],y=Vr().memoizedState;return[typeof p=="boolean"?p:Vg(p),y]},useSyncExternalStore:az,useId:Iz,useHostTransitionStatus:rT,useFormState:wz,useActionState:wz,useOptimistic:function(p,y){var S=Vr();return Wn!==null?hz(S,Wn,p,y):(S.baseState=p,[p,S.queue.dispatch])},useMemoCache:Xk,useCacheRefresh:$z},Gp=null,Kg=0;function wx(p){var y=Kg;return Kg+=1,Gp===null&&(Gp=[]),J$(Gp,p,y)}function Xg(p,y){y=y.props.ref,p.ref=y!==void 0?y:null}function Sx(p,y){throw y.$$typeof===h?Error(i(525)):(p=Object.prototype.toString.call(y),Error(i(31,p==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":p)))}function Fz(p){var y=p._init;return y(p._payload)}function Hz(p){function y(ze,Oe){if(p){var Be=ze.deletions;Be===null?(ze.deletions=[Oe],ze.flags|=16):Be.push(Oe)}}function S(ze,Oe){if(!p)return null;for(;Oe!==null;)y(ze,Oe),Oe=Oe.sibling;return null}function C(ze){for(var Oe=new Map;ze!==null;)ze.key!==null?Oe.set(ze.key,ze):Oe.set(ze.index,ze),ze=ze.sibling;return Oe}function z(ze,Oe){return ze=Hl(ze,Oe),ze.index=0,ze.sibling=null,ze}function U(ze,Oe,Be){return ze.index=Be,p?(Be=ze.alternate,Be!==null?(Be=Be.index,Be<Oe?(ze.flags|=67108866,Oe):Be):(ze.flags|=67108866,Oe)):(ze.flags|=1048576,Oe)}function ce(ze){return p&&ze.alternate===null&&(ze.flags|=67108866),ze}function we(ze,Oe,Be,et){return Oe===null||Oe.tag!==6?(Oe=Ek(Be,ze.mode,et),Oe.return=ze,Oe):(Oe=z(Oe,Be),Oe.return=ze,Oe)}function Re(ze,Oe,Be,et){var At=Be.type;return At===b?Je(ze,Oe,Be.props.children,et,Be.key):Oe!==null&&(Oe.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===L&&Fz(At)===Oe.type)?(Oe=z(Oe,Be.props),Xg(Oe,Be),Oe.return=ze,Oe):(Oe=ix(Be.type,Be.key,Be.props,null,ze.mode,et),Xg(Oe,Be),Oe.return=ze,Oe)}function je(ze,Oe,Be,et){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==Be.containerInfo||Oe.stateNode.implementation!==Be.implementation?(Oe=Ck(Be,ze.mode,et),Oe.return=ze,Oe):(Oe=z(Oe,Be.children||[]),Oe.return=ze,Oe)}function Je(ze,Oe,Be,et,At){return Oe===null||Oe.tag!==7?(Oe=xh(Be,ze.mode,et,At),Oe.return=ze,Oe):(Oe=z(Oe,Be),Oe.return=ze,Oe)}function tt(ze,Oe,Be){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Oe=Ek(""+Oe,ze.mode,Be),Oe.return=ze,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case f:return Be=ix(Oe.type,Oe.key,Oe.props,null,ze.mode,Be),Xg(Be,Oe),Be.return=ze,Be;case m:return Oe=Ck(Oe,ze.mode,Be),Oe.return=ze,Oe;case L:var et=Oe._init;return Oe=et(Oe._payload),tt(ze,Oe,Be)}if(Q(Oe)||$(Oe))return Oe=xh(Oe,ze.mode,Be,null),Oe.return=ze,Oe;if(typeof Oe.then=="function")return tt(ze,wx(Oe),Be);if(Oe.$$typeof===k)return tt(ze,lx(ze,Oe),Be);Sx(ze,Oe)}return null}function Ve(ze,Oe,Be,et){var At=Oe!==null?Oe.key:null;if(typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint")return At!==null?null:we(ze,Oe,""+Be,et);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case f:return Be.key===At?Re(ze,Oe,Be,et):null;case m:return Be.key===At?je(ze,Oe,Be,et):null;case L:return At=Be._init,Be=At(Be._payload),Ve(ze,Oe,Be,et)}if(Q(Be)||$(Be))return At!==null?null:Je(ze,Oe,Be,et,null);if(typeof Be.then=="function")return Ve(ze,Oe,wx(Be),et);if(Be.$$typeof===k)return Ve(ze,Oe,lx(ze,Be),et);Sx(ze,Be)}return null}function Ge(ze,Oe,Be,et,At){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return ze=ze.get(Be)||null,we(Oe,ze,""+et,At);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case f:return ze=ze.get(et.key===null?Be:et.key)||null,Re(Oe,ze,et,At);case m:return ze=ze.get(et.key===null?Be:et.key)||null,je(Oe,ze,et,At);case L:var mn=et._init;return et=mn(et._payload),Ge(ze,Oe,Be,et,At)}if(Q(et)||$(et))return ze=ze.get(Be)||null,Je(Oe,ze,et,At,null);if(typeof et.then=="function")return Ge(ze,Oe,Be,wx(et),At);if(et.$$typeof===k)return Ge(ze,Oe,Be,lx(Oe,et),At);Sx(Oe,et)}return null}function Zt(ze,Oe,Be,et){for(var At=null,mn=null,It=Oe,Kt=Oe=0,ai=null;It!==null&&Kt<Be.length;Kt++){It.index>Kt?(ai=It,It=null):ai=It.sibling;var Rn=Ve(ze,It,Be[Kt],et);if(Rn===null){It===null&&(It=ai);break}p&&It&&Rn.alternate===null&&y(ze,It),Oe=U(Rn,Oe,Kt),mn===null?At=Rn:mn.sibling=Rn,mn=Rn,It=ai}if(Kt===Be.length)return S(ze,It),Pn&&Sh(ze,Kt),At;if(It===null){for(;Kt<Be.length;Kt++)It=tt(ze,Be[Kt],et),It!==null&&(Oe=U(It,Oe,Kt),mn===null?At=It:mn.sibling=It,mn=It);return Pn&&Sh(ze,Kt),At}for(It=C(It);Kt<Be.length;Kt++)ai=Ge(It,ze,Kt,Be[Kt],et),ai!==null&&(p&&ai.alternate!==null&&It.delete(ai.key===null?Kt:ai.key),Oe=U(ai,Oe,Kt),mn===null?At=ai:mn.sibling=ai,mn=ai);return p&&It.forEach(function(Ou){return y(ze,Ou)}),Pn&&Sh(ze,Kt),At}function qt(ze,Oe,Be,et){if(Be==null)throw Error(i(151));for(var At=null,mn=null,It=Oe,Kt=Oe=0,ai=null,Rn=Be.next();It!==null&&!Rn.done;Kt++,Rn=Be.next()){It.index>Kt?(ai=It,It=null):ai=It.sibling;var Ou=Ve(ze,It,Rn.value,et);if(Ou===null){It===null&&(It=ai);break}p&&It&&Ou.alternate===null&&y(ze,It),Oe=U(Ou,Oe,Kt),mn===null?At=Ou:mn.sibling=Ou,mn=Ou,It=ai}if(Rn.done)return S(ze,It),Pn&&Sh(ze,Kt),At;if(It===null){for(;!Rn.done;Kt++,Rn=Be.next())Rn=tt(ze,Rn.value,et),Rn!==null&&(Oe=U(Rn,Oe,Kt),mn===null?At=Rn:mn.sibling=Rn,mn=Rn);return Pn&&Sh(ze,Kt),At}for(It=C(It);!Rn.done;Kt++,Rn=Be.next())Rn=Ge(It,ze,Kt,Rn.value,et),Rn!==null&&(p&&Rn.alternate!==null&&It.delete(Rn.key===null?Kt:Rn.key),Oe=U(Rn,Oe,Kt),mn===null?At=Rn:mn.sibling=Rn,mn=Rn);return p&&It.forEach(function(Vbe){return y(ze,Vbe)}),Pn&&Sh(ze,Kt),At}function qn(ze,Oe,Be,et){if(typeof Be=="object"&&Be!==null&&Be.type===b&&Be.key===null&&(Be=Be.props.children),typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case f:e:{for(var At=Be.key;Oe!==null;){if(Oe.key===At){if(At=Be.type,At===b){if(Oe.tag===7){S(ze,Oe.sibling),et=z(Oe,Be.props.children),et.return=ze,ze=et;break e}}else if(Oe.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===L&&Fz(At)===Oe.type){S(ze,Oe.sibling),et=z(Oe,Be.props),Xg(et,Be),et.return=ze,ze=et;break e}S(ze,Oe);break}else y(ze,Oe);Oe=Oe.sibling}Be.type===b?(et=xh(Be.props.children,ze.mode,et,Be.key),et.return=ze,ze=et):(et=ix(Be.type,Be.key,Be.props,null,ze.mode,et),Xg(et,Be),et.return=ze,ze=et)}return ce(ze);case m:e:{for(At=Be.key;Oe!==null;){if(Oe.key===At)if(Oe.tag===4&&Oe.stateNode.containerInfo===Be.containerInfo&&Oe.stateNode.implementation===Be.implementation){S(ze,Oe.sibling),et=z(Oe,Be.children||[]),et.return=ze,ze=et;break e}else{S(ze,Oe);break}else y(ze,Oe);Oe=Oe.sibling}et=Ck(Be,ze.mode,et),et.return=ze,ze=et}return ce(ze);case L:return At=Be._init,Be=At(Be._payload),qn(ze,Oe,Be,et)}if(Q(Be))return Zt(ze,Oe,Be,et);if($(Be)){if(At=$(Be),typeof At!="function")throw Error(i(150));return Be=At.call(Be),qt(ze,Oe,Be,et)}if(typeof Be.then=="function")return qn(ze,Oe,wx(Be),et);if(Be.$$typeof===k)return qn(ze,Oe,lx(ze,Be),et);Sx(ze,Be)}return typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint"?(Be=""+Be,Oe!==null&&Oe.tag===6?(S(ze,Oe.sibling),et=z(Oe,Be),et.return=ze,ze=et):(S(ze,Oe),et=Ek(Be,ze.mode,et),et.return=ze,ze=et),ce(ze)):S(ze,Oe)}return function(ze,Oe,Be,et){try{Kg=0;var At=qn(ze,Oe,Be,et);return Gp=null,At}catch(It){if(It===Ug||It===ux)throw It;var mn=Go(29,It,null,ze.mode);return mn.lanes=et,mn.return=ze,mn}finally{}}}var Kp=Hz(!0),Wz=Hz(!1),Ra=X(null),Fs=null;function bu(p){var y=p.alternate;ae(Jr,Jr.current&1),ae(Ra,p),Fs===null&&(y===null||Hp.current!==null||y.memoizedState!==null)&&(Fs=p)}function Vz(p){if(p.tag===22){if(ae(Jr,Jr.current),ae(Ra,p),Fs===null){var y=p.alternate;y!==null&&y.memoizedState!==null&&(Fs=p)}}else vu()}function vu(){ae(Jr,Jr.current),ae(Ra,Ra.current)}function Xl(p){j(Ra),Fs===p&&(Fs=null),j(Jr)}var Jr=X(0);function kx(p){for(var y=p;y!==null;){if(y.tag===13){var S=y.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||S.data==="$?"||KT(S)))return y}else if(y.tag===19&&y.memoizedProps.revealOrder!==void 0){if((y.flags&128)!==0)return y}else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===p)break;for(;y.sibling===null;){if(y.return===null||y.return===p)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}return null}function oT(p,y,S,C){y=p.memoizedState,S=S(C,y),S=S==null?y:d({},y,S),p.memoizedState=S,p.lanes===0&&(p.updateQueue.baseState=S)}var aT={enqueueSetState:function(p,y,S){p=p._reactInternals;var C=Zo(),z=mu(C);z.payload=y,S!=null&&(z.callback=S),y=gu(p,z,C),y!==null&&(Jo(y,p,C),jg(y,p,C))},enqueueReplaceState:function(p,y,S){p=p._reactInternals;var C=Zo(),z=mu(C);z.tag=1,z.payload=y,S!=null&&(z.callback=S),y=gu(p,z,C),y!==null&&(Jo(y,p,C),jg(y,p,C))},enqueueForceUpdate:function(p,y){p=p._reactInternals;var S=Zo(),C=mu(S);C.tag=2,y!=null&&(C.callback=y),y=gu(p,C,S),y!==null&&(Jo(y,p,S),jg(y,p,S))}};function qz(p,y,S,C,z,U,ce){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(C,U,ce):y.prototype&&y.prototype.isPureReactComponent?!Rg(S,C)||!Rg(z,U):!0}function Gz(p,y,S,C){p=y.state,typeof y.componentWillReceiveProps=="function"&&y.componentWillReceiveProps(S,C),typeof y.UNSAFE_componentWillReceiveProps=="function"&&y.UNSAFE_componentWillReceiveProps(S,C),y.state!==p&&aT.enqueueReplaceState(y,y.state,null)}function Dh(p,y){var S=y;if("ref"in y){S={};for(var C in y)C!=="ref"&&(S[C]=y[C])}if(p=p.defaultProps){S===y&&(S=d({},S));for(var z in p)S[z]===void 0&&(S[z]=p[z])}return S}var Tx=typeof reportError=="function"?reportError:function(p){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof p=="object"&&p!==null&&typeof p.message=="string"?String(p.message):String(p),error:p});if(!window.dispatchEvent(y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",p);return}console.error(p)};function Kz(p){Tx(p)}function Xz(p){console.error(p)}function Yz(p){Tx(p)}function Ex(p,y){try{var S=p.onUncaughtError;S(y.value,{componentStack:y.stack})}catch(C){setTimeout(function(){throw C})}}function Zz(p,y,S){try{var C=p.onCaughtError;C(S.value,{componentStack:S.stack,errorBoundary:y.tag===1?y.stateNode:null})}catch(z){setTimeout(function(){throw z})}}function sT(p,y,S){return S=mu(S),S.tag=3,S.payload={element:null},S.callback=function(){Ex(p,y)},S}function Jz(p){return p=mu(p),p.tag=3,p}function Qz(p,y,S,C){var z=S.type.getDerivedStateFromError;if(typeof z=="function"){var U=C.value;p.payload=function(){return z(U)},p.callback=function(){Zz(y,S,C)}}var ce=S.stateNode;ce!==null&&typeof ce.componentDidCatch=="function"&&(p.callback=function(){Zz(y,S,C),typeof z!="function"&&(Eu===null?Eu=new Set([this]):Eu.add(this));var we=C.stack;this.componentDidCatch(C.value,{componentStack:we!==null?we:""})})}function Vye(p,y,S,C,z){if(S.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(y=S.alternate,y!==null&&$g(y,S,z,!0),S=Ra.current,S!==null){switch(S.tag){case 13:return Fs===null?RT():S.alternate===null&&Dr===0&&(Dr=3),S.flags&=-257,S.flags|=65536,S.lanes=z,C===$k?S.flags|=16384:(y=S.updateQueue,y===null?S.updateQueue=new Set([C]):y.add(C),OT(p,C,z)),!1;case 22:return S.flags|=65536,C===$k?S.flags|=16384:(y=S.updateQueue,y===null?(y={transitions:null,markerInstances:null,retryQueue:new Set([C])},S.updateQueue=y):(S=y.retryQueue,S===null?y.retryQueue=new Set([C]):S.add(C)),OT(p,C,z)),!1}throw Error(i(435,S.tag))}return OT(p,C,z),RT(),!1}if(Pn)return y=Ra.current,y!==null?((y.flags&65536)===0&&(y.flags|=256),y.flags|=65536,y.lanes=z,C!==Dk&&(p=Error(i(422),{cause:C}),Ig(_a(p,S)))):(C!==Dk&&(y=Error(i(423),{cause:C}),Ig(_a(y,S))),p=p.current.alternate,p.flags|=65536,z&=-z,p.lanes|=z,C=_a(C,S),z=sT(p.stateNode,C,z),Uk(p,z),Dr!==4&&(Dr=2)),!1;var U=Error(i(520),{cause:C});if(U=_a(U,S),n1===null?n1=[U]:n1.push(U),Dr!==4&&(Dr=2),y===null)return!0;C=_a(C,S),S=y;do{switch(S.tag){case 3:return S.flags|=65536,p=z&-z,S.lanes|=p,p=sT(S.stateNode,C,p),Uk(S,p),!1;case 1:if(y=S.type,U=S.stateNode,(S.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Eu===null||!Eu.has(U))))return S.flags|=65536,z&=-z,S.lanes|=z,z=Jz(z),Qz(z,p,S,C),Uk(S,z),!1}S=S.return}while(S!==null);return!1}var eL=Error(i(461)),ii=!1;function mi(p,y,S,C){y.child=p===null?Wz(y,null,S,C):Kp(y,p.child,S,C)}function tL(p,y,S,C,z){S=S.render;var U=y.ref;if("ref"in C){var ce={};for(var we in C)we!=="ref"&&(ce[we]=C[we])}else ce=C;return Ch(y),C=Wk(p,y,S,ce,U,z),we=Vk(),p!==null&&!ii?(qk(p,y,z),Yl(p,y,z)):(Pn&&we&&_k(y),y.flags|=1,mi(p,y,C,z),y.child)}function nL(p,y,S,C,z){if(p===null){var U=S.type;return typeof U=="function"&&!Tk(U)&&U.defaultProps===void 0&&S.compare===null?(y.tag=15,y.type=U,rL(p,y,U,C,z)):(p=ix(S.type,null,C,y,y.mode,z),p.ref=y.ref,p.return=y,y.child=p)}if(U=p.child,!mT(p,z)){var ce=U.memoizedProps;if(S=S.compare,S=S!==null?S:Rg,S(ce,C)&&p.ref===y.ref)return Yl(p,y,z)}return y.flags|=1,p=Hl(U,C),p.ref=y.ref,p.return=y,y.child=p}function rL(p,y,S,C,z){if(p!==null){var U=p.memoizedProps;if(Rg(U,C)&&p.ref===y.ref)if(ii=!1,y.pendingProps=C=U,mT(p,z))(p.flags&131072)!==0&&(ii=!0);else return y.lanes=p.lanes,Yl(p,y,z)}return lT(p,y,S,C,z)}function iL(p,y,S){var C=y.pendingProps,z=C.children,U=p!==null?p.memoizedState:null;if(C.mode==="hidden"){if((y.flags&128)!==0){if(C=U!==null?U.baseLanes|S:S,p!==null){for(z=y.child=p.child,U=0;z!==null;)U=U|z.lanes|z.childLanes,z=z.sibling;y.childLanes=U&~C}else y.childLanes=0,y.child=null;return oL(p,y,C,S)}if((S&536870912)!==0)y.memoizedState={baseLanes:0,cachePool:null},p!==null&&cx(y,U!==null?U.cachePool:null),U!==null?rz(y,U):jk(),Vz(y);else return y.lanes=y.childLanes=536870912,oL(p,y,U!==null?U.baseLanes|S:S,S)}else U!==null?(cx(y,U.cachePool),rz(y,U),vu(),y.memoizedState=null):(p!==null&&cx(y,null),jk(),vu());return mi(p,y,z,S),y.child}function oL(p,y,S,C){var z=Ik();return z=z===null?null:{parent:Zr._currentValue,pool:z},y.memoizedState={baseLanes:S,cachePool:z},p!==null&&cx(y,null),jk(),Vz(y),p!==null&&$g(p,y,C,!0),null}function Cx(p,y){var S=y.ref;if(S===null)p!==null&&p.ref!==null&&(y.flags|=4194816);else{if(typeof S!="function"&&typeof S!="object")throw Error(i(284));(p===null||p.ref!==S)&&(y.flags|=4194816)}}function lT(p,y,S,C,z){return Ch(y),S=Wk(p,y,S,C,void 0,z),C=Vk(),p!==null&&!ii?(qk(p,y,z),Yl(p,y,z)):(Pn&&C&&_k(y),y.flags|=1,mi(p,y,S,z),y.child)}function aL(p,y,S,C,z,U){return Ch(y),y.updateQueue=null,S=oz(y,C,S,z),iz(p),C=Vk(),p!==null&&!ii?(qk(p,y,U),Yl(p,y,U)):(Pn&&C&&_k(y),y.flags|=1,mi(p,y,S,U),y.child)}function sL(p,y,S,C,z){if(Ch(y),y.stateNode===null){var U=Lp,ce=S.contextType;typeof ce=="object"&&ce!==null&&(U=Oi(ce)),U=new S(C,U),y.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,U.updater=aT,y.stateNode=U,U._reactInternals=y,U=y.stateNode,U.props=C,U.state=y.memoizedState,U.refs={},zk(y),ce=S.contextType,U.context=typeof ce=="object"&&ce!==null?Oi(ce):Lp,U.state=y.memoizedState,ce=S.getDerivedStateFromProps,typeof ce=="function"&&(oT(y,S,ce,C),U.state=y.memoizedState),typeof S.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(ce=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),ce!==U.state&&aT.enqueueReplaceState(U,U.state,null),Hg(y,C,U,z),Fg(),U.state=y.memoizedState),typeof U.componentDidMount=="function"&&(y.flags|=4194308),C=!0}else if(p===null){U=y.stateNode;var we=y.memoizedProps,Re=Dh(S,we);U.props=Re;var je=U.context,Je=S.contextType;ce=Lp,typeof Je=="object"&&Je!==null&&(ce=Oi(Je));var tt=S.getDerivedStateFromProps;Je=typeof tt=="function"||typeof U.getSnapshotBeforeUpdate=="function",we=y.pendingProps!==we,Je||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(we||je!==ce)&&Gz(y,U,C,ce),pu=!1;var Ve=y.memoizedState;U.state=Ve,Hg(y,C,U,z),Fg(),je=y.memoizedState,we||Ve!==je||pu?(typeof tt=="function"&&(oT(y,S,tt,C),je=y.memoizedState),(Re=pu||qz(y,S,Re,C,Ve,je,ce))?(Je||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(y.flags|=4194308)):(typeof U.componentDidMount=="function"&&(y.flags|=4194308),y.memoizedProps=C,y.memoizedState=je),U.props=C,U.state=je,U.context=ce,C=Re):(typeof U.componentDidMount=="function"&&(y.flags|=4194308),C=!1)}else{U=y.stateNode,Lk(p,y),ce=y.memoizedProps,Je=Dh(S,ce),U.props=Je,tt=y.pendingProps,Ve=U.context,je=S.contextType,Re=Lp,typeof je=="object"&&je!==null&&(Re=Oi(je)),we=S.getDerivedStateFromProps,(je=typeof we=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(ce!==tt||Ve!==Re)&&Gz(y,U,C,Re),pu=!1,Ve=y.memoizedState,U.state=Ve,Hg(y,C,U,z),Fg();var Ge=y.memoizedState;ce!==tt||Ve!==Ge||pu||p!==null&&p.dependencies!==null&&sx(p.dependencies)?(typeof we=="function"&&(oT(y,S,we,C),Ge=y.memoizedState),(Je=pu||qz(y,S,Je,C,Ve,Ge,Re)||p!==null&&p.dependencies!==null&&sx(p.dependencies))?(je||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(C,Ge,Re),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(C,Ge,Re)),typeof U.componentDidUpdate=="function"&&(y.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(y.flags|=1024)):(typeof U.componentDidUpdate!="function"||ce===p.memoizedProps&&Ve===p.memoizedState||(y.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||ce===p.memoizedProps&&Ve===p.memoizedState||(y.flags|=1024),y.memoizedProps=C,y.memoizedState=Ge),U.props=C,U.state=Ge,U.context=Re,C=Je):(typeof U.componentDidUpdate!="function"||ce===p.memoizedProps&&Ve===p.memoizedState||(y.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||ce===p.memoizedProps&&Ve===p.memoizedState||(y.flags|=1024),C=!1)}return U=C,Cx(p,y),C=(y.flags&128)!==0,U||C?(U=y.stateNode,S=C&&typeof S.getDerivedStateFromError!="function"?null:U.render(),y.flags|=1,p!==null&&C?(y.child=Kp(y,p.child,null,z),y.child=Kp(y,null,S,z)):mi(p,y,S,z),y.memoizedState=U.state,p=y.child):p=Yl(p,y,z),p}function lL(p,y,S,C){return Pg(),y.flags|=256,mi(p,y,S,C),y.child}var cT={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uT(p){return{baseLanes:p,cachePool:X$()}}function dT(p,y,S){return p=p!==null?p.childLanes&~S:0,y&&(p|=Na),p}function cL(p,y,S){var C=y.pendingProps,z=!1,U=(y.flags&128)!==0,ce;if((ce=U)||(ce=p!==null&&p.memoizedState===null?!1:(Jr.current&2)!==0),ce&&(z=!0,y.flags&=-129),ce=(y.flags&32)!==0,y.flags&=-33,p===null){if(Pn){if(z?bu(y):vu(),Pn){var we=Ar,Re;if(Re=we){e:{for(Re=we,we=js;Re.nodeType!==8;){if(!we){we=null;break e}if(Re=hs(Re.nextSibling),Re===null){we=null;break e}}we=Re}we!==null?(y.memoizedState={dehydrated:we,treeContext:wh!==null?{id:Wl,overflow:Vl}:null,retryLane:536870912,hydrationErrors:null},Re=Go(18,null,null,0),Re.stateNode=we,Re.return=y,y.child=Re,Zi=y,Ar=null,Re=!0):Re=!1}Re||Th(y)}if(we=y.memoizedState,we!==null&&(we=we.dehydrated,we!==null))return KT(we)?y.lanes=32:y.lanes=536870912,null;Xl(y)}return we=C.children,C=C.fallback,z?(vu(),z=y.mode,we=_x({mode:"hidden",children:we},z),C=xh(C,z,S,null),we.return=y,C.return=y,we.sibling=C,y.child=we,z=y.child,z.memoizedState=uT(S),z.childLanes=dT(p,ce,S),y.memoizedState=cT,C):(bu(y),hT(y,we))}if(Re=p.memoizedState,Re!==null&&(we=Re.dehydrated,we!==null)){if(U)y.flags&256?(bu(y),y.flags&=-257,y=fT(p,y,S)):y.memoizedState!==null?(vu(),y.child=p.child,y.flags|=128,y=null):(vu(),z=C.fallback,we=y.mode,C=_x({mode:"visible",children:C.children},we),z=xh(z,we,S,null),z.flags|=2,C.return=y,z.return=y,C.sibling=z,y.child=C,Kp(y,p.child,null,S),C=y.child,C.memoizedState=uT(S),C.childLanes=dT(p,ce,S),y.memoizedState=cT,y=z);else if(bu(y),KT(we)){if(ce=we.nextSibling&&we.nextSibling.dataset,ce)var je=ce.dgst;ce=je,C=Error(i(419)),C.stack="",C.digest=ce,Ig({value:C,source:null,stack:null}),y=fT(p,y,S)}else if(ii||$g(p,y,S,!1),ce=(S&p.childLanes)!==0,ii||ce){if(ce=nr,ce!==null&&(C=S&-S,C=(C&42)!==0?1:Nt(C),C=(C&(ce.suspendedLanes|S))!==0?0:C,C!==0&&C!==Re.retryLane))throw Re.retryLane=C,zp(p,C),Jo(ce,p,C),eL;we.data==="$?"||RT(),y=fT(p,y,S)}else we.data==="$?"?(y.flags|=192,y.child=p.child,y=null):(p=Re.treeContext,Ar=hs(we.nextSibling),Zi=y,Pn=!0,kh=null,js=!1,p!==null&&(Da[Ma++]=Wl,Da[Ma++]=Vl,Da[Ma++]=wh,Wl=p.id,Vl=p.overflow,wh=y),y=hT(y,C.children),y.flags|=4096);return y}return z?(vu(),z=C.fallback,we=y.mode,Re=p.child,je=Re.sibling,C=Hl(Re,{mode:"hidden",children:C.children}),C.subtreeFlags=Re.subtreeFlags&65011712,je!==null?z=Hl(je,z):(z=xh(z,we,S,null),z.flags|=2),z.return=y,C.return=y,C.sibling=z,y.child=C,C=z,z=y.child,we=p.child.memoizedState,we===null?we=uT(S):(Re=we.cachePool,Re!==null?(je=Zr._currentValue,Re=Re.parent!==je?{parent:je,pool:je}:Re):Re=X$(),we={baseLanes:we.baseLanes|S,cachePool:Re}),z.memoizedState=we,z.childLanes=dT(p,ce,S),y.memoizedState=cT,C):(bu(y),S=p.child,p=S.sibling,S=Hl(S,{mode:"visible",children:C.children}),S.return=y,S.sibling=null,p!==null&&(ce=y.deletions,ce===null?(y.deletions=[p],y.flags|=16):ce.push(p)),y.child=S,y.memoizedState=null,S)}function hT(p,y){return y=_x({mode:"visible",children:y},p.mode),y.return=p,p.child=y}function _x(p,y){return p=Go(22,p,null,y),p.lanes=0,p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},p}function fT(p,y,S){return Kp(y,p.child,null,S),p=hT(y,y.pendingProps.children),p.flags|=2,y.memoizedState=null,p}function uL(p,y,S){p.lanes|=y;var C=p.alternate;C!==null&&(C.lanes|=y),Rk(p.return,y,S)}function pT(p,y,S,C,z){var U=p.memoizedState;U===null?p.memoizedState={isBackwards:y,rendering:null,renderingStartTime:0,last:C,tail:S,tailMode:z}:(U.isBackwards=y,U.rendering=null,U.renderingStartTime=0,U.last=C,U.tail=S,U.tailMode=z)}function dL(p,y,S){var C=y.pendingProps,z=C.revealOrder,U=C.tail;if(mi(p,y,C.children,S),C=Jr.current,(C&2)!==0)C=C&1|2,y.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=y.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&uL(p,S,y);else if(p.tag===19)uL(p,S,y);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===y)break e;for(;p.sibling===null;){if(p.return===null||p.return===y)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}C&=1}switch(ae(Jr,C),z){case"forwards":for(S=y.child,z=null;S!==null;)p=S.alternate,p!==null&&kx(p)===null&&(z=S),S=S.sibling;S=z,S===null?(z=y.child,y.child=null):(z=S.sibling,S.sibling=null),pT(y,!1,z,S,U);break;case"backwards":for(S=null,z=y.child,y.child=null;z!==null;){if(p=z.alternate,p!==null&&kx(p)===null){y.child=z;break}p=z.sibling,z.sibling=S,S=z,z=p}pT(y,!0,S,null,U);break;case"together":pT(y,!1,null,null,void 0);break;default:y.memoizedState=null}return y.child}function Yl(p,y,S){if(p!==null&&(y.dependencies=p.dependencies),Tu|=y.lanes,(S&y.childLanes)===0)if(p!==null){if($g(p,y,S,!1),(S&y.childLanes)===0)return null}else return null;if(p!==null&&y.child!==p.child)throw Error(i(153));if(y.child!==null){for(p=y.child,S=Hl(p,p.pendingProps),y.child=S,S.return=y;p.sibling!==null;)p=p.sibling,S=S.sibling=Hl(p,p.pendingProps),S.return=y;S.sibling=null}return y.child}function mT(p,y){return(p.lanes&y)!==0?!0:(p=p.dependencies,!!(p!==null&&sx(p)))}function qye(p,y,S){switch(y.tag){case 3:q(y,y.stateNode.containerInfo),fu(y,Zr,p.memoizedState.cache),Pg();break;case 27:case 5:pe(y);break;case 4:q(y,y.stateNode.containerInfo);break;case 10:fu(y,y.type,y.memoizedProps.value);break;case 13:var C=y.memoizedState;if(C!==null)return C.dehydrated!==null?(bu(y),y.flags|=128,null):(S&y.child.childLanes)!==0?cL(p,y,S):(bu(y),p=Yl(p,y,S),p!==null?p.sibling:null);bu(y);break;case 19:var z=(p.flags&128)!==0;if(C=(S&y.childLanes)!==0,C||($g(p,y,S,!1),C=(S&y.childLanes)!==0),z){if(C)return dL(p,y,S);y.flags|=128}if(z=y.memoizedState,z!==null&&(z.rendering=null,z.tail=null,z.lastEffect=null),ae(Jr,Jr.current),C)break;return null;case 22:case 23:return y.lanes=0,iL(p,y,S);case 24:fu(y,Zr,p.memoizedState.cache)}return Yl(p,y,S)}function hL(p,y,S){if(p!==null)if(p.memoizedProps!==y.pendingProps)ii=!0;else{if(!mT(p,S)&&(y.flags&128)===0)return ii=!1,qye(p,y,S);ii=(p.flags&131072)!==0}else ii=!1,Pn&&(y.flags&1048576)!==0&&F$(y,ax,y.index);switch(y.lanes=0,y.tag){case 16:e:{p=y.pendingProps;var C=y.elementType,z=C._init;if(C=z(C._payload),y.type=C,typeof C=="function")Tk(C)?(p=Dh(C,p),y.tag=1,y=sL(null,y,C,p,S)):(y.tag=0,y=lT(null,y,C,p,S));else{if(C!=null){if(z=C.$$typeof,z===T){y.tag=11,y=tL(null,y,C,p,S);break e}else if(z===I){y.tag=14,y=nL(null,y,C,p,S);break e}}throw y=A(C)||C,Error(i(306,y,""))}}return y;case 0:return lT(p,y,y.type,y.pendingProps,S);case 1:return C=y.type,z=Dh(C,y.pendingProps),sL(p,y,C,z,S);case 3:e:{if(q(y,y.stateNode.containerInfo),p===null)throw Error(i(387));C=y.pendingProps;var U=y.memoizedState;z=U.element,Lk(p,y),Hg(y,C,null,S);var ce=y.memoizedState;if(C=ce.cache,fu(y,Zr,C),C!==U.cache&&Nk(y,[Zr],S,!0),Fg(),C=ce.element,U.isDehydrated)if(U={element:C,isDehydrated:!1,cache:ce.cache},y.updateQueue.baseState=U,y.memoizedState=U,y.flags&256){y=lL(p,y,C,S);break e}else if(C!==z){z=_a(Error(i(424)),y),Ig(z),y=lL(p,y,C,S);break e}else{switch(p=y.stateNode.containerInfo,p.nodeType){case 9:p=p.body;break;default:p=p.nodeName==="HTML"?p.ownerDocument.body:p}for(Ar=hs(p.firstChild),Zi=y,Pn=!0,kh=null,js=!0,S=Wz(y,null,C,S),y.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling}else{if(Pg(),C===z){y=Yl(p,y,S);break e}mi(p,y,C,S)}y=y.child}return y;case 26:return Cx(p,y),p===null?(S=gU(y.type,null,y.pendingProps,null))?y.memoizedState=S:Pn||(S=y.type,p=y.pendingProps,C=jx(me.current).createElement(S),C[Bn]=y,C[lr]=p,yi(C,S,p),_r(C),y.stateNode=C):y.memoizedState=gU(y.type,p.memoizedProps,y.pendingProps,p.memoizedState),null;case 27:return pe(y),p===null&&Pn&&(C=y.stateNode=fU(y.type,y.pendingProps,me.current),Zi=y,js=!0,z=Ar,Au(y.type)?(XT=z,Ar=hs(C.firstChild)):Ar=z),mi(p,y,y.pendingProps.children,S),Cx(p,y),p===null&&(y.flags|=4194304),y.child;case 5:return p===null&&Pn&&((z=C=Ar)&&(C=xbe(C,y.type,y.pendingProps,js),C!==null?(y.stateNode=C,Zi=y,Ar=hs(C.firstChild),js=!1,z=!0):z=!1),z||Th(y)),pe(y),z=y.type,U=y.pendingProps,ce=p!==null?p.memoizedProps:null,C=U.children,VT(z,U)?C=null:ce!==null&&VT(z,ce)&&(y.flags|=32),y.memoizedState!==null&&(z=Wk(p,y,Lye,null,null,S),d1._currentValue=z),Cx(p,y),mi(p,y,C,S),y.child;case 6:return p===null&&Pn&&((p=S=Ar)&&(S=wbe(S,y.pendingProps,js),S!==null?(y.stateNode=S,Zi=y,Ar=null,p=!0):p=!1),p||Th(y)),null;case 13:return cL(p,y,S);case 4:return q(y,y.stateNode.containerInfo),C=y.pendingProps,p===null?y.child=Kp(y,null,C,S):mi(p,y,C,S),y.child;case 11:return tL(p,y,y.type,y.pendingProps,S);case 7:return mi(p,y,y.pendingProps,S),y.child;case 8:return mi(p,y,y.pendingProps.children,S),y.child;case 12:return mi(p,y,y.pendingProps.children,S),y.child;case 10:return C=y.pendingProps,fu(y,y.type,C.value),mi(p,y,C.children,S),y.child;case 9:return z=y.type._context,C=y.pendingProps.children,Ch(y),z=Oi(z),C=C(z),y.flags|=1,mi(p,y,C,S),y.child;case 14:return nL(p,y,y.type,y.pendingProps,S);case 15:return rL(p,y,y.type,y.pendingProps,S);case 19:return dL(p,y,S);case 31:return C=y.pendingProps,S=y.mode,C={mode:C.mode,children:C.children},p===null?(S=_x(C,S),S.ref=y.ref,y.child=S,S.return=y,y=S):(S=Hl(p.child,C),S.ref=y.ref,y.child=S,S.return=y,y=S),y;case 22:return iL(p,y,S);case 24:return Ch(y),C=Oi(Zr),p===null?(z=Ik(),z===null&&(z=nr,U=Ok(),z.pooledCache=U,U.refCount++,U!==null&&(z.pooledCacheLanes|=S),z=U),y.memoizedState={parent:C,cache:z},zk(y),fu(y,Zr,z)):((p.lanes&S)!==0&&(Lk(p,y),Hg(y,null,null,S),Fg()),z=p.memoizedState,U=y.memoizedState,z.parent!==C?(z={parent:C,cache:C},y.memoizedState=z,y.lanes===0&&(y.memoizedState=y.updateQueue.baseState=z),fu(y,Zr,C)):(C=U.cache,fu(y,Zr,C),C!==z.cache&&Nk(y,[Zr],S,!0))),mi(p,y,y.pendingProps.children,S),y.child;case 29:throw y.pendingProps}throw Error(i(156,y.tag))}function Zl(p){p.flags|=4}function fL(p,y){if(y.type!=="stylesheet"||(y.state.loading&4)!==0)p.flags&=-16777217;else if(p.flags|=16777216,!wU(y)){if(y=Ra.current,y!==null&&((Tn&4194048)===Tn?Fs!==null:(Tn&62914560)!==Tn&&(Tn&536870912)===0||y!==Fs))throw Bg=$k,Y$;p.flags|=8192}}function Ax(p,y){y!==null&&(p.flags|=4),p.flags&16384&&(y=p.tag!==22?Yt():536870912,p.lanes|=y,Jp|=y)}function Yg(p,y){if(!Pn)switch(p.tailMode){case"hidden":y=p.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?p.tail=null:S.sibling=null;break;case"collapsed":S=p.tail;for(var C=null;S!==null;)S.alternate!==null&&(C=S),S=S.sibling;C===null?y||p.tail===null?p.tail=null:p.tail.sibling=null:C.sibling=null}}function wr(p){var y=p.alternate!==null&&p.alternate.child===p.child,S=0,C=0;if(y)for(var z=p.child;z!==null;)S|=z.lanes|z.childLanes,C|=z.subtreeFlags&65011712,C|=z.flags&65011712,z.return=p,z=z.sibling;else for(z=p.child;z!==null;)S|=z.lanes|z.childLanes,C|=z.subtreeFlags,C|=z.flags,z.return=p,z=z.sibling;return p.subtreeFlags|=C,p.childLanes=S,y}function Gye(p,y,S){var C=y.pendingProps;switch(Ak(y),y.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(y),null;case 1:return wr(y),null;case 3:return S=y.stateNode,C=null,p!==null&&(C=p.memoizedState.cache),y.memoizedState.cache!==C&&(y.flags|=2048),Gl(Zr),be(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(p===null||p.child===null)&&(Og(y)?Zl(y):p===null||p.memoizedState.isDehydrated&&(y.flags&256)===0||(y.flags|=1024,V$())),wr(y),null;case 26:return S=y.memoizedState,p===null?(Zl(y),S!==null?(wr(y),fL(y,S)):(wr(y),y.flags&=-16777217)):S?S!==p.memoizedState?(Zl(y),wr(y),fL(y,S)):(wr(y),y.flags&=-16777217):(p.memoizedProps!==C&&Zl(y),wr(y),y.flags&=-16777217),null;case 27:ie(y),S=me.current;var z=y.type;if(p!==null&&y.stateNode!=null)p.memoizedProps!==C&&Zl(y);else{if(!C){if(y.stateNode===null)throw Error(i(166));return wr(y),null}p=re.current,Og(y)?H$(y):(p=fU(z,C,S),y.stateNode=p,Zl(y))}return wr(y),null;case 5:if(ie(y),S=y.type,p!==null&&y.stateNode!=null)p.memoizedProps!==C&&Zl(y);else{if(!C){if(y.stateNode===null)throw Error(i(166));return wr(y),null}if(p=re.current,Og(y))H$(y);else{switch(z=jx(me.current),p){case 1:p=z.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:p=z.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":p=z.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":p=z.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":p=z.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof C.is=="string"?z.createElement("select",{is:C.is}):z.createElement("select"),C.multiple?p.multiple=!0:C.size&&(p.size=C.size);break;default:p=typeof C.is=="string"?z.createElement(S,{is:C.is}):z.createElement(S)}}p[Bn]=y,p[lr]=C;e:for(z=y.child;z!==null;){if(z.tag===5||z.tag===6)p.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===y)break e;for(;z.sibling===null;){if(z.return===null||z.return===y)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}y.stateNode=p;e:switch(yi(p,S,C),S){case"button":case"input":case"select":case"textarea":p=!!C.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Zl(y)}}return wr(y),y.flags&=-16777217,null;case 6:if(p&&y.stateNode!=null)p.memoizedProps!==C&&Zl(y);else{if(typeof C!="string"&&y.stateNode===null)throw Error(i(166));if(p=me.current,Og(y)){if(p=y.stateNode,S=y.memoizedProps,C=null,z=Zi,z!==null)switch(z.tag){case 27:case 5:C=z.memoizedProps}p[Bn]=y,p=!!(p.nodeValue===S||C!==null&&C.suppressHydrationWarning===!0||aU(p.nodeValue,S)),p||Th(y)}else p=jx(p).createTextNode(C),p[Bn]=y,y.stateNode=p}return wr(y),null;case 13:if(C=y.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(z=Og(y),C!==null&&C.dehydrated!==null){if(p===null){if(!z)throw Error(i(318));if(z=y.memoizedState,z=z!==null?z.dehydrated:null,!z)throw Error(i(317));z[Bn]=y}else Pg(),(y.flags&128)===0&&(y.memoizedState=null),y.flags|=4;wr(y),z=!1}else z=V$(),p!==null&&p.memoizedState!==null&&(p.memoizedState.hydrationErrors=z),z=!0;if(!z)return y.flags&256?(Xl(y),y):(Xl(y),null)}if(Xl(y),(y.flags&128)!==0)return y.lanes=S,y;if(S=C!==null,p=p!==null&&p.memoizedState!==null,S){C=y.child,z=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(z=C.alternate.memoizedState.cachePool.pool);var U=null;C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(U=C.memoizedState.cachePool.pool),U!==z&&(C.flags|=2048)}return S!==p&&S&&(y.child.flags|=8192),Ax(y,y.updateQueue),wr(y),null;case 4:return be(),p===null&&BT(y.stateNode.containerInfo),wr(y),null;case 10:return Gl(y.type),wr(y),null;case 19:if(j(Jr),z=y.memoizedState,z===null)return wr(y),null;if(C=(y.flags&128)!==0,U=z.rendering,U===null)if(C)Yg(z,!1);else{if(Dr!==0||p!==null&&(p.flags&128)!==0)for(p=y.child;p!==null;){if(U=kx(p),U!==null){for(y.flags|=128,Yg(z,!1),p=U.updateQueue,y.updateQueue=p,Ax(y,p),y.subtreeFlags=0,p=S,S=y.child;S!==null;)j$(S,p),S=S.sibling;return ae(Jr,Jr.current&1|2),y.child}p=p.sibling}z.tail!==null&&R()>Rx&&(y.flags|=128,C=!0,Yg(z,!1),y.lanes=4194304)}else{if(!C)if(p=kx(U),p!==null){if(y.flags|=128,C=!0,p=p.updateQueue,y.updateQueue=p,Ax(y,p),Yg(z,!0),z.tail===null&&z.tailMode==="hidden"&&!U.alternate&&!Pn)return wr(y),null}else 2*R()-z.renderingStartTime>Rx&&S!==536870912&&(y.flags|=128,C=!0,Yg(z,!1),y.lanes=4194304);z.isBackwards?(U.sibling=y.child,y.child=U):(p=z.last,p!==null?p.sibling=U:y.child=U,z.last=U)}return z.tail!==null?(y=z.tail,z.rendering=y,z.tail=y.sibling,z.renderingStartTime=R(),y.sibling=null,p=Jr.current,ae(Jr,C?p&1|2:p&1),y):(wr(y),null);case 22:case 23:return Xl(y),Fk(),C=y.memoizedState!==null,p!==null?p.memoizedState!==null!==C&&(y.flags|=8192):C&&(y.flags|=8192),C?(S&536870912)!==0&&(y.flags&128)===0&&(wr(y),y.subtreeFlags&6&&(y.flags|=8192)):wr(y),S=y.updateQueue,S!==null&&Ax(y,S.retryQueue),S=null,p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),C=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(C=y.memoizedState.cachePool.pool),C!==S&&(y.flags|=2048),p!==null&&j(_h),null;case 24:return S=null,p!==null&&(S=p.memoizedState.cache),y.memoizedState.cache!==S&&(y.flags|=2048),Gl(Zr),wr(y),null;case 25:return null;case 30:return null}throw Error(i(156,y.tag))}function Kye(p,y){switch(Ak(y),y.tag){case 1:return p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 3:return Gl(Zr),be(),p=y.flags,(p&65536)!==0&&(p&128)===0?(y.flags=p&-65537|128,y):null;case 26:case 27:case 5:return ie(y),null;case 13:if(Xl(y),p=y.memoizedState,p!==null&&p.dehydrated!==null){if(y.alternate===null)throw Error(i(340));Pg()}return p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 19:return j(Jr),null;case 4:return be(),null;case 10:return Gl(y.type),null;case 22:case 23:return Xl(y),Fk(),p!==null&&j(_h),p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 24:return Gl(Zr),null;case 25:return null;default:return null}}function pL(p,y){switch(Ak(y),y.tag){case 3:Gl(Zr),be();break;case 26:case 27:case 5:ie(y);break;case 4:be();break;case 13:Xl(y);break;case 19:j(Jr);break;case 10:Gl(y.type);break;case 22:case 23:Xl(y),Fk(),p!==null&&j(_h);break;case 24:Gl(Zr)}}function Zg(p,y){try{var S=y.updateQueue,C=S!==null?S.lastEffect:null;if(C!==null){var z=C.next;S=z;do{if((S.tag&p)===p){C=void 0;var U=S.create,ce=S.inst;C=U(),ce.destroy=C}S=S.next}while(S!==z)}}catch(we){Zn(y,y.return,we)}}function xu(p,y,S){try{var C=y.updateQueue,z=C!==null?C.lastEffect:null;if(z!==null){var U=z.next;C=U;do{if((C.tag&p)===p){var ce=C.inst,we=ce.destroy;if(we!==void 0){ce.destroy=void 0,z=y;var Re=S,je=we;try{je()}catch(Je){Zn(z,Re,Je)}}}C=C.next}while(C!==U)}}catch(Je){Zn(y,y.return,Je)}}function mL(p){var y=p.updateQueue;if(y!==null){var S=p.stateNode;try{nz(y,S)}catch(C){Zn(p,p.return,C)}}}function gL(p,y,S){S.props=Dh(p.type,p.memoizedProps),S.state=p.memoizedState;try{S.componentWillUnmount()}catch(C){Zn(p,y,C)}}function Jg(p,y){try{var S=p.ref;if(S!==null){switch(p.tag){case 26:case 27:case 5:var C=p.stateNode;break;case 30:C=p.stateNode;break;default:C=p.stateNode}typeof S=="function"?p.refCleanup=S(C):S.current=C}}catch(z){Zn(p,y,z)}}function Hs(p,y){var S=p.ref,C=p.refCleanup;if(S!==null)if(typeof C=="function")try{C()}catch(z){Zn(p,y,z)}finally{p.refCleanup=null,p=p.alternate,p!=null&&(p.refCleanup=null)}else if(typeof S=="function")try{S(null)}catch(z){Zn(p,y,z)}else S.current=null}function yL(p){var y=p.type,S=p.memoizedProps,C=p.stateNode;try{e:switch(y){case"button":case"input":case"select":case"textarea":S.autoFocus&&C.focus();break e;case"img":S.src?C.src=S.src:S.srcSet&&(C.srcset=S.srcSet)}}catch(z){Zn(p,p.return,z)}}function gT(p,y,S){try{var C=p.stateNode;mbe(C,p.type,S,y),C[lr]=y}catch(z){Zn(p,p.return,z)}}function bL(p){return p.tag===5||p.tag===3||p.tag===26||p.tag===27&&Au(p.type)||p.tag===4}function yT(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||bL(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.tag===27&&Au(p.type)||p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function bT(p,y,S){var C=p.tag;if(C===5||C===6)p=p.stateNode,y?(S.nodeType===9?S.body:S.nodeName==="HTML"?S.ownerDocument.body:S).insertBefore(p,y):(y=S.nodeType===9?S.body:S.nodeName==="HTML"?S.ownerDocument.body:S,y.appendChild(p),S=S._reactRootContainer,S!=null||y.onclick!==null||(y.onclick=Bx));else if(C!==4&&(C===27&&Au(p.type)&&(S=p.stateNode,y=null),p=p.child,p!==null))for(bT(p,y,S),p=p.sibling;p!==null;)bT(p,y,S),p=p.sibling}function Dx(p,y,S){var C=p.tag;if(C===5||C===6)p=p.stateNode,y?S.insertBefore(p,y):S.appendChild(p);else if(C!==4&&(C===27&&Au(p.type)&&(S=p.stateNode),p=p.child,p!==null))for(Dx(p,y,S),p=p.sibling;p!==null;)Dx(p,y,S),p=p.sibling}function vL(p){var y=p.stateNode,S=p.memoizedProps;try{for(var C=p.type,z=y.attributes;z.length;)y.removeAttributeNode(z[0]);yi(y,C,S),y[Bn]=p,y[lr]=S}catch(U){Zn(p,p.return,U)}}var Jl=!1,zr=!1,vT=!1,xL=typeof WeakSet=="function"?WeakSet:Set,oi=null;function Xye(p,y){if(p=p.containerInfo,HT=Gx,p=R$(p),yk(p)){if("selectionStart"in p)var S={start:p.selectionStart,end:p.selectionEnd};else e:{S=(S=p.ownerDocument)&&S.defaultView||window;var C=S.getSelection&&S.getSelection();if(C&&C.rangeCount!==0){S=C.anchorNode;var z=C.anchorOffset,U=C.focusNode;C=C.focusOffset;try{S.nodeType,U.nodeType}catch{S=null;break e}var ce=0,we=-1,Re=-1,je=0,Je=0,tt=p,Ve=null;t:for(;;){for(var Ge;tt!==S||z!==0&&tt.nodeType!==3||(we=ce+z),tt!==U||C!==0&&tt.nodeType!==3||(Re=ce+C),tt.nodeType===3&&(ce+=tt.nodeValue.length),(Ge=tt.firstChild)!==null;)Ve=tt,tt=Ge;for(;;){if(tt===p)break t;if(Ve===S&&++je===z&&(we=ce),Ve===U&&++Je===C&&(Re=ce),(Ge=tt.nextSibling)!==null)break;tt=Ve,Ve=tt.parentNode}tt=Ge}S=we===-1||Re===-1?null:{start:we,end:Re}}else S=null}S=S||{start:0,end:0}}else S=null;for(WT={focusedElem:p,selectionRange:S},Gx=!1,oi=y;oi!==null;)if(y=oi,p=y.child,(y.subtreeFlags&1024)!==0&&p!==null)p.return=y,oi=p;else for(;oi!==null;){switch(y=oi,U=y.alternate,p=y.flags,y.tag){case 0:break;case 11:case 15:break;case 1:if((p&1024)!==0&&U!==null){p=void 0,S=y,z=U.memoizedProps,U=U.memoizedState,C=S.stateNode;try{var Zt=Dh(S.type,z,S.elementType===S.type);p=C.getSnapshotBeforeUpdate(Zt,U),C.__reactInternalSnapshotBeforeUpdate=p}catch(qt){Zn(S,S.return,qt)}}break;case 3:if((p&1024)!==0){if(p=y.stateNode.containerInfo,S=p.nodeType,S===9)GT(p);else if(S===1)switch(p.nodeName){case"HEAD":case"HTML":case"BODY":GT(p);break;default:p.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((p&1024)!==0)throw Error(i(163))}if(p=y.sibling,p!==null){p.return=y.return,oi=p;break}oi=y.return}}function wL(p,y,S){var C=S.flags;switch(S.tag){case 0:case 11:case 15:wu(p,S),C&4&&Zg(5,S);break;case 1:if(wu(p,S),C&4)if(p=S.stateNode,y===null)try{p.componentDidMount()}catch(ce){Zn(S,S.return,ce)}else{var z=Dh(S.type,y.memoizedProps);y=y.memoizedState;try{p.componentDidUpdate(z,y,p.__reactInternalSnapshotBeforeUpdate)}catch(ce){Zn(S,S.return,ce)}}C&64&&mL(S),C&512&&Jg(S,S.return);break;case 3:if(wu(p,S),C&64&&(p=S.updateQueue,p!==null)){if(y=null,S.child!==null)switch(S.child.tag){case 27:case 5:y=S.child.stateNode;break;case 1:y=S.child.stateNode}try{nz(p,y)}catch(ce){Zn(S,S.return,ce)}}break;case 27:y===null&&C&4&&vL(S);case 26:case 5:wu(p,S),y===null&&C&4&&yL(S),C&512&&Jg(S,S.return);break;case 12:wu(p,S);break;case 13:wu(p,S),C&4&&TL(p,S),C&64&&(p=S.memoizedState,p!==null&&(p=p.dehydrated,p!==null&&(S=ibe.bind(null,S),Sbe(p,S))));break;case 22:if(C=S.memoizedState!==null||Jl,!C){y=y!==null&&y.memoizedState!==null||zr,z=Jl;var U=zr;Jl=C,(zr=y)&&!U?Su(p,S,(S.subtreeFlags&8772)!==0):wu(p,S),Jl=z,zr=U}break;case 30:break;default:wu(p,S)}}function SL(p){var y=p.alternate;y!==null&&(p.alternate=null,SL(y)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(y=p.stateNode,y!==null&&Bs(y)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}var mr=null,xo=!1;function Ql(p,y,S){for(S=S.child;S!==null;)kL(p,y,S),S=S.sibling}function kL(p,y,S){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(De,S)}catch{}switch(S.tag){case 26:zr||Hs(S,y),Ql(p,y,S),S.memoizedState?S.memoizedState.count--:S.stateNode&&(S=S.stateNode,S.parentNode.removeChild(S));break;case 27:zr||Hs(S,y);var C=mr,z=xo;Au(S.type)&&(mr=S.stateNode,xo=!1),Ql(p,y,S),s1(S.stateNode),mr=C,xo=z;break;case 5:zr||Hs(S,y);case 6:if(C=mr,z=xo,mr=null,Ql(p,y,S),mr=C,xo=z,mr!==null)if(xo)try{(mr.nodeType===9?mr.body:mr.nodeName==="HTML"?mr.ownerDocument.body:mr).removeChild(S.stateNode)}catch(U){Zn(S,y,U)}else try{mr.removeChild(S.stateNode)}catch(U){Zn(S,y,U)}break;case 18:mr!==null&&(xo?(p=mr,dU(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,S.stateNode),m1(p)):dU(mr,S.stateNode));break;case 4:C=mr,z=xo,mr=S.stateNode.containerInfo,xo=!0,Ql(p,y,S),mr=C,xo=z;break;case 0:case 11:case 14:case 15:zr||xu(2,S,y),zr||xu(4,S,y),Ql(p,y,S);break;case 1:zr||(Hs(S,y),C=S.stateNode,typeof C.componentWillUnmount=="function"&&gL(S,y,C)),Ql(p,y,S);break;case 21:Ql(p,y,S);break;case 22:zr=(C=zr)||S.memoizedState!==null,Ql(p,y,S),zr=C;break;default:Ql(p,y,S)}}function TL(p,y){if(y.memoizedState===null&&(p=y.alternate,p!==null&&(p=p.memoizedState,p!==null&&(p=p.dehydrated,p!==null))))try{m1(p)}catch(S){Zn(y,y.return,S)}}function Yye(p){switch(p.tag){case 13:case 19:var y=p.stateNode;return y===null&&(y=p.stateNode=new xL),y;case 22:return p=p.stateNode,y=p._retryCache,y===null&&(y=p._retryCache=new xL),y;default:throw Error(i(435,p.tag))}}function xT(p,y){var S=Yye(p);y.forEach(function(C){var z=obe.bind(null,p,C);S.has(C)||(S.add(C),C.then(z,z))})}function Ko(p,y){var S=y.deletions;if(S!==null)for(var C=0;C<S.length;C++){var z=S[C],U=p,ce=y,we=ce;e:for(;we!==null;){switch(we.tag){case 27:if(Au(we.type)){mr=we.stateNode,xo=!1;break e}break;case 5:mr=we.stateNode,xo=!1;break e;case 3:case 4:mr=we.stateNode.containerInfo,xo=!0;break e}we=we.return}if(mr===null)throw Error(i(160));kL(U,ce,z),mr=null,xo=!1,U=z.alternate,U!==null&&(U.return=null),z.return=null}if(y.subtreeFlags&13878)for(y=y.child;y!==null;)EL(y,p),y=y.sibling}var ds=null;function EL(p,y){var S=p.alternate,C=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:Ko(y,p),Xo(p),C&4&&(xu(3,p,p.return),Zg(3,p),xu(5,p,p.return));break;case 1:Ko(y,p),Xo(p),C&512&&(zr||S===null||Hs(S,S.return)),C&64&&Jl&&(p=p.updateQueue,p!==null&&(C=p.callbacks,C!==null&&(S=p.shared.hiddenCallbacks,p.shared.hiddenCallbacks=S===null?C:S.concat(C))));break;case 26:var z=ds;if(Ko(y,p),Xo(p),C&512&&(zr||S===null||Hs(S,S.return)),C&4){var U=S!==null?S.memoizedState:null;if(C=p.memoizedState,S===null)if(C===null)if(p.stateNode===null){e:{C=p.type,S=p.memoizedProps,z=z.ownerDocument||z;t:switch(C){case"title":U=z.getElementsByTagName("title")[0],(!U||U[yo]||U[Bn]||U.namespaceURI==="http://www.w3.org/2000/svg"||U.hasAttribute("itemprop"))&&(U=z.createElement(C),z.head.insertBefore(U,z.querySelector("head > title"))),yi(U,C,S),U[Bn]=p,_r(U),C=U;break e;case"link":var ce=vU("link","href",z).get(C+(S.href||""));if(ce){for(var we=0;we<ce.length;we++)if(U=ce[we],U.getAttribute("href")===(S.href==null||S.href===""?null:S.href)&&U.getAttribute("rel")===(S.rel==null?null:S.rel)&&U.getAttribute("title")===(S.title==null?null:S.title)&&U.getAttribute("crossorigin")===(S.crossOrigin==null?null:S.crossOrigin)){ce.splice(we,1);break t}}U=z.createElement(C),yi(U,C,S),z.head.appendChild(U);break;case"meta":if(ce=vU("meta","content",z).get(C+(S.content||""))){for(we=0;we<ce.length;we++)if(U=ce[we],U.getAttribute("content")===(S.content==null?null:""+S.content)&&U.getAttribute("name")===(S.name==null?null:S.name)&&U.getAttribute("property")===(S.property==null?null:S.property)&&U.getAttribute("http-equiv")===(S.httpEquiv==null?null:S.httpEquiv)&&U.getAttribute("charset")===(S.charSet==null?null:S.charSet)){ce.splice(we,1);break t}}U=z.createElement(C),yi(U,C,S),z.head.appendChild(U);break;default:throw Error(i(468,C))}U[Bn]=p,_r(U),C=U}p.stateNode=C}else xU(z,p.type,p.stateNode);else p.stateNode=bU(z,C,p.memoizedProps);else U!==C?(U===null?S.stateNode!==null&&(S=S.stateNode,S.parentNode.removeChild(S)):U.count--,C===null?xU(z,p.type,p.stateNode):bU(z,C,p.memoizedProps)):C===null&&p.stateNode!==null&&gT(p,p.memoizedProps,S.memoizedProps)}break;case 27:Ko(y,p),Xo(p),C&512&&(zr||S===null||Hs(S,S.return)),S!==null&&C&4&&gT(p,p.memoizedProps,S.memoizedProps);break;case 5:if(Ko(y,p),Xo(p),C&512&&(zr||S===null||Hs(S,S.return)),p.flags&32){z=p.stateNode;try{Mp(z,"")}catch(Ge){Zn(p,p.return,Ge)}}C&4&&p.stateNode!=null&&(z=p.memoizedProps,gT(p,z,S!==null?S.memoizedProps:z)),C&1024&&(vT=!0);break;case 6:if(Ko(y,p),Xo(p),C&4){if(p.stateNode===null)throw Error(i(162));C=p.memoizedProps,S=p.stateNode;try{S.nodeValue=C}catch(Ge){Zn(p,p.return,Ge)}}break;case 3:if(Wx=null,z=ds,ds=Fx(y.containerInfo),Ko(y,p),ds=z,Xo(p),C&4&&S!==null&&S.memoizedState.isDehydrated)try{m1(y.containerInfo)}catch(Ge){Zn(p,p.return,Ge)}vT&&(vT=!1,CL(p));break;case 4:C=ds,ds=Fx(p.stateNode.containerInfo),Ko(y,p),Xo(p),ds=C;break;case 12:Ko(y,p),Xo(p);break;case 13:Ko(y,p),Xo(p),p.child.flags&8192&&p.memoizedState!==null!=(S!==null&&S.memoizedState!==null)&&(CT=R()),C&4&&(C=p.updateQueue,C!==null&&(p.updateQueue=null,xT(p,C)));break;case 22:z=p.memoizedState!==null;var Re=S!==null&&S.memoizedState!==null,je=Jl,Je=zr;if(Jl=je||z,zr=Je||Re,Ko(y,p),zr=Je,Jl=je,Xo(p),C&8192)e:for(y=p.stateNode,y._visibility=z?y._visibility&-2:y._visibility|1,z&&(S===null||Re||Jl||zr||Mh(p)),S=null,y=p;;){if(y.tag===5||y.tag===26){if(S===null){Re=S=y;try{if(U=Re.stateNode,z)ce=U.style,typeof ce.setProperty=="function"?ce.setProperty("display","none","important"):ce.display="none";else{we=Re.stateNode;var tt=Re.memoizedProps.style,Ve=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;we.style.display=Ve==null||typeof Ve=="boolean"?"":(""+Ve).trim()}}catch(Ge){Zn(Re,Re.return,Ge)}}}else if(y.tag===6){if(S===null){Re=y;try{Re.stateNode.nodeValue=z?"":Re.memoizedProps}catch(Ge){Zn(Re,Re.return,Ge)}}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===p)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===p)break e;for(;y.sibling===null;){if(y.return===null||y.return===p)break e;S===y&&(S=null),y=y.return}S===y&&(S=null),y.sibling.return=y.return,y=y.sibling}C&4&&(C=p.updateQueue,C!==null&&(S=C.retryQueue,S!==null&&(C.retryQueue=null,xT(p,S))));break;case 19:Ko(y,p),Xo(p),C&4&&(C=p.updateQueue,C!==null&&(p.updateQueue=null,xT(p,C)));break;case 30:break;case 21:break;default:Ko(y,p),Xo(p)}}function Xo(p){var y=p.flags;if(y&2){try{for(var S,C=p.return;C!==null;){if(bL(C)){S=C;break}C=C.return}if(S==null)throw Error(i(160));switch(S.tag){case 27:var z=S.stateNode,U=yT(p);Dx(p,U,z);break;case 5:var ce=S.stateNode;S.flags&32&&(Mp(ce,""),S.flags&=-33);var we=yT(p);Dx(p,we,ce);break;case 3:case 4:var Re=S.stateNode.containerInfo,je=yT(p);bT(p,je,Re);break;default:throw Error(i(161))}}catch(Je){Zn(p,p.return,Je)}p.flags&=-3}y&4096&&(p.flags&=-4097)}function CL(p){if(p.subtreeFlags&1024)for(p=p.child;p!==null;){var y=p;CL(y),y.tag===5&&y.flags&1024&&y.stateNode.reset(),p=p.sibling}}function wu(p,y){if(y.subtreeFlags&8772)for(y=y.child;y!==null;)wL(p,y.alternate,y),y=y.sibling}function Mh(p){for(p=p.child;p!==null;){var y=p;switch(y.tag){case 0:case 11:case 14:case 15:xu(4,y,y.return),Mh(y);break;case 1:Hs(y,y.return);var S=y.stateNode;typeof S.componentWillUnmount=="function"&&gL(y,y.return,S),Mh(y);break;case 27:s1(y.stateNode);case 26:case 5:Hs(y,y.return),Mh(y);break;case 22:y.memoizedState===null&&Mh(y);break;case 30:Mh(y);break;default:Mh(y)}p=p.sibling}}function Su(p,y,S){for(S=S&&(y.subtreeFlags&8772)!==0,y=y.child;y!==null;){var C=y.alternate,z=p,U=y,ce=U.flags;switch(U.tag){case 0:case 11:case 15:Su(z,U,S),Zg(4,U);break;case 1:if(Su(z,U,S),C=U,z=C.stateNode,typeof z.componentDidMount=="function")try{z.componentDidMount()}catch(je){Zn(C,C.return,je)}if(C=U,z=C.updateQueue,z!==null){var we=C.stateNode;try{var Re=z.shared.hiddenCallbacks;if(Re!==null)for(z.shared.hiddenCallbacks=null,z=0;z<Re.length;z++)tz(Re[z],we)}catch(je){Zn(C,C.return,je)}}S&&ce&64&&mL(U),Jg(U,U.return);break;case 27:vL(U);case 26:case 5:Su(z,U,S),S&&C===null&&ce&4&&yL(U),Jg(U,U.return);break;case 12:Su(z,U,S);break;case 13:Su(z,U,S),S&&ce&4&&TL(z,U);break;case 22:U.memoizedState===null&&Su(z,U,S),Jg(U,U.return);break;case 30:break;default:Su(z,U,S)}y=y.sibling}}function wT(p,y){var S=null;p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),p=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(p=y.memoizedState.cachePool.pool),p!==S&&(p!=null&&p.refCount++,S!=null&&zg(S))}function ST(p,y){p=null,y.alternate!==null&&(p=y.alternate.memoizedState.cache),y=y.memoizedState.cache,y!==p&&(y.refCount++,p!=null&&zg(p))}function Ws(p,y,S,C){if(y.subtreeFlags&10256)for(y=y.child;y!==null;)_L(p,y,S,C),y=y.sibling}function _L(p,y,S,C){var z=y.flags;switch(y.tag){case 0:case 11:case 15:Ws(p,y,S,C),z&2048&&Zg(9,y);break;case 1:Ws(p,y,S,C);break;case 3:Ws(p,y,S,C),z&2048&&(p=null,y.alternate!==null&&(p=y.alternate.memoizedState.cache),y=y.memoizedState.cache,y!==p&&(y.refCount++,p!=null&&zg(p)));break;case 12:if(z&2048){Ws(p,y,S,C),p=y.stateNode;try{var U=y.memoizedProps,ce=U.id,we=U.onPostCommit;typeof we=="function"&&we(ce,y.alternate===null?"mount":"update",p.passiveEffectDuration,-0)}catch(Re){Zn(y,y.return,Re)}}else Ws(p,y,S,C);break;case 13:Ws(p,y,S,C);break;case 23:break;case 22:U=y.stateNode,ce=y.alternate,y.memoizedState!==null?U._visibility&2?Ws(p,y,S,C):Qg(p,y):U._visibility&2?Ws(p,y,S,C):(U._visibility|=2,Xp(p,y,S,C,(y.subtreeFlags&10256)!==0)),z&2048&&wT(ce,y);break;case 24:Ws(p,y,S,C),z&2048&&ST(y.alternate,y);break;default:Ws(p,y,S,C)}}function Xp(p,y,S,C,z){for(z=z&&(y.subtreeFlags&10256)!==0,y=y.child;y!==null;){var U=p,ce=y,we=S,Re=C,je=ce.flags;switch(ce.tag){case 0:case 11:case 15:Xp(U,ce,we,Re,z),Zg(8,ce);break;case 23:break;case 22:var Je=ce.stateNode;ce.memoizedState!==null?Je._visibility&2?Xp(U,ce,we,Re,z):Qg(U,ce):(Je._visibility|=2,Xp(U,ce,we,Re,z)),z&&je&2048&&wT(ce.alternate,ce);break;case 24:Xp(U,ce,we,Re,z),z&&je&2048&&ST(ce.alternate,ce);break;default:Xp(U,ce,we,Re,z)}y=y.sibling}}function Qg(p,y){if(y.subtreeFlags&10256)for(y=y.child;y!==null;){var S=p,C=y,z=C.flags;switch(C.tag){case 22:Qg(S,C),z&2048&&wT(C.alternate,C);break;case 24:Qg(S,C),z&2048&&ST(C.alternate,C);break;default:Qg(S,C)}y=y.sibling}}var e1=8192;function Yp(p){if(p.subtreeFlags&e1)for(p=p.child;p!==null;)AL(p),p=p.sibling}function AL(p){switch(p.tag){case 26:Yp(p),p.flags&e1&&p.memoizedState!==null&&Ibe(ds,p.memoizedState,p.memoizedProps);break;case 5:Yp(p);break;case 3:case 4:var y=ds;ds=Fx(p.stateNode.containerInfo),Yp(p),ds=y;break;case 22:p.memoizedState===null&&(y=p.alternate,y!==null&&y.memoizedState!==null?(y=e1,e1=16777216,Yp(p),e1=y):Yp(p));break;default:Yp(p)}}function DL(p){var y=p.alternate;if(y!==null&&(p=y.child,p!==null)){y.child=null;do y=p.sibling,p.sibling=null,p=y;while(p!==null)}}function t1(p){var y=p.deletions;if((p.flags&16)!==0){if(y!==null)for(var S=0;S<y.length;S++){var C=y[S];oi=C,RL(C,p)}DL(p)}if(p.subtreeFlags&10256)for(p=p.child;p!==null;)ML(p),p=p.sibling}function ML(p){switch(p.tag){case 0:case 11:case 15:t1(p),p.flags&2048&&xu(9,p,p.return);break;case 3:t1(p);break;case 12:t1(p);break;case 22:var y=p.stateNode;p.memoizedState!==null&&y._visibility&2&&(p.return===null||p.return.tag!==13)?(y._visibility&=-3,Mx(p)):t1(p);break;default:t1(p)}}function Mx(p){var y=p.deletions;if((p.flags&16)!==0){if(y!==null)for(var S=0;S<y.length;S++){var C=y[S];oi=C,RL(C,p)}DL(p)}for(p=p.child;p!==null;){switch(y=p,y.tag){case 0:case 11:case 15:xu(8,y,y.return),Mx(y);break;case 22:S=y.stateNode,S._visibility&2&&(S._visibility&=-3,Mx(y));break;default:Mx(y)}p=p.sibling}}function RL(p,y){for(;oi!==null;){var S=oi;switch(S.tag){case 0:case 11:case 15:xu(8,S,y);break;case 23:case 22:if(S.memoizedState!==null&&S.memoizedState.cachePool!==null){var C=S.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:zg(S.memoizedState.cache)}if(C=S.child,C!==null)C.return=S,oi=C;else e:for(S=p;oi!==null;){C=oi;var z=C.sibling,U=C.return;if(SL(C),C===S){oi=null;break e}if(z!==null){z.return=U,oi=z;break e}oi=U}}}var Zye={getCacheForType:function(p){var y=Oi(Zr),S=y.data.get(p);return S===void 0&&(S=p(),y.data.set(p,S)),S}},Jye=typeof WeakMap=="function"?WeakMap:Map,jn=0,nr=null,gn=null,Tn=0,Fn=0,Yo=null,ku=!1,Zp=!1,kT=!1,ec=0,Dr=0,Tu=0,Rh=0,TT=0,Na=0,Jp=0,n1=null,wo=null,ET=!1,CT=0,Rx=1/0,Nx=null,Eu=null,gi=0,Cu=null,Qp=null,em=0,_T=0,AT=null,NL=null,r1=0,DT=null;function Zo(){if((jn&2)!==0&&Tn!==0)return Tn&-Tn;if(H.T!==null){var p=jp;return p!==0?p:$T()}return tn()}function OL(){Na===0&&(Na=(Tn&536870912)===0||Pn?zt():536870912);var p=Ra.current;return p!==null&&(p.flags|=32),Na}function Jo(p,y,S){(p===nr&&(Fn===2||Fn===9)||p.cancelPendingCommit!==null)&&(tm(p,0),_u(p,Tn,Na,!1)),xe(p,S),((jn&2)===0||p!==nr)&&(p===nr&&((jn&2)===0&&(Rh|=S),Dr===4&&_u(p,Tn,Na,!1)),Vs(p))}function PL(p,y,S){if((jn&6)!==0)throw Error(i(327));var C=!S&&(y&124)===0&&(y&p.expiredLanes)===0||$e(p,y),z=C?tbe(p,y):NT(p,y,!0),U=C;do{if(z===0){Zp&&!C&&_u(p,y,0,!1);break}else{if(S=p.current.alternate,U&&!Qye(S)){z=NT(p,y,!1),U=!1;continue}if(z===2){if(U=y,p.errorRecoveryDisabledLanes&U)var ce=0;else ce=p.pendingLanes&-536870913,ce=ce!==0?ce:ce&536870912?536870912:0;if(ce!==0){y=ce;e:{var we=p;z=n1;var Re=we.current.memoizedState.isDehydrated;if(Re&&(tm(we,ce).flags|=256),ce=NT(we,ce,!1),ce!==2){if(kT&&!Re){we.errorRecoveryDisabledLanes|=U,Rh|=U,z=4;break e}U=wo,wo=z,U!==null&&(wo===null?wo=U:wo.push.apply(wo,U))}z=ce}if(U=!1,z!==2)continue}}if(z===1){tm(p,0),_u(p,y,0,!0);break}e:{switch(C=p,U=z,U){case 0:case 1:throw Error(i(345));case 4:if((y&4194048)!==y)break;case 6:_u(C,y,Na,!ku);break e;case 2:wo=null;break;case 3:case 5:break;default:throw Error(i(329))}if((y&62914560)===y&&(z=CT+300-R(),10<z)){if(_u(C,y,Na,!ku),Ce(C,0,!0)!==0)break e;C.timeoutHandle=cU(IL.bind(null,C,S,wo,Nx,ET,y,Na,Rh,Jp,ku,U,2,-0,0),z);break e}IL(C,S,wo,Nx,ET,y,Na,Rh,Jp,ku,U,0,-0,0)}}break}while(!0);Vs(p)}function IL(p,y,S,C,z,U,ce,we,Re,je,Je,tt,Ve,Ge){if(p.timeoutHandle=-1,tt=y.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(u1={stylesheets:null,count:0,unsuspend:Pbe},AL(y),tt=$be(),tt!==null)){p.cancelPendingCommit=tt(FL.bind(null,p,y,U,S,C,z,ce,we,Re,Je,1,Ve,Ge)),_u(p,U,ce,!je);return}FL(p,y,U,S,C,z,ce,we,Re)}function Qye(p){for(var y=p;;){var S=y.tag;if((S===0||S===11||S===15)&&y.flags&16384&&(S=y.updateQueue,S!==null&&(S=S.stores,S!==null)))for(var C=0;C<S.length;C++){var z=S[C],U=z.getSnapshot;z=z.value;try{if(!qo(U(),z))return!1}catch{return!1}}if(S=y.child,y.subtreeFlags&16384&&S!==null)S.return=y,y=S;else{if(y===p)break;for(;y.sibling===null;){if(y.return===null||y.return===p)return!0;y=y.return}y.sibling.return=y.return,y=y.sibling}}return!0}function _u(p,y,S,C){y&=~TT,y&=~Rh,p.suspendedLanes|=y,p.pingedLanes&=~y,C&&(p.warmLanes|=y),C=p.expirationTimes;for(var z=y;0<z;){var U=31-pt(z),ce=1<<U;C[U]=-1,z&=~ce}S!==0&&Ue(p,S,y)}function Ox(){return(jn&6)===0?(i1(0),!1):!0}function MT(){if(gn!==null){if(Fn===0)var p=gn.return;else p=gn,ql=Eh=null,Gk(p),Gp=null,Kg=0,p=gn;for(;p!==null;)pL(p.alternate,p),p=p.return;gn=null}}function tm(p,y){var S=p.timeoutHandle;S!==-1&&(p.timeoutHandle=-1,ybe(S)),S=p.cancelPendingCommit,S!==null&&(p.cancelPendingCommit=null,S()),MT(),nr=p,gn=S=Hl(p.current,null),Tn=y,Fn=0,Yo=null,ku=!1,Zp=$e(p,y),kT=!1,Jp=Na=TT=Rh=Tu=Dr=0,wo=n1=null,ET=!1,(y&8)!==0&&(y|=y&32);var C=p.entangledLanes;if(C!==0)for(p=p.entanglements,C&=y;0<C;){var z=31-pt(C),U=1<<z;y|=p[z],C&=~U}return ec=y,tx(),S}function $L(p,y){dn=null,H.H=xx,y===Ug||y===ux?(y=Q$(),Fn=3):y===Y$?(y=Q$(),Fn=4):Fn=y===eL?8:y!==null&&typeof y=="object"&&typeof y.then=="function"?6:1,Yo=y,gn===null&&(Dr=1,Ex(p,_a(y,p.current)))}function zL(){var p=H.H;return H.H=xx,p===null?xx:p}function LL(){var p=H.A;return H.A=Zye,p}function RT(){Dr=4,ku||(Tn&4194048)!==Tn&&Ra.current!==null||(Zp=!0),(Tu&134217727)===0&&(Rh&134217727)===0||nr===null||_u(nr,Tn,Na,!1)}function NT(p,y,S){var C=jn;jn|=2;var z=zL(),U=LL();(nr!==p||Tn!==y)&&(Nx=null,tm(p,y)),y=!1;var ce=Dr;e:do try{if(Fn!==0&&gn!==null){var we=gn,Re=Yo;switch(Fn){case 8:MT(),ce=6;break e;case 3:case 2:case 9:case 6:Ra.current===null&&(y=!0);var je=Fn;if(Fn=0,Yo=null,nm(p,we,Re,je),S&&Zp){ce=0;break e}break;default:je=Fn,Fn=0,Yo=null,nm(p,we,Re,je)}}ebe(),ce=Dr;break}catch(Je){$L(p,Je)}while(!0);return y&&p.shellSuspendCounter++,ql=Eh=null,jn=C,H.H=z,H.A=U,gn===null&&(nr=null,Tn=0,tx()),ce}function ebe(){for(;gn!==null;)UL(gn)}function tbe(p,y){var S=jn;jn|=2;var C=zL(),z=LL();nr!==p||Tn!==y?(Nx=null,Rx=R()+500,tm(p,y)):Zp=$e(p,y);e:do try{if(Fn!==0&&gn!==null){y=gn;var U=Yo;t:switch(Fn){case 1:Fn=0,Yo=null,nm(p,y,U,1);break;case 2:case 9:if(Z$(U)){Fn=0,Yo=null,BL(y);break}y=function(){Fn!==2&&Fn!==9||nr!==p||(Fn=7),Vs(p)},U.then(y,y);break e;case 3:Fn=7;break e;case 4:Fn=5;break e;case 7:Z$(U)?(Fn=0,Yo=null,BL(y)):(Fn=0,Yo=null,nm(p,y,U,7));break;case 5:var ce=null;switch(gn.tag){case 26:ce=gn.memoizedState;case 5:case 27:var we=gn;if(!ce||wU(ce)){Fn=0,Yo=null;var Re=we.sibling;if(Re!==null)gn=Re;else{var je=we.return;je!==null?(gn=je,Px(je)):gn=null}break t}}Fn=0,Yo=null,nm(p,y,U,5);break;case 6:Fn=0,Yo=null,nm(p,y,U,6);break;case 8:MT(),Dr=6;break e;default:throw Error(i(462))}}nbe();break}catch(Je){$L(p,Je)}while(!0);return ql=Eh=null,H.H=C,H.A=z,jn=S,gn!==null?0:(nr=null,Tn=0,tx(),Dr)}function nbe(){for(;gn!==null&&!he();)UL(gn)}function UL(p){var y=hL(p.alternate,p,ec);p.memoizedProps=p.pendingProps,y===null?Px(p):gn=y}function BL(p){var y=p,S=y.alternate;switch(y.tag){case 15:case 0:y=aL(S,y,y.pendingProps,y.type,void 0,Tn);break;case 11:y=aL(S,y,y.pendingProps,y.type.render,y.ref,Tn);break;case 5:Gk(y);default:pL(S,y),y=gn=j$(y,ec),y=hL(S,y,ec)}p.memoizedProps=p.pendingProps,y===null?Px(p):gn=y}function nm(p,y,S,C){ql=Eh=null,Gk(y),Gp=null,Kg=0;var z=y.return;try{if(Vye(p,z,y,S,Tn)){Dr=1,Ex(p,_a(S,p.current)),gn=null;return}}catch(U){if(z!==null)throw gn=z,U;Dr=1,Ex(p,_a(S,p.current)),gn=null;return}y.flags&32768?(Pn||C===1?p=!0:Zp||(Tn&536870912)!==0?p=!1:(ku=p=!0,(C===2||C===9||C===3||C===6)&&(C=Ra.current,C!==null&&C.tag===13&&(C.flags|=16384))),jL(y,p)):Px(y)}function Px(p){var y=p;do{if((y.flags&32768)!==0){jL(y,ku);return}p=y.return;var S=Gye(y.alternate,y,ec);if(S!==null){gn=S;return}if(y=y.sibling,y!==null){gn=y;return}gn=y=p}while(y!==null);Dr===0&&(Dr=5)}function jL(p,y){do{var S=Kye(p.alternate,p);if(S!==null){S.flags&=32767,gn=S;return}if(S=p.return,S!==null&&(S.flags|=32768,S.subtreeFlags=0,S.deletions=null),!y&&(p=p.sibling,p!==null)){gn=p;return}gn=p=S}while(p!==null);Dr=6,gn=null}function FL(p,y,S,C,z,U,ce,we,Re){p.cancelPendingCommit=null;do Ix();while(gi!==0);if((jn&6)!==0)throw Error(i(327));if(y!==null){if(y===p.current)throw Error(i(177));if(U=y.lanes|y.childLanes,U|=Sk,_e(p,S,U,ce,we,Re),p===nr&&(gn=nr=null,Tn=0),Qp=y,Cu=p,em=S,_T=U,AT=z,NL=C,(y.subtreeFlags&10256)!==0||(y.flags&10256)!==0?(p.callbackNode=null,p.callbackPriority=0,abe(ve,function(){return GL(),null})):(p.callbackNode=null,p.callbackPriority=0),C=(y.flags&13878)!==0,(y.subtreeFlags&13878)!==0||C){C=H.T,H.T=null,z=G.p,G.p=2,ce=jn,jn|=4;try{Xye(p,y,S)}finally{jn=ce,G.p=z,H.T=C}}gi=1,HL(),WL(),VL()}}function HL(){if(gi===1){gi=0;var p=Cu,y=Qp,S=(y.flags&13878)!==0;if((y.subtreeFlags&13878)!==0||S){S=H.T,H.T=null;var C=G.p;G.p=2;var z=jn;jn|=4;try{EL(y,p);var U=WT,ce=R$(p.containerInfo),we=U.focusedElem,Re=U.selectionRange;if(ce!==we&&we&&we.ownerDocument&&M$(we.ownerDocument.documentElement,we)){if(Re!==null&&yk(we)){var je=Re.start,Je=Re.end;if(Je===void 0&&(Je=je),"selectionStart"in we)we.selectionStart=je,we.selectionEnd=Math.min(Je,we.value.length);else{var tt=we.ownerDocument||document,Ve=tt&&tt.defaultView||window;if(Ve.getSelection){var Ge=Ve.getSelection(),Zt=we.textContent.length,qt=Math.min(Re.start,Zt),qn=Re.end===void 0?qt:Math.min(Re.end,Zt);!Ge.extend&&qt>qn&&(ce=qn,qn=qt,qt=ce);var ze=D$(we,qt),Oe=D$(we,qn);if(ze&&Oe&&(Ge.rangeCount!==1||Ge.anchorNode!==ze.node||Ge.anchorOffset!==ze.offset||Ge.focusNode!==Oe.node||Ge.focusOffset!==Oe.offset)){var Be=tt.createRange();Be.setStart(ze.node,ze.offset),Ge.removeAllRanges(),qt>qn?(Ge.addRange(Be),Ge.extend(Oe.node,Oe.offset)):(Be.setEnd(Oe.node,Oe.offset),Ge.addRange(Be))}}}}for(tt=[],Ge=we;Ge=Ge.parentNode;)Ge.nodeType===1&&tt.push({element:Ge,left:Ge.scrollLeft,top:Ge.scrollTop});for(typeof we.focus=="function"&&we.focus(),we=0;we<tt.length;we++){var et=tt[we];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Gx=!!HT,WT=HT=null}finally{jn=z,G.p=C,H.T=S}}p.current=y,gi=2}}function WL(){if(gi===2){gi=0;var p=Cu,y=Qp,S=(y.flags&8772)!==0;if((y.subtreeFlags&8772)!==0||S){S=H.T,H.T=null;var C=G.p;G.p=2;var z=jn;jn|=4;try{wL(p,y.alternate,y)}finally{jn=z,G.p=C,H.T=S}}gi=3}}function VL(){if(gi===4||gi===3){gi=0,V();var p=Cu,y=Qp,S=em,C=NL;(y.subtreeFlags&10256)!==0||(y.flags&10256)!==0?gi=5:(gi=0,Qp=Cu=null,qL(p,p.pendingLanes));var z=p.pendingLanes;if(z===0&&(Eu=null),pn(S),y=y.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(De,y,void 0,(y.current.flags&128)===128)}catch{}if(C!==null){y=H.T,z=G.p,G.p=2,H.T=null;try{for(var U=p.onRecoverableError,ce=0;ce<C.length;ce++){var we=C[ce];U(we.value,{componentStack:we.stack})}}finally{H.T=y,G.p=z}}(em&3)!==0&&Ix(),Vs(p),z=p.pendingLanes,(S&4194090)!==0&&(z&42)!==0?p===DT?r1++:(r1=0,DT=p):r1=0,i1(0)}}function qL(p,y){(p.pooledCacheLanes&=y)===0&&(y=p.pooledCache,y!=null&&(p.pooledCache=null,zg(y)))}function Ix(p){return HL(),WL(),VL(),GL()}function GL(){if(gi!==5)return!1;var p=Cu,y=_T;_T=0;var S=pn(em),C=H.T,z=G.p;try{G.p=32>S?32:S,H.T=null,S=AT,AT=null;var U=Cu,ce=em;if(gi=0,Qp=Cu=null,em=0,(jn&6)!==0)throw Error(i(331));var we=jn;if(jn|=4,ML(U.current),_L(U,U.current,ce,S),jn=we,i1(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(De,U)}catch{}return!0}finally{G.p=z,H.T=C,qL(p,y)}}function KL(p,y,S){y=_a(S,y),y=sT(p.stateNode,y,2),p=gu(p,y,2),p!==null&&(xe(p,2),Vs(p))}function Zn(p,y,S){if(p.tag===3)KL(p,p,S);else for(;y!==null;){if(y.tag===3){KL(y,p,S);break}else if(y.tag===1){var C=y.stateNode;if(typeof y.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Eu===null||!Eu.has(C))){p=_a(S,p),S=Jz(2),C=gu(y,S,2),C!==null&&(Qz(S,C,y,p),xe(C,2),Vs(C));break}}y=y.return}}function OT(p,y,S){var C=p.pingCache;if(C===null){C=p.pingCache=new Jye;var z=new Set;C.set(y,z)}else z=C.get(y),z===void 0&&(z=new Set,C.set(y,z));z.has(S)||(kT=!0,z.add(S),p=rbe.bind(null,p,y,S),y.then(p,p))}function rbe(p,y,S){var C=p.pingCache;C!==null&&C.delete(y),p.pingedLanes|=p.suspendedLanes&S,p.warmLanes&=~S,nr===p&&(Tn&S)===S&&(Dr===4||Dr===3&&(Tn&62914560)===Tn&&300>R()-CT?(jn&2)===0&&tm(p,0):TT|=S,Jp===Tn&&(Jp=0)),Vs(p)}function XL(p,y){y===0&&(y=Yt()),p=zp(p,y),p!==null&&(xe(p,y),Vs(p))}function ibe(p){var y=p.memoizedState,S=0;y!==null&&(S=y.retryLane),XL(p,S)}function obe(p,y){var S=0;switch(p.tag){case 13:var C=p.stateNode,z=p.memoizedState;z!==null&&(S=z.retryLane);break;case 19:C=p.stateNode;break;case 22:C=p.stateNode._retryCache;break;default:throw Error(i(314))}C!==null&&C.delete(y),XL(p,S)}function abe(p,y){return Ee(p,y)}var $x=null,rm=null,PT=!1,zx=!1,IT=!1,Nh=0;function Vs(p){p!==rm&&p.next===null&&(rm===null?$x=rm=p:rm=rm.next=p),zx=!0,PT||(PT=!0,lbe())}function i1(p,y){if(!IT&&zx){IT=!0;do for(var S=!1,C=$x;C!==null;){if(p!==0){var z=C.pendingLanes;if(z===0)var U=0;else{var ce=C.suspendedLanes,we=C.pingedLanes;U=(1<<31-pt(42|p)+1)-1,U&=z&~(ce&~we),U=U&201326741?U&201326741|1:U?U|2:0}U!==0&&(S=!0,QL(C,U))}else U=Tn,U=Ce(C,C===nr?U:0,C.cancelPendingCommit!==null||C.timeoutHandle!==-1),(U&3)===0||$e(C,U)||(S=!0,QL(C,U));C=C.next}while(S);IT=!1}}function sbe(){YL()}function YL(){zx=PT=!1;var p=0;Nh!==0&&(gbe()&&(p=Nh),Nh=0);for(var y=R(),S=null,C=$x;C!==null;){var z=C.next,U=ZL(C,y);U===0?(C.next=null,S===null?$x=z:S.next=z,z===null&&(rm=S)):(S=C,(p!==0||(U&3)!==0)&&(zx=!0)),C=z}i1(p)}function ZL(p,y){for(var S=p.suspendedLanes,C=p.pingedLanes,z=p.expirationTimes,U=p.pendingLanes&-62914561;0<U;){var ce=31-pt(U),we=1<<ce,Re=z[ce];Re===-1?((we&S)===0||(we&C)!==0)&&(z[ce]=vt(we,y)):Re<=y&&(p.expiredLanes|=we),U&=~we}if(y=nr,S=Tn,S=Ce(p,p===y?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),C=p.callbackNode,S===0||p===y&&(Fn===2||Fn===9)||p.cancelPendingCommit!==null)return C!==null&&C!==null&&M(C),p.callbackNode=null,p.callbackPriority=0;if((S&3)===0||$e(p,S)){if(y=S&-S,y===p.callbackPriority)return y;switch(C!==null&&M(C),pn(S)){case 2:case 8:S=ue;break;case 32:S=ve;break;case 268435456:S=ge;break;default:S=ve}return C=JL.bind(null,p),S=Ee(S,C),p.callbackPriority=y,p.callbackNode=S,y}return C!==null&&C!==null&&M(C),p.callbackPriority=2,p.callbackNode=null,2}function JL(p,y){if(gi!==0&&gi!==5)return p.callbackNode=null,p.callbackPriority=0,null;var S=p.callbackNode;if(Ix()&&p.callbackNode!==S)return null;var C=Tn;return C=Ce(p,p===nr?C:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),C===0?null:(PL(p,C,y),ZL(p,R()),p.callbackNode!=null&&p.callbackNode===S?JL.bind(null,p):null)}function QL(p,y){if(Ix())return null;PL(p,y,!0)}function lbe(){bbe(function(){(jn&6)!==0?Ee(B,sbe):YL()})}function $T(){return Nh===0&&(Nh=zt()),Nh}function eU(p){return p==null||typeof p=="symbol"||typeof p=="boolean"?null:typeof p=="function"?p:Kv(""+p)}function tU(p,y){var S=y.ownerDocument.createElement("input");return S.name=y.name,S.value=y.value,p.id&&S.setAttribute("form",p.id),y.parentNode.insertBefore(S,y),p=new FormData(p),S.parentNode.removeChild(S),p}function cbe(p,y,S,C,z){if(y==="submit"&&S&&S.stateNode===z){var U=eU((z[lr]||null).action),ce=C.submitter;ce&&(y=(y=ce[lr]||null)?eU(y.formAction):ce.getAttribute("formAction"),y!==null&&(U=y,ce=null));var we=new Jv("action","action",null,C,z);p.push({event:we,listeners:[{instance:null,listener:function(){if(C.defaultPrevented){if(Nh!==0){var Re=ce?tU(z,ce):new FormData(z);nT(S,{pending:!0,data:Re,method:z.method,action:U},null,Re)}}else typeof U=="function"&&(we.preventDefault(),Re=ce?tU(z,ce):new FormData(z),nT(S,{pending:!0,data:Re,method:z.method,action:U},U,Re))},currentTarget:z}]})}}for(var zT=0;zT<wk.length;zT++){var LT=wk[zT],ube=LT.toLowerCase(),dbe=LT[0].toUpperCase()+LT.slice(1);us(ube,"on"+dbe)}us(P$,"onAnimationEnd"),us(I$,"onAnimationIteration"),us($$,"onAnimationStart"),us("dblclick","onDoubleClick"),us("focusin","onFocus"),us("focusout","onBlur"),us(Aye,"onTransitionRun"),us(Dye,"onTransitionStart"),us(Mye,"onTransitionCancel"),us(z$,"onTransitionEnd"),Bl("onMouseEnter",["mouseout","mouseover"]),Bl("onMouseLeave",["mouseout","mouseover"]),Bl("onPointerEnter",["pointerout","pointerover"]),Bl("onPointerLeave",["pointerout","pointerover"]),Ul("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ul("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ul("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ul("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ul("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ul("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var o1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hbe=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(o1));function nU(p,y){y=(y&4)!==0;for(var S=0;S<p.length;S++){var C=p[S],z=C.event;C=C.listeners;e:{var U=void 0;if(y)for(var ce=C.length-1;0<=ce;ce--){var we=C[ce],Re=we.instance,je=we.currentTarget;if(we=we.listener,Re!==U&&z.isPropagationStopped())break e;U=we,z.currentTarget=je;try{U(z)}catch(Je){Tx(Je)}z.currentTarget=null,U=Re}else for(ce=0;ce<C.length;ce++){if(we=C[ce],Re=we.instance,je=we.currentTarget,we=we.listener,Re!==U&&z.isPropagationStopped())break e;U=we,z.currentTarget=je;try{U(z)}catch(Je){Tx(Je)}z.currentTarget=null,U=Re}}}}function yn(p,y){var S=y[Mi];S===void 0&&(S=y[Mi]=new Set);var C=p+"__bubble";S.has(C)||(rU(y,p,2,!1),S.add(C))}function UT(p,y,S){var C=0;y&&(C|=4),rU(S,p,C,y)}var Lx="_reactListening"+Math.random().toString(36).slice(2);function BT(p){if(!p[Lx]){p[Lx]=!0,Ll.forEach(function(S){S!=="selectionchange"&&(hbe.has(S)||UT(S,!1,p),UT(S,!0,p))});var y=p.nodeType===9?p:p.ownerDocument;y===null||y[Lx]||(y[Lx]=!0,UT("selectionchange",!1,y))}}function rU(p,y,S,C){switch(_U(y)){case 2:var z=Ube;break;case 8:z=Bbe;break;default:z=e8}S=z.bind(null,y,S,p),z=void 0,!lk||y!=="touchstart"&&y!=="touchmove"&&y!=="wheel"||(z=!0),C?z!==void 0?p.addEventListener(y,S,{capture:!0,passive:z}):p.addEventListener(y,S,!0):z!==void 0?p.addEventListener(y,S,{passive:z}):p.addEventListener(y,S,!1)}function jT(p,y,S,C,z){var U=C;if((y&1)===0&&(y&2)===0&&C!==null)e:for(;;){if(C===null)return;var ce=C.tag;if(ce===3||ce===4){var we=C.stateNode.containerInfo;if(we===z)break;if(ce===4)for(ce=C.return;ce!==null;){var Re=ce.tag;if((Re===3||Re===4)&&ce.stateNode.containerInfo===z)return;ce=ce.return}for(;we!==null;){if(ce=Ni(we),ce===null)return;if(Re=ce.tag,Re===5||Re===6||Re===26||Re===27){C=U=ce;continue e}we=we.parentNode}}C=C.return}u$(function(){var je=U,Je=ak(S),tt=[];e:{var Ve=L$.get(p);if(Ve!==void 0){var Ge=Jv,Zt=p;switch(p){case"keypress":if(Yv(S)===0)break e;case"keydown":case"keyup":Ge=aye;break;case"focusin":Zt="focus",Ge=hk;break;case"focusout":Zt="blur",Ge=hk;break;case"beforeblur":case"afterblur":Ge=hk;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ge=f$;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ge=K1e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ge=cye;break;case P$:case I$:case $$:Ge=Z1e;break;case z$:Ge=dye;break;case"scroll":case"scrollend":Ge=q1e;break;case"wheel":Ge=fye;break;case"copy":case"cut":case"paste":Ge=Q1e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ge=m$;break;case"toggle":case"beforetoggle":Ge=mye}var qt=(y&4)!==0,qn=!qt&&(p==="scroll"||p==="scrollend"),ze=qt?Ve!==null?Ve+"Capture":null:Ve;qt=[];for(var Oe=je,Be;Oe!==null;){var et=Oe;if(Be=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||Be===null||ze===null||(et=Tg(Oe,ze),et!=null&&qt.push(a1(Oe,et,Be))),qn)break;Oe=Oe.return}0<qt.length&&(Ve=new Ge(Ve,Zt,null,S,Je),tt.push({event:Ve,listeners:qt}))}}if((y&7)===0){e:{if(Ve=p==="mouseover"||p==="pointerover",Ge=p==="mouseout"||p==="pointerout",Ve&&S!==ok&&(Zt=S.relatedTarget||S.fromElement)&&(Ni(Zt)||Zt[ri]))break e;if((Ge||Ve)&&(Ve=Je.window===Je?Je:(Ve=Je.ownerDocument)?Ve.defaultView||Ve.parentWindow:window,Ge?(Zt=S.relatedTarget||S.toElement,Ge=je,Zt=Zt?Ni(Zt):null,Zt!==null&&(qn=a(Zt),qt=Zt.tag,Zt!==qn||qt!==5&&qt!==27&&qt!==6)&&(Zt=null)):(Ge=null,Zt=je),Ge!==Zt)){if(qt=f$,et="onMouseLeave",ze="onMouseEnter",Oe="mouse",(p==="pointerout"||p==="pointerover")&&(qt=m$,et="onPointerLeave",ze="onPointerEnter",Oe="pointer"),qn=Ge==null?Ve:uu(Ge),Be=Zt==null?Ve:uu(Zt),Ve=new qt(et,Oe+"leave",Ge,S,Je),Ve.target=qn,Ve.relatedTarget=Be,et=null,Ni(Je)===je&&(qt=new qt(ze,Oe+"enter",Zt,S,Je),qt.target=Be,qt.relatedTarget=qn,et=qt),qn=et,Ge&&Zt)t:{for(qt=Ge,ze=Zt,Oe=0,Be=qt;Be;Be=im(Be))Oe++;for(Be=0,et=ze;et;et=im(et))Be++;for(;0<Oe-Be;)qt=im(qt),Oe--;for(;0<Be-Oe;)ze=im(ze),Be--;for(;Oe--;){if(qt===ze||ze!==null&&qt===ze.alternate)break t;qt=im(qt),ze=im(ze)}qt=null}else qt=null;Ge!==null&&iU(tt,Ve,Ge,qt,!1),Zt!==null&&qn!==null&&iU(tt,qn,Zt,qt,!0)}}e:{if(Ve=je?uu(je):window,Ge=Ve.nodeName&&Ve.nodeName.toLowerCase(),Ge==="select"||Ge==="input"&&Ve.type==="file")var At=k$;else if(w$(Ve))if(T$)At=Eye;else{At=kye;var mn=Sye}else Ge=Ve.nodeName,!Ge||Ge.toLowerCase()!=="input"||Ve.type!=="checkbox"&&Ve.type!=="radio"?je&&ik(je.elementType)&&(At=k$):At=Tye;if(At&&(At=At(p,je))){S$(tt,At,S,Je);break e}mn&&mn(p,Ve,je),p==="focusout"&&je&&Ve.type==="number"&&je.memoizedProps.value!=null&&rk(Ve,"number",Ve.value)}switch(mn=je?uu(je):window,p){case"focusin":(w$(mn)||mn.contentEditable==="true")&&(Pp=mn,bk=je,Ng=null);break;case"focusout":Ng=bk=Pp=null;break;case"mousedown":vk=!0;break;case"contextmenu":case"mouseup":case"dragend":vk=!1,N$(tt,S,Je);break;case"selectionchange":if(_ye)break;case"keydown":case"keyup":N$(tt,S,Je)}var It;if(pk)e:{switch(p){case"compositionstart":var Kt="onCompositionStart";break e;case"compositionend":Kt="onCompositionEnd";break e;case"compositionupdate":Kt="onCompositionUpdate";break e}Kt=void 0}else Op?v$(p,S)&&(Kt="onCompositionEnd"):p==="keydown"&&S.keyCode===229&&(Kt="onCompositionStart");Kt&&(g$&&S.locale!=="ko"&&(Op||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&Op&&(It=d$()):(hu=Je,ck="value"in hu?hu.value:hu.textContent,Op=!0)),mn=Ux(je,Kt),0<mn.length&&(Kt=new p$(Kt,p,null,S,Je),tt.push({event:Kt,listeners:mn}),It?Kt.data=It:(It=x$(S),It!==null&&(Kt.data=It)))),(It=yye?bye(p,S):vye(p,S))&&(Kt=Ux(je,"onBeforeInput"),0<Kt.length&&(mn=new p$("onBeforeInput","beforeinput",null,S,Je),tt.push({event:mn,listeners:Kt}),mn.data=It)),cbe(tt,p,je,S,Je)}nU(tt,y)})}function a1(p,y,S){return{instance:p,listener:y,currentTarget:S}}function Ux(p,y){for(var S=y+"Capture",C=[];p!==null;){var z=p,U=z.stateNode;if(z=z.tag,z!==5&&z!==26&&z!==27||U===null||(z=Tg(p,S),z!=null&&C.unshift(a1(p,z,U)),z=Tg(p,y),z!=null&&C.push(a1(p,z,U))),p.tag===3)return C;p=p.return}return[]}function im(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5&&p.tag!==27);return p||null}function iU(p,y,S,C,z){for(var U=y._reactName,ce=[];S!==null&&S!==C;){var we=S,Re=we.alternate,je=we.stateNode;if(we=we.tag,Re!==null&&Re===C)break;we!==5&&we!==26&&we!==27||je===null||(Re=je,z?(je=Tg(S,U),je!=null&&ce.unshift(a1(S,je,Re))):z||(je=Tg(S,U),je!=null&&ce.push(a1(S,je,Re)))),S=S.return}ce.length!==0&&p.push({event:y,listeners:ce})}var fbe=/\r\n?/g,pbe=/\u0000|\uFFFD/g;function oU(p){return(typeof p=="string"?p:""+p).replace(fbe,`
`).replace(pbe,"")}function aU(p,y){return y=oU(y),oU(p)===y}function Bx(){}function Vn(p,y,S,C,z,U){switch(S){case"children":typeof C=="string"?y==="body"||y==="textarea"&&C===""||Mp(p,C):(typeof C=="number"||typeof C=="bigint")&&y!=="body"&&Mp(p,""+C);break;case"className":Vv(p,"class",C);break;case"tabIndex":Vv(p,"tabindex",C);break;case"dir":case"role":case"viewBox":case"width":case"height":Vv(p,S,C);break;case"style":l$(p,C,U);break;case"data":if(y!=="object"){Vv(p,"data",C);break}case"src":case"href":if(C===""&&(y!=="a"||S!=="href")){p.removeAttribute(S);break}if(C==null||typeof C=="function"||typeof C=="symbol"||typeof C=="boolean"){p.removeAttribute(S);break}C=Kv(""+C),p.setAttribute(S,C);break;case"action":case"formAction":if(typeof C=="function"){p.setAttribute(S,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof U=="function"&&(S==="formAction"?(y!=="input"&&Vn(p,y,"name",z.name,z,null),Vn(p,y,"formEncType",z.formEncType,z,null),Vn(p,y,"formMethod",z.formMethod,z,null),Vn(p,y,"formTarget",z.formTarget,z,null)):(Vn(p,y,"encType",z.encType,z,null),Vn(p,y,"method",z.method,z,null),Vn(p,y,"target",z.target,z,null)));if(C==null||typeof C=="symbol"||typeof C=="boolean"){p.removeAttribute(S);break}C=Kv(""+C),p.setAttribute(S,C);break;case"onClick":C!=null&&(p.onclick=Bx);break;case"onScroll":C!=null&&yn("scroll",p);break;case"onScrollEnd":C!=null&&yn("scrollend",p);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(i(61));if(S=C.__html,S!=null){if(z.children!=null)throw Error(i(60));p.innerHTML=S}}break;case"multiple":p.multiple=C&&typeof C!="function"&&typeof C!="symbol";break;case"muted":p.muted=C&&typeof C!="function"&&typeof C!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(C==null||typeof C=="function"||typeof C=="boolean"||typeof C=="symbol"){p.removeAttribute("xlink:href");break}S=Kv(""+C),p.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",S);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":C!=null&&typeof C!="function"&&typeof C!="symbol"?p.setAttribute(S,""+C):p.removeAttribute(S);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":C&&typeof C!="function"&&typeof C!="symbol"?p.setAttribute(S,""):p.removeAttribute(S);break;case"capture":case"download":C===!0?p.setAttribute(S,""):C!==!1&&C!=null&&typeof C!="function"&&typeof C!="symbol"?p.setAttribute(S,C):p.removeAttribute(S);break;case"cols":case"rows":case"size":case"span":C!=null&&typeof C!="function"&&typeof C!="symbol"&&!isNaN(C)&&1<=C?p.setAttribute(S,C):p.removeAttribute(S);break;case"rowSpan":case"start":C==null||typeof C=="function"||typeof C=="symbol"||isNaN(C)?p.removeAttribute(S):p.setAttribute(S,C);break;case"popover":yn("beforetoggle",p),yn("toggle",p),Wv(p,"popover",C);break;case"xlinkActuate":jl(p,"http://www.w3.org/1999/xlink","xlink:actuate",C);break;case"xlinkArcrole":jl(p,"http://www.w3.org/1999/xlink","xlink:arcrole",C);break;case"xlinkRole":jl(p,"http://www.w3.org/1999/xlink","xlink:role",C);break;case"xlinkShow":jl(p,"http://www.w3.org/1999/xlink","xlink:show",C);break;case"xlinkTitle":jl(p,"http://www.w3.org/1999/xlink","xlink:title",C);break;case"xlinkType":jl(p,"http://www.w3.org/1999/xlink","xlink:type",C);break;case"xmlBase":jl(p,"http://www.w3.org/XML/1998/namespace","xml:base",C);break;case"xmlLang":jl(p,"http://www.w3.org/XML/1998/namespace","xml:lang",C);break;case"xmlSpace":jl(p,"http://www.w3.org/XML/1998/namespace","xml:space",C);break;case"is":Wv(p,"is",C);break;case"innerText":case"textContent":break;default:(!(2<S.length)||S[0]!=="o"&&S[0]!=="O"||S[1]!=="n"&&S[1]!=="N")&&(S=W1e.get(S)||S,Wv(p,S,C))}}function FT(p,y,S,C,z,U){switch(S){case"style":l$(p,C,U);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(i(61));if(S=C.__html,S!=null){if(z.children!=null)throw Error(i(60));p.innerHTML=S}}break;case"children":typeof C=="string"?Mp(p,C):(typeof C=="number"||typeof C=="bigint")&&Mp(p,""+C);break;case"onScroll":C!=null&&yn("scroll",p);break;case"onScrollEnd":C!=null&&yn("scrollend",p);break;case"onClick":C!=null&&(p.onclick=Bx);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gh.hasOwnProperty(S))e:{if(S[0]==="o"&&S[1]==="n"&&(z=S.endsWith("Capture"),y=S.slice(2,z?S.length-7:void 0),U=p[lr]||null,U=U!=null?U[S]:null,typeof U=="function"&&p.removeEventListener(y,U,z),typeof C=="function")){typeof U!="function"&&U!==null&&(S in p?p[S]=null:p.hasAttribute(S)&&p.removeAttribute(S)),p.addEventListener(y,C,z);break e}S in p?p[S]=C:C===!0?p.setAttribute(S,""):Wv(p,S,C)}}}function yi(p,y,S){switch(y){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yn("error",p),yn("load",p);var C=!1,z=!1,U;for(U in S)if(S.hasOwnProperty(U)){var ce=S[U];if(ce!=null)switch(U){case"src":C=!0;break;case"srcSet":z=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,y));default:Vn(p,y,U,ce,S,null)}}z&&Vn(p,y,"srcSet",S.srcSet,S,null),C&&Vn(p,y,"src",S.src,S,null);return;case"input":yn("invalid",p);var we=U=ce=z=null,Re=null,je=null;for(C in S)if(S.hasOwnProperty(C)){var Je=S[C];if(Je!=null)switch(C){case"name":z=Je;break;case"type":ce=Je;break;case"checked":Re=Je;break;case"defaultChecked":je=Je;break;case"value":U=Je;break;case"defaultValue":we=Je;break;case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(i(137,y));break;default:Vn(p,y,C,Je,S,null)}}i$(p,U,we,Re,je,ce,z,!1),qv(p);return;case"select":yn("invalid",p),C=ce=U=null;for(z in S)if(S.hasOwnProperty(z)&&(we=S[z],we!=null))switch(z){case"value":U=we;break;case"defaultValue":ce=we;break;case"multiple":C=we;default:Vn(p,y,z,we,S,null)}y=U,S=ce,p.multiple=!!C,y!=null?Dp(p,!!C,y,!1):S!=null&&Dp(p,!!C,S,!0);return;case"textarea":yn("invalid",p),U=z=C=null;for(ce in S)if(S.hasOwnProperty(ce)&&(we=S[ce],we!=null))switch(ce){case"value":C=we;break;case"defaultValue":z=we;break;case"children":U=we;break;case"dangerouslySetInnerHTML":if(we!=null)throw Error(i(91));break;default:Vn(p,y,ce,we,S,null)}a$(p,C,z,U),qv(p);return;case"option":for(Re in S)if(S.hasOwnProperty(Re)&&(C=S[Re],C!=null))switch(Re){case"selected":p.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:Vn(p,y,Re,C,S,null)}return;case"dialog":yn("beforetoggle",p),yn("toggle",p),yn("cancel",p),yn("close",p);break;case"iframe":case"object":yn("load",p);break;case"video":case"audio":for(C=0;C<o1.length;C++)yn(o1[C],p);break;case"image":yn("error",p),yn("load",p);break;case"details":yn("toggle",p);break;case"embed":case"source":case"link":yn("error",p),yn("load",p);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(je in S)if(S.hasOwnProperty(je)&&(C=S[je],C!=null))switch(je){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,y));default:Vn(p,y,je,C,S,null)}return;default:if(ik(y)){for(Je in S)S.hasOwnProperty(Je)&&(C=S[Je],C!==void 0&&FT(p,y,Je,C,S,void 0));return}}for(we in S)S.hasOwnProperty(we)&&(C=S[we],C!=null&&Vn(p,y,we,C,S,null))}function mbe(p,y,S,C){switch(y){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var z=null,U=null,ce=null,we=null,Re=null,je=null,Je=null;for(Ge in S){var tt=S[Ge];if(S.hasOwnProperty(Ge)&&tt!=null)switch(Ge){case"checked":break;case"value":break;case"defaultValue":Re=tt;default:C.hasOwnProperty(Ge)||Vn(p,y,Ge,null,C,tt)}}for(var Ve in C){var Ge=C[Ve];if(tt=S[Ve],C.hasOwnProperty(Ve)&&(Ge!=null||tt!=null))switch(Ve){case"type":U=Ge;break;case"name":z=Ge;break;case"checked":je=Ge;break;case"defaultChecked":Je=Ge;break;case"value":ce=Ge;break;case"defaultValue":we=Ge;break;case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(i(137,y));break;default:Ge!==tt&&Vn(p,y,Ve,Ge,C,tt)}}nk(p,ce,we,Re,je,Je,U,z);return;case"select":Ge=ce=we=Ve=null;for(U in S)if(Re=S[U],S.hasOwnProperty(U)&&Re!=null)switch(U){case"value":break;case"multiple":Ge=Re;default:C.hasOwnProperty(U)||Vn(p,y,U,null,C,Re)}for(z in C)if(U=C[z],Re=S[z],C.hasOwnProperty(z)&&(U!=null||Re!=null))switch(z){case"value":Ve=U;break;case"defaultValue":we=U;break;case"multiple":ce=U;default:U!==Re&&Vn(p,y,z,U,C,Re)}y=we,S=ce,C=Ge,Ve!=null?Dp(p,!!S,Ve,!1):!!C!=!!S&&(y!=null?Dp(p,!!S,y,!0):Dp(p,!!S,S?[]:"",!1));return;case"textarea":Ge=Ve=null;for(we in S)if(z=S[we],S.hasOwnProperty(we)&&z!=null&&!C.hasOwnProperty(we))switch(we){case"value":break;case"children":break;default:Vn(p,y,we,null,C,z)}for(ce in C)if(z=C[ce],U=S[ce],C.hasOwnProperty(ce)&&(z!=null||U!=null))switch(ce){case"value":Ve=z;break;case"defaultValue":Ge=z;break;case"children":break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(91));break;default:z!==U&&Vn(p,y,ce,z,C,U)}o$(p,Ve,Ge);return;case"option":for(var Zt in S)if(Ve=S[Zt],S.hasOwnProperty(Zt)&&Ve!=null&&!C.hasOwnProperty(Zt))switch(Zt){case"selected":p.selected=!1;break;default:Vn(p,y,Zt,null,C,Ve)}for(Re in C)if(Ve=C[Re],Ge=S[Re],C.hasOwnProperty(Re)&&Ve!==Ge&&(Ve!=null||Ge!=null))switch(Re){case"selected":p.selected=Ve&&typeof Ve!="function"&&typeof Ve!="symbol";break;default:Vn(p,y,Re,Ve,C,Ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qt in S)Ve=S[qt],S.hasOwnProperty(qt)&&Ve!=null&&!C.hasOwnProperty(qt)&&Vn(p,y,qt,null,C,Ve);for(je in C)if(Ve=C[je],Ge=S[je],C.hasOwnProperty(je)&&Ve!==Ge&&(Ve!=null||Ge!=null))switch(je){case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(i(137,y));break;default:Vn(p,y,je,Ve,C,Ge)}return;default:if(ik(y)){for(var qn in S)Ve=S[qn],S.hasOwnProperty(qn)&&Ve!==void 0&&!C.hasOwnProperty(qn)&&FT(p,y,qn,void 0,C,Ve);for(Je in C)Ve=C[Je],Ge=S[Je],!C.hasOwnProperty(Je)||Ve===Ge||Ve===void 0&&Ge===void 0||FT(p,y,Je,Ve,C,Ge);return}}for(var ze in S)Ve=S[ze],S.hasOwnProperty(ze)&&Ve!=null&&!C.hasOwnProperty(ze)&&Vn(p,y,ze,null,C,Ve);for(tt in C)Ve=C[tt],Ge=S[tt],!C.hasOwnProperty(tt)||Ve===Ge||Ve==null&&Ge==null||Vn(p,y,tt,Ve,C,Ge)}var HT=null,WT=null;function jx(p){return p.nodeType===9?p:p.ownerDocument}function sU(p){switch(p){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lU(p,y){if(p===0)switch(y){case"svg":return 1;case"math":return 2;default:return 0}return p===1&&y==="foreignObject"?0:p}function VT(p,y){return p==="textarea"||p==="noscript"||typeof y.children=="string"||typeof y.children=="number"||typeof y.children=="bigint"||typeof y.dangerouslySetInnerHTML=="object"&&y.dangerouslySetInnerHTML!==null&&y.dangerouslySetInnerHTML.__html!=null}var qT=null;function gbe(){var p=window.event;return p&&p.type==="popstate"?p===qT?!1:(qT=p,!0):(qT=null,!1)}var cU=typeof setTimeout=="function"?setTimeout:void 0,ybe=typeof clearTimeout=="function"?clearTimeout:void 0,uU=typeof Promise=="function"?Promise:void 0,bbe=typeof queueMicrotask=="function"?queueMicrotask:typeof uU<"u"?function(p){return uU.resolve(null).then(p).catch(vbe)}:cU;function vbe(p){setTimeout(function(){throw p})}function Au(p){return p==="head"}function dU(p,y){var S=y,C=0,z=0;do{var U=S.nextSibling;if(p.removeChild(S),U&&U.nodeType===8)if(S=U.data,S==="/$"){if(0<C&&8>C){S=C;var ce=p.ownerDocument;if(S&1&&s1(ce.documentElement),S&2&&s1(ce.body),S&4)for(S=ce.head,s1(S),ce=S.firstChild;ce;){var we=ce.nextSibling,Re=ce.nodeName;ce[yo]||Re==="SCRIPT"||Re==="STYLE"||Re==="LINK"&&ce.rel.toLowerCase()==="stylesheet"||S.removeChild(ce),ce=we}}if(z===0){p.removeChild(U),m1(y);return}z--}else S==="$"||S==="$?"||S==="$!"?z++:C=S.charCodeAt(0)-48;else C=0;S=U}while(S);m1(y)}function GT(p){var y=p.firstChild;for(y&&y.nodeType===10&&(y=y.nextSibling);y;){var S=y;switch(y=y.nextSibling,S.nodeName){case"HTML":case"HEAD":case"BODY":GT(S),Bs(S);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(S.rel.toLowerCase()==="stylesheet")continue}p.removeChild(S)}}function xbe(p,y,S,C){for(;p.nodeType===1;){var z=S;if(p.nodeName.toLowerCase()!==y.toLowerCase()){if(!C&&(p.nodeName!=="INPUT"||p.type!=="hidden"))break}else if(C){if(!p[yo])switch(y){case"meta":if(!p.hasAttribute("itemprop"))break;return p;case"link":if(U=p.getAttribute("rel"),U==="stylesheet"&&p.hasAttribute("data-precedence"))break;if(U!==z.rel||p.getAttribute("href")!==(z.href==null||z.href===""?null:z.href)||p.getAttribute("crossorigin")!==(z.crossOrigin==null?null:z.crossOrigin)||p.getAttribute("title")!==(z.title==null?null:z.title))break;return p;case"style":if(p.hasAttribute("data-precedence"))break;return p;case"script":if(U=p.getAttribute("src"),(U!==(z.src==null?null:z.src)||p.getAttribute("type")!==(z.type==null?null:z.type)||p.getAttribute("crossorigin")!==(z.crossOrigin==null?null:z.crossOrigin))&&U&&p.hasAttribute("async")&&!p.hasAttribute("itemprop"))break;return p;default:return p}}else if(y==="input"&&p.type==="hidden"){var U=z.name==null?null:""+z.name;if(z.type==="hidden"&&p.getAttribute("name")===U)return p}else return p;if(p=hs(p.nextSibling),p===null)break}return null}function wbe(p,y,S){if(y==="")return null;for(;p.nodeType!==3;)if((p.nodeType!==1||p.nodeName!=="INPUT"||p.type!=="hidden")&&!S||(p=hs(p.nextSibling),p===null))return null;return p}function KT(p){return p.data==="$!"||p.data==="$?"&&p.ownerDocument.readyState==="complete"}function Sbe(p,y){var S=p.ownerDocument;if(p.data!=="$?"||S.readyState==="complete")y();else{var C=function(){y(),S.removeEventListener("DOMContentLoaded",C)};S.addEventListener("DOMContentLoaded",C),p._reactRetry=C}}function hs(p){for(;p!=null;p=p.nextSibling){var y=p.nodeType;if(y===1||y===3)break;if(y===8){if(y=p.data,y==="$"||y==="$!"||y==="$?"||y==="F!"||y==="F")break;if(y==="/$")return null}}return p}var XT=null;function hU(p){p=p.previousSibling;for(var y=0;p;){if(p.nodeType===8){var S=p.data;if(S==="$"||S==="$!"||S==="$?"){if(y===0)return p;y--}else S==="/$"&&y++}p=p.previousSibling}return null}function fU(p,y,S){switch(y=jx(S),p){case"html":if(p=y.documentElement,!p)throw Error(i(452));return p;case"head":if(p=y.head,!p)throw Error(i(453));return p;case"body":if(p=y.body,!p)throw Error(i(454));return p;default:throw Error(i(451))}}function s1(p){for(var y=p.attributes;y.length;)p.removeAttributeNode(y[0]);Bs(p)}var Oa=new Map,pU=new Set;function Fx(p){return typeof p.getRootNode=="function"?p.getRootNode():p.nodeType===9?p:p.ownerDocument}var tc=G.d;G.d={f:kbe,r:Tbe,D:Ebe,C:Cbe,L:_be,m:Abe,X:Mbe,S:Dbe,M:Rbe};function kbe(){var p=tc.f(),y=Ox();return p||y}function Tbe(p){var y=Vo(p);y!==null&&y.tag===5&&y.type==="form"?Pz(y):tc.r(p)}var om=typeof document>"u"?null:document;function mU(p,y,S){var C=om;if(C&&typeof y=="string"&&y){var z=Ca(y);z='link[rel="'+p+'"][href="'+z+'"]',typeof S=="string"&&(z+='[crossorigin="'+S+'"]'),pU.has(z)||(pU.add(z),p={rel:p,crossOrigin:S,href:y},C.querySelector(z)===null&&(y=C.createElement("link"),yi(y,"link",p),_r(y),C.head.appendChild(y)))}}function Ebe(p){tc.D(p),mU("dns-prefetch",p,null)}function Cbe(p,y){tc.C(p,y),mU("preconnect",p,y)}function _be(p,y,S){tc.L(p,y,S);var C=om;if(C&&p&&y){var z='link[rel="preload"][as="'+Ca(y)+'"]';y==="image"&&S&&S.imageSrcSet?(z+='[imagesrcset="'+Ca(S.imageSrcSet)+'"]',typeof S.imageSizes=="string"&&(z+='[imagesizes="'+Ca(S.imageSizes)+'"]')):z+='[href="'+Ca(p)+'"]';var U=z;switch(y){case"style":U=am(p);break;case"script":U=sm(p)}Oa.has(U)||(p=d({rel:"preload",href:y==="image"&&S&&S.imageSrcSet?void 0:p,as:y},S),Oa.set(U,p),C.querySelector(z)!==null||y==="style"&&C.querySelector(l1(U))||y==="script"&&C.querySelector(c1(U))||(y=C.createElement("link"),yi(y,"link",p),_r(y),C.head.appendChild(y)))}}function Abe(p,y){tc.m(p,y);var S=om;if(S&&p){var C=y&&typeof y.as=="string"?y.as:"script",z='link[rel="modulepreload"][as="'+Ca(C)+'"][href="'+Ca(p)+'"]',U=z;switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":U=sm(p)}if(!Oa.has(U)&&(p=d({rel:"modulepreload",href:p},y),Oa.set(U,p),S.querySelector(z)===null)){switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(S.querySelector(c1(U)))return}C=S.createElement("link"),yi(C,"link",p),_r(C),S.head.appendChild(C)}}}function Dbe(p,y,S){tc.S(p,y,S);var C=om;if(C&&p){var z=du(C).hoistableStyles,U=am(p);y=y||"default";var ce=z.get(U);if(!ce){var we={loading:0,preload:null};if(ce=C.querySelector(l1(U)))we.loading=5;else{p=d({rel:"stylesheet",href:p,"data-precedence":y},S),(S=Oa.get(U))&&YT(p,S);var Re=ce=C.createElement("link");_r(Re),yi(Re,"link",p),Re._p=new Promise(function(je,Je){Re.onload=je,Re.onerror=Je}),Re.addEventListener("load",function(){we.loading|=1}),Re.addEventListener("error",function(){we.loading|=2}),we.loading|=4,Hx(ce,y,C)}ce={type:"stylesheet",instance:ce,count:1,state:we},z.set(U,ce)}}}function Mbe(p,y){tc.X(p,y);var S=om;if(S&&p){var C=du(S).hoistableScripts,z=sm(p),U=C.get(z);U||(U=S.querySelector(c1(z)),U||(p=d({src:p,async:!0},y),(y=Oa.get(z))&&ZT(p,y),U=S.createElement("script"),_r(U),yi(U,"link",p),S.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},C.set(z,U))}}function Rbe(p,y){tc.M(p,y);var S=om;if(S&&p){var C=du(S).hoistableScripts,z=sm(p),U=C.get(z);U||(U=S.querySelector(c1(z)),U||(p=d({src:p,async:!0,type:"module"},y),(y=Oa.get(z))&&ZT(p,y),U=S.createElement("script"),_r(U),yi(U,"link",p),S.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},C.set(z,U))}}function gU(p,y,S,C){var z=(z=me.current)?Fx(z):null;if(!z)throw Error(i(446));switch(p){case"meta":case"title":return null;case"style":return typeof S.precedence=="string"&&typeof S.href=="string"?(y=am(S.href),S=du(z).hoistableStyles,C=S.get(y),C||(C={type:"style",instance:null,count:0,state:null},S.set(y,C)),C):{type:"void",instance:null,count:0,state:null};case"link":if(S.rel==="stylesheet"&&typeof S.href=="string"&&typeof S.precedence=="string"){p=am(S.href);var U=du(z).hoistableStyles,ce=U.get(p);if(ce||(z=z.ownerDocument||z,ce={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},U.set(p,ce),(U=z.querySelector(l1(p)))&&!U._p&&(ce.instance=U,ce.state.loading=5),Oa.has(p)||(S={rel:"preload",as:"style",href:S.href,crossOrigin:S.crossOrigin,integrity:S.integrity,media:S.media,hrefLang:S.hrefLang,referrerPolicy:S.referrerPolicy},Oa.set(p,S),U||Nbe(z,p,S,ce.state))),y&&C===null)throw Error(i(528,""));return ce}if(y&&C!==null)throw Error(i(529,""));return null;case"script":return y=S.async,S=S.src,typeof S=="string"&&y&&typeof y!="function"&&typeof y!="symbol"?(y=sm(S),S=du(z).hoistableScripts,C=S.get(y),C||(C={type:"script",instance:null,count:0,state:null},S.set(y,C)),C):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,p))}}function am(p){return'href="'+Ca(p)+'"'}function l1(p){return'link[rel="stylesheet"]['+p+"]"}function yU(p){return d({},p,{"data-precedence":p.precedence,precedence:null})}function Nbe(p,y,S,C){p.querySelector('link[rel="preload"][as="style"]['+y+"]")?C.loading=1:(y=p.createElement("link"),C.preload=y,y.addEventListener("load",function(){return C.loading|=1}),y.addEventListener("error",function(){return C.loading|=2}),yi(y,"link",S),_r(y),p.head.appendChild(y))}function sm(p){return'[src="'+Ca(p)+'"]'}function c1(p){return"script[async]"+p}function bU(p,y,S){if(y.count++,y.instance===null)switch(y.type){case"style":var C=p.querySelector('style[data-href~="'+Ca(S.href)+'"]');if(C)return y.instance=C,_r(C),C;var z=d({},S,{"data-href":S.href,"data-precedence":S.precedence,href:null,precedence:null});return C=(p.ownerDocument||p).createElement("style"),_r(C),yi(C,"style",z),Hx(C,S.precedence,p),y.instance=C;case"stylesheet":z=am(S.href);var U=p.querySelector(l1(z));if(U)return y.state.loading|=4,y.instance=U,_r(U),U;C=yU(S),(z=Oa.get(z))&&YT(C,z),U=(p.ownerDocument||p).createElement("link"),_r(U);var ce=U;return ce._p=new Promise(function(we,Re){ce.onload=we,ce.onerror=Re}),yi(U,"link",C),y.state.loading|=4,Hx(U,S.precedence,p),y.instance=U;case"script":return U=sm(S.src),(z=p.querySelector(c1(U)))?(y.instance=z,_r(z),z):(C=S,(z=Oa.get(U))&&(C=d({},S),ZT(C,z)),p=p.ownerDocument||p,z=p.createElement("script"),_r(z),yi(z,"link",C),p.head.appendChild(z),y.instance=z);case"void":return null;default:throw Error(i(443,y.type))}else y.type==="stylesheet"&&(y.state.loading&4)===0&&(C=y.instance,y.state.loading|=4,Hx(C,S.precedence,p));return y.instance}function Hx(p,y,S){for(var C=S.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),z=C.length?C[C.length-1]:null,U=z,ce=0;ce<C.length;ce++){var we=C[ce];if(we.dataset.precedence===y)U=we;else if(U!==z)break}U?U.parentNode.insertBefore(p,U.nextSibling):(y=S.nodeType===9?S.head:S,y.insertBefore(p,y.firstChild))}function YT(p,y){p.crossOrigin==null&&(p.crossOrigin=y.crossOrigin),p.referrerPolicy==null&&(p.referrerPolicy=y.referrerPolicy),p.title==null&&(p.title=y.title)}function ZT(p,y){p.crossOrigin==null&&(p.crossOrigin=y.crossOrigin),p.referrerPolicy==null&&(p.referrerPolicy=y.referrerPolicy),p.integrity==null&&(p.integrity=y.integrity)}var Wx=null;function vU(p,y,S){if(Wx===null){var C=new Map,z=Wx=new Map;z.set(S,C)}else z=Wx,C=z.get(S),C||(C=new Map,z.set(S,C));if(C.has(p))return C;for(C.set(p,null),S=S.getElementsByTagName(p),z=0;z<S.length;z++){var U=S[z];if(!(U[yo]||U[Bn]||p==="link"&&U.getAttribute("rel")==="stylesheet")&&U.namespaceURI!=="http://www.w3.org/2000/svg"){var ce=U.getAttribute(y)||"";ce=p+ce;var we=C.get(ce);we?we.push(U):C.set(ce,[U])}}return C}function xU(p,y,S){p=p.ownerDocument||p,p.head.insertBefore(S,y==="title"?p.querySelector("head > title"):null)}function Obe(p,y,S){if(S===1||y.itemProp!=null)return!1;switch(p){case"meta":case"title":return!0;case"style":if(typeof y.precedence!="string"||typeof y.href!="string"||y.href==="")break;return!0;case"link":if(typeof y.rel!="string"||typeof y.href!="string"||y.href===""||y.onLoad||y.onError)break;switch(y.rel){case"stylesheet":return p=y.disabled,typeof y.precedence=="string"&&p==null;default:return!0}case"script":if(y.async&&typeof y.async!="function"&&typeof y.async!="symbol"&&!y.onLoad&&!y.onError&&y.src&&typeof y.src=="string")return!0}return!1}function wU(p){return!(p.type==="stylesheet"&&(p.state.loading&3)===0)}var u1=null;function Pbe(){}function Ibe(p,y,S){if(u1===null)throw Error(i(475));var C=u1;if(y.type==="stylesheet"&&(typeof S.media!="string"||matchMedia(S.media).matches!==!1)&&(y.state.loading&4)===0){if(y.instance===null){var z=am(S.href),U=p.querySelector(l1(z));if(U){p=U._p,p!==null&&typeof p=="object"&&typeof p.then=="function"&&(C.count++,C=Vx.bind(C),p.then(C,C)),y.state.loading|=4,y.instance=U,_r(U);return}U=p.ownerDocument||p,S=yU(S),(z=Oa.get(z))&&YT(S,z),U=U.createElement("link"),_r(U);var ce=U;ce._p=new Promise(function(we,Re){ce.onload=we,ce.onerror=Re}),yi(U,"link",S),y.instance=U}C.stylesheets===null&&(C.stylesheets=new Map),C.stylesheets.set(y,p),(p=y.state.preload)&&(y.state.loading&3)===0&&(C.count++,y=Vx.bind(C),p.addEventListener("load",y),p.addEventListener("error",y))}}function $be(){if(u1===null)throw Error(i(475));var p=u1;return p.stylesheets&&p.count===0&&JT(p,p.stylesheets),0<p.count?function(y){var S=setTimeout(function(){if(p.stylesheets&&JT(p,p.stylesheets),p.unsuspend){var C=p.unsuspend;p.unsuspend=null,C()}},6e4);return p.unsuspend=y,function(){p.unsuspend=null,clearTimeout(S)}}:null}function Vx(){if(this.count--,this.count===0){if(this.stylesheets)JT(this,this.stylesheets);else if(this.unsuspend){var p=this.unsuspend;this.unsuspend=null,p()}}}var qx=null;function JT(p,y){p.stylesheets=null,p.unsuspend!==null&&(p.count++,qx=new Map,y.forEach(zbe,p),qx=null,Vx.call(p))}function zbe(p,y){if(!(y.state.loading&4)){var S=qx.get(p);if(S)var C=S.get(null);else{S=new Map,qx.set(p,S);for(var z=p.querySelectorAll("link[data-precedence],style[data-precedence]"),U=0;U<z.length;U++){var ce=z[U];(ce.nodeName==="LINK"||ce.getAttribute("media")!=="not all")&&(S.set(ce.dataset.precedence,ce),C=ce)}C&&S.set(null,C)}z=y.instance,ce=z.getAttribute("data-precedence"),U=S.get(ce)||C,U===C&&S.set(null,z),S.set(ce,z),this.count++,C=Vx.bind(this),z.addEventListener("load",C),z.addEventListener("error",C),U?U.parentNode.insertBefore(z,U.nextSibling):(p=p.nodeType===9?p.head:p,p.insertBefore(z,p.firstChild)),y.state.loading|=4}}var d1={$$typeof:k,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Lbe(p,y,S,C,z,U,ce,we){this.tag=1,this.containerInfo=p,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fe(0),this.hiddenUpdates=fe(null),this.identifierPrefix=C,this.onUncaughtError=z,this.onCaughtError=U,this.onRecoverableError=ce,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=we,this.incompleteTransitions=new Map}function SU(p,y,S,C,z,U,ce,we,Re,je,Je,tt){return p=new Lbe(p,y,S,ce,we,Re,je,tt),y=1,U===!0&&(y|=24),U=Go(3,null,null,y),p.current=U,U.stateNode=p,y=Ok(),y.refCount++,p.pooledCache=y,y.refCount++,U.memoizedState={element:C,isDehydrated:S,cache:y},zk(U),p}function kU(p){return p?(p=Lp,p):Lp}function TU(p,y,S,C,z,U){z=kU(z),C.context===null?C.context=z:C.pendingContext=z,C=mu(y),C.payload={element:S},U=U===void 0?null:U,U!==null&&(C.callback=U),S=gu(p,C,y),S!==null&&(Jo(S,p,y),jg(S,p,y))}function EU(p,y){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var S=p.retryLane;p.retryLane=S!==0&&S<y?S:y}}function QT(p,y){EU(p,y),(p=p.alternate)&&EU(p,y)}function CU(p){if(p.tag===13){var y=zp(p,67108864);y!==null&&Jo(y,p,67108864),QT(p,67108864)}}var Gx=!0;function Ube(p,y,S,C){var z=H.T;H.T=null;var U=G.p;try{G.p=2,e8(p,y,S,C)}finally{G.p=U,H.T=z}}function Bbe(p,y,S,C){var z=H.T;H.T=null;var U=G.p;try{G.p=8,e8(p,y,S,C)}finally{G.p=U,H.T=z}}function e8(p,y,S,C){if(Gx){var z=t8(C);if(z===null)jT(p,y,C,Kx,S),AU(p,C);else if(Fbe(z,p,y,S,C))C.stopPropagation();else if(AU(p,C),y&4&&-1<jbe.indexOf(p)){for(;z!==null;){var U=Vo(z);if(U!==null)switch(U.tag){case 3:if(U=U.stateNode,U.current.memoizedState.isDehydrated){var ce=Qe(U.pendingLanes);if(ce!==0){var we=U;for(we.pendingLanes|=2,we.entangledLanes|=2;ce;){var Re=1<<31-pt(ce);we.entanglements[1]|=Re,ce&=~Re}Vs(U),(jn&6)===0&&(Rx=R()+500,i1(0))}}break;case 13:we=zp(U,2),we!==null&&Jo(we,U,2),Ox(),QT(U,2)}if(U=t8(C),U===null&&jT(p,y,C,Kx,S),U===z)break;z=U}z!==null&&C.stopPropagation()}else jT(p,y,C,null,S)}}function t8(p){return p=ak(p),n8(p)}var Kx=null;function n8(p){if(Kx=null,p=Ni(p),p!==null){var y=a(p);if(y===null)p=null;else{var S=y.tag;if(S===13){if(p=s(y),p!==null)return p;p=null}else if(S===3){if(y.stateNode.current.memoizedState.isDehydrated)return y.tag===3?y.stateNode.containerInfo:null;p=null}else y!==p&&(p=null)}}return Kx=p,null}function _U(p){switch(p){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(N()){case B:return 2;case ue:return 8;case ve:case se:return 32;case ge:return 268435456;default:return 32}default:return 32}}var r8=!1,Du=null,Mu=null,Ru=null,h1=new Map,f1=new Map,Nu=[],jbe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function AU(p,y){switch(p){case"focusin":case"focusout":Du=null;break;case"dragenter":case"dragleave":Mu=null;break;case"mouseover":case"mouseout":Ru=null;break;case"pointerover":case"pointerout":h1.delete(y.pointerId);break;case"gotpointercapture":case"lostpointercapture":f1.delete(y.pointerId)}}function p1(p,y,S,C,z,U){return p===null||p.nativeEvent!==U?(p={blockedOn:y,domEventName:S,eventSystemFlags:C,nativeEvent:U,targetContainers:[z]},y!==null&&(y=Vo(y),y!==null&&CU(y)),p):(p.eventSystemFlags|=C,y=p.targetContainers,z!==null&&y.indexOf(z)===-1&&y.push(z),p)}function Fbe(p,y,S,C,z){switch(y){case"focusin":return Du=p1(Du,p,y,S,C,z),!0;case"dragenter":return Mu=p1(Mu,p,y,S,C,z),!0;case"mouseover":return Ru=p1(Ru,p,y,S,C,z),!0;case"pointerover":var U=z.pointerId;return h1.set(U,p1(h1.get(U)||null,p,y,S,C,z)),!0;case"gotpointercapture":return U=z.pointerId,f1.set(U,p1(f1.get(U)||null,p,y,S,C,z)),!0}return!1}function DU(p){var y=Ni(p.target);if(y!==null){var S=a(y);if(S!==null){if(y=S.tag,y===13){if(y=s(S),y!==null){p.blockedOn=y,pi(p.priority,function(){if(S.tag===13){var C=Zo();C=Nt(C);var z=zp(S,C);z!==null&&Jo(z,S,C),QT(S,C)}});return}}else if(y===3&&S.stateNode.current.memoizedState.isDehydrated){p.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}p.blockedOn=null}function Xx(p){if(p.blockedOn!==null)return!1;for(var y=p.targetContainers;0<y.length;){var S=t8(p.nativeEvent);if(S===null){S=p.nativeEvent;var C=new S.constructor(S.type,S);ok=C,S.target.dispatchEvent(C),ok=null}else return y=Vo(S),y!==null&&CU(y),p.blockedOn=S,!1;y.shift()}return!0}function MU(p,y,S){Xx(p)&&S.delete(y)}function Hbe(){r8=!1,Du!==null&&Xx(Du)&&(Du=null),Mu!==null&&Xx(Mu)&&(Mu=null),Ru!==null&&Xx(Ru)&&(Ru=null),h1.forEach(MU),f1.forEach(MU)}function Yx(p,y){p.blockedOn===y&&(p.blockedOn=null,r8||(r8=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Hbe)))}var Zx=null;function RU(p){Zx!==p&&(Zx=p,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Zx===p&&(Zx=null);for(var y=0;y<p.length;y+=3){var S=p[y],C=p[y+1],z=p[y+2];if(typeof C!="function"){if(n8(C||S)===null)continue;break}var U=Vo(S);U!==null&&(p.splice(y,3),y-=3,nT(U,{pending:!0,data:z,method:S.method,action:C},C,z))}}))}function m1(p){function y(Re){return Yx(Re,p)}Du!==null&&Yx(Du,p),Mu!==null&&Yx(Mu,p),Ru!==null&&Yx(Ru,p),h1.forEach(y),f1.forEach(y);for(var S=0;S<Nu.length;S++){var C=Nu[S];C.blockedOn===p&&(C.blockedOn=null)}for(;0<Nu.length&&(S=Nu[0],S.blockedOn===null);)DU(S),S.blockedOn===null&&Nu.shift();if(S=(p.ownerDocument||p).$$reactFormReplay,S!=null)for(C=0;C<S.length;C+=3){var z=S[C],U=S[C+1],ce=z[lr]||null;if(typeof U=="function")ce||RU(S);else if(ce){var we=null;if(U&&U.hasAttribute("formAction")){if(z=U,ce=U[lr]||null)we=ce.formAction;else if(n8(z)!==null)continue}else we=ce.action;typeof we=="function"?S[C+1]=we:(S.splice(C,3),C-=3),RU(S)}}}function i8(p){this._internalRoot=p}Jx.prototype.render=i8.prototype.render=function(p){var y=this._internalRoot;if(y===null)throw Error(i(409));var S=y.current,C=Zo();TU(S,C,p,y,null,null)},Jx.prototype.unmount=i8.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var y=p.containerInfo;TU(p.current,2,null,p,null,null),Ox(),y[ri]=null}};function Jx(p){this._internalRoot=p}Jx.prototype.unstable_scheduleHydration=function(p){if(p){var y=tn();p={blockedOn:null,target:p,priority:y};for(var S=0;S<Nu.length&&y!==0&&y<Nu[S].priority;S++);Nu.splice(S,0,p),S===0&&DU(p)}};var NU=e.version;if(NU!=="19.1.0")throw Error(i(527,NU,"19.1.0"));G.findDOMNode=function(p){var y=p._reactInternals;if(y===void 0)throw typeof p.render=="function"?Error(i(188)):(p=Object.keys(p).join(","),Error(i(268,p)));return p=c(y),p=p!==null?u(p):null,p=p===null?null:p.stateNode,p};var Wbe={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qx.isDisabled&&Qx.supportsFiber)try{De=Qx.inject(Wbe),Le=Qx}catch{}}return y1.createRoot=function(p,y){if(!o(p))throw Error(i(299));var S=!1,C="",z=Kz,U=Xz,ce=Yz,we=null;return y!=null&&(y.unstable_strictMode===!0&&(S=!0),y.identifierPrefix!==void 0&&(C=y.identifierPrefix),y.onUncaughtError!==void 0&&(z=y.onUncaughtError),y.onCaughtError!==void 0&&(U=y.onCaughtError),y.onRecoverableError!==void 0&&(ce=y.onRecoverableError),y.unstable_transitionCallbacks!==void 0&&(we=y.unstable_transitionCallbacks)),y=SU(p,1,!1,null,null,S,C,z,U,ce,we,null),p[ri]=y.current,BT(p),new i8(y)},y1.hydrateRoot=function(p,y,S){if(!o(p))throw Error(i(299));var C=!1,z="",U=Kz,ce=Xz,we=Yz,Re=null,je=null;return S!=null&&(S.unstable_strictMode===!0&&(C=!0),S.identifierPrefix!==void 0&&(z=S.identifierPrefix),S.onUncaughtError!==void 0&&(U=S.onUncaughtError),S.onCaughtError!==void 0&&(ce=S.onCaughtError),S.onRecoverableError!==void 0&&(we=S.onRecoverableError),S.unstable_transitionCallbacks!==void 0&&(Re=S.unstable_transitionCallbacks),S.formState!==void 0&&(je=S.formState)),y=SU(p,1,!0,y,S??null,C,z,U,ce,we,Re,je),y.context=kU(null),S=y.current,C=Zo(),C=Nt(C),z=mu(C),z.callback=null,gu(S,z,C),S=C,y.current.lanes=S,xe(y,S),Vs(y),p[ri]=y.current,BT(p),new Jx(y)},y1.version="19.1.0",y1}var HU;function nve(){if(HU)return c8.exports;HU=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),c8.exports=tve(),c8.exports}var rve=nve(),b1={},WU;function ive(){if(WU)return b1;WU=1,Object.defineProperty(b1,"__esModule",{value:!0}),b1.parse=s,b1.serialize=u;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const f=function(){};return f.prototype=Object.create(null),f})();function s(f,m){const b=new a,g=f.length;if(g<2)return b;const v=(m==null?void 0:m.decode)||d;let x=0;do{const w=f.indexOf("=",x);if(w===-1)break;const k=f.indexOf(";",x),T=k===-1?g:k;if(w>T){x=f.lastIndexOf(";",w-1)+1;continue}const _=l(f,x,w),D=c(f,w,_),I=f.slice(_,D);if(b[I]===void 0){let L=l(f,w+1,T),O=c(f,T,L);const W=v(f.slice(L,O));b[I]=W}x=T+1}while(x<g);return b}function l(f,m,b){do{const g=f.charCodeAt(m);if(g!==32&&g!==9)return m}while(++m<b);return b}function c(f,m,b){for(;m>b;){const g=f.charCodeAt(--m);if(g!==32&&g!==9)return m+1}return b}function u(f,m,b){const g=(b==null?void 0:b.encode)||encodeURIComponent;if(!r.test(f))throw new TypeError(`argument name is invalid: ${f}`);const v=g(m);if(!e.test(v))throw new TypeError(`argument val is invalid: ${m}`);let x=f+"="+v;if(!b)return x;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);x+="; Max-Age="+b.maxAge}if(b.domain){if(!n.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);x+="; Domain="+b.domain}if(b.path){if(!i.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);x+="; Path="+b.path}if(b.expires){if(!h(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);x+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(x+="; HttpOnly"),b.secure&&(x+="; Secure"),b.partitioned&&(x+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return x}function d(f){if(f.indexOf("%")===-1)return f;try{return decodeURIComponent(f)}catch{return f}}function h(f){return o.call(f)==="[object Date]"}return b1}ive();var VU="popstate";function ove(r={}){function e(i,o){let{pathname:a,search:s,hash:l}=i.location;return SA("",{pathname:a,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Yy(o)}return sve(e,n,null,r)}function Er(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function xl(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ave(){return Math.random().toString(36).substring(2,10)}function qU(r,e){return{usr:r.state,key:r.key,idx:e}}function SA(r,e,n=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?K0(e):e,state:n,key:e&&e.key||i||ave()}}function Yy({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function K0(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function sve(r,e,n,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,s=o.history,l="POP",c=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function h(){l="POP";let v=d(),x=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:x})}function f(v,x){l="PUSH";let w=SA(g.location,v,x);u=d()+1;let k=qU(w,u),T=g.createHref(w);try{s.pushState(k,"",T)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;o.location.assign(T)}a&&c&&c({action:l,location:g.location,delta:1})}function m(v,x){l="REPLACE";let w=SA(g.location,v,x);u=d();let k=qU(w,u),T=g.createHref(w);s.replaceState(k,"",T),a&&c&&c({action:l,location:g.location,delta:0})}function b(v){return lve(v)}let g={get action(){return l},get location(){return r(o,s)},listen(v){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(VU,h),c=v,()=>{o.removeEventListener(VU,h),c=null}},createHref(v){return e(o,v)},createURL:b,encodeLocation(v){let x=b(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:m,go(v){return s.go(v)}};return g}function lve(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Er(n,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Yy(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function vee(r,e,n="/"){return cve(r,e,n,!1)}function cve(r,e,n,i){let o=typeof e=="string"?K0(e):e,a=Fc(o.pathname||"/",n);if(a==null)return null;let s=xee(r);uve(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=wve(a);l=vve(s[c],u,i)}return l}function xee(r,e=[],n=[],i=""){let o=(a,s,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(Er(c.relativePath.startsWith(i),`Absolute route path "${c.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(i.length));let u=Rc([i,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(Er(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),xee(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:yve(u,a.index),routesMeta:d})};return r.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))o(a,s);else for(let c of wee(a.path))o(a,s,c)}),e}function wee(r){let e=r.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let s=wee(i.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),o&&l.push(...s),l.map(c=>r.startsWith("/")&&c===""?"/":c)}function uve(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:bve(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var dve=/^:[\w-]+$/,hve=3,fve=2,pve=1,mve=10,gve=-2,GU=r=>r==="*";function yve(r,e){let n=r.split("/"),i=n.length;return n.some(GU)&&(i+=gve),e&&(i+=fve),n.filter(o=>!GU(o)).reduce((o,a)=>o+(dve.test(a)?hve:a===""?pve:mve),i)}function bve(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function vve(r,e,n=!1){let{routesMeta:i}=r,o={},a="/",s=[];for(let l=0;l<i.length;++l){let c=i[l],u=l===i.length-1,d=a==="/"?e:e.slice(a.length)||"/",h=O4({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!i[i.length-1].route.index&&(h=O4({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(o,h.params),s.push({params:o,pathname:Rc([a,h.pathname]),pathnameBase:Eve(Rc([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=Rc([a,h.pathnameBase]))}return s}function O4(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,i]=xve(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let a=o[0],s=a.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:i.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let b=l[f]||"";s=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const m=l[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:r}}function xve(r,e=!1,n=!0){xl(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(i.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function wve(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xl(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Fc(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=r.charAt(n);return i&&i!=="/"?null:r.slice(n)||"/"}function Sve(r,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof r=="string"?K0(r):r;return{pathname:n?n.startsWith("/")?n:kve(n,e):e,search:Cve(i),hash:_ve(o)}}function kve(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function f8(r,e,n,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tve(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function See(r){let e=Tve(r);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function kee(r,e,n,i=!1){let o;typeof r=="string"?o=K0(r):(o={...r},Er(!o.pathname||!o.pathname.includes("?"),f8("?","pathname","search",o)),Er(!o.pathname||!o.pathname.includes("#"),f8("#","pathname","hash",o)),Er(!o.search||!o.search.includes("#"),f8("#","search","hash",o)));let a=r===""||o.pathname==="",s=a?"/":o.pathname,l;if(s==null)l=n;else{let h=e.length-1;if(!i&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;o.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=Sve(o,l),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Rc=r=>r.join("/").replace(/\/\/+/g,"/"),Eve=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Cve=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,_ve=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Ave(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Tee=["POST","PUT","PATCH","DELETE"];new Set(Tee);var Dve=["GET",...Tee];new Set(Dve);var X0=P.createContext(null);X0.displayName="DataRouter";var _5=P.createContext(null);_5.displayName="DataRouterState";var Eee=P.createContext({isTransitioning:!1});Eee.displayName="ViewTransition";var Mve=P.createContext(new Map);Mve.displayName="Fetchers";var Rve=P.createContext(null);Rve.displayName="Await";var Al=P.createContext(null);Al.displayName="Navigation";var Zb=P.createContext(null);Zb.displayName="Location";var Qc=P.createContext({outlet:null,matches:[],isDataRoute:!1});Qc.displayName="Route";var gR=P.createContext(null);gR.displayName="RouteError";function Nve(r,{relative:e}={}){Er(Jb(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=P.useContext(Al),{hash:o,pathname:a,search:s}=Qb(r,{relative:e}),l=a;return n!=="/"&&(l=a==="/"?n:Rc([n,a])),i.createHref({pathname:l,search:s,hash:o})}function Jb(){return P.useContext(Zb)!=null}function ip(){return Er(Jb(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Zb).location}var Cee="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _ee(r){P.useContext(Al).static||P.useLayoutEffect(r)}function Ove(){let{isDataRoute:r}=P.useContext(Qc);return r?qve():Pve()}function Pve(){Er(Jb(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(X0),{basename:e,navigator:n}=P.useContext(Al),{matches:i}=P.useContext(Qc),{pathname:o}=ip(),a=JSON.stringify(See(i)),s=P.useRef(!1);return _ee(()=>{s.current=!0}),P.useCallback((c,u={})=>{if(xl(s.current,Cee),!s.current)return;if(typeof c=="number"){n.go(c);return}let d=kee(c,JSON.parse(a),o,u.relative==="path");r==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Rc([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,a,o,r])}P.createContext(null);function Qb(r,{relative:e}={}){let{matches:n}=P.useContext(Qc),{pathname:i}=ip(),o=JSON.stringify(See(n));return P.useMemo(()=>kee(r,JSON.parse(o),i,e==="path"),[r,o,i,e])}function Ive(r,e){return Aee(r,e)}function Aee(r,e,n,i){var w;Er(Jb(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=P.useContext(Al),{matches:s}=P.useContext(Qc),l=s[s.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let k=h&&h.path||"";Dee(u,!h||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let f=ip(),m;if(e){let k=typeof e=="string"?K0(e):e;Er(d==="/"||((w=k.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${k.pathname}" was given in the \`location\` prop.`),m=k}else m=f;let b=m.pathname||"/",g=b;if(d!=="/"){let k=d.replace(/^\//,"").split("/");g="/"+b.replace(/^\//,"").split("/").slice(k.length).join("/")}let v=!a&&n&&n.matches&&n.matches.length>0?n.matches:vee(r,{pathname:g});xl(h||v!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),xl(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=Bve(v&&v.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:Rc([d,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?d:Rc([d,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,n,i);return e&&x?P.createElement(Zb.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},x):x}function $ve(){let r=Vve(),e=Ave(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",r),s=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:a},"ErrorBoundary")," or"," ",P.createElement("code",{style:a},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,s)}var zve=P.createElement($ve,null),Lve=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?P.createElement(Qc.Provider,{value:this.props.routeContext},P.createElement(gR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Uve({routeContext:r,match:e,children:n}){let i=P.useContext(X0);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Qc.Provider,{value:r},n)}function Bve(r,e=[],n=null,i=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,a=n==null?void 0:n.errors;if(a!=null){let c=o.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);Er(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,c+1))}let s=!1,l=-1;if(n)for(let c=0;c<o.length;c++){let u=o[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:h}=n,f=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||f){s=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,u,d)=>{let h,f=!1,m=null,b=null;n&&(h=a&&u.route.id?a[u.route.id]:void 0,m=u.route.errorElement||zve,s&&(l<0&&d===0?(Dee("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,b=null):l===d&&(f=!0,b=u.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,d+1)),v=()=>{let x;return h?x=m:f?x=b:u.route.Component?x=P.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=c,P.createElement(Uve,{match:u,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:x})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?P.createElement(Lve,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}function yR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jve(r){let e=P.useContext(X0);return Er(e,yR(r)),e}function Fve(r){let e=P.useContext(_5);return Er(e,yR(r)),e}function Hve(r){let e=P.useContext(Qc);return Er(e,yR(r)),e}function bR(r){let e=Hve(r),n=e.matches[e.matches.length-1];return Er(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Wve(){return bR("useRouteId")}function Vve(){var i;let r=P.useContext(gR),e=Fve("useRouteError"),n=bR("useRouteError");return r!==void 0?r:(i=e.errors)==null?void 0:i[n]}function qve(){let{router:r}=jve("useNavigate"),e=bR("useNavigate"),n=P.useRef(!1);return _ee(()=>{n.current=!0}),P.useCallback(async(o,a={})=>{xl(n.current,Cee),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...a}))},[r,e])}var KU={};function Dee(r,e,n){!e&&!KU[r]&&(KU[r]=!0,xl(!1,n))}P.memo(Gve);function Gve({routes:r,future:e,state:n}){return Aee(r,void 0,n,e)}function Mee(r){Er(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Kve({basename:r="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:a=!1}){Er(!Jb(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=r.replace(/^\/*/,"/"),l=P.useMemo(()=>({basename:s,navigator:o,static:a,future:{}}),[s,o,a]);typeof n=="string"&&(n=K0(n));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:f="default"}=n,m=P.useMemo(()=>{let b=Fc(c,s);return b==null?null:{location:{pathname:b,search:u,hash:d,state:h,key:f},navigationType:i}},[s,c,u,d,h,f,i]);return xl(m!=null,`<Router basename="${s}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:P.createElement(Al.Provider,{value:l},P.createElement(Zb.Provider,{children:e,value:m}))}function Xve({children:r,location:e}){return Ive(kA(r),e)}function kA(r,e=[]){let n=[];return P.Children.forEach(r,(i,o)=>{if(!P.isValidElement(i))return;let a=[...e,o];if(i.type===P.Fragment){n.push.apply(n,kA(i.props.children,a));return}Er(i.type===Mee,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Er(!i.props.index||!i.props.children,"An index route cannot have child routes.");let s={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(s.children=kA(i.props.children,a)),n.push(s)}),n}var q2="get",G2="application/x-www-form-urlencoded";function A5(r){return r!=null&&typeof r.tagName=="string"}function Yve(r){return A5(r)&&r.tagName.toLowerCase()==="button"}function Zve(r){return A5(r)&&r.tagName.toLowerCase()==="form"}function Jve(r){return A5(r)&&r.tagName.toLowerCase()==="input"}function Qve(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function exe(r,e){return r.button===0&&(!e||e==="_self")&&!Qve(r)}var ew=null;function txe(){if(ew===null)try{new FormData(document.createElement("form"),0),ew=!1}catch{ew=!0}return ew}var nxe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function p8(r){return r!=null&&!nxe.has(r)?(xl(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${G2}"`),null):r}function rxe(r,e){let n,i,o,a,s;if(Zve(r)){let l=r.getAttribute("action");i=l?Fc(l,e):null,n=r.getAttribute("method")||q2,o=p8(r.getAttribute("enctype"))||G2,a=new FormData(r)}else if(Yve(r)||Jve(r)&&(r.type==="submit"||r.type==="image")){let l=r.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=r.getAttribute("formaction")||l.getAttribute("action");if(i=c?Fc(c,e):null,n=r.getAttribute("formmethod")||l.getAttribute("method")||q2,o=p8(r.getAttribute("formenctype"))||p8(l.getAttribute("enctype"))||G2,a=new FormData(l,r),!txe()){let{name:u,type:d,value:h}=r;if(d==="image"){let f=u?`${u}.`:"";a.append(`${f}x`,"0"),a.append(`${f}y`,"0")}else u&&a.append(u,h)}}else{if(A5(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=q2,i=null,o=G2,s=r}return a&&o==="text/plain"&&(s=a,a=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:a,body:s}}function vR(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function ixe(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oxe(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function axe(r,e,n){let i=await Promise.all(r.map(async o=>{let a=e.routes[o.route.id];if(a){let s=await ixe(a,n);return s.links?s.links():[]}return[]}));return uxe(i.flat(1).filter(oxe).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function XU(r,e,n,i,o,a){let s=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return a==="assets"?e.filter((c,u)=>s(c,u)||l(c,u)):a==="data"?e.filter((c,u)=>{var h;let d=i.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(r,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function sxe(r,e,{includeHydrateFallback:n}={}){return lxe(r.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function lxe(r){return[...new Set(r)]}function cxe(r){let e={},n=Object.keys(r).sort();for(let i of n)e[i]=r[i];return e}function uxe(r,e){let n=new Set;return new Set(e),r.reduce((i,o)=>{let a=JSON.stringify(cxe(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dxe=new Set([100,101,204,205]);function hxe(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&Fc(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Ree(){let r=P.useContext(X0);return vR(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function fxe(){let r=P.useContext(_5);return vR(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var xR=P.createContext(void 0);xR.displayName="FrameworkContext";function Nee(){let r=P.useContext(xR);return vR(r,"You must render this element inside a <HydratedRouter> element"),r}function pxe(r,e){let n=P.useContext(xR),[i,o]=P.useState(!1),[a,s]=P.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,f=P.useRef(null);P.useEffect(()=>{if(r==="render"&&s(!0),r==="viewport"){let g=x=>{x.forEach(w=>{s(w.isIntersecting)})},v=new IntersectionObserver(g,{threshold:.5});return f.current&&v.observe(f.current),()=>{v.disconnect()}}},[r]),P.useEffect(()=>{if(i){let g=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(g)}}},[i]);let m=()=>{o(!0)},b=()=>{o(!1),s(!1)};return n?r!=="intent"?[a,f,{}]:[a,f,{onFocus:v1(l,m),onBlur:v1(c,b),onMouseEnter:v1(u,m),onMouseLeave:v1(d,b),onTouchStart:v1(h,m)}]:[!1,f,{}]}function v1(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function mxe({page:r,...e}){let{router:n}=Ree(),i=P.useMemo(()=>vee(n.routes,r,n.basename),[n.routes,r,n.basename]);return i?P.createElement(yxe,{page:r,matches:i,...e}):null}function gxe(r){let{manifest:e,routeModules:n}=Nee(),[i,o]=P.useState([]);return P.useEffect(()=>{let a=!1;return axe(r,e,n).then(s=>{a||o(s)}),()=>{a=!0}},[r,e,n]),i}function yxe({page:r,matches:e,...n}){let i=ip(),{manifest:o,routeModules:a}=Nee(),{basename:s}=Ree(),{loaderData:l,matches:c}=fxe(),u=P.useMemo(()=>XU(r,e,c,o,i,"data"),[r,e,c,o,i]),d=P.useMemo(()=>XU(r,e,c,o,i,"assets"),[r,e,c,o,i]),h=P.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let b=new Set,g=!1;if(e.forEach(x=>{var k;let w=o.routes[x.route.id];!w||!w.hasLoader||(!u.some(T=>T.route.id===x.route.id)&&x.route.id in l&&((k=a[x.route.id])!=null&&k.shouldRevalidate)||w.hasClientLoader?g=!0:b.add(x.route.id))}),b.size===0)return[];let v=hxe(r,s);return g&&b.size>0&&v.searchParams.set("_routes",e.filter(x=>b.has(x.route.id)).map(x=>x.route.id).join(",")),[v.pathname+v.search]},[s,l,i,o,u,e,r,a]),f=P.useMemo(()=>sxe(d,o),[d,o]),m=gxe(d);return P.createElement(P.Fragment,null,h.map(b=>P.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),f.map(b=>P.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),m.map(({key:b,link:g})=>P.createElement("link",{key:b,...g})))}function bxe(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Oee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Oee&&(window.__reactRouterVersion="7.6.0")}catch{}function vxe({basename:r,children:e,window:n}){let i=P.useRef();i.current==null&&(i.current=ove({window:n,v5Compat:!0}));let o=i.current,[a,s]=P.useState({action:o.action,location:o.location}),l=P.useCallback(c=>{P.startTransition(()=>s(c))},[s]);return P.useLayoutEffect(()=>o.listen(l),[o,l]),P.createElement(Kve,{basename:r,children:e,location:a.location,navigationType:a.action,navigator:o})}var Pee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Iee=P.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:a,replace:s,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:b}=P.useContext(Al),g=typeof u=="string"&&Pee.test(u),v,x=!1;if(typeof u=="string"&&g&&(v=u,Oee))try{let O=new URL(window.location.href),W=u.startsWith("//")?new URL(O.protocol+u):new URL(u),Z=Fc(W.pathname,b);W.origin===O.origin&&Z!=null?u=Z+W.search+W.hash:x=!0}catch{xl(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=Nve(u,{relative:o}),[k,T,_]=pxe(i,f),D=kxe(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:o,viewTransition:h});function I(O){e&&e(O),O.defaultPrevented||D(O)}let L=P.createElement("a",{...f,..._,href:v||w,onClick:x||a?e:I,ref:bxe(m,T),target:c,"data-discover":!g&&n==="render"?"true":void 0});return k&&!g?P.createElement(P.Fragment,null,L,P.createElement(mxe,{page:w})):L});Iee.displayName="Link";var xxe=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:a,to:s,viewTransition:l,children:c,...u},d){let h=Qb(s,{relative:u.relative}),f=ip(),m=P.useContext(_5),{navigator:b,basename:g}=P.useContext(Al),v=m!=null&&Axe(h)&&l===!0,x=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,w=f.pathname,k=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(w=w.toLowerCase(),k=k?k.toLowerCase():null,x=x.toLowerCase()),k&&g&&(k=Fc(k,g)||k);const T=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let _=w===x||!o&&w.startsWith(x)&&w.charAt(T)==="/",D=k!=null&&(k===x||!o&&k.startsWith(x)&&k.charAt(x.length)==="/"),I={isActive:_,isPending:D,isTransitioning:v},L=_?e:void 0,O;typeof i=="function"?O=i(I):O=[i,_?"active":null,D?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let W=typeof a=="function"?a(I):a;return P.createElement(Iee,{...u,"aria-current":L,className:O,ref:d,style:W,to:s,viewTransition:l},typeof c=="function"?c(I):c)});xxe.displayName="NavLink";var wxe=P.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:a,method:s=q2,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let b=Cxe(),g=_xe(l,{relative:u}),v=s.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&Pee.test(l),w=k=>{if(c&&c(k),k.defaultPrevented)return;k.preventDefault();let T=k.nativeEvent.submitter,_=(T==null?void 0:T.getAttribute("formmethod"))||s;b(T||k.currentTarget,{fetcherKey:e,method:_,navigate:n,replace:o,state:a,relative:u,preventScrollReset:d,viewTransition:h})};return P.createElement("form",{ref:m,method:v,action:g,onSubmit:i?c:w,...f,"data-discover":!x&&r==="render"?"true":void 0})});wxe.displayName="Form";function Sxe(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $ee(r){let e=P.useContext(X0);return Er(e,Sxe(r)),e}function kxe(r,{target:e,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:s}={}){let l=Ove(),c=ip(),u=Qb(r,{relative:a});return P.useCallback(d=>{if(exe(d,e)){d.preventDefault();let h=n!==void 0?n:Yy(c)===Yy(u);l(r,{replace:h,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[c,l,u,n,i,e,r,o,a,s])}var Txe=0,Exe=()=>`__${String(++Txe)}__`;function Cxe(){let{router:r}=$ee("useSubmit"),{basename:e}=P.useContext(Al),n=Wve();return P.useCallback(async(i,o={})=>{let{action:a,method:s,encType:l,formData:c,body:u}=rxe(i,e);if(o.navigate===!1){let d=o.fetcherKey||Exe();await r.fetch(d,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:c,body:u,formMethod:o.method||s,formEncType:o.encType||l,flushSync:o.flushSync})}else await r.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:c,body:u,formMethod:o.method||s,formEncType:o.encType||l,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function _xe(r,{relative:e}={}){let{basename:n}=P.useContext(Al),i=P.useContext(Qc);Er(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Qb(r||".",{relative:e})},s=ip();if(r==null){a.search=s.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let d=l.toString();a.search=d?`?${d}`:""}}return(!r||r===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Rc([n,a.pathname])),Yy(a)}function Axe(r,e={}){let n=P.useContext(Eee);Er(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=$ee("useViewTransitionState"),o=Qb(r,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Fc(n.currentLocation.pathname,i)||n.currentLocation.pathname,s=Fc(n.nextLocation.pathname,i)||n.nextLocation.pathname;return O4(o.pathname,s)!=null||O4(o.pathname,a)!=null}[...dxe];var Wd=bee();const wR=pR(Wd);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dxe=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Mxe=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),YU=r=>{const e=Mxe(r);return e.charAt(0).toUpperCase()+e.slice(1)},zee=(...r)=>r.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),Rxe=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nxe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oxe=P.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:a,iconNode:s,...l},c)=>P.createElement("svg",{ref:c,...Nxe,width:e,height:e,stroke:r,strokeWidth:i?Number(n)*24/Number(e):n,className:zee("lucide",o),...!a&&!Rxe(l)&&{"aria-hidden":"true"},...l},[...s.map(([u,d])=>P.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pxe=(r,e)=>{const n=P.forwardRef(({className:i,...o},a)=>P.createElement(Oxe,{ref:a,iconNode:e,className:zee(`lucide-${Dxe(YU(r))}`,`lucide-${r}`,i),...o}));return n.displayName=YU(r),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ixe=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],$xe=Pxe("loader",Ixe);function Lee(r){var e,n,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(n=Lee(r[e]))&&(i&&(i+=" "),i+=n)}else for(n in r)r[n]&&(i&&(i+=" "),i+=n);return i}function zxe(){for(var r,e,n=0,i="",o=arguments.length;n<o;n++)(r=arguments[n])&&(e=Lee(r))&&(i&&(i+=" "),i+=e);return i}const SR="-",Lxe=r=>{const e=Bxe(r),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=r;return{getClassGroupId:s=>{const l=s.split(SR);return l[0]===""&&l.length!==1&&l.shift(),Uee(l,e)||Uxe(s)},getConflictingClassGroupIds:(s,l)=>{const c=n[s]||[];return l&&i[s]?[...c,...i[s]]:c}}},Uee=(r,e)=>{var s;if(r.length===0)return e.classGroupId;const n=r[0],i=e.nextPart.get(n),o=i?Uee(r.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const a=r.join(SR);return(s=e.validators.find(({validator:l})=>l(a)))==null?void 0:s.classGroupId},ZU=/^\[(.+)\]$/,Uxe=r=>{if(ZU.test(r)){const e=ZU.exec(r)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Bxe=r=>{const{theme:e,classGroups:n}=r,i={nextPart:new Map,validators:[]};for(const o in n)TA(n[o],i,o,e);return i},TA=(r,e,n,i)=>{r.forEach(o=>{if(typeof o=="string"){const a=o===""?e:JU(e,o);a.classGroupId=n;return}if(typeof o=="function"){if(jxe(o)){TA(o(i),e,n,i);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,s])=>{TA(s,JU(e,a),n,i)})})},JU=(r,e)=>{let n=r;return e.split(SR).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},jxe=r=>r.isThemeGetter,Fxe=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const o=(a,s)=>{n.set(a,s),e++,e>r&&(e=0,i=n,n=new Map)};return{get(a){let s=n.get(a);if(s!==void 0)return s;if((s=i.get(a))!==void 0)return o(a,s),s},set(a,s){n.has(a)?n.set(a,s):o(a,s)}}},EA="!",CA=":",Hxe=CA.length,Wxe=r=>{const{prefix:e,experimentalParseClassName:n}=r;let i=o=>{const a=[];let s=0,l=0,c=0,u;for(let b=0;b<o.length;b++){let g=o[b];if(s===0&&l===0){if(g===CA){a.push(o.slice(c,b)),c=b+Hxe;continue}if(g==="/"){u=b;continue}}g==="["?s++:g==="]"?s--:g==="("?l++:g===")"&&l--}const d=a.length===0?o:o.substring(c),h=Vxe(d),f=h!==d,m=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}};if(e){const o=e+CA,a=i;i=s=>s.startsWith(o)?a(s.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(n){const o=i;i=a=>n({className:a,parseClassName:o})}return i},Vxe=r=>r.endsWith(EA)?r.substring(0,r.length-1):r.startsWith(EA)?r.substring(1):r,qxe=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const o=[];let a=[];return i.forEach(s=>{s[0]==="["||e[s]?(o.push(...a.sort(),s),a=[]):a.push(s)}),o.push(...a.sort()),o}},Gxe=r=>({cache:Fxe(r.cacheSize),parseClassName:Wxe(r),sortModifiers:qxe(r),...Lxe(r)}),Kxe=/\s+/,Xxe=(r,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:a}=e,s=[],l=r.trim().split(Kxe);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:h,modifiers:f,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:g}=n(d);if(h){c=d+(c.length>0?" "+c:c);continue}let v=!!g,x=i(v?b.substring(0,g):b);if(!x){if(!v){c=d+(c.length>0?" "+c:c);continue}if(x=i(b),!x){c=d+(c.length>0?" "+c:c);continue}v=!1}const w=a(f).join(":"),k=m?w+EA:w,T=k+x;if(s.includes(T))continue;s.push(T);const _=o(x,v);for(let D=0;D<_.length;++D){const I=_[D];s.push(k+I)}c=d+(c.length>0?" "+c:c)}return c};function Yxe(){let r=0,e,n,i="";for(;r<arguments.length;)(e=arguments[r++])&&(n=Bee(e))&&(i&&(i+=" "),i+=n);return i}const Bee=r=>{if(typeof r=="string")return r;let e,n="";for(let i=0;i<r.length;i++)r[i]&&(e=Bee(r[i]))&&(n&&(n+=" "),n+=e);return n};function Zxe(r,...e){let n,i,o,a=s;function s(c){const u=e.reduce((d,h)=>h(d),r());return n=Gxe(u),i=n.cache.get,o=n.cache.set,a=l,l(c)}function l(c){const u=i(c);if(u)return u;const d=Xxe(c,n);return o(c,d),d}return function(){return a(Yxe.apply(null,arguments))}}const Qr=r=>{const e=n=>n[r]||[];return e.isThemeGetter=!0,e},jee=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Fee=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Jxe=/^\d+\/\d+$/,Qxe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ewe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,twe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,nwe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rwe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,lm=r=>Jxe.test(r),hn=r=>!!r&&!Number.isNaN(Number(r)),Pu=r=>!!r&&Number.isInteger(Number(r)),m8=r=>r.endsWith("%")&&hn(r.slice(0,-1)),nc=r=>Qxe.test(r),iwe=()=>!0,owe=r=>ewe.test(r)&&!twe.test(r),Hee=()=>!1,awe=r=>nwe.test(r),swe=r=>rwe.test(r),lwe=r=>!Dt(r)&&!Mt(r),cwe=r=>Y0(r,qee,Hee),Dt=r=>jee.test(r),Oh=r=>Y0(r,Gee,owe),g8=r=>Y0(r,pwe,hn),QU=r=>Y0(r,Wee,Hee),uwe=r=>Y0(r,Vee,swe),tw=r=>Y0(r,Kee,awe),Mt=r=>Fee.test(r),x1=r=>Z0(r,Gee),dwe=r=>Z0(r,mwe),eB=r=>Z0(r,Wee),hwe=r=>Z0(r,qee),fwe=r=>Z0(r,Vee),nw=r=>Z0(r,Kee,!0),Y0=(r,e,n)=>{const i=jee.exec(r);return i?i[1]?e(i[1]):n(i[2]):!1},Z0=(r,e,n=!1)=>{const i=Fee.exec(r);return i?i[1]?e(i[1]):n:!1},Wee=r=>r==="position"||r==="percentage",Vee=r=>r==="image"||r==="url",qee=r=>r==="length"||r==="size"||r==="bg-size",Gee=r=>r==="length",pwe=r=>r==="number",mwe=r=>r==="family-name",Kee=r=>r==="shadow",gwe=()=>{const r=Qr("color"),e=Qr("font"),n=Qr("text"),i=Qr("font-weight"),o=Qr("tracking"),a=Qr("leading"),s=Qr("breakpoint"),l=Qr("container"),c=Qr("spacing"),u=Qr("radius"),d=Qr("shadow"),h=Qr("inset-shadow"),f=Qr("text-shadow"),m=Qr("drop-shadow"),b=Qr("blur"),g=Qr("perspective"),v=Qr("aspect"),x=Qr("ease"),w=Qr("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...T(),Mt,Dt],D=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],L=()=>[Mt,Dt,c],O=()=>[lm,"full","auto",...L()],W=()=>[Pu,"none","subgrid",Mt,Dt],Z=()=>["auto",{span:["full",Pu,Mt,Dt]},Pu,Mt,Dt],$=()=>[Pu,"auto",Mt,Dt],F=()=>["auto","min","max","fr",Mt,Dt],A=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Q=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...L()],G=()=>[lm,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],ne=()=>[r,Mt,Dt],J=()=>[...T(),eB,QU,{position:[Mt,Dt]}],ee=()=>["no-repeat",{repeat:["","x","y","space","round"]}],X=()=>["auto","cover","contain",hwe,cwe,{size:[Mt,Dt]}],j=()=>[m8,x1,Oh],ae=()=>["","none","full",u,Mt,Dt],re=()=>["",hn,x1,Oh],de=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>[hn,m8,eB,QU],q=()=>["","none",b,Mt,Dt],be=()=>["none",hn,Mt,Dt],pe=()=>["none",hn,Mt,Dt],ie=()=>[hn,Mt,Dt],le=()=>[lm,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[nc],breakpoint:[nc],color:[iwe],container:[nc],"drop-shadow":[nc],ease:["in","out","in-out"],font:[lwe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[nc],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[nc],shadow:[nc],spacing:["px",hn],text:[nc],"text-shadow":[nc],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",lm,Dt,Mt,v]}],container:["container"],columns:[{columns:[hn,Dt,Mt,l]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[Pu,"auto",Mt,Dt]}],basis:[{basis:[lm,"full","auto",l,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[hn,lm,"auto","initial","none",Dt]}],grow:[{grow:["",hn,Mt,Dt]}],shrink:[{shrink:["",hn,Mt,Dt]}],order:[{order:[Pu,"first","last","none",Mt,Dt]}],"grid-cols":[{"grid-cols":W()}],"col-start-end":[{col:Z()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":W()}],"row-start-end":[{row:Z()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[...Q(),"normal"]}],"justify-self":[{"justify-self":["auto",...Q()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[...Q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Q(),{baseline:["","last"]}]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[...Q(),"baseline"]}],"place-self":[{"place-self":["auto",...Q()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[l,"screen",...G()]}],"min-w":[{"min-w":[l,"screen","none",...G()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[s]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",n,x1,Oh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Mt,g8]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",m8,Dt]}],"font-family":[{font:[dwe,Dt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Mt,Dt]}],"line-clamp":[{"line-clamp":[hn,"none",Mt,g8]}],leading:[{leading:[a,...L()]}],"list-image":[{"list-image":["none",Mt,Dt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Mt,Dt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ne()}],"text-color":[{text:ne()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:[hn,"from-font","auto",Mt,Oh]}],"text-decoration-color":[{decoration:ne()}],"underline-offset":[{"underline-offset":[hn,"auto",Mt,Dt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Mt,Dt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Mt,Dt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:J()}],"bg-repeat":[{bg:ee()}],"bg-size":[{bg:X()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Pu,Mt,Dt],radial:["",Mt,Dt],conic:[Pu,Mt,Dt]},fwe,uwe]}],"bg-color":[{bg:ne()}],"gradient-from-pos":[{from:j()}],"gradient-via-pos":[{via:j()}],"gradient-to-pos":[{to:j()}],"gradient-from":[{from:ne()}],"gradient-via":[{via:ne()}],"gradient-to":[{to:ne()}],rounded:[{rounded:ae()}],"rounded-s":[{"rounded-s":ae()}],"rounded-e":[{"rounded-e":ae()}],"rounded-t":[{"rounded-t":ae()}],"rounded-r":[{"rounded-r":ae()}],"rounded-b":[{"rounded-b":ae()}],"rounded-l":[{"rounded-l":ae()}],"rounded-ss":[{"rounded-ss":ae()}],"rounded-se":[{"rounded-se":ae()}],"rounded-ee":[{"rounded-ee":ae()}],"rounded-es":[{"rounded-es":ae()}],"rounded-tl":[{"rounded-tl":ae()}],"rounded-tr":[{"rounded-tr":ae()}],"rounded-br":[{"rounded-br":ae()}],"rounded-bl":[{"rounded-bl":ae()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...de(),"hidden","none"]}],"divide-style":[{divide:[...de(),"hidden","none"]}],"border-color":[{border:ne()}],"border-color-x":[{"border-x":ne()}],"border-color-y":[{"border-y":ne()}],"border-color-s":[{"border-s":ne()}],"border-color-e":[{"border-e":ne()}],"border-color-t":[{"border-t":ne()}],"border-color-r":[{"border-r":ne()}],"border-color-b":[{"border-b":ne()}],"border-color-l":[{"border-l":ne()}],"divide-color":[{divide:ne()}],"outline-style":[{outline:[...de(),"none","hidden"]}],"outline-offset":[{"outline-offset":[hn,Mt,Dt]}],"outline-w":[{outline:["",hn,x1,Oh]}],"outline-color":[{outline:ne()}],shadow:[{shadow:["","none",d,nw,tw]}],"shadow-color":[{shadow:ne()}],"inset-shadow":[{"inset-shadow":["none",h,nw,tw]}],"inset-shadow-color":[{"inset-shadow":ne()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ne()}],"ring-offset-w":[{"ring-offset":[hn,Oh]}],"ring-offset-color":[{"ring-offset":ne()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":ne()}],"text-shadow":[{"text-shadow":["none",f,nw,tw]}],"text-shadow-color":[{"text-shadow":ne()}],opacity:[{opacity:[hn,Mt,Dt]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[hn]}],"mask-image-linear-from-pos":[{"mask-linear-from":K()}],"mask-image-linear-to-pos":[{"mask-linear-to":K()}],"mask-image-linear-from-color":[{"mask-linear-from":ne()}],"mask-image-linear-to-color":[{"mask-linear-to":ne()}],"mask-image-t-from-pos":[{"mask-t-from":K()}],"mask-image-t-to-pos":[{"mask-t-to":K()}],"mask-image-t-from-color":[{"mask-t-from":ne()}],"mask-image-t-to-color":[{"mask-t-to":ne()}],"mask-image-r-from-pos":[{"mask-r-from":K()}],"mask-image-r-to-pos":[{"mask-r-to":K()}],"mask-image-r-from-color":[{"mask-r-from":ne()}],"mask-image-r-to-color":[{"mask-r-to":ne()}],"mask-image-b-from-pos":[{"mask-b-from":K()}],"mask-image-b-to-pos":[{"mask-b-to":K()}],"mask-image-b-from-color":[{"mask-b-from":ne()}],"mask-image-b-to-color":[{"mask-b-to":ne()}],"mask-image-l-from-pos":[{"mask-l-from":K()}],"mask-image-l-to-pos":[{"mask-l-to":K()}],"mask-image-l-from-color":[{"mask-l-from":ne()}],"mask-image-l-to-color":[{"mask-l-to":ne()}],"mask-image-x-from-pos":[{"mask-x-from":K()}],"mask-image-x-to-pos":[{"mask-x-to":K()}],"mask-image-x-from-color":[{"mask-x-from":ne()}],"mask-image-x-to-color":[{"mask-x-to":ne()}],"mask-image-y-from-pos":[{"mask-y-from":K()}],"mask-image-y-to-pos":[{"mask-y-to":K()}],"mask-image-y-from-color":[{"mask-y-from":ne()}],"mask-image-y-to-color":[{"mask-y-to":ne()}],"mask-image-radial":[{"mask-radial":[Mt,Dt]}],"mask-image-radial-from-pos":[{"mask-radial-from":K()}],"mask-image-radial-to-pos":[{"mask-radial-to":K()}],"mask-image-radial-from-color":[{"mask-radial-from":ne()}],"mask-image-radial-to-color":[{"mask-radial-to":ne()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[hn]}],"mask-image-conic-from-pos":[{"mask-conic-from":K()}],"mask-image-conic-to-pos":[{"mask-conic-to":K()}],"mask-image-conic-from-color":[{"mask-conic-from":ne()}],"mask-image-conic-to-color":[{"mask-conic-to":ne()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:J()}],"mask-repeat":[{mask:ee()}],"mask-size":[{mask:X()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Mt,Dt]}],filter:[{filter:["","none",Mt,Dt]}],blur:[{blur:q()}],brightness:[{brightness:[hn,Mt,Dt]}],contrast:[{contrast:[hn,Mt,Dt]}],"drop-shadow":[{"drop-shadow":["","none",m,nw,tw]}],"drop-shadow-color":[{"drop-shadow":ne()}],grayscale:[{grayscale:["",hn,Mt,Dt]}],"hue-rotate":[{"hue-rotate":[hn,Mt,Dt]}],invert:[{invert:["",hn,Mt,Dt]}],saturate:[{saturate:[hn,Mt,Dt]}],sepia:[{sepia:["",hn,Mt,Dt]}],"backdrop-filter":[{"backdrop-filter":["","none",Mt,Dt]}],"backdrop-blur":[{"backdrop-blur":q()}],"backdrop-brightness":[{"backdrop-brightness":[hn,Mt,Dt]}],"backdrop-contrast":[{"backdrop-contrast":[hn,Mt,Dt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",hn,Mt,Dt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[hn,Mt,Dt]}],"backdrop-invert":[{"backdrop-invert":["",hn,Mt,Dt]}],"backdrop-opacity":[{"backdrop-opacity":[hn,Mt,Dt]}],"backdrop-saturate":[{"backdrop-saturate":[hn,Mt,Dt]}],"backdrop-sepia":[{"backdrop-sepia":["",hn,Mt,Dt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Mt,Dt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[hn,"initial",Mt,Dt]}],ease:[{ease:["linear","initial",x,Mt,Dt]}],delay:[{delay:[hn,Mt,Dt]}],animate:[{animate:["none",w,Mt,Dt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,Mt,Dt]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:be()}],"rotate-x":[{"rotate-x":be()}],"rotate-y":[{"rotate-y":be()}],"rotate-z":[{"rotate-z":be()}],scale:[{scale:pe()}],"scale-x":[{"scale-x":pe()}],"scale-y":[{"scale-y":pe()}],"scale-z":[{"scale-z":pe()}],"scale-3d":["scale-3d"],skew:[{skew:ie()}],"skew-x":[{"skew-x":ie()}],"skew-y":[{"skew-y":ie()}],transform:[{transform:[Mt,Dt,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:le()}],"translate-x":[{"translate-x":le()}],"translate-y":[{"translate-y":le()}],"translate-z":[{"translate-z":le()}],"translate-none":["translate-none"],accent:[{accent:ne()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ne()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Mt,Dt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Mt,Dt]}],fill:[{fill:["none",...ne()]}],"stroke-w":[{stroke:[hn,x1,Oh,g8]}],stroke:[{stroke:["none",...ne()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},ywe=Zxe(gwe);function bwe(...r){return ywe(zxe(r))}var Xee={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},tB=dt.createContext&&dt.createContext(Xee),vwe=["attr","size","title"];function xwe(r,e){if(r==null)return{};var n=wwe(r,e),i,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(o=0;o<a.length;o++)i=a[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(n[i]=r[i])}return n}function wwe(r,e){if(r==null)return{};var n={};for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(e.indexOf(i)>=0)continue;n[i]=r[i]}return n}function P4(){return P4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},P4.apply(this,arguments)}function nB(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,i)}return n}function I4(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nB(Object(n),!0).forEach(function(i){Swe(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):nB(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Swe(r,e,n){return e=kwe(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function kwe(r){var e=Twe(r,"string");return typeof e=="symbol"?e:e+""}function Twe(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Yee(r){return r&&r.map((e,n)=>dt.createElement(e.tag,I4({key:n},e.attr),Yee(e.child)))}function ev(r){return e=>dt.createElement(Ewe,P4({attr:I4({},r.attr)},e),Yee(r.child))}function Ewe(r){var e=n=>{var{attr:i,size:o,title:a}=r,s=xwe(r,vwe),l=o||n.size||"1em",c;return n.className&&(c=n.className),r.className&&(c=(c?c+" ":"")+r.className),dt.createElement("svg",P4({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:c,style:I4(I4({color:r.color||n.color},n.style),r.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&dt.createElement("title",null,a),r.children)};return tB!==void 0?dt.createElement(tB.Consumer,null,n=>e(n)):e(Xee)}function rB(r){return ev({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(r)}function Cwe(r){return ev({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(r)}function iB(r){return ev({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 121.941V128H256V0h6.059a24 24 0 0 1 16.97 7.029l97.941 97.941a24.002 24.002 0 0 1 7.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z"},child:[]}]})(r)}function _we(r){return ev({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(r)}function Awe(r){return ev({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(r)}function xi(r){this.content=r}xi.prototype={constructor:xi,find:function(r){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===r)return e;return-1},get:function(r){var e=this.find(r);return e==-1?void 0:this.content[e+1]},update:function(r,e,n){var i=n&&n!=r?this.remove(n):this,o=i.find(r),a=i.content.slice();return o==-1?a.push(n||r,e):(a[o+1]=e,n&&(a[o]=n)),new xi(a)},remove:function(r){var e=this.find(r);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new xi(n)},addToStart:function(r,e){return new xi([r,e].concat(this.remove(r).content))},addToEnd:function(r,e){var n=this.remove(r).content.slice();return n.push(r,e),new xi(n)},addBefore:function(r,e,n){var i=this.remove(e),o=i.content.slice(),a=i.find(r);return o.splice(a==-1?o.length:a,0,e,n),new xi(o)},forEach:function(r){for(var e=0;e<this.content.length;e+=2)r(this.content[e],this.content[e+1])},prepend:function(r){return r=xi.from(r),r.size?new xi(r.content.concat(this.subtract(r).content)):this},append:function(r){return r=xi.from(r),r.size?new xi(this.subtract(r).content.concat(r.content)):this},subtract:function(r){var e=this;r=xi.from(r);for(var n=0;n<r.content.length;n+=2)e=e.remove(r.content[n]);return e},toObject:function(){var r={};return this.forEach(function(e,n){r[e]=n}),r},get size(){return this.content.length>>1}};xi.from=function(r){if(r instanceof xi)return r;var e=[];if(r)for(var n in r)e.push(n,r[n]);return new xi(e)};function Zee(r,e,n){for(let i=0;;i++){if(i==r.childCount||i==e.childCount)return r.childCount==e.childCount?null:n;let o=r.child(i),a=e.child(i);if(o==a){n+=o.nodeSize;continue}if(!o.sameMarkup(a))return n;if(o.isText&&o.text!=a.text){for(let s=0;o.text[s]==a.text[s];s++)n++;return n}if(o.content.size||a.content.size){let s=Zee(o.content,a.content,n+1);if(s!=null)return s}n+=o.nodeSize}}function Jee(r,e,n,i){for(let o=r.childCount,a=e.childCount;;){if(o==0||a==0)return o==a?null:{a:n,b:i};let s=r.child(--o),l=e.child(--a),c=s.nodeSize;if(s==l){n-=c,i-=c;continue}if(!s.sameMarkup(l))return{a:n,b:i};if(s.isText&&s.text!=l.text){let u=0,d=Math.min(s.text.length,l.text.length);for(;u<d&&s.text[s.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,i--;return{a:n,b:i}}if(s.content.size||l.content.size){let u=Jee(s.content,l.content,n-1,i-1);if(u)return u}n-=c,i-=c}}let st=class Qi{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let i=0;i<e.length;i++)this.size+=e[i].nodeSize}nodesBetween(e,n,i,o=0,a){for(let s=0,l=0;l<n;s++){let c=this.content[s],u=l+c.nodeSize;if(u>e&&i(c,o+l,a||null,s)!==!1&&c.content.size){let d=l+1;c.nodesBetween(Math.max(0,e-d),Math.min(c.content.size,n-d),i,o+d)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,i,o){let a="",s=!0;return this.nodesBetween(e,n,(l,c)=>{let u=l.isText?l.text.slice(Math.max(e,c)-c,n-c):l.isLeaf?o?typeof o=="function"?o(l):o:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&i&&(s?s=!1:a+=i),a+=u},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,i=e.firstChild,o=this.content.slice(),a=0;for(n.isText&&n.sameMarkup(i)&&(o[o.length-1]=n.withText(n.text+i.text),a=1);a<e.content.length;a++)o.push(e.content[a]);return new Qi(o,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let i=[],o=0;if(n>e)for(let a=0,s=0;s<n;a++){let l=this.content[a],c=s+l.nodeSize;c>e&&((s<e||c>n)&&(l.isText?l=l.cut(Math.max(0,e-s),Math.min(l.text.length,n-s)):l=l.cut(Math.max(0,e-s-1),Math.min(l.content.size,n-s-1))),i.push(l),o+=l.nodeSize),s=c}return new Qi(i,o)}cutByIndex(e,n){return e==n?Qi.empty:e==0&&n==this.content.length?this:new Qi(this.content.slice(e,n))}replaceChild(e,n){let i=this.content[e];if(i==n)return this;let o=this.content.slice(),a=this.size+n.nodeSize-i.nodeSize;return o[e]=n,new Qi(o,a)}addToStart(e){return new Qi([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Qi(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,i=0;n<this.content.length;n++){let o=this.content[n];e(o,i,n),i+=o.nodeSize}}findDiffStart(e,n=0){return Zee(this,e,n)}findDiffEnd(e,n=this.size,i=e.size){return Jee(this,e,n,i)}findIndex(e,n=-1){if(e==0)return rw(0,e);if(e==this.size)return rw(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let i=0,o=0;;i++){let a=this.child(i),s=o+a.nodeSize;if(s>=e)return s==e||n>0?rw(i+1,s):rw(i,o);o=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return Qi.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Qi(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Qi.empty;let n,i=0;for(let o=0;o<e.length;o++){let a=e[o];i+=a.nodeSize,o&&a.isText&&e[o-1].sameMarkup(a)?(n||(n=e.slice(0,o)),n[n.length-1]=a.withText(n[n.length-1].text+a.text)):n&&n.push(a)}return new Qi(n||e,i)}static from(e){if(!e)return Qi.empty;if(e instanceof Qi)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Qi([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};st.empty=new st([],0);const y8={index:0,offset:0};function rw(r,e){return y8.index=r,y8.offset=e,y8}function $4(r,e){if(r===e)return!0;if(!(r&&typeof r=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(r);if(Array.isArray(e)!=n)return!1;if(n){if(r.length!=e.length)return!1;for(let i=0;i<r.length;i++)if(!$4(r[i],e[i]))return!1}else{for(let i in r)if(!(i in e)||!$4(r[i],e[i]))return!1;for(let i in e)if(!(i in r))return!1}return!0}let Jn=class _A{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,i=!1;for(let o=0;o<e.length;o++){let a=e[o];if(this.eq(a))return e;if(this.type.excludes(a.type))n||(n=e.slice(0,o));else{if(a.type.excludes(this.type))return e;!i&&a.type.rank>this.type.rank&&(n||(n=e.slice(0,o)),n.push(this),i=!0),n&&n.push(a)}}return n||(n=e.slice()),i||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&$4(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let i=e.marks[n.type];if(!i)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=i.create(n.attrs);return i.checkAttrs(o.attrs),o}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].eq(n[i]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return _A.none;if(e instanceof _A)return[e];let n=e.slice();return n.sort((i,o)=>i.type.rank-o.type.rank),n}};Jn.none=[];let z4=class extends Error{},Et=class Rm{constructor(e,n,i){this.content=e,this.openStart=n,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let i=ete(this.content,e+this.openStart,n);return i&&new Rm(i,this.openStart,this.openEnd)}removeBetween(e,n){return new Rm(Qee(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Rm.empty;let i=n.openStart||0,o=n.openEnd||0;if(typeof i!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Rm(st.fromJSON(e,n.content),i,o)}static maxOpen(e,n=!0){let i=0,o=0;for(let a=e.firstChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.firstChild)i++;for(let a=e.lastChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.lastChild)o++;return new Rm(e,i,o)}};Et.empty=new Et(st.empty,0,0);function Qee(r,e,n){let{index:i,offset:o}=r.findIndex(e),a=r.maybeChild(i),{index:s,offset:l}=r.findIndex(n);if(o==e||a.isText){if(l!=n&&!r.child(s).isText)throw new RangeError("Removing non-flat range");return r.cut(0,e).append(r.cut(n))}if(i!=s)throw new RangeError("Removing non-flat range");return r.replaceChild(i,a.copy(Qee(a.content,e-o-1,n-o-1)))}function ete(r,e,n,i){let{index:o,offset:a}=r.findIndex(e),s=r.maybeChild(o);if(a==e||s.isText)return r.cut(0,e).append(n).append(r.cut(e));let l=ete(s.content,e-a-1,n);return l&&r.replaceChild(o,s.copy(l))}function Dwe(r,e,n){if(n.openStart>r.depth)throw new z4("Inserted content deeper than insertion position");if(r.depth-n.openStart!=e.depth-n.openEnd)throw new z4("Inconsistent open depths");return tte(r,e,n,0)}function tte(r,e,n,i){let o=r.index(i),a=r.node(i);if(o==e.index(i)&&i<r.depth-n.openStart){let s=tte(r,e,n,i+1);return a.copy(a.content.replaceChild(o,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&r.depth==i&&e.depth==i){let s=r.parent,l=s.content;return Ef(s,l.cut(0,r.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:s,end:l}=Mwe(n,r);return Ef(a,rte(r,s,l,e,i))}else return Ef(a,L4(r,e,i))}function nte(r,e){if(!e.type.compatibleContent(r.type))throw new z4("Cannot join "+e.type.name+" onto "+r.type.name)}function AA(r,e,n){let i=r.node(n);return nte(i,e.node(n)),i}function Tf(r,e){let n=e.length-1;n>=0&&r.isText&&r.sameMarkup(e[n])?e[n]=r.withText(e[n].text+r.text):e.push(r)}function _y(r,e,n,i){let o=(e||r).node(n),a=0,s=e?e.index(n):o.childCount;r&&(a=r.index(n),r.depth>n?a++:r.textOffset&&(Tf(r.nodeAfter,i),a++));for(let l=a;l<s;l++)Tf(o.child(l),i);e&&e.depth==n&&e.textOffset&&Tf(e.nodeBefore,i)}function Ef(r,e){return r.type.checkContent(e),r.copy(e)}function rte(r,e,n,i,o){let a=r.depth>o&&AA(r,e,o+1),s=i.depth>o&&AA(n,i,o+1),l=[];return _y(null,r,o,l),a&&s&&e.index(o)==n.index(o)?(nte(a,s),Tf(Ef(a,rte(r,e,n,i,o+1)),l)):(a&&Tf(Ef(a,L4(r,e,o+1)),l),_y(e,n,o,l),s&&Tf(Ef(s,L4(n,i,o+1)),l)),_y(i,null,o,l),new st(l)}function L4(r,e,n){let i=[];if(_y(null,r,n,i),r.depth>n){let o=AA(r,e,n+1);Tf(Ef(o,L4(r,e,n+1)),i)}return _y(e,null,n,i),new st(i)}function Mwe(r,e){let n=e.depth-r.openStart,i=e.node(n).copy(r.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(st.from(i));return{start:i.resolveNoCache(r.openStart+n),end:i.resolveNoCache(i.content.size-r.openEnd-n)}}let oB=class DA{constructor(e,n,i){this.pos=e,this.path=n,this.parentOffset=i,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let i=this.pos-this.path[this.path.length-1],o=e.child(n);return i?e.child(n).cut(i):o}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let i=this.path[n*3],o=n==0?0:this.path[n*3-1]+1;for(let a=0;a<e;a++)o+=i.child(a).nodeSize;return o}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Jn.none;if(this.textOffset)return e.child(n).marks;let i=e.maybeChild(n-1),o=e.maybeChild(n);if(!i){let l=i;i=o,o=l}let a=i.marks;for(var s=0;s<a.length;s++)a[s].type.spec.inclusive===!1&&(!o||!a[s].isInSet(o.marks))&&(a=a[s--].removeFromSet(a));return a}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let i=n.marks,o=e.parent.maybeChild(e.index());for(var a=0;a<i.length;a++)i[a].type.spec.inclusive===!1&&(!o||!i[a].isInSet(o.marks))&&(i=i[a--].removeFromSet(i));return i}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);i>=0;i--)if(e.pos<=this.end(i)&&(!n||n(this.node(i))))return new Zy(this,e,i);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let i=[],o=0,a=n;for(let s=e;;){let{index:l,offset:c}=s.content.findIndex(a),u=a-c;if(i.push(s,l,o+c),!u||(s=s.child(l),s.isText))break;a=u-1,o+=c+1}return new DA(n,i,a)}static resolveCached(e,n){let i=aB.get(e);if(i)for(let a=0;a<i.elts.length;a++){let s=i.elts[a];if(s.pos==n)return s}else aB.set(e,i=new Rwe);let o=i.elts[i.i]=DA.resolve(e,n);return i.i=(i.i+1)%Nwe,o}},Rwe=class{constructor(){this.elts=[],this.i=0}};const Nwe=12,aB=new WeakMap;let Zy=class{constructor(e,n,i){this.$from=e,this.$to=n,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}};const Owe=Object.create(null);let Nc=class MA{constructor(e,n,i,o=Jn.none){this.type=e,this.attrs=n,this.marks=o,this.content=i||st.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,i,o=0){this.content.nodesBetween(e,n,i,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,i,o){return this.content.textBetween(e,n,i,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,i){return this.type==e&&$4(this.attrs,n||e.defaultAttrs||Owe)&&Jn.sameSet(this.marks,i||Jn.none)}copy(e=null){return e==this.content?this:new MA(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new MA(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,i=!1){if(e==n)return Et.empty;let o=this.resolve(e),a=this.resolve(n),s=i?0:o.sharedDepth(n),l=o.start(s),c=o.node(s).content.cut(o.pos-l,a.pos-l);return new Et(c,o.depth-s,a.depth-s)}replace(e,n,i){return Dwe(this.resolve(e),this.resolve(n),i)}nodeAt(e){for(let n=this;;){let{index:i,offset:o}=n.content.findIndex(e);if(n=n.maybeChild(i),!n)return null;if(o==e||n.isText)return n;e-=o+1}}childAfter(e){let{index:n,offset:i}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:i}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:i}=this.content.findIndex(e);if(i<e)return{node:this.content.child(n),index:n,offset:i};let o=this.content.child(n-1);return{node:o,index:n-1,offset:i-o.nodeSize}}resolve(e){return oB.resolveCached(this,e)}resolveNoCache(e){return oB.resolve(this,e)}rangeHasMark(e,n,i){let o=!1;return n>e&&this.nodesBetween(e,n,a=>(i.isInSet(a.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),ite(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,i=st.empty,o=0,a=i.childCount){let s=this.contentMatchAt(e).matchFragment(i,o,a),l=s&&s.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let c=o;c<a;c++)if(!this.type.allowsMarks(i.child(c).marks))return!1;return!0}canReplaceWith(e,n,i,o){if(o&&!this.type.allowsMarks(o))return!1;let a=this.contentMatchAt(e).matchType(i),s=a&&a.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Jn.none;for(let n=0;n<this.marks.length;n++){let i=this.marks[n];i.type.checkAttrs(i.attrs),e=i.addToSet(e)}if(!Jn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let i;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,i)}let o=st.fromJSON(e,n.content),a=e.nodeType(n.type).create(n.attrs,o,i);return a.type.checkAttrs(a.attrs),a}};Nc.prototype.text=void 0;let Pwe=class RA extends Nc{constructor(e,n,i,o){if(super(e,n,null,o),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):ite(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new RA(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new RA(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}};function ite(r,e){for(let n=r.length-1;n>=0;n--)e=r[n].type.name+"("+e+")";return e}let Jy=class ote{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let i=new Iwe(e,n);if(i.next==null)return ote.empty;let o=ate(i);i.next&&i.err("Unexpected trailing text");let a=Fwe(jwe(o));return Hwe(a,i),a}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,i=e.childCount){let o=this;for(let a=n;o&&a<i;a++)o=o.matchType(e.child(a).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let i=0;i<e.next.length;i++)if(this.next[n].type==e.next[i].type)return!0;return!1}fillBefore(e,n=!1,i=0){let o=[this];function a(s,l){let c=s.matchFragment(e,i);if(c&&(!n||c.validEnd))return st.from(l.map(u=>u.createAndFill()));for(let u=0;u<s.next.length;u++){let{type:d,next:h}=s.next[u];if(!(d.isText||d.hasRequiredAttrs())&&o.indexOf(h)==-1){o.push(h);let f=a(h,l.concat(d));if(f)return f}}return null}return a(this,[])}findWrapping(e){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==e)return this.wrapCache[i+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let o=i.shift(),a=o.match;if(a.matchType(e)){let s=[];for(let l=o;l.type;l=l.via)s.push(l.type);return s.reverse()}for(let s=0;s<a.next.length;s++){let{type:l,next:c}=a.next[s];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!o.type||c.validEnd)&&(i.push({match:l.contentMatch,type:l,via:o}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(i){e.push(i);for(let o=0;o<i.next.length;o++)e.indexOf(i.next[o].next)==-1&&n(i.next[o].next)}return n(this),e.map((i,o)=>{let a=o+(i.validEnd?"*":" ")+" ";for(let s=0;s<i.next.length;s++)a+=(s?", ":"")+i.next[s].type.name+"->"+e.indexOf(i.next[s].next);return a}).join(`
`)}};Jy.empty=new Jy(!0);let Iwe=class{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}};function ate(r){let e=[];do e.push($we(r));while(r.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function $we(r){let e=[];do e.push(zwe(r));while(r.next&&r.next!=")"&&r.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function zwe(r){let e=Bwe(r);for(;;)if(r.eat("+"))e={type:"plus",expr:e};else if(r.eat("*"))e={type:"star",expr:e};else if(r.eat("?"))e={type:"opt",expr:e};else if(r.eat("{"))e=Lwe(r,e);else break;return e}function sB(r){/\D/.test(r.next)&&r.err("Expected number, got '"+r.next+"'");let e=Number(r.next);return r.pos++,e}function Lwe(r,e){let n=sB(r),i=n;return r.eat(",")&&(r.next!="}"?i=sB(r):i=-1),r.eat("}")||r.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:e}}function Uwe(r,e){let n=r.nodeTypes,i=n[e];if(i)return[i];let o=[];for(let a in n){let s=n[a];s.isInGroup(e)&&o.push(s)}return o.length==0&&r.err("No node type or group '"+e+"' found"),o}function Bwe(r){if(r.eat("(")){let e=ate(r);return r.eat(")")||r.err("Missing closing paren"),e}else if(/\W/.test(r.next))r.err("Unexpected token '"+r.next+"'");else{let e=Uwe(r,r.next).map(n=>(r.inline==null?r.inline=n.isInline:r.inline!=n.isInline&&r.err("Mixing inline and block content"),{type:"name",value:n}));return r.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function jwe(r){let e=[[]];return o(a(r,0),n()),e;function n(){return e.push([])-1}function i(s,l,c){let u={term:c,to:l};return e[s].push(u),u}function o(s,l){s.forEach(c=>c.to=l)}function a(s,l){if(s.type=="choice")return s.exprs.reduce((c,u)=>c.concat(a(u,l)),[]);if(s.type=="seq")for(let c=0;;c++){let u=a(s.exprs[c],l);if(c==s.exprs.length-1)return u;o(u,l=n())}else if(s.type=="star"){let c=n();return i(l,c),o(a(s.expr,c),c),[i(c)]}else if(s.type=="plus"){let c=n();return o(a(s.expr,l),c),o(a(s.expr,c),c),[i(c)]}else{if(s.type=="opt")return[i(l)].concat(a(s.expr,l));if(s.type=="range"){let c=l;for(let u=0;u<s.min;u++){let d=n();o(a(s.expr,c),d),c=d}if(s.max==-1)o(a(s.expr,c),c);else for(let u=s.min;u<s.max;u++){let d=n();i(c,d),o(a(s.expr,c),d),c=d}return[i(c)]}else{if(s.type=="name")return[i(l,void 0,s.value)];throw new Error("Unknown expr type")}}}}function ste(r,e){return e-r}function lB(r,e){let n=[];return i(e),n.sort(ste);function i(o){let a=r[o];if(a.length==1&&!a[0].term)return i(a[0].to);n.push(o);for(let s=0;s<a.length;s++){let{term:l,to:c}=a[s];!l&&n.indexOf(c)==-1&&i(c)}}}function Fwe(r){let e=Object.create(null);return n(lB(r,0));function n(i){let o=[];i.forEach(s=>{r[s].forEach(({term:l,to:c})=>{if(!l)return;let u;for(let d=0;d<o.length;d++)o[d][0]==l&&(u=o[d][1]);lB(r,c).forEach(d=>{u||o.push([l,u=[]]),u.indexOf(d)==-1&&u.push(d)})})});let a=e[i.join(",")]=new Jy(i.indexOf(r.length-1)>-1);for(let s=0;s<o.length;s++){let l=o[s][1].sort(ste);a.next.push({type:o[s][0],next:e[l.join(",")]||n(l)})}return a}}function Hwe(r,e){for(let n=0,i=[r];n<i.length;n++){let o=i[n],a=!o.validEnd,s=[];for(let l=0;l<o.next.length;l++){let{type:c,next:u}=o.next[l];s.push(c.name),a&&!(c.isText||c.hasRequiredAttrs())&&(a=!1),i.indexOf(u)==-1&&i.push(u)}a&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function lte(r){let e=Object.create(null);for(let n in r){let i=r[n];if(!i.hasDefault)return null;e[n]=i.default}return e}function cte(r,e){let n=Object.create(null);for(let i in r){let o=e&&e[i];if(o===void 0){let a=r[i];if(a.hasDefault)o=a.default;else throw new RangeError("No value supplied for attribute "+i)}n[i]=o}return n}function ute(r,e,n,i){for(let o in e)if(!(o in r))throw new RangeError(`Unsupported attribute ${o} for ${n} of type ${o}`);for(let o in r){let a=r[o];a.validate&&a.validate(e[o])}}function dte(r,e){let n=Object.create(null);if(e)for(let i in e)n[i]=new Vwe(r,i,e[i]);return n}let cB=class hte{constructor(e,n,i){this.name=e,this.schema=n,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=dte(e,i.attrs),this.defaultAttrs=lte(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Jy.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:cte(this.attrs,e)}create(e=null,n,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Nc(this,this.computeAttrs(e),st.from(n),Jn.setFrom(i))}createChecked(e=null,n,i){return n=st.from(n),this.checkContent(n),new Nc(this,this.computeAttrs(e),n,Jn.setFrom(i))}createAndFill(e=null,n,i){if(e=this.computeAttrs(e),n=st.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let o=this.contentMatch.matchFragment(n),a=o&&o.fillBefore(st.empty,!0);return a?new Nc(this,e,n.append(a),Jn.setFrom(i)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let i=0;i<e.childCount;i++)if(!this.allowsMarks(e.child(i).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){ute(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let i=0;i<e.length;i++)this.allowsMarkType(e[i].type)?n&&n.push(e[i]):n||(n=e.slice(0,i));return n?n.length?n:Jn.none:e}static compile(e,n){let i=Object.create(null);e.forEach((a,s)=>i[a]=new hte(a,n,s));let o=n.spec.topNode||"doc";if(!i[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let a in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function Wwe(r,e,n){let i=n.split("|");return o=>{let a=o===null?"null":typeof o;if(i.indexOf(a)<0)throw new RangeError(`Expected value of type ${i} for attribute ${e} on type ${r}, got ${a}`)}}let Vwe=class{constructor(e,n,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?Wwe(e,n,i.validate):i.validate}get isRequired(){return!this.hasDefault}},fte=class pte{constructor(e,n,i,o){this.name=e,this.rank=n,this.schema=i,this.spec=o,this.attrs=dte(e,o.attrs),this.excluded=null;let a=lte(this.attrs);this.instance=a?new Jn(this,a):null}create(e=null){return!e&&this.instance?this.instance:new Jn(this,cte(this.attrs,e))}static compile(e,n){let i=Object.create(null),o=0;return e.forEach((a,s)=>i[a]=new pte(a,o++,n,s)),i}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){ute(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}},mte=class{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let o in e)n[o]=e[o];n.nodes=xi.from(e.nodes),n.marks=xi.from(e.marks||{}),this.nodes=cB.compile(this.spec.nodes,this),this.marks=fte.compile(this.spec.marks,this);let i=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let a=this.nodes[o],s=a.spec.content||"",l=a.spec.marks;if(a.contentMatch=i[s]||(i[s]=Jy.parse(s,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=l=="_"?null:l?uB(this,l.split(" ")):l==""||!a.inlineContent?[]:null}for(let o in this.marks){let a=this.marks[o],s=a.spec.excludes;a.excluded=s==null?[a]:s==""?[]:uB(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,i,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof cB){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,i,o)}text(e,n){let i=this.nodes.text;return new Pwe(i,i.defaultAttrs,e,Jn.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Nc.fromJSON(this,e)}markFromJSON(e){return Jn.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}};function uB(r,e){let n=[];for(let i=0;i<e.length;i++){let o=e[i],a=r.marks[o],s=a;if(a)n.push(a);else for(let l in r.marks){let c=r.marks[l];(o=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=c)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return n}function qwe(r){return r.tag!=null}function Gwe(r){return r.style!=null}let Ay=class NA{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let i=this.matchedStyles=[];n.forEach(o=>{if(qwe(o))this.tags.push(o);else if(Gwe(o)){let a=/[^=]*/.exec(o.style)[0];i.indexOf(a)<0&&i.push(a),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let a=e.nodes[o.node];return a.contentMatch.matchType(a)})}parse(e,n={}){let i=new hB(this,n,!1);return i.addAll(e,Jn.none,n.from,n.to),i.finish()}parseSlice(e,n={}){let i=new hB(this,n,!0);return i.addAll(e,Jn.none,n.from,n.to),Et.maxOpen(i.finish())}matchTag(e,n,i){for(let o=i?this.tags.indexOf(i)+1:0;o<this.tags.length;o++){let a=this.tags[o];if(Ywe(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||n.matchesContext(a.context))){if(a.getAttrs){let s=a.getAttrs(e);if(s===!1)continue;a.attrs=s||void 0}return a}}}matchStyle(e,n,i,o){for(let a=o?this.styles.indexOf(o)+1:0;a<this.styles.length;a++){let s=this.styles[a],l=s.style;if(!(l.indexOf(e)!=0||s.context&&!i.matchesContext(s.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(s.getAttrs){let c=s.getAttrs(n);if(c===!1)continue;s.attrs=c||void 0}return s}}}static schemaRules(e){let n=[];function i(o){let a=o.priority==null?50:o.priority,s=0;for(;s<n.length;s++){let l=n[s];if((l.priority==null?50:l.priority)<a)break}n.splice(s,0,o)}for(let o in e.marks){let a=e.marks[o].spec.parseDOM;a&&a.forEach(s=>{i(s=fB(s)),s.mark||s.ignore||s.clearMark||(s.mark=o)})}for(let o in e.nodes){let a=e.nodes[o].spec.parseDOM;a&&a.forEach(s=>{i(s=fB(s)),s.node||s.ignore||s.mark||(s.node=o)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new NA(e,NA.schemaRules(e)))}};const gte={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Kwe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},yte={ol:!0,ul:!0},Qy=1,OA=2,K2=4;function dB(r,e,n){return e!=null?(e?Qy:0)|(e==="full"?OA:0):r&&r.whitespace=="pre"?Qy|OA:n&-5}let iw=class{constructor(e,n,i,o,a,s){this.type=e,this.attrs=n,this.marks=i,this.solid=o,this.options=s,this.content=[],this.activeMarks=Jn.none,this.match=a||(s&K2?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(st.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let i=this.type.contentMatch,o;return(o=i.findWrapping(e.type))?(this.match=i,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Qy)){let i=this.content[this.content.length-1],o;if(i&&i.isText&&(o=/[ \t\r\n\u000c]+$/.exec(i.text))){let a=i;i.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-o[0].length))}}let n=st.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(st.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!gte.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}},hB=class{constructor(e,n,i){this.parser=e,this.options=n,this.isOpen=i,this.open=0,this.localPreserveWS=!1;let o=n.topNode,a,s=dB(null,n.preserveWhitespace,0)|(i?K2:0);o?a=new iw(o.type,o.attrs,Jn.none,!0,n.topMatch||o.type.contentMatch,s):i?a=new iw(null,null,Jn.none,!0,null,s):a=new iw(e.schema.topNodeType,null,Jn.none,!0,null,s),this.nodes=[a],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let i=e.nodeValue,o=this.top,a=o.options&OA?"full":this.localPreserveWS||(o.options&Qy)>0;if(a==="full"||o.inlineContext(e)||/[^ \t\r\n\u000c]/.test(i)){if(a)a!=="full"?i=i.replace(/\r?\n|\r/g," "):i=i.replace(/\r\n?/g,`
`);else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let s=o.content[o.content.length-1],l=e.previousSibling;(!s||l&&l.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(i=i.slice(1))}i&&this.insertNode(this.parser.schema.text(i),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,i){let o=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),l;yte.hasOwnProperty(s)&&this.parser.normalizeLists&&Xwe(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,i));e:if(c?c.ignore:Kwe.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,n);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let u,d=this.needsBlock;if(gte.hasOwnProperty(s))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),u=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let h=c&&c.skip?n:this.readStyles(e,n);h&&this.addAll(e,h),u&&this.sync(a),this.needsBlock=d}else{let u=this.readStyles(e,n);u&&this.addElementByRule(e,c,u,c.consuming===!1?l:void 0)}this.localPreserveWS=o}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let i=e.style;if(i&&i.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let a=this.parser.matchedStyles[o],s=i.getPropertyValue(a);if(s)for(let l=void 0;;){let c=this.parser.matchStyle(a,s,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?n=n.filter(u=>!c.clearMark(u)):n=n.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return n}addElementByRule(e,n,i,o){let a,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),i)||this.leafFallback(e,i);else{let c=this.enter(s,n.attrs||null,i,n.preserveWhitespace);c&&(a=!0,i=c)}else{let c=this.parser.schema.marks[n.mark];i=i.concat(c.create(n.attrs))}let l=this.top;if(s&&s.isLeaf)this.findInside(e);else if(o)this.addElement(e,i,o);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,i));else{let c=e;typeof n.contentElement=="string"?c=e.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(e):n.contentElement&&(c=n.contentElement),this.findAround(e,c,!0),this.addAll(c,i),this.findAround(e,c,!1)}a&&this.sync(l)&&this.open--}addAll(e,n,i,o){let a=i||0;for(let s=i?e.childNodes[i]:e.firstChild,l=o==null?null:e.childNodes[o];s!=l;s=s.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(s,n);this.findAtPoint(e,a)}findPlace(e,n){let i,o;for(let a=this.open;a>=0;a--){let s=this.nodes[a],l=s.findWrapping(e);if(l&&(!i||i.length>l.length)&&(i=l,o=s,!l.length)||s.solid)break}if(!i)return null;this.sync(o);for(let a=0;a<i.length;a++)n=this.enterInner(i[a],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let i=this.findPlace(e,n);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let a=Jn.none;for(let s of i.concat(e.marks))(o.type?o.type.allowsMarkType(s.type):pB(s.type,e.type))&&(a=s.addToSet(a));return o.content.push(e.mark(a)),!0}return!1}enter(e,n,i,o){let a=this.findPlace(e.create(n),i);return a&&(a=this.enterInner(e,n,i,!0,o)),a}enterInner(e,n,i,o=!1,a){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let l=dB(e,a,s.options);s.options&K2&&s.content.length==0&&(l|=K2);let c=Jn.none;return i=i.filter(u=>(s.type?s.type.allowsMarkType(u.type):pB(u.type,e))?(c=u.addToSet(c),!1):!0),this.nodes.push(new iw(e,n,c,o,null,l)),this.open++,i}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Qy)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let i=this.nodes[n].content;for(let o=i.length-1;o>=0;o--)e+=i[o].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==e&&this.find[i].offset==n&&(this.find[i].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,i){if(e!=n&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&n.compareDocumentPosition(this.find[o].node)&(i?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),i=this.options.context,o=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),a=-(i?i.depth+1:0)+(o?0:1),s=(l,c)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;c>=a;c--)if(s(l-1,c))return!0;return!1}else{let d=c>0||c==0&&o?this.nodes[c].type:i&&c>=a?i.node(c-a).type:null;if(!d||d.name!=u&&!d.isInGroup(u))return!1;c--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let n in this.parser.schema.nodes){let i=this.parser.schema.nodes[n];if(i.isTextblock&&i.defaultAttrs)return i}}};function Xwe(r){for(let e=r.firstChild,n=null;e;e=e.nextSibling){let i=e.nodeType==1?e.nodeName.toLowerCase():null;i&&yte.hasOwnProperty(i)&&n?(n.appendChild(e),e=n):i=="li"?n=e:i&&(n=null)}}function Ywe(r,e){return(r.matches||r.msMatchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector).call(r,e)}function fB(r){let e={};for(let n in r)e[n]=r[n];return e}function pB(r,e){let n=e.schema.nodes;for(let i in n){let o=n[i];if(!o.allowsMarkType(r))continue;let a=[],s=l=>{a.push(l);for(let c=0;c<l.edgeCount;c++){let{type:u,next:d}=l.edge(c);if(u==e||a.indexOf(d)<0&&s(d))return!0}};if(s(o.contentMatch))return!0}}let tv=class bte{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},i){i||(i=b8(n).createDocumentFragment());let o=i,a=[];return e.forEach(s=>{if(a.length||s.marks.length){let l=0,c=0;for(;l<a.length&&c<s.marks.length;){let u=s.marks[c];if(!this.marks[u.type.name]){c++;continue}if(!u.eq(a[l][0])||u.type.spec.spanning===!1)break;l++,c++}for(;l<a.length;)o=a.pop()[1];for(;c<s.marks.length;){let u=s.marks[c++],d=this.serializeMark(u,s.isInline,n);d&&(a.push([u,o]),o.appendChild(d.dom),o=d.contentDOM||d.dom)}}o.appendChild(this.serializeNodeInner(s,n))}),i}serializeNodeInner(e,n){let{dom:i,contentDOM:o}=X2(b8(n),this.nodes[e.type.name](e),null,e.attrs);if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,o)}return i}serializeNode(e,n={}){let i=this.serializeNodeInner(e,n);for(let o=e.marks.length-1;o>=0;o--){let a=this.serializeMark(e.marks[o],e.isInline,n);a&&((a.contentDOM||a.dom).appendChild(i),i=a.dom)}return i}serializeMark(e,n,i={}){let o=this.marks[e.type.name];return o&&X2(b8(i),o(e,n),null,e.attrs)}static renderSpec(e,n,i=null,o){return X2(e,n,i,o)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new bte(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=mB(e.nodes);return n.text||(n.text=i=>i.text),n}static marksFromSchema(e){return mB(e.marks)}};function mB(r){let e={};for(let n in r){let i=r[n].spec.toDOM;i&&(e[n]=i)}return e}function b8(r){return r.document||window.document}const gB=new WeakMap;function Zwe(r){let e=gB.get(r);return e===void 0&&gB.set(r,e=Jwe(r)),e}function Jwe(r){let e=null;function n(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")e||(e=[]),e.push(i);else for(let o=0;o<i.length;o++)n(i[o]);else for(let o in i)n(i[o])}return n(r),e}function X2(r,e,n,i){if(typeof e=="string")return{dom:r.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let o=e[0],a;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(a=Zwe(i))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=o.indexOf(" ");s>0&&(n=o.slice(0,s),o=o.slice(s+1));let l,c=n?r.createElementNS(n,o):r.createElement(o),u=e[1],d=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){d=2;for(let h in u)if(u[h]!=null){let f=h.indexOf(" ");f>0?c.setAttributeNS(h.slice(0,f),h.slice(f+1),u[h]):c.setAttribute(h,u[h])}}for(let h=d;h<e.length;h++){let f=e[h];if(f===0){if(h<e.length-1||h>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:m,contentDOM:b}=X2(r,f,n,i);if(c.appendChild(m),b){if(l)throw new RangeError("Multiple content holes");l=b}}}return{dom:c,contentDOM:l}}const vte=65535,xte=Math.pow(2,16);function Qwe(r,e){return r+e*xte}function yB(r){return r&vte}function e2e(r){return(r-(r&vte))/xte}const wte=1,Ste=2,Y2=4,kte=8;let PA=class{constructor(e,n,i){this.pos=e,this.delInfo=n,this.recover=i}get deleted(){return(this.delInfo&kte)>0}get deletedBefore(){return(this.delInfo&(wte|Y2))>0}get deletedAfter(){return(this.delInfo&(Ste|Y2))>0}get deletedAcross(){return(this.delInfo&Y2)>0}},zf=class Nm{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Nm.empty)return Nm.empty}recover(e){let n=0,i=yB(e);if(!this.inverted)for(let o=0;o<i;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[i*3]+n+e2e(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,i){let o=0,a=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?o:0);if(c>e)break;let u=this.ranges[l+a],d=this.ranges[l+s],h=c+u;if(e<=h){let f=u?e==c?-1:e==h?1:n:n,m=c+o+(f<0?0:d);if(i)return m;let b=e==(n<0?c:h)?null:Qwe(l/3,e-c),g=e==c?Ste:e==h?wte:Y2;return(n<0?e!=c:e!=h)&&(g|=kte),new PA(m,g,b)}o+=d-u}return i?e+o:new PA(e+o,0,null)}touches(e,n){let i=0,o=yB(n),a=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?i:0);if(c>e)break;let u=this.ranges[l+a],d=c+u;if(e<=d&&l==o*3)return!0;i+=this.ranges[l+s]-u}return!1}forEach(e){let n=this.inverted?2:1,i=this.inverted?1:2;for(let o=0,a=0;o<this.ranges.length;o+=3){let s=this.ranges[o],l=s-(this.inverted?a:0),c=s+(this.inverted?0:a),u=this.ranges[o+n],d=this.ranges[o+i];e(l,l+u,c,c+d),a+=d-u}}invert(){return new Nm(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Nm.empty:new Nm(e<0?[0,-e,0]:[0,0,e])}};zf.empty=new zf([]);let Tte=class Z2{constructor(e=[],n,i=0,o=e.length){this.maps=e,this.mirror=n,this.from=i,this.to=o}slice(e=0,n=this.maps.length){return new Z2(this.maps,this.mirror,e,n)}copy(){return new Z2(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,i=this.maps.length;n<e.maps.length;n++){let o=e.getMirror(n);this.appendMap(e.maps[n],o!=null&&o<n?i+o:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,i=this.maps.length+e.maps.length;n>=0;n--){let o=e.getMirror(n);this.appendMap(e.maps[n].invert(),o!=null&&o>n?i-o-1:void 0)}}invert(){let e=new Z2;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let i=this.from;i<this.to;i++)e=this.maps[i].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,i){let o=0;for(let a=this.from;a<this.to;a++){let s=this.maps[a],l=s.mapResult(e,n);if(l.recover!=null){let c=this.getMirror(a);if(c!=null&&c>a&&c<this.to){a=c,e=this.maps[c].recover(l.recover);continue}}o|=l.delInfo,e=l.pos}return i?e:new PA(e,o,null)}};const v8=Object.create(null);let qi=class{getMap(){return zf.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=v8[n.stepType];if(!i)throw new RangeError(`No step type ${n.stepType} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in v8)throw new RangeError("Duplicate use of step JSON ID "+e);return v8[e]=n,n.prototype.jsonID=e,n}},ao=class ny{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new ny(e,null)}static fail(e){return new ny(null,e)}static fromReplace(e,n,i,o){try{return ny.ok(e.replace(n,i,o))}catch(a){if(a instanceof z4)return ny.fail(a.message);throw a}}};function kR(r,e,n){let i=[];for(let o=0;o<r.childCount;o++){let a=r.child(o);a.content.size&&(a=a.copy(kR(a.content,e,a))),a.isInline&&(a=e(a,n,o)),i.push(a)}return st.fromArray(i)}let TR=class ry extends qi{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=e.resolve(this.from),o=i.node(i.sharedDepth(this.to)),a=new Et(kR(n.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),o),n.openStart,n.openEnd);return ao.fromReplace(e,this.from,this.to,a)}invert(){return new nv(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new ry(n.pos,i.pos,this.mark)}merge(e){return e instanceof ry&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ry(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ry(n.from,n.to,e.markFromJSON(n.mark))}};qi.jsonID("addMark",TR);let nv=class iy extends qi{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=new Et(kR(n.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),n.openStart,n.openEnd);return ao.fromReplace(e,this.from,this.to,i)}invert(){return new TR(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new iy(n.pos,i.pos,this.mark)}merge(e){return e instanceof iy&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new iy(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new iy(n.from,n.to,e.markFromJSON(n.mark))}};qi.jsonID("removeMark",nv);let ER=class oy extends qi{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ao.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return ao.fromReplace(e,this.pos,this.pos+1,new Et(st.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let i=this.mark.addToSet(n.marks);if(i.length==n.marks.length){for(let o=0;o<n.marks.length;o++)if(!n.marks[o].isInSet(i))return new oy(this.pos,n.marks[o]);return new oy(this.pos,this.mark)}}return new CR(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new oy(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new oy(n.pos,e.markFromJSON(n.mark))}};qi.jsonID("addNodeMark",ER);let CR=class IA extends qi{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ao.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return ao.fromReplace(e,this.pos,this.pos+1,new Et(st.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new ER(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new IA(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new IA(n.pos,e.markFromJSON(n.mark))}};qi.jsonID("removeNodeMark",CR);let As=class Xh extends qi{constructor(e,n,i,o=!1){super(),this.from=e,this.to=n,this.slice=i,this.structure=o}apply(e){return this.structure&&$A(e,this.from,this.to)?ao.fail("Structure replace would overwrite content"):ao.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new zf([this.from,this.to-this.from,this.slice.size])}invert(e){return new Xh(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deletedAcross&&i.deletedAcross?null:new Xh(n.pos,Math.max(n.pos,i.pos),this.slice)}merge(e){if(!(e instanceof Xh)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Et.empty:new Et(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Xh(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Et.empty:new Et(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Xh(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Xh(n.from,n.to,Et.fromJSON(e,n.slice),!!n.structure)}};qi.jsonID("replace",As);let Oo=class J2 extends qi{constructor(e,n,i,o,a,s,l=!1){super(),this.from=e,this.to=n,this.gapFrom=i,this.gapTo=o,this.slice=a,this.insert=s,this.structure=l}apply(e){if(this.structure&&($A(e,this.from,this.gapFrom)||$A(e,this.gapTo,this.to)))return ao.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return ao.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,n.content);return i?ao.fromReplace(e,this.from,this.to,i):ao.fail("Content does not fit in gap")}getMap(){return new zf([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new J2(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),o=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?i.pos:e.map(this.gapTo,1);return n.deletedAcross&&i.deletedAcross||o<n.pos||a>i.pos?null:new J2(n.pos,i.pos,o,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new J2(n.from,n.to,n.gapFrom,n.gapTo,Et.fromJSON(e,n.slice),n.insert,!!n.structure)}};qi.jsonID("replaceAround",Oo);function $A(r,e,n){let i=r.resolve(e),o=n-e,a=i.depth;for(;o>0&&a>0&&i.indexAfter(a)==i.node(a).childCount;)a--,o--;if(o>0){let s=i.node(a).maybeChild(i.indexAfter(a));for(;o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}}return!1}function t2e(r,e,n,i){let o=[],a=[],s,l;r.doc.nodesBetween(e,n,(c,u,d)=>{if(!c.isInline)return;let h=c.marks;if(!i.isInSet(h)&&d.type.allowsMarkType(i.type)){let f=Math.max(u,e),m=Math.min(u+c.nodeSize,n),b=i.addToSet(h);for(let g=0;g<h.length;g++)h[g].isInSet(b)||(s&&s.to==f&&s.mark.eq(h[g])?s.to=m:o.push(s=new nv(f,m,h[g])));l&&l.to==f?l.to=m:a.push(l=new TR(f,m,i))}}),o.forEach(c=>r.step(c)),a.forEach(c=>r.step(c))}function n2e(r,e,n,i){let o=[],a=0;r.doc.nodesBetween(e,n,(s,l)=>{if(!s.isInline)return;a++;let c=null;if(i instanceof fte){let u=s.marks,d;for(;d=i.isInSet(u);)(c||(c=[])).push(d),u=d.removeFromSet(u)}else i?i.isInSet(s.marks)&&(c=[i]):c=s.marks;if(c&&c.length){let u=Math.min(l+s.nodeSize,n);for(let d=0;d<c.length;d++){let h=c[d],f;for(let m=0;m<o.length;m++){let b=o[m];b.step==a-1&&h.eq(o[m].style)&&(f=b)}f?(f.to=u,f.step=a):o.push({style:h,from:Math.max(l,e),to:u,step:a})}}}),o.forEach(s=>r.step(new nv(s.from,s.to,s.style)))}function _R(r,e,n,i=n.contentMatch,o=!0){let a=r.doc.nodeAt(e),s=[],l=e+1;for(let c=0;c<a.childCount;c++){let u=a.child(c),d=l+u.nodeSize,h=i.matchType(u.type);if(!h)s.push(new As(l,d,Et.empty));else{i=h;for(let f=0;f<u.marks.length;f++)n.allowsMarkType(u.marks[f].type)||r.step(new nv(l,d,u.marks[f]));if(o&&u.isText&&n.whitespace!="pre"){let f,m=/\r?\n|\r/g,b;for(;f=m.exec(u.text);)b||(b=new Et(st.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),s.push(new As(l+f.index,l+f.index+f[0].length,b))}}l=d}if(!i.validEnd){let c=i.fillBefore(st.empty,!0);r.replace(l,l,new Et(c,0,0))}for(let c=s.length-1;c>=0;c--)r.step(s[c])}function r2e(r,e,n){return(e==0||r.canReplace(e,r.childCount))&&(n==r.childCount||r.canReplace(0,n))}function J0(r){let e=r.parent.content.cutByIndex(r.startIndex,r.endIndex);for(let n=r.depth;;--n){let i=r.$from.node(n),o=r.$from.index(n),a=r.$to.indexAfter(n);if(n<r.depth&&i.canReplace(o,a,e))return n;if(n==0||i.type.spec.isolating||!r2e(i,o,a))break}return null}function i2e(r,e,n){let{$from:i,$to:o,depth:a}=e,s=i.before(a+1),l=o.after(a+1),c=s,u=l,d=st.empty,h=0;for(let b=a,g=!1;b>n;b--)g||i.index(b)>0?(g=!0,d=st.from(i.node(b).copy(d)),h++):c--;let f=st.empty,m=0;for(let b=a,g=!1;b>n;b--)g||o.after(b+1)<o.end(b)?(g=!0,f=st.from(o.node(b).copy(f)),m++):u++;r.step(new Oo(c,u,s,l,new Et(d.append(f),h,m),d.size-h,!0))}function AR(r,e,n=null,i=r){let o=o2e(r,e),a=o&&a2e(i,e);return a?o.map(bB).concat({type:e,attrs:n}).concat(a.map(bB)):null}function bB(r){return{type:r,attrs:null}}function o2e(r,e){let{parent:n,startIndex:i,endIndex:o}=r,a=n.contentMatchAt(i).findWrapping(e);if(!a)return null;let s=a.length?a[0]:e;return n.canReplaceWith(i,o,s)?a:null}function a2e(r,e){let{parent:n,startIndex:i,endIndex:o}=r,a=n.child(i),s=e.contentMatch.findWrapping(a.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=i;l&&c<o;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:s}function s2e(r,e,n){let i=st.empty;for(let s=n.length-1;s>=0;s--){if(i.size){let l=n[s].type.contentMatch.matchFragment(i);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=st.from(n[s].type.create(n[s].attrs,i))}let o=e.start,a=e.end;r.step(new Oo(o,a,o,a,new Et(i,0,0),n.length,!0))}function l2e(r,e,n,i,o){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=r.steps.length;r.doc.nodesBetween(e,n,(s,l)=>{let c=typeof o=="function"?o(s):o;if(s.isTextblock&&!s.hasMarkup(i,c)&&c2e(r.doc,r.mapping.slice(a).map(l),i)){let u=null;if(i.schema.linebreakReplacement){let m=i.whitespace=="pre",b=!!i.contentMatch.matchType(i.schema.linebreakReplacement);m&&!b?u=!1:!m&&b&&(u=!0)}u===!1&&Cte(r,s,l,a),_R(r,r.mapping.slice(a).map(l,1),i,void 0,u===null);let d=r.mapping.slice(a),h=d.map(l,1),f=d.map(l+s.nodeSize,1);return r.step(new Oo(h,f,h+1,f-1,new Et(st.from(i.create(c,null,s.marks)),0,0),1,!0)),u===!0&&Ete(r,s,l,a),!1}})}function Ete(r,e,n,i){e.forEach((o,a)=>{if(o.isText){let s,l=/\r?\n|\r/g;for(;s=l.exec(o.text);){let c=r.mapping.slice(i).map(n+1+a+s.index);r.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function Cte(r,e,n,i){e.forEach((o,a)=>{if(o.type==o.type.schema.linebreakReplacement){let s=r.mapping.slice(i).map(n+1+a);r.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function c2e(r,e,n){let i=r.resolve(e),o=i.index();return i.parent.canReplaceWith(o,o+1,n)}function u2e(r,e,n,i,o){let a=r.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");n||(n=a.type);let s=n.create(i,null,o||a.marks);if(a.isLeaf)return r.replaceWith(e,e+a.nodeSize,s);if(!n.validContent(a.content))throw new RangeError("Invalid content for node type "+n.name);r.step(new Oo(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new Et(st.from(s),0,0),1,!0))}function Oc(r,e,n=1,i){let o=r.resolve(e),a=o.depth-n,s=i&&i[i.length-1]||o.parent;if(a<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let u=o.depth-1,d=n-2;u>a;u--,d--){let h=o.node(u),f=o.index(u);if(h.type.spec.isolating)return!1;let m=h.content.cutByIndex(f,h.childCount),b=i&&i[d+1];b&&(m=m.replaceChild(0,b.type.create(b.attrs)));let g=i&&i[d]||h;if(!h.canReplace(f+1,h.childCount)||!g.type.validContent(m))return!1}let l=o.indexAfter(a),c=i&&i[0];return o.node(a).canReplaceWith(l,l,c?c.type:o.node(a+1).type)}function d2e(r,e,n=1,i){let o=r.doc.resolve(e),a=st.empty,s=st.empty;for(let l=o.depth,c=o.depth-n,u=n-1;l>c;l--,u--){a=st.from(o.node(l).copy(a));let d=i&&i[u];s=st.from(d?d.type.create(d.attrs,s):o.node(l).copy(s))}r.step(new As(e,e,new Et(a.append(s),n,n),!0))}function Vd(r,e){let n=r.resolve(e),i=n.index();return _te(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function h2e(r,e){e.content.size||r.type.compatibleContent(e.type);let n=r.contentMatchAt(r.childCount),{linebreakReplacement:i}=r.type.schema;for(let o=0;o<e.childCount;o++){let a=e.child(o),s=a.type==i?r.type.schema.nodes.text:a.type;if(n=n.matchType(s),!n||!r.type.allowsMarks(a.marks))return!1}return n.validEnd}function _te(r,e){return!!(r&&e&&!r.isLeaf&&h2e(r,e))}function D5(r,e,n=-1){let i=r.resolve(e);for(let o=i.depth;;o--){let a,s,l=i.index(o);if(o==i.depth?(a=i.nodeBefore,s=i.nodeAfter):n>0?(a=i.node(o+1),l++,s=i.node(o).maybeChild(l)):(a=i.node(o).maybeChild(l-1),s=i.node(o+1)),a&&!a.isTextblock&&_te(a,s)&&i.node(o).canReplace(l,l+1))return e;if(o==0)break;e=n<0?i.before(o):i.after(o)}}function f2e(r,e,n){let i=null,{linebreakReplacement:o}=r.doc.type.schema,a=r.doc.resolve(e-n),s=a.node().type;if(o&&s.inlineContent){let d=s.whitespace=="pre",h=!!s.contentMatch.matchType(o);d&&!h?i=!1:!d&&h&&(i=!0)}let l=r.steps.length;if(i===!1){let d=r.doc.resolve(e+n);Cte(r,d.node(),d.before(),l)}s.inlineContent&&_R(r,e+n-1,s,a.node().contentMatchAt(a.index()),i==null);let c=r.mapping.slice(l),u=c.map(e-n);if(r.step(new As(u,c.map(e+n,-1),Et.empty,!0)),i===!0){let d=r.doc.resolve(u);Ete(r,d.node(),d.before(),r.steps.length)}return r}function p2e(r,e,n){let i=r.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),n))return e;if(i.parentOffset==0)for(let o=i.depth-1;o>=0;o--){let a=i.index(o);if(i.node(o).canReplaceWith(a,a,n))return i.before(o+1);if(a>0)return null}if(i.parentOffset==i.parent.content.size)for(let o=i.depth-1;o>=0;o--){let a=i.indexAfter(o);if(i.node(o).canReplaceWith(a,a,n))return i.after(o+1);if(a<i.node(o).childCount)return null}return null}function Ate(r,e,n){let i=r.resolve(e);if(!n.content.size)return e;let o=n.content;for(let a=0;a<n.openStart;a++)o=o.firstChild.content;for(let a=1;a<=(n.openStart==0&&n.size?2:1);a++)for(let s=i.depth;s>=0;s--){let l=s==i.depth?0:i.pos<=(i.start(s+1)+i.end(s+1))/2?-1:1,c=i.index(s)+(l>0?1:0),u=i.node(s),d=!1;if(a==1)d=u.canReplace(c,c,o);else{let h=u.contentMatchAt(c).findWrapping(o.firstChild.type);d=h&&u.canReplaceWith(c,c,h[0])}if(d)return l==0?i.pos:l<0?i.before(s+1):i.after(s+1)}return null}function M5(r,e,n=e,i=Et.empty){if(e==n&&!i.size)return null;let o=r.resolve(e),a=r.resolve(n);return Dte(o,a,i)?new As(e,n,i):new m2e(o,a,i).fit()}function Dte(r,e,n){return!n.openStart&&!n.openEnd&&r.start()==e.start()&&r.parent.canReplace(r.index(),e.index(),n.content)}let m2e=class{constructor(e,n,i){this.$from=e,this.$to=n,this.unplaced=i,this.frontier=[],this.placed=st.empty;for(let o=0;o<=e.depth;o++){let a=e.node(o);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=st.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,o=this.close(e<0?this.$to:i.doc.resolve(e));if(!o)return null;let a=this.placed,s=i.depth,l=o.depth;for(;s&&l&&a.childCount==1;)a=a.firstChild.content,s--,l--;let c=new Et(a,s,l);return e>-1?new Oo(i.pos,e,this.$to.pos,this.$to.end(),c,n):c.size||i.pos!=this.$to.pos?new As(i.pos,o.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,i=0,o=this.unplaced.openEnd;i<e;i++){let a=n.firstChild;if(n.childCount>1&&(o=0),a.type.spec.isolating&&o<=i){e=i;break}n=a.content}for(let n=1;n<=2;n++)for(let i=n==1?e:this.unplaced.openStart;i>=0;i--){let o,a=null;i?(a=x8(this.unplaced.content,i-1).firstChild,o=a.content):o=this.unplaced.content;let s=o.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:u}=this.frontier[l],d,h=null;if(n==1&&(s?u.matchType(s.type)||(h=u.fillBefore(st.from(s),!1)):a&&c.compatibleContent(a.type)))return{sliceDepth:i,frontierDepth:l,parent:a,inject:h};if(n==2&&s&&(d=u.findWrapping(s.type)))return{sliceDepth:i,frontierDepth:l,parent:a,wrap:d};if(a&&u.matchType(a.type))break}}}openMore(){let{content:e,openStart:n,openEnd:i}=this.unplaced,o=x8(e,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new Et(e,n+1,Math.max(i,o.size+n>=e.size-i?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:i}=this.unplaced,o=x8(e,n);if(o.childCount<=1&&n>0){let a=e.size-n<=n+o.size;this.unplaced=new Et(ay(e,n-1,1),n-1,a?n-1:i)}else this.unplaced=new Et(ay(e,n,1),n,i)}placeNodes({sliceDepth:e,frontierDepth:n,parent:i,inject:o,wrap:a}){for(;this.depth>n;)this.closeFrontierNode();if(a)for(let g=0;g<a.length;g++)this.openFrontierNode(a[g]);let s=this.unplaced,l=i?i.content:s.content,c=s.openStart-e,u=0,d=[],{match:h,type:f}=this.frontier[n];if(o){for(let g=0;g<o.childCount;g++)d.push(o.child(g));h=h.matchFragment(o)}let m=l.size+e-(s.content.size-s.openEnd);for(;u<l.childCount;){let g=l.child(u),v=h.matchType(g.type);if(!v)break;u++,(u>1||c==0||g.content.size)&&(h=v,d.push(Mte(g.mark(f.allowedMarks(g.marks)),u==1?c:0,u==l.childCount?m:-1)))}let b=u==l.childCount;b||(m=-1),this.placed=sy(this.placed,n,st.from(d)),this.frontier[n].match=h,b&&m<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,v=l;g<m;g++){let x=v.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),v=x.content}this.unplaced=b?e==0?Et.empty:new Et(ay(s.content,e-1,1),e-1,m<0?s.openEnd:e-1):new Et(ay(s.content,e,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!w8(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:i}=this.$to,o=this.$to.after(i);for(;i>1&&o==this.$to.end(--i);)++o;return o}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:i,type:o}=this.frontier[n],a=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=w8(e,n,o,i,a);if(s){for(let l=n-1;l>=0;l--){let{match:c,type:u}=this.frontier[l],d=w8(e,l,u,c,!0);if(!d||d.childCount)continue e}return{depth:n,fit:s,move:a?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=sy(this.placed,n.depth,n.fit)),e=n.move;for(let i=n.depth+1;i<=e.depth;i++){let o=e.node(i),a=o.type.contentMatch.fillBefore(o.content,!0,e.index(i));this.openFrontierNode(o.type,o.attrs,a)}return e}openFrontierNode(e,n=null,i){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=sy(this.placed,this.depth,st.from(e.create(n,i))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(st.empty,!0);e.childCount&&(this.placed=sy(this.placed,this.frontier.length,e))}};function ay(r,e,n){return e==0?r.cutByIndex(n,r.childCount):r.replaceChild(0,r.firstChild.copy(ay(r.firstChild.content,e-1,n)))}function sy(r,e,n){return e==0?r.append(n):r.replaceChild(r.childCount-1,r.lastChild.copy(sy(r.lastChild.content,e-1,n)))}function x8(r,e){for(let n=0;n<e;n++)r=r.firstChild.content;return r}function Mte(r,e,n){if(e<=0)return r;let i=r.content;return e>1&&(i=i.replaceChild(0,Mte(i.firstChild,e-1,i.childCount==1?n-1:0))),e>0&&(i=r.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(r.type.contentMatch.matchFragment(i).fillBefore(st.empty,!0)))),r.copy(i)}function w8(r,e,n,i,o){let a=r.node(e),s=o?r.indexAfter(e):r.index(e);if(s==a.childCount&&!n.compatibleContent(a.type))return null;let l=i.fillBefore(a.content,!0,s);return l&&!g2e(n,a.content,s)?l:null}function g2e(r,e,n){for(let i=n;i<e.childCount;i++)if(!r.allowsMarks(e.child(i).marks))return!0;return!1}function y2e(r){return r.spec.defining||r.spec.definingForContent}function b2e(r,e,n,i){if(!i.size)return r.deleteRange(e,n);let o=r.doc.resolve(e),a=r.doc.resolve(n);if(Dte(o,a,i))return r.step(new As(e,n,i));let s=Nte(o,r.doc.resolve(n));s[s.length-1]==0&&s.pop();let l=-(o.depth+1);s.unshift(l);for(let f=o.depth,m=o.pos-1;f>0;f--,m--){let b=o.node(f).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;s.indexOf(f)>-1?l=f:o.before(f)==m&&s.splice(1,0,-f)}let c=s.indexOf(l),u=[],d=i.openStart;for(let f=i.content,m=0;;m++){let b=f.firstChild;if(u.push(b),m==i.openStart)break;f=b.content}for(let f=d-1;f>=0;f--){let m=u[f],b=y2e(m.type);if(b&&!m.sameMarkup(o.node(Math.abs(l)-1)))d=f;else if(b||!m.type.isTextblock)break}for(let f=i.openStart;f>=0;f--){let m=(f+d+1)%(i.openStart+1),b=u[m];if(b)for(let g=0;g<s.length;g++){let v=s[(g+c)%s.length],x=!0;v<0&&(x=!1,v=-v);let w=o.node(v-1),k=o.index(v-1);if(w.canReplaceWith(k,k,b.type,b.marks))return r.replace(o.before(v),x?a.after(v):n,new Et(Rte(i.content,0,i.openStart,m),m,i.openEnd))}}let h=r.steps.length;for(let f=s.length-1;f>=0&&(r.replace(e,n,i),!(r.steps.length>h));f--){let m=s[f];m<0||(e=o.before(m),n=a.after(m))}}function Rte(r,e,n,i,o){if(e<n){let a=r.firstChild;r=r.replaceChild(0,a.copy(Rte(a.content,e+1,n,i,a)))}if(e>i){let a=o.contentMatchAt(0),s=a.fillBefore(r).append(r);r=s.append(a.matchFragment(s).fillBefore(st.empty,!0))}return r}function v2e(r,e,n,i){if(!i.isInline&&e==n&&r.doc.resolve(e).parent.content.size){let o=p2e(r.doc,e,i.type);o!=null&&(e=n=o)}r.replaceRange(e,n,new Et(st.from(i),0,0))}function x2e(r,e,n){let i=r.doc.resolve(e),o=r.doc.resolve(n),a=Nte(i,o);for(let s=0;s<a.length;s++){let l=a[s],c=s==a.length-1;if(c&&l==0||i.node(l).type.contentMatch.validEnd)return r.delete(i.start(l),o.end(l));if(l>0&&(c||i.node(l-1).canReplace(i.index(l-1),o.indexAfter(l-1))))return r.delete(i.before(l),o.after(l))}for(let s=1;s<=i.depth&&s<=o.depth;s++)if(e-i.start(s)==i.depth-s&&n>i.end(s)&&o.end(s)-n!=o.depth-s&&i.start(s-1)==o.start(s-1)&&i.node(s-1).canReplace(i.index(s-1),o.index(s-1)))return r.delete(i.before(s),n);r.delete(e,n)}function Nte(r,e){let n=[],i=Math.min(r.depth,e.depth);for(let o=i;o>=0;o--){let a=r.start(o);if(a<r.pos-(r.depth-o)||e.end(o)>e.pos+(e.depth-o)||r.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(a==e.start(o)||o==r.depth&&o==e.depth&&r.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==a-1)&&n.push(o)}return n}let Ote=class Q2 extends qi{constructor(e,n,i){super(),this.pos=e,this.attr=n,this.value=i}apply(e){let n=e.nodeAt(this.pos);if(!n)return ao.fail("No node at attribute step's position");let i=Object.create(null);for(let a in n.attrs)i[a]=n.attrs[a];i[this.attr]=this.value;let o=n.type.create(i,null,n.marks);return ao.fromReplace(e,this.pos,this.pos+1,new Et(st.from(o),0,n.isLeaf?0:1))}getMap(){return zf.empty}invert(e){return new Q2(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Q2(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Q2(n.pos,n.attr,n.value)}};qi.jsonID("attr",Ote);let Pte=class zA extends qi{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let o in e.attrs)n[o]=e.attrs[o];n[this.attr]=this.value;let i=e.type.create(n,e.content,e.marks);return ao.ok(i)}getMap(){return zf.empty}invert(e){return new zA(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new zA(n.attr,n.value)}};qi.jsonID("docAttr",Pte);let S0=class extends Error{};S0=function r(e){let n=Error.call(this,e);return n.__proto__=r.prototype,n};S0.prototype=Object.create(Error.prototype);S0.prototype.constructor=S0;S0.prototype.name="TransformError";let DR=class{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Tte}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new S0(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,i=Et.empty){let o=M5(this.doc,e,n,i);return o&&this.step(o),this}replaceWith(e,n,i){return this.replace(e,n,new Et(st.from(i),0,0))}delete(e,n){return this.replace(e,n,Et.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,i){return b2e(this,e,n,i),this}replaceRangeWith(e,n,i){return v2e(this,e,n,i),this}deleteRange(e,n){return x2e(this,e,n),this}lift(e,n){return i2e(this,e,n),this}join(e,n=1){return f2e(this,e,n),this}wrap(e,n){return s2e(this,e,n),this}setBlockType(e,n=e,i,o=null){return l2e(this,e,n,i,o),this}setNodeMarkup(e,n,i=null,o){return u2e(this,e,n,i,o),this}setNodeAttribute(e,n,i){return this.step(new Ote(e,n,i)),this}setDocAttribute(e,n){return this.step(new Pte(e,n)),this}addNodeMark(e,n){return this.step(new ER(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Jn)){let i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at position "+e);if(n=n.isInSet(i.marks),!n)return this}return this.step(new CR(e,n)),this}split(e,n=1,i){return d2e(this,e,n,i),this}addMark(e,n,i){return t2e(this,e,n,i),this}removeMark(e,n,i){return n2e(this,e,n,i),this}clearIncompatible(e,n,i){return _R(this,e,n,i),this}};const S8=Object.create(null);let Xt=class{constructor(e,n,i){this.$anchor=e,this.$head=n,this.ranges=i||[new MR(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Et.empty){let i=n.content.lastChild,o=null;for(let l=0;l<n.openEnd;l++)o=i,i=i.lastChild;let a=e.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:c,$to:u}=s[l],d=e.mapping.slice(a);e.replaceRange(d.map(c.pos),d.map(u.pos),l?Et.empty:n),l==0&&wB(e,a,(i?i.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,n){let i=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:s,$to:l}=o[a],c=e.mapping.slice(i),u=c.map(s.pos),d=c.map(l.pos);a?e.deleteRange(u,d):(e.replaceRangeWith(u,d,n),wB(e,i,n.isInline?-1:1))}}static findFrom(e,n,i=!1){let o=e.parent.inlineContent?new Ht(e):Om(e.node(0),e.parent,e.pos,e.index(),n,i);if(o)return o;for(let a=e.depth-1;a>=0;a--){let s=n<0?Om(e.node(0),e.node(a),e.before(a+1),e.index(a),n,i):Om(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,n,i);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Cs(e.node(0))}static atStart(e){return Om(e,e,0,0,1)||new Cs(e)}static atEnd(e){return Om(e,e,e.content.size,e.childCount,-1)||new Cs(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=S8[n.type];if(!i)throw new RangeError(`No selection type ${n.type} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in S8)throw new RangeError("Duplicate use of selection JSON ID "+e);return S8[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Ht.between(this.$anchor,this.$head).getBookmark()}};Xt.prototype.visible=!0;let MR=class{constructor(e,n){this.$from=e,this.$to=n}},vB=!1;function xB(r){!vB&&!r.parent.inlineContent&&(vB=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+r.parent.type.name+")"))}let Ht=class ly extends Xt{constructor(e,n=e){xB(e),xB(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let i=e.resolve(n.map(this.head));if(!i.parent.inlineContent)return Xt.near(i);let o=e.resolve(n.map(this.anchor));return new ly(o.parent.inlineContent?o:i,i)}replace(e,n=Et.empty){if(super.replace(e,n),n==Et.empty){let i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}}eq(e){return e instanceof ly&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ite(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ly(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,i=n){let o=e.resolve(n);return new this(o,i==n?o:e.resolve(i))}static between(e,n,i){let o=e.pos-n.pos;if((!i||o)&&(i=o>=0?1:-1),!n.parent.inlineContent){let a=Xt.findFrom(n,i,!0)||Xt.findFrom(n,-i,!0);if(a)n=a.$head;else return Xt.near(n,i)}return e.parent.inlineContent||(o==0?e=n:(e=(Xt.findFrom(e,-i,!0)||Xt.findFrom(e,i,!0)).$anchor,e.pos<n.pos!=o<0&&(e=n))),new ly(e,n)}};Xt.jsonID("text",Ht);let Ite=class $te{constructor(e,n){this.anchor=e,this.head=n}map(e){return new $te(e.map(this.anchor),e.map(this.head))}resolve(e){return Ht.between(e.resolve(this.anchor),e.resolve(this.head))}},Gt=class cy extends Xt{constructor(e){let n=e.nodeAfter,i=e.node(0).resolve(e.pos+n.nodeSize);super(e,i),this.node=n}map(e,n){let{deleted:i,pos:o}=n.mapResult(this.anchor),a=e.resolve(o);return i?Xt.near(a):new cy(a)}content(){return new Et(st.from(this.node),0,0)}eq(e){return e instanceof cy&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new w2e(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new cy(e.resolve(n.anchor))}static create(e,n){return new cy(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}};Gt.prototype.visible=!1;Xt.jsonID("node",Gt);let w2e=class zte{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:i}=e.mapResult(this.anchor);return n?new Ite(i,i):new zte(i)}resolve(e){let n=e.resolve(this.anchor),i=n.nodeAfter;return i&&Gt.isSelectable(i)?new Gt(n):Xt.near(n)}},Cs=class e4 extends Xt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Et.empty){if(n==Et.empty){e.delete(0,e.doc.content.size);let i=Xt.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new e4(e)}map(e){return new e4(e)}eq(e){return e instanceof e4}getBookmark(){return S2e}};Xt.jsonID("all",Cs);const S2e={map(){return this},resolve(r){return new Cs(r)}};function Om(r,e,n,i,o,a=!1){if(e.inlineContent)return Ht.create(r,n);for(let s=i-(o>0?0:1);o>0?s<e.childCount:s>=0;s+=o){let l=e.child(s);if(l.isAtom){if(!a&&Gt.isSelectable(l))return Gt.create(r,n-(o<0?l.nodeSize:0))}else{let c=Om(r,l,n+o,o<0?l.childCount:0,o,a);if(c)return c}n+=l.nodeSize*o}return null}function wB(r,e,n){let i=r.steps.length-1;if(i<e)return;let o=r.steps[i];if(!(o instanceof As||o instanceof Oo))return;let a=r.mapping.maps[i],s;a.forEach((l,c,u,d)=>{s==null&&(s=d)}),r.setSelection(Xt.near(r.doc.resolve(s),n))}const SB=1,kB=2,TB=4;let k2e=class extends DR{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|SB)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&SB)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=kB,this}ensureMarks(e){return Jn.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&kB)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let i=this.selection;return n&&(e=e.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||Jn.none))),i.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,i){let o=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(i==null&&(i=n),i=i??n,!e)return this.deleteRange(n,i);let a=this.storedMarks;if(!a){let s=this.doc.resolve(n);a=i==n?s.marks():s.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(n,i,o.text(e,a)),this.selection.empty||this.setSelection(Xt.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=TB,this}get scrolledIntoView(){return(this.updated&TB)>0}};function EB(r,e){return!e||!r?r:r.bind(e)}let uy=class{constructor(e,n,i){this.name=e,this.init=EB(n.init,i),this.apply=EB(n.apply,i)}};const T2e=[new uy("doc",{init(r){return r.doc||r.schema.topNodeType.createAndFill()},apply(r){return r.doc}}),new uy("selection",{init(r,e){return r.selection||Xt.atStart(e.doc)},apply(r){return r.selection}}),new uy("storedMarks",{init(r){return r.storedMarks||null},apply(r,e,n,i){return i.selection.$cursor?r.storedMarks:null}}),new uy("scrollToSelection",{init(){return 0},apply(r,e){return r.scrolledIntoView?e+1:e}})];let k8=class{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=T2e.slice(),n&&n.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new uy(i.key,i.spec.state,i))})}},E2e=class dy{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=n){let o=this.config.plugins[i];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],i=this.applyInner(e),o=null;for(;;){let a=!1;for(let s=0;s<this.config.plugins.length;s++){let l=this.config.plugins[s];if(l.spec.appendTransaction){let c=o?o[s].n:0,u=o?o[s].state:this,d=c<n.length&&l.spec.appendTransaction.call(l,c?n.slice(c):n,u,i);if(d&&i.filterTransaction(d,s)){if(d.setMeta("appendedTransaction",e),!o){o=[];for(let h=0;h<this.config.plugins.length;h++)o.push(h<s?{state:i,n:n.length}:{state:this,n:0})}n.push(d),i=i.applyInner(d),a=!0}o&&(o[s]={state:i,n:n.length})}}if(!a)return{state:i,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new dy(this.config),i=this.config.fields;for(let o=0;o<i.length;o++){let a=i[o];n[a.name]=a.apply(e,this[a.name],this,n)}return n}get tr(){return new k2e(this)}static create(e){let n=new k8(e.doc?e.doc.type.schema:e.schema,e.plugins),i=new dy(n);for(let o=0;o<n.fields.length;o++)i[n.fields[o].name]=n.fields[o].init(e,i);return i}reconfigure(e){let n=new k8(this.schema,e.plugins),i=n.fields,o=new dy(n);for(let a=0;a<i.length;a++){let s=i[a].name;o[s]=this.hasOwnProperty(s)?this[s]:i[a].init(e,o)}return o}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(i=>i.toJSON())),e&&typeof e=="object")for(let i in e){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[i],a=o.spec.state;a&&a.toJSON&&(n[i]=a.toJSON.call(o,this[o.key]))}return n}static fromJSON(e,n,i){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new k8(e.schema,e.plugins),a=new dy(o);return o.fields.forEach(s=>{if(s.name=="doc")a.doc=Nc.fromJSON(e.schema,n.doc);else if(s.name=="selection")a.selection=Xt.fromJSON(a.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(a.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(i)for(let l in i){let c=i[l],u=c.spec.state;if(c.key==s.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){a[s.name]=u.fromJSON.call(c,e,n[l],a);return}}a[s.name]=s.init(e,a)}}),a}};function Lte(r,e,n){for(let i in r){let o=r[i];o instanceof Function?o=o.bind(e):i=="handleDOMEvents"&&(o=Lte(o,e,{})),n[i]=o}return n}let $n=class{constructor(e){this.spec=e,this.props={},e.props&&Lte(e.props,this,this.props),this.key=e.key?e.key.key:Ute("plugin")}getState(e){return e[this.key]}};const T8=Object.create(null);function Ute(r){return r in T8?r+"$"+ ++T8[r]:(T8[r]=0,r+"$")}let Ln=class{constructor(e="key"){this.key=Ute(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}};const Si=function(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e},eb=function(r){let e=r.assignedSlot||r.parentNode;return e&&e.nodeType==11?e.host:e};let LA=null;const yc=function(r,e,n){let i=LA||(LA=document.createRange());return i.setEnd(r,n??r.nodeValue.length),i.setStart(r,e||0),i},C2e=function(){LA=null},Lf=function(r,e,n,i){return n&&(CB(r,e,n,i,-1)||CB(r,e,n,i,1))},_2e=/^(img|br|input|textarea|hr)$/i;function CB(r,e,n,i,o){for(;;){if(r==n&&e==i)return!0;if(e==(o<0?0:Ha(r))){let a=r.parentNode;if(!a||a.nodeType!=1||rv(r)||_2e.test(r.nodeName)||r.contentEditable=="false")return!1;e=Si(r)+(o<0?0:1),r=a}else if(r.nodeType==1){if(r=r.childNodes[e+(o<0?-1:0)],r.contentEditable=="false")return!1;e=o<0?Ha(r):0}else return!1}}function Ha(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function A2e(r,e){for(;;){if(r.nodeType==3&&e)return r;if(r.nodeType==1&&e>0){if(r.contentEditable=="false")return null;r=r.childNodes[e-1],e=Ha(r)}else if(r.parentNode&&!rv(r))e=Si(r),r=r.parentNode;else return null}}function D2e(r,e){for(;;){if(r.nodeType==3&&e<r.nodeValue.length)return r;if(r.nodeType==1&&e<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[e],e=0}else if(r.parentNode&&!rv(r))e=Si(r)+1,r=r.parentNode;else return null}}function M2e(r,e,n){for(let i=e==0,o=e==Ha(r);i||o;){if(r==n)return!0;let a=Si(r);if(r=r.parentNode,!r)return!1;i=i&&a==0,o=o&&a==Ha(r)}}function rv(r){let e;for(let n=r;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==r||e.contentDOM==r)}const R5=function(r){return r.focusNode&&Lf(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)};function Jh(r,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=r,n.key=n.code=e,n}function R2e(r){let e=r.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function N2e(r,e,n){if(r.caretPositionFromPoint)try{let i=r.caretPositionFromPoint(e,n);if(i)return{node:i.offsetNode,offset:Math.min(Ha(i.offsetNode),i.offset)}}catch{}if(r.caretRangeFromPoint){let i=r.caretRangeFromPoint(e,n);if(i)return{node:i.startContainer,offset:Math.min(Ha(i.startContainer),i.startOffset)}}}const wl=typeof navigator<"u"?navigator:null,_B=typeof document<"u"?document:null,qd=wl&&wl.userAgent||"",UA=/Edge\/(\d+)/.exec(qd),Bte=/MSIE \d/.exec(qd),BA=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(qd),Do=!!(Bte||BA||UA),wd=Bte?document.documentMode:BA?+BA[1]:UA?+UA[1]:0,Ds=!Do&&/gecko\/(\d+)/i.test(qd);Ds&&+(/Firefox\/(\d+)/.exec(qd)||[0,0])[1];const jA=!Do&&/Chrome\/(\d+)/.exec(qd),Li=!!jA,jte=jA?+jA[1]:0,co=!Do&&!!wl&&/Apple Computer/.test(wl.vendor),k0=co&&(/Mobile\/\w+/.test(qd)||!!wl&&wl.maxTouchPoints>2),ja=k0||(wl?/Mac/.test(wl.platform):!1),O2e=wl?/Win/.test(wl.platform):!1,Sc=/Android \d/.test(qd),iv=!!_B&&"webkitFontSmoothing"in _B.documentElement.style,P2e=iv?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function I2e(r){let e=r.defaultView&&r.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.documentElement.clientWidth,top:0,bottom:r.documentElement.clientHeight}}function rc(r,e){return typeof r=="number"?r:r[e]}function $2e(r){let e=r.getBoundingClientRect(),n=e.width/r.offsetWidth||1,i=e.height/r.offsetHeight||1;return{left:e.left,right:e.left+r.clientWidth*n,top:e.top,bottom:e.top+r.clientHeight*i}}function AB(r,e,n){let i=r.someProp("scrollThreshold")||0,o=r.someProp("scrollMargin")||5,a=r.dom.ownerDocument;for(let s=n||r.dom;s;s=eb(s)){if(s.nodeType!=1)continue;let l=s,c=l==a.body,u=c?I2e(a):$2e(l),d=0,h=0;if(e.top<u.top+rc(i,"top")?h=-(u.top-e.top+rc(o,"top")):e.bottom>u.bottom-rc(i,"bottom")&&(h=e.bottom-e.top>u.bottom-u.top?e.top+rc(o,"top")-u.top:e.bottom-u.bottom+rc(o,"bottom")),e.left<u.left+rc(i,"left")?d=-(u.left-e.left+rc(o,"left")):e.right>u.right-rc(i,"right")&&(d=e.right-u.right+rc(o,"right")),d||h)if(c)a.defaultView.scrollBy(d,h);else{let f=l.scrollLeft,m=l.scrollTop;h&&(l.scrollTop+=h),d&&(l.scrollLeft+=d);let b=l.scrollLeft-f,g=l.scrollTop-m;e={left:e.left-b,top:e.top-g,right:e.right-b,bottom:e.bottom-g}}if(c||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function z2e(r){let e=r.dom.getBoundingClientRect(),n=Math.max(0,e.top),i,o;for(let a=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let l=r.root.elementFromPoint(a,s);if(!l||l==r.dom||!r.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=n-20){i=l,o=c.top;break}}return{refDOM:i,refTop:o,stack:Fte(r.dom)}}function Fte(r){let e=[],n=r.ownerDocument;for(let i=r;i&&(e.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),r!=n);i=eb(i));return e}function L2e({refDOM:r,refTop:e,stack:n}){let i=r?r.getBoundingClientRect().top:0;Hte(n,i==0?0:i-e)}function Hte(r,e){for(let n=0;n<r.length;n++){let{dom:i,top:o,left:a}=r[n];i.scrollTop!=o+e&&(i.scrollTop=o+e),i.scrollLeft!=a&&(i.scrollLeft=a)}}let cm=null;function U2e(r){if(r.setActive)return r.setActive();if(cm)return r.focus(cm);let e=Fte(r);r.focus(cm==null?{get preventScroll(){return cm={preventScroll:!0},!0}}:void 0),cm||(cm=!1,Hte(e,0))}function Wte(r,e){let n,i=2e8,o,a=0,s=e.top,l=e.top,c,u;for(let d=r.firstChild,h=0;d;d=d.nextSibling,h++){let f;if(d.nodeType==1)f=d.getClientRects();else if(d.nodeType==3)f=yc(d).getClientRects();else continue;for(let m=0;m<f.length;m++){let b=f[m];if(b.top<=s&&b.bottom>=l){s=Math.max(b.bottom,s),l=Math.min(b.top,l);let g=b.left>e.left?b.left-e.left:b.right<e.left?e.left-b.right:0;if(g<i){n=d,i=g,o=g&&n.nodeType==3?{left:b.right<e.left?b.right:b.left,top:e.top}:e,d.nodeType==1&&g&&(a=h+(e.left>=(b.left+b.right)/2?1:0));continue}}else b.top>e.top&&!c&&b.left<=e.left&&b.right>=e.left&&(c=d,u={left:Math.max(b.left,Math.min(b.right,e.left)),top:b.top});!n&&(e.left>=b.right&&e.top>=b.top||e.left>=b.left&&e.top>=b.bottom)&&(a=h+1)}}return!n&&c&&(n=c,o=u,i=0),n&&n.nodeType==3?B2e(n,o):!n||i&&n.nodeType==1?{node:r,offset:a}:Wte(n,o)}function B2e(r,e){let n=r.nodeValue.length,i=document.createRange();for(let o=0;o<n;o++){i.setEnd(r,o+1),i.setStart(r,o);let a=Gu(i,1);if(a.top!=a.bottom&&RR(e,a))return{node:r,offset:o+(e.left>=(a.left+a.right)/2?1:0)}}return{node:r,offset:0}}function RR(r,e){return r.left>=e.left-1&&r.left<=e.right+1&&r.top>=e.top-1&&r.top<=e.bottom+1}function j2e(r,e){let n=r.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<r.getBoundingClientRect().left?n:r}function F2e(r,e,n){let{node:i,offset:o}=Wte(e,n),a=-1;if(i.nodeType==1&&!i.firstChild){let s=i.getBoundingClientRect();a=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return r.docView.posFromDOM(i,o,a)}function H2e(r,e,n,i){let o=-1;for(let a=e,s=!1;a!=r.dom;){let l=r.docView.nearestDesc(a,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&(!s&&c.left>i.left||c.top>i.top?o=l.posBefore:(!s&&c.right<i.left||c.bottom<i.top)&&(o=l.posAfter),s=!0),!l.contentDOM&&o<0&&!l.node.isText))return(l.node.isBlock?i.top<(c.top+c.bottom)/2:i.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;a=l.dom.parentNode}return o>-1?o:r.docView.posFromDOM(e,n,-1)}function Vte(r,e,n){let i=r.childNodes.length;if(i&&n.top<n.bottom)for(let o=Math.max(0,Math.min(i-1,Math.floor(i*(e.top-n.top)/(n.bottom-n.top))-2)),a=o;;){let s=r.childNodes[a];if(s.nodeType==1){let l=s.getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(RR(e,u))return Vte(s,e,u)}}if((a=(a+1)%i)==o)break}return r}function W2e(r,e){let n=r.dom.ownerDocument,i,o=0,a=N2e(n,e.left,e.top);a&&({node:i,offset:o}=a);let s=(r.root.elementFromPoint?r.root:n).elementFromPoint(e.left,e.top),l;if(!s||!r.dom.contains(s.nodeType!=1?s.parentNode:s)){let u=r.dom.getBoundingClientRect();if(!RR(e,u)||(s=Vte(r.dom,e,u),!s))return null}if(co)for(let u=s;i&&u;u=eb(u))u.draggable&&(i=void 0);if(s=j2e(s,e),i){if(Ds&&i.nodeType==1&&(o=Math.min(o,i.childNodes.length),o<i.childNodes.length)){let d=i.childNodes[o],h;d.nodeName=="IMG"&&(h=d.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&o++}let u;iv&&o&&i.nodeType==1&&(u=i.childNodes[o-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&o--,i==r.dom&&o==i.childNodes.length-1&&i.lastChild.nodeType==1&&e.top>i.lastChild.getBoundingClientRect().bottom?l=r.state.doc.content.size:(o==0||i.nodeType!=1||i.childNodes[o-1].nodeName!="BR")&&(l=H2e(r,i,o,e))}l==null&&(l=F2e(r,s,e));let c=r.docView.nearestDesc(s,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function DB(r){return r.top<r.bottom||r.left<r.right}function Gu(r,e){let n=r.getClientRects();if(n.length){let i=n[e<0?0:n.length-1];if(DB(i))return i}return Array.prototype.find.call(n,DB)||r.getBoundingClientRect()}const V2e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function qte(r,e,n){let{node:i,offset:o,atom:a}=r.docView.domFromPos(e,n<0?-1:1),s=iv||Ds;if(i.nodeType==3)if(s&&(V2e.test(i.nodeValue)||(n<0?!o:o==i.nodeValue.length))){let l=Gu(yc(i,o,o),n);if(Ds&&o&&/\s/.test(i.nodeValue[o-1])&&o<i.nodeValue.length){let c=Gu(yc(i,o-1,o-1),-1);if(c.top==l.top){let u=Gu(yc(i,o,o+1),-1);if(u.top!=l.top)return w1(u,u.left<c.left)}}return l}else{let l=o,c=o,u=n<0?1:-1;return n<0&&!o?(c++,u=-1):n>=0&&o==i.nodeValue.length?(l--,u=1):n<0?l--:c++,w1(Gu(yc(i,l,c),u),u<0)}if(!r.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&o&&(n<0||o==Ha(i))){let l=i.childNodes[o-1];if(l.nodeType==1)return E8(l.getBoundingClientRect(),!1)}if(a==null&&o<Ha(i)){let l=i.childNodes[o];if(l.nodeType==1)return E8(l.getBoundingClientRect(),!0)}return E8(i.getBoundingClientRect(),n>=0)}if(a==null&&o&&(n<0||o==Ha(i))){let l=i.childNodes[o-1],c=l.nodeType==3?yc(l,Ha(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return w1(Gu(c,1),!1)}if(a==null&&o<Ha(i)){let l=i.childNodes[o];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?yc(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return w1(Gu(c,-1),!0)}return w1(Gu(i.nodeType==3?yc(i):i,-n),n>=0)}function w1(r,e){if(r.width==0)return r;let n=e?r.left:r.right;return{top:r.top,bottom:r.bottom,left:n,right:n}}function E8(r,e){if(r.height==0)return r;let n=e?r.top:r.bottom;return{top:n,bottom:n,left:r.left,right:r.right}}function Gte(r,e,n){let i=r.state,o=r.root.activeElement;i!=e&&r.updateState(e),o!=r.dom&&r.focus();try{return n()}finally{i!=e&&r.updateState(i),o!=r.dom&&o&&o.focus()}}function q2e(r,e,n){let i=e.selection,o=n=="up"?i.$from:i.$to;return Gte(r,e,()=>{let{node:a}=r.docView.domFromPos(o.pos,n=="up"?-1:1);for(;;){let l=r.docView.nearestDesc(a,!0);if(!l)break;if(l.node.isBlock){a=l.contentDOM||l.dom;break}a=l.dom.parentNode}let s=qte(r,o.pos,1);for(let l=a.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=yc(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<c.length;u++){let d=c[u];if(d.bottom>d.top+1&&(n=="up"?s.top-d.top>(d.bottom-s.top)*2:d.bottom-s.bottom>(s.bottom-d.top)*2))return!1}}return!0})}const G2e=/[\u0590-\u08ac]/;function K2e(r,e,n){let{$head:i}=e.selection;if(!i.parent.isTextblock)return!1;let o=i.parentOffset,a=!o,s=o==i.parent.content.size,l=r.domSelection();return l?!G2e.test(i.parent.textContent)||!l.modify?n=="left"||n=="backward"?a:s:Gte(r,e,()=>{let{focusNode:c,focusOffset:u,anchorNode:d,anchorOffset:h}=r.domSelectionRange(),f=l.caretBidiLevel;l.modify("move",n,"character");let m=i.depth?r.docView.domAfterPos(i.before()):r.dom,{focusNode:b,focusOffset:g}=r.domSelectionRange(),v=b&&!m.contains(b.nodeType==1?b:b.parentNode)||c==b&&u==g;try{l.collapse(d,h),c&&(c!=d||u!=h)&&l.extend&&l.extend(c,u)}catch{}return f!=null&&(l.caretBidiLevel=f),v}):i.pos==i.start()||i.pos==i.end()}let MB=null,RB=null,NB=!1;function X2e(r,e,n){return MB==e&&RB==n?NB:(MB=e,RB=n,NB=n=="up"||n=="down"?q2e(r,e,n):K2e(r,e,n))}const Ga=0,OB=1,nf=2,Sl=3;let ov=class{constructor(e,n,i,o){this.parent=e,this.children=n,this.dom=i,this.contentDOM=o,this.dirty=Ga,i.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,i){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,i=this.posAtStart;;n++){let o=this.children[n];if(o==e)return i;i+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,i){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(i<0){let a,s;if(e==this.contentDOM)a=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((s=a.pmViewDesc)&&s.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(s)+s.size:this.posAtStart}else{let a,s;if(e==this.contentDOM)a=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((s=a.pmViewDesc)&&s.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(s):this.posAtEnd}let o;if(e==this.dom&&this.contentDOM)o=n>Si(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let a=e;;a=a.parentNode){if(a==this.dom){o=!1;break}if(a.previousSibling)break}if(o==null&&n==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){o=!0;break}if(a.nextSibling)break}}return o??i>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let i=!0,o=e;o;o=o.parentNode){let a=this.getDesc(o),s;if(a&&(!n||a.node))if(i&&(s=a.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))i=!1;else return a}}getDesc(e){let n=e.pmViewDesc;for(let i=n;i;i=i.parent)if(i==this)return n}posFromDOM(e,n,i){for(let o=e;o;o=o.parentNode){let a=this.getDesc(o);if(a)return a.localPosFromDOM(e,n,i)}return-1}descAt(e){for(let n=0,i=0;n<this.children.length;n++){let o=this.children[n],a=i+o.size;if(i==e&&a!=i){for(;!o.border&&o.children.length;)for(let s=0;s<o.children.length;s++){let l=o.children[s];if(l.size){o=l;break}}return o}if(e<a)return o.descAt(e-i-o.border);i=a}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let i=0,o=0;for(let a=0;i<this.children.length;i++){let s=this.children[i],l=a+s.size;if(l>e||s instanceof Jte){o=e-a;break}a=l}if(o)return this.children[i].domFromPos(o-this.children[i].border,n);for(let a;i&&!(a=this.children[i-1]).size&&a instanceof Kte&&a.side>=0;i--);if(n<=0){let a,s=!0;for(;a=i?this.children[i-1]:null,!(!a||a.dom.parentNode==this.contentDOM);i--,s=!1);return a&&n&&s&&!a.border&&!a.domAtom?a.domFromPos(a.size,n):{node:this.contentDOM,offset:a?Si(a.dom)+1:0}}else{let a,s=!0;for(;a=i<this.children.length?this.children[i]:null,!(!a||a.dom.parentNode==this.contentDOM);i++,s=!1);return a&&s&&!a.border&&!a.domAtom?a.domFromPos(0,n):{node:this.contentDOM,offset:a?Si(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,i=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,a=-1;for(let s=i,l=0;;l++){let c=this.children[l],u=s+c.size;if(o==-1&&e<=u){let d=s+c.border;if(e>=d&&n<=u-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,n,d);e=s;for(let h=l;h>0;h--){let f=this.children[h-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){o=Si(f.dom)+1;break}e-=f.size}o==-1&&(o=0)}if(o>-1&&(u>n||l==this.children.length-1)){n=u;for(let d=l+1;d<this.children.length;d++){let h=this.children[d];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){a=Si(h.dom);break}n+=h.size}a==-1&&(a=this.contentDOM.childNodes.length);break}s=u}return{node:this.contentDOM,from:e,to:n,fromOffset:o,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:i}=this.domFromPos(e,0);if(n.nodeType!=1||i==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[i]}setSelection(e,n,i,o=!1){let a=Math.min(e,n),s=Math.max(e,n);for(let m=0,b=0;m<this.children.length;m++){let g=this.children[m],v=b+g.size;if(a>b&&s<v)return g.setSelection(e-b-g.border,n-b-g.border,i,o);b=v}let l=this.domFromPos(e,e?-1:1),c=n==e?l:this.domFromPos(n,n?-1:1),u=i.root.getSelection(),d=i.domSelectionRange(),h=!1;if((Ds||co)&&e==n){let{node:m,offset:b}=l;if(m.nodeType==3){if(h=!!(b&&m.nodeValue[b-1]==`
`),h&&b==m.nodeValue.length)for(let g=m,v;g;g=g.parentNode){if(v=g.nextSibling){v.nodeName=="BR"&&(l=c={node:v.parentNode,offset:Si(v)+1});break}let x=g.pmViewDesc;if(x&&x.node&&x.node.isBlock)break}}else{let g=m.childNodes[b-1];h=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(Ds&&d.focusNode&&d.focusNode!=c.node&&d.focusNode.nodeType==1){let m=d.focusNode.childNodes[d.focusOffset];m&&m.contentEditable=="false"&&(o=!0)}if(!(o||h&&co)&&Lf(l.node,l.offset,d.anchorNode,d.anchorOffset)&&Lf(c.node,c.offset,d.focusNode,d.focusOffset))return;let f=!1;if((u.extend||e==n)&&!h){u.collapse(l.node,l.offset);try{e!=n&&u.extend(c.node,c.offset),f=!0}catch{}}if(!f){if(e>n){let b=l;l=c,c=b}let m=document.createRange();m.setEnd(c.node,c.offset),m.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(m)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let i=0,o=0;o<this.children.length;o++){let a=this.children[o],s=i+a.size;if(i==s?e<=s&&n>=i:e<s&&n>i){let l=i+a.border,c=s-a.border;if(e>=l&&n<=c){this.dirty=e==i||n==s?nf:OB,e==l&&n==c&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=Sl:a.markDirty(e-l,n-l);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?nf:Sl}i=s}this.dirty=nf}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let i=e==1?nf:OB;n.dirty<i&&(n.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}},Kte=class extends ov{constructor(e,n,i,o){let a,s=n.type.toDOM;if(typeof s=="function"&&(s=s(i,()=>{if(!a)return o;if(a.parent)return a.parent.posBeforeChild(a)})),!n.type.spec.raw){if(s.nodeType!=1){let l=document.createElement("span");l.appendChild(s),s=l}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,a=this}matchesWidget(e){return this.dirty==Ga&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}},Y2e=class extends ov{constructor(e,n,i,o){super(e,[],n,null),this.textDOM=i,this.text=o}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}},U4=class FA extends ov{constructor(e,n,i,o,a){super(e,[],i,o),this.mark=n,this.spec=a}static create(e,n,i,o){let a=o.nodeViews[n.type.name],s=a&&a(n,o,i);return(!s||!s.dom)&&(s=tv.renderSpec(document,n.type.spec.toDOM(n,i),null,n.attrs)),new FA(e,n,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&Sl||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Sl&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Ga){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=Ga}}slice(e,n,i){let o=FA.create(this.parent,this.mark,!0,i),a=this.children,s=this.size;n<s&&(a=WA(a,n,s,i)),e>0&&(a=WA(a,0,e,i));for(let l=0;l<a.length;l++)a[l].parent=o;return o.children=a,o}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}},Ym=class Xte extends ov{constructor(e,n,i,o,a,s,l,c,u){super(e,[],a,s),this.node=n,this.outerDeco=i,this.innerDeco=o,this.nodeDOM=l}static create(e,n,i,o,a,s){let l=a.nodeViews[n.type.name],c,u=l&&l(n,a,()=>{if(!c)return s;if(c.parent)return c.parent.posBeforeChild(c)},i,o),d=u&&u.dom,h=u&&u.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:h}=tv.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!h&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let f=d;return d=tne(d,i,n),u?c=new Z2e(e,n,i,o,d,h||null,f,u,a,s+1):n.isText?new Yte(e,n,i,o,d,f,a):new Xte(e,n,i,o,d,h||null,f,a,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let i=this.children[n];if(this.dom.contains(i.dom.parentNode)){e.contentElement=i.dom.parentNode;break}}e.contentElement||(e.getContent=()=>st.empty)}return e}matchesNode(e,n,i){return this.dirty==Ga&&e.eq(this.node)&&B4(n,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let i=this.node.inlineContent,o=n,a=e.composing?this.localCompositionInfo(e,n):null,s=a&&a.pos>-1?a:null,l=a&&a.pos<0,c=new Q2e(this,s&&s.node,e);n4e(this.node,this.innerDeco,(u,d,h)=>{u.spec.marks?c.syncToMarks(u.spec.marks,i,e):u.type.side>=0&&!h&&c.syncToMarks(d==this.node.childCount?Jn.none:this.node.child(d).marks,i,e),c.placeWidget(u,e,o)},(u,d,h,f)=>{c.syncToMarks(u.marks,i,e);let m;c.findNodeMatch(u,d,h,f)||l&&e.state.selection.from>o&&e.state.selection.to<o+u.nodeSize&&(m=c.findIndexWithChild(a.node))>-1&&c.updateNodeAt(u,d,h,m,e)||c.updateNextNode(u,d,h,e,f,o)||c.addNode(u,d,h,e,o),o+=u.nodeSize}),c.syncToMarks([],i,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==nf)&&(s&&this.protectLocalComposition(e,s),Qte(this.contentDOM,this.children,e),k0&&r4e(this.dom))}localCompositionInfo(e,n){let{from:i,to:o}=e.state.selection;if(!(e.state.selection instanceof Ht)||i<n||o>n+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let s=a.nodeValue,l=i4e(this.node.content,s,i-n,o-n);return l<0?null:{node:a,pos:l,text:s}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:i,text:o}){if(this.getDesc(n))return;let a=n;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let s=new Y2e(this,a,n,o);e.input.compositionNodes.push(s),this.children=WA(this.children,i,i+o.length,e,s)}update(e,n,i,o){return this.dirty==Sl||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,i,o),!0)}updateInner(e,n,i,o){this.updateOuterDeco(n),this.node=e,this.innerDeco=i,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=Ga}updateOuterDeco(e){if(B4(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=ene(this.dom,this.nodeDOM,HA(this.outerDeco,this.node,n),HA(e,this.node,n)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}};function PB(r,e,n,i,o){tne(i,e,r);let a=new Ym(void 0,r,e,n,i,i,i,o,0);return a.contentDOM&&a.updateChildren(o,0),a}let Yte=class Zte extends Ym{constructor(e,n,i,o,a,s,l){super(e,n,i,o,a,null,s,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,i,o){return this.dirty==Sl||this.dirty!=Ga&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Ga||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=Ga,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,i){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,i)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,i){let o=this.node.cut(e,n),a=document.createTextNode(o.text);return new Zte(this.parent,o,this.outerDeco,this.innerDeco,a,a,i)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Sl)}get domAtom(){return!1}isText(e){return this.node.text==e}},Jte=class extends ov{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ga&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}},Z2e=class extends Ym{constructor(e,n,i,o,a,s,l,c,u,d){super(e,n,i,o,a,s,l,u,d),this.spec=c}update(e,n,i,o){if(this.dirty==Sl)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,n,i);return a&&this.updateInner(e,n,i,o),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,i,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,i,o){this.spec.setSelection?this.spec.setSelection(e,n,i.root):super.setSelection(e,n,i,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}};function Qte(r,e,n){let i=r.firstChild,o=!1;for(let a=0;a<e.length;a++){let s=e[a],l=s.dom;if(l.parentNode==r){for(;l!=i;)i=IB(i),o=!0;i=i.nextSibling}else o=!0,r.insertBefore(l,i);if(s instanceof U4){let c=i?i.previousSibling:r.lastChild;Qte(s.contentDOM,s.children,n),i=c?c.nextSibling:r.firstChild}}for(;i;)i=IB(i),o=!0;o&&n.trackWrites==r&&(n.trackWrites=null)}const Dy=function(r){r&&(this.nodeName=r)};Dy.prototype=Object.create(null);const rf=[new Dy];function HA(r,e,n){if(r.length==0)return rf;let i=n?rf[0]:new Dy,o=[i];for(let a=0;a<r.length;a++){let s=r[a].type.attrs;if(s){s.nodeName&&o.push(i=new Dy(s.nodeName));for(let l in s){let c=s[l];c!=null&&(n&&o.length==1&&o.push(i=new Dy(e.isInline?"span":"div")),l=="class"?i.class=(i.class?i.class+" ":"")+c:l=="style"?i.style=(i.style?i.style+";":"")+c:l!="nodeName"&&(i[l]=c))}}}return o}function ene(r,e,n,i){if(n==rf&&i==rf)return e;let o=e;for(let a=0;a<i.length;a++){let s=i[a],l=n[a];if(a){let c;l&&l.nodeName==s.nodeName&&o!=r&&(c=o.parentNode)&&c.nodeName.toLowerCase()==s.nodeName||(c=document.createElement(s.nodeName),c.pmIsDeco=!0,c.appendChild(o),l=rf[0]),o=c}J2e(o,l||rf[0],s)}return o}function J2e(r,e,n){for(let i in e)i!="class"&&i!="style"&&i!="nodeName"&&!(i in n)&&r.removeAttribute(i);for(let i in n)i!="class"&&i!="style"&&i!="nodeName"&&n[i]!=e[i]&&r.setAttribute(i,n[i]);if(e.class!=n.class){let i=e.class?e.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let a=0;a<i.length;a++)o.indexOf(i[a])==-1&&r.classList.remove(i[a]);for(let a=0;a<o.length;a++)i.indexOf(o[a])==-1&&r.classList.add(o[a]);r.classList.length==0&&r.removeAttribute("class")}if(e.style!=n.style){if(e.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=i.exec(e.style);)r.style.removeProperty(o[1])}n.style&&(r.style.cssText+=n.style)}}function tne(r,e,n){return ene(r,r,rf,HA(e,n,r.nodeType!=1))}function B4(r,e){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(!r[n].type.eq(e[n].type))return!1;return!0}function IB(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}let Q2e=class{constructor(e,n,i){this.lock=n,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=e4e(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let i=e;i<n;i++)this.top.children[i].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,i){let o=0,a=this.stack.length>>1,s=Math.min(a,e.length);for(;o<s&&(o==a-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<a;)this.destroyRest(),this.top.dirty=Ga,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let u=this.top.children[c];if(u.matchesMark(e[a])&&!this.isLocked(u.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=U4.create(this.top,e[a],n,i);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,a++}}findNodeMatch(e,n,i,o){let a=-1,s;if(o>=this.preMatch.index&&(s=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,i))a=this.top.children.indexOf(s,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let u=this.top.children[l];if(u.matchesNode(e,n,i)&&!this.preMatch.matched.has(u)){a=l;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,n,i,o,a){let s=this.top.children[o];return s.dirty==Sl&&s.dom==s.contentDOM&&(s.dirty=nf),s.update(e,n,i,a)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let i=e.pmViewDesc;if(i){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==i)return o}return-1}e=n}}updateNextNode(e,n,i,o,a,s){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof Ym){let u=this.preMatch.matched.get(c);if(u!=null&&u!=a)return!1;let d=c.dom,h,f=this.isLocked(d)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=Sl&&B4(n,c.outerDeco));if(!f&&c.update(e,n,i,o))return this.destroyBetween(this.index,l),c.dom!=d&&(this.changed=!0),this.index++,!0;if(!f&&(h=this.recreateWrapper(c,e,n,i,o,s)))return this.destroyBetween(this.index,l),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=nf,h.updateChildren(o,s+1),h.dirty=Ga),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,i,o,a,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!B4(i,e.outerDeco)||!o.eq(e.innerDeco))return null;let l=Ym.create(this.top,n,i,o,a,s);if(l.contentDOM){l.children=e.children,e.children=[];for(let c of l.children)c.parent=l}return e.destroy(),l}addNode(e,n,i,o,a){let s=Ym.create(this.top,e,n,i,o,a);s.contentDOM&&s.updateChildren(o,a+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,i){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let a=new Kte(this.top,e,n,i);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof U4;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Yte)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((co||Li)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let i=document.createElement(e);e=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),e=="BR"&&(i.className="ProseMirror-trailingBreak");let o=new Jte(this.top,[],i,null);n!=this.top?n.children.push(o):n.children.splice(this.index++,0,o),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}};function e4e(r,e){let n=e,i=n.children.length,o=r.childCount,a=new Map,s=[];e:for(;o>0;){let l;for(;;)if(i){let u=n.children[i-1];if(u instanceof U4)n=u,i=u.children.length;else{l=u,i--;break}}else{if(n==e)break e;i=n.parent.children.indexOf(n),n=n.parent}let c=l.node;if(c){if(c!=r.child(o-1))break;--o,a.set(l,o),s.push(l)}}return{index:o,matched:a,matches:s.reverse()}}function t4e(r,e){return r.type.side-e.type.side}function n4e(r,e,n,i){let o=e.locals(r),a=0;if(o.length==0){for(let u=0;u<r.childCount;u++){let d=r.child(u);i(d,o,e.forChild(a,d),u),a+=d.nodeSize}return}let s=0,l=[],c=null;for(let u=0;;){let d,h;for(;s<o.length&&o[s].to==a;){let v=o[s++];v.widget&&(d?(h||(h=[d])).push(v):d=v)}if(d)if(h){h.sort(t4e);for(let v=0;v<h.length;v++)n(h[v],u,!!c)}else n(d,u,!!c);let f,m;if(c)m=-1,f=c,c=null;else if(u<r.childCount)m=u,f=r.child(u++);else break;for(let v=0;v<l.length;v++)l[v].to<=a&&l.splice(v--,1);for(;s<o.length&&o[s].from<=a&&o[s].to>a;)l.push(o[s++]);let b=a+f.nodeSize;if(f.isText){let v=b;s<o.length&&o[s].from<v&&(v=o[s].from);for(let x=0;x<l.length;x++)l[x].to<v&&(v=l[x].to);v<b&&(c=f.cut(v-a),f=f.cut(0,v-a),b=v,m=-1)}else for(;s<o.length&&o[s].to<b;)s++;let g=f.isInline&&!f.isLeaf?l.filter(v=>!v.inline):l.slice();i(f,g,e.forChild(a,f),m),a=b}}function r4e(r){if(r.nodeName=="UL"||r.nodeName=="OL"){let e=r.style.cssText;r.style.cssText=e+"; list-style: square !important",window.getComputedStyle(r).listStyle,r.style.cssText=e}}function i4e(r,e,n,i){for(let o=0,a=0;o<r.childCount&&a<=i;){let s=r.child(o++),l=a;if(a+=s.nodeSize,!s.isText)continue;let c=s.text;for(;o<r.childCount;){let u=r.child(o++);if(a+=u.nodeSize,!u.isText)break;c+=u.text}if(a>=n){if(a>=i&&c.slice(i-e.length-l,i-l)==e)return i-e.length;let u=l<i?c.lastIndexOf(e,i-l-1):-1;if(u>=0&&u+e.length+l>=n)return l+u;if(n==i&&c.length>=i+e.length-l&&c.slice(i-l,i-l+e.length)==e)return i}}return-1}function WA(r,e,n,i,o){let a=[];for(let s=0,l=0;s<r.length;s++){let c=r[s],u=l,d=l+=c.size;u>=n||d<=e?a.push(c):(u<e&&a.push(c.slice(0,e-u,i)),o&&(a.push(o),o=void 0),d>n&&a.push(c.slice(n-u,c.size,i)))}return a}function NR(r,e=null){let n=r.domSelectionRange(),i=r.state.doc;if(!n.focusNode)return null;let o=r.docView.nearestDesc(n.focusNode),a=o&&o.size==0,s=r.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=i.resolve(s),c,u;if(R5(n)){for(c=s;o&&!o.node;)o=o.parent;let h=o.node;if(o&&h.isAtom&&Gt.isSelectable(h)&&o.parent&&!(h.isInline&&M2e(n.focusNode,n.focusOffset,o.dom))){let f=o.posBefore;u=new Gt(s==f?l:i.resolve(f))}}else{if(n instanceof r.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let h=s,f=s;for(let m=0;m<n.rangeCount;m++){let b=n.getRangeAt(m);h=Math.min(h,r.docView.posFromDOM(b.startContainer,b.startOffset,1)),f=Math.max(f,r.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(h<0)return null;[c,s]=f==r.state.selection.anchor?[f,h]:[h,f],l=i.resolve(s)}else c=r.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null}let d=i.resolve(c);if(!u){let h=e=="pointer"||r.state.selection.head<l.pos&&!a?1:-1;u=OR(r,d,l,h)}return u}function nne(r){return r.editable?r.hasFocus():ine(r)&&document.activeElement&&document.activeElement.contains(r.dom)}function Pc(r,e=!1){let n=r.state.selection;if(rne(r,n),!!nne(r)){if(!e&&r.input.mouseDown&&r.input.mouseDown.allowDefault&&Li){let i=r.domSelectionRange(),o=r.domObserver.currentSelection;if(i.anchorNode&&o.anchorNode&&Lf(i.anchorNode,i.anchorOffset,o.anchorNode,o.anchorOffset)){r.input.mouseDown.delayedSelectionSync=!0,r.domObserver.setCurSelection();return}}if(r.domObserver.disconnectSelection(),r.cursorWrapper)a4e(r);else{let{anchor:i,head:o}=n,a,s;$B&&!(n instanceof Ht)&&(n.$from.parent.inlineContent||(a=zB(r,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=zB(r,n.to))),r.docView.setSelection(i,o,r,e),$B&&(a&&LB(a),s&&LB(s)),n.visible?r.dom.classList.remove("ProseMirror-hideselection"):(r.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&o4e(r))}r.domObserver.setCurSelection(),r.domObserver.connectSelection()}}const $B=co||Li&&jte<63;function zB(r,e){let{node:n,offset:i}=r.docView.domFromPos(e,0),o=i<n.childNodes.length?n.childNodes[i]:null,a=i?n.childNodes[i-1]:null;if(co&&o&&o.contentEditable=="false")return C8(o);if((!o||o.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(o)return C8(o);if(a)return C8(a)}}function C8(r){return r.contentEditable="true",co&&r.draggable&&(r.draggable=!1,r.wasDraggable=!0),r}function LB(r){r.contentEditable="false",r.wasDraggable&&(r.draggable=!0,r.wasDraggable=null)}function o4e(r){let e=r.dom.ownerDocument;e.removeEventListener("selectionchange",r.input.hideSelectionGuard);let n=r.domSelectionRange(),i=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",r.input.hideSelectionGuard=()=>{(n.anchorNode!=i||n.anchorOffset!=o)&&(e.removeEventListener("selectionchange",r.input.hideSelectionGuard),setTimeout(()=>{(!nne(r)||r.state.selection.visible)&&r.dom.classList.remove("ProseMirror-hideselection")},20))})}function a4e(r){let e=r.domSelection(),n=document.createRange();if(!e)return;let i=r.cursorWrapper.dom,o=i.nodeName=="IMG";o?n.setStart(i.parentNode,Si(i)+1):n.setStart(i,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!o&&!r.state.selection.visible&&Do&&wd<=11&&(i.disabled=!0,i.disabled=!1)}function rne(r,e){if(e instanceof Gt){let n=r.docView.descAt(e.from);n!=r.lastSelectedViewDesc&&(UB(r),n&&n.selectNode(),r.lastSelectedViewDesc=n)}else UB(r)}function UB(r){r.lastSelectedViewDesc&&(r.lastSelectedViewDesc.parent&&r.lastSelectedViewDesc.deselectNode(),r.lastSelectedViewDesc=void 0)}function OR(r,e,n,i){return r.someProp("createSelectionBetween",o=>o(r,e,n))||Ht.between(e,n,i)}function BB(r){return r.editable&&!r.hasFocus()?!1:ine(r)}function ine(r){let e=r.domSelectionRange();if(!e.anchorNode)return!1;try{return r.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(r.editable||r.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function s4e(r){let e=r.docView.domFromPos(r.state.selection.anchor,0),n=r.domSelectionRange();return Lf(e.node,e.offset,n.anchorNode,n.anchorOffset)}function VA(r,e){let{$anchor:n,$head:i}=r.selection,o=e>0?n.max(i):n.min(i),a=o.parent.inlineContent?o.depth?r.doc.resolve(e>0?o.after():o.before()):null:o;return a&&Xt.findFrom(a,e)}function ed(r,e){return r.dispatch(r.state.tr.setSelection(e).scrollIntoView()),!0}function jB(r,e,n){let i=r.state.selection;if(i instanceof Ht)if(n.indexOf("s")>-1){let{$head:o}=i,a=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let s=r.state.doc.resolve(o.pos+a.nodeSize*(e<0?-1:1));return ed(r,new Ht(i.$anchor,s))}else if(i.empty){if(r.endOfTextblock(e>0?"forward":"backward")){let o=VA(r.state,e);return o&&o instanceof Gt?ed(r,o):!1}else if(!(ja&&n.indexOf("m")>-1)){let o=i.$head,a=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,s;if(!a||a.isText)return!1;let l=e<0?o.pos-a.nodeSize:o.pos;return a.isAtom||(s=r.docView.descAt(l))&&!s.contentDOM?Gt.isSelectable(a)?ed(r,new Gt(e<0?r.state.doc.resolve(o.pos-a.nodeSize):o)):iv?ed(r,new Ht(r.state.doc.resolve(e<0?l:l+a.nodeSize))):!1:!1}}else return!1;else{if(i instanceof Gt&&i.node.isInline)return ed(r,new Ht(e>0?i.$to:i.$from));{let o=VA(r.state,e);return o?ed(r,o):!1}}}function j4(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function My(r,e){let n=r.pmViewDesc;return n&&n.size==0&&(e<0||r.nextSibling||r.nodeName!="BR")}function um(r,e){return e<0?l4e(r):c4e(r)}function l4e(r){let e=r.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let o,a,s=!1;for(Ds&&n.nodeType==1&&i<j4(n)&&My(n.childNodes[i],-1)&&(s=!0);;)if(i>0){if(n.nodeType!=1)break;{let l=n.childNodes[i-1];if(My(l,-1))o=n,a=--i;else if(l.nodeType==3)n=l,i=n.nodeValue.length;else break}}else{if(one(n))break;{let l=n.previousSibling;for(;l&&My(l,-1);)o=n.parentNode,a=Si(l),l=l.previousSibling;if(l)n=l,i=j4(n);else{if(n=n.parentNode,n==r.dom)break;i=0}}}s?qA(r,n,i):o&&qA(r,o,a)}function c4e(r){let e=r.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let o=j4(n),a,s;for(;;)if(i<o){if(n.nodeType!=1)break;let l=n.childNodes[i];if(My(l,1))a=n,s=++i;else break}else{if(one(n))break;{let l=n.nextSibling;for(;l&&My(l,1);)a=l.parentNode,s=Si(l)+1,l=l.nextSibling;if(l)n=l,i=0,o=j4(n);else{if(n=n.parentNode,n==r.dom)break;i=o=0}}}a&&qA(r,a,s)}function one(r){let e=r.pmViewDesc;return e&&e.node&&e.node.isBlock}function u4e(r,e){for(;r&&e==r.childNodes.length&&!rv(r);)e=Si(r)+1,r=r.parentNode;for(;r&&e<r.childNodes.length;){let n=r.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;r=n,e=0}}function d4e(r,e){for(;r&&!e&&!rv(r);)e=Si(r),r=r.parentNode;for(;r&&e;){let n=r.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;r=n,e=r.childNodes.length}}function qA(r,e,n){if(e.nodeType!=3){let a,s;(s=u4e(e,n))?(e=s,n=0):(a=d4e(e,n))&&(e=a,n=a.nodeValue.length)}let i=r.domSelection();if(!i)return;if(R5(i)){let a=document.createRange();a.setEnd(e,n),a.setStart(e,n),i.removeAllRanges(),i.addRange(a)}else i.extend&&i.extend(e,n);r.domObserver.setCurSelection();let{state:o}=r;setTimeout(()=>{r.state==o&&Pc(r)},50)}function FB(r,e){let n=r.state.doc.resolve(e);if(!(Li||O2e)&&n.parent.inlineContent){let i=r.coordsAtPos(e);if(e>n.start()){let o=r.coordsAtPos(e-1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=r.coordsAtPos(e+1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(r.dom).direction=="rtl"?"rtl":"ltr"}function HB(r,e,n){let i=r.state.selection;if(i instanceof Ht&&!i.empty||n.indexOf("s")>-1||ja&&n.indexOf("m")>-1)return!1;let{$from:o,$to:a}=i;if(!o.parent.inlineContent||r.endOfTextblock(e<0?"up":"down")){let s=VA(r.state,e);if(s&&s instanceof Gt)return ed(r,s)}if(!o.parent.inlineContent){let s=e<0?o:a,l=i instanceof Cs?Xt.near(s,e):Xt.findFrom(s,e);return l?ed(r,l):!1}return!1}function WB(r,e){if(!(r.state.selection instanceof Ht))return!0;let{$head:n,$anchor:i,empty:o}=r.state.selection;if(!n.sameParent(i))return!0;if(!o)return!1;if(r.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(a&&!a.isText){let s=r.state.tr;return e<0?s.delete(n.pos-a.nodeSize,n.pos):s.delete(n.pos,n.pos+a.nodeSize),r.dispatch(s),!0}return!1}function VB(r,e,n){r.domObserver.stop(),e.contentEditable=n,r.domObserver.start()}function h4e(r){if(!co||r.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=r.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let i=e.firstChild;VB(r,i,"true"),setTimeout(()=>VB(r,i,"false"),20)}return!1}function f4e(r){let e="";return r.ctrlKey&&(e+="c"),r.metaKey&&(e+="m"),r.altKey&&(e+="a"),r.shiftKey&&(e+="s"),e}function p4e(r,e){let n=e.keyCode,i=f4e(e);if(n==8||ja&&n==72&&i=="c")return WB(r,-1)||um(r,-1);if(n==46&&!e.shiftKey||ja&&n==68&&i=="c")return WB(r,1)||um(r,1);if(n==13||n==27)return!0;if(n==37||ja&&n==66&&i=="c"){let o=n==37?FB(r,r.state.selection.from)=="ltr"?-1:1:-1;return jB(r,o,i)||um(r,o)}else if(n==39||ja&&n==70&&i=="c"){let o=n==39?FB(r,r.state.selection.from)=="ltr"?1:-1:1;return jB(r,o,i)||um(r,o)}else{if(n==38||ja&&n==80&&i=="c")return HB(r,-1,i)||um(r,-1);if(n==40||ja&&n==78&&i=="c")return h4e(r)||HB(r,1,i)||um(r,1);if(i==(ja?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function PR(r,e){r.someProp("transformCopied",m=>{e=m(e,r)});let n=[],{content:i,openStart:o,openEnd:a}=e;for(;o>1&&a>1&&i.childCount==1&&i.firstChild.childCount==1;){o--,a--;let m=i.firstChild;n.push(m.type.name,m.attrs!=m.type.defaultAttrs?m.attrs:null),i=m.content}let s=r.someProp("clipboardSerializer")||tv.fromSchema(r.state.schema),l=dne(),c=l.createElement("div");c.appendChild(s.serializeFragment(i,{document:l}));let u=c.firstChild,d,h=0;for(;u&&u.nodeType==1&&(d=une[u.nodeName.toLowerCase()]);){for(let m=d.length-1;m>=0;m--){let b=l.createElement(d[m]);for(;c.firstChild;)b.appendChild(c.firstChild);c.appendChild(b),h++}u=c.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${o} ${a}${h?` -${h}`:""} ${JSON.stringify(n)}`);let f=r.someProp("clipboardTextSerializer",m=>m(e,r))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:f,slice:e}}function ane(r,e,n,i,o){let a=o.parent.type.spec.code,s,l;if(!n&&!e)return null;let c=e&&(i||a||!n);if(c){if(r.someProp("transformPastedText",f=>{e=f(e,a||i,r)}),a)return e?new Et(st.from(r.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Et.empty;let h=r.someProp("clipboardTextParser",f=>f(e,o,i,r));if(h)l=h;else{let f=o.marks(),{schema:m}=r.state,b=tv.fromSchema(m);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let v=s.appendChild(document.createElement("p"));g&&v.appendChild(b.serializeNode(m.text(g,f)))})}}else r.someProp("transformPastedHTML",h=>{n=h(n,r)}),s=b4e(n),iv&&v4e(s);let u=s&&s.querySelector("[data-pm-slice]"),d=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let h=+d[3];h>0;h--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(l||(l=(r.someProp("clipboardParser")||r.someProp("domParser")||Ay.fromSchema(r.state.schema)).parseSlice(s,{preserveWhitespace:!!(c||d),context:o,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!m4e.test(h.parentNode.nodeName)?{ignore:!0}:null}})),d)l=x4e(qB(l,+d[1],+d[2]),d[4]);else if(l=Et.maxOpen(g4e(l.content,o),!0),l.openStart||l.openEnd){let h=0,f=0;for(let m=l.content.firstChild;h<l.openStart&&!m.type.spec.isolating;h++,m=m.firstChild);for(let m=l.content.lastChild;f<l.openEnd&&!m.type.spec.isolating;f++,m=m.lastChild);l=qB(l,h,f)}return r.someProp("transformPasted",h=>{l=h(l,r)}),l}const m4e=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function g4e(r,e){if(r.childCount<2)return r;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,a=[];if(r.forEach(s=>{if(!a)return;let l=i.findWrapping(s.type),c;if(!l)return a=null;if(c=a.length&&o.length&&lne(l,o,s,a[a.length-1],0))a[a.length-1]=c;else{a.length&&(a[a.length-1]=cne(a[a.length-1],o.length));let u=sne(s,l);a.push(u),i=i.matchType(u.type),o=l}}),a)return st.from(a)}return r}function sne(r,e,n=0){for(let i=e.length-1;i>=n;i--)r=e[i].create(null,st.from(r));return r}function lne(r,e,n,i,o){if(o<r.length&&o<e.length&&r[o]==e[o]){let a=lne(r,e,n,i.lastChild,o+1);if(a)return i.copy(i.content.replaceChild(i.childCount-1,a));if(i.contentMatchAt(i.childCount).matchType(o==r.length-1?n.type:r[o+1]))return i.copy(i.content.append(st.from(sne(n,r,o+1))))}}function cne(r,e){if(e==0)return r;let n=r.content.replaceChild(r.childCount-1,cne(r.lastChild,e-1)),i=r.contentMatchAt(r.childCount).fillBefore(st.empty,!0);return r.copy(n.append(i))}function GA(r,e,n,i,o,a){let s=e<0?r.firstChild:r.lastChild,l=s.content;return r.childCount>1&&(a=0),o<i-1&&(l=GA(l,e,n,i,o+1,a)),o>=n&&(l=e<0?s.contentMatchAt(0).fillBefore(l,a<=o).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(st.empty,!0))),r.replaceChild(e<0?0:r.childCount-1,s.copy(l))}function qB(r,e,n){return e<r.openStart&&(r=new Et(GA(r.content,-1,e,r.openStart,0,r.openEnd),e,r.openEnd)),n<r.openEnd&&(r=new Et(GA(r.content,1,n,r.openEnd,0,0),r.openStart,n)),r}const une={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let GB=null;function dne(){return GB||(GB=document.implementation.createHTMLDocument("title"))}let _8=null;function y4e(r){let e=window.trustedTypes;return e?(_8||(_8=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),_8.createHTML(r)):r}function b4e(r){let e=/^(\s*<meta [^>]*>)*/.exec(r);e&&(r=r.slice(e[0].length));let n=dne().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(r),o;if((o=i&&une[i[1].toLowerCase()])&&(r=o.map(a=>"<"+a+">").join("")+r+o.map(a=>"</"+a+">").reverse().join("")),n.innerHTML=y4e(r),o)for(let a=0;a<o.length;a++)n=n.querySelector(o[a])||n;return n}function v4e(r){let e=r.querySelectorAll(Li?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let i=e[n];i.childNodes.length==1&&i.textContent==""&&i.parentNode&&i.parentNode.replaceChild(r.ownerDocument.createTextNode(" "),i)}}function x4e(r,e){if(!r.size)return r;let n=r.content.firstChild.type.schema,i;try{i=JSON.parse(e)}catch{return r}let{content:o,openStart:a,openEnd:s}=r;for(let l=i.length-2;l>=0;l-=2){let c=n.nodes[i[l]];if(!c||c.hasRequiredAttrs())break;o=st.from(c.create(i[l+1],o)),a++,s++}return new Et(o,a,s)}const uo={},ho={},w4e={touchstart:!0,touchmove:!0};let S4e=class{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}};function k4e(r){for(let e in uo){let n=uo[e];r.dom.addEventListener(e,r.input.eventHandlers[e]=i=>{E4e(r,i)&&!IR(r,i)&&(r.editable||!(i.type in ho))&&n(r,i)},w4e[e]?{passive:!0}:void 0)}co&&r.dom.addEventListener("input",()=>null),KA(r)}function fd(r,e){r.input.lastSelectionOrigin=e,r.input.lastSelectionTime=Date.now()}function T4e(r){r.domObserver.stop();for(let e in r.input.eventHandlers)r.dom.removeEventListener(e,r.input.eventHandlers[e]);clearTimeout(r.input.composingTimeout),clearTimeout(r.input.lastIOSEnterFallbackTimeout)}function KA(r){r.someProp("handleDOMEvents",e=>{for(let n in e)r.input.eventHandlers[n]||r.dom.addEventListener(n,r.input.eventHandlers[n]=i=>IR(r,i))})}function IR(r,e){return r.someProp("handleDOMEvents",n=>{let i=n[e.type];return i?i(r,e)||e.defaultPrevented:!1})}function E4e(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=r.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function C4e(r,e){!IR(r,e)&&uo[e.type]&&(r.editable||!(e.type in ho))&&uo[e.type](r,e)}ho.keydown=(r,e)=>{let n=e;if(r.input.shiftKey=n.keyCode==16||n.shiftKey,!fne(r,n)&&(r.input.lastKeyCode=n.keyCode,r.input.lastKeyCodeTime=Date.now(),!(Sc&&Li&&n.keyCode==13)))if(n.keyCode!=229&&r.domObserver.forceFlush(),k0&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let i=Date.now();r.input.lastIOSEnter=i,r.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{r.input.lastIOSEnter==i&&(r.someProp("handleKeyDown",o=>o(r,Jh(13,"Enter"))),r.input.lastIOSEnter=0)},200)}else r.someProp("handleKeyDown",i=>i(r,n))||p4e(r,n)?n.preventDefault():fd(r,"key")};ho.keyup=(r,e)=>{e.keyCode==16&&(r.input.shiftKey=!1)};ho.keypress=(r,e)=>{let n=e;if(fne(r,n)||!n.charCode||n.ctrlKey&&!n.altKey||ja&&n.metaKey)return;if(r.someProp("handleKeyPress",o=>o(r,n))){n.preventDefault();return}let i=r.state.selection;if(!(i instanceof Ht)||!i.$from.sameParent(i.$to)){let o=String.fromCharCode(n.charCode);!/[\r\n]/.test(o)&&!r.someProp("handleTextInput",a=>a(r,i.$from.pos,i.$to.pos,o))&&r.dispatch(r.state.tr.insertText(o).scrollIntoView()),n.preventDefault()}};function N5(r){return{left:r.clientX,top:r.clientY}}function _4e(r,e){let n=e.x-r.clientX,i=e.y-r.clientY;return n*n+i*i<100}function $R(r,e,n,i,o){if(i==-1)return!1;let a=r.state.doc.resolve(i);for(let s=a.depth+1;s>0;s--)if(r.someProp(e,l=>s>a.depth?l(r,n,a.nodeAfter,a.before(s),o,!0):l(r,n,a.node(s),a.before(s),o,!1)))return!0;return!1}function Zm(r,e,n){if(r.focused||r.focus(),r.state.selection.eq(e))return;let i=r.state.tr.setSelection(e);i.setMeta("pointer",!0),r.dispatch(i)}function A4e(r,e){if(e==-1)return!1;let n=r.state.doc.resolve(e),i=n.nodeAfter;return i&&i.isAtom&&Gt.isSelectable(i)?(Zm(r,new Gt(n)),!0):!1}function D4e(r,e){if(e==-1)return!1;let n=r.state.selection,i,o;n instanceof Gt&&(i=n.node);let a=r.state.doc.resolve(e);for(let s=a.depth+1;s>0;s--){let l=s>a.depth?a.nodeAfter:a.node(s);if(Gt.isSelectable(l)){i&&n.$from.depth>0&&s>=n.$from.depth&&a.before(n.$from.depth+1)==n.$from.pos?o=a.before(n.$from.depth):o=a.before(s);break}}return o!=null?(Zm(r,Gt.create(r.state.doc,o)),!0):!1}function M4e(r,e,n,i,o){return $R(r,"handleClickOn",e,n,i)||r.someProp("handleClick",a=>a(r,e,i))||(o?D4e(r,n):A4e(r,n))}function R4e(r,e,n,i){return $R(r,"handleDoubleClickOn",e,n,i)||r.someProp("handleDoubleClick",o=>o(r,e,i))}function N4e(r,e,n,i){return $R(r,"handleTripleClickOn",e,n,i)||r.someProp("handleTripleClick",o=>o(r,e,i))||O4e(r,n,i)}function O4e(r,e,n){if(n.button!=0)return!1;let i=r.state.doc;if(e==-1)return i.inlineContent?(Zm(r,Ht.create(i,0,i.content.size)),!0):!1;let o=i.resolve(e);for(let a=o.depth+1;a>0;a--){let s=a>o.depth?o.nodeAfter:o.node(a),l=o.before(a);if(s.inlineContent)Zm(r,Ht.create(i,l+1,l+1+s.content.size));else if(Gt.isSelectable(s))Zm(r,Gt.create(i,l));else continue;return!0}}function zR(r){return F4(r)}const hne=ja?"metaKey":"ctrlKey";uo.mousedown=(r,e)=>{let n=e;r.input.shiftKey=n.shiftKey;let i=zR(r),o=Date.now(),a="singleClick";o-r.input.lastClick.time<500&&_4e(n,r.input.lastClick)&&!n[hne]&&(r.input.lastClick.type=="singleClick"?a="doubleClick":r.input.lastClick.type=="doubleClick"&&(a="tripleClick")),r.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:a};let s=r.posAtCoords(N5(n));s&&(a=="singleClick"?(r.input.mouseDown&&r.input.mouseDown.done(),r.input.mouseDown=new P4e(r,s,n,!!i)):(a=="doubleClick"?R4e:N4e)(r,s.pos,s.inside,n)?n.preventDefault():fd(r,"pointer"))};let P4e=class{constructor(e,n,i,o){this.view=e,this.pos=n,this.event=i,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!i[hne],this.allowDefault=i.shiftKey;let a,s;if(n.inside>-1)a=e.state.doc.nodeAt(n.inside),s=n.inside;else{let d=e.state.doc.resolve(n.pos);a=d.parent,s=d.depth?d.before():0}const l=o?null:i.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c&&c.dom.nodeType==1?c.dom:null;let{selection:u}=e.state;(i.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||u instanceof Gt&&u.from<=s&&u.to>s)&&(this.mightDrag={node:a,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ds&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),fd(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Pc(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(N5(e))),this.updateAllowDefault(e),this.allowDefault||!n?fd(this.view,"pointer"):M4e(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||co&&this.mightDrag&&!this.mightDrag.node.isAtom||Li&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Zm(this.view,Xt.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):fd(this.view,"pointer")}move(e){this.updateAllowDefault(e),fd(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}};uo.touchstart=r=>{r.input.lastTouch=Date.now(),zR(r),fd(r,"pointer")};uo.touchmove=r=>{r.input.lastTouch=Date.now(),fd(r,"pointer")};uo.contextmenu=r=>zR(r);function fne(r,e){return r.composing?!0:co&&Math.abs(e.timeStamp-r.input.compositionEndedAt)<500?(r.input.compositionEndedAt=-2e8,!0):!1}const I4e=Sc?5e3:-1;ho.compositionstart=ho.compositionupdate=r=>{if(!r.composing){r.domObserver.flush();let{state:e}=r,n=e.selection.$to;if(e.selection instanceof Ht&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)))r.markCursor=r.state.storedMarks||n.marks(),F4(r,!0),r.markCursor=null;else if(F4(r,!e.selection.empty),Ds&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let i=r.domSelectionRange();for(let o=i.focusNode,a=i.focusOffset;o&&o.nodeType==1&&a!=0;){let s=a<0?o.lastChild:o.childNodes[a-1];if(!s)break;if(s.nodeType==3){let l=r.domSelection();l&&l.collapse(s,s.nodeValue.length);break}else o=s,a=-1}}r.input.composing=!0}pne(r,I4e)};ho.compositionend=(r,e)=>{r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=e.timeStamp,r.input.compositionPendingChanges=r.domObserver.pendingRecords().length?r.input.compositionID:0,r.input.compositionNode=null,r.input.compositionPendingChanges&&Promise.resolve().then(()=>r.domObserver.flush()),r.input.compositionID++,pne(r,20))};function pne(r,e){clearTimeout(r.input.composingTimeout),e>-1&&(r.input.composingTimeout=setTimeout(()=>F4(r),e))}function mne(r){for(r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=z4e());r.input.compositionNodes.length>0;)r.input.compositionNodes.pop().markParentsDirty()}function $4e(r){let e=r.domSelectionRange();if(!e.focusNode)return null;let n=A2e(e.focusNode,e.focusOffset),i=D2e(e.focusNode,e.focusOffset);if(n&&i&&n!=i){let o=i.pmViewDesc,a=r.domObserver.lastChangedTextNode;if(n==a||i==a)return a;if(!o||!o.isText(i.nodeValue))return i;if(r.input.compositionNode==i){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return i}}return n||i}function z4e(){let r=document.createEvent("Event");return r.initEvent("event",!0,!0),r.timeStamp}function F4(r,e=!1){if(!(Sc&&r.domObserver.flushingSoon>=0)){if(r.domObserver.forceFlush(),mne(r),e||r.docView&&r.docView.dirty){let n=NR(r);return n&&!n.eq(r.state.selection)?r.dispatch(r.state.tr.setSelection(n)):(r.markCursor||e)&&!r.state.selection.empty?r.dispatch(r.state.tr.deleteSelection()):r.updateState(r.state),!0}return!1}}function L4e(r,e){if(!r.dom.parentNode)return;let n=r.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),o=document.createRange();o.selectNodeContents(e),r.dom.blur(),i.removeAllRanges(),i.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),r.focus()},50)}const tb=Do&&wd<15||k0&&P2e<604;uo.copy=ho.cut=(r,e)=>{let n=e,i=r.state.selection,o=n.type=="cut";if(i.empty)return;let a=tb?null:n.clipboardData,s=i.content(),{dom:l,text:c}=PR(r,s);a?(n.preventDefault(),a.clearData(),a.setData("text/html",l.innerHTML),a.setData("text/plain",c)):L4e(r,l),o&&r.dispatch(r.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function U4e(r){return r.openStart==0&&r.openEnd==0&&r.content.childCount==1?r.content.firstChild:null}function B4e(r,e){if(!r.dom.parentNode)return;let n=r.input.shiftKey||r.state.selection.$from.parent.type.spec.code,i=r.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let o=r.input.shiftKey&&r.input.lastKeyCode!=45;setTimeout(()=>{r.focus(),i.parentNode&&i.parentNode.removeChild(i),n?nb(r,i.value,null,o,e):nb(r,i.textContent,i.innerHTML,o,e)},50)}function nb(r,e,n,i,o){let a=ane(r,e,n,i,r.state.selection.$from);if(r.someProp("handlePaste",c=>c(r,o,a||Et.empty)))return!0;if(!a)return!1;let s=U4e(a),l=s?r.state.tr.replaceSelectionWith(s,i):r.state.tr.replaceSelection(a);return r.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function gne(r){let e=r.getData("text/plain")||r.getData("Text");if(e)return e;let n=r.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ho.paste=(r,e)=>{let n=e;if(r.composing&&!Sc)return;let i=tb?null:n.clipboardData,o=r.input.shiftKey&&r.input.lastKeyCode!=45;i&&nb(r,gne(i),i.getData("text/html"),o,n)?n.preventDefault():B4e(r,n)};let yne=class{constructor(e,n,i){this.slice=e,this.move=n,this.node=i}};const bne=ja?"altKey":"ctrlKey";uo.dragstart=(r,e)=>{let n=e,i=r.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let o=r.state.selection,a=o.empty?null:r.posAtCoords(N5(n)),s;if(!(a&&a.pos>=o.from&&a.pos<=(o instanceof Gt?o.to-1:o.to))){if(i&&i.mightDrag)s=Gt.create(r.state.doc,i.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let h=r.docView.nearestDesc(n.target,!0);h&&h.node.type.spec.draggable&&h!=r.docView&&(s=Gt.create(r.state.doc,h.posBefore))}}let l=(s||r.state.selection).content(),{dom:c,text:u,slice:d}=PR(r,l);(!n.dataTransfer.files.length||!Li||jte>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(tb?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",tb||n.dataTransfer.setData("text/plain",u),r.dragging=new yne(d,!n[bne],s)};uo.dragend=r=>{let e=r.dragging;window.setTimeout(()=>{r.dragging==e&&(r.dragging=null)},50)};ho.dragover=ho.dragenter=(r,e)=>e.preventDefault();ho.drop=(r,e)=>{let n=e,i=r.dragging;if(r.dragging=null,!n.dataTransfer)return;let o=r.posAtCoords(N5(n));if(!o)return;let a=r.state.doc.resolve(o.pos),s=i&&i.slice;s?r.someProp("transformPasted",b=>{s=b(s,r)}):s=ane(r,gne(n.dataTransfer),tb?null:n.dataTransfer.getData("text/html"),!1,a);let l=!!(i&&!n[bne]);if(r.someProp("handleDrop",b=>b(r,n,s||Et.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let c=s?Ate(r.state.doc,a.pos,s):a.pos;c==null&&(c=a.pos);let u=r.state.tr;if(l){let{node:b}=i;b?b.replace(u):u.deleteSelection()}let d=u.mapping.map(c),h=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=u.doc;if(h?u.replaceRangeWith(d,d,s.content.firstChild):u.replaceRange(d,d,s),u.doc.eq(f))return;let m=u.doc.resolve(d);if(h&&Gt.isSelectable(s.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new Gt(m));else{let b=u.mapping.map(c);u.mapping.maps[u.mapping.maps.length-1].forEach((g,v,x,w)=>b=w),u.setSelection(OR(r,m,u.doc.resolve(b)))}r.focus(),r.dispatch(u.setMeta("uiEvent","drop"))};uo.focus=r=>{r.input.lastFocus=Date.now(),r.focused||(r.domObserver.stop(),r.dom.classList.add("ProseMirror-focused"),r.domObserver.start(),r.focused=!0,setTimeout(()=>{r.docView&&r.hasFocus()&&!r.domObserver.currentSelection.eq(r.domSelectionRange())&&Pc(r)},20))};uo.blur=(r,e)=>{let n=e;r.focused&&(r.domObserver.stop(),r.dom.classList.remove("ProseMirror-focused"),r.domObserver.start(),n.relatedTarget&&r.dom.contains(n.relatedTarget)&&r.domObserver.currentSelection.clear(),r.focused=!1)};uo.beforeinput=(r,e)=>{if(Li&&Sc&&e.inputType=="deleteContentBackward"){r.domObserver.flushSoon();let{domChangeCount:n}=r.input;setTimeout(()=>{if(r.input.domChangeCount!=n||(r.dom.blur(),r.focus(),r.someProp("handleKeyDown",o=>o(r,Jh(8,"Backspace")))))return;let{$cursor:i}=r.state.selection;i&&i.pos>0&&r.dispatch(r.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let r in ho)uo[r]=ho[r];function rb(r,e){if(r==e)return!0;for(let n in r)if(r[n]!==e[n])return!1;for(let n in e)if(!(n in r))return!1;return!0}let KB=class vne{constructor(e,n){this.toDOM=e,this.spec=n||Cf,this.side=this.spec.side||0}map(e,n,i,o){let{pos:a,deleted:s}=e.mapResult(n.from+o,this.side<0?-1:1);return s?null:new hi(a-i,a-i,this)}valid(){return!0}eq(e){return this==e||e instanceof vne&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&rb(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}},Ry=class XA{constructor(e,n){this.attrs=e,this.spec=n||Cf}map(e,n,i,o){let a=e.map(n.from+o,this.spec.inclusiveStart?-1:1)-i,s=e.map(n.to+o,this.spec.inclusiveEnd?1:-1)-i;return a>=s?null:new hi(a,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof XA&&rb(this.attrs,e.attrs)&&rb(this.spec,e.spec)}static is(e){return e.type instanceof XA}destroy(){}},j4e=class xne{constructor(e,n){this.attrs=e,this.spec=n||Cf}map(e,n,i,o){let a=e.mapResult(n.from+o,1);if(a.deleted)return null;let s=e.mapResult(n.to+o,-1);return s.deleted||s.pos<=a.pos?null:new hi(a.pos-i,s.pos-i,this)}valid(e,n){let{index:i,offset:o}=e.content.findIndex(n.from),a;return o==n.from&&!(a=e.child(i)).isText&&o+a.nodeSize==n.to}eq(e){return this==e||e instanceof xne&&rb(this.attrs,e.attrs)&&rb(this.spec,e.spec)}destroy(){}},hi=class hy{constructor(e,n,i){this.from=e,this.to=n,this.type=i}copy(e,n){return new hy(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,i){return this.type.map(e,this,n,i)}static widget(e,n,i){return new hy(e,e,new KB(n,i))}static inline(e,n,i,o){return new hy(e,n,new Ry(i,o))}static node(e,n,i,o){return new hy(e,n,new j4e(i,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ry}get widget(){return this.type instanceof KB}};const Pm=[],Cf={};let Cr=class Ku{constructor(e,n){this.local=e.length?e:Pm,this.children=n.length?n:Pm}static create(e,n){return n.length?H4(n,e,0,Cf):$i}find(e,n,i){let o=[];return this.findInner(e??0,n??1e9,o,0,i),o}findInner(e,n,i,o,a){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=e&&(!a||a(l.spec))&&i.push(l.copy(l.from+o,l.to+o))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let l=this.children[s]+1;this.children[s+2].findInner(e-l,n-l,i,o+l,a)}}map(e,n,i){return this==$i||e.maps.length==0?this:this.mapInner(e,n,0,0,i||Cf)}mapInner(e,n,i,o,a){let s;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,i,o);c&&c.type.valid(n,c)?(s||(s=[])).push(c):a.onRemove&&a.onRemove(this.local[l].spec)}return this.children.length?F4e(this.children,s||[],e,n,i,o,a):s?new Ku(s.sort(_f),Pm):$i}add(e,n){return n.length?this==$i?Ku.create(e,n):this.addInner(e,n,0):this}addInner(e,n,i){let o,a=0;e.forEach((l,c)=>{let u=c+i,d;if(d=kne(n,l,u)){for(o||(o=this.children.slice());a<o.length&&o[a]<c;)a+=3;o[a]==c?o[a+2]=o[a+2].addInner(l,d,u+1):o.splice(a,0,c,c+l.nodeSize,H4(d,l,u+1,Cf)),a+=3}});let s=Sne(a?Tne(n):n,-i);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||s.splice(l--,1);return new Ku(s.length?this.local.concat(s).sort(_f):this.local,o||this.children)}remove(e){return e.length==0||this==$i?this:this.removeInner(e,0)}removeInner(e,n){let i=this.children,o=this.local;for(let a=0;a<i.length;a+=3){let s,l=i[a]+n,c=i[a+1]+n;for(let d=0,h;d<e.length;d++)(h=e[d])&&h.from>l&&h.to<c&&(e[d]=null,(s||(s=[])).push(h));if(!s)continue;i==this.children&&(i=this.children.slice());let u=i[a+2].removeInner(s,l+1);u!=$i?i[a+2]=u:(i.splice(a,3),a-=3)}if(o.length){for(let a=0,s;a<e.length;a++)if(s=e[a])for(let l=0;l<o.length;l++)o[l].eq(s,n)&&(o==this.local&&(o=this.local.slice()),o.splice(l--,1))}return i==this.children&&o==this.local?this:o.length||i.length?new Ku(o,i):$i}forChild(e,n){if(this==$i)return this;if(n.isLeaf)return Ku.empty;let i,o;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(i=this.children[l+2]);break}let a=e+1,s=a+n.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<s&&c.to>a&&c.type instanceof Ry){let u=Math.max(a,c.from)-a,d=Math.min(s,c.to)-a;u<d&&(o||(o=[])).push(c.copy(u,d))}}if(o){let l=new Ku(o.sort(_f),Pm);return i?new wne([l,i]):l}return i||$i}eq(e){if(this==e)return!0;if(!(e instanceof Ku)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return LR(this.localsInner(e))}localsInner(e){if(this==$i)return Pm;if(e.inlineContent||!this.local.some(Ry.is))return this.local;let n=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof Ry||n.push(this.local[i]);return n}forEachSet(e){e(this)}};Cr.empty=new Cr([],[]);Cr.removeOverlap=LR;const $i=Cr.empty;let wne=class Im{constructor(e){this.members=e}map(e,n){const i=this.members.map(o=>o.map(e,n,Cf));return Im.from(i)}forChild(e,n){if(n.isLeaf)return Cr.empty;let i=[];for(let o=0;o<this.members.length;o++){let a=this.members[o].forChild(e,n);a!=$i&&(a instanceof Im?i=i.concat(a.members):i.push(a))}return Im.from(i)}eq(e){if(!(e instanceof Im)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,i=!0;for(let o=0;o<this.members.length;o++){let a=this.members[o].localsInner(e);if(a.length)if(!n)n=a;else{i&&(n=n.slice(),i=!1);for(let s=0;s<a.length;s++)n.push(a[s])}}return n?LR(i?n:n.sort(_f)):Pm}static from(e){switch(e.length){case 0:return $i;case 1:return e[0];default:return new Im(e.every(n=>n instanceof Cr)?e:e.reduce((n,i)=>n.concat(i instanceof Cr?i:i.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}};function F4e(r,e,n,i,o,a,s){let l=r.slice();for(let u=0,d=a;u<n.maps.length;u++){let h=0;n.maps[u].forEach((f,m,b,g)=>{let v=g-b-(m-f);for(let x=0;x<l.length;x+=3){let w=l[x+1];if(w<0||f>w+d-h)continue;let k=l[x]+d-h;m>=k?l[x+1]=f<=k?-2:-1:f>=d&&v&&(l[x]+=v,l[x+1]+=v)}h+=v}),d=n.maps[u].map(d,-1)}let c=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){c=!0,l[u+1]=-1;continue}let d=n.map(r[u]+a),h=d-o;if(h<0||h>=i.content.size){c=!0;continue}let f=n.map(r[u+1]+a,-1),m=f-o,{index:b,offset:g}=i.content.findIndex(h),v=i.maybeChild(b);if(v&&g==h&&g+v.nodeSize==m){let x=l[u+2].mapInner(n,v,d+1,r[u]+a+1,s);x!=$i?(l[u]=h,l[u+1]=m,l[u+2]=x):(l[u+1]=-2,c=!0)}else c=!0}if(c){let u=H4e(l,r,e,n,o,a,s),d=H4(u,i,0,s);e=d.local;for(let h=0;h<l.length;h+=3)l[h+1]<0&&(l.splice(h,3),h-=3);for(let h=0,f=0;h<d.children.length;h+=3){let m=d.children[h];for(;f<l.length&&l[f]<m;)f+=3;l.splice(f,0,d.children[h],d.children[h+1],d.children[h+2])}}return new Cr(e.sort(_f),l)}function Sne(r,e){if(!e||!r.length)return r;let n=[];for(let i=0;i<r.length;i++){let o=r[i];n.push(new hi(o.from+e,o.to+e,o.type))}return n}function H4e(r,e,n,i,o,a,s){function l(c,u){for(let d=0;d<c.local.length;d++){let h=c.local[d].map(i,o,u);h?n.push(h):s.onRemove&&s.onRemove(c.local[d].spec)}for(let d=0;d<c.children.length;d+=3)l(c.children[d+2],c.children[d]+u+1)}for(let c=0;c<r.length;c+=3)r[c+1]==-1&&l(r[c+2],e[c]+a+1);return n}function kne(r,e,n){if(e.isLeaf)return null;let i=n+e.nodeSize,o=null;for(let a=0,s;a<r.length;a++)(s=r[a])&&s.from>n&&s.to<i&&((o||(o=[])).push(s),r[a]=null);return o}function Tne(r){let e=[];for(let n=0;n<r.length;n++)r[n]!=null&&e.push(r[n]);return e}function H4(r,e,n,i){let o=[],a=!1;e.forEach((l,c)=>{let u=kne(r,l,c+n);if(u){a=!0;let d=H4(u,l,n+c+1,i);d!=$i&&o.push(c,c+l.nodeSize,d)}});let s=Sne(a?Tne(r):r,-n).sort(_f);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||(i.onRemove&&i.onRemove(s[l].spec),s.splice(l--,1));return s.length||o.length?new Cr(s,o):$i}function _f(r,e){return r.from-e.from||r.to-e.to}function LR(r){let e=r;for(let n=0;n<e.length-1;n++){let i=e[n];if(i.from!=i.to)for(let o=n+1;o<e.length;o++){let a=e[o];if(a.from==i.from){a.to!=i.to&&(e==r&&(e=r.slice()),e[o]=a.copy(a.from,i.to),XB(e,o+1,a.copy(i.to,a.to)));continue}else{a.from<i.to&&(e==r&&(e=r.slice()),e[n]=i.copy(i.from,a.from),XB(e,o,i.copy(a.from,i.to)));break}}}return e}function XB(r,e,n){for(;e<r.length&&_f(n,r[e])>0;)e++;r.splice(e,0,n)}function A8(r){let e=[];return r.someProp("decorations",n=>{let i=n(r.state);i&&i!=$i&&e.push(i)}),r.cursorWrapper&&e.push(Cr.create(r.state.doc,[r.cursorWrapper.deco])),wne.from(e)}const W4e={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},V4e=Do&&wd<=11;let q4e=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}},G4e=class{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new q4e,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let o=0;o<i.length;o++)this.queue.push(i[o]);Do&&wd<=11&&i.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),V4e&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,W4e)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(BB(this.view)){if(this.suppressingSelectionUpdates)return Pc(this.view);if(Do&&wd<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Lf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,i;for(let a=e.focusNode;a;a=eb(a))n.add(a);for(let a=e.anchorNode;a;a=eb(a))if(n.has(a)){i=a;break}let o=i&&this.view.docView.nearestDesc(i);if(o&&o.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let i=e.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&BB(e)&&!this.ignoreSelectionChange(i),a=-1,s=-1,l=!1,c=[];if(e.editable)for(let d=0;d<n.length;d++){let h=this.registerMutation(n[d],c);h&&(a=a<0?h.from:Math.min(h.from,a),s=s<0?h.to:Math.max(h.to,s),h.typeOver&&(l=!0))}if(Ds&&c.length){let d=c.filter(h=>h.nodeName=="BR");if(d.length==2){let[h,f]=d;h.parentNode&&h.parentNode.parentNode==f.parentNode?f.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let f of d){let m=f.parentNode;m&&m.nodeName=="LI"&&(!h||Y4e(e,h)!=m)&&f.remove()}}}let u=null;a<0&&o&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&R5(i)&&(u=NR(e))&&u.eq(Xt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Pc(e),this.currentSelection.set(i)):(a>-1||o)&&(a>-1&&(e.docView.markDirty(a,s),K4e(e)),this.handleDOMChange(a,s,l,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(i)||Pc(e),this.currentSelection.set(i))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let i=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(i==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!i||i.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let h=e.addedNodes[d];n.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(e.target))return{from:i.posBefore,to:i.posAfter};let o=e.previousSibling,a=e.nextSibling;if(Do&&wd<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:h,nextSibling:f}=e.addedNodes[d];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(o=h),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(a=f)}let s=o&&o.parentNode==e.target?Si(o)+1:0,l=i.localPosFromDOM(e.target,s,-1),c=a&&a.parentNode==e.target?Si(a):e.target.childNodes.length,u=i.localPosFromDOM(e.target,c,1);return{from:l,to:u}}else return e.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=e.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}},YB=new WeakMap,ZB=!1;function K4e(r){if(!YB.has(r)&&(YB.set(r,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(r.dom).whiteSpace)!==-1)){if(r.requiresGeckoHackNode=Ds,ZB)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),ZB=!0}}function JB(r,e){let n=e.startContainer,i=e.startOffset,o=e.endContainer,a=e.endOffset,s=r.domAtPos(r.state.selection.anchor);return Lf(s.node,s.offset,o,a)&&([n,i,o,a]=[o,a,n,i]),{anchorNode:n,anchorOffset:i,focusNode:o,focusOffset:a}}function X4e(r,e){if(e.getComposedRanges){let o=e.getComposedRanges(r.root)[0];if(o)return JB(r,o)}let n;function i(o){o.preventDefault(),o.stopImmediatePropagation(),n=o.getTargetRanges()[0]}return r.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),r.dom.removeEventListener("beforeinput",i,!0),n?JB(r,n):null}function Y4e(r,e){for(let n=e.parentNode;n&&n!=r.dom;n=n.parentNode){let i=r.docView.nearestDesc(n,!0);if(i&&i.node.isBlock)return n}return null}function Z4e(r,e,n){let{node:i,fromOffset:o,toOffset:a,from:s,to:l}=r.docView.parseRange(e,n),c=r.domSelectionRange(),u,d=c.anchorNode;if(d&&r.dom.contains(d.nodeType==1?d:d.parentNode)&&(u=[{node:d,offset:c.anchorOffset}],R5(c)||u.push({node:c.focusNode,offset:c.focusOffset})),Li&&r.input.lastKeyCode===8)for(let v=a;v>o;v--){let x=i.childNodes[v-1],w=x.pmViewDesc;if(x.nodeName=="BR"&&!w){a=v;break}if(!w||w.size)break}let h=r.state.doc,f=r.someProp("domParser")||Ay.fromSchema(r.state.schema),m=h.resolve(s),b=null,g=f.parse(i,{topNode:m.parent,topMatch:m.parent.contentMatchAt(m.index()),topOpen:!0,from:o,to:a,preserveWhitespace:m.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:J4e,context:m});if(u&&u[0].pos!=null){let v=u[0].pos,x=u[1]&&u[1].pos;x==null&&(x=v),b={anchor:v+s,head:x+s}}return{doc:g,sel:b,from:s,to:l}}function J4e(r){let e=r.pmViewDesc;if(e)return e.parseRule();if(r.nodeName=="BR"&&r.parentNode){if(co&&/^(ul|ol)$/i.test(r.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(r.parentNode.lastChild==r||co&&/^(tr|table)$/i.test(r.parentNode.nodeName))return{ignore:!0}}else if(r.nodeName=="IMG"&&r.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Q4e=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function e3e(r,e,n,i,o){let a=r.input.compositionPendingChanges||(r.composing?r.input.compositionID:0);if(r.input.compositionPendingChanges=0,e<0){let O=r.input.lastSelectionTime>Date.now()-50?r.input.lastSelectionOrigin:null,W=NR(r,O);if(W&&!r.state.selection.eq(W)){if(Li&&Sc&&r.input.lastKeyCode===13&&Date.now()-100<r.input.lastKeyCodeTime&&r.someProp("handleKeyDown",$=>$(r,Jh(13,"Enter"))))return;let Z=r.state.tr.setSelection(W);O=="pointer"?Z.setMeta("pointer",!0):O=="key"&&Z.scrollIntoView(),a&&Z.setMeta("composition",a),r.dispatch(Z)}return}let s=r.state.doc.resolve(e),l=s.sharedDepth(n);e=s.before(l+1),n=r.state.doc.resolve(n).after(l+1);let c=r.state.selection,u=Z4e(r,e,n),d=r.state.doc,h=d.slice(u.from,u.to),f,m;r.input.lastKeyCode===8&&Date.now()-100<r.input.lastKeyCodeTime?(f=r.state.selection.to,m="end"):(f=r.state.selection.from,m="start"),r.input.lastKeyCode=null;let b=r3e(h.content,u.doc.content,u.from,f,m);if(b&&r.input.domChangeCount++,(k0&&r.input.lastIOSEnter>Date.now()-225||Sc)&&o.some(O=>O.nodeType==1&&!Q4e.test(O.nodeName))&&(!b||b.endA>=b.endB)&&r.someProp("handleKeyDown",O=>O(r,Jh(13,"Enter")))){r.input.lastIOSEnter=0;return}if(!b)if(i&&c instanceof Ht&&!c.empty&&c.$head.sameParent(c.$anchor)&&!r.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))b={start:c.from,endA:c.to,endB:c.to};else{if(u.sel){let O=QB(r,r.state.doc,u.sel);if(O&&!O.eq(r.state.selection)){let W=r.state.tr.setSelection(O);a&&W.setMeta("composition",a),r.dispatch(W)}}return}r.state.selection.from<r.state.selection.to&&b.start==b.endB&&r.state.selection instanceof Ht&&(b.start>r.state.selection.from&&b.start<=r.state.selection.from+2&&r.state.selection.from>=u.from?b.start=r.state.selection.from:b.endA<r.state.selection.to&&b.endA>=r.state.selection.to-2&&r.state.selection.to<=u.to&&(b.endB+=r.state.selection.to-b.endA,b.endA=r.state.selection.to)),Do&&wd<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>u.from&&u.doc.textBetween(b.start-u.from-1,b.start-u.from+1)==" "&&(b.start--,b.endA--,b.endB--);let g=u.doc.resolveNoCache(b.start-u.from),v=u.doc.resolveNoCache(b.endB-u.from),x=d.resolve(b.start),w=g.sameParent(v)&&g.parent.inlineContent&&x.end()>=b.endA,k;if((k0&&r.input.lastIOSEnter>Date.now()-225&&(!w||o.some(O=>O.nodeName=="DIV"||O.nodeName=="P"))||!w&&g.pos<u.doc.content.size&&!g.sameParent(v)&&(k=Xt.findFrom(u.doc.resolve(g.pos+1),1,!0))&&k.head==v.pos)&&r.someProp("handleKeyDown",O=>O(r,Jh(13,"Enter")))){r.input.lastIOSEnter=0;return}if(r.state.selection.anchor>b.start&&n3e(d,b.start,b.endA,g,v)&&r.someProp("handleKeyDown",O=>O(r,Jh(8,"Backspace")))){Sc&&Li&&r.domObserver.suppressSelectionUpdates();return}Li&&b.endB==b.start&&(r.input.lastChromeDelete=Date.now()),Sc&&!w&&g.start()!=v.start()&&v.parentOffset==0&&g.depth==v.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==b.endA&&(b.endB-=2,v=u.doc.resolveNoCache(b.endB-u.from),setTimeout(()=>{r.someProp("handleKeyDown",function(O){return O(r,Jh(13,"Enter"))})},20));let T=b.start,_=b.endA,D,I,L;if(w){if(g.pos==v.pos)Do&&wd<=11&&g.parentOffset==0&&(r.domObserver.suppressSelectionUpdates(),setTimeout(()=>Pc(r),20)),D=r.state.tr.delete(T,_),I=d.resolve(b.start).marksAcross(d.resolve(b.endA));else if(b.endA==b.endB&&(L=t3e(g.parent.content.cut(g.parentOffset,v.parentOffset),x.parent.content.cut(x.parentOffset,b.endA-x.start()))))D=r.state.tr,L.type=="add"?D.addMark(T,_,L.mark):D.removeMark(T,_,L.mark);else if(g.parent.child(g.index()).isText&&g.index()==v.index()-(v.textOffset?0:1)){let O=g.parent.textBetween(g.parentOffset,v.parentOffset);if(r.someProp("handleTextInput",W=>W(r,T,_,O)))return;D=r.state.tr.insertText(O,T,_)}}if(D||(D=r.state.tr.replace(T,_,u.doc.slice(b.start-u.from,b.endB-u.from))),u.sel){let O=QB(r,D.doc,u.sel);O&&!(Li&&r.composing&&O.empty&&(b.start!=b.endB||r.input.lastChromeDelete<Date.now()-100)&&(O.head==T||O.head==D.mapping.map(_)-1)||Do&&O.empty&&O.head==T)&&D.setSelection(O)}I&&D.ensureMarks(I),a&&D.setMeta("composition",a),r.dispatch(D.scrollIntoView())}function QB(r,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:OR(r,e.resolve(n.anchor),e.resolve(n.head))}function t3e(r,e){let n=r.firstChild.marks,i=e.firstChild.marks,o=n,a=i,s,l,c;for(let d=0;d<i.length;d++)o=i[d].removeFromSet(o);for(let d=0;d<n.length;d++)a=n[d].removeFromSet(a);if(o.length==1&&a.length==0)l=o[0],s="add",c=d=>d.mark(l.addToSet(d.marks));else if(o.length==0&&a.length==1)l=a[0],s="remove",c=d=>d.mark(l.removeFromSet(d.marks));else return null;let u=[];for(let d=0;d<e.childCount;d++)u.push(c(e.child(d)));if(st.from(u).eq(r))return{mark:l,type:s}}function n3e(r,e,n,i,o){if(n-e<=o.pos-i.pos||D8(i,!0,!1)<o.pos)return!1;let a=r.resolve(e);if(!i.parent.isTextblock){let l=a.nodeAfter;return l!=null&&n==e+l.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let s=r.resolve(D8(a,!0,!0));return!s.parent.isTextblock||s.pos>n||D8(s,!0,!1)<n?!1:i.parent.content.cut(i.parentOffset).eq(s.parent.content)}function D8(r,e,n){let i=r.depth,o=e?r.end():r.pos;for(;i>0&&(e||r.indexAfter(i)==r.node(i).childCount);)i--,o++,e=!1;if(n){let a=r.node(i).maybeChild(r.indexAfter(i));for(;a&&!a.isLeaf;)a=a.firstChild,o++}return o}function r3e(r,e,n,i,o){let a=r.findDiffStart(e,n);if(a==null)return null;let{a:s,b:l}=r.findDiffEnd(e,n+r.size,n+e.size);if(o=="end"){let c=Math.max(0,a-Math.min(s,l));i-=s+c-a}if(s<a&&r.size<e.size){let c=i<=a&&i>=s?a-i:0;a-=c,a&&a<e.size&&ej(e.textBetween(a-1,a+1))&&(a+=c?1:-1),l=a+(l-s),s=a}else if(l<a){let c=i<=a&&i>=l?a-i:0;a-=c,a&&a<r.size&&ej(r.textBetween(a-1,a+1))&&(a+=c?1:-1),s=a+(s-l),l=a}return{start:a,endA:s,endB:l}}function ej(r){if(r.length!=2)return!1;let e=r.charCodeAt(0),n=r.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}let i3e=class{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new S4e,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(oj),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=rj(this),nj(this),this.nodeViews=ij(this),this.docView=PB(this.state.doc,tj(this),A8(this),this.dom,this),this.domObserver=new G4e(this,(i,o,a,s)=>e3e(this,i,o,a,s)),this.domObserver.start(),k4e(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&KA(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(oj),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let i in this._props)n[i]=this._props[i];n.state=this.state;for(let i in e)n[i]=e[i];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var i;let o=this.state,a=!1,s=!1;e.storedMarks&&this.composing&&(mne(this),s=!0),this.state=e;let l=o.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let m=ij(this);a3e(m,this.nodeViews)&&(this.nodeViews=m,a=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&KA(this),this.editable=rj(this),nj(this);let c=A8(this),u=tj(this),d=o.plugins!=e.plugins&&!o.doc.eq(e.doc)?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",h=a||!this.docView.matchesNode(e.doc,u,c);(h||!e.selection.eq(o.selection))&&(s=!0);let f=d=="preserve"&&s&&this.dom.style.overflowAnchor==null&&z2e(this);if(s){this.domObserver.stop();let m=h&&(Do||Li)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&o3e(o.selection,e.selection);if(h){let b=Li?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=$4e(this)),(a||!this.docView.update(e.doc,u,c,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=PB(e.doc,u,c,this.dom,this)),b&&!this.trackWrites&&(m=!0)}m||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&s4e(this))?Pc(this,m):(rne(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((i=this.dragging)===null||i===void 0)&&i.node&&!o.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,o),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():f&&L2e(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))&&!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Gt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&AB(this,n.getBoundingClientRect(),e)}else AB(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let i=this.directPlugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let i=this.state.plugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let i=this.pluginViews[n];i.update&&i.update(this,e)}}updateDraggedNode(e,n){let i=e.node,o=-1;if(this.state.doc.nodeAt(i.from)==i.node)o=i.from;else{let a=i.from+(this.state.doc.content.size-n.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==i.node&&(o=a)}this.dragging=new yne(e.slice,e.move,o<0?void 0:Gt.create(this.state.doc,o))}someProp(e,n){let i=this._props&&this._props[e],o;if(i!=null&&(o=n?n(i):i))return o;for(let s=0;s<this.directPlugins.length;s++){let l=this.directPlugins[s].props[e];if(l!=null&&(o=n?n(l):l))return o}let a=this.state.plugins;if(a)for(let s=0;s<a.length;s++){let l=a[s].props[e];if(l!=null&&(o=n?n(l):l))return o}}hasFocus(){if(Do){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&U2e(this.dom),Pc(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return W2e(this,e)}coordsAtPos(e,n=1){return qte(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,i=-1){let o=this.docView.posFromDOM(e,n,i);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,n){return X2e(this,n||this.state,e)}pasteHTML(e,n){return nb(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return nb(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return PR(this,e)}destroy(){this.docView&&(T4e(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],A8(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,C2e())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return C4e(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?co&&this.root.nodeType===11&&R2e(this.dom.ownerDocument)==this.dom&&X4e(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}};function tj(r){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(r.editable),r.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(r.state)),n)for(let i in n)i=="class"?e.class+=" "+n[i]:i=="style"?e.style=(e.style?e.style+";":"")+n[i]:!e[i]&&i!="contenteditable"&&i!="nodeName"&&(e[i]=String(n[i]))}),e.translate||(e.translate="no"),[hi.node(0,r.state.doc.content.size,e)]}function nj(r){if(r.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),r.cursorWrapper={dom:e,deco:hi.widget(r.state.selection.from,e,{raw:!0,marks:r.markCursor})}}else r.cursorWrapper=null}function rj(r){return!r.someProp("editable",e=>e(r.state)===!1)}function o3e(r,e){let n=Math.min(r.$anchor.sharedDepth(r.head),e.$anchor.sharedDepth(e.head));return r.$anchor.start(n)!=e.$anchor.start(n)}function ij(r){let e=Object.create(null);function n(i){for(let o in i)Object.prototype.hasOwnProperty.call(e,o)||(e[o]=i[o])}return r.someProp("nodeViews",n),r.someProp("markViews",n),e}function a3e(r,e){let n=0,i=0;for(let o in r){if(r[o]!=e[o])return!0;n++}for(let o in e)i++;return n!=i}function oj(r){if(r.spec.state||r.spec.filterTransaction||r.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ed={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},W4={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},s3e=typeof navigator<"u"&&/Mac/.test(navigator.platform),l3e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ki=0;ki<10;ki++)Ed[48+ki]=Ed[96+ki]=String(ki);for(var ki=1;ki<=24;ki++)Ed[ki+111]="F"+ki;for(var ki=65;ki<=90;ki++)Ed[ki]=String.fromCharCode(ki+32),W4[ki]=String.fromCharCode(ki);for(var M8 in Ed)W4.hasOwnProperty(M8)||(W4[M8]=Ed[M8]);function c3e(r){var e=s3e&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||l3e&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",n=!e&&r.key||(r.shiftKey?W4:Ed)[r.keyCode]||r.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const u3e=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function d3e(r){let e=r.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let i,o,a,s;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))s=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))a=!0;else if(/^mod$/i.test(c))u3e?s=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(n="Alt-"+n),o&&(n="Ctrl-"+n),s&&(n="Meta-"+n),a&&(n="Shift-"+n),n}function h3e(r){let e=Object.create(null);for(let n in r)e[d3e(n)]=r[n];return e}function R8(r,e,n=!0){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),n&&e.shiftKey&&(r="Shift-"+r),r}function f3e(r){return new $n({props:{handleKeyDown:UR(r)}})}function UR(r){let e=h3e(r);return function(n,i){let o=c3e(i),a,s=e[R8(o,i)];if(s&&s(n.state,n.dispatch,n))return!0;if(o.length==1&&o!=" "){if(i.shiftKey){let l=e[R8(o,i,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((i.shiftKey||i.altKey||i.metaKey||o.charCodeAt(0)>127)&&(a=Ed[i.keyCode])&&a!=o){let l=e[R8(a,i)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const Gd=(r,e)=>r.selection.empty?!1:(e&&e(r.tr.deleteSelection().scrollIntoView()),!0);function Ene(r,e){let{$cursor:n}=r.selection;return!n||(e?!e.endOfTextblock("backward",r):n.parentOffset>0)?null:n}const Cne=(r,e,n)=>{let i=Ene(r,n);if(!i)return!1;let o=BR(i);if(!o){let s=i.blockRange(),l=s&&J0(s);return l==null?!1:(e&&e(r.tr.lift(s,l).scrollIntoView()),!0)}let a=o.nodeBefore;if(Ine(r,o,e,-1))return!0;if(i.parent.content.size==0&&(T0(a,"end")||Gt.isSelectable(a)))for(let s=i.depth;;s--){let l=M5(r.doc,i.before(s),i.after(s),Et.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=r.tr.step(l);c.setSelection(T0(a,"end")?Xt.findFrom(c.doc.resolve(c.mapping.map(o.pos,-1)),-1):Gt.create(c.doc,o.pos-a.nodeSize)),e(c.scrollIntoView())}return!0}if(s==1||i.node(s-1).childCount>1)break}return a.isAtom&&o.depth==i.depth-1?(e&&e(r.tr.delete(o.pos-a.nodeSize,o.pos).scrollIntoView()),!0):!1},p3e=(r,e,n)=>{let i=Ene(r,n);if(!i)return!1;let o=BR(i);return o?_ne(r,o,e):!1},m3e=(r,e,n)=>{let i=Dne(r,n);if(!i)return!1;let o=jR(i);return o?_ne(r,o,e):!1};function _ne(r,e,n){let i=e.nodeBefore,o=i,a=e.pos-1;for(;!o.isTextblock;a--){if(o.type.spec.isolating)return!1;let d=o.lastChild;if(!d)return!1;o=d}let s=e.nodeAfter,l=s,c=e.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let d=l.firstChild;if(!d)return!1;l=d}let u=M5(r.doc,a,c,Et.empty);if(!u||u.from!=a||u instanceof As&&u.slice.size>=c-a)return!1;if(n){let d=r.tr.step(u);d.setSelection(Ht.create(d.doc,a)),n(d.scrollIntoView())}return!0}function T0(r,e,n=!1){for(let i=r;i;i=e=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(n&&i.childCount!=1)return!1}return!1}const Ane=(r,e,n)=>{let{$head:i,empty:o}=r.selection,a=i;if(!o)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",r):i.parentOffset>0)return!1;a=BR(i)}let s=a&&a.nodeBefore;return!s||!Gt.isSelectable(s)?!1:(e&&e(r.tr.setSelection(Gt.create(r.doc,a.pos-s.nodeSize)).scrollIntoView()),!0)};function BR(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){if(r.index(e)>0)return r.doc.resolve(r.before(e+1));if(r.node(e).type.spec.isolating)break}return null}function Dne(r,e){let{$cursor:n}=r.selection;return!n||(e?!e.endOfTextblock("forward",r):n.parentOffset<n.parent.content.size)?null:n}const Mne=(r,e,n)=>{let i=Dne(r,n);if(!i)return!1;let o=jR(i);if(!o)return!1;let a=o.nodeAfter;if(Ine(r,o,e,1))return!0;if(i.parent.content.size==0&&(T0(a,"start")||Gt.isSelectable(a))){let s=M5(r.doc,i.before(),i.after(),Et.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=r.tr.step(s);l.setSelection(T0(a,"start")?Xt.findFrom(l.doc.resolve(l.mapping.map(o.pos)),1):Gt.create(l.doc,l.mapping.map(o.pos))),e(l.scrollIntoView())}return!0}}return a.isAtom&&o.depth==i.depth-1?(e&&e(r.tr.delete(o.pos,o.pos+a.nodeSize).scrollIntoView()),!0):!1},Rne=(r,e,n)=>{let{$head:i,empty:o}=r.selection,a=i;if(!o)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",r):i.parentOffset<i.parent.content.size)return!1;a=jR(i)}let s=a&&a.nodeAfter;return!s||!Gt.isSelectable(s)?!1:(e&&e(r.tr.setSelection(Gt.create(r.doc,a.pos)).scrollIntoView()),!0)};function jR(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){let n=r.node(e);if(r.index(e)+1<n.childCount)return r.doc.resolve(r.after(e+1));if(n.type.spec.isolating)break}return null}const g3e=(r,e)=>{let n=r.selection,i=n instanceof Gt,o;if(i){if(n.node.isTextblock||!Vd(r.doc,n.from))return!1;o=n.from}else if(o=D5(r.doc,n.from,-1),o==null)return!1;if(e){let a=r.tr.join(o);i&&a.setSelection(Gt.create(a.doc,o-r.doc.resolve(o).nodeBefore.nodeSize)),e(a.scrollIntoView())}return!0},y3e=(r,e)=>{let n=r.selection,i;if(n instanceof Gt){if(n.node.isTextblock||!Vd(r.doc,n.to))return!1;i=n.to}else if(i=D5(r.doc,n.to,1),i==null)return!1;return e&&e(r.tr.join(i).scrollIntoView()),!0},b3e=(r,e)=>{let{$from:n,$to:i}=r.selection,o=n.blockRange(i),a=o&&J0(o);return a==null?!1:(e&&e(r.tr.lift(o,a).scrollIntoView()),!0)},Nne=(r,e)=>{let{$head:n,$anchor:i}=r.selection;return!n.parent.type.spec.code||!n.sameParent(i)?!1:(e&&e(r.tr.insertText(`
`).scrollIntoView()),!0)};function FR(r){for(let e=0;e<r.edgeCount;e++){let{type:n}=r.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const v3e=(r,e)=>{let{$head:n,$anchor:i}=r.selection;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;let o=n.node(-1),a=n.indexAfter(-1),s=FR(o.contentMatchAt(a));if(!s||!o.canReplaceWith(a,a,s))return!1;if(e){let l=n.after(),c=r.tr.replaceWith(l,l,s.createAndFill());c.setSelection(Xt.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},One=(r,e)=>{let n=r.selection,{$from:i,$to:o}=n;if(n instanceof Cs||i.parent.inlineContent||o.parent.inlineContent)return!1;let a=FR(o.parent.contentMatchAt(o.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let s=(!i.parentOffset&&o.index()<o.parent.childCount?i:o).pos,l=r.tr.insert(s,a.createAndFill());l.setSelection(Ht.create(l.doc,s+1)),e(l.scrollIntoView())}return!0},Pne=(r,e)=>{let{$cursor:n}=r.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let a=n.before();if(Oc(r.doc,a))return e&&e(r.tr.split(a).scrollIntoView()),!0}let i=n.blockRange(),o=i&&J0(i);return o==null?!1:(e&&e(r.tr.lift(i,o).scrollIntoView()),!0)};function x3e(r){return(e,n)=>{let{$from:i,$to:o}=e.selection;if(e.selection instanceof Gt&&e.selection.node.isBlock)return!i.parentOffset||!Oc(e.doc,i.pos)?!1:(n&&n(e.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;let a=[],s,l,c=!1,u=!1;for(let m=i.depth;;m--)if(i.node(m).isBlock){c=i.end(m)==i.pos+(i.depth-m),u=i.start(m)==i.pos-(i.depth-m),l=FR(i.node(m-1).contentMatchAt(i.indexAfter(m-1))),a.unshift(c&&l?{type:l}:null),s=m;break}else{if(m==1)return!1;a.unshift(null)}let d=e.tr;(e.selection instanceof Ht||e.selection instanceof Cs)&&d.deleteSelection();let h=d.mapping.map(i.pos),f=Oc(d.doc,h,a.length,a);if(f||(a[0]=l?{type:l}:null,f=Oc(d.doc,h,a.length,a)),d.split(h,a.length,a),!c&&u&&i.node(s).type!=l){let m=d.mapping.map(i.before(s)),b=d.doc.resolve(m);l&&i.node(s-1).canReplaceWith(b.index(),b.index()+1,l)&&d.setNodeMarkup(d.mapping.map(i.before(s)),l)}return n&&n(d.scrollIntoView()),!0}}const w3e=x3e(),S3e=(r,e)=>{let{$from:n,to:i}=r.selection,o,a=n.sharedDepth(i);return a==0?!1:(o=n.before(a),e&&e(r.tr.setSelection(Gt.create(r.doc,o))),!0)};function k3e(r,e,n){let i=e.nodeBefore,o=e.nodeAfter,a=e.index();return!i||!o||!i.type.compatibleContent(o.type)?!1:!i.content.size&&e.parent.canReplace(a-1,a)?(n&&n(r.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(o.isTextblock||Vd(r.doc,e.pos))?!1:(n&&n(r.tr.join(e.pos).scrollIntoView()),!0)}function Ine(r,e,n,i){let o=e.nodeBefore,a=e.nodeAfter,s,l,c=o.type.spec.isolating||a.type.spec.isolating;if(!c&&k3e(r,e,n))return!0;let u=!c&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(s=(l=o.contentMatchAt(o.childCount)).findWrapping(a.type))&&l.matchType(s[0]||a.type).validEnd){if(n){let m=e.pos+a.nodeSize,b=st.empty;for(let x=s.length-1;x>=0;x--)b=st.from(s[x].create(null,b));b=st.from(o.copy(b));let g=r.tr.step(new Oo(e.pos-1,m,e.pos,m,new Et(b,1,0),s.length,!0)),v=g.doc.resolve(m+2*s.length);v.nodeAfter&&v.nodeAfter.type==o.type&&Vd(g.doc,v.pos)&&g.join(v.pos),n(g.scrollIntoView())}return!0}let d=a.type.spec.isolating||i>0&&c?null:Xt.findFrom(e,1),h=d&&d.$from.blockRange(d.$to),f=h&&J0(h);if(f!=null&&f>=e.depth)return n&&n(r.tr.lift(h,f).scrollIntoView()),!0;if(u&&T0(a,"start",!0)&&T0(o,"end")){let m=o,b=[];for(;b.push(m),!m.isTextblock;)m=m.lastChild;let g=a,v=1;for(;!g.isTextblock;g=g.firstChild)v++;if(m.canReplace(m.childCount,m.childCount,g.content)){if(n){let x=st.empty;for(let k=b.length-1;k>=0;k--)x=st.from(b[k].copy(x));let w=r.tr.step(new Oo(e.pos-b.length,e.pos+a.nodeSize,e.pos+v,e.pos+a.nodeSize-v,new Et(x,b.length,0),0,!0));n(w.scrollIntoView())}return!0}}return!1}function $ne(r){return function(e,n){let i=e.selection,o=r<0?i.$from:i.$to,a=o.depth;for(;o.node(a).isInline;){if(!a)return!1;a--}return o.node(a).isTextblock?(n&&n(e.tr.setSelection(Ht.create(e.doc,r<0?o.start(a):o.end(a)))),!0):!1}}const T3e=$ne(-1),E3e=$ne(1);function C3e(r,e=null){return function(n,i){let{$from:o,$to:a}=n.selection,s=o.blockRange(a),l=s&&AR(s,r,e);return l?(i&&i(n.tr.wrap(s,l).scrollIntoView()),!0):!1}}function aj(r,e=null){return function(n,i){let o=!1;for(let a=0;a<n.selection.ranges.length&&!o;a++){let{$from:{pos:s},$to:{pos:l}}=n.selection.ranges[a];n.doc.nodesBetween(s,l,(c,u)=>{if(o)return!1;if(!(!c.isTextblock||c.hasMarkup(r,e)))if(c.type==r)o=!0;else{let d=n.doc.resolve(u),h=d.index();o=d.parent.canReplaceWith(h,h+1,r)}})}if(!o)return!1;if(i){let a=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[s];a.setBlockType(l,c,r,e)}i(a.scrollIntoView())}return!0}}function HR(...r){return function(e,n,i){for(let o=0;o<r.length;o++)if(r[o](e,n,i))return!0;return!1}}HR(Gd,Cne,Ane);HR(Gd,Mne,Rne);HR(Nne,One,Pne,w3e);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function _3e(r,e=null){return function(n,i){let{$from:o,$to:a}=n.selection,s=o.blockRange(a);if(!s)return!1;let l=i?n.tr:null;return A3e(l,s,r,e)?(i&&i(l.scrollIntoView()),!0):!1}}function A3e(r,e,n,i=null){let o=!1,a=e,s=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=s.resolve(e.start-2);a=new Zy(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new Zy(e.$from,s.resolve(e.$to.end(e.depth)),e.depth)),o=!0}let l=AR(a,n,i,e);return l?(r&&D3e(r,e,l,o,n),!0):!1}function D3e(r,e,n,i,o){let a=st.empty;for(let d=n.length-1;d>=0;d--)a=st.from(n[d].type.create(n[d].attrs,a));r.step(new Oo(e.start-(i?2:0),e.end,e.start,e.end,new Et(a,0,0),n.length,!0));let s=0;for(let d=0;d<n.length;d++)n[d].type==o&&(s=d+1);let l=n.length-s,c=e.start+n.length-(i?2:0),u=e.parent;for(let d=e.startIndex,h=e.endIndex,f=!0;d<h;d++,f=!1)!f&&Oc(r.doc,c,l)&&(r.split(c,l),c+=2*l),c+=u.child(d).nodeSize;return r}function M3e(r){return function(e,n){let{$from:i,$to:o}=e.selection,a=i.blockRange(o,s=>s.childCount>0&&s.firstChild.type==r);return a?n?i.node(a.depth-1).type==r?R3e(e,n,r,a):N3e(e,n,a):!0:!1}}function R3e(r,e,n,i){let o=r.tr,a=i.end,s=i.$to.end(i.depth);a<s&&(o.step(new Oo(a-1,s,a,s,new Et(st.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new Zy(o.doc.resolve(i.$from.pos),o.doc.resolve(s),i.depth));const l=J0(i);if(l==null)return!1;o.lift(i,l);let c=o.mapping.map(a,-1)-1;return Vd(o.doc,c)&&o.join(c),e(o.scrollIntoView()),!0}function N3e(r,e,n){let i=r.tr,o=n.parent;for(let m=n.end,b=n.endIndex-1,g=n.startIndex;b>g;b--)m-=o.child(b).nodeSize,i.delete(m-1,m+1);let a=i.doc.resolve(n.start),s=a.nodeAfter;if(i.mapping.map(n.end)!=n.start+a.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,c=n.endIndex==o.childCount,u=a.node(-1),d=a.index(-1);if(!u.canReplace(d+(l?0:1),d+1,s.content.append(c?st.empty:st.from(o))))return!1;let h=a.pos,f=h+s.nodeSize;return i.step(new Oo(h-(l?1:0),f+(c?1:0),h+1,f-1,new Et((l?st.empty:st.from(o.copy(st.empty))).append(c?st.empty:st.from(o.copy(st.empty))),l?0:1,c?0:1),l?0:1)),e(i.scrollIntoView()),!0}function O3e(r){return function(e,n){let{$from:i,$to:o}=e.selection,a=i.blockRange(o,u=>u.childCount>0&&u.firstChild.type==r);if(!a)return!1;let s=a.startIndex;if(s==0)return!1;let l=a.parent,c=l.child(s-1);if(c.type!=r)return!1;if(n){let u=c.lastChild&&c.lastChild.type==l.type,d=st.from(u?r.create():null),h=new Et(st.from(r.create(null,st.from(l.type.create(null,d)))),u?3:1,0),f=a.start,m=a.end;n(e.tr.step(new Oo(f-(u?3:1),m,f,m,h,1,!0)).scrollIntoView())}return!0}}function O5(r){const{state:e,transaction:n}=r;let{selection:i}=n,{doc:o}=n,{storedMarks:a}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return a},get selection(){return i},get doc(){return o},get tr(){return i=n.selection,o=n.doc,a=n.storedMarks,n}}}let P5=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:i}=this,{view:o}=n,{tr:a}=i,s=this.buildProps(a);return Object.fromEntries(Object.entries(e).map(([l,c])=>[l,(...u)=>{const d=c(...u)(s);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(a),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:i,editor:o,state:a}=this,{view:s}=o,l=[],c=!!e,u=e||a.tr,d=()=>(!c&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),l.every(f=>f===!0)),h={...Object.fromEntries(Object.entries(i).map(([f,m])=>[f,(...b)=>{const g=this.buildProps(u,n),v=m(...b)(g);return l.push(v),h}])),run:d};return h}createCan(e){const{rawCommands:n,state:i}=this,o=!1,a=e||i.tr,s=this.buildProps(a,o);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...s,dispatch:void 0})])),chain:()=>this.createChain(a,o)}}buildProps(e,n=!0){const{rawCommands:i,editor:o,state:a}=this,{view:s}=o,l={tr:e,editor:o,view:s,state:O5({state:a,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(i).map(([c,u])=>[c,(...d)=>u(...d)(l)]))}};return l}},P3e=class{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const i=this.callbacks[e];return i&&i.forEach(o=>o.apply(this,n)),this}off(e,n){const i=this.callbacks[e];return i&&(n?this.callbacks[e]=i.filter(o=>o!==n):delete this.callbacks[e]),this}once(e,n){const i=(...o)=>{this.off(e,i),n.apply(this,o)};return this.on(e,i)}removeAllListeners(){this.callbacks={}}};function Rt(r,e,n){return r.config[e]===void 0&&r.parent?Rt(r.parent,e,n):typeof r.config[e]=="function"?r.config[e].bind({...n,parent:r.parent?Rt(r.parent,e,n):null}):r.config[e]}function I5(r){const e=r.filter(o=>o.type==="extension"),n=r.filter(o=>o.type==="node"),i=r.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:i}}function zne(r){const e=[],{nodeExtensions:n,markExtensions:i}=I5(r),o=[...n,...i],a={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return r.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage,extensions:o},c=Rt(s,"addGlobalAttributes",l);c&&c().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([h,f])=>{e.push({type:d,name:h,attribute:{...a,...f}})})})})}),o.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},c=Rt(s,"addAttributes",l);if(!c)return;const u=c();Object.entries(u).forEach(([d,h])=>{const f={...a,...h};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:s.name,name:d,attribute:f})})}),e}function fi(r,e){if(typeof r=="string"){if(!e.nodes[r])throw Error(`There is no node type named '${r}'. Maybe you forgot to add the extension?`);return e.nodes[r]}return r}function en(...r){return r.filter(e=>!!e).reduce((e,n)=>{const i={...e};return Object.entries(n).forEach(([o,a])=>{if(!i[o]){i[o]=a;return}if(o==="class"){const s=a?String(a).split(" "):[],l=i[o]?i[o].split(" "):[],c=s.filter(u=>!l.includes(u));i[o]=[...l,...c].join(" ")}else if(o==="style"){const s=a?a.split(";").map(u=>u.trim()).filter(Boolean):[],l=i[o]?i[o].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,h]=u.split(":").map(f=>f.trim());c.set(d,h)}),s.forEach(u=>{const[d,h]=u.split(":").map(f=>f.trim());c.set(d,h)}),i[o]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else i[o]=a}),i},{})}function V4(r,e){return e.filter(n=>n.type===r.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(r.attrs)||{}:{[n.name]:r.attrs[n.name]}).reduce((n,i)=>en(n,i),{})}function Lne(r){return typeof r=="function"}function on(r,e=void 0,...n){return Lne(r)?e?r.bind(e)(...n):r(...n):r}function I3e(r={}){return Object.keys(r).length===0&&r.constructor===Object}function $3e(r){return typeof r!="string"?r:r.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(r):r==="true"?!0:r==="false"?!1:r}function sj(r,e){return"style"in r?r:{...r,getAttrs:n=>{const i=r.getAttrs?r.getAttrs(n):r.attrs;if(i===!1)return!1;const o=e.reduce((a,s)=>{const l=s.attribute.parseHTML?s.attribute.parseHTML(n):$3e(n.getAttribute(s.name));return l==null?a:{...a,[s.name]:l}},{});return{...i,...o}}}}function lj(r){return Object.fromEntries(Object.entries(r).filter(([e,n])=>e==="attrs"&&I3e(n)?!1:n!=null))}function z3e(r,e){var n;const i=zne(r),{nodeExtensions:o,markExtensions:a}=I5(r),s=(n=o.find(u=>Rt(u,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(o.map(u=>{const d=i.filter(x=>x.type===u.name),h={name:u.name,options:u.options,storage:u.storage,editor:e},f=r.reduce((x,w)=>{const k=Rt(w,"extendNodeSchema",h);return{...x,...k?k(u):{}}},{}),m=lj({...f,content:on(Rt(u,"content",h)),marks:on(Rt(u,"marks",h)),group:on(Rt(u,"group",h)),inline:on(Rt(u,"inline",h)),atom:on(Rt(u,"atom",h)),selectable:on(Rt(u,"selectable",h)),draggable:on(Rt(u,"draggable",h)),code:on(Rt(u,"code",h)),whitespace:on(Rt(u,"whitespace",h)),linebreakReplacement:on(Rt(u,"linebreakReplacement",h)),defining:on(Rt(u,"defining",h)),isolating:on(Rt(u,"isolating",h)),attrs:Object.fromEntries(d.map(x=>{var w;return[x.name,{default:(w=x==null?void 0:x.attribute)===null||w===void 0?void 0:w.default}]}))}),b=on(Rt(u,"parseHTML",h));b&&(m.parseDOM=b.map(x=>sj(x,d)));const g=Rt(u,"renderHTML",h);g&&(m.toDOM=x=>g({node:x,HTMLAttributes:V4(x,d)}));const v=Rt(u,"renderText",h);return v&&(m.toText=v),[u.name,m]})),c=Object.fromEntries(a.map(u=>{const d=i.filter(v=>v.type===u.name),h={name:u.name,options:u.options,storage:u.storage,editor:e},f=r.reduce((v,x)=>{const w=Rt(x,"extendMarkSchema",h);return{...v,...w?w(u):{}}},{}),m=lj({...f,inclusive:on(Rt(u,"inclusive",h)),excludes:on(Rt(u,"excludes",h)),group:on(Rt(u,"group",h)),spanning:on(Rt(u,"spanning",h)),code:on(Rt(u,"code",h)),attrs:Object.fromEntries(d.map(v=>{var x;return[v.name,{default:(x=v==null?void 0:v.attribute)===null||x===void 0?void 0:x.default}]}))}),b=on(Rt(u,"parseHTML",h));b&&(m.parseDOM=b.map(v=>sj(v,d)));const g=Rt(u,"renderHTML",h);return g&&(m.toDOM=v=>g({mark:v,HTMLAttributes:V4(v,d)})),[u.name,m]}));return new mte({topNode:s,nodes:l,marks:c})}function N8(r,e){return e.nodes[r]||e.marks[r]||null}function cj(r,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===r.name):e}function WR(r,e){const n=tv.fromSchema(e).serializeFragment(r),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}const L3e=(r,e=500)=>{let n="";const i=r.parentOffset;return r.parent.nodesBetween(Math.max(0,i-e),i,(o,a,s,l)=>{var c,u;const d=((u=(c=o.type.spec).toText)===null||u===void 0?void 0:u.call(c,{node:o,pos:a,parent:s,index:l}))||o.textContent||"%leaf%";n+=o.isAtom&&!o.isText?d:d.slice(0,Math.max(0,i-a))}),n};function VR(r){return Object.prototype.toString.call(r)==="[object RegExp]"}let $5=class{constructor(e){this.find=e.find,this.handler=e.handler}};const U3e=(r,e)=>{if(VR(e))return e.exec(r);const n=e(r);if(!n)return null;const i=[n.text];return i.index=n.index,i.input=r,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(n.replaceWith)),i};function ow(r){var e;const{editor:n,from:i,to:o,text:a,rules:s,plugin:l}=r,{view:c}=n;if(c.composing)return!1;const u=c.state.doc.resolve(i);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let d=!1;const h=L3e(u)+a;return s.forEach(f=>{if(d)return;const m=U3e(h,f.find);if(!m)return;const b=c.state.tr,g=O5({state:c.state,transaction:b}),v={from:i-(m[0].length-a.length),to:o},{commands:x,chain:w,can:k}=new P5({editor:n,state:g});f.handler({state:g,range:v,match:m,commands:x,chain:w,can:k})===null||!b.steps.length||(b.setMeta(l,{transform:b,from:i,to:o,text:a}),c.dispatch(b),d=!0)}),d}function B3e(r){const{editor:e,rules:n}=r,i=new $n({state:{init(){return null},apply(o,a,s){const l=o.getMeta(i);if(l)return l;const c=o.getMeta("applyInputRules");return c&&setTimeout(()=>{let{text:u}=c;typeof u=="string"?u=u:u=WR(st.from(u),s.schema);const{from:d}=c,h=d+u.length;ow({editor:e,from:d,to:h,text:u,rules:n,plugin:i})}),o.selectionSet||o.docChanged?null:a}},props:{handleTextInput(o,a,s,l){return ow({editor:e,from:a,to:s,text:l,rules:n,plugin:i})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:a}=o.state.selection;a&&ow({editor:e,from:a.pos,to:a.pos,text:"",rules:n,plugin:i})}),!1)},handleKeyDown(o,a){if(a.key!=="Enter")return!1;const{$cursor:s}=o.state.selection;return s?ow({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:i}):!1}},isInputRules:!0});return i}function j3e(r){return Object.prototype.toString.call(r).slice(8,-1)}function aw(r){return j3e(r)!=="Object"?!1:r.constructor===Object&&Object.getPrototypeOf(r)===Object.prototype}function z5(r,e){const n={...r};return aw(r)&&aw(e)&&Object.keys(e).forEach(i=>{aw(e[i])&&aw(r[i])?n[i]=z5(r[i],e[i]):n[i]=e[i]}),n}let Os=class YA{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=on(Rt(this,"addOptions",{name:this.name}))),this.storage=on(Rt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new YA(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>z5(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new YA(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=on(Rt(n,"addOptions",{name:n.name})),n.storage=on(Rt(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:i}=e.state,o=e.state.selection.$from;if(o.pos===o.end()){const a=o.marks();if(!a.find(l=>(l==null?void 0:l.type.name)===n.name))return!1;const s=a.find(l=>(l==null?void 0:l.type.name)===n.name);return s&&i.removeStoredMark(s),i.insertText(" ",o.pos),e.view.dispatch(i),!0}return!1}};function ib(r){return typeof r=="number"}let Une=class{constructor(e){this.find=e.find,this.handler=e.handler}};const F3e=(r,e,n)=>{if(VR(e))return[...r.matchAll(e)];const i=e(r,n);return i?i.map(o=>{const a=[o.text];return a.index=o.index,a.input=r,a.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(o.replaceWith)),a}):[]};function H3e(r){const{editor:e,state:n,from:i,to:o,rule:a,pasteEvent:s,dropEvent:l}=r,{commands:c,chain:u,can:d}=new P5({editor:e,state:n}),h=[];return n.doc.nodesBetween(i,o,(f,m)=>{if(!f.isTextblock||f.type.spec.code)return;const b=Math.max(i,m),g=Math.min(o,m+f.content.size),v=f.textBetween(b-m,g-m,void 0,"");F3e(v,a.find,s).forEach(x=>{if(x.index===void 0)return;const w=b+x.index+1,k=w+x[0].length,T={from:n.tr.mapping.map(w),to:n.tr.mapping.map(k)},_=a.handler({state:n,range:T,match:x,commands:c,chain:u,can:d,pasteEvent:s,dropEvent:l});h.push(_)})}),h.every(f=>f!==null)}let sw=null;const W3e=r=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",r),n};function V3e(r){const{editor:e,rules:n}=r;let i=null,o=!1,a=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:u,from:d,to:h,rule:f,pasteEvt:m})=>{const b=u.tr,g=O5({state:u,transaction:b});if(!(!H3e({editor:e,state:g,from:Math.max(d-1,0),to:h.b-1,rule:f,pasteEvent:m,dropEvent:l})||!b.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,b}};return n.map(u=>new $n({view(d){const h=m=>{var b;i=!((b=d.dom.parentElement)===null||b===void 0)&&b.contains(m.target)?d.dom.parentElement:null,i&&(sw=e)},f=()=>{sw&&(sw=null)};return window.addEventListener("dragstart",h),window.addEventListener("dragend",f),{destroy(){window.removeEventListener("dragstart",h),window.removeEventListener("dragend",f)}}},props:{handleDOMEvents:{drop:(d,h)=>{if(a=i===d.dom.parentElement,l=h,!a){const f=sw;f&&setTimeout(()=>{const m=f.state.selection;m&&f.commands.deleteRange({from:m.from,to:m.to})},10)}return!1},paste:(d,h)=>{var f;const m=(f=h.clipboardData)===null||f===void 0?void 0:f.getData("text/html");return s=h,o=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(d,h,f)=>{const m=d[0],b=m.getMeta("uiEvent")==="paste"&&!o,g=m.getMeta("uiEvent")==="drop"&&!a,v=m.getMeta("applyPasteRules"),x=!!v;if(!b&&!g&&!x)return;if(x){let{text:T}=v;typeof T=="string"?T=T:T=WR(st.from(T),f.schema);const{from:_}=v,D=_+T.length,I=W3e(T);return c({rule:u,state:f,from:_,to:{b:D},pasteEvt:I})}const w=h.doc.content.findDiffStart(f.doc.content),k=h.doc.content.findDiffEnd(f.doc.content);if(!(!ib(w)||!k||w===k.b))return c({rule:u,state:f,from:w,to:k,pasteEvt:s})}}))}function q3e(r){const e=r.filter((n,i)=>r.indexOf(n)!==i);return Array.from(new Set(e))}let G3e=class fy{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=fy.resolve(e),this.schema=z3e(this.extensions,n),this.setupExtensions()}static resolve(e){const n=fy.sort(fy.flatten(e)),i=q3e(n.map(o=>o.name));return i.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${i.map(o=>`'${o}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const i={name:n.name,options:n.options,storage:n.storage},o=Rt(n,"addExtensions",i);return o?[n,...this.flatten(o())]:n}).flat(10)}static sort(e){return e.sort((n,i)=>{const o=Rt(n,"priority")||100,a=Rt(i,"priority")||100;return o>a?-1:o<a?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const i={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:N8(n.name,this.schema)},o=Rt(n,"addCommands",i);return o?{...e,...o()}:e},{})}get plugins(){const{editor:e}=this,n=fy.sort([...this.extensions].reverse()),i=[],o=[],a=n.map(s=>{const l={name:s.name,options:s.options,storage:s.storage,editor:e,type:N8(s.name,this.schema)},c=[],u=Rt(s,"addKeyboardShortcuts",l);let d={};if(s.type==="mark"&&Rt(s,"exitable",l)&&(d.ArrowRight=()=>Os.handleExit({editor:e,mark:s})),u){const g=Object.fromEntries(Object.entries(u()).map(([v,x])=>[v,()=>x({editor:e})]));d={...d,...g}}const h=f3e(d);c.push(h);const f=Rt(s,"addInputRules",l);cj(s,e.options.enableInputRules)&&f&&i.push(...f());const m=Rt(s,"addPasteRules",l);cj(s,e.options.enablePasteRules)&&m&&o.push(...m());const b=Rt(s,"addProseMirrorPlugins",l);if(b){const g=b();c.push(...g)}return c}).flat();return[B3e({editor:e,rules:i}),...V3e({editor:e,rules:o}),...a]}get attributes(){return zne(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=I5(this.extensions);return Object.fromEntries(n.filter(i=>!!Rt(i,"addNodeView")).map(i=>{const o=this.attributes.filter(c=>c.type===i.name),a={name:i.name,options:i.options,storage:i.storage,editor:e,type:fi(i.name,this.schema)},s=Rt(i,"addNodeView",a);if(!s)return[];const l=(c,u,d,h,f)=>{const m=V4(c,o);return s()({node:c,view:u,getPos:d,decorations:h,innerDecorations:f,editor:e,extension:i,HTMLAttributes:m})};return[i.name,l]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const i={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:N8(e.name,this.schema)};e.type==="mark"&&(!((n=on(Rt(e,"keepOnSplit",i)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const o=Rt(e,"onBeforeCreate",i),a=Rt(e,"onCreate",i),s=Rt(e,"onUpdate",i),l=Rt(e,"onSelectionUpdate",i),c=Rt(e,"onTransaction",i),u=Rt(e,"onFocus",i),d=Rt(e,"onBlur",i),h=Rt(e,"onDestroy",i);o&&this.editor.on("beforeCreate",o),a&&this.editor.on("create",a),s&&this.editor.on("update",s),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),u&&this.editor.on("focus",u),d&&this.editor.on("blur",d),h&&this.editor.on("destroy",h)})}},Sn=class ZA{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=on(Rt(this,"addOptions",{name:this.name}))),this.storage=on(Rt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ZA(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>z5(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new ZA({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=on(Rt(n,"addOptions",{name:n.name})),n.storage=on(Rt(n,"addStorage",{name:n.name,options:n.options})),n}};function Bne(r,e,n){const{from:i,to:o}=e,{blockSeparator:a=`

`,textSerializers:s={}}=n||{};let l="";return r.nodesBetween(i,o,(c,u,d,h)=>{var f;c.isBlock&&u>i&&(l+=a);const m=s==null?void 0:s[c.type.name];if(m)return d&&(l+=m({node:c,pos:u,parent:d,index:h,range:e})),!1;c.isText&&(l+=(f=c==null?void 0:c.text)===null||f===void 0?void 0:f.slice(Math.max(i,u)-u,o-u))}),l}function jne(r){return Object.fromEntries(Object.entries(r.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const K3e=Sn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new $n({key:new Ln("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:r}=this,{state:e,schema:n}=r,{doc:i,selection:o}=e,{ranges:a}=o,s=Math.min(...a.map(u=>u.$from.pos)),l=Math.max(...a.map(u=>u.$to.pos)),c=jne(n);return Bne(i,{from:s,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),X3e=()=>({editor:r,view:e})=>(requestAnimationFrame(()=>{var n;r.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),Y3e=(r=!1)=>({commands:e})=>e.setContent("",r),Z3e=()=>({state:r,tr:e,dispatch:n})=>{const{selection:i}=e,{ranges:o}=i;return n&&o.forEach(({$from:a,$to:s})=>{r.doc.nodesBetween(a.pos,s.pos,(l,c)=>{if(l.type.isText)return;const{doc:u,mapping:d}=e,h=u.resolve(d.map(c)),f=u.resolve(d.map(c+l.nodeSize)),m=h.blockRange(f);if(!m)return;const b=J0(m);if(l.type.isTextblock){const{defaultType:g}=h.parent.contentMatchAt(h.index());e.setNodeMarkup(m.start,g)}(b||b===0)&&e.lift(m,b)})}),!0},J3e=r=>e=>r(e),Q3e=()=>({state:r,dispatch:e})=>One(r,e),e5e=(r,e)=>({editor:n,tr:i})=>{const{state:o}=n,a=o.doc.slice(r.from,r.to);i.deleteRange(r.from,r.to);const s=i.mapping.map(e);return i.insert(s,a.content),i.setSelection(new Ht(i.doc.resolve(s-1))),!0},t5e=()=>({tr:r,dispatch:e})=>{const{selection:n}=r,i=n.$anchor.node();if(i.content.size>0)return!1;const o=r.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===i.type){if(e){const s=o.before(a),l=o.after(a);r.delete(s,l).scrollIntoView()}return!0}return!1},n5e=r=>({tr:e,state:n,dispatch:i})=>{const o=fi(r,n.schema),a=e.selection.$anchor;for(let s=a.depth;s>0;s-=1)if(a.node(s).type===o){if(i){const l=a.before(s),c=a.after(s);e.delete(l,c).scrollIntoView()}return!0}return!1},r5e=r=>({tr:e,dispatch:n})=>{const{from:i,to:o}=r;return n&&e.delete(i,o),!0},i5e=()=>({state:r,dispatch:e})=>Gd(r,e),o5e=()=>({commands:r})=>r.keyboardShortcut("Enter"),a5e=()=>({state:r,dispatch:e})=>v3e(r,e);function q4(r,e,n={strict:!0}){const i=Object.keys(e);return i.length?i.every(o=>n.strict?e[o]===r[o]:VR(e[o])?e[o].test(r[o]):e[o]===r[o]):!0}function Fne(r,e,n={}){return r.find(i=>i.type===e&&q4(Object.fromEntries(Object.keys(n).map(o=>[o,i.attrs[o]])),n))}function uj(r,e,n={}){return!!Fne(r,e,n)}function L5(r,e,n){var i;if(!r||!e)return;let o=r.parent.childAfter(r.parentOffset);if((!o.node||!o.node.marks.some(u=>u.type===e))&&(o=r.parent.childBefore(r.parentOffset)),!o.node||!o.node.marks.some(u=>u.type===e)||(n=n||((i=o.node.marks[0])===null||i===void 0?void 0:i.attrs),!Fne([...o.node.marks],e,n)))return;let a=o.index,s=r.start()+o.offset,l=a+1,c=s+o.node.nodeSize;for(;a>0&&uj([...r.parent.child(a-1).marks],e,n);)a-=1,s-=r.parent.child(a).nodeSize;for(;l<r.parent.childCount&&uj([...r.parent.child(l).marks],e,n);)c+=r.parent.child(l).nodeSize,l+=1;return{from:s,to:c}}function Kd(r,e){if(typeof r=="string"){if(!e.marks[r])throw Error(`There is no mark type named '${r}'. Maybe you forgot to add the extension?`);return e.marks[r]}return r}const s5e=(r,e={})=>({tr:n,state:i,dispatch:o})=>{const a=Kd(r,i.schema),{doc:s,selection:l}=n,{$from:c,from:u,to:d}=l;if(o){const h=L5(c,a,e);if(h&&h.from<=u&&h.to>=d){const f=Ht.create(s,h.from,h.to);n.setSelection(f)}}return!0},l5e=r=>e=>{const n=typeof r=="function"?r(e):r;for(let i=0;i<n.length;i+=1)if(n[i](e))return!0;return!1};function qR(r){return r instanceof Ht}function kc(r=0,e=0,n=0){return Math.min(Math.max(r,e),n)}function Hne(r,e=null){if(!e)return null;const n=Xt.atStart(r),i=Xt.atEnd(r);if(e==="start"||e===!0)return n;if(e==="end")return i;const o=n.from,a=i.to;return e==="all"?Ht.create(r,kc(0,o,a),kc(r.content.size,o,a)):Ht.create(r,kc(e,o,a),kc(e,o,a))}function Wne(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function U5(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const c5e=(r=null,e={})=>({editor:n,view:i,tr:o,dispatch:a})=>{e={scrollIntoView:!0,...e};const s=()=>{(U5()||Wne())&&i.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(i.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(i.hasFocus()&&r===null||r===!1)return!0;if(a&&r===null&&!qR(n.state.selection))return s(),!0;const l=Hne(o.doc,r)||n.state.selection,c=n.state.selection.eq(l);return a&&(c||o.setSelection(l),c&&o.storedMarks&&o.setStoredMarks(o.storedMarks),s()),!0},u5e=(r,e)=>n=>r.every((i,o)=>e(i,{...n,index:o})),d5e=(r,e)=>({tr:n,commands:i})=>i.insertContentAt({from:n.selection.from,to:n.selection.to},r,e),Vne=r=>{const e=r.childNodes;for(let n=e.length-1;n>=0;n-=1){const i=e[n];i.nodeType===3&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?r.removeChild(i):i.nodeType===1&&Vne(i)}return r};function lw(r){const e=`<body>${r}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return Vne(n)}function G4(r,e,n){if(r instanceof Nc||r instanceof st)return r;n={slice:!0,parseOptions:{},...n};const i=typeof r=="object"&&r!==null,o=typeof r=="string";if(i)try{if(Array.isArray(r)&&r.length>0)return st.fromArray(r.map(s=>e.nodeFromJSON(s)));const a=e.nodeFromJSON(r);return n.errorOnInvalidContent&&a.check(),a}catch(a){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",r,"Error:",a),G4("",e,n)}if(o){if(n.errorOnInvalidContent){let s=!1,l="";const c=new mte({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(s=!0,l=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?Ay.fromSchema(c).parseSlice(lw(r),n.parseOptions):Ay.fromSchema(c).parse(lw(r),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const a=Ay.fromSchema(e);return n.slice?a.parseSlice(lw(r),n.parseOptions).content:a.parse(lw(r),n.parseOptions)}return G4("",e,n)}function h5e(r,e,n){const i=r.steps.length-1;if(i<e)return;const o=r.steps[i];if(!(o instanceof As||o instanceof Oo))return;const a=r.mapping.maps[i];let s=0;a.forEach((l,c,u,d)=>{s===0&&(s=d)}),r.setSelection(Xt.near(r.doc.resolve(s),n))}const f5e=r=>!("type"in r),p5e=(r,e,n)=>({tr:i,dispatch:o,editor:a})=>{var s;if(o){n={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;try{l=G4(e,a.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(s=n.errorOnInvalidContent)!==null&&s!==void 0?s:a.options.enableContentCheck})}catch(m){return a.emit("contentError",{editor:a,error:m,disableCollaboration:()=>{a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}}),!1}let{from:c,to:u}=typeof r=="number"?{from:r,to:r}:{from:r.from,to:r.to},d=!0,h=!0;if((f5e(l)?l:[l]).forEach(m=>{m.check(),d=d?m.isText&&m.marks.length===0:!1,h=h?m.isBlock:!1}),c===u&&h){const{parent:m}=i.doc.resolve(c);m.isTextblock&&!m.type.spec.code&&!m.childCount&&(c-=1,u+=1)}let f;if(d){if(Array.isArray(e))f=e.map(m=>m.text||"").join("");else if(e instanceof st){let m="";e.forEach(b=>{b.text&&(m+=b.text)}),f=m}else typeof e=="object"&&e&&e.text?f=e.text:f=e;i.insertText(f,c,u)}else f=l,i.replaceWith(c,u,f);n.updateSelection&&h5e(i,i.steps.length-1,-1),n.applyInputRules&&i.setMeta("applyInputRules",{from:c,text:f}),n.applyPasteRules&&i.setMeta("applyPasteRules",{from:c,text:f})}return!0},m5e=()=>({state:r,dispatch:e})=>g3e(r,e),g5e=()=>({state:r,dispatch:e})=>y3e(r,e),y5e=()=>({state:r,dispatch:e})=>Cne(r,e),b5e=()=>({state:r,dispatch:e})=>Mne(r,e),v5e=()=>({state:r,dispatch:e,tr:n})=>{try{const i=D5(r.doc,r.selection.$from.pos,-1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},x5e=()=>({state:r,dispatch:e,tr:n})=>{try{const i=D5(r.doc,r.selection.$from.pos,1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},w5e=()=>({state:r,dispatch:e})=>p3e(r,e),S5e=()=>({state:r,dispatch:e})=>m3e(r,e);function qne(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function k5e(r){const e=r.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let i,o,a,s;for(let l=0;l<e.length-1;l+=1){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))s=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))a=!0;else if(/^mod$/i.test(c))U5()||qne()?s=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return i&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),a&&(n=`Shift-${n}`),n}const T5e=r=>({editor:e,view:n,tr:i,dispatch:o})=>{const a=k5e(r).split(/-(?!$)/),s=a.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,l))});return c==null||c.steps.forEach(u=>{const d=u.map(i.mapping);d&&o&&i.maybeStep(d)}),!0};function ob(r,e,n={}){const{from:i,to:o,empty:a}=r.selection,s=e?fi(e,r.schema):null,l=[];r.doc.nodesBetween(i,o,(d,h)=>{if(d.isText)return;const f=Math.max(i,h),m=Math.min(o,h+d.nodeSize);l.push({node:d,from:f,to:m})});const c=o-i,u=l.filter(d=>s?s.name===d.node.type.name:!0).filter(d=>q4(d.node.attrs,n,{strict:!1}));return a?!!u.length:u.reduce((d,h)=>d+h.to-h.from,0)>=c}const E5e=(r,e={})=>({state:n,dispatch:i})=>{const o=fi(r,n.schema);return ob(n,o,e)?b3e(n,i):!1},C5e=()=>({state:r,dispatch:e})=>Pne(r,e),_5e=r=>({state:e,dispatch:n})=>{const i=fi(r,e.schema);return M3e(i)(e,n)},A5e=()=>({state:r,dispatch:e})=>Nne(r,e);function B5(r,e){return e.nodes[r]?"node":e.marks[r]?"mark":null}function dj(r,e){const n=typeof e=="string"?[e]:e;return Object.keys(r).reduce((i,o)=>(n.includes(o)||(i[o]=r[o]),i),{})}const D5e=(r,e)=>({tr:n,state:i,dispatch:o})=>{let a=null,s=null;const l=B5(typeof r=="string"?r:r.name,i.schema);return l?(l==="node"&&(a=fi(r,i.schema)),l==="mark"&&(s=Kd(r,i.schema)),o&&n.selection.ranges.forEach(c=>{i.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{a&&a===u.type&&n.setNodeMarkup(d,void 0,dj(u.attrs,e)),s&&u.marks.length&&u.marks.forEach(h=>{s===h.type&&n.addMark(d,d+u.nodeSize,s.create(dj(h.attrs,e)))})})}),!0):!1},M5e=()=>({tr:r,dispatch:e})=>(e&&r.scrollIntoView(),!0),R5e=()=>({tr:r,dispatch:e})=>{if(e){const n=new Cs(r.doc);r.setSelection(n)}return!0},N5e=()=>({state:r,dispatch:e})=>Ane(r,e),O5e=()=>({state:r,dispatch:e})=>Rne(r,e),P5e=()=>({state:r,dispatch:e})=>S3e(r,e),I5e=()=>({state:r,dispatch:e})=>E3e(r,e),$5e=()=>({state:r,dispatch:e})=>T3e(r,e);function JA(r,e,n={},i={}){return G4(r,e,{slice:!1,parseOptions:n,errorOnInvalidContent:i.errorOnInvalidContent})}const z5e=(r,e=!1,n={},i={})=>({editor:o,tr:a,dispatch:s,commands:l})=>{var c,u;const{doc:d}=a;if(n.preserveWhitespace!=="full"){const h=JA(r,o.schema,n,{errorOnInvalidContent:(c=i.errorOnInvalidContent)!==null&&c!==void 0?c:o.options.enableContentCheck});return s&&a.replaceWith(0,d.content.size,h).setMeta("preventUpdate",!e),!0}return s&&a.setMeta("preventUpdate",!e),l.insertContentAt({from:0,to:d.content.size},r,{parseOptions:n,errorOnInvalidContent:(u=i.errorOnInvalidContent)!==null&&u!==void 0?u:o.options.enableContentCheck})};function Gne(r,e){const n=Kd(e,r.schema),{from:i,to:o,empty:a}=r.selection,s=[];a?(r.storedMarks&&s.push(...r.storedMarks),s.push(...r.selection.$head.marks())):r.doc.nodesBetween(i,o,c=>{s.push(...c.marks)});const l=s.find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function L5e(r,e){const n=new DR(r);return e.forEach(i=>{i.steps.forEach(o=>{n.step(o)})}),n}function U5e(r){for(let e=0;e<r.edgeCount;e+=1){const{type:n}=r.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function B5e(r,e,n){const i=[];return r.nodesBetween(e.from,e.to,(o,a)=>{n(o)&&i.push({node:o,pos:a})}),i}function Kne(r,e){for(let n=r.depth;n>0;n-=1){const i=r.node(n);if(e(i))return{pos:n>0?r.before(n):0,start:r.start(n),depth:n,node:i}}}function Uf(r){return e=>Kne(e.$from,r)}function j5e(r,e){const n={from:0,to:r.content.size};return Bne(r,n,e)}function F5e(r,e){const n=fi(e,r.schema),{from:i,to:o}=r.selection,a=[];r.doc.nodesBetween(i,o,l=>{a.push(l)});const s=a.reverse().find(l=>l.type.name===n.name);return s?{...s.attrs}:{}}function Xne(r,e){const n=B5(typeof e=="string"?e:e.name,r.schema);return n==="node"?F5e(r,e):n==="mark"?Gne(r,e):{}}function H5e(r,e=JSON.stringify){const n={};return r.filter(i=>{const o=e(i);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function W5e(r){const e=H5e(r);return e.length===1?e:e.filter((n,i)=>!e.filter((o,a)=>a!==i).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function V5e(r){const{mapping:e,steps:n}=r,i=[];return e.maps.forEach((o,a)=>{const s=[];if(o.ranges.length)o.forEach((l,c)=>{s.push({from:l,to:c})});else{const{from:l,to:c}=n[a];if(l===void 0||c===void 0)return;s.push({from:l,to:c})}s.forEach(({from:l,to:c})=>{const u=e.slice(a).map(l,-1),d=e.slice(a).map(c),h=e.invert().map(u,-1),f=e.invert().map(d);i.push({oldRange:{from:h,to:f},newRange:{from:u,to:d}})})}),W5e(i)}function GR(r,e,n){const i=[];return r===e?n.resolve(r).marks().forEach(o=>{const a=n.resolve(r),s=L5(a,o.type);s&&i.push({mark:o,...s})}):n.nodesBetween(r,e,(o,a)=>{!o||(o==null?void 0:o.nodeSize)===void 0||i.push(...o.marks.map(s=>({from:a,to:a+o.nodeSize,mark:s})))}),i}function t4(r,e,n){return Object.fromEntries(Object.entries(n).filter(([i])=>{const o=r.find(a=>a.type===e&&a.name===i);return o?o.attribute.keepOnSplit:!1}))}function QA(r,e,n={}){const{empty:i,ranges:o}=r.selection,a=e?Kd(e,r.schema):null;if(i)return!!(r.storedMarks||r.selection.$from.marks()).filter(d=>a?a.name===d.type.name:!0).find(d=>q4(d.attrs,n,{strict:!1}));let s=0;const l=[];if(o.forEach(({$from:d,$to:h})=>{const f=d.pos,m=h.pos;r.doc.nodesBetween(f,m,(b,g)=>{if(!b.isText&&!b.marks.length)return;const v=Math.max(f,g),x=Math.min(m,g+b.nodeSize),w=x-v;s+=w,l.push(...b.marks.map(k=>({mark:k,from:v,to:x})))})}),s===0)return!1;const c=l.filter(d=>a?a.name===d.mark.type.name:!0).filter(d=>q4(d.mark.attrs,n,{strict:!1})).reduce((d,h)=>d+h.to-h.from,0),u=l.filter(d=>a?d.mark.type!==a&&d.mark.type.excludes(a):!0).reduce((d,h)=>d+h.to-h.from,0);return(c>0?c+u:c)>=s}function Yne(r,e,n={}){if(!e)return ob(r,null,n)||QA(r,null,n);const i=B5(e,r.schema);return i==="node"?ob(r,e,n):i==="mark"?QA(r,e,n):!1}function eD(r,e){const{nodeExtensions:n}=I5(e),i=n.find(s=>s.name===r);if(!i)return!1;const o={name:i.name,options:i.options,storage:i.storage},a=on(Rt(i,"group",o));return typeof a!="string"?!1:a.split(" ").includes("list")}function j5(r,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var i;if(n){if(r.type.name==="hardBreak")return!0;if(r.isText)return/^\s*$/m.test((i=r.text)!==null&&i!==void 0?i:"")}if(r.isText)return!r.text;if(r.isAtom||r.isLeaf)return!1;if(r.content.childCount===0)return!0;if(e){let o=!0;return r.content.forEach(a=>{o!==!1&&(j5(a,{ignoreWhitespace:n,checkChildren:e})||(o=!1))}),o}return!1}function Zne(r){return r instanceof Gt}function q5e(r,e,n){const i=r.state.doc.content.size,o=kc(e,0,i),a=kc(n,0,i),s=r.coordsAtPos(o),l=r.coordsAtPos(a,-1),c=Math.min(s.top,l.top),u=Math.max(s.bottom,l.bottom),d=Math.min(s.left,l.left),h=Math.max(s.right,l.right),f=h-d,m=u-c,b={top:c,bottom:u,left:d,right:h,width:f,height:m,x:d,y:c};return{...b,toJSON:()=>b}}function G5e(r,e,n){var i;const{selection:o}=e;let a=null;if(qR(o)&&(a=o.$cursor),a){const l=(i=r.storedMarks)!==null&&i!==void 0?i:a.marks();return!!n.isInSet(l)||!l.some(c=>c.type.excludes(n))}const{ranges:s}=o;return s.some(({$from:l,$to:c})=>{let u=l.depth===0?r.doc.inlineContent&&r.doc.type.allowsMarkType(n):!1;return r.doc.nodesBetween(l.pos,c.pos,(d,h,f)=>{if(u)return!1;if(d.isInline){const m=!f||f.type.allowsMarkType(n),b=!!n.isInSet(d.marks)||!d.marks.some(g=>g.type.excludes(n));u=m&&b}return!u}),u})}const K5e=(r,e={})=>({tr:n,state:i,dispatch:o})=>{const{selection:a}=n,{empty:s,ranges:l}=a,c=Kd(r,i.schema);if(o)if(s){const u=Gne(i,c);n.addStoredMark(c.create({...u,...e}))}else l.forEach(u=>{const d=u.$from.pos,h=u.$to.pos;i.doc.nodesBetween(d,h,(f,m)=>{const b=Math.max(m,d),g=Math.min(m+f.nodeSize,h);f.marks.find(v=>v.type===c)?f.marks.forEach(v=>{c===v.type&&n.addMark(b,g,c.create({...v.attrs,...e}))}):n.addMark(b,g,c.create(e))})});return G5e(i,n,c)},X5e=(r,e)=>({tr:n})=>(n.setMeta(r,e),!0),Y5e=(r,e={})=>({state:n,dispatch:i,chain:o})=>{const a=fi(r,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),a.isTextblock?o().command(({commands:l})=>aj(a,{...s,...e})(n)?!0:l.clearNodes()).command(({state:l})=>aj(a,{...s,...e})(l,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Z5e=r=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,o=kc(r,0,i.content.size),a=Gt.create(i,o);e.setSelection(a)}return!0},J5e=r=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,{from:o,to:a}=typeof r=="number"?{from:r,to:r}:r,s=Ht.atStart(i).from,l=Ht.atEnd(i).to,c=kc(o,s,l),u=kc(a,s,l),d=Ht.create(i,c,u);e.setSelection(d)}return!0},Q5e=r=>({state:e,dispatch:n})=>{const i=fi(r,e.schema);return O3e(i)(e,n)};function hj(r,e){const n=r.storedMarks||r.selection.$to.parentOffset&&r.selection.$from.marks();if(n){const i=n.filter(o=>e==null?void 0:e.includes(o.type.name));r.tr.ensureMarks(i)}}const eSe=({keepMarks:r=!0}={})=>({tr:e,state:n,dispatch:i,editor:o})=>{const{selection:a,doc:s}=e,{$from:l,$to:c}=a,u=o.extensionManager.attributes,d=t4(u,l.node().type.name,l.node().attrs);if(a instanceof Gt&&a.node.isBlock)return!l.parentOffset||!Oc(s,l.pos)?!1:(i&&(r&&hj(n,o.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const h=c.parentOffset===c.parent.content.size,f=l.depth===0?void 0:U5e(l.node(-1).contentMatchAt(l.indexAfter(-1)));let m=h&&f?[{type:f,attrs:d}]:void 0,b=Oc(e.doc,e.mapping.map(l.pos),1,m);if(!m&&!b&&Oc(e.doc,e.mapping.map(l.pos),1,f?[{type:f}]:void 0)&&(b=!0,m=f?[{type:f,attrs:d}]:void 0),i){if(b&&(a instanceof Ht&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,m),f&&!h&&!l.parentOffset&&l.parent.type!==f)){const g=e.mapping.map(l.before()),v=e.doc.resolve(g);l.node(-1).canReplaceWith(v.index(),v.index()+1,f)&&e.setNodeMarkup(e.mapping.map(l.before()),f)}r&&hj(n,o.extensionManager.splittableMarks),e.scrollIntoView()}return b},tSe=(r,e={})=>({tr:n,state:i,dispatch:o,editor:a})=>{var s;const l=fi(r,i.schema),{$from:c,$to:u}=i.selection,d=i.selection.node;if(d&&d.isBlock||c.depth<2||!c.sameParent(u))return!1;const h=c.node(-1);if(h.type!==l)return!1;const f=a.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(o){let x=st.empty;const w=c.index(-1)?1:c.index(-2)?2:3;for(let L=c.depth-w;L>=c.depth-3;L-=1)x=st.from(c.node(L).copy(x));const k=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,T={...t4(f,c.node().type.name,c.node().attrs),...e},_=((s=l.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(T))||void 0;x=x.append(st.from(l.createAndFill(null,_)||void 0));const D=c.before(c.depth-(w-1));n.replace(D,c.after(-k),new Et(x,4-w,0));let I=-1;n.doc.nodesBetween(D,n.doc.content.size,(L,O)=>{if(I>-1)return!1;L.isTextblock&&L.content.size===0&&(I=O+1)}),I>-1&&n.setSelection(Ht.near(n.doc.resolve(I))),n.scrollIntoView()}return!0}const m=u.pos===c.end()?h.contentMatchAt(0).defaultType:null,b={...t4(f,h.type.name,h.attrs),...e},g={...t4(f,c.node().type.name,c.node().attrs),...e};n.delete(c.pos,u.pos);const v=m?[{type:l,attrs:b},{type:m,attrs:g}]:[{type:l,attrs:b}];if(!Oc(n.doc,c.pos,2))return!1;if(o){const{selection:x,storedMarks:w}=i,{splittableMarks:k}=a.extensionManager,T=w||x.$to.parentOffset&&x.$from.marks();if(n.split(c.pos,2,v).scrollIntoView(),!T||!o)return!0;const _=T.filter(D=>k.includes(D.type.name));n.ensureMarks(_)}return!0},O8=(r,e)=>{const n=Uf(a=>a.type===e)(r.selection);if(!n)return!0;const i=r.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(i===void 0)return!0;const o=r.doc.nodeAt(i);return n.node.type===(o==null?void 0:o.type)&&Vd(r.doc,n.pos)&&r.join(n.pos),!0},P8=(r,e)=>{const n=Uf(a=>a.type===e)(r.selection);if(!n)return!0;const i=r.doc.resolve(n.start).after(n.depth);if(i===void 0)return!0;const o=r.doc.nodeAt(i);return n.node.type===(o==null?void 0:o.type)&&Vd(r.doc,i)&&r.join(i),!0},nSe=(r,e,n,i={})=>({editor:o,tr:a,state:s,dispatch:l,chain:c,commands:u,can:d})=>{const{extensions:h,splittableMarks:f}=o.extensionManager,m=fi(r,s.schema),b=fi(e,s.schema),{selection:g,storedMarks:v}=s,{$from:x,$to:w}=g,k=x.blockRange(w),T=v||g.$to.parentOffset&&g.$from.marks();if(!k)return!1;const _=Uf(D=>eD(D.type.name,h))(g);if(k.depth>=1&&_&&k.depth-_.depth<=1){if(_.node.type===m)return u.liftListItem(b);if(eD(_.node.type.name,h)&&m.validContent(_.node.content)&&l)return c().command(()=>(a.setNodeMarkup(_.pos,m),!0)).command(()=>O8(a,m)).command(()=>P8(a,m)).run()}return!n||!T||!l?c().command(()=>d().wrapInList(m,i)?!0:u.clearNodes()).wrapInList(m,i).command(()=>O8(a,m)).command(()=>P8(a,m)).run():c().command(()=>{const D=d().wrapInList(m,i),I=T.filter(L=>f.includes(L.type.name));return a.ensureMarks(I),D?!0:u.clearNodes()}).wrapInList(m,i).command(()=>O8(a,m)).command(()=>P8(a,m)).run()},rSe=(r,e={},n={})=>({state:i,commands:o})=>{const{extendEmptyMarkRange:a=!1}=n,s=Kd(r,i.schema);return QA(i,s,e)?o.unsetMark(s,{extendEmptyMarkRange:a}):o.setMark(s,e)},iSe=(r,e,n={})=>({state:i,commands:o})=>{const a=fi(r,i.schema),s=fi(e,i.schema),l=ob(i,a,n);let c;return i.selection.$anchor.sameParent(i.selection.$head)&&(c=i.selection.$anchor.parent.attrs),l?o.setNode(s,c):o.setNode(a,{...c,...n})},oSe=(r,e={})=>({state:n,commands:i})=>{const o=fi(r,n.schema);return ob(n,o,e)?i.lift(o):i.wrapIn(o,e)},aSe=()=>({state:r,dispatch:e})=>{const n=r.plugins;for(let i=0;i<n.length;i+=1){const o=n[i];let a;if(o.spec.isInputRules&&(a=o.getState(r))){if(e){const s=r.tr,l=a.transform;for(let c=l.steps.length-1;c>=0;c-=1)s.step(l.steps[c].invert(l.docs[c]));if(a.text){const c=s.doc.resolve(a.from).marks();s.replaceWith(a.from,a.to,r.schema.text(a.text,c))}else s.delete(a.from,a.to)}return!0}}return!1},sSe=()=>({tr:r,dispatch:e})=>{const{selection:n}=r,{empty:i,ranges:o}=n;return i||e&&o.forEach(a=>{r.removeMark(a.$from.pos,a.$to.pos)}),!0},lSe=(r,e={})=>({tr:n,state:i,dispatch:o})=>{var a;const{extendEmptyMarkRange:s=!1}=e,{selection:l}=n,c=Kd(r,i.schema),{$from:u,empty:d,ranges:h}=l;if(!o)return!0;if(d&&s){let{from:f,to:m}=l;const b=(a=u.marks().find(v=>v.type===c))===null||a===void 0?void 0:a.attrs,g=L5(u,c,b);g&&(f=g.from,m=g.to),n.removeMark(f,m,c)}else h.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,c)});return n.removeStoredMark(c),!0},cSe=(r,e={})=>({tr:n,state:i,dispatch:o})=>{let a=null,s=null;const l=B5(typeof r=="string"?r:r.name,i.schema);return l?(l==="node"&&(a=fi(r,i.schema)),l==="mark"&&(s=Kd(r,i.schema)),o&&n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let h,f,m,b;n.selection.empty?i.doc.nodesBetween(u,d,(g,v)=>{a&&a===g.type&&(m=Math.max(v,u),b=Math.min(v+g.nodeSize,d),h=v,f=g)}):i.doc.nodesBetween(u,d,(g,v)=>{v<u&&a&&a===g.type&&(m=Math.max(v,u),b=Math.min(v+g.nodeSize,d),h=v,f=g),v>=u&&v<=d&&(a&&a===g.type&&n.setNodeMarkup(v,void 0,{...g.attrs,...e}),s&&g.marks.length&&g.marks.forEach(x=>{if(s===x.type){const w=Math.max(v,u),k=Math.min(v+g.nodeSize,d);n.addMark(w,k,s.create({...x.attrs,...e}))}}))}),f&&(h!==void 0&&n.setNodeMarkup(h,void 0,{...f.attrs,...e}),s&&f.marks.length&&f.marks.forEach(g=>{s===g.type&&n.addMark(m,b,s.create({...g.attrs,...e}))}))}),!0):!1},uSe=(r,e={})=>({state:n,dispatch:i})=>{const o=fi(r,n.schema);return C3e(o,e)(n,i)},dSe=(r,e={})=>({state:n,dispatch:i})=>{const o=fi(r,n.schema);return _3e(o,e)(n,i)};var hSe=Object.freeze({__proto__:null,blur:X3e,clearContent:Y3e,clearNodes:Z3e,command:J3e,createParagraphNear:Q3e,cut:e5e,deleteCurrentNode:t5e,deleteNode:n5e,deleteRange:r5e,deleteSelection:i5e,enter:o5e,exitCode:a5e,extendMarkRange:s5e,first:l5e,focus:c5e,forEach:u5e,insertContent:d5e,insertContentAt:p5e,joinBackward:y5e,joinDown:g5e,joinForward:b5e,joinItemBackward:v5e,joinItemForward:x5e,joinTextblockBackward:w5e,joinTextblockForward:S5e,joinUp:m5e,keyboardShortcut:T5e,lift:E5e,liftEmptyBlock:C5e,liftListItem:_5e,newlineInCode:A5e,resetAttributes:D5e,scrollIntoView:M5e,selectAll:R5e,selectNodeBackward:N5e,selectNodeForward:O5e,selectParentNode:P5e,selectTextblockEnd:I5e,selectTextblockStart:$5e,setContent:z5e,setMark:K5e,setMeta:X5e,setNode:Y5e,setNodeSelection:Z5e,setTextSelection:J5e,sinkListItem:Q5e,splitBlock:eSe,splitListItem:tSe,toggleList:nSe,toggleMark:rSe,toggleNode:iSe,toggleWrap:oSe,undoInputRule:aSe,unsetAllMarks:sSe,unsetMark:lSe,updateAttributes:cSe,wrapIn:uSe,wrapInList:dSe});const fSe=Sn.create({name:"commands",addCommands(){return{...hSe}}}),pSe=Sn.create({name:"drop",addProseMirrorPlugins(){return[new $n({key:new Ln("tiptapDrop"),props:{handleDrop:(r,e,n,i)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:i})}}})]}}),mSe=Sn.create({name:"editable",addProseMirrorPlugins(){return[new $n({key:new Ln("editable"),props:{editable:()=>this.editor.options.editable}})]}}),gSe=new Ln("focusEvents"),ySe=Sn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:r}=this;return[new $n({key:gSe,props:{handleDOMEvents:{focus:(e,n)=>{r.isFocused=!0;const i=r.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1},blur:(e,n)=>{r.isFocused=!1;const i=r.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1}}}})]}}),bSe=Sn.create({name:"keymap",addKeyboardShortcuts(){const r=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:s})=>{const{selection:l,doc:c}=s,{empty:u,$anchor:d}=l,{pos:h,parent:f}=d,m=d.parent.isTextblock&&h>0?s.doc.resolve(h-1):d,b=m.parent.type.spec.isolating,g=d.pos-d.parentOffset,v=b&&m.parent.childCount===1?g===d.pos:Xt.atStart(c).from===h;return!u||!f.type.isTextblock||f.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:r,"Mod-Backspace":r,"Shift-Backspace":r,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...n},o={...n,"Ctrl-h":r,"Alt-Backspace":r,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return U5()||qne()?o:i},addProseMirrorPlugins(){return[new $n({key:new Ln("clearDocument"),appendTransaction:(r,e,n)=>{if(r.some(m=>m.getMeta("composition")))return;const i=r.some(m=>m.docChanged)&&!e.doc.eq(n.doc),o=r.some(m=>m.getMeta("preventClearDocument"));if(!i||o)return;const{empty:a,from:s,to:l}=e.selection,c=Xt.atStart(e.doc).from,u=Xt.atEnd(e.doc).to;if(a||!(s===c&&l===u)||!j5(n.doc))return;const d=n.tr,h=O5({state:n,transaction:d}),{commands:f}=new P5({editor:this.editor,state:h});if(f.clearNodes(),!!d.steps.length)return d}})]}}),vSe=Sn.create({name:"paste",addProseMirrorPlugins(){return[new $n({key:new Ln("tiptapPaste"),props:{handlePaste:(r,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),xSe=Sn.create({name:"tabindex",addProseMirrorPlugins(){return[new $n({key:new Ln("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});let wSe=class $m{get name(){return this.node.type.name}constructor(e,n,i=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=i,this.resolvedPos=e,this.editor=n,this.currentNode=o}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,i=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,i=this.to-1}this.editor.commands.insertContentAt({from:n,to:i},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new $m(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new $m(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new $m(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,i)=>{const o=n.isBlock&&!n.isTextblock,a=n.isAtom&&!n.isText,s=this.pos+i+(a?0:1),l=this.resolvedPos.doc.resolve(s);if(!o&&l.depth<=this.depth)return;const c=new $m(l,this.editor,o,o?n:null);o&&(c.actualDepth=this.depth+1),e.push(new $m(l,this.editor,o,o?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let i=null,o=this.parent;for(;o&&!i;){if(o.node.type.name===e)if(Object.keys(n).length>0){const a=o.node.attrs,s=Object.keys(n);for(let l=0;l<s.length;l+=1){const c=s[l];if(a[c]!==n[c])break}}else i=o;o=o.parent}return i}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},i=!1){let o=[];if(!this.children||this.children.length===0)return o;const a=Object.keys(n);return this.children.forEach(s=>{i&&o.length>0||(s.node.type.name===e&&a.every(l=>n[l]===s.node.attrs[l])&&o.push(s),!(i&&o.length>0)&&(o=o.concat(s.querySelectorAll(e,n,i))))}),o}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}};const SSe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function kSe(r,e,n){const i=document.querySelector("style[data-tiptap-style]");if(i!==null)return i;const o=document.createElement("style");return e&&o.setAttribute("nonce",e),o.setAttribute("data-tiptap-style",""),o.innerHTML=r,document.getElementsByTagName("head")[0].appendChild(o),o}let TSe=class extends P3e{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:i,moved:o})=>this.options.onDrop(n,i,o)),this.on("paste",({event:n,slice:i})=>this.options.onPaste(n,i)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=kSe(SSe,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const i=Lne(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],o=this.state.reconfigure({plugins:i});return this.view.updateState(o),o}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let i=n;if([].concat(e).forEach(a=>{const s=typeof a=="string"?`${a}$`:a.key;i=n.filter(l=>!l.key.startsWith(s))}),n.length===i.length)return;const o=this.state.reconfigure({plugins:i});return this.view.updateState(o),o}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[mSe,K3e.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),fSe,ySe,bSe,xSe,pSe,vSe].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new G3e(i,this)}createCommandManager(){this.commandManager=new P5({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=JA(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(l=>l.name!=="collaboration"),this.createExtensionManager()}}),n=JA(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const i=Hne(n,this.options.autofocus);this.view=new i3e(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:E2e.create({doc:n,selection:i||void 0})});const o=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(o),this.createNodeViews(),this.prependClass();const a=this.view.dom;a.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(s)});return}const n=this.state.apply(e),i=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),i&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=e.getMeta("focus"),a=e.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:e}),a&&this.emit("blur",{editor:this,event:a.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return Xne(this.state,e)}isActive(e,n){const i=typeof e=="string"?e:null,o=typeof e=="string"?n:e;return Yne(this.state,i,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return WR(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:i={}}=e||{};return j5e(this.state.doc,{blockSeparator:n,textSerializers:{...jne(this.schema),...i}})}get isEmpty(){return j5(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var i;return((i=this.$doc)===null||i===void 0?void 0:i.querySelector(e,n))||null}$nodes(e,n){var i;return((i=this.$doc)===null||i===void 0?void 0:i.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new wSe(n,this)}get $doc(){return this.$pos(0)}};function Bf(r){return new $5({find:r.find,handler:({state:e,range:n,match:i})=>{const o=on(r.getAttributes,void 0,i);if(o===!1||o===null)return null;const{tr:a}=e,s=i[i.length-1],l=i[0];if(s){const c=l.search(/\S/),u=n.from+l.indexOf(s),d=u+s.length;if(GR(n.from,n.to,e.doc).filter(f=>f.mark.type.excluded.find(m=>m===r.type&&m!==f.mark.type)).filter(f=>f.to>u).length)return null;d<n.to&&a.delete(d,n.to),u>n.from&&a.delete(n.from+c,u);const h=n.from+c+s.length;a.addMark(n.from+c,h,r.type.create(o||{})),a.removeStoredMark(r.type)}}})}function av(r){return new $5({find:r.find,handler:({state:e,range:n,match:i})=>{const o=on(r.getAttributes,void 0,i)||{},{tr:a}=e,s=n.from;let l=n.to;const c=r.type.create(o);if(i[1]){const u=i[0].lastIndexOf(i[1]);let d=s+u;d>l?d=l:l=d+i[1].length;const h=i[0][i[0].length-1];a.insertText(h,s+i[0].length-1),a.replaceWith(d,l,c)}else if(i[0]){const u=r.type.isInline?s:s-1;a.insert(u,r.type.create(o)).delete(a.mapping.map(s),a.mapping.map(l))}a.scrollIntoView()}})}function tD(r){return new $5({find:r.find,handler:({state:e,range:n,match:i})=>{const o=e.doc.resolve(n.from),a=on(r.getAttributes,void 0,i)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),r.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,r.type,a)}})}function E0(r){return new $5({find:r.find,handler:({state:e,range:n,match:i,chain:o})=>{const a=on(r.getAttributes,void 0,i)||{},s=e.tr.delete(n.from,n.to),l=s.doc.resolve(n.from).blockRange(),c=l&&AR(l,r.type,a);if(!c)return null;if(s.wrap(l,c),r.keepMarks&&r.editor){const{selection:d,storedMarks:h}=e,{splittableMarks:f}=r.editor.extensionManager,m=h||d.$to.parentOffset&&d.$from.marks();if(m){const b=m.filter(g=>f.includes(g.type.name));s.ensureMarks(b)}}if(r.keepAttributes){const d=r.type.name==="bulletList"||r.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(d,a).run()}const u=s.doc.resolve(n.from-1).nodeBefore;u&&u.type===r.type&&Vd(s.doc,n.from-1)&&(!r.joinPredicate||r.joinPredicate(i,u))&&s.join(n.from-1)}})}let Un=class nD{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=on(Rt(this,"addOptions",{name:this.name}))),this.storage=on(Rt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new nD(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>z5(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new nD(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=on(Rt(n,"addOptions",{name:n.name})),n.storage=on(Rt(n,"addStorage",{name:n.name,options:n.options})),n}},ESe=class{constructor(e,n,i){this.isDragging=!1,this.component=e,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...i},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.innerDecorations=n.innerDecorations,this.view=n.view,this.HTMLAttributes=n.HTMLAttributes,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var n,i,o,a,s,l,c;const{view:u}=this.editor,d=e.target,h=d.nodeType===3?(n=d.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):d.closest("[data-drag-handle]");if(!this.dom||!((i=this.contentDOM)===null||i===void 0)&&i.contains(d)||!h)return;let f=0,m=0;if(this.dom!==h){const w=this.dom.getBoundingClientRect(),k=h.getBoundingClientRect(),T=(o=e.offsetX)!==null&&o!==void 0?o:(a=e.nativeEvent)===null||a===void 0?void 0:a.offsetX,_=(s=e.offsetY)!==null&&s!==void 0?s:(l=e.nativeEvent)===null||l===void 0?void 0:l.offsetY;f=k.x-w.x+T,m=k.y-w.y+_}const b=this.dom.cloneNode(!0);(c=e.dataTransfer)===null||c===void 0||c.setDragImage(b,f,m);const g=this.getPos();if(typeof g!="number")return;const v=Gt.create(u.state.doc,g),x=u.state.tr.setSelection(v);u.dispatch(x)}stopEvent(e){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const i=e.target;if(!(this.dom.contains(i)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(i))))return!1;const o=e.type.startsWith("drag"),a=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(i.tagName)||i.isContentEditable)&&!a&&!o)return!0;const{isEditable:s}=this.editor,{isDragging:l}=this,c=!!this.node.type.spec.draggable,u=Gt.isSelectable(this.node),d=e.type==="copy",h=e.type==="paste",f=e.type==="cut",m=e.type==="mousedown";if(!c&&u&&o&&e.target===this.dom&&e.preventDefault(),c&&o&&!l&&e.target===this.dom)return e.preventDefault(),!1;if(c&&s&&!l&&m){const b=i.closest("[data-drag-handle]");b&&(this.dom===b||this.dom.contains(b))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(l||a||d||h||f||m&&u)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(U5()||Wne())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(n=>n.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:n})=>{const i=this.getPos();return typeof i!="number"?!1:(n.setNodeMarkup(i,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){const e=this.getPos();if(typeof e!="number")return;const n=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:n})}};function Cd(r){return new Une({find:r.find,handler:({state:e,range:n,match:i,pasteEvent:o})=>{const a=on(r.getAttributes,void 0,i,o);if(a===!1||a===null)return null;const{tr:s}=e,l=i[i.length-1],c=i[0];let u=n.to;if(l){const d=c.search(/\S/),h=n.from+c.indexOf(l),f=h+l.length;if(GR(n.from,n.to,e.doc).filter(m=>m.mark.type.excluded.find(b=>b===r.type&&b!==m.mark.type)).filter(m=>m.to>h).length)return null;f<n.to&&s.delete(f,n.to),h>n.from&&s.delete(n.from+d,h),u=n.from+d+l.length,s.addMark(n.from+d,u,r.type.create(a||{})),s.removeStoredMark(r.type)}}})}function CSe(r){return r.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function _Se(r){return new Une({find:r.find,handler({match:e,chain:n,range:i,pasteEvent:o}){const a=on(r.getAttributes,void 0,e,o),s=on(r.getContent,void 0,a);if(a===!1||a===null)return null;const l={type:r.type.name,attrs:a};s&&(l.content=s),e.input&&n().deleteRange(i).insertContentAt(i.from,l)}})}var Mo="top",Qa="bottom",es="right",Ro="left",KR="auto",sv=[Mo,Qa,es,Ro],C0="start",ab="end",ASe="clippingParents",Jne="viewport",S1="popper",DSe="reference",fj=sv.reduce(function(r,e){return r.concat([e+"-"+C0,e+"-"+ab])},[]),Qne=[].concat(sv,[KR]).reduce(function(r,e){return r.concat([e,e+"-"+C0,e+"-"+ab])},[]),MSe="beforeRead",RSe="read",NSe="afterRead",OSe="beforeMain",PSe="main",ISe="afterMain",$Se="beforeWrite",zSe="write",LSe="afterWrite",USe=[MSe,RSe,NSe,OSe,PSe,ISe,$Se,zSe,LSe];function kl(r){return r?(r.nodeName||"").toLowerCase():null}function pa(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var e=r.ownerDocument;return e&&e.defaultView||window}return r}function jf(r){var e=pa(r).Element;return r instanceof e||r instanceof Element}function Ka(r){var e=pa(r).HTMLElement;return r instanceof e||r instanceof HTMLElement}function XR(r){if(typeof ShadowRoot>"u")return!1;var e=pa(r).ShadowRoot;return r instanceof e||r instanceof ShadowRoot}function BSe(r){var e=r.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},o=e.attributes[n]||{},a=e.elements[n];!Ka(a)||!kl(a)||(Object.assign(a.style,i),Object.keys(o).forEach(function(s){var l=o[s];l===!1?a.removeAttribute(s):a.setAttribute(s,l===!0?"":l)}))})}function jSe(r){var e=r.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var o=e.elements[i],a=e.attributes[i]||{},s=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),l=s.reduce(function(c,u){return c[u]="",c},{});!Ka(o)||!kl(o)||(Object.assign(o.style,l),Object.keys(a).forEach(function(c){o.removeAttribute(c)}))})}}const ere={name:"applyStyles",enabled:!0,phase:"write",fn:BSe,effect:jSe,requires:["computeStyles"]};function yl(r){return r.split("-")[0]}var Af=Math.max,K4=Math.min,_0=Math.round;function rD(){var r=navigator.userAgentData;return r!=null&&r.brands&&Array.isArray(r.brands)?r.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function tre(){return!/^((?!chrome|android).)*safari/i.test(rD())}function A0(r,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=r.getBoundingClientRect(),o=1,a=1;e&&Ka(r)&&(o=r.offsetWidth>0&&_0(i.width)/r.offsetWidth||1,a=r.offsetHeight>0&&_0(i.height)/r.offsetHeight||1);var s=jf(r)?pa(r):window,l=s.visualViewport,c=!tre()&&n,u=(i.left+(c&&l?l.offsetLeft:0))/o,d=(i.top+(c&&l?l.offsetTop:0))/a,h=i.width/o,f=i.height/a;return{width:h,height:f,top:d,right:u+h,bottom:d+f,left:u,x:u,y:d}}function YR(r){var e=A0(r),n=r.offsetWidth,i=r.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:r.offsetLeft,y:r.offsetTop,width:n,height:i}}function nre(r,e){var n=e.getRootNode&&e.getRootNode();if(r.contains(e))return!0;if(n&&XR(n)){var i=e;do{if(i&&r.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Hc(r){return pa(r).getComputedStyle(r)}function FSe(r){return["table","td","th"].indexOf(kl(r))>=0}function Xd(r){return((jf(r)?r.ownerDocument:r.document)||window.document).documentElement}function F5(r){return kl(r)==="html"?r:r.assignedSlot||r.parentNode||(XR(r)?r.host:null)||Xd(r)}function pj(r){return!Ka(r)||Hc(r).position==="fixed"?null:r.offsetParent}function HSe(r){var e=/firefox/i.test(rD()),n=/Trident/i.test(rD());if(n&&Ka(r)){var i=Hc(r);if(i.position==="fixed")return null}var o=F5(r);for(XR(o)&&(o=o.host);Ka(o)&&["html","body"].indexOf(kl(o))<0;){var a=Hc(o);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return o;o=o.parentNode}return null}function lv(r){for(var e=pa(r),n=pj(r);n&&FSe(n)&&Hc(n).position==="static";)n=pj(n);return n&&(kl(n)==="html"||kl(n)==="body"&&Hc(n).position==="static")?e:n||HSe(r)||e}function ZR(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function Ny(r,e,n){return Af(r,K4(e,n))}function WSe(r,e,n){var i=Ny(r,e,n);return i>n?n:i}function rre(){return{top:0,right:0,bottom:0,left:0}}function ire(r){return Object.assign({},rre(),r)}function ore(r,e){return e.reduce(function(n,i){return n[i]=r,n},{})}var VSe=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,ire(typeof e!="number"?e:ore(e,sv))};function qSe(r){var e,n=r.state,i=r.name,o=r.options,a=n.elements.arrow,s=n.modifiersData.popperOffsets,l=yl(n.placement),c=ZR(l),u=[Ro,es].indexOf(l)>=0,d=u?"height":"width";if(!(!a||!s)){var h=VSe(o.padding,n),f=YR(a),m=c==="y"?Mo:Ro,b=c==="y"?Qa:es,g=n.rects.reference[d]+n.rects.reference[c]-s[c]-n.rects.popper[d],v=s[c]-n.rects.reference[c],x=lv(a),w=x?c==="y"?x.clientHeight||0:x.clientWidth||0:0,k=g/2-v/2,T=h[m],_=w-f[d]-h[b],D=w/2-f[d]/2+k,I=Ny(T,D,_),L=c;n.modifiersData[i]=(e={},e[L]=I,e.centerOffset=I-D,e)}}function GSe(r){var e=r.state,n=r.options,i=n.element,o=i===void 0?"[data-popper-arrow]":i;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||nre(e.elements.popper,o)&&(e.elements.arrow=o))}const KSe={name:"arrow",enabled:!0,phase:"main",fn:qSe,effect:GSe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function D0(r){return r.split("-")[1]}var XSe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function YSe(r,e){var n=r.x,i=r.y,o=e.devicePixelRatio||1;return{x:_0(n*o)/o||0,y:_0(i*o)/o||0}}function mj(r){var e,n=r.popper,i=r.popperRect,o=r.placement,a=r.variation,s=r.offsets,l=r.position,c=r.gpuAcceleration,u=r.adaptive,d=r.roundOffsets,h=r.isFixed,f=s.x,m=f===void 0?0:f,b=s.y,g=b===void 0?0:b,v=typeof d=="function"?d({x:m,y:g}):{x:m,y:g};m=v.x,g=v.y;var x=s.hasOwnProperty("x"),w=s.hasOwnProperty("y"),k=Ro,T=Mo,_=window;if(u){var D=lv(n),I="clientHeight",L="clientWidth";if(D===pa(n)&&(D=Xd(n),Hc(D).position!=="static"&&l==="absolute"&&(I="scrollHeight",L="scrollWidth")),D=D,o===Mo||(o===Ro||o===es)&&a===ab){T=Qa;var O=h&&D===_&&_.visualViewport?_.visualViewport.height:D[I];g-=O-i.height,g*=c?1:-1}if(o===Ro||(o===Mo||o===Qa)&&a===ab){k=es;var W=h&&D===_&&_.visualViewport?_.visualViewport.width:D[L];m-=W-i.width,m*=c?1:-1}}var Z=Object.assign({position:l},u&&XSe),$=d===!0?YSe({x:m,y:g},pa(n)):{x:m,y:g};if(m=$.x,g=$.y,c){var F;return Object.assign({},Z,(F={},F[T]=w?"0":"",F[k]=x?"0":"",F.transform=(_.devicePixelRatio||1)<=1?"translate("+m+"px, "+g+"px)":"translate3d("+m+"px, "+g+"px, 0)",F))}return Object.assign({},Z,(e={},e[T]=w?g+"px":"",e[k]=x?m+"px":"",e.transform="",e))}function ZSe(r){var e=r.state,n=r.options,i=n.gpuAcceleration,o=i===void 0?!0:i,a=n.adaptive,s=a===void 0?!0:a,l=n.roundOffsets,c=l===void 0?!0:l,u={placement:yl(e.placement),variation:D0(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,mj(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,mj(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const JSe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ZSe,data:{}};var cw={passive:!0};function QSe(r){var e=r.state,n=r.instance,i=r.options,o=i.scroll,a=o===void 0?!0:o,s=i.resize,l=s===void 0?!0:s,c=pa(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&u.forEach(function(d){d.addEventListener("scroll",n.update,cw)}),l&&c.addEventListener("resize",n.update,cw),function(){a&&u.forEach(function(d){d.removeEventListener("scroll",n.update,cw)}),l&&c.removeEventListener("resize",n.update,cw)}}const e6e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:QSe,data:{}};var t6e={left:"right",right:"left",bottom:"top",top:"bottom"};function n4(r){return r.replace(/left|right|bottom|top/g,function(e){return t6e[e]})}var n6e={start:"end",end:"start"};function gj(r){return r.replace(/start|end/g,function(e){return n6e[e]})}function JR(r){var e=pa(r),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function QR(r){return A0(Xd(r)).left+JR(r).scrollLeft}function r6e(r,e){var n=pa(r),i=Xd(r),o=n.visualViewport,a=i.clientWidth,s=i.clientHeight,l=0,c=0;if(o){a=o.width,s=o.height;var u=tre();(u||!u&&e==="fixed")&&(l=o.offsetLeft,c=o.offsetTop)}return{width:a,height:s,x:l+QR(r),y:c}}function i6e(r){var e,n=Xd(r),i=JR(r),o=(e=r.ownerDocument)==null?void 0:e.body,a=Af(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=Af(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),l=-i.scrollLeft+QR(r),c=-i.scrollTop;return Hc(o||n).direction==="rtl"&&(l+=Af(n.clientWidth,o?o.clientWidth:0)-a),{width:a,height:s,x:l,y:c}}function eN(r){var e=Hc(r),n=e.overflow,i=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}function are(r){return["html","body","#document"].indexOf(kl(r))>=0?r.ownerDocument.body:Ka(r)&&eN(r)?r:are(F5(r))}function Oy(r,e){var n;e===void 0&&(e=[]);var i=are(r),o=i===((n=r.ownerDocument)==null?void 0:n.body),a=pa(i),s=o?[a].concat(a.visualViewport||[],eN(i)?i:[]):i,l=e.concat(s);return o?l:l.concat(Oy(F5(s)))}function iD(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function o6e(r,e){var n=A0(r,!1,e==="fixed");return n.top=n.top+r.clientTop,n.left=n.left+r.clientLeft,n.bottom=n.top+r.clientHeight,n.right=n.left+r.clientWidth,n.width=r.clientWidth,n.height=r.clientHeight,n.x=n.left,n.y=n.top,n}function yj(r,e,n){return e===Jne?iD(r6e(r,n)):jf(e)?o6e(e,n):iD(i6e(Xd(r)))}function a6e(r){var e=Oy(F5(r)),n=["absolute","fixed"].indexOf(Hc(r).position)>=0,i=n&&Ka(r)?lv(r):r;return jf(i)?e.filter(function(o){return jf(o)&&nre(o,i)&&kl(o)!=="body"}):[]}function s6e(r,e,n,i){var o=e==="clippingParents"?a6e(r):[].concat(e),a=[].concat(o,[n]),s=a[0],l=a.reduce(function(c,u){var d=yj(r,u,i);return c.top=Af(d.top,c.top),c.right=K4(d.right,c.right),c.bottom=K4(d.bottom,c.bottom),c.left=Af(d.left,c.left),c},yj(r,s,i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function sre(r){var e=r.reference,n=r.element,i=r.placement,o=i?yl(i):null,a=i?D0(i):null,s=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,c;switch(o){case Mo:c={x:s,y:e.y-n.height};break;case Qa:c={x:s,y:e.y+e.height};break;case es:c={x:e.x+e.width,y:l};break;case Ro:c={x:e.x-n.width,y:l};break;default:c={x:e.x,y:e.y}}var u=o?ZR(o):null;if(u!=null){var d=u==="y"?"height":"width";switch(a){case C0:c[u]=c[u]-(e[d]/2-n[d]/2);break;case ab:c[u]=c[u]+(e[d]/2-n[d]/2);break}}return c}function sb(r,e){e===void 0&&(e={});var n=e,i=n.placement,o=i===void 0?r.placement:i,a=n.strategy,s=a===void 0?r.strategy:a,l=n.boundary,c=l===void 0?ASe:l,u=n.rootBoundary,d=u===void 0?Jne:u,h=n.elementContext,f=h===void 0?S1:h,m=n.altBoundary,b=m===void 0?!1:m,g=n.padding,v=g===void 0?0:g,x=ire(typeof v!="number"?v:ore(v,sv)),w=f===S1?DSe:S1,k=r.rects.popper,T=r.elements[b?w:f],_=s6e(jf(T)?T:T.contextElement||Xd(r.elements.popper),c,d,s),D=A0(r.elements.reference),I=sre({reference:D,element:k,placement:o}),L=iD(Object.assign({},k,I)),O=f===S1?L:D,W={top:_.top-O.top+x.top,bottom:O.bottom-_.bottom+x.bottom,left:_.left-O.left+x.left,right:O.right-_.right+x.right},Z=r.modifiersData.offset;if(f===S1&&Z){var $=Z[o];Object.keys(W).forEach(function(F){var A=[es,Qa].indexOf(F)>=0?1:-1,Q=[Mo,Qa].indexOf(F)>=0?"y":"x";W[F]+=$[Q]*A})}return W}function l6e(r,e){e===void 0&&(e={});var n=e,i=n.placement,o=n.boundary,a=n.rootBoundary,s=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?Qne:c,d=D0(i),h=d?l?fj:fj.filter(function(b){return D0(b)===d}):sv,f=h.filter(function(b){return u.indexOf(b)>=0});f.length===0&&(f=h);var m=f.reduce(function(b,g){return b[g]=sb(r,{placement:g,boundary:o,rootBoundary:a,padding:s})[yl(g)],b},{});return Object.keys(m).sort(function(b,g){return m[b]-m[g]})}function c6e(r){if(yl(r)===KR)return[];var e=n4(r);return[gj(r),e,gj(e)]}function u6e(r){var e=r.state,n=r.options,i=r.name;if(!e.modifiersData[i]._skip){for(var o=n.mainAxis,a=o===void 0?!0:o,s=n.altAxis,l=s===void 0?!0:s,c=n.fallbackPlacements,u=n.padding,d=n.boundary,h=n.rootBoundary,f=n.altBoundary,m=n.flipVariations,b=m===void 0?!0:m,g=n.allowedAutoPlacements,v=e.options.placement,x=yl(v),w=x===v,k=c||(w||!b?[n4(v)]:c6e(v)),T=[v].concat(k).reduce(function(re,de){return re.concat(yl(de)===KR?l6e(e,{placement:de,boundary:d,rootBoundary:h,padding:u,flipVariations:b,allowedAutoPlacements:g}):de)},[]),_=e.rects.reference,D=e.rects.popper,I=new Map,L=!0,O=T[0],W=0;W<T.length;W++){var Z=T[W],$=yl(Z),F=D0(Z)===C0,A=[Mo,Qa].indexOf($)>=0,Q=A?"width":"height",H=sb(e,{placement:Z,boundary:d,rootBoundary:h,altBoundary:f,padding:u}),G=A?F?es:Ro:F?Qa:Mo;_[Q]>D[Q]&&(G=n4(G));var ne=n4(G),J=[];if(a&&J.push(H[$]<=0),l&&J.push(H[G]<=0,H[ne]<=0),J.every(function(re){return re})){O=Z,L=!1;break}I.set(Z,J)}if(L)for(var ee=b?3:1,X=function(de){var me=T.find(function(K){var q=I.get(K);if(q)return q.slice(0,de).every(function(be){return be})});if(me)return O=me,"break"},j=ee;j>0;j--){var ae=X(j);if(ae==="break")break}e.placement!==O&&(e.modifiersData[i]._skip=!0,e.placement=O,e.reset=!0)}}const d6e={name:"flip",enabled:!0,phase:"main",fn:u6e,requiresIfExists:["offset"],data:{_skip:!1}};function bj(r,e,n){return n===void 0&&(n={x:0,y:0}),{top:r.top-e.height-n.y,right:r.right-e.width+n.x,bottom:r.bottom-e.height+n.y,left:r.left-e.width-n.x}}function vj(r){return[Mo,es,Qa,Ro].some(function(e){return r[e]>=0})}function h6e(r){var e=r.state,n=r.name,i=e.rects.reference,o=e.rects.popper,a=e.modifiersData.preventOverflow,s=sb(e,{elementContext:"reference"}),l=sb(e,{altBoundary:!0}),c=bj(s,i),u=bj(l,o,a),d=vj(c),h=vj(u);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}const f6e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:h6e};function p6e(r,e,n){var i=yl(r),o=[Ro,Mo].indexOf(i)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},e,{placement:r})):n,s=a[0],l=a[1];return s=s||0,l=(l||0)*o,[Ro,es].indexOf(i)>=0?{x:l,y:s}:{x:s,y:l}}function m6e(r){var e=r.state,n=r.options,i=r.name,o=n.offset,a=o===void 0?[0,0]:o,s=Qne.reduce(function(d,h){return d[h]=p6e(h,e.rects,a),d},{}),l=s[e.placement],c=l.x,u=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[i]=s}const g6e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:m6e};function y6e(r){var e=r.state,n=r.name;e.modifiersData[n]=sre({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const b6e={name:"popperOffsets",enabled:!0,phase:"read",fn:y6e,data:{}};function v6e(r){return r==="x"?"y":"x"}function x6e(r){var e=r.state,n=r.options,i=r.name,o=n.mainAxis,a=o===void 0?!0:o,s=n.altAxis,l=s===void 0?!1:s,c=n.boundary,u=n.rootBoundary,d=n.altBoundary,h=n.padding,f=n.tether,m=f===void 0?!0:f,b=n.tetherOffset,g=b===void 0?0:b,v=sb(e,{boundary:c,rootBoundary:u,padding:h,altBoundary:d}),x=yl(e.placement),w=D0(e.placement),k=!w,T=ZR(x),_=v6e(T),D=e.modifiersData.popperOffsets,I=e.rects.reference,L=e.rects.popper,O=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,W=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),Z=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,$={x:0,y:0};if(D){if(a){var F,A=T==="y"?Mo:Ro,Q=T==="y"?Qa:es,H=T==="y"?"height":"width",G=D[T],ne=G+v[A],J=G-v[Q],ee=m?-L[H]/2:0,X=w===C0?I[H]:L[H],j=w===C0?-L[H]:-I[H],ae=e.elements.arrow,re=m&&ae?YR(ae):{width:0,height:0},de=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:rre(),me=de[A],K=de[Q],q=Ny(0,I[H],re[H]),be=k?I[H]/2-ee-q-me-W.mainAxis:X-q-me-W.mainAxis,pe=k?-I[H]/2+ee+q+K+W.mainAxis:j+q+K+W.mainAxis,ie=e.elements.arrow&&lv(e.elements.arrow),le=ie?T==="y"?ie.clientTop||0:ie.clientLeft||0:0,Ee=(F=Z==null?void 0:Z[T])!=null?F:0,M=G+be-Ee-le,he=G+pe-Ee,V=Ny(m?K4(ne,M):ne,G,m?Af(J,he):J);D[T]=V,$[T]=V-G}if(l){var R,N=T==="x"?Mo:Ro,B=T==="x"?Qa:es,ue=D[_],ve=_==="y"?"height":"width",se=ue+v[N],ge=ue-v[B],Se=[Mo,Ro].indexOf(x)!==-1,Te=(R=Z==null?void 0:Z[_])!=null?R:0,De=Se?se:ue-I[ve]-L[ve]-Te+W.altAxis,Le=Se?ue+I[ve]+L[ve]-Te-W.altAxis:ge,Ke=m&&Se?WSe(De,ue,Le):Ny(m?De:se,ue,m?Le:ge);D[_]=Ke,$[_]=Ke-ue}e.modifiersData[i]=$}}const w6e={name:"preventOverflow",enabled:!0,phase:"main",fn:x6e,requiresIfExists:["offset"]};function S6e(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function k6e(r){return r===pa(r)||!Ka(r)?JR(r):S6e(r)}function T6e(r){var e=r.getBoundingClientRect(),n=_0(e.width)/r.offsetWidth||1,i=_0(e.height)/r.offsetHeight||1;return n!==1||i!==1}function E6e(r,e,n){n===void 0&&(n=!1);var i=Ka(e),o=Ka(e)&&T6e(e),a=Xd(e),s=A0(r,o,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(i||!i&&!n)&&((kl(e)!=="body"||eN(a))&&(l=k6e(e)),Ka(e)?(c=A0(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):a&&(c.x=QR(a))),{x:s.left+l.scrollLeft-c.x,y:s.top+l.scrollTop-c.y,width:s.width,height:s.height}}function C6e(r){var e=new Map,n=new Set,i=[];r.forEach(function(a){e.set(a.name,a)});function o(a){n.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(l){if(!n.has(l)){var c=e.get(l);c&&o(c)}}),i.push(a)}return r.forEach(function(a){n.has(a.name)||o(a)}),i}function _6e(r){var e=C6e(r);return USe.reduce(function(n,i){return n.concat(e.filter(function(o){return o.phase===i}))},[])}function A6e(r){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(r())})})),e}}function D6e(r){var e=r.reduce(function(n,i){var o=n[i.name];return n[i.name]=o?Object.assign({},o,i,{options:Object.assign({},o.options,i.options),data:Object.assign({},o.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var xj={placement:"bottom",modifiers:[],strategy:"absolute"};function wj(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function M6e(r){r===void 0&&(r={});var e=r,n=e.defaultModifiers,i=n===void 0?[]:n,o=e.defaultOptions,a=o===void 0?xj:o;return function(l,c,u){u===void 0&&(u=a);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},xj,a),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},h=[],f=!1,m={state:d,setOptions:function(x){var w=typeof x=="function"?x(d.options):x;g(),d.options=Object.assign({},a,d.options,w),d.scrollParents={reference:jf(l)?Oy(l):l.contextElement?Oy(l.contextElement):[],popper:Oy(c)};var k=_6e(D6e([].concat(i,d.options.modifiers)));return d.orderedModifiers=k.filter(function(T){return T.enabled}),b(),m.update()},forceUpdate:function(){if(!f){var x=d.elements,w=x.reference,k=x.popper;if(wj(w,k)){d.rects={reference:E6e(w,lv(k),d.options.strategy==="fixed"),popper:YR(k)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(W){return d.modifiersData[W.name]=Object.assign({},W.data)});for(var T=0;T<d.orderedModifiers.length;T++){if(d.reset===!0){d.reset=!1,T=-1;continue}var _=d.orderedModifiers[T],D=_.fn,I=_.options,L=I===void 0?{}:I,O=_.name;typeof D=="function"&&(d=D({state:d,options:L,name:O,instance:m})||d)}}}},update:A6e(function(){return new Promise(function(v){m.forceUpdate(),v(d)})}),destroy:function(){g(),f=!0}};if(!wj(l,c))return m;m.setOptions(u).then(function(v){!f&&u.onFirstUpdate&&u.onFirstUpdate(v)});function b(){d.orderedModifiers.forEach(function(v){var x=v.name,w=v.options,k=w===void 0?{}:w,T=v.effect;if(typeof T=="function"){var _=T({state:d,name:x,instance:m,options:k}),D=function(){};h.push(_||D)}})}function g(){h.forEach(function(v){return v()}),h=[]}return m}}var R6e=[e6e,b6e,JSe,ere,g6e,d6e,w6e,KSe,f6e],N6e=M6e({defaultModifiers:R6e}),O6e="tippy-box",lre="tippy-content",P6e="tippy-backdrop",cre="tippy-arrow",ure="tippy-svg-arrow",Yh={passive:!0,capture:!0},dre=function(){return document.body};function I8(r,e,n){if(Array.isArray(r)){var i=r[e];return i??(Array.isArray(n)?n[e]:n)}return r}function tN(r,e){var n={}.toString.call(r);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function hre(r,e){return typeof r=="function"?r.apply(void 0,e):r}function Sj(r,e){if(e===0)return r;var n;return function(i){clearTimeout(n),n=setTimeout(function(){r(i)},e)}}function I6e(r){return r.split(/\s+/).filter(Boolean)}function zm(r){return[].concat(r)}function kj(r,e){r.indexOf(e)===-1&&r.push(e)}function $6e(r){return r.filter(function(e,n){return r.indexOf(e)===n})}function z6e(r){return r.split("-")[0]}function X4(r){return[].slice.call(r)}function Tj(r){return Object.keys(r).reduce(function(e,n){return r[n]!==void 0&&(e[n]=r[n]),e},{})}function Py(){return document.createElement("div")}function H5(r){return["Element","Fragment"].some(function(e){return tN(r,e)})}function L6e(r){return tN(r,"NodeList")}function U6e(r){return tN(r,"MouseEvent")}function B6e(r){return!!(r&&r._tippy&&r._tippy.reference===r)}function j6e(r){return H5(r)?[r]:L6e(r)?X4(r):Array.isArray(r)?r:X4(document.querySelectorAll(r))}function $8(r,e){r.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function Ej(r,e){r.forEach(function(n){n&&n.setAttribute("data-state",e)})}function F6e(r){var e,n=zm(r),i=n[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function H6e(r,e){var n=e.clientX,i=e.clientY;return r.every(function(o){var a=o.popperRect,s=o.popperState,l=o.props,c=l.interactiveBorder,u=z6e(s.placement),d=s.modifiersData.offset;if(!d)return!0;var h=u==="bottom"?d.top.y:0,f=u==="top"?d.bottom.y:0,m=u==="right"?d.left.x:0,b=u==="left"?d.right.x:0,g=a.top-i+h>c,v=i-a.bottom-f>c,x=a.left-n+m>c,w=n-a.right-b>c;return g||v||x||w})}function z8(r,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(o){r[i](o,n)})}function Cj(r,e){for(var n=e;n;){var i;if(r.contains(n))return!0;n=n.getRootNode==null||(i=n.getRootNode())==null?void 0:i.host}return!1}var el={isTouch:!1},_j=0;function W6e(){el.isTouch||(el.isTouch=!0,window.performance&&document.addEventListener("mousemove",fre))}function fre(){var r=performance.now();r-_j<20&&(el.isTouch=!1,document.removeEventListener("mousemove",fre)),_j=r}function V6e(){var r=document.activeElement;if(B6e(r)){var e=r._tippy;r.blur&&!e.state.isVisible&&r.blur()}}function q6e(){document.addEventListener("touchstart",W6e,Yh),window.addEventListener("blur",V6e)}var G6e=typeof window<"u"&&typeof document<"u",K6e=G6e?!!window.msCrypto:!1,X6e={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Y6e={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Es=Object.assign({appendTo:dre,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},X6e,Y6e),Z6e=Object.keys(Es),J6e=function(e){var n=Object.keys(e);n.forEach(function(i){Es[i]=e[i]})};function pre(r){var e=r.plugins||[],n=e.reduce(function(i,o){var a=o.name,s=o.defaultValue;if(a){var l;i[a]=r[a]!==void 0?r[a]:(l=Es[a])!=null?l:s}return i},{});return Object.assign({},r,n)}function Q6e(r,e){var n=e?Object.keys(pre(Object.assign({},Es,{plugins:e}))):Z6e,i=n.reduce(function(o,a){var s=(r.getAttribute("data-tippy-"+a)||"").trim();if(!s)return o;if(a==="content")o[a]=s;else try{o[a]=JSON.parse(s)}catch{o[a]=s}return o},{});return i}function Aj(r,e){var n=Object.assign({},e,{content:hre(e.content,[r])},e.ignoreAttributes?{}:Q6e(r,e.plugins));return n.aria=Object.assign({},Es.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var eke=function(){return"innerHTML"};function oD(r,e){r[eke()]=e}function Dj(r){var e=Py();return r===!0?e.className=cre:(e.className=ure,H5(r)?e.appendChild(r):oD(e,r)),e}function Mj(r,e){H5(e.content)?(oD(r,""),r.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?oD(r,e.content):r.textContent=e.content)}function aD(r){var e=r.firstElementChild,n=X4(e.children);return{box:e,content:n.find(function(i){return i.classList.contains(lre)}),arrow:n.find(function(i){return i.classList.contains(cre)||i.classList.contains(ure)}),backdrop:n.find(function(i){return i.classList.contains(P6e)})}}function mre(r){var e=Py(),n=Py();n.className=O6e,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=Py();i.className=lre,i.setAttribute("data-state","hidden"),Mj(i,r.props),e.appendChild(n),n.appendChild(i),o(r.props,r.props);function o(a,s){var l=aD(e),c=l.box,u=l.content,d=l.arrow;s.theme?c.setAttribute("data-theme",s.theme):c.removeAttribute("data-theme"),typeof s.animation=="string"?c.setAttribute("data-animation",s.animation):c.removeAttribute("data-animation"),s.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?c.setAttribute("role",s.role):c.removeAttribute("role"),(a.content!==s.content||a.allowHTML!==s.allowHTML)&&Mj(u,r.props),s.arrow?d?a.arrow!==s.arrow&&(c.removeChild(d),c.appendChild(Dj(s.arrow))):c.appendChild(Dj(s.arrow)):d&&c.removeChild(d)}return{popper:e,onUpdate:o}}mre.$$tippy=!0;var tke=1,uw=[],L8=[];function nke(r,e){var n=Aj(r,Object.assign({},Es,pre(Tj(e)))),i,o,a,s=!1,l=!1,c=!1,u=!1,d,h,f,m=[],b=Sj(M,n.interactiveDebounce),g,v=tke++,x=null,w=$6e(n.plugins),k={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},T={id:v,reference:r,popper:Py(),popperInstance:x,props:n,state:k,plugins:w,clearDelayTimeouts:De,setProps:Le,setContent:Ke,show:pt,hide:jt,hideWithInteractivity:Ne,enable:Se,disable:Te,unmount:Ye,destroy:Ze};if(!n.render)return T;var _=n.render(T),D=_.popper,I=_.onUpdate;D.setAttribute("data-tippy-root",""),D.id="tippy-"+T.id,T.popper=D,r._tippy=T,D._tippy=T;var L=w.map(function(Pe){return Pe.fn(T)}),O=r.hasAttribute("aria-expanded");return ie(),ee(),G(),ne("onCreate",[T]),n.showOnCreate&&se(),D.addEventListener("mouseenter",function(){T.props.interactive&&T.state.isVisible&&T.clearDelayTimeouts()}),D.addEventListener("mouseleave",function(){T.props.interactive&&T.props.trigger.indexOf("mouseenter")>=0&&A().addEventListener("mousemove",b)}),T;function W(){var Pe=T.props.touch;return Array.isArray(Pe)?Pe:[Pe,0]}function Z(){return W()[0]==="hold"}function $(){var Pe;return!!((Pe=T.props.render)!=null&&Pe.$$tippy)}function F(){return g||r}function A(){var Pe=F().parentNode;return Pe?F6e(Pe):document}function Q(){return aD(D)}function H(Pe){return T.state.isMounted&&!T.state.isVisible||el.isTouch||d&&d.type==="focus"?0:I8(T.props.delay,Pe?0:1,Es.delay)}function G(Pe){Pe===void 0&&(Pe=!1),D.style.pointerEvents=T.props.interactive&&!Pe?"":"none",D.style.zIndex=""+T.props.zIndex}function ne(Pe,Qe,Ce){if(Ce===void 0&&(Ce=!0),L.forEach(function(vt){vt[Pe]&&vt[Pe].apply(vt,Qe)}),Ce){var $e;($e=T.props)[Pe].apply($e,Qe)}}function J(){var Pe=T.props.aria;if(Pe.content){var Qe="aria-"+Pe.content,Ce=D.id,$e=zm(T.props.triggerTarget||r);$e.forEach(function(vt){var zt=vt.getAttribute(Qe);if(T.state.isVisible)vt.setAttribute(Qe,zt?zt+" "+Ce:Ce);else{var Yt=zt&&zt.replace(Ce,"").trim();Yt?vt.setAttribute(Qe,Yt):vt.removeAttribute(Qe)}})}}function ee(){if(!(O||!T.props.aria.expanded)){var Pe=zm(T.props.triggerTarget||r);Pe.forEach(function(Qe){T.props.interactive?Qe.setAttribute("aria-expanded",T.state.isVisible&&Qe===F()?"true":"false"):Qe.removeAttribute("aria-expanded")})}}function X(){A().removeEventListener("mousemove",b),uw=uw.filter(function(Pe){return Pe!==b})}function j(Pe){if(!(el.isTouch&&(c||Pe.type==="mousedown"))){var Qe=Pe.composedPath&&Pe.composedPath()[0]||Pe.target;if(!(T.props.interactive&&Cj(D,Qe))){if(zm(T.props.triggerTarget||r).some(function(Ce){return Cj(Ce,Qe)})){if(el.isTouch||T.state.isVisible&&T.props.trigger.indexOf("click")>=0)return}else ne("onClickOutside",[T,Pe]);T.props.hideOnClick===!0&&(T.clearDelayTimeouts(),T.hide(),l=!0,setTimeout(function(){l=!1}),T.state.isMounted||me())}}}function ae(){c=!0}function re(){c=!1}function de(){var Pe=A();Pe.addEventListener("mousedown",j,!0),Pe.addEventListener("touchend",j,Yh),Pe.addEventListener("touchstart",re,Yh),Pe.addEventListener("touchmove",ae,Yh)}function me(){var Pe=A();Pe.removeEventListener("mousedown",j,!0),Pe.removeEventListener("touchend",j,Yh),Pe.removeEventListener("touchstart",re,Yh),Pe.removeEventListener("touchmove",ae,Yh)}function K(Pe,Qe){be(Pe,function(){!T.state.isVisible&&D.parentNode&&D.parentNode.contains(D)&&Qe()})}function q(Pe,Qe){be(Pe,Qe)}function be(Pe,Qe){var Ce=Q().box;function $e(vt){vt.target===Ce&&(z8(Ce,"remove",$e),Qe())}if(Pe===0)return Qe();z8(Ce,"remove",h),z8(Ce,"add",$e),h=$e}function pe(Pe,Qe,Ce){Ce===void 0&&(Ce=!1);var $e=zm(T.props.triggerTarget||r);$e.forEach(function(vt){vt.addEventListener(Pe,Qe,Ce),m.push({node:vt,eventType:Pe,handler:Qe,options:Ce})})}function ie(){Z()&&(pe("touchstart",Ee,{passive:!0}),pe("touchend",he,{passive:!0})),I6e(T.props.trigger).forEach(function(Pe){if(Pe!=="manual")switch(pe(Pe,Ee),Pe){case"mouseenter":pe("mouseleave",he);break;case"focus":pe(K6e?"focusout":"blur",V);break;case"focusin":pe("focusout",V);break}})}function le(){m.forEach(function(Pe){var Qe=Pe.node,Ce=Pe.eventType,$e=Pe.handler,vt=Pe.options;Qe.removeEventListener(Ce,$e,vt)}),m=[]}function Ee(Pe){var Qe,Ce=!1;if(!(!T.state.isEnabled||R(Pe)||l)){var $e=((Qe=d)==null?void 0:Qe.type)==="focus";d=Pe,g=Pe.currentTarget,ee(),!T.state.isVisible&&U6e(Pe)&&uw.forEach(function(vt){return vt(Pe)}),Pe.type==="click"&&(T.props.trigger.indexOf("mouseenter")<0||s)&&T.props.hideOnClick!==!1&&T.state.isVisible?Ce=!0:se(Pe),Pe.type==="click"&&(s=!Ce),Ce&&!$e&&ge(Pe)}}function M(Pe){var Qe=Pe.target,Ce=F().contains(Qe)||D.contains(Qe);if(!(Pe.type==="mousemove"&&Ce)){var $e=ve().concat(D).map(function(vt){var zt,Yt=vt._tippy,fe=(zt=Yt.popperInstance)==null?void 0:zt.state;return fe?{popperRect:vt.getBoundingClientRect(),popperState:fe,props:n}:null}).filter(Boolean);H6e($e,Pe)&&(X(),ge(Pe))}}function he(Pe){var Qe=R(Pe)||T.props.trigger.indexOf("click")>=0&&s;if(!Qe){if(T.props.interactive){T.hideWithInteractivity(Pe);return}ge(Pe)}}function V(Pe){T.props.trigger.indexOf("focusin")<0&&Pe.target!==F()||T.props.interactive&&Pe.relatedTarget&&D.contains(Pe.relatedTarget)||ge(Pe)}function R(Pe){return el.isTouch?Z()!==Pe.type.indexOf("touch")>=0:!1}function N(){B();var Pe=T.props,Qe=Pe.popperOptions,Ce=Pe.placement,$e=Pe.offset,vt=Pe.getReferenceClientRect,zt=Pe.moveTransition,Yt=$()?aD(D).arrow:null,fe=vt?{getBoundingClientRect:vt,contextElement:vt.contextElement||F()}:r,xe={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(at){var Nt=at.state;if($()){var pn=Q(),tn=pn.box;["placement","reference-hidden","escaped"].forEach(function(pi){pi==="placement"?tn.setAttribute("data-placement",Nt.placement):Nt.attributes.popper["data-popper-"+pi]?tn.setAttribute("data-"+pi,""):tn.removeAttribute("data-"+pi)}),Nt.attributes.popper={}}}},_e=[{name:"offset",options:{offset:$e}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!zt}},xe];$()&&Yt&&_e.push({name:"arrow",options:{element:Yt,padding:3}}),_e.push.apply(_e,(Qe==null?void 0:Qe.modifiers)||[]),T.popperInstance=N6e(fe,D,Object.assign({},Qe,{placement:Ce,onFirstUpdate:f,modifiers:_e}))}function B(){T.popperInstance&&(T.popperInstance.destroy(),T.popperInstance=null)}function ue(){var Pe=T.props.appendTo,Qe,Ce=F();T.props.interactive&&Pe===dre||Pe==="parent"?Qe=Ce.parentNode:Qe=hre(Pe,[Ce]),Qe.contains(D)||Qe.appendChild(D),T.state.isMounted=!0,N()}function ve(){return X4(D.querySelectorAll("[data-tippy-root]"))}function se(Pe){T.clearDelayTimeouts(),Pe&&ne("onTrigger",[T,Pe]),de();var Qe=H(!0),Ce=W(),$e=Ce[0],vt=Ce[1];el.isTouch&&$e==="hold"&&vt&&(Qe=vt),Qe?i=setTimeout(function(){T.show()},Qe):T.show()}function ge(Pe){if(T.clearDelayTimeouts(),ne("onUntrigger",[T,Pe]),!T.state.isVisible){me();return}if(!(T.props.trigger.indexOf("mouseenter")>=0&&T.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Pe.type)>=0&&s)){var Qe=H(!1);Qe?o=setTimeout(function(){T.state.isVisible&&T.hide()},Qe):a=requestAnimationFrame(function(){T.hide()})}}function Se(){T.state.isEnabled=!0}function Te(){T.hide(),T.state.isEnabled=!1}function De(){clearTimeout(i),clearTimeout(o),cancelAnimationFrame(a)}function Le(Pe){if(!T.state.isDestroyed){ne("onBeforeUpdate",[T,Pe]),le();var Qe=T.props,Ce=Aj(r,Object.assign({},Qe,Tj(Pe),{ignoreAttributes:!0}));T.props=Ce,ie(),Qe.interactiveDebounce!==Ce.interactiveDebounce&&(X(),b=Sj(M,Ce.interactiveDebounce)),Qe.triggerTarget&&!Ce.triggerTarget?zm(Qe.triggerTarget).forEach(function($e){$e.removeAttribute("aria-expanded")}):Ce.triggerTarget&&r.removeAttribute("aria-expanded"),ee(),G(),I&&I(Qe,Ce),T.popperInstance&&(N(),ve().forEach(function($e){requestAnimationFrame($e._tippy.popperInstance.forceUpdate)})),ne("onAfterUpdate",[T,Pe])}}function Ke(Pe){T.setProps({content:Pe})}function pt(){var Pe=T.state.isVisible,Qe=T.state.isDestroyed,Ce=!T.state.isEnabled,$e=el.isTouch&&!T.props.touch,vt=I8(T.props.duration,0,Es.duration);if(!(Pe||Qe||Ce||$e)&&!F().hasAttribute("disabled")&&(ne("onShow",[T],!1),T.props.onShow(T)!==!1)){if(T.state.isVisible=!0,$()&&(D.style.visibility="visible"),G(),de(),T.state.isMounted||(D.style.transition="none"),$()){var zt=Q(),Yt=zt.box,fe=zt.content;$8([Yt,fe],0)}f=function(){var _e;if(!(!T.state.isVisible||u)){if(u=!0,D.offsetHeight,D.style.transition=T.props.moveTransition,$()&&T.props.animation){var Ue=Q(),at=Ue.box,Nt=Ue.content;$8([at,Nt],vt),Ej([at,Nt],"visible")}J(),ee(),kj(L8,T),(_e=T.popperInstance)==null||_e.forceUpdate(),ne("onMount",[T]),T.props.animation&&$()&&q(vt,function(){T.state.isShown=!0,ne("onShown",[T])})}},ue()}}function jt(){var Pe=!T.state.isVisible,Qe=T.state.isDestroyed,Ce=!T.state.isEnabled,$e=I8(T.props.duration,1,Es.duration);if(!(Pe||Qe||Ce)&&(ne("onHide",[T],!1),T.props.onHide(T)!==!1)){if(T.state.isVisible=!1,T.state.isShown=!1,u=!1,s=!1,$()&&(D.style.visibility="hidden"),X(),me(),G(!0),$()){var vt=Q(),zt=vt.box,Yt=vt.content;T.props.animation&&($8([zt,Yt],$e),Ej([zt,Yt],"hidden"))}J(),ee(),T.props.animation?$()&&K($e,T.unmount):T.unmount()}}function Ne(Pe){A().addEventListener("mousemove",b),kj(uw,b),b(Pe)}function Ye(){T.state.isVisible&&T.hide(),T.state.isMounted&&(B(),ve().forEach(function(Pe){Pe._tippy.unmount()}),D.parentNode&&D.parentNode.removeChild(D),L8=L8.filter(function(Pe){return Pe!==T}),T.state.isMounted=!1,ne("onHidden",[T]))}function Ze(){T.state.isDestroyed||(T.clearDelayTimeouts(),T.unmount(),le(),delete r._tippy,T.state.isDestroyed=!0,ne("onDestroy",[T]))}}function eu(r,e){e===void 0&&(e={});var n=Es.plugins.concat(e.plugins||[]);q6e();var i=Object.assign({},e,{plugins:n}),o=j6e(r),a=o.reduce(function(s,l){var c=l&&nke(l,i);return c&&s.push(c),s},[]);return H5(r)?a[0]:a}eu.defaultProps=Es;eu.setDefaultProps=J6e;eu.currentInput=el;Object.assign({},ere,{effect:function(e){var n=e.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow)}});var rke={name:"sticky",defaultValue:!1,fn:function(e){var n=e.reference,i=e.popper;function o(){return e.popperInstance?e.popperInstance.state.elements.reference:n}function a(u){return e.props.sticky===!0||e.props.sticky===u}var s=null,l=null;function c(){var u=a("reference")?o().getBoundingClientRect():null,d=a("popper")?i.getBoundingClientRect():null;(u&&Rj(s,u)||d&&Rj(l,d))&&e.popperInstance&&e.popperInstance.update(),s=u,l=d,e.state.isMounted&&requestAnimationFrame(c)}return{onMount:function(){e.props.sticky&&c()}}}};function Rj(r,e){return r&&e?r.top!==e.top||r.right!==e.right||r.bottom!==e.bottom||r.left!==e.left:!0}eu.setDefaultProps({render:mre});let ike=class{constructor({editor:e,element:n,view:i,tippyOptions:o={},updateDelay:a=250,shouldShow:s}){this.preventHide=!1,this.shouldShow=({view:l,state:c,from:u,to:d})=>{const{doc:h,selection:f}=c,{empty:m}=f,b=!h.textBetween(u,d).length&&qR(c.selection),g=this.element.contains(document.activeElement);return!(!(l.hasFocus()||g)||m||b||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:l})=>{var c;if(this.preventHide){this.preventHide=!1;return}l!=null&&l.relatedTarget&&!((c=this.element.parentNode)===null||c===void 0)&&c.contains(l.relatedTarget)||(l==null?void 0:l.relatedTarget)!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=l=>{this.blurHandler({event:l})},this.handleDebouncedUpdate=(l,c)=>{const u=!(c!=null&&c.selection.eq(l.state.selection)),d=!(c!=null&&c.doc.eq(l.state.doc));!u&&!d||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(l,u,d,c)},this.updateDelay))},this.updateHandler=(l,c,u,d)=>{var h,f,m;const{state:b,composing:g}=l,{selection:v}=b;if(g||!c&&!u)return;this.createTooltip();const{ranges:x}=v,w=Math.min(...x.map(T=>T.$from.pos)),k=Math.max(...x.map(T=>T.$to.pos));if(!(!((h=this.shouldShow)===null||h===void 0)&&h.call(this,{editor:this.editor,element:this.element,view:l,state:b,oldState:d,from:w,to:k}))){this.hide();return}(f=this.tippy)===null||f===void 0||f.setProps({getReferenceClientRect:((m=this.tippyOptions)===null||m===void 0?void 0:m.getReferenceClientRect)||(()=>{if(Zne(b.selection)){let T=l.nodeDOM(w);if(T){const _=T.dataset.nodeViewWrapper?T:T.querySelector("[data-node-view-wrapper]");if(_&&(T=_.firstChild),T)return T.getBoundingClientRect()}}return q5e(l,w,k)})}),this.show()},this.editor=e,this.element=n,this.view=i,this.updateDelay=a,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=o,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=eu(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,n){const{state:i}=e,o=i.selection.from!==i.selection.to;if(this.updateDelay>0&&o){this.handleDebouncedUpdate(e,n);return}const a=!(n!=null&&n.selection.eq(e.state.selection)),s=!(n!=null&&n.doc.eq(e.state.doc));this.updateHandler(e,a,s,n)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,n;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}};const gre=r=>new $n({key:typeof r.pluginKey=="string"?new Ln(r.pluginKey):r.pluginKey,view:e=>new ike({view:e,...r})});Sn.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[gre({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});function oke(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var yre={exports:{}},U8={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nj;function ake(){if(Nj)return U8;Nj=1;var r=dt;function e(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:e,i=r.useState,o=r.useEffect,a=r.useLayoutEffect,s=r.useDebugValue;function l(h,f){var m=f(),b=i({inst:{value:m,getSnapshot:f}}),g=b[0].inst,v=b[1];return a(function(){g.value=m,g.getSnapshot=f,c(g)&&v({inst:g})},[h,m,f]),o(function(){return c(g)&&v({inst:g}),h(function(){c(g)&&v({inst:g})})},[h]),s(m),m}function c(h){var f=h.getSnapshot;h=h.value;try{var m=f();return!n(h,m)}catch{return!0}}function u(h,f){return f()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return U8.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:d,U8}yre.exports=ake();var nN=yre.exports;const ske=(...r)=>e=>{r.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},lke=({contentComponent:r})=>{const e=nN.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getServerSnapshot);return dt.createElement(dt.Fragment,null,Object.values(e))};function cke(){const r=new Set;let e={};return{subscribe(n){return r.add(n),()=>{r.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,i){e={...e,[n]:wR.createPortal(i.reactElement,i.element,n)},r.forEach(o=>o())},removeRenderer(n){const i={...e};delete i[n],e=i,r.forEach(o=>o())}}}let uke=class extends dt.Component{constructor(e){var n;super(e),this.editorContentRef=dt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=cke(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(i=>i.hasContentComponentInitialized?i:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...i}=this.props;return dt.createElement(dt.Fragment,null,dt.createElement("div",{ref:ske(n,this.editorContentRef),...i}),(e==null?void 0:e.contentComponent)&&dt.createElement(lke,{contentComponent:e.contentComponent}))}};const dke=P.forwardRef((r,e)=>{const n=dt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[r.editor]);return dt.createElement(uke,{key:n,innerRef:e,...r})}),hke=dt.memo(dke);var fke=function r(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,o,a;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(o=i;o--!==0;)if(!r(e[o],n[o]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(o of e.entries())if(!n.has(o[0]))return!1;for(o of e.entries())if(!r(o[1],n.get(o[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(o of e.entries())if(!n.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(i=e.length,i!=n.length)return!1;for(o=i;o--!==0;)if(e[o]!==n[o])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),i=a.length,i!==Object.keys(n).length)return!1;for(o=i;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[o]))return!1;for(o=i;o--!==0;){var s=a[o];if(!(s==="_owner"&&e.$$typeof)&&!r(e[s],n[s]))return!1}return!0}return e!==e&&n!==n},pke=oke(fke),bre={exports:{}},B8={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oj;function mke(){if(Oj)return B8;Oj=1;var r=dt,e=nN;function n(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var i=typeof Object.is=="function"?Object.is:n,o=e.useSyncExternalStore,a=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue;return B8.useSyncExternalStoreWithSelector=function(u,d,h,f,m){var b=a(null);if(b.current===null){var g={hasValue:!1,value:null};b.current=g}else g=b.current;b=l(function(){function x(D){if(!w){if(w=!0,k=D,D=f(D),m!==void 0&&g.hasValue){var I=g.value;if(m(I,D))return T=I}return T=D}if(I=T,i(k,D))return I;var L=f(D);return m!==void 0&&m(I,L)?I:(k=D,T=L)}var w=!1,k,T,_=h===void 0?null:h;return[function(){return x(d())},_===null?void 0:function(){return x(_())}]},[d,h,f,m]);var v=o(u,b[0],b[1]);return s(function(){g.hasValue=!0,g.value=v},[v]),c(v),v},B8}bre.exports=mke();var gke=bre.exports;const yke=typeof window<"u"?P.useLayoutEffect:P.useEffect;let bke=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(o=>o())},i=this.editor;return i.on("transaction",n),()=>{i.off("transaction",n)}}}};function vke(r){var e;const[n]=P.useState(()=>new bke(r.editor)),i=gke.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,r.selector,(e=r.equalityFn)!==null&&e!==void 0?e:pke);return yke(()=>n.watch(r.editor),[r.editor,n]),P.useDebugValue(i),i}const xke=!1,sD=typeof window>"u",wke=sD||!!(typeof window<"u"&&window.next);let Ske=class vre{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?sD||wke?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...n)=>{var i,o;return(o=(i=this.options.current).onBeforeCreate)===null||o===void 0?void 0:o.call(i,...n)},onBlur:(...n)=>{var i,o;return(o=(i=this.options.current).onBlur)===null||o===void 0?void 0:o.call(i,...n)},onCreate:(...n)=>{var i,o;return(o=(i=this.options.current).onCreate)===null||o===void 0?void 0:o.call(i,...n)},onDestroy:(...n)=>{var i,o;return(o=(i=this.options.current).onDestroy)===null||o===void 0?void 0:o.call(i,...n)},onFocus:(...n)=>{var i,o;return(o=(i=this.options.current).onFocus)===null||o===void 0?void 0:o.call(i,...n)},onSelectionUpdate:(...n)=>{var i,o;return(o=(i=this.options.current).onSelectionUpdate)===null||o===void 0?void 0:o.call(i,...n)},onTransaction:(...n)=>{var i,o;return(o=(i=this.options.current).onTransaction)===null||o===void 0?void 0:o.call(i,...n)},onUpdate:(...n)=>{var i,o;return(o=(i=this.options.current).onUpdate)===null||o===void 0?void 0:o.call(i,...n)},onContentError:(...n)=>{var i,o;return(o=(i=this.options.current).onContentError)===null||o===void 0?void 0:o.call(i,...n)},onDrop:(...n)=>{var i,o;return(o=(i=this.options.current).onDrop)===null||o===void 0?void 0:o.call(i,...n)},onPaste:(...n)=>{var i,o;return(o=(i=this.options.current).onPaste)===null||o===void 0?void 0:o.call(i,...n)}};return new TSe(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(i=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(i)?!0:i==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((o,a)=>{var s;return o===((s=n.extensions)===null||s===void 0?void 0:s[a])}):e[i]===n[i])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?vre.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((n,i)=>n===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function kke(r={},e=[]){const n=P.useRef(r);n.current=r;const[i]=P.useState(()=>new Ske(n)),o=nN.useSyncExternalStore(i.subscribe,i.getEditor,i.getServerSnapshot);return P.useDebugValue(o),P.useEffect(i.onRender(e)),vke({editor:o,selector:({transactionNumber:a})=>r.shouldRerenderOnTransaction===!1?null:r.immediatelyRender&&a===0?0:a+1}),o}const xre=P.createContext({editor:null});xre.Consumer;const Tke=()=>P.useContext(xre),va=r=>{const[e,n]=P.useState(null),{editor:i}=Tke();return P.useEffect(()=>{var o;if(!e||!((o=r.editor)===null||o===void 0)&&o.isDestroyed||i!=null&&i.isDestroyed)return;const{pluginKey:a="bubbleMenu",editor:s,tippyOptions:l={},updateDelay:c,shouldShow:u=null}=r,d=s||i;if(!d){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const h=gre({updateDelay:c,editor:d,element:e,pluginKey:a,shouldShow:u,tippyOptions:l});return d.registerPlugin(h),()=>{d.unregisterPlugin(a)}},[r.editor,i,e]),dt.createElement("div",{ref:n,className:r.className,style:{visibility:"hidden"}},r.children)},wre=P.createContext({onDragStart:void 0}),Eke=()=>P.useContext(wre),ua=dt.forwardRef((r,e)=>{const{onDragStart:n}=Eke(),i=r.as||"div";return dt.createElement(i,{...r,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...r.style}})});function Cke(r){return!!(typeof r=="function"&&r.prototype&&r.prototype.isReactComponent)}function _ke(r){var e;return typeof r=="object"&&((e=r.$$typeof)===null||e===void 0?void 0:e.toString())==="Symbol(react.forward_ref)"}let W5=class{constructor(e,{editor:n,props:i={},as:o="div",className:a=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=n,this.props=i,this.element=document.createElement(o),this.element.classList.add("react-renderer"),a&&this.element.classList.add(...a.split(" ")),this.editor.isInitialized?Wd.flushSync(()=>{this.render()}):this.render()}render(){var e;const n=this.component,i=this.props,o=this.editor;(Cke(n)||_ke(n))&&(i.ref=a=>{this.ref=a}),this.reactElement=dt.createElement(n,{...i}),(e=o==null?void 0:o.contentComponent)===null||e===void 0||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;const n=this.editor;(e=n==null?void 0:n.contentComponent)===null||e===void 0||e.removeRenderer(this.id)}updateAttributes(e){Object.keys(e).forEach(n=>{this.element.setAttribute(n,e[n])})}},Ake=class extends ESe{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(l={})=>this.updateAttributes(l),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const l=c=>c.charAt(0).toUpperCase()+c.substring(1);this.component.displayName=l(this.extension.name)}const n={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:l=>{l&&this.contentDOMElement&&l.firstChild!==this.contentDOMElement&&l.appendChild(this.contentDOMElement)}},i=this.component,o=dt.memo(l=>dt.createElement(wre.Provider,{value:n},dt.createElement(i,l)));o.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.style.whiteSpace="inherit");let a=this.node.isInline?"span":"div";this.options.as&&(a=this.options.as);const{className:s=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new W5(o,{editor:this.editor,props:e,as:a,className:`node-${this.node.type.name} ${s}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var e;if(this.renderer.element.firstElementChild&&!(!((e=this.renderer.element.firstElementChild)===null||e===void 0)&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:n}=this.editor.state.selection,i=this.getPos();if(typeof i=="number")if(e<=i&&n>=i+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,n,i){const o=a=>{this.renderer.updateProps(a),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const a=this.node,s=this.decorations,l=this.innerDecorations;return this.node=e,this.decorations=n,this.innerDecorations=i,this.options.update({oldNode:a,oldDecorations:s,newNode:e,newDecorations:n,oldInnerDecorations:l,innerDecorations:i,updateProps:()=>o({node:e,decorations:n,innerDecorations:i})})}return e===this.node&&this.decorations===n&&this.innerDecorations===i||(this.node=e,this.decorations=n,this.innerDecorations=i,o({node:e,decorations:n,innerDecorations:i})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let e={};if(typeof this.options.attrs=="function"){const n=this.editor.extensionManager.attributes,i=V4(this.node,n);e=this.options.attrs({node:this.node,HTMLAttributes:i})}else e=this.options.attrs;this.renderer.updateAttributes(e)}}};function Ps(r,e){return n=>n.editor.contentComponent?new Ake(r,n,e):{}}function Sre(r){var e,n,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(n=Sre(r[e]))&&(i&&(i+=" "),i+=n)}else for(n in r)r[n]&&(i&&(i+=" "),i+=n);return i}function pr(){for(var r,e,n=0,i="",o=arguments.length;n<o;n++)(r=arguments[n])&&(e=Sre(r))&&(i&&(i+=" "),i+=e);return i}function Dke(r){try{return JSON.stringify(r)}catch{return JSON.stringify({})}}function ro(r,e=!1){return n=>{const i=r.startsWith("data-")?r:`data-${r}`;let o=decodeURIComponent(n.getAttribute(i));if(o==null||typeof o=="string"&&o==="null")try{const s=n.outerHTML.match(/([\S\s])+?="([\S\s])+?"/g);s&&s.length>0&&(o=(s.map(l=>l.trim()).reduce((l,c)=>{const u=c.indexOf("="),d=[c.slice(0,u),c.slice(u+1).slice(1,-1)];return l[d[0]]=d[1],l},{})[r.toLowerCase()]||"").replaceAll("&quot;",'"'))}catch(s){console.error("Error getDatasetAttribute ",s.message,n)}if(e)try{return JSON.parse(o)}catch{return{}}if(o.includes("%")||o.includes("auto"))return o;const a=Number.parseInt(o);return a!==a?o:a}}function Mke(r){const{attrs:e}=r;return Object.keys(e).reduce((n,i)=>{const o=e[i];if(o==null)return n;let a="";return typeof o=="object"?a=Dke(o):a=o,n[i]=a,n},Object.create(null))}function Pj(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function V5(...r){return e=>{let n=!1;const i=r.map(o=>{const a=Pj(o,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<i.length;o++){const a=i[o];typeof a=="function"?a():Pj(r[o],null)}}}}function vn(...r){return P.useCallback(V5(...r),r)}function _d(r){const e=Rke(r),n=P.forwardRef((i,o)=>{const{children:a,...s}=i,l=P.Children.toArray(a),c=l.find(Oke);if(c){const u=c.props.children,d=l.map(h=>h===c?P.Children.count(u)>1?P.Children.only(null):P.isValidElement(u)?u.props.children:null:h);return E.jsx(e,{...s,ref:o,children:P.isValidElement(u)?P.cloneElement(u,void 0,d):null})}return E.jsx(e,{...s,ref:o,children:a})});return n.displayName=`${r}.Slot`,n}var rN=_d("Slot");function Rke(r){const e=P.forwardRef((n,i)=>{const{children:o,...a}=n;if(P.isValidElement(o)){const s=Ike(o),l=Pke(a,o.props);return o.type!==P.Fragment&&(l.ref=i?V5(i,s):s),P.cloneElement(o,l)}return P.Children.count(o)>1?P.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var kre=Symbol("radix.slottable");function Nke(r){const e=({children:n})=>E.jsx(E.Fragment,{children:n});return e.displayName=`${r}.Slottable`,e.__radixId=kre,e}function Oke(r){return P.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===kre}function Pke(r,e){const n={...e};for(const i in e){const o=r[i],a=e[i];/^on[A-Z]/.test(i)?o&&a?n[i]=(...l)=>{const c=a(...l);return o(...l),c}:o&&(n[i]=o):i==="style"?n[i]={...o,...a}:i==="className"&&(n[i]=[o,a].filter(Boolean).join(" "))}return{...r,...n}}function Ike(r){var i,o;let e=(i=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?r.ref:(e=(o=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}var $ke=Object.defineProperty,zke=(r,e,n)=>e in r?$ke(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,Lke=(r,e,n)=>zke(r,e+"",n);const Uke="en",Bke=200,jke=Bke-80,q5=20,Ad=1e5,Dd=16,dw=10,hw=10,fw=2,Fke=["#000000","#262626","#595959","#8C8C8C","#BFBFBF","#D9D9D9","#E9E9E9","#F5F5F5","#FAFAFA","#FFFFFF","#F5222D","#FA541C","#FA8C16","#FADB14","#52C41A","#13C2C2","#1890FF","#2F54EB","#722ED1","#EB2F96","#FFE8E6","#FFECE0","#FFEFD1","#FCFCCA","#E4F7D2","#D3F5F0","#D4EEFC","#DEE8FC","#EFE1FA","#FAE1EB","#FFA39E","#FFBB96","#FFD591","#FFFB8F","#B7EB8F","#87E8DE","#91D5FF","#ADC6FF","#D3ADF7","#FFADD2","#FF4D4F","#FF7A45","#FFA940","#FFEC3D","#73D13D","#36CFC9","#40A9FF","#597EF7","#9254DE","#F759AB","#CF1322","#D4380D","#D46B08","#D4B106","#389E0D","#08979C","#096DD9","#1D39C4","#531DAB","#C41D7F","#820014","#871400","#873800","#614700","#135200","#00474F","#003A8C","#061178","#22075E","#780650"],Hke=["Inter","Comic Sans MS, Comic Sans","serif","cursive","Arial","Arial Black","Georgia","Impact","Tahoma","Times New Roman","Verdana","Courier New","Lucida Console","Monaco","monospace"],Wke=["10px","11px","12px","14px","16px","18px","20px","22px","24px","26px","28px","36px","48px","72px"],Ij="default";var lb=(r=>(r[r["size-small"]=200]="size-small",r[r["size-medium"]=500]="size-medium",r["size-large"]="100%",r))(lb||{}),Y4=(r=>(r[r["size-small"]=480]="size-small",r[r["size-medium"]=640]="size-medium",r["size-large"]="100%",r))(Y4||{});const Vke=["100%","115%","150%","200%","250%","300%"],Tre="1",qke=["bold","italic","underline","strike","code","link","divider","color","highlight","textAlign"];function Gke({updateComputed:r,notifyEffect:e}){let n,i;return{link(u,d){const h=d.depsTail;if(h!==void 0&&h.dep===u)return;const f=h!==void 0?h.nextDep:d.deps;if(f!==void 0&&f.dep===u){d.depsTail=f;return}const m=u.subsTail;if(!(m!==void 0&&m.sub===d&&l(m,d)))return o(u,d,f,h)},propagate(u){let d=32,h=u,f=0;e:do{const m=u.sub,b=m.flags;if(!(b&244)&&(m.flags=b|d|8,!0)||b&16&&!(b&4)&&(m.flags=b&-17|d|8,!0)||!(b&224)&&l(u,m)&&(m.flags=b|16|d|8,m.subs!==void 0)){const g=m.subs;if(g!==void 0){g.nextSub!==void 0?(g.prevSub=h,u=h=g,d=64,++f):(u=g,d=b&2?128:64);continue}b&2&&(i!==void 0?i.depsTail.nextDep=m.deps:n=m,i=m)}else b&(4|d)?!(b&d)&&b&224&&l(u,m)&&(m.flags=b|d):(m.flags=b|d|8,(b&10)===2&&(i!==void 0?i.depsTail.nextDep=m.deps:n=m,i=m));if((u=h.nextSub)!==void 0){h=u,d=f?64:32;continue}for(;f;){--f;const g=h.dep.subs;if(h=g.prevSub,g.prevSub=void 0,(u=h.nextSub)!==void 0){h=u,d=f?64:32;continue e}}break}while(!0)},startTracking(u){u.depsTail=void 0,u.flags=u.flags&-249|4},endTracking(u){const d=u.depsTail;if(d!==void 0){const h=d.nextDep;h!==void 0&&(c(h),d.nextDep=void 0)}else u.deps!==void 0&&(c(u.deps),u.deps=void 0);u.flags&=-5},updateDirtyFlag(u,d){return a(u.deps)?(u.flags=d|32,!0):(u.flags=d&-65,!1)},processComputedUpdate(u,d){if((d&32||a(u.deps)||(u.flags=d&-65,!1))&&r(u)){const h=u.subs;h!==void 0&&s(h)}},processPendingInnerEffects(u,d){if(d&128){u.flags=d&-129;let h=u.deps;do{const f=h.dep;"flags"in f&&f.flags&2&&f.flags&224&&e(f),h=h.nextDep}while(h!==void 0)}},processEffectNotifications(){for(;n!==void 0;){const u=n,d=u.depsTail,h=d.nextDep;h!==void 0?(d.nextDep=void 0,n=h.sub):(n=void 0,i=void 0),e(u)||(u.flags&=-9)}}};function o(u,d,h,f){const m={dep:u,sub:d,nextDep:h,prevSub:void 0,nextSub:void 0};if(f===void 0?d.deps=m:f.nextDep=m,u.subs===void 0)u.subs=m;else{const b=u.subsTail;m.prevSub=b,b.nextSub=m}return d.depsTail=m,u.subsTail=m,m}function a(u){let d=0,h;e:do{h=!1;const f=u.dep;if("flags"in f){const m=f.flags;if((m&33)===33){if(r(f)){const b=f.subs;b.nextSub!==void 0&&s(b),h=!0}}else if((m&65)===65){const b=f.subs;b.nextSub!==void 0&&(b.prevSub=u),u=f.deps,++d;continue}}if(!h&&u.nextDep!==void 0){u=u.nextDep;continue}if(d){let m=u.sub;do{--d;const b=m.subs;if(h){if(r(m)){(u=b.prevSub)!==void 0?(b.prevSub=void 0,s(m.subs),m=u.sub):m=b.sub;continue}}else m.flags&=-65;if((u=b.prevSub)!==void 0){if(b.prevSub=void 0,u.nextDep!==void 0){u=u.nextDep;continue e}m=u.sub}else{if((u=b.nextDep)!==void 0)continue e;m=b.sub}h=!1}while(d)}return h}while(!0)}function s(u){do{const d=u.sub,h=d.flags;(h&96)===64&&(d.flags=h|32|8,(h&10)===2&&(i!==void 0?i.depsTail.nextDep=d.deps:n=d,i=d)),u=u.nextSub}while(u!==void 0)}function l(u,d){const h=d.depsTail;if(h!==void 0){let f=d.deps;do{if(f===u)return!0;if(f===h)break;f=f.nextDep}while(f!==void 0)}return!1}function c(u){do{const d=u.dep,h=u.nextDep,f=u.nextSub,m=u.prevSub;if(f!==void 0?f.prevSub=m:d.subsTail=m,m!==void 0?m.nextSub=f:d.subs=f,d.subs===void 0&&"deps"in d){const b=d.flags;b&32||(d.flags=b|32);const g=d.deps;if(g!==void 0){u=g,d.depsTail.nextDep=h,d.deps=void 0,d.depsTail=void 0;continue}}u=h}while(u!==void 0)}}var{link:Ere,propagate:Kke,updateDirtyFlag:Xke,startTracking:iN,endTracking:oN,processEffectNotifications:Yke,processComputedUpdate:jmt,processPendingInnerEffects:Cre}=Gke({updateComputed(r){const e=bl;bl=r,iN(r);try{const n=r.currentValue,i=r.getter(n);return n!==i?(r.currentValue=i,!0):!1}finally{bl=e,oN(r)}},notifyEffect(r){return"isScope"in r?eTe(r):Qke(r)}}),bl;function Zke(r){return tTe.bind({currentValue:r,subs:void 0,subsTail:void 0})}function Jke(r){const e={fn:r,subs:void 0,subsTail:void 0,deps:void 0,depsTail:void 0,flags:2};return bl!==void 0&&Ere(e,bl),_re(e),nTe.bind(e)}function _re(r){const e=bl;bl=r,iN(r);try{r.fn()}finally{bl=e,oN(r)}}function Qke(r){const e=r.flags;return e&32||e&64&&Xke(r,e)?_re(r):Cre(r,r.flags),!0}function eTe(r){return r.flags&128?(Cre(r,r.flags),!0):!1}function tTe(...r){if(r.length){if(this.currentValue!==(this.currentValue=r[0])){const e=this.subs;e!==void 0&&(Kke(e),Yke())}}else return bl!==void 0&&Ere(this,bl),this.currentValue}function nTe(){iN(this),oN(this)}function Are(r){return Zke(r)}function rTe(r){return[P.useSyncExternalStore(e=>{let n=Jke(()=>{r(),e()});return()=>n()},()=>r(),()=>r()),e=>{r(typeof e=="function"?e(r()):e)}]}const iTe={"editor.remove":"Remove","editor.copy":"Copy","editor.words":"WORDS","editor.characters":"CHARACTERS","editor.default":"Default","editor.recent":"Recently Used","editor.nofill":"No Fill","editor.format":"Format Painter","editor.delete":"Delete","editor.edit":"Edit","editor.settings":"Settings","editor.table_of_content":"Table of Content","editor.draghandle.tooltip":"Modify","editor.copyToClipboard":"CopyToClipboard","editor.slash":"Press '/' for commands","editor.slash.empty":"No Result","editor.slash.format":"Format","editor.slash.insert":"Insert","editor.slash.embed":"Embed Services","editor.content":"Please input content","editor.fontFamily.tooltip":"Font Family","editor.fontFamily.default.tooltip":"Default","editor.moremark":"More Text Styles","editor.size.small.tooltip":"Small","editor.size.medium.tooltip":"Medium","editor.size.large.tooltip":"Cover","editor.bold.tooltip":"Bold","editor.italic.tooltip":"Italic","editor.underline.tooltip":"Underline","editor.strike.tooltip":"Strike","editor.color.tooltip":"Color","editor.color.more":"More Colors","editor.highlight.tooltip":"Highlight","editor.lineheight.tooltip":"Line Height","editor.heading.tooltip":"Headings","editor.heading.h1.tooltip":"Heading 1","editor.heading.h2.tooltip":"Heading 2","editor.heading.h3.tooltip":"Heading 3","editor.heading.h4.tooltip":"Heading 4","editor.heading.h5.tooltip":"Heading 5","editor.heading.h6.tooltip":"Heading 6","editor.paragraph.tooltip":"Paragraph","editor.textalign.tooltip":"Align","editor.textalign.left.tooltip":"Left","editor.textalign.center.tooltip":"Center","editor.textalign.right.tooltip":"Right","editor.textalign.justify.tooltip":"Justify","editor.indent":"Indent","editor.indent.indent":"Increase Indent","editor.indent.outdent":"Decrease Indent","editor.fontSize.tooltip":"Font size","editor.fontSize.default.tooltip":"Default","editor.superscript.tooltip":"Superscript","editor.subscript.tooltip":"Subscript","editor.bulletlist.tooltip":"Bullet List","editor.orderedlist.tooltip":"Ordered List","editor.tasklist.tooltip":"Task List","editor.indent.tooltip":"Indent","editor.outdent.tooltip":"Outdent","editor.columns.tooltip":"Columns","editor.link.tooltip":"Link","editor.link.unlink.tooltip":"UnLink","editor.link.open.tooltip":"Open Link","editor.link.edit.tooltip":"Edit Link","editor.link.dialog.title":"Insert Link","editor.link.dialog.link":"Link","editor.link.dialog.text":"Text","editor.link.dialog.openInNewTab":"Open In New Tab","editor.link.dialog.link.placeholder":"Link Address","editor.link.dialog.text.placeholder":"Add Description","editor.link.dialog.button.apply":"Apply","editor.image.tooltip":"Image","editor.image.dragger.tooltip":"Click or drag the image to the area to upload","editor.image.float.left.tooltip":"Float left","editor.image.float.none.tooltip":"Float none","editor.image.float.right.tooltip":"Float right","editor.image.dialog.title":"Add an image","editor.image.dialog.tab.url":"Url","editor.image.dialog.tab.upload":"Upload","editor.image.dialog.tab.uploadCrop":"Upload & Crop","editor.image.dialog.uploading":"Uploading","editor.link.dialog.inline":"Inline","editor.image.dialog.form.link":"Link","editor.image.dialog.placeholder":"Link","editor.image.dialog.form.alt":"Alt","editor.image.dialog.form.aspectRatio":"Lock original aspect ratio","editor.image.dialog.form.file":"File","editor.image.dialog.button.apply":"Apply","editor.video.tooltip":"Video","editor.video.dialog.tab.upload":"Upload","editor.video.dialog.uploading":"Uploading","editor.video.dialog.title":"Embed or upload a video","editor.video.dialog.link":"Link","editor.video.dialog.placeholder":"Link","editor.video.dialog.button.apply":"Apply","editor.table.tooltip":"Table","editor.table.menu.insert_table":"Insert Table","editor.table.menu.insert_table.with_header_row":"With header row","editor.table.menu.add_column_before":"Add Column Before","editor.table.menu.add_column_after":"Add Column After","editor.table.menu.delete_column":"Delete Column","editor.table.menu.add_row_before":"Add Row Before","editor.table.menu.add_row_after":"Add Row After","editor.table.menu.delete_row":"Delete Row","editor.table.menu.merge_or_split_cells":"Merge Or Split Cells","editor.table.menu.delete_table":"Delete Table","editor.blockquote.tooltip":"Blockquote","editor.horizontalrule.tooltip":"Horizontal Rule","editor.code.tooltip":"Code","editor.codeblock.tooltip":"Code Block","editor.clear.tooltip":"Clear Format","editor.undo.tooltip":"Undo","editor.redo.tooltip":"Redo","editor.fullscreen.tooltip.fullscreen":"Fullscreen","editor.fullscreen.tooltip.exit":"Fullscreen Exit","editor.imageUpload.cancel":"Cancel","editor.imageUpload.crop":"Crop","editor.imageUpload.fileTypeNotSupported":"File type not supported","editor.imageUpload.fileSizeTooBig":"File size too big, Maximum size is","editor.table.menu.insertColumnBefore":"Insert Column Before","editor.table.menu.insertColumnAfter":"Insert Column After","editor.table.menu.deleteColumn":"Delete Column","editor.table.menu.insertRowAbove":"Insert Row Above","editor.table.menu.insertRowBelow":"Insert Row Below","editor.table.menu.deleteRow":"Delete Row","editor.table.menu.mergeCells":"Merge Cells","editor.table.menu.splitCells":"Split Cells","editor.table.menu.deleteTable":"Delete Table","editor.table.menu.setCellsBgColor":"Cell Background Color","editor.emoji.tooltip":"Emoji","editor.iframe.tooltip":"Iframe","editor.searchAndReplace.tooltip":"Search and Replace","editor.search.dialog.text":"Search","editor.replace.dialog.text":"Replace","editor.replaceAll.dialog.text":"Replace All","editor.previous.dialog.text":"Previous","editor.next.dialog.text":"Next",no_result_found:"No results found","Smileys & People":"Smileys & People","Animals & Nature":"Animals & Nature","Food & Drink":"Food & Drink",Activity:"Activity","Travel & Places":"Travel & Places",Object:"Objects",Symbol:"Symbols",Flags:"Flags","Frequently used":"Frequently used","editor.formula.dialog.text":"Formula","editor.katex.tooltip":"Math Formula","editor.exportPdf.tooltip":"Export PDF","editor.exportWord.tooltip":"Export Word","editor.importWord.tooltip":"Import Word","editor.importWord.limitSize":"File size cannot exceed","editor.importWord.converting":"Converting Word document, please wait...","editor.importWord.convertError":"Error parsing Word document","editor.importWord.importError":"Error importing Word document","editor.textDirection.tooltip":"Text Direction","editor.textDirection.auto.tooltip":"Auto","editor.textDirection.ltr.tooltip":"Left to Right","editor.textDirection.rtl.tooltip":"Right to Left","editor.attachment.tooltip":"Attachment","editor.attachment.uploading":"Uploading","editor.attachment.please_upload":"Please upload the file","editor.imageGif.tooltip":"Gif","editor.replace.caseSensitive":"Case Sensitive","editor.mermaid.tooltip":"Mermaid","editor.twitter.tooltip":"Twitter","editor.codeView.tooltip":"Code View","editor.tooltip.flipX":"Flip Horizontal","editor.tooltip.flipY":"Flip Vertical"},oTe={"editor.remove":"Remover","editor.copy":"Copiar","editor.words":"PALAVRAS","editor.characters":"CARACTERES","editor.default":"Padro","editor.recent":"Usado recentemente","editor.nofill":"Sem preenchimento","editor.format":"Format Painter","editor.delete":"Deletar","editor.edit":"Editar","editor.settings":"Configuraes","editor.table_of_content":"Tabela de contedos","editor.draghandle.tooltip":"Modificar","editor.copyToClipboard":"Copiar para a rea de transferncia","editor.slash":"Pressione '/' para comandos","editor.slash.empty":"Nenhum resultado","editor.slash.format":"Formato","editor.slash.insert":"Inserir","editor.slash.embed":"Incorporar servios","editor.content":"Por favor, insira o contedo","editor.fontFamily.tooltip":"Fonte","editor.fontFamily.default.tooltip":"Padro","editor.moremark":"Mais estilos de texto","editor.size.small.tooltip":"Pequeno","editor.size.medium.tooltip":"Mdio","editor.size.large.tooltip":"Grande","editor.bold.tooltip":"Negrito","editor.italic.tooltip":"Itlico","editor.underline.tooltip":"Sublinhado","editor.strike.tooltip":"Riscado","editor.color.tooltip":"Cor","editor.color.more":"Mais cores","editor.highlight.tooltip":"Destaque","editor.lineheight.tooltip":"Altura da linha","editor.heading.tooltip":"Cabealhos","editor.heading.h1.tooltip":"Cabealho 1","editor.heading.h2.tooltip":"Cabealho 2","editor.heading.h3.tooltip":"Cabealho 3","editor.heading.h4.tooltip":"Cabealho 4","editor.heading.h5.tooltip":"Cabealho 5","editor.heading.h6.tooltip":"Cabealho 6","editor.paragraph.tooltip":"Pargrafo","editor.textalign.tooltip":"Alinhar","editor.textalign.left.tooltip":"Esquerda","editor.textalign.center.tooltip":"Centro","editor.textalign.right.tooltip":"Direita","editor.textalign.justify.tooltip":"Justificar","editor.indent":"Recuo","editor.indent.indent":"Aumentar recuo","editor.indent.outdent":"Diminuir recuo","editor.fontSize.tooltip":"Tamanho da fonte","editor.fontSize.default.tooltip":"Padro","editor.superscript.tooltip":"Sobrescrito","editor.subscript.tooltip":"Subscrito","editor.bulletlist.tooltip":"Lista de marcadores","editor.orderedlist.tooltip":"Lista numerada","editor.tasklist.tooltip":"Lista de tarefas","editor.indent.tooltip":"Recuo","editor.outdent.tooltip":"Diminuir recuo","editor.columns.tooltip":"Colunas","editor.link.tooltip":"Link","editor.link.unlink.tooltip":"Desvincular","editor.link.open.tooltip":"Abrir link","editor.link.edit.tooltip":"Editar link","editor.link.dialog.title":"Inserir link","editor.link.dialog.link":"Link","editor.link.dialog.text":"Texto","editor.link.dialog.openInNewTab":"Abrir em nova guia","editor.link.dialog.link.placeholder":"Endereo do link","editor.link.dialog.text.placeholder":"Texto do link","editor.link.dialog.button.apply":"Aplicar","editor.image.tooltip":"Imagem","editor.image.dragger.tooltip":"Clique ou arraste a imagem para a rea de upload","editor.image.float.left.tooltip":"Flutuar  esquerda","editor.image.float.none.tooltip":"Nenhum flutuante","editor.image.float.right.tooltip":"Flutuar  direita","editor.image.dialog.title":"Adicionar uma imagem","editor.image.dialog.tab.url":"Url","editor.image.dialog.tab.upload":"Enviar","editor.link.dialog.inline":"Inline","editor.image.dialog.tab.uploadCrop":"Enviar e cortar","editor.image.dialog.uploading":"Enviando","editor.image.dialog.form.link":"Link","editor.image.dialog.placeholder":"Link","editor.image.dialog.form.alt":"Alt","editor.image.dialog.form.aspectRatio":"Bloquear proporo original","editor.image.dialog.form.file":"Arquivo","editor.image.dialog.button.apply":"Aplicar","editor.video.tooltip":"Vdeo","editor.video.dialog.tab.upload":"Enviar","editor.video.dialog.uploading":"Enviando","editor.video.dialog.title":"Incorporar ou enviar um vdeo","editor.video.dialog.link":"Link","editor.video.dialog.placeholder":"Link","editor.video.dialog.button.apply":"Aplicar","editor.table.tooltip":"Tabela","editor.table.menu.insert_table":"Inserir tabela","editor.table.menu.insert_table.with_header_row":"Com linha de cabealho","editor.table.menu.add_column_before":"Adicionar coluna antes","editor.table.menu.add_column_after":"Adicionar coluna depois","editor.table.menu.delete_column":"Excluir coluna","editor.table.menu.add_row_before":"Adicionar linha antes","editor.table.menu.add_row_after":"Adicionar linha depois","editor.table.menu.delete_row":"Deletar linha","editor.table.menu.merge_or_split_cells":"Mesclar ou dividir clulas","editor.table.menu.delete_table":"Deletar tabela","editor.blockquote.tooltip":"Citao","editor.horizontalrule.tooltip":"Regra horizontal","editor.code.tooltip":"Cdigo","editor.codeblock.tooltip":"Bloco de cdigo","editor.clear.tooltip":"Limpar formato","editor.undo.tooltip":"Desfazer","editor.redo.tooltip":"Refazer","editor.fullscreen.tooltip.fullscreen":"Tela cheia","editor.fullscreen.tooltip.exit":"Sair da tela cheia","editor.imageUpload.cancel":"Cancelar","editor.imageUpload.crop":"Cortar","editor.imageUpload.fileTypeNotSupported":"Tipo de arquivo no suportado","editor.imageUpload.fileSizeTooBig":"Tamanho do arquivo muito grande, tamanho mximo ","editor.table.menu.insertColumnBefore":"Inserir coluna antes","editor.table.menu.insertColumnAfter":"Inserir coluna depois","editor.table.menu.deleteColumn":"Excluir coluna","editor.table.menu.insertRowAbove":"Inserir linha acima","editor.table.menu.insertRowBelow":"Inserir linha abaixo","editor.table.menu.deleteRow":"Deletar linha","editor.table.menu.mergeCells":"Mesclar clulas","editor.table.menu.splitCells":"Dividir clulas","editor.table.menu.deleteTable":"Deletar tabela","editor.table.menu.setCellsBgColor":"Cor de fundo da clula","editor.emoji.tooltip":"Emoji","editor.iframe.tooltip":"Iframe","editor.searchAndReplace.tooltip":"Pesquisar e substituir","editor.search.dialog.text":"Pesquisar","editor.replace.dialog.text":"Substituir","editor.replaceAll.dialog.text":"Substituir tudo","editor.previous.dialog.text":"Anterior","editor.next.dialog.text":"Prximo",no_result_found:"Nenhum resultado encontrado","Smileys & People":"Emoticons & Pessoas","Animals & Nature":"Animais & Natureza","Food & Drink":"Comida & Bebida",Activity:"Atividade","Travel & Places":"Viagem & Lugares",Object:"Objetos",Symbol:"Smbolos",Flags:"Bandeiras","Frequently used":"Frequentemente usado","editor.formula.dialog.text":"Frmula","editor.katex.tooltip":"Frmula matemtica","editor.exportPdf.tooltip":"Exportar PDF","editor.exportWord.tooltip":"Exportar Word","editor.importWord.tooltip":"Importar Word","editor.importWord.limitSize":"O tamanho do arquivo no pode exceder","editor.importWord.converting":"Convertendo documento do Word, aguarde...","editor.importWord.convertError":"Erro ao analisar documento do Word","editor.importWord.importError":"Erro ao importar documento do Word","editor.textDirection.tooltip":"Direo do texto","editor.textDirection.auto.tooltip":"Automtico","editor.textDirection.ltr.tooltip":"Esquerda para Direita","editor.textDirection.rtl.tooltip":"Direita para Esquerda","editor.attachment.tooltip":"Anexo","editor.attachment.uploading":"Enviando","editor.attachment.please_upload":"Por favor, envie o arquivo","editor.imageGif.tooltip":"Gif","editor.replace.caseSensitive":"Sensvel a maisculas e minsculas","editor.mermaid.tooltip":"Mermaid","editor.twitter.tooltip":"Twitter","editor.codeView.tooltip":"Visualizao de cdigo","editor.tooltip.flipX":"Inverter Horizontal","editor.tooltip.flipY":"Inverter Vertical"},aTe={"editor.remove":"Xa","editor.copy":"Sao chp","editor.words":"T","editor.characters":"K T","editor.default":"Mc nh","editor.recent":" s dng gn y","editor.nofill":"Khng t","editor.format":"Format Painter","editor.delete":"Xa","editor.edit":"Chnh sa","editor.settings":"Ci t","editor.table_of_content":"Mc lc","editor.draghandle.tooltip":"Sa i","editor.copyToClipboard":"CopyToClipboard","editor.slash":"Nhn '/'  bit lnh","editor.slash.empty":"Khng c kt qu","editor.slash.format":"nh dng","editor.slash.insert":"Chn","editor.slash.embed":"Dch v nhng","editor.content":"Vui lng nhp ni dung","editor.moremark":"Nhiu kiu vn bn hn","editor.size.small.tooltip":"Nh","editor.fontFamily.tooltip":"Phng ch","editor.fontFamily.default.tooltip":"Mc nh","editor.size.medium.tooltip":"Trung bnh","editor.size.large.tooltip":"Ln","editor.bold.tooltip":"m","editor.italic.tooltip":"In nghing","editor.underline.tooltip":"Gch chn","editor.strike.tooltip":"Gch","editor.color.tooltip":"Mu","editor.color.more":"Nhiu mu hn","editor.highlight.tooltip":"nh du","editor.lineheight.tooltip":"Chiu cao dng","editor.heading.tooltip":"Tiu ","editor.heading.h1.tooltip":"Tiu  1","editor.heading.h2.tooltip":"Tiu  2","editor.heading.h3.tooltip":"Tiu  3","editor.heading.h4.tooltip":"Tiu  4","editor.heading.h5.tooltip":"Tiu  5","editor.heading.h6.tooltip":"Tiu  6","editor.paragraph.tooltip":"on vn","editor.textalign.tooltip":"Cn chnh","editor.textalign.left.tooltip":"Tri","editor.textalign.center.tooltip":"Gia","editor.textalign.right.tooltip":"Phi","editor.textalign.justify.tooltip":"Cn u","editor.indent":"Tht l","editor.indent.indent":"Tng tht l","editor.indent.outdent":"Gim tht l","editor.fontSize.tooltip":"Kch thc phng ch","editor.fontSize.default.tooltip":"Mc nh","editor.superscript.tooltip":"Ch s trn","editor.subscript.tooltip":"Ch s di","editor.bulletlist.tooltip":"Danh sch du u dng","editor.orderedlist.tooltip":"Danh sch c th t","editor.tasklist.tooltip":"Danh sch tc v","editor.indent.tooltip":"Tng tht l","editor.outdent.tooltip":"Gim tht l","editor.columns.tooltip":"Ct","editor.link.tooltip":"Lin kt","editor.link.unlink.tooltip":"Hy lin kt","editor.link.open.tooltip":"M lin kt","editor.link.edit.tooltip":"Chnh sa lin kt","editor.link.dialog.title":"Chn lin kt","editor.link.dialog.link":"Lin kt","editor.link.dialog.text":"Vn bn","editor.link.dialog.openInNewTab":"M trong tab mi","editor.link.dialog.link.placeholder":"a ch lin kt","editor.link.dialog.text.placeholder":"Thm m t","editor.link.dialog.button.apply":"p dng","editor.image.tooltip":"Hnh nh","editor.image.dragger.tooltip":"Nhp hoc ko hnh nh n khu vc  ti ln","editor.image.float.left.tooltip":"Tri sang tri","editor.image.float.none.tooltip":"Tri khng","editor.image.float.right.tooltip":"Tri sang phi","editor.image.dialog.title":"Thm hnh nh","editor.image.dialog.tab.url":"Url","editor.image.dialog.tab.upload":"Ti ln","editor.link.dialog.inline":"Inline","editor.image.dialog.tab.uploadCrop":"Ti ln & Ct","editor.image.dialog.uploading":"ang ti ln","editor.image.dialog.form.link":"Lin kt","editor.image.dialog.placeholder":"Lin kt","editor.image.dialog.form.alt":"Alt","editor.image.dialog.form.aspectRatio":"Kha t l khung hnh gc","editor.image.dialog.form.file":"Tp","editor.image.dialog.button.apply":"p dng","editor.video.tooltip":"Video","editor.video.dialog.tab.upload":"Ti ln","editor.video.dialog.uploading":"ang ti ln","editor.video.dialog.title":"Nhng hoc ti ln video","editor.video.dialog.link":"Lin kt","editor.video.dialog.placeholder":"Lin kt","editor.video.dialog.button.apply":"p dng","editor.table.tooltip":"Bng","editor.table.menu.insert_table":"Chn Bng","editor.table.menu.insert_table.with_header_row":"C hng tiu ","editor.table.menu.add_column_before":"Thm Ct Trc","editor.table.menu.add_column_after":"Thm Ct Sau","editor.table.menu.delete_column":"Xa Ct","editor.table.menu.add_row_before":"Thm Hng Trc","editor.table.menu.add_row_after":"Thm Hng Sau","editor.table.menu.delete_row":"Xa Hng","editor.table.menu.merge_or_split_cells":"Gp Hoc Tch ","editor.table.menu.delete_table":"Xa Bng","editor.blockquote.tooltip":"Blockquote","editor.horizontalrule.tooltip":"Quy tc ngang","editor.code.tooltip":"M","editor.codeblock.tooltip":"Khi m","editor.clear.tooltip":"Xa nh dng","editor.undo.tooltip":"Hon tc","editor.redo.tooltip":"Lm li","editor.fullscreen.tooltip.fullscreen":"Ton mn hnh","editor.fullscreen.tooltip.exit":"Thot ton mn hnh","editor.imageUpload.cancel":"Hy","editor.imageUpload.crop":"Ct","editor.imageUpload.fileTypeNotSupported":"Loi tp khng c h tr","editor.imageUpload.fileSizeTooBig":"Kch thc tp qu ln, Kch thc ti a l","editor.table.menu.insertColumnBefore":"Chn ct trc","editor.table.menu.insertColumnAfter":"Chn ct sau","editor.table.menu.deleteColumn":"Xa ct","editor.table.menu.insertRowAbove":"Chn hng  trn","editor.table.menu.insertRowBelow":"Chn hng  di","editor.table.menu.deleteRow":"Xa hng","editor.table.menu.mergeCells":"Gp cc ","editor.table.menu.splitCells":"Chia ","editor.table.menu.deleteTable":"Xa bng","editor.table.menu.setCellsBgColor":"Mu nn ","editor.emoji.tooltip":"Biu tng","editor.iframe.tooltip":"Iframe","editor.searchAndReplace.tooltip":"Tm kim v thay th","editor.search.dialog.text":"Tm kim","editor.replace.dialog.text":"Thay th","editor.replaceAll.dialog.text":"Thay th tt c","editor.previous.dialog.text":"Trc","editor.next.dialog.text":"Tip theo",no_result_found:"Khng tm thy kt qu","Smileys & People":"Ci & Mi ngi","Animals & Nature":"ng vt & Thin nhin","Food & Drink":"Thc n &  ung",Activity:"Hot ng","Travel & Places":"Du lch & a im",Object:"Vt",Symbol:"K hiu",Flags:"C","Frequently used":"Thng xuyn s dng","editor.formula.dialog.text":"Cng thc","editor.katex.tooltip":"Cng thc ton hc","editor.exportPdf.tooltip":"Xut PDF","editor.exportWord.tooltip":"Xut Word","editor.importWord.tooltip":"Nhp Word","editor.importWord.limitSize":"Kch thc tp khng c vt qu","editor.importWord.converting":"ang chuyn i ti liu Word, vui lng i...","editor.importWord.convertError":"Li khi phn tch ti liu Word","editor.importWord.importError":"Li khi nhp ti liu Word","editor.textDirection.tooltip":"Hng vn bn","editor.textDirection.auto.tooltip":"T ng","editor.textDirection.ltr.tooltip":"Tri sang Phi","editor.textDirection.rtl.tooltip":"Phi sang Tri","editor.attachment.tooltip":"nh km","editor.attachment.uploading":"ang ti ln","editor.attachment.please_upload":"Vui lng ti ln tp","editor.imageGif.tooltip":"Gif","editor.replace.caseSensitive":"Phn bit ch hoa ch thng","editor.mermaid.tooltip":"Mermaid","editor.twitter.tooltip":"Twitter","editor.codeView.tooltip":"Xem m","editor.tooltip.flipX":"Lt Ngang","editor.tooltip.flipY":"Lt Dc"},sTe={"editor.remove":"","editor.copy":"","editor.words":"","editor.characters":"","editor.default":"","editor.recent":"","editor.nofill":"","editor.format":"","editor.delete":"","editor.edit":"","editor.settings":"","editor.table_of_content":"","editor.draghandle.tooltip":"","editor.copyToClipboard":"","editor.slash":" '/' ","editor.slash.empty":"","editor.slash.format":"","editor.slash.insert":"","editor.slash.embed":"","editor.content":"","editor.fontFamily.tooltip":"","editor.fontFamily.default.tooltip":"","editor.moremark":"","editor.size.small.tooltip":"","editor.size.medium.tooltip":"","editor.size.large.tooltip":"","editor.bold.tooltip":"","editor.italic.tooltip":"","editor.underline.tooltip":"","editor.strike.tooltip":"","editor.color.tooltip":"","editor.color.more":"","editor.highlight.tooltip":"","editor.lineheight.tooltip":"","editor.heading.tooltip":"","editor.heading.h1.tooltip":" 1","editor.heading.h2.tooltip":" 2","editor.heading.h3.tooltip":" 3","editor.heading.h4.tooltip":" 4","editor.heading.h5.tooltip":" 5","editor.heading.h6.tooltip":" 6","editor.paragraph.tooltip":"","editor.textalign.tooltip":"","editor.textalign.left.tooltip":"","editor.textalign.center.tooltip":"","editor.textalign.right.tooltip":"","editor.textalign.justify.tooltip":"","editor.indent":"","editor.indent.indent":"","editor.indent.outdent":"","editor.fontSize.tooltip":"","editor.fontSize.default.tooltip":"","editor.superscript.tooltip":"","editor.subscript.tooltip":"","editor.bulletlist.tooltip":"","editor.orderedlist.tooltip":"","editor.tasklist.tooltip":"","editor.indent.tooltip":"","editor.outdent.tooltip":"","editor.columns.tooltip":"","editor.link.tooltip":"","editor.link.unlink.tooltip":"","editor.link.open.tooltip":"","editor.link.edit.tooltip":"","editor.link.dialog.title":"","editor.link.dialog.link":"","editor.link.dialog.text":"","editor.link.dialog.openInNewTab":"","editor.link.dialog.link.placeholder":"","editor.link.dialog.text.placeholder":"","editor.link.dialog.button.apply":"","editor.image.tooltip":"","editor.image.dragger.tooltip":"","editor.image.float.left.tooltip":"","editor.image.float.none.tooltip":"","editor.image.float.right.tooltip":"","editor.image.dialog.title":"","editor.image.dialog.tab.url":"","editor.image.dialog.tab.upload":"","editor.link.dialog.inline":"","editor.image.dialog.uploading":"","editor.image.dialog.form.link":"","editor.image.dialog.placeholder":"","editor.image.dialog.form.alt":"","editor.image.dialog.form.aspectRatio":"","editor.image.dialog.form.file":"","editor.image.dialog.button.apply":"","editor.video.tooltip":"","editor.video.dialog.tab.upload":"","editor.image.dialog.tab.uploadCrop":"","editor.video.dialog.uploading":"","editor.video.dialog.title":"","editor.video.dialog.link":"","editor.video.dialog.placeholder":"","editor.video.dialog.button.apply":"","editor.table.tooltip":"","editor.table.menu.insert_table":"","editor.table.menu.insert_table.with_header_row":"","editor.table.menu.add_column_before":"","editor.table.menu.add_column_after":"","editor.table.menu.delete_column":"","editor.table.menu.add_row_before":"","editor.table.menu.add_row_after":"","editor.table.menu.delete_row":"","editor.table.menu.merge_or_split_cells":"","editor.table.menu.delete_table":"","editor.blockquote.tooltip":"","editor.horizontalrule.tooltip":"","editor.code.tooltip":"","editor.codeblock.tooltip":"","editor.clear.tooltip":"","editor.undo.tooltip":"","editor.redo.tooltip":"","editor.fullscreen.tooltip.fullscreen":"","editor.fullscreen.tooltip.exit":"","editor.imageUpload.cancel":"","editor.imageUpload.crop":"","editor.imageUpload.fileTypeNotSupported":"","editor.imageUpload.fileSizeTooBig":"","editor.table.menu.insertColumnBefore":"","editor.table.menu.insertColumnAfter":"","editor.table.menu.deleteColumn":"","editor.table.menu.insertRowAbove":"","editor.table.menu.insertRowBelow":"","editor.table.menu.deleteRow":"","editor.table.menu.mergeCells":"","editor.table.menu.splitCells":"","editor.table.menu.deleteTable":"","editor.table.menu.setCellsBgColor":"","editor.emoji.tooltip":"","editor.iframe.tooltip":"","editor.searchAndReplace.tooltip":"","editor.search.dialog.text":"","editor.replace.dialog.text":"","editor.replaceAll.dialog.text":"","editor.previous.dialog.text":"","editor.next.dialog.text":"",no_result_found:"","Smileys & People":"","Animals & Nature":"","Food & Drink":"",Activity:"","Travel & Places":"",Object:"",Symbol:"",Flags:"","Frequently used":"","editor.formula.dialog.text":"","editor.katex.tooltip":"","editor.exportPdf.tooltip":" PDF","editor.exportWord.tooltip":" Word","editor.importWord.tooltip":" Word","editor.importWord.limitSize":"","editor.importWord.converting":" Word ...","editor.importWord.convertError":" Word ","editor.importWord.importError":" Word ","editor.textDirection.tooltip":"","editor.textDirection.auto.tooltip":"","editor.textDirection.ltr.tooltip":"","editor.textDirection.rtl.tooltip":"","editor.attachment.tooltip":"","editor.attachment.uploading":"","editor.attachment.please_upload":"","editor.imageGif.tooltip":"Gif","editor.replace.caseSensitive":"","editor.mermaid.tooltip":"Mermaid","editor.twitter.tooltip":"Twitter","editor.codeView.tooltip":"","editor.tooltip.flipX":"","editor.tooltip.flipY":""},lTe={"editor.remove":"Eltvolts","editor.copy":"Msols","editor.words":"SZAVAK","editor.characters":"KARAKTEREK","editor.default":"Alaprtelmezett","editor.recent":"Gyakran hasznlt","editor.nofill":"Kitlts trlse","editor.format":"Formtummsol","editor.delete":"Trls","editor.edit":"Szerkeszts","editor.settings":"Belltsok","editor.table_of_content":"Tartalomjegyzk","editor.draghandle.tooltip":"Mdosts","editor.copyToClipboard":"Msols vglapra","editor.slash":"Nyomja meg a '/' gombot a parancsokhoz","editor.slash.empty":"Nincs tallat","editor.slash.format":"Formtum","editor.slash.insert":"Beszrs","editor.slash.embed":"Szolgltatsok begyazsa","editor.content":"rjon be tartalmat","editor.fontFamily.tooltip":"Bettpus","editor.fontFamily.default.tooltip":"Alaprtelmezett","editor.moremark":"Tbb betstlus","editor.size.small.tooltip":"Kicsi","editor.size.medium.tooltip":"Kzepes","editor.size.large.tooltip":"Bortkp","editor.bold.tooltip":"Flkvr","editor.italic.tooltip":"Dlt bet","editor.underline.tooltip":"Alhzott","editor.strike.tooltip":"thzott","editor.color.tooltip":"Szn","editor.color.more":"Tbb szn","editor.highlight.tooltip":"Kiemels","editor.lineheight.tooltip":"Sorkz","editor.heading.tooltip":"Fejlcek","editor.heading.h1.tooltip":"Fejlc 1","editor.heading.h2.tooltip":"Fejlc 2","editor.heading.h3.tooltip":"Fejlc 3","editor.heading.h4.tooltip":"Fejlc 4","editor.heading.h5.tooltip":"Fejlc 5","editor.heading.h6.tooltip":"Fejlc 6","editor.paragraph.tooltip":"Bekezds","editor.textalign.tooltip":"Igazts","editor.textalign.left.tooltip":"Bal","editor.textalign.center.tooltip":"Kzp","editor.textalign.right.tooltip":"Jobb","editor.textalign.justify.tooltip":"Sorkizrt","editor.indent":"Behzs","editor.indent.indent":"Behzs Nvelse","editor.indent.outdent":"Behzs Cskkentse","editor.fontSize.tooltip":"Betmret","editor.fontSize.default.tooltip":"Alaprtelmezett","editor.superscript.tooltip":"Fels index","editor.subscript.tooltip":"Als index","editor.bulletlist.tooltip":"Felsorols","editor.orderedlist.tooltip":"Rendezett lista","editor.tasklist.tooltip":"Feladat lista","editor.indent.tooltip":"Behzs nvelse","editor.outdent.tooltip":"Behzs cskkentse","editor.columns.tooltip":"Oszlopok","editor.link.tooltip":"Link","editor.link.unlink.tooltip":"Link trlse","editor.link.open.tooltip":"Link megnyitsa","editor.link.edit.tooltip":"Link szerkesztse","editor.link.dialog.title":"Link beszrsa","editor.link.dialog.link":"Link","editor.link.dialog.text":"Szveg","editor.link.dialog.openInNewTab":"Megnyits j lapon","editor.link.dialog.link.placeholder":"Link clpont","editor.link.dialog.text.placeholder":"Szveg","editor.link.dialog.button.apply":"Alkalmaz","editor.image.tooltip":"Kp","editor.image.dragger.tooltip":"Kattintson vagy hzza a feltlteni kvnt kpet a terletre","editor.image.float.left.tooltip":"Lebegtets balra","editor.image.float.none.tooltip":"Lebegtets trlse","editor.image.float.right.tooltip":"Lebegtets jobbra","editor.image.dialog.title":"Kp hozzadsa","editor.image.dialog.tab.url":"URL","editor.image.dialog.tab.upload":"Feltlts","editor.image.dialog.tab.uploadCrop":"Feltlts s krbevgs","editor.image.dialog.uploading":"Feltlts alatt","editor.link.dialog.inline":"Soron belli","editor.image.dialog.form.link":"Link","editor.image.dialog.placeholder":"Link","editor.image.dialog.form.alt":"Alternatv szveg","editor.image.dialog.form.aspectRatio":"Eredeti kparny megtartsa","editor.image.dialog.form.file":"Fjl","editor.image.dialog.button.apply":"Alkalmaz","editor.video.tooltip":"Vide","editor.video.dialog.tab.upload":"Feltlts","editor.video.dialog.uploading":"Feltlts alatt","editor.video.dialog.title":"Vide begyazsa vagy feltltse","editor.video.dialog.link":"Link","editor.video.dialog.placeholder":"Link","editor.video.dialog.button.apply":"Alkalmaz","editor.table.tooltip":"Tblzat","editor.table.menu.insert_table":"Tblzat beszrsa","editor.table.menu.insert_table.with_header_row":"Fejlc sorral","editor.table.menu.add_column_before":"Oszlop beszrsa balra","editor.table.menu.add_column_after":"Oszlop beszrsa jobbra","editor.table.menu.delete_column":"Oszlop trlse","editor.table.menu.add_row_before":"Sor beszrsa fellre","editor.table.menu.add_row_after":"Sor beszrsa alulra","editor.table.menu.delete_row":"Sor trlse","editor.table.menu.merge_or_split_cells":"Cellk egyestse vagy sztvlasztsa","editor.table.menu.delete_table":"Tblzat trlse","editor.blockquote.tooltip":"Blokkidzet","editor.horizontalrule.tooltip":"Vzszintes vonal","editor.code.tooltip":"Kd","editor.codeblock.tooltip":"Kd Blokk","editor.clear.tooltip":"Formatls Trlse","editor.undo.tooltip":"Visszavons","editor.redo.tooltip":"Visszallts","editor.fullscreen.tooltip.fullscreen":"Teljes kpernys md","editor.fullscreen.tooltip.exit":"Kilps teljes kpernys mdbl","editor.imageUpload.cancel":"Mgsem","editor.imageUpload.crop":"Krbevgs","editor.imageUpload.fileTypeNotSupported":"Fjltpus nem tmogatott","editor.imageUpload.fileSizeTooBig":"A fjlmret tl nagy, a maximum mret","editor.table.menu.insertColumnBefore":"Oszlop beszrsa balra","editor.table.menu.insertColumnAfter":"Oszlop beszrsa jobbra","editor.table.menu.deleteColumn":"Oszlop trlse","editor.table.menu.insertRowAbove":"Sor beszrsa fellre","editor.table.menu.insertRowBelow":"Sor beszrsa alulra","editor.table.menu.deleteRow":"Sor trlse","editor.table.menu.mergeCells":"Cellk egyestse","editor.table.menu.splitCells":"Cellk sztvlasztsa","editor.table.menu.deleteTable":"Tblzat trlse","editor.table.menu.setCellsBgColor":"Cella httrszn","editor.emoji.tooltip":"Emoji","editor.iframe.tooltip":"Begyazs","editor.searchAndReplace.tooltip":"Keress s csere","editor.search.dialog.text":"Keres","editor.replace.dialog.text":"Csere","editor.replaceAll.dialog.text":"sszes cserje","editor.previous.dialog.text":"Elz","editor.next.dialog.text":"Kvetkez",no_result_found:"Nincs tallat","Smileys & People":"Arcok s emberek","Animals & Nature":"llatok s termszet","Food & Drink":"tel s ital",Activity:"Aktivits","Travel & Places":"Utazs s helyek",Object:"Trgyak",Symbol:"Szimblumok",Flags:"Zszlk","Frequently used":"Gyakran hasznlt","editor.formula.dialog.text":"Formula","editor.katex.tooltip":"Matematikai formula","editor.exportPdf.tooltip":"PDF exportlsa","editor.exportWord.tooltip":"Word exportlsa","editor.importWord.tooltip":"Word importlsa","editor.importWord.limitSize":"A fjl mrete nem haladhatja meg","editor.importWord.converting":"Word dokumentum konvertlsa, krjk, vrjon...","editor.importWord.convertError":"Hiba a Word-dokumentum elemzsekor","editor.importWord.importError":"Hiba a Word dokumentum importlsakor","editor.textDirection.tooltip":"Szvegirny","editor.textDirection.auto.tooltip":"Automatikus","editor.textDirection.ltr.tooltip":"Balrl jobbra","editor.textDirection.rtl.tooltip":"Jobbrl balra","editor.attachment.tooltip":"Csatolmny","editor.attachment.uploading":"Feltlts alatt","editor.attachment.please_upload":"Tltse fel a fjlt","editor.imageGif.tooltip":"Gif","editor.replace.caseSensitive":"Kisbet-nagybet rzkenysg","editor.mermaid.tooltip":"Mermaid","editor.twitter.tooltip":"Twitter","editor.codeView.tooltip":"Kdnzet","editor.tooltip.flipX":"Vzszintes tkrzs","editor.tooltip.flipY":"Fggleges tkrzs"};function Dre(r){return r=r||new Map,{all:r,on(e,n){const i=r.get(e);i?i.push(n):r.set(e,[n])},off(e,n){const i=r.get(e);i&&(n?i.splice(i.indexOf(n)>>>0,1):r.set(e,[]))},emit(e,n){let i=r.get(e);i&&[...i].map(o=>{o(n)}),i=r.get("*"),i&&[...i].map(o=>{o(e,n)})}}}const Lm={lang:Uke,message:{en:iTe,hu_HU:lTe,vi:aTe,zh_CN:sTe,pt_BR:oTe}};let cTe=class{constructor(){Lke(this,"emitter"),this.emitter=Dre()}get lang(){return Lm.lang}set lang(e){if(!this.isLangSupported(e)){console.warn(`Can't find the current language "${e}", Using language "${Lm.lang}" by default`);return}Lm.lang=e,this.emitter.emit("lang",e)}get message(){return Lm.message}set message(e){Lm.message=e}loadLangMessage(e){return this.message[e]}isLangSupported(e){return Object.keys(this.message).includes(e)}setLang(e){this.lang=e}registerWatchLang(e){return this.emitter.on("lang",e),{unsubscribe:()=>{this.emitter.off("lang",e)}}}setMessage(e,n){this.message[e]=n}buildLocalesHandler(e){e||(e=this.lang);const n=this.loadLangMessage(e);return function(i){return n[i]||i}}};const lD=new cTe,Mre=Are(Lm.lang);function Cn(){const[r,e]=rTe(Mre),n=P.useMemo(()=>lD.buildLocalesHandler(r),[r]);return P.useEffect(()=>{const i=lD.registerWatchLang(o=>{e(o)});return()=>{i.unsubscribe()}},[]),{lang:r,t:n}}const An={t:r=>lD.buildLocalesHandler(Mre())(r)};var uTe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bt=uTe.reduce((r,e)=>{const n=_d(`Primitive.${e}`),i=P.forwardRef((o,a)=>{const{asChild:s,...l}=o,c=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(c,{...l,ref:a})});return i.displayName=`Primitive.${e}`,{...r,[e]:i}},{});function aN(r,e){r&&Wd.flushSync(()=>r.dispatchEvent(e))}var dTe="Separator",$j="horizontal",hTe=["horizontal","vertical"],Rre=P.forwardRef((r,e)=>{const{decorative:n,orientation:i=$j,...o}=r,a=fTe(i)?i:$j,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return E.jsx(Bt.div,{"data-orientation":a,...l,...o,ref:e})});Rre.displayName=dTe;function fTe(r){return hTe.includes(r)}var Nre=Rre;function gt(r,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(r==null||r(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function pTe(r,e){const n=P.createContext(e),i=a=>{const{children:s,...l}=a,c=P.useMemo(()=>l,Object.values(l));return E.jsx(n.Provider,{value:c,children:s})};i.displayName=r+"Provider";function o(a){const s=P.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${r}\``)}return[i,o]}function xa(r,e=[]){let n=[];function i(a,s){const l=P.createContext(s),c=n.length;n=[...n,s];const u=h=>{var x;const{scope:f,children:m,...b}=h,g=((x=f==null?void 0:f[r])==null?void 0:x[c])||l,v=P.useMemo(()=>b,Object.values(b));return E.jsx(g.Provider,{value:v,children:m})};u.displayName=a+"Provider";function d(h,f){var g;const m=((g=f==null?void 0:f[r])==null?void 0:g[c])||l,b=P.useContext(m);if(b)return b;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const o=()=>{const a=n.map(s=>P.createContext(s));return function(l){const c=(l==null?void 0:l[r])||a;return P.useMemo(()=>({[`__scope${r}`]:{...l,[r]:c}}),[l,c])}};return o.scopeName=r,[i,mTe(o,...e)]}function mTe(...r){const e=r[0];if(r.length===1)return e;const n=()=>{const i=r.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const s=i.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function G5(r){const e=r+"CollectionProvider",[n,i]=xa(e),[o,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=g=>{const{scope:v,children:x}=g,w=dt.useRef(null),k=dt.useRef(new Map).current;return E.jsx(o,{scope:v,itemMap:k,collectionRef:w,children:x})};s.displayName=e;const l=r+"CollectionSlot",c=_d(l),u=dt.forwardRef((g,v)=>{const{scope:x,children:w}=g,k=a(l,x),T=vn(v,k.collectionRef);return E.jsx(c,{ref:T,children:w})});u.displayName=l;const d=r+"CollectionItemSlot",h="data-radix-collection-item",f=_d(d),m=dt.forwardRef((g,v)=>{const{scope:x,children:w,...k}=g,T=dt.useRef(null),_=vn(v,T),D=a(d,x);return dt.useEffect(()=>(D.itemMap.set(T,{ref:T,...k}),()=>void D.itemMap.delete(T))),E.jsx(f,{[h]:"",ref:_,children:w})});m.displayName=d;function b(g){const v=a(r+"CollectionConsumer",g);return dt.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const k=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((D,I)=>k.indexOf(D.ref.current)-k.indexOf(I.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:s,Slot:u,ItemSlot:m},b,i]}function fo(r){const e=P.useRef(r);return P.useEffect(()=>{e.current=r}),P.useMemo(()=>(...n)=>{var i;return(i=e.current)==null?void 0:i.call(e,...n)},[])}function gTe(r,e=globalThis==null?void 0:globalThis.document){const n=fo(r);P.useEffect(()=>{const i=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var yTe="DismissableLayer",cD="dismissableLayer.update",bTe="dismissableLayer.pointerDownOutside",vTe="dismissableLayer.focusOutside",zj,Ore=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),op=P.forwardRef((r,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:s,onDismiss:l,...c}=r,u=P.useContext(Ore),[d,h]=P.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=P.useState({}),b=vn(e,I=>h(I)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(v),w=d?g.indexOf(d):-1,k=u.layersWithOutsidePointerEventsDisabled.size>0,T=w>=x,_=wTe(I=>{const L=I.target,O=[...u.branches].some(W=>W.contains(L));!T||O||(o==null||o(I),s==null||s(I),I.defaultPrevented||l==null||l())},f),D=STe(I=>{const L=I.target;[...u.branches].some(W=>W.contains(L))||(a==null||a(I),s==null||s(I),I.defaultPrevented||l==null||l())},f);return gTe(I=>{w===u.layers.size-1&&(i==null||i(I),!I.defaultPrevented&&l&&(I.preventDefault(),l()))},f),P.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(zj=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Lj(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=zj)}},[d,f,n,u]),P.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Lj())},[d,u]),P.useEffect(()=>{const I=()=>m({});return document.addEventListener(cD,I),()=>document.removeEventListener(cD,I)},[]),E.jsx(Bt.div,{...c,ref:b,style:{pointerEvents:k?T?"auto":"none":void 0,...r.style},onFocusCapture:gt(r.onFocusCapture,D.onFocusCapture),onBlurCapture:gt(r.onBlurCapture,D.onBlurCapture),onPointerDownCapture:gt(r.onPointerDownCapture,_.onPointerDownCapture)})});op.displayName=yTe;var xTe="DismissableLayerBranch",Pre=P.forwardRef((r,e)=>{const n=P.useContext(Ore),i=P.useRef(null),o=vn(e,i);return P.useEffect(()=>{const a=i.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),E.jsx(Bt.div,{...r,ref:o})});Pre.displayName=xTe;function wTe(r,e=globalThis==null?void 0:globalThis.document){const n=fo(r),i=P.useRef(!1),o=P.useRef(()=>{});return P.useEffect(()=>{const a=l=>{if(l.target&&!i.current){let c=function(){Ire(bTe,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=c,e.addEventListener("click",o.current,{once:!0})):c()}else e.removeEventListener("click",o.current);i.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function STe(r,e=globalThis==null?void 0:globalThis.document){const n=fo(r),i=P.useRef(!1);return P.useEffect(()=>{const o=a=>{a.target&&!i.current&&Ire(vTe,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Lj(){const r=new CustomEvent(cD);document.dispatchEvent(r)}function Ire(r,e,n,{discrete:i}){const o=n.originalEvent.target,a=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(r,e,{once:!0}),i?aN(o,a):o.dispatchEvent(a)}var kTe=op,TTe=Pre,_i=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},ETe="Portal",Q0=P.forwardRef((r,e)=>{var l;const{container:n,...i}=r,[o,a]=P.useState(!1);_i(()=>a(!0),[]);const s=n||o&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return s?wR.createPortal(E.jsx(Bt.div,{...i,ref:e}),s):null});Q0.displayName=ETe;function CTe(r,e){return P.useReducer((n,i)=>e[n][i]??n,r)}var $o=r=>{const{present:e,children:n}=r,i=_Te(e),o=typeof n=="function"?n({present:i.isPresent}):P.Children.only(n),a=vn(i.ref,ATe(o));return typeof n=="function"||i.isPresent?P.cloneElement(o,{ref:a}):null};$o.displayName="Presence";function _Te(r){const[e,n]=P.useState(),i=P.useRef(null),o=P.useRef(r),a=P.useRef("none"),s=r?"mounted":"unmounted",[l,c]=CTe(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const u=pw(i.current);a.current=l==="mounted"?u:"none"},[l]),_i(()=>{const u=i.current,d=o.current;if(d!==r){const f=a.current,m=pw(u);r?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),o.current=r}},[r,c]),_i(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=m=>{const g=pw(i.current).includes(m.animationName);if(m.target===e&&g&&(c("ANIMATION_END"),!o.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},f=m=>{m.target===e&&(a.current=pw(i.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:P.useCallback(u=>{i.current=u?getComputedStyle(u):null,n(u)},[])}}function pw(r){return(r==null?void 0:r.animationName)||"none"}function ATe(r){var i,o;let e=(i=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?r.ref:(e=(o=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}var DTe=yee[" useInsertionEffect ".trim().toString()]||_i;function ma({prop:r,defaultProp:e,onChange:n=()=>{},caller:i}){const[o,a,s]=MTe({defaultProp:e,onChange:n}),l=r!==void 0,c=l?r:o;{const d=P.useRef(r!==void 0);P.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${i} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,i])}const u=P.useCallback(d=>{var h;if(l){const f=RTe(d)?d(r):d;f!==r&&((h=s.current)==null||h.call(s,f))}else a(d)},[l,r,a,s]);return[c,u]}function MTe({defaultProp:r,onChange:e}){const[n,i]=P.useState(r),o=P.useRef(n),a=P.useRef(e);return DTe(()=>{a.current=e},[e]),P.useEffect(()=>{var s;o.current!==n&&((s=a.current)==null||s.call(a,n),o.current=n)},[n,o]),[n,i,a]}function RTe(r){return typeof r=="function"}var $re=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NTe="VisuallyHidden",K5=P.forwardRef((r,e)=>E.jsx(Bt.span,{...r,ref:e,style:{...$re,...r.style}}));K5.displayName=NTe;var OTe=K5,sN="ToastProvider",[lN,PTe,ITe]=G5("Toast"),[zre,Hmt]=xa("Toast",[ITe]),[$Te,X5]=zre(sN),Lre=r=>{const{__scopeToast:e,label:n="Notification",duration:i=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:s}=r,[l,c]=P.useState(null),[u,d]=P.useState(0),h=P.useRef(!1),f=P.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${sN}\`. Expected non-empty \`string\`.`),E.jsx(lN.Provider,{scope:e,children:E.jsx($Te,{scope:e,label:n,duration:i,swipeDirection:o,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:P.useCallback(()=>d(m=>m+1),[]),onToastRemove:P.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:s})})};Lre.displayName=sN;var Ure="ToastViewport",zTe=["F8"],uD="toast.viewportPause",dD="toast.viewportResume",Bre=P.forwardRef((r,e)=>{const{__scopeToast:n,hotkey:i=zTe,label:o="Notifications ({hotkey})",...a}=r,s=X5(Ure,n),l=PTe(n),c=P.useRef(null),u=P.useRef(null),d=P.useRef(null),h=P.useRef(null),f=vn(e,h,s.onViewportChange),m=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=s.toastCount>0;P.useEffect(()=>{const v=x=>{var k;i.length!==0&&i.every(T=>x[T]||x.code===T)&&((k=h.current)==null||k.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[i]),P.useEffect(()=>{const v=c.current,x=h.current;if(b&&v&&x){const w=()=>{if(!s.isClosePausedRef.current){const D=new CustomEvent(uD);x.dispatchEvent(D),s.isClosePausedRef.current=!0}},k=()=>{if(s.isClosePausedRef.current){const D=new CustomEvent(dD);x.dispatchEvent(D),s.isClosePausedRef.current=!1}},T=D=>{!v.contains(D.relatedTarget)&&k()},_=()=>{v.contains(document.activeElement)||k()};return v.addEventListener("focusin",w),v.addEventListener("focusout",T),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",_),window.addEventListener("blur",w),window.addEventListener("focus",k),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",T),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",_),window.removeEventListener("blur",w),window.removeEventListener("focus",k)}}},[b,s.isClosePausedRef]);const g=P.useCallback(({tabbingDirection:v})=>{const w=l().map(k=>{const T=k.ref.current,_=[T,...YTe(T)];return v==="forwards"?_:_.reverse()});return(v==="forwards"?w.reverse():w).flat()},[l]);return P.useEffect(()=>{const v=h.current;if(v){const x=w=>{var _,D,I;const k=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!k){const L=document.activeElement,O=w.shiftKey;if(w.target===v&&O){(_=u.current)==null||_.focus();return}const $=g({tabbingDirection:O?"backwards":"forwards"}),F=$.findIndex(A=>A===L);j8($.slice(F+1))?w.preventDefault():O?(D=u.current)==null||D.focus():(I=d.current)==null||I.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[l,g]),E.jsxs(TTe,{ref:c,role:"region","aria-label":o.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&E.jsx(hD,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});j8(v)}}),E.jsx(lN.Slot,{scope:n,children:E.jsx(Bt.ol,{tabIndex:-1,...a,ref:f})}),b&&E.jsx(hD,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});j8(v)}})]})});Bre.displayName=Ure;var jre="ToastFocusProxy",hD=P.forwardRef((r,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:i,...o}=r,a=X5(jre,n);return E.jsx(K5,{"aria-hidden":!0,tabIndex:0,...o,ref:e,style:{position:"fixed"},onFocus:s=>{var u;const l=s.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&i()}})});hD.displayName=jre;var cv="Toast",LTe="toast.swipeStart",UTe="toast.swipeMove",BTe="toast.swipeCancel",jTe="toast.swipeEnd",Fre=P.forwardRef((r,e)=>{const{forceMount:n,open:i,defaultOpen:o,onOpenChange:a,...s}=r,[l,c]=ma({prop:i,defaultProp:o??!0,onChange:a,caller:cv});return E.jsx($o,{present:n||l,children:E.jsx(WTe,{open:l,...s,ref:e,onClose:()=>c(!1),onPause:fo(r.onPause),onResume:fo(r.onResume),onSwipeStart:gt(r.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:gt(r.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:gt(r.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:gt(r.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});Fre.displayName=cv;var[FTe,HTe]=zre(cv,{onClose(){}}),WTe=P.forwardRef((r,e)=>{const{__scopeToast:n,type:i="foreground",duration:o,open:a,onClose:s,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...b}=r,g=X5(cv,n),[v,x]=P.useState(null),w=vn(e,A=>x(A)),k=P.useRef(null),T=P.useRef(null),_=o||g.duration,D=P.useRef(0),I=P.useRef(_),L=P.useRef(0),{onToastAdd:O,onToastRemove:W}=g,Z=fo(()=>{var Q;(v==null?void 0:v.contains(document.activeElement))&&((Q=g.viewport)==null||Q.focus()),s()}),$=P.useCallback(A=>{!A||A===1/0||(window.clearTimeout(L.current),D.current=new Date().getTime(),L.current=window.setTimeout(Z,A))},[Z]);P.useEffect(()=>{const A=g.viewport;if(A){const Q=()=>{$(I.current),u==null||u()},H=()=>{const G=new Date().getTime()-D.current;I.current=I.current-G,window.clearTimeout(L.current),c==null||c()};return A.addEventListener(uD,H),A.addEventListener(dD,Q),()=>{A.removeEventListener(uD,H),A.removeEventListener(dD,Q)}}},[g.viewport,_,c,u,$]),P.useEffect(()=>{a&&!g.isClosePausedRef.current&&$(_)},[a,_,g.isClosePausedRef,$]),P.useEffect(()=>(O(),()=>W()),[O,W]);const F=P.useMemo(()=>v?Xre(v):null,[v]);return g.viewport?E.jsxs(E.Fragment,{children:[F&&E.jsx(VTe,{__scopeToast:n,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),E.jsx(FTe,{scope:n,onClose:Z,children:Wd.createPortal(E.jsx(lN.ItemSlot,{scope:n,children:E.jsx(kTe,{asChild:!0,onEscapeKeyDown:gt(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||Z(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:E.jsx(Bt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...b,ref:w,style:{userSelect:"none",touchAction:"none",...r.style},onKeyDown:gt(r.onKeyDown,A=>{A.key==="Escape"&&(l==null||l(A.nativeEvent),A.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,Z()))}),onPointerDown:gt(r.onPointerDown,A=>{A.button===0&&(k.current={x:A.clientX,y:A.clientY})}),onPointerMove:gt(r.onPointerMove,A=>{if(!k.current)return;const Q=A.clientX-k.current.x,H=A.clientY-k.current.y,G=!!T.current,ne=["left","right"].includes(g.swipeDirection),J=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,ee=ne?J(0,Q):0,X=ne?0:J(0,H),j=A.pointerType==="touch"?10:2,ae={x:ee,y:X},re={originalEvent:A,delta:ae};G?(T.current=ae,mw(UTe,h,re,{discrete:!1})):Uj(ae,g.swipeDirection,j)?(T.current=ae,mw(LTe,d,re,{discrete:!1}),A.target.setPointerCapture(A.pointerId)):(Math.abs(Q)>j||Math.abs(H)>j)&&(k.current=null)}),onPointerUp:gt(r.onPointerUp,A=>{const Q=T.current,H=A.target;if(H.hasPointerCapture(A.pointerId)&&H.releasePointerCapture(A.pointerId),T.current=null,k.current=null,Q){const G=A.currentTarget,ne={originalEvent:A,delta:Q};Uj(Q,g.swipeDirection,g.swipeThreshold)?mw(jTe,m,ne,{discrete:!0}):mw(BTe,f,ne,{discrete:!0}),G.addEventListener("click",J=>J.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),VTe=r=>{const{__scopeToast:e,children:n,...i}=r,o=X5(cv,e),[a,s]=P.useState(!1),[l,c]=P.useState(!1);return KTe(()=>s(!0)),P.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:E.jsx(Q0,{asChild:!0,children:E.jsx(K5,{...i,children:a&&E.jsxs(E.Fragment,{children:[o.label," ",n]})})})},qTe="ToastTitle",Hre=P.forwardRef((r,e)=>{const{__scopeToast:n,...i}=r;return E.jsx(Bt.div,{...i,ref:e})});Hre.displayName=qTe;var GTe="ToastDescription",Wre=P.forwardRef((r,e)=>{const{__scopeToast:n,...i}=r;return E.jsx(Bt.div,{...i,ref:e})});Wre.displayName=GTe;var Vre="ToastAction",qre=P.forwardRef((r,e)=>{const{altText:n,...i}=r;return n.trim()?E.jsx(Kre,{altText:n,asChild:!0,children:E.jsx(cN,{...i,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Vre}\`. Expected non-empty \`string\`.`),null)});qre.displayName=Vre;var Gre="ToastClose",cN=P.forwardRef((r,e)=>{const{__scopeToast:n,...i}=r,o=HTe(Gre,n);return E.jsx(Kre,{asChild:!0,children:E.jsx(Bt.button,{type:"button",...i,ref:e,onClick:gt(r.onClick,o.onClose)})})});cN.displayName=Gre;var Kre=P.forwardRef((r,e)=>{const{__scopeToast:n,altText:i,...o}=r;return E.jsx(Bt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...o,ref:e})});function Xre(r){const e=[];return Array.from(r.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&e.push(i.textContent),XTe(i)){const o=i.ariaHidden||i.hidden||i.style.display==="none",a=i.dataset.radixToastAnnounceExclude==="";if(!o)if(a){const s=i.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...Xre(i))}}),e}function mw(r,e,n,{discrete:i}){const o=n.originalEvent.currentTarget,a=new CustomEvent(r,{bubbles:!0,cancelable:!0,detail:n});e&&o.addEventListener(r,e,{once:!0}),i?aN(o,a):o.dispatchEvent(a)}var Uj=(r,e,n=0)=>{const i=Math.abs(r.x),o=Math.abs(r.y),a=i>o;return e==="left"||e==="right"?a&&i>n:!a&&o>n};function KTe(r=()=>{}){const e=fo(r);_i(()=>{let n=0,i=0;return n=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(i)}},[e])}function XTe(r){return r.nodeType===r.ELEMENT_NODE}function YTe(r){const e=[],n=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function j8(r){const e=document.activeElement;return r.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var ZTe=Lre,Yre=Bre,Zre=Fre,Jre=Hre,Qre=Wre,eie=qre,tie=cN;/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JTe=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nie=(...r)=>r.filter((e,n,i)=>!!e&&i.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QTe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8e=P.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:a,iconNode:s,...l},c)=>P.createElement("svg",{ref:c,...QTe,width:e,height:e,stroke:r,strokeWidth:i?Number(n)*24/Number(e):n,className:nie("lucide",o),...l},[...s.map(([u,d])=>P.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=(r,e)=>{const n=P.forwardRef(({className:i,...o},a)=>P.createElement(e8e,{ref:a,iconNode:e,className:nie(`lucide-${JTe(r)}`,i),...o}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8e=bt("AudioLines",[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8e=bt("BetweenHorizontalEnd",[["rect",{width:"13",height:"7",x:"3",y:"3",rx:"1",key:"11xb64"}],["path",{d:"m22 15-3-3 3-3",key:"26chmm"}],["rect",{width:"13",height:"7",x:"3",y:"14",rx:"1",key:"k6ky7n"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8e=bt("BetweenHorizontalStart",[["rect",{width:"13",height:"7",x:"8",y:"3",rx:"1",key:"pkso9a"}],["path",{d:"m2 9 3 3-3 3",key:"1agib5"}],["rect",{width:"13",height:"7",x:"8",y:"14",rx:"1",key:"1q5fc1"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8e=bt("BetweenVerticalEnd",[["rect",{width:"7",height:"13",x:"3",y:"3",rx:"1",key:"1fdu0f"}],["path",{d:"m9 22 3-3 3 3",key:"17z65a"}],["rect",{width:"7",height:"13",x:"14",y:"3",rx:"1",key:"1squn4"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8e=bt("BetweenVerticalStart",[["rect",{width:"7",height:"13",x:"3",y:"8",rx:"1",key:"1fjrkv"}],["path",{d:"m15 2-3 3-3-3",key:"1uh6eb"}],["rect",{width:"7",height:"13",x:"14",y:"8",rx:"1",key:"w3fjg8"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8e=bt("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8e=bt("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=bt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=bt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8e=bt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rie=bt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8e=bt("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iie=bt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8e=bt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8e=bt("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8e=bt("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8e=bt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=bt("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8e=bt("Columns3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8e=bt("Columns4",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7.5 3v18",key:"w0wo6v"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M16.5 3v18",key:"10tjh1"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8e=bt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8e=bt("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8e=bt("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8e=bt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8e=bt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8e=bt("FlipHorizontal",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h3",key:"1i73f7"}],["path",{d:"M16 3h3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-3",key:"saxlbk"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 14v2",key:"8jcxud"}],["path",{d:"M12 8v2",key:"1woqiv"}],["path",{d:"M12 2v2",key:"tus03m"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8e=bt("FlipVertical",[["path",{d:"M21 8V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v3",key:"14bfxa"}],["path",{d:"M21 16v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-3",key:"14rx03"}],["path",{d:"M4 12H2",key:"rhcxmi"}],["path",{d:"M10 12H8",key:"s88cx1"}],["path",{d:"M16 12h-2",key:"10asgb"}],["path",{d:"M22 12h-2",key:"14jgyd"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8e=bt("Frame",[["line",{x1:"22",x2:"2",y1:"6",y2:"6",key:"15w7dq"}],["line",{x1:"22",x2:"2",y1:"18",y2:"18",key:"1ip48p"}],["line",{x1:"6",x2:"6",y1:"2",y2:"22",key:"a2lnyx"}],["line",{x1:"18",x2:"18",y1:"2",y2:"22",key:"8vb6jd"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8e=bt("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8e=bt("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8e=bt("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8e=bt("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8e=bt("Heading4",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v4h4",key:"13sv97"}],["path",{d:"M21 10v8",key:"1kdml4"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8e=bt("Heading5",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 13v-3h4",key:"1nvgqp"}],["path",{d:"M17 17.7c.4.2.8.3 1.3.3 1.5 0 2.7-1.1 2.7-2.5S19.8 13 18.3 13H17",key:"2nebdn"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8e=bt("Heading6",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["circle",{cx:"19",cy:"16",r:"2",key:"15mx69"}],["path",{d:"M20 10c-2 2-3 3.5-3 6",key:"f35dl0"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8e=bt("ImageUp",[["path",{d:"M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10l-3.1-3.1a2 2 0 0 0-2.814.014L6 21",key:"9csbqa"}],["path",{d:"m14 19.5 3-3 3 3",key:"9vmjn0"}],["path",{d:"M17 22v-5.5",key:"1aa6fl"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8e=bt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8e=bt("IndentDecrease",[["polyline",{points:"7 8 3 12 7 16",key:"2j60jr"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8e=bt("IndentIncrease",[["polyline",{points:"3 8 7 12 3 16",key:"f3rxhf"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8e=bt("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8e=bt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8e=bt("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8e=bt("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8e=bt("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8e=bt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8e=bt("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8e=bt("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8e=bt("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8e=bt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8e=bt("PaintRoller",[["rect",{width:"16",height:"6",x:"2",y:"2",rx:"2",key:"jcyz7m"}],["path",{d:"M10 16v-2a2 2 0 0 1 2-2h8a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2",key:"1b9h7c"}],["rect",{width:"4",height:"6",x:"8",y:"16",rx:"1",key:"d6e7yl"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8e=bt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8e=bt("PanelRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8e=bt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8e=bt("PencilRuler",[["path",{d:"M13 7 8.7 2.7a2.41 2.41 0 0 0-3.4 0L2.7 5.3a2.41 2.41 0 0 0 0 3.4L7 13",key:"orapub"}],["path",{d:"m8 6 2-2",key:"115y1s"}],["path",{d:"m18 16 2-2",key:"ee94s4"}],["path",{d:"m17 11 4.3 4.3c.94.94.94 2.46 0 3.4l-2.6 2.6c-.94.94-2.46.94-3.4 0L11 17",key:"cfq27r"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oie=bt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=bt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8e=bt("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8e=bt("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=bt("Replace",[["path",{d:"M14 4a2 2 0 0 1 2-2",key:"1w2hp7"}],["path",{d:"M16 10a2 2 0 0 1-2-2",key:"shjach"}],["path",{d:"M20 2a2 2 0 0 1 2 2",key:"188mtx"}],["path",{d:"M22 8a2 2 0 0 1-2 2",key:"ddf4tu"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5a3 3 0 0 1 3-3h1",key:"3y3t5z"}],["rect",{x:"2",y:"14",width:"8",height:"8",rx:"2",key:"4rksxw"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8e=bt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8e=bt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eEe=bt("Sheet",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"9",y2:"21",key:"1ib60c"}],["line",{x1:"15",x2:"15",y1:"9",y2:"21",key:"1n26ft"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tEe=bt("Sigma",[["path",{d:"M18 7V5a1 1 0 0 0-1-1H6.5a.5.5 0 0 0-.4.8l4.5 6a2 2 0 0 1 0 2.4l-4.5 6a.5.5 0 0 0 .4.8H17a1 1 0 0 0 1-1v-2",key:"wuwx1p"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=bt("SmilePlus",[["path",{d:"M22 11v1a10 10 0 1 1-9-10",key:"ew0xw9"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}],["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nEe=bt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rEe=bt("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iEe=bt("Subscript",[["path",{d:"m4 5 8 8",key:"1eunvl"}],["path",{d:"m12 5-8 8",key:"1ah0jp"}],["path",{d:"M20 19h-4c0-1.5.44-2 1.5-2.5S20 15.33 20 14c0-.47-.17-.93-.48-1.29a2.11 2.11 0 0 0-2.62-.44c-.42.24-.74.62-.9 1.07",key:"e8ta8j"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oEe=bt("Superscript",[["path",{d:"m4 19 8-8",key:"hr47gm"}],["path",{d:"m12 19-8-8",key:"1dhhmo"}],["path",{d:"M20 12h-4c0-1.5.442-2 1.5-2.5S20 8.334 20 7.002c0-.472-.17-.93-.484-1.29a2.105 2.105 0 0 0-2.617-.436c-.42.239-.738.614-.899 1.06",key:"1dfcux"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aEe=bt("TableCellsMerge",[["path",{d:"M12 21v-6",key:"lihzve"}],["path",{d:"M12 9V3",key:"da5inc"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M3 9h18",key:"1pudct"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sEe=bt("TableCellsSplit",[["path",{d:"M12 15V9",key:"8c7uyn"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M3 9h18",key:"1pudct"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lEe=bt("TableProperties",[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cEe=bt("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sie=bt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uEe=bt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dEe=bt("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hEe=bt("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fEe=bt("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pEe=bt("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lie=bt("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mEe=bt("WrapText",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["path",{d:"M3 12h15a3 3 0 1 1 0 6h-4",key:"1cl7v7"}],["polyline",{points:"16 16 14 18 16 20",key:"1jznyi"}],["line",{x1:"3",x2:"10",y1:"18",y2:"18",key:"1h33wv"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cie=bt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gEe=bt("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yEe=bt("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);var bEe=yee[" useId ".trim().toString()]||(()=>{}),vEe=0;function No(r){const[e,n]=P.useState(bEe());return _i(()=>{n(i=>i??String(vEe++))},[r]),e?`radix-${e}`:""}const xEe=["top","right","bottom","left"],Md=Math.min,ia=Math.max,Z4=Math.round,gw=Math.floor,vl=r=>({x:r,y:r}),wEe={left:"right",right:"left",bottom:"top",top:"bottom"},SEe={start:"end",end:"start"};function fD(r,e,n){return ia(r,Md(e,n))}function Wc(r,e){return typeof r=="function"?r(e):r}function Vc(r){return r.split("-")[0]}function eg(r){return r.split("-")[1]}function dN(r){return r==="x"?"y":"x"}function hN(r){return r==="y"?"height":"width"}function Ic(r){return["top","bottom"].includes(Vc(r))?"y":"x"}function fN(r){return dN(Ic(r))}function kEe(r,e,n){n===void 0&&(n=!1);const i=eg(r),o=fN(r),a=hN(o);let s=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=J4(s)),[s,J4(s)]}function TEe(r){const e=J4(r);return[pD(r),e,pD(e)]}function pD(r){return r.replace(/start|end/g,e=>SEe[e])}function EEe(r,e,n){const i=["left","right"],o=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(r){case"top":case"bottom":return n?e?o:i:e?i:o;case"left":case"right":return e?a:s;default:return[]}}function CEe(r,e,n,i){const o=eg(r);let a=EEe(Vc(r),n==="start",i);return o&&(a=a.map(s=>s+"-"+o),e&&(a=a.concat(a.map(pD)))),a}function J4(r){return r.replace(/left|right|bottom|top/g,e=>wEe[e])}function _Ee(r){return{top:0,right:0,bottom:0,left:0,...r}}function uie(r){return typeof r!="number"?_Ee(r):{top:r,right:r,bottom:r,left:r}}function Q4(r){const{x:e,y:n,width:i,height:o}=r;return{width:i,height:o,top:n,left:e,right:e+i,bottom:n+o,x:e,y:n}}function Hj(r,e,n){let{reference:i,floating:o}=r;const a=Ic(e),s=fN(e),l=hN(s),c=Vc(e),u=a==="y",d=i.x+i.width/2-o.width/2,h=i.y+i.height/2-o.height/2,f=i[l]/2-o[l]/2;let m;switch(c){case"top":m={x:d,y:i.y-o.height};break;case"bottom":m={x:d,y:i.y+i.height};break;case"right":m={x:i.x+i.width,y:h};break;case"left":m={x:i.x-o.width,y:h};break;default:m={x:i.x,y:i.y}}switch(eg(e)){case"start":m[s]-=f*(n&&u?-1:1);break;case"end":m[s]+=f*(n&&u?-1:1);break}return m}const AEe=async(r,e,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:a=[],platform:s}=n,l=a.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:r,floating:e,strategy:o}),{x:d,y:h}=Hj(u,i,c),f=i,m={},b=0;for(let g=0;g<l.length;g++){const{name:v,fn:x}=l[g],{x:w,y:k,data:T,reset:_}=await x({x:d,y:h,initialPlacement:i,placement:f,strategy:o,middlewareData:m,rects:u,platform:s,elements:{reference:r,floating:e}});d=w??d,h=k??h,m={...m,[v]:{...m[v],...T}},_&&b<=50&&(b++,typeof _=="object"&&(_.placement&&(f=_.placement),_.rects&&(u=_.rects===!0?await s.getElementRects({reference:r,floating:e,strategy:o}):_.rects),{x:d,y:h}=Hj(u,f,c)),g=-1)}return{x:d,y:h,placement:f,strategy:o,middlewareData:m}};async function cb(r,e){var n;e===void 0&&(e={});const{x:i,y:o,platform:a,rects:s,elements:l,strategy:c}=r,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=Wc(e,r),b=uie(m),v=l[f?h==="floating"?"reference":"floating":h],x=Q4(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(v)))==null||n?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=h==="floating"?{x:i,y:o,width:s.floating.width,height:s.floating.height}:s.reference,k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),T=await(a.isElement==null?void 0:a.isElement(k))?await(a.getScale==null?void 0:a.getScale(k))||{x:1,y:1}:{x:1,y:1},_=Q4(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:k,strategy:c}):w);return{top:(x.top-_.top+b.top)/T.y,bottom:(_.bottom-x.bottom+b.bottom)/T.y,left:(x.left-_.left+b.left)/T.x,right:(_.right-x.right+b.right)/T.x}}const DEe=r=>({name:"arrow",options:r,async fn(e){const{x:n,y:i,placement:o,rects:a,platform:s,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=Wc(r,e)||{};if(u==null)return{};const h=uie(d),f={x:n,y:i},m=fN(o),b=hN(m),g=await s.getDimensions(u),v=m==="y",x=v?"top":"left",w=v?"bottom":"right",k=v?"clientHeight":"clientWidth",T=a.reference[b]+a.reference[m]-f[m]-a.floating[b],_=f[m]-a.reference[m],D=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let I=D?D[k]:0;(!I||!await(s.isElement==null?void 0:s.isElement(D)))&&(I=l.floating[k]||a.floating[b]);const L=T/2-_/2,O=I/2-g[b]/2-1,W=Md(h[x],O),Z=Md(h[w],O),$=W,F=I-g[b]-Z,A=I/2-g[b]/2+L,Q=fD($,A,F),H=!c.arrow&&eg(o)!=null&&A!==Q&&a.reference[b]/2-(A<$?W:Z)-g[b]/2<0,G=H?A<$?A-$:A-F:0;return{[m]:f[m]+G,data:{[m]:Q,centerOffset:A-Q-G,...H&&{alignmentOffset:G}},reset:H}}}),MEe=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var n,i;const{placement:o,middlewareData:a,rects:s,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:g=!0,...v}=Wc(r,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const x=Vc(o),w=Ic(l),k=Vc(l)===l,T=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=f||(k||!g?[J4(l)]:TEe(l)),D=b!=="none";!f&&D&&_.push(...CEe(l,g,b,T));const I=[l,..._],L=await cb(e,v),O=[];let W=((i=a.flip)==null?void 0:i.overflows)||[];if(d&&O.push(L[x]),h){const Q=kEe(o,s,T);O.push(L[Q[0]],L[Q[1]])}if(W=[...W,{placement:o,overflows:O}],!O.every(Q=>Q<=0)){var Z,$;const Q=(((Z=a.flip)==null?void 0:Z.index)||0)+1,H=I[Q];if(H){var F;const ne=h==="alignment"?w!==Ic(H):!1,J=((F=W[0])==null?void 0:F.overflows[0])>0;if(!ne||J)return{data:{index:Q,overflows:W},reset:{placement:H}}}let G=($=W.filter(ne=>ne.overflows[0]<=0).sort((ne,J)=>ne.overflows[1]-J.overflows[1])[0])==null?void 0:$.placement;if(!G)switch(m){case"bestFit":{var A;const ne=(A=W.filter(J=>{if(D){const ee=Ic(J.placement);return ee===w||ee==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(ee=>ee>0).reduce((ee,X)=>ee+X,0)]).sort((J,ee)=>J[1]-ee[1])[0])==null?void 0:A[0];ne&&(G=ne);break}case"initialPlacement":G=l;break}if(o!==G)return{reset:{placement:G}}}return{}}}};function Wj(r,e){return{top:r.top-e.height,right:r.right-e.width,bottom:r.bottom-e.height,left:r.left-e.width}}function Vj(r){return xEe.some(e=>r[e]>=0)}const REe=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...o}=Wc(r,e);switch(i){case"referenceHidden":{const a=await cb(e,{...o,elementContext:"reference"}),s=Wj(a,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Vj(s)}}}case"escaped":{const a=await cb(e,{...o,altBoundary:!0}),s=Wj(a,n.floating);return{data:{escapedOffsets:s,escaped:Vj(s)}}}default:return{}}}}};async function NEe(r,e){const{placement:n,platform:i,elements:o}=r,a=await(i.isRTL==null?void 0:i.isRTL(o.floating)),s=Vc(n),l=eg(n),c=Ic(n)==="y",u=["left","top"].includes(s)?-1:1,d=a&&c?-1:1,h=Wc(e,r);let{mainAxis:f,crossAxis:m,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof b=="number"&&(m=l==="end"?b*-1:b),c?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const OEe=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var n,i;const{x:o,y:a,placement:s,middlewareData:l}=e,c=await NEe(e,r);return s===((n=l.offset)==null?void 0:n.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:o+c.x,y:a+c.y,data:{...c,placement:s}}}}},PEe=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(e){const{x:n,y:i,placement:o}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:l={fn:v=>{let{x,y:w}=v;return{x,y:w}}},...c}=Wc(r,e),u={x:n,y:i},d=await cb(e,c),h=Ic(Vc(o)),f=dN(h);let m=u[f],b=u[h];if(a){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=m+d[v],k=m-d[x];m=fD(w,m,k)}if(s){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=b+d[v],k=b-d[x];b=fD(w,b,k)}const g=l.fn({...e,[f]:m,[h]:b});return{...g,data:{x:g.x-n,y:g.y-i,enabled:{[f]:a,[h]:s}}}}}},IEe=function(r){return r===void 0&&(r={}),{options:r,fn(e){const{x:n,y:i,placement:o,rects:a,middlewareData:s}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Wc(r,e),d={x:n,y:i},h=Ic(o),f=dN(h);let m=d[f],b=d[h];const g=Wc(l,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const k=f==="y"?"height":"width",T=a.reference[f]-a.floating[k]+v.mainAxis,_=a.reference[f]+a.reference[k]-v.mainAxis;m<T?m=T:m>_&&(m=_)}if(u){var x,w;const k=f==="y"?"width":"height",T=["top","left"].includes(Vc(o)),_=a.reference[h]-a.floating[k]+(T&&((x=s.offset)==null?void 0:x[h])||0)+(T?0:v.crossAxis),D=a.reference[h]+a.reference[k]+(T?0:((w=s.offset)==null?void 0:w[h])||0)-(T?v.crossAxis:0);b<_?b=_:b>D&&(b=D)}return{[f]:m,[h]:b}}}},$Ee=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(e){var n,i;const{placement:o,rects:a,platform:s,elements:l}=e,{apply:c=()=>{},...u}=Wc(r,e),d=await cb(e,u),h=Vc(o),f=eg(o),m=Ic(o)==="y",{width:b,height:g}=a.floating;let v,x;h==="top"||h==="bottom"?(v=h,x=f===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(x=h,v=f==="end"?"top":"bottom");const w=g-d.top-d.bottom,k=b-d.left-d.right,T=Md(g-d[v],w),_=Md(b-d[x],k),D=!e.middlewareData.shift;let I=T,L=_;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(L=k),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(I=w),D&&!f){const W=ia(d.left,0),Z=ia(d.right,0),$=ia(d.top,0),F=ia(d.bottom,0);m?L=b-2*(W!==0||Z!==0?W+Z:ia(d.left,d.right)):I=g-2*($!==0||F!==0?$+F:ia(d.top,d.bottom))}await c({...e,availableWidth:L,availableHeight:I});const O=await s.getDimensions(l.floating);return b!==O.width||g!==O.height?{reset:{rects:!0}}:{}}}};function Z5(){return typeof window<"u"}function tg(r){return die(r)?(r.nodeName||"").toLowerCase():"#document"}function da(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function Dl(r){var e;return(e=(die(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function die(r){return Z5()?r instanceof Node||r instanceof da(r).Node:!1}function Ms(r){return Z5()?r instanceof Element||r instanceof da(r).Element:!1}function Tl(r){return Z5()?r instanceof HTMLElement||r instanceof da(r).HTMLElement:!1}function qj(r){return!Z5()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof da(r).ShadowRoot}function uv(r){const{overflow:e,overflowX:n,overflowY:i,display:o}=Rs(r);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(o)}function zEe(r){return["table","td","th"].includes(tg(r))}function J5(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch{return!1}})}function pN(r){const e=mN(),n=Ms(r)?Rs(r):r;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function LEe(r){let e=Rd(r);for(;Tl(e)&&!M0(e);){if(pN(e))return e;if(J5(e))return null;e=Rd(e)}return null}function mN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function M0(r){return["html","body","#document"].includes(tg(r))}function Rs(r){return da(r).getComputedStyle(r)}function Q5(r){return Ms(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Rd(r){if(tg(r)==="html")return r;const e=r.assignedSlot||r.parentNode||qj(r)&&r.host||Dl(r);return qj(e)?e.host:e}function hie(r){const e=Rd(r);return M0(e)?r.ownerDocument?r.ownerDocument.body:r.body:Tl(e)&&uv(e)?e:hie(e)}function ub(r,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=hie(r),a=o===((i=r.ownerDocument)==null?void 0:i.body),s=da(o);if(a){const l=mD(s);return e.concat(s,s.visualViewport||[],uv(o)?o:[],l&&n?ub(l):[])}return e.concat(o,ub(o,[],n))}function mD(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function fie(r){const e=Rs(r);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const o=Tl(r),a=o?r.offsetWidth:n,s=o?r.offsetHeight:i,l=Z4(n)!==a||Z4(i)!==s;return l&&(n=a,i=s),{width:n,height:i,$:l}}function gN(r){return Ms(r)?r:r.contextElement}function Jm(r){const e=gN(r);if(!Tl(e))return vl(1);const n=e.getBoundingClientRect(),{width:i,height:o,$:a}=fie(e);let s=(a?Z4(n.width):n.width)/i,l=(a?Z4(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const UEe=vl(0);function pie(r){const e=da(r);return!mN()||!e.visualViewport?UEe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function BEe(r,e,n){return e===void 0&&(e=!1),!n||e&&n!==da(r)?!1:e}function Ff(r,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=r.getBoundingClientRect(),a=gN(r);let s=vl(1);e&&(i?Ms(i)&&(s=Jm(i)):s=Jm(r));const l=BEe(a,n,i)?pie(a):vl(0);let c=(o.left+l.x)/s.x,u=(o.top+l.y)/s.y,d=o.width/s.x,h=o.height/s.y;if(a){const f=da(a),m=i&&Ms(i)?da(i):i;let b=f,g=mD(b);for(;g&&i&&m!==b;){const v=Jm(g),x=g.getBoundingClientRect(),w=Rs(g),k=x.left+(g.clientLeft+parseFloat(w.paddingLeft))*v.x,T=x.top+(g.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,h*=v.y,c+=k,u+=T,b=da(g),g=mD(b)}}return Q4({width:d,height:h,x:c,y:u})}function yN(r,e){const n=Q5(r).scrollLeft;return e?e.left+n:Ff(Dl(r)).left+n}function mie(r,e,n){n===void 0&&(n=!1);const i=r.getBoundingClientRect(),o=i.left+e.scrollLeft-(n?0:yN(r,i)),a=i.top+e.scrollTop;return{x:o,y:a}}function jEe(r){let{elements:e,rect:n,offsetParent:i,strategy:o}=r;const a=o==="fixed",s=Dl(i),l=e?J5(e.floating):!1;if(i===s||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=vl(1);const d=vl(0),h=Tl(i);if((h||!h&&!a)&&((tg(i)!=="body"||uv(s))&&(c=Q5(i)),Tl(i))){const m=Ff(i);u=Jm(i),d.x=m.x+i.clientLeft,d.y=m.y+i.clientTop}const f=s&&!h&&!a?mie(s,c,!0):vl(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-c.scrollTop*u.y+d.y+f.y}}function FEe(r){return Array.from(r.getClientRects())}function HEe(r){const e=Dl(r),n=Q5(r),i=r.ownerDocument.body,o=ia(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),a=ia(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let s=-n.scrollLeft+yN(r);const l=-n.scrollTop;return Rs(i).direction==="rtl"&&(s+=ia(e.clientWidth,i.clientWidth)-o),{width:o,height:a,x:s,y:l}}function WEe(r,e){const n=da(r),i=Dl(r),o=n.visualViewport;let a=i.clientWidth,s=i.clientHeight,l=0,c=0;if(o){a=o.width,s=o.height;const u=mN();(!u||u&&e==="fixed")&&(l=o.offsetLeft,c=o.offsetTop)}return{width:a,height:s,x:l,y:c}}function VEe(r,e){const n=Ff(r,!0,e==="fixed"),i=n.top+r.clientTop,o=n.left+r.clientLeft,a=Tl(r)?Jm(r):vl(1),s=r.clientWidth*a.x,l=r.clientHeight*a.y,c=o*a.x,u=i*a.y;return{width:s,height:l,x:c,y:u}}function Gj(r,e,n){let i;if(e==="viewport")i=WEe(r,n);else if(e==="document")i=HEe(Dl(r));else if(Ms(e))i=VEe(e,n);else{const o=pie(r);i={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Q4(i)}function gie(r,e){const n=Rd(r);return n===e||!Ms(n)||M0(n)?!1:Rs(n).position==="fixed"||gie(n,e)}function qEe(r,e){const n=e.get(r);if(n)return n;let i=ub(r,[],!1).filter(l=>Ms(l)&&tg(l)!=="body"),o=null;const a=Rs(r).position==="fixed";let s=a?Rd(r):r;for(;Ms(s)&&!M0(s);){const l=Rs(s),c=pN(s);!c&&l.position==="fixed"&&(o=null),(a?!c&&!o:!c&&l.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||uv(s)&&!c&&gie(r,s))?i=i.filter(d=>d!==s):o=l,s=Rd(s)}return e.set(r,i),i}function GEe(r){let{element:e,boundary:n,rootBoundary:i,strategy:o}=r;const s=[...n==="clippingAncestors"?J5(e)?[]:qEe(e,this._c):[].concat(n),i],l=s[0],c=s.reduce((u,d)=>{const h=Gj(e,d,o);return u.top=ia(h.top,u.top),u.right=Md(h.right,u.right),u.bottom=Md(h.bottom,u.bottom),u.left=ia(h.left,u.left),u},Gj(e,l,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function KEe(r){const{width:e,height:n}=fie(r);return{width:e,height:n}}function XEe(r,e,n){const i=Tl(e),o=Dl(e),a=n==="fixed",s=Ff(r,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=vl(0);function u(){c.x=yN(o)}if(i||!i&&!a)if((tg(e)!=="body"||uv(o))&&(l=Q5(e)),i){const m=Ff(e,!0,a,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else o&&u();a&&!i&&o&&u();const d=o&&!i&&!a?mie(o,l):vl(0),h=s.left+l.scrollLeft-c.x-d.x,f=s.top+l.scrollTop-c.y-d.y;return{x:h,y:f,width:s.width,height:s.height}}function F8(r){return Rs(r).position==="static"}function Kj(r,e){if(!Tl(r)||Rs(r).position==="fixed")return null;if(e)return e(r);let n=r.offsetParent;return Dl(r)===n&&(n=n.ownerDocument.body),n}function yie(r,e){const n=da(r);if(J5(r))return n;if(!Tl(r)){let o=Rd(r);for(;o&&!M0(o);){if(Ms(o)&&!F8(o))return o;o=Rd(o)}return n}let i=Kj(r,e);for(;i&&zEe(i)&&F8(i);)i=Kj(i,e);return i&&M0(i)&&F8(i)&&!pN(i)?n:i||LEe(r)||n}const YEe=async function(r){const e=this.getOffsetParent||yie,n=this.getDimensions,i=await n(r.floating);return{reference:XEe(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function ZEe(r){return Rs(r).direction==="rtl"}const JEe={convertOffsetParentRelativeRectToViewportRelativeRect:jEe,getDocumentElement:Dl,getClippingRect:GEe,getOffsetParent:yie,getElementRects:YEe,getClientRects:FEe,getDimensions:KEe,getScale:Jm,isElement:Ms,isRTL:ZEe};function bie(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function QEe(r,e){let n=null,i;const o=Dl(r);function a(){var l;clearTimeout(i),(l=n)==null||l.disconnect(),n=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=r.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(l||e(),!f||!m)return;const b=gw(h),g=gw(o.clientWidth-(d+f)),v=gw(o.clientHeight-(h+m)),x=gw(d),k={rootMargin:-b+"px "+-g+"px "+-v+"px "+-x+"px",threshold:ia(0,Md(1,c))||1};let T=!0;function _(D){const I=D[0].intersectionRatio;if(I!==c){if(!T)return s();I?s(!1,I):i=setTimeout(()=>{s(!1,1e-7)},1e3)}I===1&&!bie(u,r.getBoundingClientRect())&&s(),T=!1}try{n=new IntersectionObserver(_,{...k,root:o.ownerDocument})}catch{n=new IntersectionObserver(_,k)}n.observe(r)}return s(!0),a}function eCe(r,e,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=i,u=gN(r),d=o||a?[...u?ub(u):[],...ub(e)]:[];d.forEach(x=>{o&&x.addEventListener("scroll",n,{passive:!0}),a&&x.addEventListener("resize",n)});const h=u&&l?QEe(u,n):null;let f=-1,m=null;s&&(m=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var k;(k=m)==null||k.observe(e)})),n()}),u&&!c&&m.observe(u),m.observe(e));let b,g=c?Ff(r):null;c&&v();function v(){const x=Ff(r);g&&!bie(g,x)&&n(),g=x,b=requestAnimationFrame(v)}return n(),()=>{var x;d.forEach(w=>{o&&w.removeEventListener("scroll",n),a&&w.removeEventListener("resize",n)}),h==null||h(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(b)}}const tCe=OEe,nCe=PEe,rCe=MEe,iCe=$Ee,oCe=REe,Xj=DEe,aCe=IEe,sCe=(r,e,n)=>{const i=new Map,o={platform:JEe,...n},a={...o.platform,_c:i};return AEe(r,e,{...o,platform:a})};var r4=typeof document<"u"?P.useLayoutEffect:P.useEffect;function e3(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let n,i,o;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(n=r.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!e3(r[i],e[i]))return!1;return!0}if(o=Object.keys(r),n=o.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,o[i]))return!1;for(i=n;i--!==0;){const a=o[i];if(!(a==="_owner"&&r.$$typeof)&&!e3(r[a],e[a]))return!1}return!0}return r!==r&&e!==e}function vie(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function Yj(r,e){const n=vie(r);return Math.round(e*n)/n}function H8(r){const e=P.useRef(r);return r4(()=>{e.current=r}),e}function lCe(r){r===void 0&&(r={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:o,elements:{reference:a,floating:s}={},transform:l=!0,whileElementsMounted:c,open:u}=r,[d,h]=P.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=P.useState(i);e3(f,i)||m(i);const[b,g]=P.useState(null),[v,x]=P.useState(null),w=P.useCallback(ne=>{ne!==D.current&&(D.current=ne,g(ne))},[]),k=P.useCallback(ne=>{ne!==I.current&&(I.current=ne,x(ne))},[]),T=a||b,_=s||v,D=P.useRef(null),I=P.useRef(null),L=P.useRef(d),O=c!=null,W=H8(c),Z=H8(o),$=H8(u),F=P.useCallback(()=>{if(!D.current||!I.current)return;const ne={placement:e,strategy:n,middleware:f};Z.current&&(ne.platform=Z.current),sCe(D.current,I.current,ne).then(J=>{const ee={...J,isPositioned:$.current!==!1};A.current&&!e3(L.current,ee)&&(L.current=ee,Wd.flushSync(()=>{h(ee)}))})},[f,e,n,Z,$]);r4(()=>{u===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,h(ne=>({...ne,isPositioned:!1})))},[u]);const A=P.useRef(!1);r4(()=>(A.current=!0,()=>{A.current=!1}),[]),r4(()=>{if(T&&(D.current=T),_&&(I.current=_),T&&_){if(W.current)return W.current(T,_,F);F()}},[T,_,F,W,O]);const Q=P.useMemo(()=>({reference:D,floating:I,setReference:w,setFloating:k}),[w,k]),H=P.useMemo(()=>({reference:T,floating:_}),[T,_]),G=P.useMemo(()=>{const ne={position:n,left:0,top:0};if(!H.floating)return ne;const J=Yj(H.floating,d.x),ee=Yj(H.floating,d.y);return l?{...ne,transform:"translate("+J+"px, "+ee+"px)",...vie(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:J,top:ee}},[n,l,H.floating,d.x,d.y]);return P.useMemo(()=>({...d,update:F,refs:Q,elements:H,floatingStyles:G}),[d,F,Q,H,G])}const cCe=r=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:r,fn(n){const{element:i,padding:o}=typeof r=="function"?r(n):r;return i&&e(i)?i.current!=null?Xj({element:i.current,padding:o}).fn(n):{}:i?Xj({element:i,padding:o}).fn(n):{}}}},uCe=(r,e)=>({...tCe(r),options:[r,e]}),dCe=(r,e)=>({...nCe(r),options:[r,e]}),hCe=(r,e)=>({...aCe(r),options:[r,e]}),fCe=(r,e)=>({...rCe(r),options:[r,e]}),pCe=(r,e)=>({...iCe(r),options:[r,e]}),mCe=(r,e)=>({...oCe(r),options:[r,e]}),gCe=(r,e)=>({...cCe(r),options:[r,e]});var yCe="Arrow",xie=P.forwardRef((r,e)=>{const{children:n,width:i=10,height:o=5,...a}=r;return E.jsx(Bt.svg,{...a,ref:e,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});xie.displayName=yCe;var bCe=xie;function bN(r){const[e,n]=P.useState(void 0);return _i(()=>{if(r){n({width:r.offsetWidth,height:r.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let s,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,l=u.blockSize}else s=r.offsetWidth,l=r.offsetHeight;n({width:s,height:l})});return i.observe(r,{box:"border-box"}),()=>i.unobserve(r)}else n(void 0)},[r]),e}var vN="Popper",[wie,Yd]=xa(vN),[vCe,Sie]=wie(vN),kie=r=>{const{__scopePopper:e,children:n}=r,[i,o]=P.useState(null);return E.jsx(vCe,{scope:e,anchor:i,onAnchorChange:o,children:n})};kie.displayName=vN;var Tie="PopperAnchor",Eie=P.forwardRef((r,e)=>{const{__scopePopper:n,virtualRef:i,...o}=r,a=Sie(Tie,n),s=P.useRef(null),l=vn(e,s);return P.useEffect(()=>{a.onAnchorChange((i==null?void 0:i.current)||s.current)}),i?null:E.jsx(Bt.div,{...o,ref:l})});Eie.displayName=Tie;var xN="PopperContent",[xCe,wCe]=wie(xN),Cie=P.forwardRef((r,e)=>{var K,q,be,pe,ie,le;const{__scopePopper:n,side:i="bottom",sideOffset:o=0,align:a="center",alignOffset:s=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:b,...g}=r,v=Sie(xN,n),[x,w]=P.useState(null),k=vn(e,Ee=>w(Ee)),[T,_]=P.useState(null),D=bN(T),I=(D==null?void 0:D.width)??0,L=(D==null?void 0:D.height)??0,O=i+(a!=="center"?"-"+a:""),W=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},Z=Array.isArray(u)?u:[u],$=Z.length>0,F={padding:W,boundary:Z.filter(kCe),altBoundary:$},{refs:A,floatingStyles:Q,placement:H,isPositioned:G,middlewareData:ne}=lCe({strategy:"fixed",placement:O,whileElementsMounted:(...Ee)=>eCe(...Ee,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[uCe({mainAxis:o+L,alignmentAxis:s}),c&&dCe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?hCe():void 0,...F}),c&&fCe({...F}),pCe({...F,apply:({elements:Ee,rects:M,availableWidth:he,availableHeight:V})=>{const{width:R,height:N}=M.reference,B=Ee.floating.style;B.setProperty("--radix-popper-available-width",`${he}px`),B.setProperty("--radix-popper-available-height",`${V}px`),B.setProperty("--radix-popper-anchor-width",`${R}px`),B.setProperty("--radix-popper-anchor-height",`${N}px`)}}),T&&gCe({element:T,padding:l}),TCe({arrowWidth:I,arrowHeight:L}),f&&mCe({strategy:"referenceHidden",...F})]}),[J,ee]=Die(H),X=fo(b);_i(()=>{G&&(X==null||X())},[G,X]);const j=(K=ne.arrow)==null?void 0:K.x,ae=(q=ne.arrow)==null?void 0:q.y,re=((be=ne.arrow)==null?void 0:be.centerOffset)!==0,[de,me]=P.useState();return _i(()=>{x&&me(window.getComputedStyle(x).zIndex)},[x]),E.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:G?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(pe=ne.transformOrigin)==null?void 0:pe.x,(ie=ne.transformOrigin)==null?void 0:ie.y].join(" "),...((le=ne.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:E.jsx(xCe,{scope:n,placedSide:J,onArrowChange:_,arrowX:j,arrowY:ae,shouldHideArrow:re,children:E.jsx(Bt.div,{"data-side":J,"data-align":ee,...g,ref:k,style:{...g.style,animation:G?void 0:"none"}})})})});Cie.displayName=xN;var _ie="PopperArrow",SCe={top:"bottom",right:"left",bottom:"top",left:"right"},Aie=P.forwardRef(function(e,n){const{__scopePopper:i,...o}=e,a=wCe(_ie,i),s=SCe[a.placedSide];return E.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:E.jsx(bCe,{...o,ref:n,style:{...o.style,display:"block"}})})});Aie.displayName=_ie;function kCe(r){return r!==null}var TCe=r=>({name:"transformOrigin",options:r,fn(e){var v,x,w;const{placement:n,rects:i,middlewareData:o}=e,s=((v=o.arrow)==null?void 0:v.centerOffset)!==0,l=s?0:r.arrowWidth,c=s?0:r.arrowHeight,[u,d]=Die(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((x=o.arrow)==null?void 0:x.x)??0)+l/2,m=(((w=o.arrow)==null?void 0:w.y)??0)+c/2;let b="",g="";return u==="bottom"?(b=s?h:`${f}px`,g=`${-c}px`):u==="top"?(b=s?h:`${f}px`,g=`${i.floating.height+c}px`):u==="right"?(b=`${-c}px`,g=s?h:`${m}px`):u==="left"&&(b=`${i.floating.width+c}px`,g=s?h:`${m}px`),{data:{x:b,y:g}}}});function Die(r){const[e,n="center"]=r.split("-");return[e,n]}var dv=kie,hv=Eie,eS=Cie,tS=Aie,[nS,Wmt]=xa("Tooltip",[Yd]),rS=Yd(),Mie="TooltipProvider",ECe=700,gD="tooltip.open",[CCe,wN]=nS(Mie),Rie=r=>{const{__scopeTooltip:e,delayDuration:n=ECe,skipDelayDuration:i=300,disableHoverableContent:o=!1,children:a}=r,s=P.useRef(!0),l=P.useRef(!1),c=P.useRef(0);return P.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),E.jsx(CCe,{scope:e,isOpenDelayedRef:s,delayDuration:n,onOpen:P.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:P.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,i)},[i]),isPointerInTransitRef:l,onPointerInTransitChange:P.useCallback(u=>{l.current=u},[]),disableHoverableContent:o,children:a})};Rie.displayName=Mie;var db="Tooltip",[_Ce,iS]=nS(db),Nie=r=>{const{__scopeTooltip:e,children:n,open:i,defaultOpen:o,onOpenChange:a,disableHoverableContent:s,delayDuration:l}=r,c=wN(db,r.__scopeTooltip),u=rS(e),[d,h]=P.useState(null),f=No(),m=P.useRef(0),b=s??c.disableHoverableContent,g=l??c.delayDuration,v=P.useRef(!1),[x,w]=ma({prop:i,defaultProp:o??!1,onChange:I=>{I?(c.onOpen(),document.dispatchEvent(new CustomEvent(gD))):c.onClose(),a==null||a(I)},caller:db}),k=P.useMemo(()=>x?v.current?"delayed-open":"instant-open":"closed",[x]),T=P.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v.current=!1,w(!0)},[w]),_=P.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w(!1)},[w]),D=P.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{v.current=!0,w(!0),m.current=0},g)},[g,w]);return P.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),E.jsx(dv,{...u,children:E.jsx(_Ce,{scope:e,contentId:f,open:x,stateAttribute:k,trigger:d,onTriggerChange:h,onTriggerEnter:P.useCallback(()=>{c.isOpenDelayedRef.current?D():T()},[c.isOpenDelayedRef,D,T]),onTriggerLeave:P.useCallback(()=>{b?_():(window.clearTimeout(m.current),m.current=0)},[_,b]),onOpen:T,onClose:_,disableHoverableContent:b,children:n})})};Nie.displayName=db;var yD="TooltipTrigger",Oie=P.forwardRef((r,e)=>{const{__scopeTooltip:n,...i}=r,o=iS(yD,n),a=wN(yD,n),s=rS(n),l=P.useRef(null),c=vn(e,l,o.onTriggerChange),u=P.useRef(!1),d=P.useRef(!1),h=P.useCallback(()=>u.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),E.jsx(hv,{asChild:!0,...s,children:E.jsx(Bt.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...i,ref:c,onPointerMove:gt(r.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),d.current=!0)}),onPointerLeave:gt(r.onPointerLeave,()=>{o.onTriggerLeave(),d.current=!1}),onPointerDown:gt(r.onPointerDown,()=>{o.open&&o.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:gt(r.onFocus,()=>{u.current||o.onOpen()}),onBlur:gt(r.onBlur,o.onClose),onClick:gt(r.onClick,o.onClose)})})});Oie.displayName=yD;var ACe="TooltipPortal",[Vmt,DCe]=nS(ACe,{forceMount:void 0}),R0="TooltipContent",Pie=P.forwardRef((r,e)=>{const n=DCe(R0,r.__scopeTooltip),{forceMount:i=n.forceMount,side:o="top",...a}=r,s=iS(R0,r.__scopeTooltip);return E.jsx($o,{present:i||s.open,children:s.disableHoverableContent?E.jsx(Iie,{side:o,...a,ref:e}):E.jsx(MCe,{side:o,...a,ref:e})})}),MCe=P.forwardRef((r,e)=>{const n=iS(R0,r.__scopeTooltip),i=wN(R0,r.__scopeTooltip),o=P.useRef(null),a=vn(e,o),[s,l]=P.useState(null),{trigger:c,onClose:u}=n,d=o.current,{onPointerInTransitChange:h}=i,f=P.useCallback(()=>{l(null),h(!1)},[h]),m=P.useCallback((b,g)=>{const v=b.currentTarget,x={x:b.clientX,y:b.clientY},w=ICe(x,v.getBoundingClientRect()),k=$Ce(x,w),T=zCe(g.getBoundingClientRect()),_=UCe([...k,...T]);l(_),h(!0)},[h]);return P.useEffect(()=>()=>f(),[f]),P.useEffect(()=>{if(c&&d){const b=v=>m(v,d),g=v=>m(v,c);return c.addEventListener("pointerleave",b),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",g)}}},[c,d,m,f]),P.useEffect(()=>{if(s){const b=g=>{const v=g.target,x={x:g.clientX,y:g.clientY},w=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),k=!LCe(x,s);w?f():k&&(f(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,d,s,u,f]),E.jsx(Iie,{...r,ref:a})}),[RCe,NCe]=nS(db,{isInside:!1}),OCe=Nke("TooltipContent"),Iie=P.forwardRef((r,e)=>{const{__scopeTooltip:n,children:i,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:s,...l}=r,c=iS(R0,n),u=rS(n),{onClose:d}=c;return P.useEffect(()=>(document.addEventListener(gD,d),()=>document.removeEventListener(gD,d)),[d]),P.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),E.jsx(op,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:E.jsxs(eS,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[E.jsx(OCe,{children:i}),E.jsx(RCe,{scope:n,isInside:!0,children:E.jsx(OTe,{id:c.contentId,role:"tooltip",children:o||i})})]})})});Pie.displayName=R0;var $ie="TooltipArrow",PCe=P.forwardRef((r,e)=>{const{__scopeTooltip:n,...i}=r,o=rS(n);return NCe($ie,n).isInside?null:E.jsx(tS,{...o,...i,ref:e})});PCe.displayName=$ie;function ICe(r,e){const n=Math.abs(e.top-r.y),i=Math.abs(e.bottom-r.y),o=Math.abs(e.right-r.x),a=Math.abs(e.left-r.x);switch(Math.min(n,i,o,a)){case a:return"left";case o:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function $Ce(r,e,n=5){const i=[];switch(e){case"top":i.push({x:r.x-n,y:r.y+n},{x:r.x+n,y:r.y+n});break;case"bottom":i.push({x:r.x-n,y:r.y-n},{x:r.x+n,y:r.y-n});break;case"left":i.push({x:r.x+n,y:r.y-n},{x:r.x+n,y:r.y+n});break;case"right":i.push({x:r.x-n,y:r.y-n},{x:r.x-n,y:r.y+n});break}return i}function zCe(r){const{top:e,right:n,bottom:i,left:o}=r;return[{x:o,y:e},{x:n,y:e},{x:n,y:i},{x:o,y:i}]}function LCe(r,e){const{x:n,y:i}=r;let o=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const l=e[a],c=e[s],u=l.x,d=l.y,h=c.x,f=c.y;d>i!=f>i&&n<(h-u)*(i-d)/(f-d)+u&&(o=!o)}return o}function UCe(r){const e=r.slice();return e.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),BCe(e)}function BCe(r){if(r.length<=1)return r.slice();const e=[];for(let i=0;i<r.length;i++){const o=r[i];for(;e.length>=2;){const a=e[e.length-1],s=e[e.length-2];if((a.x-s.x)*(o.y-s.y)>=(a.y-s.y)*(o.x-s.x))e.pop();else break}e.push(o)}e.pop();const n=[];for(let i=r.length-1;i>=0;i--){const o=r[i];for(;n.length>=2;){const a=n[n.length-1],s=n[n.length-2];if((a.x-s.x)*(o.y-s.y)>=(a.y-s.y)*(o.x-s.x))n.pop();else break}n.push(o)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var jCe=Rie,FCe=Nie,HCe=Oie,zie=Pie,Lie="Toggle",Uie=P.forwardRef((r,e)=>{const{pressed:n,defaultPressed:i,onPressedChange:o,...a}=r,[s,l]=ma({prop:n,onChange:o,defaultProp:i??!1,caller:Lie});return E.jsx(Bt.button,{type:"button","aria-pressed":s,"data-state":s?"on":"off","data-disabled":r.disabled?"":void 0,...a,ref:e,onClick:gt(r.onClick,()=>{r.disabled||l(!s)})})});Uie.displayName=Lie;var Bie=Uie;function oS(r,e){if(r==null)return{};var n={},i=Object.keys(r),o,a;for(a=0;a<i.length;a++)o=i[a],!(e.indexOf(o)>=0)&&(n[o]=r[o]);return n}var WCe=["color"],VCe=P.forwardRef(function(r,e){var n=r.color,i=n===void 0?"currentColor":n,o=oS(r,WCe);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),P.createElement("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H10.5C10.7761 7 11 7.22386 11 7.5C11 7.77614 10.7761 8 10.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM3 10.5C3 10.2239 3.22386 10 3.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H3.5C3.22386 11 3 10.7761 3 10.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),qCe=["color"],GCe=P.forwardRef(function(r,e){var n=r.color,i=n===void 0?"currentColor":n,o=oS(r,qCe);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),P.createElement("path",{d:"M2.5 4C2.22386 4 2 4.22386 2 4.5C2 4.77614 2.22386 5 2.5 5H12.5C12.7761 5 13 4.77614 13 4.5C13 4.22386 12.7761 4 12.5 4H2.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),KCe=["color"],XCe=P.forwardRef(function(r,e){var n=r.color,i=n===void 0?"currentColor":n,o=oS(r,KCe);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),P.createElement("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H7.5C7.77614 7 8 7.22386 8 7.5C8 7.77614 7.77614 8 7.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H10.5C10.7761 10 11 10.2239 11 10.5C11 10.7761 10.7761 11 10.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),YCe=["color"],ZCe=P.forwardRef(function(r,e){var n=r.color,i=n===void 0?"currentColor":n,o=oS(r,YCe);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),P.createElement("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM7 7.5C7 7.22386 7.22386 7 7.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H7.5C7.22386 8 7 7.77614 7 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H4.5C4.22386 11 4 10.7761 4 10.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),W8=0;function aS(){P.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??Zj()),document.body.insertAdjacentElement("beforeend",r[1]??Zj()),W8++,()=>{W8===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),W8--}},[])}function Zj(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var V8="focusScope.autoFocusOnMount",q8="focusScope.autoFocusOnUnmount",Jj={bubbles:!1,cancelable:!0},JCe="FocusScope",fv=P.forwardRef((r,e)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...s}=r,[l,c]=P.useState(null),u=fo(o),d=fo(a),h=P.useRef(null),f=vn(e,g=>c(g)),m=P.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;P.useEffect(()=>{if(i){let g=function(k){if(m.paused||!l)return;const T=k.target;l.contains(T)?h.current=T:Xu(h.current,{select:!0})},v=function(k){if(m.paused||!l)return;const T=k.relatedTarget;T!==null&&(l.contains(T)||Xu(h.current,{select:!0}))},x=function(k){if(document.activeElement===document.body)for(const _ of k)_.removedNodes.length>0&&Xu(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const w=new MutationObserver(x);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),w.disconnect()}}},[i,l,m.paused]),P.useEffect(()=>{if(l){eF.add(m);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(V8,Jj);l.addEventListener(V8,u),l.dispatchEvent(x),x.defaultPrevented||(QCe(i7e(jie(l)),{select:!0}),document.activeElement===g&&Xu(l))}return()=>{l.removeEventListener(V8,u),setTimeout(()=>{const x=new CustomEvent(q8,Jj);l.addEventListener(q8,d),l.dispatchEvent(x),x.defaultPrevented||Xu(g??document.body,{select:!0}),l.removeEventListener(q8,d),eF.remove(m)},0)}}},[l,u,d,m]);const b=P.useCallback(g=>{if(!n&&!i||m.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(v&&x){const w=g.currentTarget,[k,T]=e7e(w);k&&T?!g.shiftKey&&x===T?(g.preventDefault(),n&&Xu(k,{select:!0})):g.shiftKey&&x===k&&(g.preventDefault(),n&&Xu(T,{select:!0})):x===w&&g.preventDefault()}},[n,i,m.paused]);return E.jsx(Bt.div,{tabIndex:-1,...s,ref:f,onKeyDown:b})});fv.displayName=JCe;function QCe(r,{select:e=!1}={}){const n=document.activeElement;for(const i of r)if(Xu(i,{select:e}),document.activeElement!==n)return}function e7e(r){const e=jie(r),n=Qj(e,r),i=Qj(e.reverse(),r);return[n,i]}function jie(r){const e=[],n=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Qj(r,e){for(const n of r)if(!t7e(n,{upTo:e}))return n}function t7e(r,{upTo:e}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(e!==void 0&&r===e)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function n7e(r){return r instanceof HTMLInputElement&&"select"in r}function Xu(r,{select:e=!1}={}){if(r&&r.focus){const n=document.activeElement;r.focus({preventScroll:!0}),r!==n&&n7e(r)&&e&&r.select()}}var eF=r7e();function r7e(){let r=[];return{add(e){const n=r[0];e!==n&&(n==null||n.pause()),r=tF(r,e),r.unshift(e)},remove(e){var n;r=tF(r,e),(n=r[0])==null||n.resume()}}}function tF(r,e){const n=[...r],i=n.indexOf(e);return i!==-1&&n.splice(i,1),n}function i7e(r){return r.filter(e=>e.tagName!=="A")}var o7e=function(r){if(typeof document>"u")return null;var e=Array.isArray(r)?r[0]:r;return e.ownerDocument.body},dm=new WeakMap,yw=new WeakMap,bw={},G8=0,Fie=function(r){return r&&(r.host||Fie(r.parentNode))},a7e=function(r,e){return e.map(function(n){if(r.contains(n))return n;var i=Fie(n);return i&&r.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",r,". Doing nothing"),null)}).filter(function(n){return!!n})},s7e=function(r,e,n,i){var o=a7e(e,Array.isArray(r)?r:[r]);bw[n]||(bw[n]=new WeakMap);var a=bw[n],s=[],l=new Set,c=new Set(o),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};o.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var m=f.getAttribute(i),b=m!==null&&m!=="false",g=(dm.get(f)||0)+1,v=(a.get(f)||0)+1;dm.set(f,g),a.set(f,v),s.push(f),g===1&&b&&yw.set(f,!0),v===1&&f.setAttribute(n,"true"),b||f.setAttribute(i,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return d(e),l.clear(),G8++,function(){s.forEach(function(h){var f=dm.get(h)-1,m=a.get(h)-1;dm.set(h,f),a.set(h,m),f||(yw.has(h)||h.removeAttribute(i),yw.delete(h)),m||h.removeAttribute(n)}),G8--,G8||(dm=new WeakMap,dm=new WeakMap,yw=new WeakMap,bw={})}},sS=function(r,e,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(r)?r:[r]),o=o7e(r);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),s7e(i,o,n,"aria-hidden")):function(){return null}},il=function(){return il=Object.assign||function(e){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},il.apply(this,arguments)};function Hie(r,e){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]]);return n}function l7e(r,e,n){if(n||arguments.length===2)for(var i=0,o=e.length,a;i<o;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return r.concat(a||Array.prototype.slice.call(e))}var i4="right-scroll-bar-position",o4="width-before-scroll-bar",c7e="with-scroll-bars-hidden",u7e="--removed-body-scroll-bar-size";function K8(r,e){return typeof r=="function"?r(e):r&&(r.current=e),r}function d7e(r,e){var n=P.useState(function(){return{value:r,callback:e,facade:{get current(){return n.value},set current(i){var o=n.value;o!==i&&(n.value=i,n.callback(i,o))}}}})[0];return n.callback=e,n.facade}var h7e=typeof window<"u"?P.useLayoutEffect:P.useEffect,nF=new WeakMap;function f7e(r,e){var n=d7e(null,function(i){return r.forEach(function(o){return K8(o,i)})});return h7e(function(){var i=nF.get(n);if(i){var o=new Set(i),a=new Set(r),s=n.current;o.forEach(function(l){a.has(l)||K8(l,null)}),a.forEach(function(l){o.has(l)||K8(l,s)})}nF.set(n,r)},[r]),n}function p7e(r){return r}function m7e(r,e){e===void 0&&(e=p7e);var n=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:r},useMedium:function(a){var s=e(a,i);return n.push(s),function(){n=n.filter(function(l){return l!==s})}},assignSyncMedium:function(a){for(i=!0;n.length;){var s=n;n=[],s.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){i=!0;var s=[];if(n.length){var l=n;n=[],l.forEach(a),s=n}var c=function(){var d=s;s=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return o}function g7e(r){r===void 0&&(r={});var e=m7e(null);return e.options=il({async:!0,ssr:!1},r),e}var Wie=function(r){var e=r.sideCar,n=Hie(r,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return P.createElement(i,il({},n))};Wie.isSideCarExport=!0;function y7e(r,e){return r.useMedium(e),Wie}var Vie=g7e(),X8=function(){},lS=P.forwardRef(function(r,e){var n=P.useRef(null),i=P.useState({onScrollCapture:X8,onWheelCapture:X8,onTouchMoveCapture:X8}),o=i[0],a=i[1],s=r.forwardProps,l=r.children,c=r.className,u=r.removeScrollBar,d=r.enabled,h=r.shards,f=r.sideCar,m=r.noRelative,b=r.noIsolation,g=r.inert,v=r.allowPinchZoom,x=r.as,w=x===void 0?"div":x,k=r.gapMode,T=Hie(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=f,D=f7e([n,e]),I=il(il({},T),o);return P.createElement(P.Fragment,null,d&&P.createElement(_,{sideCar:Vie,removeScrollBar:u,shards:h,noRelative:m,noIsolation:b,inert:g,setCallbacks:a,allowPinchZoom:!!v,lockRef:n,gapMode:k}),s?P.cloneElement(P.Children.only(l),il(il({},I),{ref:D})):P.createElement(w,il({},I,{className:c,ref:D}),l))});lS.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lS.classNames={fullWidth:o4,zeroRight:i4};var b7e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function v7e(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var e=b7e();return e&&r.setAttribute("nonce",e),r}function x7e(r,e){r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}function w7e(r){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(r)}var S7e=function(){var r=0,e=null;return{add:function(n){r==0&&(e=v7e())&&(x7e(e,n),w7e(e)),r++},remove:function(){r--,!r&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},k7e=function(){var r=S7e();return function(e,n){P.useEffect(function(){return r.add(e),function(){r.remove()}},[e&&n])}},qie=function(){var r=k7e(),e=function(n){var i=n.styles,o=n.dynamic;return r(i,o),null};return e},T7e={left:0,top:0,right:0,gap:0},Y8=function(r){return parseInt(r||"",10)||0},E7e=function(r){var e=window.getComputedStyle(document.body),n=e[r==="padding"?"paddingLeft":"marginLeft"],i=e[r==="padding"?"paddingTop":"marginTop"],o=e[r==="padding"?"paddingRight":"marginRight"];return[Y8(n),Y8(i),Y8(o)]},C7e=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return T7e;var e=E7e(r),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-n+e[2]-e[0])}},_7e=qie(),Qm="data-scroll-locked",A7e=function(r,e,n,i){var o=r.left,a=r.top,s=r.right,l=r.gap;return n===void 0&&(n="margin"),`
  .`.concat(c7e,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(l,"px ").concat(i,`;
  }
  body[`).concat(Qm,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(i4,` {
    right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(o4,` {
    margin-right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(i4," .").concat(i4,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(o4," .").concat(o4,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Qm,`] {
    `).concat(u7e,": ").concat(l,`px;
  }
`)},rF=function(){var r=parseInt(document.body.getAttribute(Qm)||"0",10);return isFinite(r)?r:0},D7e=function(){P.useEffect(function(){return document.body.setAttribute(Qm,(rF()+1).toString()),function(){var r=rF()-1;r<=0?document.body.removeAttribute(Qm):document.body.setAttribute(Qm,r.toString())}},[])},M7e=function(r){var e=r.noRelative,n=r.noImportant,i=r.gapMode,o=i===void 0?"margin":i;D7e();var a=P.useMemo(function(){return C7e(o)},[o]);return P.createElement(_7e,{styles:A7e(a,!e,o,n?"":"!important")})},bD=!1;if(typeof window<"u")try{var vw=Object.defineProperty({},"passive",{get:function(){return bD=!0,!0}});window.addEventListener("test",vw,vw),window.removeEventListener("test",vw,vw)}catch{bD=!1}var hm=bD?{passive:!1}:!1,R7e=function(r){return r.tagName==="TEXTAREA"},Gie=function(r,e){if(!(r instanceof Element))return!1;var n=window.getComputedStyle(r);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!R7e(r)&&n[e]==="visible")},N7e=function(r){return Gie(r,"overflowY")},O7e=function(r){return Gie(r,"overflowX")},iF=function(r,e){var n=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=Kie(r,i);if(o){var a=Xie(r,i),s=a[1],l=a[2];if(s>l)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},P7e=function(r){var e=r.scrollTop,n=r.scrollHeight,i=r.clientHeight;return[e,n,i]},I7e=function(r){var e=r.scrollLeft,n=r.scrollWidth,i=r.clientWidth;return[e,n,i]},Kie=function(r,e){return r==="v"?N7e(e):O7e(e)},Xie=function(r,e){return r==="v"?P7e(e):I7e(e)},$7e=function(r,e){return r==="h"&&e==="rtl"?-1:1},z7e=function(r,e,n,i,o){var a=$7e(r,window.getComputedStyle(e).direction),s=a*i,l=n.target,c=e.contains(l),u=!1,d=s>0,h=0,f=0;do{var m=Xie(r,l),b=m[0],g=m[1],v=m[2],x=g-v-a*b;(b||x)&&Kie(r,l)&&(h+=x,f+=b),l=l.parentNode.host||l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},xw=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},oF=function(r){return[r.deltaX,r.deltaY]},aF=function(r){return r&&"current"in r?r.current:r},L7e=function(r,e){return r[0]===e[0]&&r[1]===e[1]},U7e=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},B7e=0,fm=[];function j7e(r){var e=P.useRef([]),n=P.useRef([0,0]),i=P.useRef(),o=P.useState(B7e++)[0],a=P.useState(qie)[0],s=P.useRef(r);P.useEffect(function(){s.current=r},[r]),P.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(o));var g=l7e([r.lockRef.current],(r.shards||[]).map(aF),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(o))})}}},[r.inert,r.lockRef.current,r.shards]);var l=P.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var x=xw(g),w=n.current,k="deltaX"in g?g.deltaX:w[0]-x[0],T="deltaY"in g?g.deltaY:w[1]-x[1],_,D=g.target,I=Math.abs(k)>Math.abs(T)?"h":"v";if("touches"in g&&I==="h"&&D.type==="range")return!1;var L=iF(I,D);if(!L)return!0;if(L?_=I:(_=I==="v"?"h":"v",L=iF(I,D)),!L)return!1;if(!i.current&&"changedTouches"in g&&(k||T)&&(i.current=_),!_)return!0;var O=i.current||_;return z7e(O,v,g,O==="h"?k:T)},[]),c=P.useCallback(function(g){var v=g;if(!(!fm.length||fm[fm.length-1]!==a)){var x="deltaY"in v?oF(v):xw(v),w=e.current.filter(function(_){return _.name===v.type&&(_.target===v.target||v.target===_.shadowParent)&&L7e(_.delta,x)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var k=(s.current.shards||[]).map(aF).filter(Boolean).filter(function(_){return _.contains(v.target)}),T=k.length>0?l(v,k[0]):!s.current.noIsolation;T&&v.cancelable&&v.preventDefault()}}},[]),u=P.useCallback(function(g,v,x,w){var k={name:g,delta:v,target:x,should:w,shadowParent:F7e(x)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(T){return T!==k})},1)},[]),d=P.useCallback(function(g){n.current=xw(g),i.current=void 0},[]),h=P.useCallback(function(g){u(g.type,oF(g),g.target,l(g,r.lockRef.current))},[]),f=P.useCallback(function(g){u(g.type,xw(g),g.target,l(g,r.lockRef.current))},[]);P.useEffect(function(){return fm.push(a),r.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,hm),document.addEventListener("touchmove",c,hm),document.addEventListener("touchstart",d,hm),function(){fm=fm.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,hm),document.removeEventListener("touchmove",c,hm),document.removeEventListener("touchstart",d,hm)}},[]);var m=r.removeScrollBar,b=r.inert;return P.createElement(P.Fragment,null,b?P.createElement(a,{styles:U7e(o)}):null,m?P.createElement(M7e,{noRelative:r.noRelative,gapMode:r.gapMode}):null)}function F7e(r){for(var e=null;r!==null;)r instanceof ShadowRoot&&(e=r.host,r=r.host),r=r.parentNode;return e}const H7e=y7e(Vie,j7e);var pv=P.forwardRef(function(r,e){return P.createElement(lS,il({},r,{ref:e,sideCar:H7e}))});pv.classNames=lS.classNames;var cS="Popover",[Yie,qmt]=xa(cS,[Yd]),mv=Yd(),[W7e,Zd]=Yie(cS),Zie=r=>{const{__scopePopover:e,children:n,open:i,defaultOpen:o,onOpenChange:a,modal:s=!1}=r,l=mv(e),c=P.useRef(null),[u,d]=P.useState(!1),[h,f]=ma({prop:i,defaultProp:o??!1,onChange:a,caller:cS});return E.jsx(dv,{...l,children:E.jsx(W7e,{scope:e,contentId:No(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:P.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:u,onCustomAnchorAdd:P.useCallback(()=>d(!0),[]),onCustomAnchorRemove:P.useCallback(()=>d(!1),[]),modal:s,children:n})})};Zie.displayName=cS;var Jie="PopoverAnchor",V7e=P.forwardRef((r,e)=>{const{__scopePopover:n,...i}=r,o=Zd(Jie,n),a=mv(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:l}=o;return P.useEffect(()=>(s(),()=>l()),[s,l]),E.jsx(hv,{...a,...i,ref:e})});V7e.displayName=Jie;var Qie="PopoverTrigger",eoe=P.forwardRef((r,e)=>{const{__scopePopover:n,...i}=r,o=Zd(Qie,n),a=mv(n),s=vn(e,o.triggerRef),l=E.jsx(Bt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":ooe(o.open),...i,ref:s,onClick:gt(r.onClick,o.onOpenToggle)});return o.hasCustomAnchor?l:E.jsx(hv,{asChild:!0,...a,children:l})});eoe.displayName=Qie;var SN="PopoverPortal",[q7e,G7e]=Yie(SN,{forceMount:void 0}),toe=r=>{const{__scopePopover:e,forceMount:n,children:i,container:o}=r,a=Zd(SN,e);return E.jsx(q7e,{scope:e,forceMount:n,children:E.jsx($o,{present:n||a.open,children:E.jsx(Q0,{asChild:!0,container:o,children:i})})})};toe.displayName=SN;var N0="PopoverContent",noe=P.forwardRef((r,e)=>{const n=G7e(N0,r.__scopePopover),{forceMount:i=n.forceMount,...o}=r,a=Zd(N0,r.__scopePopover);return E.jsx($o,{present:i||a.open,children:a.modal?E.jsx(X7e,{...o,ref:e}):E.jsx(Y7e,{...o,ref:e})})});noe.displayName=N0;var K7e=_d("PopoverContent.RemoveScroll"),X7e=P.forwardRef((r,e)=>{const n=Zd(N0,r.__scopePopover),i=P.useRef(null),o=vn(e,i),a=P.useRef(!1);return P.useEffect(()=>{const s=i.current;if(s)return sS(s)},[]),E.jsx(pv,{as:K7e,allowPinchZoom:!0,children:E.jsx(roe,{...r,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:gt(r.onCloseAutoFocus,s=>{var l;s.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:gt(r.onPointerDownOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:gt(r.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),Y7e=P.forwardRef((r,e)=>{const n=Zd(N0,r.__scopePopover),i=P.useRef(!1),o=P.useRef(!1);return E.jsx(roe,{...r,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,l;(s=r.onCloseAutoFocus)==null||s.call(r,a),a.defaultPrevented||(i.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:a=>{var c,u;(c=r.onInteractOutside)==null||c.call(r,a),a.defaultPrevented||(i.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const s=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),roe=P.forwardRef((r,e)=>{const{__scopePopover:n,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=r,f=Zd(N0,n),m=mv(n);return aS(),E.jsx(fv,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:a,children:E.jsx(op,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:E.jsx(eS,{"data-state":ooe(f.open),role:"dialog",id:f.contentId,...m,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ioe="PopoverClose",Z7e=P.forwardRef((r,e)=>{const{__scopePopover:n,...i}=r,o=Zd(ioe,n);return E.jsx(Bt.button,{type:"button",...i,ref:e,onClick:gt(r.onClick,()=>o.onOpenChange(!1))})});Z7e.displayName=ioe;var J7e="PopoverArrow",Q7e=P.forwardRef((r,e)=>{const{__scopePopover:n,...i}=r,o=mv(n);return E.jsx(tS,{...o,...i,ref:e})});Q7e.displayName=J7e;function ooe(r){return r?"open":"closed"}var e_e=Zie,t_e=eoe,n_e=toe,aoe=noe,r_e="Label",soe=P.forwardRef((r,e)=>E.jsx(Bt.label,{...r,ref:e,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=r.onMouseDown)==null||o.call(r,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));soe.displayName=r_e;var loe=soe,uS="Dialog",[coe,Gmt]=xa(uS),[i_e,Is]=coe(uS),uoe=r=>{const{__scopeDialog:e,children:n,open:i,defaultOpen:o,onOpenChange:a,modal:s=!0}=r,l=P.useRef(null),c=P.useRef(null),[u,d]=ma({prop:i,defaultProp:o??!1,onChange:a,caller:uS});return E.jsx(i_e,{scope:e,triggerRef:l,contentRef:c,contentId:No(),titleId:No(),descriptionId:No(),open:u,onOpenChange:d,onOpenToggle:P.useCallback(()=>d(h=>!h),[d]),modal:s,children:n})};uoe.displayName=uS;var doe="DialogTrigger",hoe=P.forwardRef((r,e)=>{const{__scopeDialog:n,...i}=r,o=Is(doe,n),a=vn(e,o.triggerRef);return E.jsx(Bt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":EN(o.open),...i,ref:a,onClick:gt(r.onClick,o.onOpenToggle)})});hoe.displayName=doe;var kN="DialogPortal",[o_e,foe]=coe(kN,{forceMount:void 0}),poe=r=>{const{__scopeDialog:e,forceMount:n,children:i,container:o}=r,a=Is(kN,e);return E.jsx(o_e,{scope:e,forceMount:n,children:P.Children.map(i,s=>E.jsx($o,{present:n||a.open,children:E.jsx(Q0,{asChild:!0,container:o,children:s})}))})};poe.displayName=kN;var t3="DialogOverlay",moe=P.forwardRef((r,e)=>{const n=foe(t3,r.__scopeDialog),{forceMount:i=n.forceMount,...o}=r,a=Is(t3,r.__scopeDialog);return a.modal?E.jsx($o,{present:i||a.open,children:E.jsx(s_e,{...o,ref:e})}):null});moe.displayName=t3;var a_e=_d("DialogOverlay.RemoveScroll"),s_e=P.forwardRef((r,e)=>{const{__scopeDialog:n,...i}=r,o=Is(t3,n);return E.jsx(pv,{as:a_e,allowPinchZoom:!0,shards:[o.contentRef],children:E.jsx(Bt.div,{"data-state":EN(o.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),Hf="DialogContent",goe=P.forwardRef((r,e)=>{const n=foe(Hf,r.__scopeDialog),{forceMount:i=n.forceMount,...o}=r,a=Is(Hf,r.__scopeDialog);return E.jsx($o,{present:i||a.open,children:a.modal?E.jsx(l_e,{...o,ref:e}):E.jsx(c_e,{...o,ref:e})})});goe.displayName=Hf;var l_e=P.forwardRef((r,e)=>{const n=Is(Hf,r.__scopeDialog),i=P.useRef(null),o=vn(e,n.contentRef,i);return P.useEffect(()=>{const a=i.current;if(a)return sS(a)},[]),E.jsx(yoe,{...r,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:gt(r.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:gt(r.onPointerDownOutside,a=>{const s=a.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&a.preventDefault()}),onFocusOutside:gt(r.onFocusOutside,a=>a.preventDefault())})}),c_e=P.forwardRef((r,e)=>{const n=Is(Hf,r.__scopeDialog),i=P.useRef(!1),o=P.useRef(!1);return E.jsx(yoe,{...r,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,l;(s=r.onCloseAutoFocus)==null||s.call(r,a),a.defaultPrevented||(i.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:a=>{var c,u;(c=r.onInteractOutside)==null||c.call(r,a),a.defaultPrevented||(i.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const s=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),yoe=P.forwardRef((r,e)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:a,...s}=r,l=Is(Hf,n),c=P.useRef(null),u=vn(e,c);return aS(),E.jsxs(E.Fragment,{children:[E.jsx(fv,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:a,children:E.jsx(op,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":EN(l.open),...s,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),E.jsxs(E.Fragment,{children:[E.jsx(u_e,{titleId:l.titleId}),E.jsx(h_e,{contentRef:c,descriptionId:l.descriptionId})]})]})}),TN="DialogTitle",boe=P.forwardRef((r,e)=>{const{__scopeDialog:n,...i}=r,o=Is(TN,n);return E.jsx(Bt.h2,{id:o.titleId,...i,ref:e})});boe.displayName=TN;var voe="DialogDescription",xoe=P.forwardRef((r,e)=>{const{__scopeDialog:n,...i}=r,o=Is(voe,n);return E.jsx(Bt.p,{id:o.descriptionId,...i,ref:e})});xoe.displayName=voe;var woe="DialogClose",Soe=P.forwardRef((r,e)=>{const{__scopeDialog:n,...i}=r,o=Is(woe,n);return E.jsx(Bt.button,{type:"button",...i,ref:e,onClick:gt(r.onClick,()=>o.onOpenChange(!1))})});Soe.displayName=woe;function EN(r){return r?"open":"closed"}var koe="DialogTitleWarning",[Kmt,Toe]=pTe(koe,{contentName:Hf,titleName:TN,docsSlug:"dialog"}),u_e=({titleId:r})=>{const e=Toe(koe),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return P.useEffect(()=>{r&&(document.getElementById(r)||console.error(n))},[n,r]),null},d_e="DialogDescriptionWarning",h_e=({contentRef:r,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Toe(d_e).contentName}}.`;return P.useEffect(()=>{var a;const o=(a=r.current)==null?void 0:a.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(i))},[i,r,e]),null},f_e=uoe,p_e=hoe,m_e=poe,Eoe=moe,Coe=goe,_oe=boe,Aoe=xoe,g_e=Soe,Gr=function(){return Gr=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Gr.apply(this,arguments)},sF={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},lF={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},ww={width:"20px",height:"20px",position:"absolute",zIndex:1},y_e={top:Gr(Gr({},sF),{top:"-5px"}),right:Gr(Gr({},lF),{left:void 0,right:"-5px"}),bottom:Gr(Gr({},sF),{top:void 0,bottom:"-5px"}),left:Gr(Gr({},lF),{left:"-5px"}),topRight:Gr(Gr({},ww),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:Gr(Gr({},ww),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:Gr(Gr({},ww),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:Gr(Gr({},ww),{left:"-10px",top:"-10px",cursor:"nw-resize"})},b_e=P.memo(function(r){var e=r.onResizeStart,n=r.direction,i=r.children,o=r.replaceStyles,a=r.className,s=P.useCallback(function(u){e(u,n)},[e,n]),l=P.useCallback(function(u){e(u,n)},[e,n]),c=P.useMemo(function(){return Gr(Gr({position:"absolute",userSelect:"none"},y_e[n]),o??{})},[o,n]);return E.jsx("div",{className:a||void 0,style:c,onMouseDown:s,onTouchStart:l,children:i})}),v_e=function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xs=function(){return Xs=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Xs.apply(this,arguments)},x_e={width:"auto",height:"auto"},Sw=function(r,e,n){return Math.max(Math.min(r,n),e)},cF=function(r,e,n){var i=Math.round(r/e);return i*e+n*(i-1)},pm=function(r,e){return new RegExp(r,"i").test(e)},kw=function(r){return!!(r.touches&&r.touches.length)},w_e=function(r){return!!((r.clientX||r.clientX===0)&&(r.clientY||r.clientY===0))},uF=function(r,e,n){n===void 0&&(n=0);var i=e.reduce(function(a,s,l){return Math.abs(s-r)<Math.abs(e[a]-r)?l:a},0),o=Math.abs(e[i]-r);return n===0||o<n?e[i]:r},Z8=function(r){return r=r.toString(),r==="auto"||r.endsWith("px")||r.endsWith("%")||r.endsWith("vh")||r.endsWith("vw")||r.endsWith("vmax")||r.endsWith("vmin")?r:"".concat(r,"px")},Tw=function(r,e,n,i){if(r&&typeof r=="string"){if(r.endsWith("px"))return Number(r.replace("px",""));if(r.endsWith("%")){var o=Number(r.replace("%",""))/100;return e*o}if(r.endsWith("vw")){var o=Number(r.replace("vw",""))/100;return n*o}if(r.endsWith("vh")){var o=Number(r.replace("vh",""))/100;return i*o}}return r},S_e=function(r,e,n,i,o,a,s){return i=Tw(i,r.width,e,n),o=Tw(o,r.height,e,n),a=Tw(a,r.width,e,n),s=Tw(s,r.height,e,n),{maxWidth:typeof i>"u"?void 0:Number(i),maxHeight:typeof o>"u"?void 0:Number(o),minWidth:typeof a>"u"?void 0:Number(a),minHeight:typeof s>"u"?void 0:Number(s)}},k_e=function(r){return Array.isArray(r)?r:[r,r]},T_e=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],dF="__resizable_base__",Doe=function(r){v_e(e,r);function e(n){var i,o,a,s,l=r.call(this,n)||this;return l.ratio=1,l.resizable=null,l.parentLeft=0,l.parentTop=0,l.resizableLeft=0,l.resizableRight=0,l.resizableTop=0,l.resizableBottom=0,l.targetLeft=0,l.targetTop=0,l.delta={width:0,height:0},l.appendBase=function(){if(!l.resizable||!l.window)return null;var c=l.parentNode;if(!c)return null;var u=l.window.document.createElement("div");return u.style.width="100%",u.style.height="100%",u.style.position="absolute",u.style.transform="scale(0, 0)",u.style.left="0",u.style.flex="0 0 100%",u.classList?u.classList.add(dF):u.className+=dF,c.appendChild(u),u},l.removeBase=function(c){var u=l.parentNode;u&&u.removeChild(c)},l.state={isResizing:!1,width:(o=(i=l.propsSize)===null||i===void 0?void 0:i.width)!==null&&o!==void 0?o:"auto",height:(s=(a=l.propsSize)===null||a===void 0?void 0:a.height)!==null&&s!==void 0?s:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},l.onResizeStart=l.onResizeStart.bind(l),l.onMouseMove=l.onMouseMove.bind(l),l.onMouseUp=l.onMouseUp.bind(l),l}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||x_e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var n=0,i=0;if(this.resizable&&this.window){var o=this.resizable.offsetWidth,a=this.resizable.offsetHeight,s=this.resizable.style.position;s!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:o,i=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:a,this.resizable.style.position=s}return{width:n,height:i}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var n=this,i=this.props.size,o=function(l){var c;if(typeof n.state[l]>"u"||n.state[l]==="auto")return"auto";if(n.propsSize&&n.propsSize[l]&&(!((c=n.propsSize[l])===null||c===void 0)&&c.toString().endsWith("%"))){if(n.state[l].toString().endsWith("%"))return n.state[l].toString();var u=n.getParentSize(),d=Number(n.state[l].toString().replace("px","")),h=d/u[l]*100;return"".concat(h,"%")}return Z8(n.state[l])},a=i&&typeof i.width<"u"&&!this.state.isResizing?Z8(i.width):o("width"),s=i&&typeof i.height<"u"&&!this.state.isResizing?Z8(i.height):o("height");return{width:a,height:s}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var i=!1,o=this.parentNode.style.flexWrap;o!=="wrap"&&(i=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var a={width:n.offsetWidth,height:n.offsetHeight};return i&&(this.parentNode.style.flexWrap=o),this.removeBase(n),a},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(n,i){var o=this.propsSize&&this.propsSize[i];return this.state[i]==="auto"&&this.state.original[i]===n&&(typeof o>"u"||o==="auto")?"auto":n},e.prototype.calculateNewMaxFromBoundary=function(n,i){var o=this.props.boundsByDirection,a=this.state.direction,s=o&&pm("left",a),l=o&&pm("top",a),c,u;if(this.props.bounds==="parent"){var d=this.parentNode;d&&(c=s?this.resizableRight-this.parentLeft:d.offsetWidth+(this.parentLeft-this.resizableLeft),u=l?this.resizableBottom-this.parentTop:d.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(c=s?this.resizableRight:this.window.innerWidth-this.resizableLeft,u=l?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(c=s?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),u=l?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return c&&Number.isFinite(c)&&(n=n&&n<c?n:c),u&&Number.isFinite(u)&&(i=i&&i<u?i:u),{maxWidth:n,maxHeight:i}},e.prototype.calculateNewSizeFromDirection=function(n,i){var o=this.props.scale||1,a=k_e(this.props.resizeRatio||1),s=a[0],l=a[1],c=this.state,u=c.direction,d=c.original,h=this.props,f=h.lockAspectRatio,m=h.lockAspectRatioExtraHeight,b=h.lockAspectRatioExtraWidth,g=d.width,v=d.height,x=m||0,w=b||0;return pm("right",u)&&(g=d.width+(n-d.x)*s/o,f&&(v=(g-w)/this.ratio+x)),pm("left",u)&&(g=d.width-(n-d.x)*s/o,f&&(v=(g-w)/this.ratio+x)),pm("bottom",u)&&(v=d.height+(i-d.y)*l/o,f&&(g=(v-x)*this.ratio+w)),pm("top",u)&&(v=d.height-(i-d.y)*l/o,f&&(g=(v-x)*this.ratio+w)),{newWidth:g,newHeight:v}},e.prototype.calculateNewSizeFromAspectRatio=function(n,i,o,a){var s=this.props,l=s.lockAspectRatio,c=s.lockAspectRatioExtraHeight,u=s.lockAspectRatioExtraWidth,d=typeof a.width>"u"?10:a.width,h=typeof o.width>"u"||o.width<0?n:o.width,f=typeof a.height>"u"?10:a.height,m=typeof o.height>"u"||o.height<0?i:o.height,b=c||0,g=u||0;if(l){var v=(f-b)*this.ratio+g,x=(m-b)*this.ratio+g,w=(d-g)/this.ratio+b,k=(h-g)/this.ratio+b,T=Math.max(d,v),_=Math.min(h,x),D=Math.max(f,w),I=Math.min(m,k);n=Sw(n,T,_),i=Sw(i,D,I)}else n=Sw(n,d,h),i=Sw(i,f,m);return{newWidth:n,newHeight:i}},e.prototype.setBoundingClientRect=function(){var n=1/(this.props.scale||1);if(this.props.bounds==="parent"){var i=this.parentNode;if(i){var o=i.getBoundingClientRect();this.parentLeft=o.left*n,this.parentTop=o.top*n}}if(this.props.bounds&&typeof this.props.bounds!="string"){var a=this.props.bounds.getBoundingClientRect();this.targetLeft=a.left*n,this.targetTop=a.top*n}if(this.resizable){var s=this.resizable.getBoundingClientRect(),l=s.left,c=s.top,u=s.right,d=s.bottom;this.resizableLeft=l*n,this.resizableRight=u*n,this.resizableTop=c*n,this.resizableBottom=d*n}},e.prototype.onResizeStart=function(n,i){if(!(!this.resizable||!this.window)){var o=0,a=0;if(n.nativeEvent&&w_e(n.nativeEvent)?(o=n.nativeEvent.clientX,a=n.nativeEvent.clientY):n.nativeEvent&&kw(n.nativeEvent)&&(o=n.nativeEvent.touches[0].clientX,a=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var s=this.props.onResizeStart(n,i,this.resizable);if(s===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var l,c=this.window.getComputedStyle(this.resizable);if(c.flexBasis!=="auto"){var u=this.parentNode;if(u){var d=this.window.getComputedStyle(u).flexDirection;this.flexDir=d.startsWith("row")?"row":"column",l=c.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var h={original:{x:o,y:a,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Xs(Xs({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:i,flexBasis:l};this.setState(h)}},e.prototype.onMouseMove=function(n){var i=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&kw(n))try{n.preventDefault(),n.stopPropagation()}catch{}var o=this.props,a=o.maxWidth,s=o.maxHeight,l=o.minWidth,c=o.minHeight,u=kw(n)?n.touches[0].clientX:n.clientX,d=kw(n)?n.touches[0].clientY:n.clientY,h=this.state,f=h.direction,m=h.original,b=h.width,g=h.height,v=this.getParentSize(),x=S_e(v,this.window.innerWidth,this.window.innerHeight,a,s,l,c);a=x.maxWidth,s=x.maxHeight,l=x.minWidth,c=x.minHeight;var w=this.calculateNewSizeFromDirection(u,d),k=w.newHeight,T=w.newWidth,_=this.calculateNewMaxFromBoundary(a,s);this.props.snap&&this.props.snap.x&&(T=uF(T,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(k=uF(k,this.props.snap.y,this.props.snapGap));var D=this.calculateNewSizeFromAspectRatio(T,k,{width:_.maxWidth,height:_.maxHeight},{width:l,height:c});if(T=D.newWidth,k=D.newHeight,this.props.grid){var I=cF(T,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),L=cF(k,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),O=this.props.snapGap||0,W=O===0||Math.abs(I-T)<=O?I:T,Z=O===0||Math.abs(L-k)<=O?L:k;T=W,k=Z}var $={width:T-m.width,height:k-m.height};if(this.delta=$,b&&typeof b=="string"){if(b.endsWith("%")){var F=T/v.width*100;T="".concat(F,"%")}else if(b.endsWith("vw")){var A=T/this.window.innerWidth*100;T="".concat(A,"vw")}else if(b.endsWith("vh")){var Q=T/this.window.innerHeight*100;T="".concat(Q,"vh")}}if(g&&typeof g=="string"){if(g.endsWith("%")){var F=k/v.height*100;k="".concat(F,"%")}else if(g.endsWith("vw")){var A=k/this.window.innerWidth*100;k="".concat(A,"vw")}else if(g.endsWith("vh")){var Q=k/this.window.innerHeight*100;k="".concat(Q,"vh")}}var H={width:this.createSizeForCssProperty(T,"width"),height:this.createSizeForCssProperty(k,"height")};this.flexDir==="row"?H.flexBasis=H.width:this.flexDir==="column"&&(H.flexBasis=H.height);var G=this.state.width!==H.width,ne=this.state.height!==H.height,J=this.state.flexBasis!==H.flexBasis,ee=G||ne||J;ee&&Wd.flushSync(function(){i.setState(H)}),this.props.onResize&&ee&&this.props.onResize(n,f,this.resizable,$)}},e.prototype.onMouseUp=function(n){var i,o,a=this.state,s=a.isResizing,l=a.direction;a.original,!(!s||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(n,l,this.resizable,this.delta),this.props.size&&this.setState({width:(i=this.props.size.width)!==null&&i!==void 0?i:"auto",height:(o=this.props.size.height)!==null&&o!==void 0?o:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Xs(Xs({},this.state.backgroundStyle),{cursor:"auto"})}))},e.prototype.updateSize=function(n){var i,o;this.setState({width:(i=n.width)!==null&&i!==void 0?i:"auto",height:(o=n.height)!==null&&o!==void 0?o:"auto"})},e.prototype.renderResizer=function(){var n=this,i=this.props,o=i.enable,a=i.handleStyles,s=i.handleClasses,l=i.handleWrapperStyle,c=i.handleWrapperClass,u=i.handleComponent;if(!o)return null;var d=Object.keys(o).map(function(h){return o[h]!==!1?E.jsx(b_e,{direction:h,onResizeStart:n.onResizeStart,replaceStyles:a&&a[h],className:s&&s[h],children:u&&u[h]?u[h]:null},h):null});return E.jsx("div",{className:c,style:l,children:d})},e.prototype.render=function(){var n=this,i=Object.keys(this.props).reduce(function(s,l){return T_e.indexOf(l)!==-1||(s[l]=n.props[l]),s},{}),o=Xs(Xs(Xs({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(o.flexBasis=this.state.flexBasis);var a=this.props.as||"div";return E.jsxs(a,Xs({style:o,className:this.props.className},i,{ref:function(s){s&&(n.resizable=s)},children:[this.state.isResizing&&E.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e}(P.PureComponent),E_e=Object.defineProperty,C_e=(r,e,n)=>e in r?E_e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,yr=(r,e,n)=>C_e(r,typeof e!="symbol"?e+"":e,n);const n3={x:0,y:0,width:0,height:0,unit:"px"},mm=(r,e,n)=>Math.min(Math.max(r,e),n),__e=(...r)=>r.filter(e=>e&&typeof e=="string").join(" "),hF=(r,e)=>r===e||r.width===e.width&&r.height===e.height&&r.x===e.x&&r.y===e.y&&r.unit===e.unit;function gm(r,e,n){return r.unit==="%"?{...n3,...r,unit:"%"}:{unit:"%",x:r.x?r.x/e*100:0,y:r.y?r.y/n*100:0,width:r.width?r.width/e*100:0,height:r.height?r.height/n*100:0}}function Iu(r,e,n){return r.unit?r.unit==="px"?{...n3,...r,unit:"px"}:{unit:"px",x:r.x?r.x*e/100:0,y:r.y?r.y*n/100:0,width:r.width?r.width*e/100:0,height:r.height?r.height*n/100:0}:{...n3,...r,unit:"px"}}function fF(r,e,n,i,o,a=0,s=0,l=i,c=o){const u={...r};let d=Math.min(a,i),h=Math.min(s,o),f=Math.min(l,i),m=Math.min(c,o);e&&(e>1?(d=s?s*e:d,h=d/e,f=l*e):(h=a?a/e:h,d=h*e,m=c/e)),u.y<0&&(u.height=Math.max(u.height+u.y,h),u.y=0),u.x<0&&(u.width=Math.max(u.width+u.x,d),u.x=0);const b=i-(u.x+u.width);b<0&&(u.x=Math.min(u.x,i-d),u.width+=b);const g=o-(u.y+u.height);if(g<0&&(u.y=Math.min(u.y,o-h),u.height+=g),u.width<d&&((n==="sw"||n=="nw")&&(u.x-=d-u.width),u.width=d),u.height<h&&((n==="nw"||n=="ne")&&(u.y-=h-u.height),u.height=h),u.width>f&&((n==="sw"||n=="nw")&&(u.x-=f-u.width),u.width=f),u.height>m&&((n==="nw"||n=="ne")&&(u.y-=m-u.height),u.height=m),e){const v=u.width/u.height;if(v<e){const x=Math.max(u.width/e,h);(n==="nw"||n=="ne")&&(u.y-=x-u.height),u.height=x}else if(v>e){const x=Math.max(u.height*e,d);(n==="sw"||n=="nw")&&(u.x-=x-u.width),u.width=x}}return u}function A_e(r,e,n,i){const o={...r};return e==="ArrowLeft"?i==="nw"?(o.x-=n,o.y-=n,o.width+=n,o.height+=n):i==="w"?(o.x-=n,o.width+=n):i==="sw"?(o.x-=n,o.width+=n,o.height+=n):i==="ne"?(o.y+=n,o.width-=n,o.height-=n):i==="e"?o.width-=n:i==="se"&&(o.width-=n,o.height-=n):e==="ArrowRight"&&(i==="nw"?(o.x+=n,o.y+=n,o.width-=n,o.height-=n):i==="w"?(o.x+=n,o.width-=n):i==="sw"?(o.x+=n,o.width-=n,o.height-=n):i==="ne"?(o.y-=n,o.width+=n,o.height+=n):i==="e"?o.width+=n:i==="se"&&(o.width+=n,o.height+=n)),e==="ArrowUp"?i==="nw"?(o.x-=n,o.y-=n,o.width+=n,o.height+=n):i==="n"?(o.y-=n,o.height+=n):i==="ne"?(o.y-=n,o.width+=n,o.height+=n):i==="sw"?(o.x+=n,o.width-=n,o.height-=n):i==="s"?o.height-=n:i==="se"&&(o.width-=n,o.height-=n):e==="ArrowDown"&&(i==="nw"?(o.x+=n,o.y+=n,o.width-=n,o.height-=n):i==="n"?(o.y+=n,o.height-=n):i==="ne"?(o.y+=n,o.width-=n,o.height-=n):i==="sw"?(o.x-=n,o.width+=n,o.height+=n):i==="s"?o.height+=n:i==="se"&&(o.width+=n,o.height+=n)),o}const ym={capture:!0,passive:!1};let D_e=0;const Yu=class ms extends P.PureComponent{constructor(){super(...arguments),yr(this,"docMoveBound",!1),yr(this,"mouseDownOnCrop",!1),yr(this,"dragStarted",!1),yr(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),yr(this,"componentRef",P.createRef()),yr(this,"mediaRef",P.createRef()),yr(this,"resizeObserver"),yr(this,"initChangeCalled",!1),yr(this,"instanceId",`rc-${D_e++}`),yr(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),yr(this,"onCropPointerDown",e=>{const{crop:n,disabled:i}=this.props,o=this.getBox();if(!n)return;const a=Iu(n,o.width,o.height);if(i)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const s=e.target.dataset.ord,l=!!s;let c=e.clientX,u=e.clientY,d=a.x,h=a.y;if(s){const f=e.clientX-o.x,m=e.clientY-o.y;let b=0,g=0;s==="ne"||s=="e"?(b=f-(a.x+a.width),g=m-a.y,d=a.x,h=a.y+a.height):s==="se"||s==="s"?(b=f-(a.x+a.width),g=m-(a.y+a.height),d=a.x,h=a.y):s==="sw"||s=="w"?(b=f-a.x,g=m-(a.y+a.height),d=a.x+a.width,h=a.y):(s==="nw"||s=="n")&&(b=f-a.x,g=m-a.y,d=a.x+a.width,h=a.y+a.height),c=d+o.x+b,u=h+o.y+g}this.evData={startClientX:c,startClientY:u,startCropX:d,startCropY:h,clientX:e.clientX,clientY:e.clientY,isResize:l,ord:s},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),yr(this,"onComponentPointerDown",e=>{const{crop:n,disabled:i,locked:o,keepSelection:a,onChange:s}=this.props,l=this.getBox();if(i||o||a&&n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const c=e.clientX-l.x,u=e.clientY-l.y,d={unit:"px",x:c,y:u,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:c,startCropY:u,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,s(Iu(d,l.width,l.height),gm(d,l.width,l.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),yr(this,"onDocPointerMove",e=>{const{crop:n,disabled:i,onChange:o,onDragStart:a}=this.props,s=this.getBox();if(i||!n||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,a&&a(e));const{evData:l}=this;l.clientX=e.clientX,l.clientY=e.clientY;let c;l.isResize?c=this.resizeCrop():c=this.dragCrop(),hF(n,c)||o(Iu(c,s.width,s.height),gm(c,s.width,s.height))}),yr(this,"onComponentKeyDown",e=>{const{crop:n,disabled:i,onChange:o,onComplete:a}=this.props;if(i)return;const s=e.key;let l=!1;if(!n)return;const c=this.getBox(),u=this.makePixelCrop(c),d=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?ms.nudgeStepLarge:e.shiftKey?ms.nudgeStepMedium:ms.nudgeStep;if(s==="ArrowLeft"?(u.x-=d,l=!0):s==="ArrowRight"?(u.x+=d,l=!0):s==="ArrowUp"?(u.y-=d,l=!0):s==="ArrowDown"&&(u.y+=d,l=!0),l){e.cancelable&&e.preventDefault(),u.x=mm(u.x,0,c.width-u.width),u.y=mm(u.y,0,c.height-u.height);const h=Iu(u,c.width,c.height),f=gm(u,c.width,c.height);o(h,f),a&&a(h,f)}}),yr(this,"onHandlerKeyDown",(e,n)=>{const{aspect:i=0,crop:o,disabled:a,minWidth:s=0,minHeight:l=0,maxWidth:c,maxHeight:u,onChange:d,onComplete:h}=this.props,f=this.getBox();if(a||!o)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;const m=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?ms.nudgeStepLarge:e.shiftKey?ms.nudgeStepMedium:ms.nudgeStep,b=Iu(o,f.width,f.height),g=A_e(b,e.key,m,n),v=fF(g,i,n,f.width,f.height,s,l,c,u);if(!hF(o,v)){const x=gm(v,f.width,f.height);d(v,x),h&&h(v,x)}}),yr(this,"onDocPointerDone",e=>{const{crop:n,disabled:i,onComplete:o,onDragEnd:a}=this.props,s=this.getBox();this.unbindDocMove(),!(i||!n)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,a&&a(e),o&&o(Iu(n,s.width,s.height),gm(n,s.width,s.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),yr(this,"onDragFocus",()=>{var e;(e=this.componentRef.current)==null||e.scrollTo(0,0)})}get document(){return document}getBox(){const e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};const{x:n,y:i,width:o,height:a}=e.getBoundingClientRect();return{x:n,y:i,width:o,height:a}}componentDidUpdate(e){const{crop:n,onComplete:i}=this.props;if(i&&!e.crop&&n){const{width:o,height:a}=this.getBox();o&&a&&i(Iu(n,o,a),gm(n,o,a))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,ym),this.document.addEventListener("pointerup",this.onDocPointerDone,ym),this.document.addEventListener("pointercancel",this.onDocPointerDone,ym),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,ym),this.document.removeEventListener("pointerup",this.onDocPointerDone,ym),this.document.removeEventListener("pointercancel",this.onDocPointerDone,ym),this.docMoveBound=!1)}getCropStyle(){const{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){const{evData:e}=this,n=this.getBox(),i=this.makePixelCrop(n),o=e.clientX-e.startClientX,a=e.clientY-e.startClientY;return i.x=mm(e.startCropX+o,0,n.width-i.width),i.y=mm(e.startCropY+a,0,n.height-i.height),i}getPointRegion(e,n,i,o){const{evData:a}=this,s=a.clientX-e.x,l=a.clientY-e.y;let c;o&&n?c=n==="nw"||n==="n"||n==="ne":c=l<a.startCropY;let u;return i&&n?u=n==="nw"||n==="w"||n==="sw":u=s<a.startCropX,u?c?"nw":"sw":c?"ne":"se"}resolveMinDimensions(e,n,i=0,o=0){const a=Math.min(i,e.width),s=Math.min(o,e.height);return!n||!a&&!s?[a,s]:n>1?a?[a,a/n]:[s*n,s]:s?[s*n,s]:[a,a/n]}resizeCrop(){const{evData:e}=this,{aspect:n=0,maxWidth:i,maxHeight:o}=this.props,a=this.getBox(),[s,l]=this.resolveMinDimensions(a,n,this.props.minWidth,this.props.minHeight);let c=this.makePixelCrop(a);const u=this.getPointRegion(a,e.ord,s,l),d=e.ord||u;let h=e.clientX-e.startClientX,f=e.clientY-e.startClientY;(s&&d==="nw"||d==="w"||d==="sw")&&(h=Math.min(h,-s)),(l&&d==="nw"||d==="n"||d==="ne")&&(f=Math.min(f,-l));const m={unit:"px",x:0,y:0,width:0,height:0};u==="ne"?(m.x=e.startCropX,m.width=h,n?(m.height=m.width/n,m.y=e.startCropY-m.height):(m.height=Math.abs(f),m.y=e.startCropY-m.height)):u==="se"?(m.x=e.startCropX,m.y=e.startCropY,m.width=h,n?m.height=m.width/n:m.height=f):u==="sw"?(m.x=e.startCropX+h,m.y=e.startCropY,m.width=Math.abs(h),n?m.height=m.width/n:m.height=f):u==="nw"&&(m.x=e.startCropX+h,m.width=Math.abs(h),n?(m.height=m.width/n,m.y=e.startCropY-m.height):(m.height=Math.abs(f),m.y=e.startCropY+f));const b=fF(m,n,u,a.width,a.height,s,l,i,o);return n||ms.xyOrds.indexOf(d)>-1?c=b:ms.xOrds.indexOf(d)>-1?(c.x=b.x,c.width=b.width):ms.yOrds.indexOf(d)>-1&&(c.y=b.y,c.height=b.height),c.x=mm(c.x,0,a.width-c.width),c.y=mm(c.y,0,a.height-c.height),c}renderCropSelection(){const{ariaLabels:e=ms.defaultProps.ariaLabels,disabled:n,locked:i,renderSelectionAddon:o,ruleOfThirds:a,crop:s}=this.props,l=this.getCropStyle();if(s)return dt.createElement("div",{style:l,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!i&&dt.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},dt.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),dt.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),dt.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),dt.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),dt.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"nw"),role:"button"}),dt.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"n"),role:"button"}),dt.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"ne"),role:"button"}),dt.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"e"),role:"button"}),dt.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"se"),role:"button"}),dt.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"s"),role:"button"}),dt.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"sw"),role:"button"}),dt.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"w"),role:"button"})),o&&dt.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:c=>c.stopPropagation()},o(this.state)),a&&dt.createElement(dt.Fragment,null,dt.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),dt.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){const n={...n3,...this.props.crop||{}};return Iu(n,e.width,e.height)}render(){const{aspect:e,children:n,circularCrop:i,className:o,crop:a,disabled:s,locked:l,style:c,ruleOfThirds:u}=this.props,{cropIsActive:d,newCropIsBeingDrawn:h}=this.state,f=a?this.renderCropSelection():null,m=__e("ReactCrop",o,d&&"ReactCrop--active",s&&"ReactCrop--disabled",l&&"ReactCrop--locked",h&&"ReactCrop--new-crop",a&&e&&"ReactCrop--fixed-aspect",a&&i&&"ReactCrop--circular-crop",a&&u&&"ReactCrop--rule-of-thirds",!this.dragStarted&&a&&!a.width&&!a.height&&"ReactCrop--invisible-crop",i&&"ReactCrop--no-animate");return dt.createElement("div",{ref:this.componentRef,className:m,style:c},dt.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},n),a?dt.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},dt.createElement("defs",null,dt.createElement("mask",{id:`hole-${this.instanceId}`},dt.createElement("rect",{width:"100%",height:"100%",fill:"white"}),i?dt.createElement("ellipse",{cx:`${a.x+a.width/2}${a.unit}`,cy:`${a.y+a.height/2}${a.unit}`,rx:`${a.width/2}${a.unit}`,ry:`${a.height/2}${a.unit}`,fill:"black"}):dt.createElement("rect",{x:`${a.x}${a.unit}`,y:`${a.y}${a.unit}`,width:`${a.width}${a.unit}`,height:`${a.height}${a.unit}`,fill:"black"}))),dt.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,f)}};yr(Yu,"xOrds",["e","w"]),yr(Yu,"yOrds",["n","s"]),yr(Yu,"xyOrds",["nw","ne","se","sw"]),yr(Yu,"nudgeStep",1),yr(Yu,"nudgeStepMedium",10),yr(Yu,"nudgeStepLarge",100),yr(Yu,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let M_e=Yu;var R_e=P.createContext(void 0);function dS(r){const e=P.useContext(R_e);return r||e||"ltr"}var J8="rovingFocusGroup.onEntryFocus",N_e={bubbles:!1,cancelable:!0},gv="RovingFocusGroup",[vD,Moe,O_e]=G5(gv),[P_e,hS]=xa(gv,[O_e]),[I_e,$_e]=P_e(gv),Roe=P.forwardRef((r,e)=>E.jsx(vD.Provider,{scope:r.__scopeRovingFocusGroup,children:E.jsx(vD.Slot,{scope:r.__scopeRovingFocusGroup,children:E.jsx(z_e,{...r,ref:e})})}));Roe.displayName=gv;var z_e=P.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:o=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=r,f=P.useRef(null),m=vn(e,f),b=dS(a),[g,v]=ma({prop:s,defaultProp:l??null,onChange:c,caller:gv}),[x,w]=P.useState(!1),k=fo(u),T=Moe(n),_=P.useRef(!1),[D,I]=P.useState(0);return P.useEffect(()=>{const L=f.current;if(L)return L.addEventListener(J8,k),()=>L.removeEventListener(J8,k)},[k]),E.jsx(I_e,{scope:n,orientation:i,dir:b,loop:o,currentTabStopId:g,onItemFocus:P.useCallback(L=>v(L),[v]),onItemShiftTab:P.useCallback(()=>w(!0),[]),onFocusableItemAdd:P.useCallback(()=>I(L=>L+1),[]),onFocusableItemRemove:P.useCallback(()=>I(L=>L-1),[]),children:E.jsx(Bt.div,{tabIndex:x||D===0?-1:0,"data-orientation":i,...h,ref:m,style:{outline:"none",...r.style},onMouseDown:gt(r.onMouseDown,()=>{_.current=!0}),onFocus:gt(r.onFocus,L=>{const O=!_.current;if(L.target===L.currentTarget&&O&&!x){const W=new CustomEvent(J8,N_e);if(L.currentTarget.dispatchEvent(W),!W.defaultPrevented){const Z=T().filter(H=>H.focusable),$=Z.find(H=>H.active),F=Z.find(H=>H.id===g),Q=[$,F,...Z].filter(Boolean).map(H=>H.ref.current);Poe(Q,d)}}_.current=!1}),onBlur:gt(r.onBlur,()=>w(!1))})})}),Noe="RovingFocusGroupItem",Ooe=P.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:o=!1,tabStopId:a,children:s,...l}=r,c=No(),u=a||c,d=$_e(Noe,n),h=d.currentTabStopId===u,f=Moe(n),{onFocusableItemAdd:m,onFocusableItemRemove:b,currentTabStopId:g}=d;return P.useEffect(()=>{if(i)return m(),()=>b()},[i,m,b]),E.jsx(vD.ItemSlot,{scope:n,id:u,focusable:i,active:o,children:E.jsx(Bt.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:gt(r.onMouseDown,v=>{i?d.onItemFocus(u):v.preventDefault()}),onFocus:gt(r.onFocus,()=>d.onItemFocus(u)),onKeyDown:gt(r.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=B_e(v,d.orientation,d.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let k=f().filter(T=>T.focusable).map(T=>T.ref.current);if(x==="last")k.reverse();else if(x==="prev"||x==="next"){x==="prev"&&k.reverse();const T=k.indexOf(v.currentTarget);k=d.loop?j_e(k,T+1):k.slice(T+1)}setTimeout(()=>Poe(k))}}),children:typeof s=="function"?s({isCurrentTabStop:h,hasTabStop:g!=null}):s})})});Ooe.displayName=Noe;var L_e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function U_e(r,e){return e!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function B_e(r,e,n){const i=U_e(r.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return L_e[i]}function Poe(r,e=!1){const n=document.activeElement;for(const i of r)if(i===n||(i.focus({preventScroll:e}),document.activeElement!==n))return}function j_e(r,e){return r.map((n,i)=>r[(e+i)%r.length])}var Ioe=Roe,$oe=Ooe,fS="Tabs",[F_e,Xmt]=xa(fS,[hS]),zoe=hS(),[H_e,CN]=F_e(fS),Loe=P.forwardRef((r,e)=>{const{__scopeTabs:n,value:i,onValueChange:o,defaultValue:a,orientation:s="horizontal",dir:l,activationMode:c="automatic",...u}=r,d=dS(l),[h,f]=ma({prop:i,onChange:o,defaultProp:a??"",caller:fS});return E.jsx(H_e,{scope:n,baseId:No(),value:h,onValueChange:f,orientation:s,dir:d,activationMode:c,children:E.jsx(Bt.div,{dir:d,"data-orientation":s,...u,ref:e})})});Loe.displayName=fS;var Uoe="TabsList",Boe=P.forwardRef((r,e)=>{const{__scopeTabs:n,loop:i=!0,...o}=r,a=CN(Uoe,n),s=zoe(n);return E.jsx(Ioe,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:i,children:E.jsx(Bt.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:e})})});Boe.displayName=Uoe;var joe="TabsTrigger",Foe=P.forwardRef((r,e)=>{const{__scopeTabs:n,value:i,disabled:o=!1,...a}=r,s=CN(joe,n),l=zoe(n),c=Voe(s.baseId,i),u=qoe(s.baseId,i),d=i===s.value;return E.jsx($oe,{asChild:!0,...l,focusable:!o,active:d,children:E.jsx(Bt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:c,...a,ref:e,onMouseDown:gt(r.onMouseDown,h=>{!o&&h.button===0&&h.ctrlKey===!1?s.onValueChange(i):h.preventDefault()}),onKeyDown:gt(r.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&s.onValueChange(i)}),onFocus:gt(r.onFocus,()=>{const h=s.activationMode!=="manual";!d&&!o&&h&&s.onValueChange(i)})})})});Foe.displayName=joe;var Hoe="TabsContent",Woe=P.forwardRef((r,e)=>{const{__scopeTabs:n,value:i,forceMount:o,children:a,...s}=r,l=CN(Hoe,n),c=Voe(l.baseId,i),u=qoe(l.baseId,i),d=i===l.value,h=P.useRef(d);return P.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),E.jsx($o,{present:o||d,children:({present:f})=>E.jsx(Bt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...s,ref:e,style:{...r.style,animationDuration:h.current?"0s":void 0},children:f&&a})})});Woe.displayName=Hoe;function Voe(r,e){return`${r}-trigger-${e}`}function qoe(r,e){return`${r}-content-${e}`}var W_e=Loe,Goe=Boe,Koe=Foe,Xoe=Woe;function _N(r){const e=P.useRef({value:r,previous:r});return P.useMemo(()=>(e.current.value!==r&&(e.current.previous=e.current.value,e.current.value=r),e.current.previous),[r])}var pS="Checkbox",[V_e,Ymt]=xa(pS),[q_e,AN]=V_e(pS);function G_e(r){const{__scopeCheckbox:e,checked:n,children:i,defaultChecked:o,disabled:a,form:s,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=r,[f,m]=ma({prop:n,defaultProp:o??!1,onChange:c,caller:pS}),[b,g]=P.useState(null),[v,x]=P.useState(null),w=P.useRef(!1),k=b?!!s||!!b.closest("form"):!0,T={checked:f,disabled:a,setChecked:m,control:b,setControl:g,name:l,form:s,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:Sd(o)?!1:o,isFormControl:k,bubbleInput:v,setBubbleInput:x};return E.jsx(q_e,{scope:e,...T,children:K_e(h)?h(T):i})}var Yoe="CheckboxTrigger",Zoe=P.forwardRef(({__scopeCheckbox:r,onKeyDown:e,onClick:n,...i},o)=>{const{control:a,value:s,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:b}=AN(Yoe,r),g=vn(o,d),v=P.useRef(c);return P.useEffect(()=>{const x=a==null?void 0:a.form;if(x){const w=()=>h(v.current);return x.addEventListener("reset",w),()=>x.removeEventListener("reset",w)}},[a,h]),E.jsx(Bt.button,{type:"button",role:"checkbox","aria-checked":Sd(c)?"mixed":c,"aria-required":u,"data-state":nae(c),"data-disabled":l?"":void 0,disabled:l,value:s,...i,ref:g,onKeyDown:gt(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:gt(n,x=>{h(w=>Sd(w)?!0:!w),b&&m&&(f.current=x.isPropagationStopped(),f.current||x.stopPropagation())})})});Zoe.displayName=Yoe;var DN=P.forwardRef((r,e)=>{const{__scopeCheckbox:n,name:i,checked:o,defaultChecked:a,required:s,disabled:l,value:c,onCheckedChange:u,form:d,...h}=r;return E.jsx(G_e,{__scopeCheckbox:n,checked:o,defaultChecked:a,disabled:l,required:s,onCheckedChange:u,name:i,form:d,value:c,internal_do_not_use_render:({isFormControl:f})=>E.jsxs(E.Fragment,{children:[E.jsx(Zoe,{...h,ref:e,__scopeCheckbox:n}),f&&E.jsx(tae,{__scopeCheckbox:n})]})})});DN.displayName=pS;var Joe="CheckboxIndicator",Qoe=P.forwardRef((r,e)=>{const{__scopeCheckbox:n,forceMount:i,...o}=r,a=AN(Joe,n);return E.jsx($o,{present:i||Sd(a.checked)||a.checked===!0,children:E.jsx(Bt.span,{"data-state":nae(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:e,style:{pointerEvents:"none",...r.style}})})});Qoe.displayName=Joe;var eae="CheckboxBubbleInput",tae=P.forwardRef(({__scopeCheckbox:r,...e},n)=>{const{control:i,hasConsumerStoppedPropagationRef:o,checked:a,defaultChecked:s,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:f,setBubbleInput:m}=AN(eae,r),b=vn(n,m),g=_N(a),v=bN(i);P.useEffect(()=>{const w=f;if(!w)return;const k=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(k,"checked").set,D=!o.current;if(g!==a&&_){const I=new Event("click",{bubbles:D});w.indeterminate=Sd(a),_.call(w,Sd(a)?!1:a),w.dispatchEvent(I)}},[f,g,a,o]);const x=P.useRef(Sd(a)?!1:a);return E.jsx(Bt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??x.current,required:l,disabled:c,name:u,value:d,form:h,...e,tabIndex:-1,ref:b,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});tae.displayName=eae;function K_e(r){return typeof r=="function"}function Sd(r){return r==="indeterminate"}function nae(r){return Sd(r)?"indeterminate":r?"checked":"unchecked"}function mS(){return(mS=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r}).apply(this,arguments)}function rae(r,e){if(r==null)return{};var n,i,o={},a=Object.keys(r);for(i=0;i<a.length;i++)e.indexOf(n=a[i])>=0||(o[n]=r[n]);return o}function xD(r){var e=P.useRef(r),n=P.useRef(function(i){e.current&&e.current(i)});return e.current=r,n.current}var hb=function(r,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),r>n?n:r<e?e:r},Iy=function(r){return"touches"in r},wD=function(r){return r&&r.ownerDocument.defaultView||self},pF=function(r,e,n){var i=r.getBoundingClientRect(),o=Iy(e)?function(a,s){for(var l=0;l<a.length;l++)if(a[l].identifier===s)return a[l];return a[0]}(e.touches,n):e;return{left:hb((o.pageX-(i.left+wD(r).pageXOffset))/i.width),top:hb((o.pageY-(i.top+wD(r).pageYOffset))/i.height)}},mF=function(r){!Iy(r)&&r.preventDefault()},iae=dt.memo(function(r){var e=r.onMove,n=r.onKey,i=rae(r,["onMove","onKey"]),o=P.useRef(null),a=xD(e),s=xD(n),l=P.useRef(null),c=P.useRef(!1),u=P.useMemo(function(){var m=function(v){mF(v),(Iy(v)?v.touches.length>0:v.buttons>0)&&o.current?a(pF(o.current,v,l.current)):g(!1)},b=function(){return g(!1)};function g(v){var x=c.current,w=wD(o.current),k=v?w.addEventListener:w.removeEventListener;k(x?"touchmove":"mousemove",m),k(x?"touchend":"mouseup",b)}return[function(v){var x=v.nativeEvent,w=o.current;if(w&&(mF(x),!function(T,_){return _&&!Iy(T)}(x,c.current)&&w)){if(Iy(x)){c.current=!0;var k=x.changedTouches||[];k.length&&(l.current=k[0].identifier)}w.focus(),a(pF(w,x,l.current)),g(!0)}},function(v){var x=v.which||v.keyCode;x<37||x>40||(v.preventDefault(),s({left:x===39?.05:x===37?-.05:0,top:x===40?.05:x===38?-.05:0}))},g]},[s,a]),d=u[0],h=u[1],f=u[2];return P.useEffect(function(){return f},[f]),dt.createElement("div",mS({},i,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:o,onKeyDown:h,tabIndex:0,role:"slider"}))}),MN=function(r){return r.filter(Boolean).join(" ")},oae=function(r){var e=r.color,n=r.left,i=r.top,o=i===void 0?.5:i,a=MN(["react-colorful__pointer",r.className]);return dt.createElement("div",{className:a,style:{top:100*o+"%",left:100*n+"%"}},dt.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},Ci=function(r,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*r)/n},X_e=function(r){return eAe(SD(r))},SD=function(r){return r[0]==="#"&&(r=r.substring(1)),r.length<6?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:r.length===4?Ci(parseInt(r[3]+r[3],16)/255,2):1}:{r:parseInt(r.substring(0,2),16),g:parseInt(r.substring(2,4),16),b:parseInt(r.substring(4,6),16),a:r.length===8?Ci(parseInt(r.substring(6,8),16)/255,2):1}},Y_e=function(r){return Q_e(J_e(r))},Z_e=function(r){var e=r.s,n=r.v,i=r.a,o=(200-e)*n/100;return{h:Ci(r.h),s:Ci(o>0&&o<200?e*n/100/(o<=100?o:200-o)*100:0),l:Ci(o/2),a:Ci(i,2)}},kD=function(r){var e=Z_e(r);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},J_e=function(r){var e=r.h,n=r.s,i=r.v,o=r.a;e=e/360*6,n/=100,i/=100;var a=Math.floor(e),s=i*(1-n),l=i*(1-(e-a)*n),c=i*(1-(1-e+a)*n),u=a%6;return{r:Ci(255*[i,l,s,s,c,i][u]),g:Ci(255*[c,i,i,l,s,s][u]),b:Ci(255*[s,s,c,i,i,l][u]),a:Ci(o,2)}},Ew=function(r){var e=r.toString(16);return e.length<2?"0"+e:e},Q_e=function(r){var e=r.r,n=r.g,i=r.b,o=r.a,a=o<1?Ew(Ci(255*o)):"";return"#"+Ew(e)+Ew(n)+Ew(i)+a},eAe=function(r){var e=r.r,n=r.g,i=r.b,o=r.a,a=Math.max(e,n,i),s=a-Math.min(e,n,i),l=s?a===e?(n-i)/s:a===n?2+(i-e)/s:4+(e-n)/s:0;return{h:Ci(60*(l<0?l+6:l)),s:Ci(a?s/a*100:0),v:Ci(a/255*100),a:o}},tAe=dt.memo(function(r){var e=r.hue,n=r.onChange,i=MN(["react-colorful__hue",r.className]);return dt.createElement("div",{className:i},dt.createElement(iae,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:hb(e+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":Ci(e),"aria-valuemax":"360","aria-valuemin":"0"},dt.createElement(oae,{className:"react-colorful__hue-pointer",left:e/360,color:kD({h:e,s:100,v:100,a:1})})))}),nAe=dt.memo(function(r){var e=r.hsva,n=r.onChange,i={backgroundColor:kD({h:e.h,s:100,v:100,a:1})};return dt.createElement("div",{className:"react-colorful__saturation",style:i},dt.createElement(iae,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:hb(e.s+100*o.left,0,100),v:hb(e.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Ci(e.s)+"%, Brightness "+Ci(e.v)+"%"},dt.createElement(oae,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:kD(e)})))}),aae=function(r,e){if(r===e)return!0;for(var n in r)if(r[n]!==e[n])return!1;return!0},rAe=function(r,e){return r.toLowerCase()===e.toLowerCase()||aae(SD(r),SD(e))};function iAe(r,e,n){var i=xD(n),o=P.useState(function(){return r.toHsva(e)}),a=o[0],s=o[1],l=P.useRef({color:e,hsva:a});P.useEffect(function(){if(!r.equal(e,l.current.color)){var u=r.toHsva(e);l.current={hsva:u,color:e},s(u)}},[e,r]),P.useEffect(function(){var u;aae(a,l.current.hsva)||r.equal(u=r.fromHsva(a),l.current.color)||(l.current={hsva:a,color:u},i(u))},[a,r,i]);var c=P.useCallback(function(u){s(function(d){return Object.assign({},d,u)})},[]);return[a,c]}var oAe=typeof window<"u"?P.useLayoutEffect:P.useEffect,aAe=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},gF=new Map,sAe=function(r){oAe(function(){var e=r.current?r.current.ownerDocument:document;if(e!==void 0&&!gF.has(e)){var n=e.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,gF.set(e,n);var i=aAe();i&&n.setAttribute("nonce",i),e.head.appendChild(n)}},[])},lAe=function(r){var e=r.className,n=r.colorModel,i=r.color,o=i===void 0?n.defaultColor:i,a=r.onChange,s=rae(r,["className","colorModel","color","onChange"]),l=P.useRef(null);sAe(l);var c=iAe(n,o,a),u=c[0],d=c[1],h=MN(["react-colorful",e]);return dt.createElement("div",mS({},s,{ref:l,className:h}),dt.createElement(nAe,{hsva:u,onChange:d}),dt.createElement(tAe,{hue:u.h,onChange:d,className:"react-colorful__last-control"}))},cAe={defaultColor:"000",toHsva:X_e,fromHsva:function(r){return Y_e({h:r.h,s:r.s,v:r.v,a:1})},equal:rAe},uAe=function(r){return dt.createElement(lAe,mS({},r,{colorModel:cAe}))},gS="Switch",[dAe,Zmt]=xa(gS),[hAe,fAe]=dAe(gS),sae=P.forwardRef((r,e)=>{const{__scopeSwitch:n,name:i,checked:o,defaultChecked:a,required:s,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=r,[f,m]=P.useState(null),b=vn(e,k=>m(k)),g=P.useRef(!1),v=f?d||!!f.closest("form"):!0,[x,w]=ma({prop:o,defaultProp:a??!1,onChange:u,caller:gS});return E.jsxs(hAe,{scope:n,checked:x,disabled:l,children:[E.jsx(Bt.button,{type:"button",role:"switch","aria-checked":x,"aria-required":s,"data-state":dae(x),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:b,onClick:gt(r.onClick,k=>{w(T=>!T),v&&(g.current=k.isPropagationStopped(),g.current||k.stopPropagation())})}),v&&E.jsx(uae,{control:f,bubbles:!g.current,name:i,value:c,checked:x,required:s,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});sae.displayName=gS;var lae="SwitchThumb",cae=P.forwardRef((r,e)=>{const{__scopeSwitch:n,...i}=r,o=fAe(lae,n);return E.jsx(Bt.span,{"data-state":dae(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:e})});cae.displayName=lae;var pAe="SwitchBubbleInput",uae=P.forwardRef(({__scopeSwitch:r,control:e,checked:n,bubbles:i=!0,...o},a)=>{const s=P.useRef(null),l=vn(s,a),c=_N(n),u=bN(e);return P.useEffect(()=>{const d=s.current;if(!d)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&m){const b=new Event("click",{bubbles:i});m.call(d,n),d.dispatchEvent(b)}},[c,n,i]),E.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:l,style:{...o.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});uae.displayName=pAe;function dae(r){return r?"checked":"unchecked"}var hae=sae,mAe=cae,TD=["Enter"," "],gAe=["ArrowDown","PageUp","Home"],fae=["ArrowUp","PageDown","End"],yAe=[...gAe,...fae],bAe={ltr:[...TD,"ArrowRight"],rtl:[...TD,"ArrowLeft"]},vAe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},yv="Menu",[fb,xAe,wAe]=G5(yv),[ap,pae]=xa(yv,[wAe,Yd,hS]),bv=Yd(),mae=hS(),[gae,Jd]=ap(yv),[SAe,vv]=ap(yv),yae=r=>{const{__scopeMenu:e,open:n=!1,children:i,dir:o,onOpenChange:a,modal:s=!0}=r,l=bv(e),[c,u]=P.useState(null),d=P.useRef(!1),h=fo(a),f=dS(o);return P.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),E.jsx(dv,{...l,children:E.jsx(gae,{scope:e,open:n,onOpenChange:h,content:c,onContentChange:u,children:E.jsx(SAe,{scope:e,onClose:P.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:s,children:i})})})};yae.displayName=yv;var kAe="MenuAnchor",RN=P.forwardRef((r,e)=>{const{__scopeMenu:n,...i}=r,o=bv(n);return E.jsx(hv,{...o,...i,ref:e})});RN.displayName=kAe;var NN="MenuPortal",[TAe,bae]=ap(NN,{forceMount:void 0}),vae=r=>{const{__scopeMenu:e,forceMount:n,children:i,container:o}=r,a=Jd(NN,e);return E.jsx(TAe,{scope:e,forceMount:n,children:E.jsx($o,{present:n||a.open,children:E.jsx(Q0,{asChild:!0,container:o,children:i})})})};vae.displayName=NN;var Xa="MenuContent",[EAe,ON]=ap(Xa),xae=P.forwardRef((r,e)=>{const n=bae(Xa,r.__scopeMenu),{forceMount:i=n.forceMount,...o}=r,a=Jd(Xa,r.__scopeMenu),s=vv(Xa,r.__scopeMenu);return E.jsx(fb.Provider,{scope:r.__scopeMenu,children:E.jsx($o,{present:i||a.open,children:E.jsx(fb.Slot,{scope:r.__scopeMenu,children:s.modal?E.jsx(CAe,{...o,ref:e}):E.jsx(_Ae,{...o,ref:e})})})})}),CAe=P.forwardRef((r,e)=>{const n=Jd(Xa,r.__scopeMenu),i=P.useRef(null),o=vn(e,i);return P.useEffect(()=>{const a=i.current;if(a)return sS(a)},[]),E.jsx(PN,{...r,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:gt(r.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),_Ae=P.forwardRef((r,e)=>{const n=Jd(Xa,r.__scopeMenu);return E.jsx(PN,{...r,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),AAe=_d("MenuContent.ScrollLock"),PN=P.forwardRef((r,e)=>{const{__scopeMenu:n,loop:i=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:b,...g}=r,v=Jd(Xa,n),x=vv(Xa,n),w=bv(n),k=mae(n),T=xAe(n),[_,D]=P.useState(null),I=P.useRef(null),L=vn(e,I,v.onContentChange),O=P.useRef(0),W=P.useRef(""),Z=P.useRef(0),$=P.useRef(null),F=P.useRef("right"),A=P.useRef(0),Q=b?pv:P.Fragment,H=b?{as:AAe,allowPinchZoom:!0}:void 0,G=J=>{var K,q;const ee=W.current+J,X=T().filter(be=>!be.disabled),j=document.activeElement,ae=(K=X.find(be=>be.ref.current===j))==null?void 0:K.textValue,re=X.map(be=>be.textValue),de=BAe(re,ee,ae),me=(q=X.find(be=>be.textValue===de))==null?void 0:q.ref.current;(function be(pe){W.current=pe,window.clearTimeout(O.current),pe!==""&&(O.current=window.setTimeout(()=>be(""),1e3))})(ee),me&&setTimeout(()=>me.focus())};P.useEffect(()=>()=>window.clearTimeout(O.current),[]),aS();const ne=P.useCallback(J=>{var X,j;return F.current===((X=$.current)==null?void 0:X.side)&&FAe(J,(j=$.current)==null?void 0:j.area)},[]);return E.jsx(EAe,{scope:n,searchRef:W,onItemEnter:P.useCallback(J=>{ne(J)&&J.preventDefault()},[ne]),onItemLeave:P.useCallback(J=>{var ee;ne(J)||((ee=I.current)==null||ee.focus(),D(null))},[ne]),onTriggerLeave:P.useCallback(J=>{ne(J)&&J.preventDefault()},[ne]),pointerGraceTimerRef:Z,onPointerGraceIntentChange:P.useCallback(J=>{$.current=J},[]),children:E.jsx(Q,{...H,children:E.jsx(fv,{asChild:!0,trapped:o,onMountAutoFocus:gt(a,J=>{var ee;J.preventDefault(),(ee=I.current)==null||ee.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:E.jsx(op,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:E.jsx(Ioe,{asChild:!0,...k,dir:x.dir,orientation:"vertical",loop:i,currentTabStopId:_,onCurrentTabStopIdChange:D,onEntryFocus:gt(c,J=>{x.isUsingKeyboardRef.current||J.preventDefault()}),preventScrollOnEntryFocus:!0,children:E.jsx(eS,{role:"menu","aria-orientation":"vertical","data-state":zae(v.open),"data-radix-menu-content":"",dir:x.dir,...w,...g,ref:L,style:{outline:"none",...g.style},onKeyDown:gt(g.onKeyDown,J=>{const X=J.target.closest("[data-radix-menu-content]")===J.currentTarget,j=J.ctrlKey||J.altKey||J.metaKey,ae=J.key.length===1;X&&(J.key==="Tab"&&J.preventDefault(),!j&&ae&&G(J.key));const re=I.current;if(J.target!==re||!yAe.includes(J.key))return;J.preventDefault();const me=T().filter(K=>!K.disabled).map(K=>K.ref.current);fae.includes(J.key)&&me.reverse(),LAe(me)}),onBlur:gt(r.onBlur,J=>{J.currentTarget.contains(J.target)||(window.clearTimeout(O.current),W.current="")}),onPointerMove:gt(r.onPointerMove,pb(J=>{const ee=J.target,X=A.current!==J.clientX;if(J.currentTarget.contains(ee)&&X){const j=J.clientX>A.current?"right":"left";F.current=j,A.current=J.clientX}}))})})})})})})});xae.displayName=Xa;var DAe="MenuGroup",IN=P.forwardRef((r,e)=>{const{__scopeMenu:n,...i}=r;return E.jsx(Bt.div,{role:"group",...i,ref:e})});IN.displayName=DAe;var MAe="MenuLabel",wae=P.forwardRef((r,e)=>{const{__scopeMenu:n,...i}=r;return E.jsx(Bt.div,{...i,ref:e})});wae.displayName=MAe;var r3="MenuItem",yF="menu.itemSelect",yS=P.forwardRef((r,e)=>{const{disabled:n=!1,onSelect:i,...o}=r,a=P.useRef(null),s=vv(r3,r.__scopeMenu),l=ON(r3,r.__scopeMenu),c=vn(e,a),u=P.useRef(!1),d=()=>{const h=a.current;if(!n&&h){const f=new CustomEvent(yF,{bubbles:!0,cancelable:!0});h.addEventListener(yF,m=>i==null?void 0:i(m),{once:!0}),aN(h,f),f.defaultPrevented?u.current=!1:s.onClose()}};return E.jsx(Sae,{...o,ref:c,disabled:n,onClick:gt(r.onClick,d),onPointerDown:h=>{var f;(f=r.onPointerDown)==null||f.call(r,h),u.current=!0},onPointerUp:gt(r.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:gt(r.onKeyDown,h=>{const f=l.searchRef.current!=="";n||f&&h.key===" "||TD.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});yS.displayName=r3;var Sae=P.forwardRef((r,e)=>{const{__scopeMenu:n,disabled:i=!1,textValue:o,...a}=r,s=ON(r3,n),l=mae(n),c=P.useRef(null),u=vn(e,c),[d,h]=P.useState(!1),[f,m]=P.useState("");return P.useEffect(()=>{const b=c.current;b&&m((b.textContent??"").trim())},[a.children]),E.jsx(fb.ItemSlot,{scope:n,disabled:i,textValue:o??f,children:E.jsx($oe,{asChild:!0,...l,focusable:!i,children:E.jsx(Bt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...a,ref:u,onPointerMove:gt(r.onPointerMove,pb(b=>{i?s.onItemLeave(b):(s.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:gt(r.onPointerLeave,pb(b=>s.onItemLeave(b))),onFocus:gt(r.onFocus,()=>h(!0)),onBlur:gt(r.onBlur,()=>h(!1))})})})}),RAe="MenuCheckboxItem",kae=P.forwardRef((r,e)=>{const{checked:n=!1,onCheckedChange:i,...o}=r;return E.jsx(Aae,{scope:r.__scopeMenu,checked:n,children:E.jsx(yS,{role:"menuitemcheckbox","aria-checked":i3(n)?"mixed":n,...o,ref:e,"data-state":LN(n),onSelect:gt(o.onSelect,()=>i==null?void 0:i(i3(n)?!0:!n),{checkForDefaultPrevented:!1})})})});kae.displayName=RAe;var Tae="MenuRadioGroup",[NAe,OAe]=ap(Tae,{value:void 0,onValueChange:()=>{}}),Eae=P.forwardRef((r,e)=>{const{value:n,onValueChange:i,...o}=r,a=fo(i);return E.jsx(NAe,{scope:r.__scopeMenu,value:n,onValueChange:a,children:E.jsx(IN,{...o,ref:e})})});Eae.displayName=Tae;var Cae="MenuRadioItem",_ae=P.forwardRef((r,e)=>{const{value:n,...i}=r,o=OAe(Cae,r.__scopeMenu),a=n===o.value;return E.jsx(Aae,{scope:r.__scopeMenu,checked:a,children:E.jsx(yS,{role:"menuitemradio","aria-checked":a,...i,ref:e,"data-state":LN(a),onSelect:gt(i.onSelect,()=>{var s;return(s=o.onValueChange)==null?void 0:s.call(o,n)},{checkForDefaultPrevented:!1})})})});_ae.displayName=Cae;var $N="MenuItemIndicator",[Aae,PAe]=ap($N,{checked:!1}),Dae=P.forwardRef((r,e)=>{const{__scopeMenu:n,forceMount:i,...o}=r,a=PAe($N,n);return E.jsx($o,{present:i||i3(a.checked)||a.checked===!0,children:E.jsx(Bt.span,{...o,ref:e,"data-state":LN(a.checked)})})});Dae.displayName=$N;var IAe="MenuSeparator",Mae=P.forwardRef((r,e)=>{const{__scopeMenu:n,...i}=r;return E.jsx(Bt.div,{role:"separator","aria-orientation":"horizontal",...i,ref:e})});Mae.displayName=IAe;var $Ae="MenuArrow",Rae=P.forwardRef((r,e)=>{const{__scopeMenu:n,...i}=r,o=bv(n);return E.jsx(tS,{...o,...i,ref:e})});Rae.displayName=$Ae;var zN="MenuSub",[zAe,Nae]=ap(zN),Oae=r=>{const{__scopeMenu:e,children:n,open:i=!1,onOpenChange:o}=r,a=Jd(zN,e),s=bv(e),[l,c]=P.useState(null),[u,d]=P.useState(null),h=fo(o);return P.useEffect(()=>(a.open===!1&&h(!1),()=>h(!1)),[a.open,h]),E.jsx(dv,{...s,children:E.jsx(gae,{scope:e,open:i,onOpenChange:h,content:u,onContentChange:d,children:E.jsx(zAe,{scope:e,contentId:No(),triggerId:No(),trigger:l,onTriggerChange:c,children:n})})})};Oae.displayName=zN;var py="MenuSubTrigger",Pae=P.forwardRef((r,e)=>{const n=Jd(py,r.__scopeMenu),i=vv(py,r.__scopeMenu),o=Nae(py,r.__scopeMenu),a=ON(py,r.__scopeMenu),s=P.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:r.__scopeMenu},d=P.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return P.useEffect(()=>d,[d]),P.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),E.jsx(RN,{asChild:!0,...u,children:E.jsx(Sae,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":zae(n.open),...r,ref:V5(e,o.onTriggerChange),onClick:h=>{var f;(f=r.onClick)==null||f.call(r,h),!(r.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:gt(r.onPointerMove,pb(h=>{a.onItemEnter(h),!h.defaultPrevented&&!r.disabled&&!n.open&&!s.current&&(a.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:gt(r.onPointerLeave,pb(h=>{var m,b;d();const f=(m=n.content)==null?void 0:m.getBoundingClientRect();if(f){const g=(b=n.content)==null?void 0:b.dataset.side,v=g==="right",x=v?-5:5,w=f[v?"left":"right"],k=f[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:w,y:f.top},{x:k,y:f.top},{x:k,y:f.bottom},{x:w,y:f.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:gt(r.onKeyDown,h=>{var m;const f=a.searchRef.current!=="";r.disabled||f&&h.key===" "||bAe[i.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});Pae.displayName=py;var Iae="MenuSubContent",$ae=P.forwardRef((r,e)=>{const n=bae(Xa,r.__scopeMenu),{forceMount:i=n.forceMount,...o}=r,a=Jd(Xa,r.__scopeMenu),s=vv(Xa,r.__scopeMenu),l=Nae(Iae,r.__scopeMenu),c=P.useRef(null),u=vn(e,c);return E.jsx(fb.Provider,{scope:r.__scopeMenu,children:E.jsx($o,{present:i||a.open,children:E.jsx(fb.Slot,{scope:r.__scopeMenu,children:E.jsx(PN,{id:l.contentId,"aria-labelledby":l.triggerId,...o,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;s.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:gt(r.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:gt(r.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:gt(r.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),f=vAe[s.dir].includes(d.key);h&&f&&(a.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});$ae.displayName=Iae;function zae(r){return r?"open":"closed"}function i3(r){return r==="indeterminate"}function LN(r){return i3(r)?"indeterminate":r?"checked":"unchecked"}function LAe(r){const e=document.activeElement;for(const n of r)if(n===e||(n.focus(),document.activeElement!==e))return}function UAe(r,e){return r.map((n,i)=>r[(e+i)%r.length])}function BAe(r,e,n){const o=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=n?r.indexOf(n):-1;let s=UAe(r,Math.max(a,0));o.length===1&&(s=s.filter(u=>u!==n));const c=s.find(u=>u.toLowerCase().startsWith(o.toLowerCase()));return c!==n?c:void 0}function jAe(r,e){const{x:n,y:i}=r;let o=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const l=e[a],c=e[s],u=l.x,d=l.y,h=c.x,f=c.y;d>i!=f>i&&n<(h-u)*(i-d)/(f-d)+u&&(o=!o)}return o}function FAe(r,e){if(!e)return!1;const n={x:r.clientX,y:r.clientY};return jAe(n,e)}function pb(r){return e=>e.pointerType==="mouse"?r(e):void 0}var HAe=yae,WAe=RN,VAe=vae,qAe=xae,GAe=IN,KAe=wae,XAe=yS,YAe=kae,ZAe=Eae,JAe=_ae,QAe=Dae,eDe=Mae,tDe=Rae,nDe=Oae,rDe=Pae,iDe=$ae,bS="DropdownMenu",[oDe,Jmt]=xa(bS,[pae]),Gi=pae(),[aDe,Lae]=oDe(bS),Uae=r=>{const{__scopeDropdownMenu:e,children:n,dir:i,open:o,defaultOpen:a,onOpenChange:s,modal:l=!0}=r,c=Gi(e),u=P.useRef(null),[d,h]=ma({prop:o,defaultProp:a??!1,onChange:s,caller:bS});return E.jsx(aDe,{scope:e,triggerId:No(),triggerRef:u,contentId:No(),open:d,onOpenChange:h,onOpenToggle:P.useCallback(()=>h(f=>!f),[h]),modal:l,children:E.jsx(HAe,{...c,open:d,onOpenChange:h,dir:i,modal:l,children:n})})};Uae.displayName=bS;var Bae="DropdownMenuTrigger",jae=P.forwardRef((r,e)=>{const{__scopeDropdownMenu:n,disabled:i=!1,...o}=r,a=Lae(Bae,n),s=Gi(n);return E.jsx(WAe,{asChild:!0,...s,children:E.jsx(Bt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...o,ref:V5(e,a.triggerRef),onPointerDown:gt(r.onPointerDown,l=>{!i&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:gt(r.onKeyDown,l=>{i||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});jae.displayName=Bae;var sDe="DropdownMenuPortal",Fae=r=>{const{__scopeDropdownMenu:e,...n}=r,i=Gi(e);return E.jsx(VAe,{...i,...n})};Fae.displayName=sDe;var Hae="DropdownMenuContent",Wae=P.forwardRef((r,e)=>{const{__scopeDropdownMenu:n,...i}=r,o=Lae(Hae,n),a=Gi(n),s=P.useRef(!1);return E.jsx(qAe,{id:o.contentId,"aria-labelledby":o.triggerId,...a,...i,ref:e,onCloseAutoFocus:gt(r.onCloseAutoFocus,l=>{var c;s.current||(c=o.triggerRef.current)==null||c.focus(),s.current=!1,l.preventDefault()}),onInteractOutside:gt(r.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!o.modal||d)&&(s.current=!0)}),style:{...r.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Wae.displayName=Hae;var lDe="DropdownMenuGroup",cDe=P.forwardRef((r,e)=>{const{__scopeDropdownMenu:n,...i}=r,o=Gi(n);return E.jsx(GAe,{...o,...i,ref:e})});cDe.displayName=lDe;var uDe="DropdownMenuLabel",Vae=P.forwardRef((r,e)=>{const{__scopeDropdownMenu:n,...i}=r,o=Gi(n);return E.jsx(KAe,{...o,...i,ref:e})});Vae.displayName=uDe;var dDe="DropdownMenuItem",qae=P.forwardRef((r,e)=>{const{__scopeDropdownMenu:n,...i}=r,o=Gi(n);return E.jsx(XAe,{...o,...i,ref:e})});qae.displayName=dDe;var hDe="DropdownMenuCheckboxItem",Gae=P.forwardRef((r,e)=>{const{__scopeDropdownMenu:n,...i}=r,o=Gi(n);return E.jsx(YAe,{...o,...i,ref:e})});Gae.displayName=hDe;var fDe="DropdownMenuRadioGroup",pDe=P.forwardRef((r,e)=>{const{__scopeDropdownMenu:n,...i}=r,o=Gi(n);return E.jsx(ZAe,{...o,...i,ref:e})});pDe.displayName=fDe;var mDe="DropdownMenuRadioItem",Kae=P.forwardRef((r,e)=>{const{__scopeDropdownMenu:n,...i}=r,o=Gi(n);return E.jsx(JAe,{...o,...i,ref:e})});Kae.displayName=mDe;var gDe="DropdownMenuItemIndicator",Xae=P.forwardRef((r,e)=>{const{__scopeDropdownMenu:n,...i}=r,o=Gi(n);return E.jsx(QAe,{...o,...i,ref:e})});Xae.displayName=gDe;var yDe="DropdownMenuSeparator",Yae=P.forwardRef((r,e)=>{const{__scopeDropdownMenu:n,...i}=r,o=Gi(n);return E.jsx(eDe,{...o,...i,ref:e})});Yae.displayName=yDe;var bDe="DropdownMenuArrow",vDe=P.forwardRef((r,e)=>{const{__scopeDropdownMenu:n,...i}=r,o=Gi(n);return E.jsx(tDe,{...o,...i,ref:e})});vDe.displayName=bDe;var xDe=r=>{const{__scopeDropdownMenu:e,children:n,open:i,onOpenChange:o,defaultOpen:a}=r,s=Gi(e),[l,c]=ma({prop:i,defaultProp:a??!1,onChange:o,caller:"DropdownMenuSub"});return E.jsx(nDe,{...s,open:l,onOpenChange:c,children:n})},wDe="DropdownMenuSubTrigger",Zae=P.forwardRef((r,e)=>{const{__scopeDropdownMenu:n,...i}=r,o=Gi(n);return E.jsx(rDe,{...o,...i,ref:e})});Zae.displayName=wDe;var SDe="DropdownMenuSubContent",Jae=P.forwardRef((r,e)=>{const{__scopeDropdownMenu:n,...i}=r,o=Gi(n);return E.jsx(iDe,{...o,...i,ref:e,style:{...r.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Jae.displayName=SDe;var kDe=Uae,TDe=jae,Qae=Fae,ese=Wae,tse=Vae,nse=qae,rse=Gae,ise=Kae,ose=Xae,ase=Yae,EDe=xDe,sse=Zae,lse=Jae,CDe=Object.defineProperty,_De=(r,e,n)=>e in r?CDe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,ED=(r,e,n)=>_De(r,typeof e!="symbol"?e+"":e,n),cse=typeof global=="object"&&global&&global.Object===Object&&global,ADe=typeof self=="object"&&self&&self.Object===Object&&self,Ml=cse||ADe||Function("return this")(),El=Ml.Symbol,use=Object.prototype,DDe=use.hasOwnProperty,MDe=use.toString,k1=El?El.toStringTag:void 0;function RDe(r){var e=DDe.call(r,k1),n=r[k1];try{r[k1]=void 0;var i=!0}catch{}var o=MDe.call(r);return i&&(e?r[k1]=n:delete r[k1]),o}var NDe=Object.prototype,ODe=NDe.toString;function PDe(r){return ODe.call(r)}var IDe="[object Null]",$De="[object Undefined]",bF=El?El.toStringTag:void 0;function Qd(r){return r==null?r===void 0?$De:IDe:bF&&bF in Object(r)?RDe(r):PDe(r)}function qc(r){return r!=null&&typeof r=="object"}var zDe="[object Symbol]";function vS(r){return typeof r=="symbol"||qc(r)&&Qd(r)==zDe}function dse(r,e){for(var n=-1,i=r==null?0:r.length,o=Array(i);++n<i;)o[n]=e(r[n],n,r);return o}var Cl=Array.isArray,vF=El?El.prototype:void 0,xF=vF?vF.toString:void 0;function o3(r){if(typeof r=="string")return r;if(Cl(r))return dse(r,o3)+"";if(vS(r))return xF?xF.call(r):"";var e=r+"";return e=="0"&&1/r==-1/0?"-0":e}var LDe=/\s/;function UDe(r){for(var e=r.length;e--&&LDe.test(r.charAt(e)););return e}var BDe=/^\s+/;function jDe(r){return r&&r.slice(0,UDe(r)+1).replace(BDe,"")}function Nd(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}var wF=NaN,FDe=/^[-+]0x[0-9a-f]+$/i,HDe=/^0b[01]+$/i,WDe=/^0o[0-7]+$/i,VDe=parseInt;function e0(r){if(typeof r=="number")return r;if(vS(r))return wF;if(Nd(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=Nd(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=jDe(r);var n=HDe.test(r);return n||WDe.test(r)?VDe(r.slice(2),n?2:8):FDe.test(r)?wF:+r}var qDe=1/0,GDe=17976931348623157e292;function KDe(r){if(!r)return r===0?r:0;if(r=e0(r),r===qDe||r===-1/0){var e=r<0?-1:1;return e*GDe}return r===r?r:0}function XDe(r){var e=KDe(r),n=e%1;return e===e?n?e-n:e:0}function UN(r){return r}var YDe="[object AsyncFunction]",ZDe="[object Function]",JDe="[object GeneratorFunction]",QDe="[object Proxy]";function hse(r){if(!Nd(r))return!1;var e=Qd(r);return e==ZDe||e==JDe||e==YDe||e==QDe}var Q8=Ml["__core-js_shared__"],SF=function(){var r=/[^.]+$/.exec(Q8&&Q8.keys&&Q8.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function e9e(r){return!!SF&&SF in r}var t9e=Function.prototype,n9e=t9e.toString;function sp(r){if(r!=null){try{return n9e.call(r)}catch{}try{return r+""}catch{}}return""}var r9e=/[\\^$.*+?()[\]{}|]/g,i9e=/^\[object .+?Constructor\]$/,o9e=Function.prototype,a9e=Object.prototype,s9e=o9e.toString,l9e=a9e.hasOwnProperty,c9e=RegExp("^"+s9e.call(l9e).replace(r9e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function u9e(r){if(!Nd(r)||e9e(r))return!1;var e=hse(r)?c9e:i9e;return e.test(sp(r))}function d9e(r,e){return r==null?void 0:r[e]}function lp(r,e){var n=d9e(r,e);return u9e(n)?n:void 0}var CD=lp(Ml,"WeakMap");function h9e(r,e,n){switch(n.length){case 0:return r.call(e);case 1:return r.call(e,n[0]);case 2:return r.call(e,n[0],n[1]);case 3:return r.call(e,n[0],n[1],n[2])}return r.apply(e,n)}var f9e=800,p9e=16,m9e=Date.now;function g9e(r){var e=0,n=0;return function(){var i=m9e(),o=p9e-(i-n);if(n=i,o>0){if(++e>=f9e)return arguments[0]}else e=0;return r.apply(void 0,arguments)}}function y9e(r){return function(){return r}}var kF=function(){try{var r=lp(Object,"defineProperty");return r({},"",{}),r}catch{}}(),b9e=kF?function(r,e){return kF(r,"toString",{configurable:!0,enumerable:!1,value:y9e(e),writable:!0})}:UN,v9e=g9e(b9e);function x9e(r,e,n,i){for(var o=r.length,a=n+-1;++a<o;)if(e(r[a],a,r))return a;return-1}function w9e(r){return r!==r}function S9e(r,e,n){for(var i=n-1,o=r.length;++i<o;)if(r[i]===e)return i;return-1}function k9e(r,e,n){return e===e?S9e(r,e,n):x9e(r,w9e,n)}function T9e(r,e){var n=r==null?0:r.length;return!!n&&k9e(r,e,0)>-1}var E9e=9007199254740991,C9e=/^(?:0|[1-9]\d*)$/;function fse(r,e){var n=typeof r;return e=e??E9e,!!e&&(n=="number"||n!="symbol"&&C9e.test(r))&&r>-1&&r%1==0&&r<e}function pse(r,e){return r===e||r!==r&&e!==e}var TF=Math.max;function _9e(r,e,n){return e=TF(e===void 0?r.length-1:e,0),function(){for(var i=arguments,o=-1,a=TF(i.length-e,0),s=Array(a);++o<a;)s[o]=i[e+o];o=-1;for(var l=Array(e+1);++o<e;)l[o]=i[o];return l[e]=n(s),h9e(r,this,l)}}function A9e(r,e){return v9e(_9e(r,e,UN),r+"")}var D9e=9007199254740991;function BN(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=D9e}function mse(r){return r!=null&&BN(r.length)&&!hse(r)}var M9e=Object.prototype;function R9e(r){var e=r&&r.constructor,n=typeof e=="function"&&e.prototype||M9e;return r===n}function N9e(r,e){for(var n=-1,i=Array(r);++n<r;)i[n]=e(n);return i}var O9e="[object Arguments]";function EF(r){return qc(r)&&Qd(r)==O9e}var gse=Object.prototype,P9e=gse.hasOwnProperty,I9e=gse.propertyIsEnumerable,jN=EF(function(){return arguments}())?EF:function(r){return qc(r)&&P9e.call(r,"callee")&&!I9e.call(r,"callee")};function $9e(){return!1}var yse=typeof exports=="object"&&exports&&!exports.nodeType&&exports,CF=yse&&typeof module=="object"&&module&&!module.nodeType&&module,z9e=CF&&CF.exports===yse,_F=z9e?Ml.Buffer:void 0,L9e=_F?_F.isBuffer:void 0,_D=L9e||$9e,U9e="[object Arguments]",B9e="[object Array]",j9e="[object Boolean]",F9e="[object Date]",H9e="[object Error]",W9e="[object Function]",V9e="[object Map]",q9e="[object Number]",G9e="[object Object]",K9e="[object RegExp]",X9e="[object Set]",Y9e="[object String]",Z9e="[object WeakMap]",J9e="[object ArrayBuffer]",Q9e="[object DataView]",eMe="[object Float32Array]",tMe="[object Float64Array]",nMe="[object Int8Array]",rMe="[object Int16Array]",iMe="[object Int32Array]",oMe="[object Uint8Array]",aMe="[object Uint8ClampedArray]",sMe="[object Uint16Array]",lMe="[object Uint32Array]",hr={};hr[eMe]=hr[tMe]=hr[nMe]=hr[rMe]=hr[iMe]=hr[oMe]=hr[aMe]=hr[sMe]=hr[lMe]=!0;hr[U9e]=hr[B9e]=hr[J9e]=hr[j9e]=hr[Q9e]=hr[F9e]=hr[H9e]=hr[W9e]=hr[V9e]=hr[q9e]=hr[G9e]=hr[K9e]=hr[X9e]=hr[Y9e]=hr[Z9e]=!1;function cMe(r){return qc(r)&&BN(r.length)&&!!hr[Qd(r)]}function FN(r){return function(e){return r(e)}}var bse=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$y=bse&&typeof module=="object"&&module&&!module.nodeType&&module,uMe=$y&&$y.exports===bse,eE=uMe&&cse.process,a3=function(){try{var r=$y&&$y.require&&$y.require("util").types;return r||eE&&eE.binding&&eE.binding("util")}catch{}}(),AF=a3&&a3.isTypedArray,vse=AF?FN(AF):cMe,dMe=Object.prototype,hMe=dMe.hasOwnProperty;function fMe(r,e){var n=Cl(r),i=!n&&jN(r),o=!n&&!i&&_D(r),a=!n&&!i&&!o&&vse(r),s=n||i||o||a,l=s?N9e(r.length,String):[],c=l.length;for(var u in r)hMe.call(r,u)&&!(s&&(u=="length"||o&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||fse(u,c)))&&l.push(u);return l}function pMe(r,e){return function(n){return r(e(n))}}var mMe=pMe(Object.keys,Object),gMe=Object.prototype,yMe=gMe.hasOwnProperty;function bMe(r){if(!R9e(r))return mMe(r);var e=[];for(var n in Object(r))yMe.call(r,n)&&n!="constructor"&&e.push(n);return e}function xse(r){return mse(r)?fMe(r):bMe(r)}var vMe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xMe=/^\w*$/;function HN(r,e){if(Cl(r))return!1;var n=typeof r;return n=="number"||n=="symbol"||n=="boolean"||r==null||vS(r)?!0:xMe.test(r)||!vMe.test(r)||e!=null&&r in Object(e)}var mb=lp(Object,"create");function wMe(){this.__data__=mb?mb(null):{},this.size=0}function SMe(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e}var kMe="__lodash_hash_undefined__",TMe=Object.prototype,EMe=TMe.hasOwnProperty;function CMe(r){var e=this.__data__;if(mb){var n=e[r];return n===kMe?void 0:n}return EMe.call(e,r)?e[r]:void 0}var _Me=Object.prototype,AMe=_Me.hasOwnProperty;function DMe(r){var e=this.__data__;return mb?e[r]!==void 0:AMe.call(e,r)}var MMe="__lodash_hash_undefined__";function RMe(r,e){var n=this.__data__;return this.size+=this.has(r)?0:1,n[r]=mb&&e===void 0?MMe:e,this}function Wf(r){var e=-1,n=r==null?0:r.length;for(this.clear();++e<n;){var i=r[e];this.set(i[0],i[1])}}Wf.prototype.clear=wMe;Wf.prototype.delete=SMe;Wf.prototype.get=CMe;Wf.prototype.has=DMe;Wf.prototype.set=RMe;function NMe(){this.__data__=[],this.size=0}function xS(r,e){for(var n=r.length;n--;)if(pse(r[n][0],e))return n;return-1}var OMe=Array.prototype,PMe=OMe.splice;function IMe(r){var e=this.__data__,n=xS(e,r);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():PMe.call(e,n,1),--this.size,!0}function $Me(r){var e=this.__data__,n=xS(e,r);return n<0?void 0:e[n][1]}function zMe(r){return xS(this.__data__,r)>-1}function LMe(r,e){var n=this.__data__,i=xS(n,r);return i<0?(++this.size,n.push([r,e])):n[i][1]=e,this}function tu(r){var e=-1,n=r==null?0:r.length;for(this.clear();++e<n;){var i=r[e];this.set(i[0],i[1])}}tu.prototype.clear=NMe;tu.prototype.delete=IMe;tu.prototype.get=$Me;tu.prototype.has=zMe;tu.prototype.set=LMe;var gb=lp(Ml,"Map");function UMe(){this.size=0,this.__data__={hash:new Wf,map:new(gb||tu),string:new Wf}}function BMe(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}function wS(r,e){var n=r.__data__;return BMe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function jMe(r){var e=wS(this,r).delete(r);return this.size-=e?1:0,e}function FMe(r){return wS(this,r).get(r)}function HMe(r){return wS(this,r).has(r)}function WMe(r,e){var n=wS(this,r),i=n.size;return n.set(r,e),this.size+=n.size==i?0:1,this}function nu(r){var e=-1,n=r==null?0:r.length;for(this.clear();++e<n;){var i=r[e];this.set(i[0],i[1])}}nu.prototype.clear=UMe;nu.prototype.delete=jMe;nu.prototype.get=FMe;nu.prototype.has=HMe;nu.prototype.set=WMe;var VMe="Expected a function";function WN(r,e){if(typeof r!="function"||e!=null&&typeof e!="function")throw new TypeError(VMe);var n=function(){var i=arguments,o=e?e.apply(this,i):i[0],a=n.cache;if(a.has(o))return a.get(o);var s=r.apply(this,i);return n.cache=a.set(o,s)||a,s};return n.cache=new(WN.Cache||nu),n}WN.Cache=nu;var qMe=500;function GMe(r){var e=WN(r,function(i){return n.size===qMe&&n.clear(),i}),n=e.cache;return e}var KMe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,XMe=/\\(\\)?/g,YMe=GMe(function(r){var e=[];return r.charCodeAt(0)===46&&e.push(""),r.replace(KMe,function(n,i,o,a){e.push(o?a.replace(XMe,"$1"):i||n)}),e});function AD(r){return r==null?"":o3(r)}function wse(r,e){return Cl(r)?r:HN(r,e)?[r]:YMe(AD(r))}function SS(r){if(typeof r=="string"||vS(r))return r;var e=r+"";return e=="0"&&1/r==-1/0?"-0":e}function Sse(r,e){e=wse(e,r);for(var n=0,i=e.length;r!=null&&n<i;)r=r[SS(e[n++])];return n&&n==i?r:void 0}function ZMe(r,e,n){var i=r==null?void 0:Sse(r,e);return i===void 0?n:i}function kse(r,e){for(var n=-1,i=e.length,o=r.length;++n<i;)r[o+n]=e[n];return r}var DF=El?El.isConcatSpreadable:void 0;function JMe(r){return Cl(r)||jN(r)||!!(DF&&r&&r[DF])}function QMe(r,e,n,i,o){var a=-1,s=r.length;for(n||(n=JMe),o||(o=[]);++a<s;){var l=r[a];n(l)&&kse(o,l)}return o}function eRe(r,e,n){var i=-1,o=r.length;e<0&&(e=-e>o?0:o+e),n=n>o?o:n,n<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(o);++i<o;)a[i]=r[i+e];return a}function tRe(r,e,n){var i=r.length;return n=n===void 0?i:n,n>=i?r:eRe(r,e,n)}var nRe="\\ud800-\\udfff",rRe="\\u0300-\\u036f",iRe="\\ufe20-\\ufe2f",oRe="\\u20d0-\\u20ff",aRe=rRe+iRe+oRe,sRe="\\ufe0e\\ufe0f",lRe="\\u200d",cRe=RegExp("["+lRe+nRe+aRe+sRe+"]");function VN(r){return cRe.test(r)}function uRe(r){return r.split("")}var Tse="\\ud800-\\udfff",dRe="\\u0300-\\u036f",hRe="\\ufe20-\\ufe2f",fRe="\\u20d0-\\u20ff",pRe=dRe+hRe+fRe,mRe="\\ufe0e\\ufe0f",gRe="["+Tse+"]",DD="["+pRe+"]",MD="\\ud83c[\\udffb-\\udfff]",yRe="(?:"+DD+"|"+MD+")",Ese="[^"+Tse+"]",Cse="(?:\\ud83c[\\udde6-\\uddff]){2}",_se="[\\ud800-\\udbff][\\udc00-\\udfff]",bRe="\\u200d",Ase=yRe+"?",Dse="["+mRe+"]?",vRe="(?:"+bRe+"(?:"+[Ese,Cse,_se].join("|")+")"+Dse+Ase+")*",xRe=Dse+Ase+vRe,wRe="(?:"+[Ese+DD+"?",DD,Cse,_se,gRe].join("|")+")",SRe=RegExp(MD+"(?="+MD+")|"+wRe+xRe,"g");function kRe(r){return r.match(SRe)||[]}function TRe(r){return VN(r)?kRe(r):uRe(r)}function ERe(r,e,n){return r===r&&(n!==void 0&&(r=r<=n?r:n),e!==void 0&&(r=r>=e?r:e)),r}function Mse(r,e,n){return n===void 0&&(n=e,e=void 0),n!==void 0&&(n=e0(n),n=n===n?n:0),e!==void 0&&(e=e0(e),e=e===e?e:0),ERe(e0(r),e,n)}function CRe(){this.__data__=new tu,this.size=0}function _Re(r){var e=this.__data__,n=e.delete(r);return this.size=e.size,n}function ARe(r){return this.__data__.get(r)}function DRe(r){return this.__data__.has(r)}var MRe=200;function RRe(r,e){var n=this.__data__;if(n instanceof tu){var i=n.__data__;if(!gb||i.length<MRe-1)return i.push([r,e]),this.size=++n.size,this;n=this.__data__=new nu(i)}return n.set(r,e),this.size=n.size,this}function $c(r){var e=this.__data__=new tu(r);this.size=e.size}$c.prototype.clear=CRe;$c.prototype.delete=_Re;$c.prototype.get=ARe;$c.prototype.has=DRe;$c.prototype.set=RRe;function NRe(r,e){for(var n=-1,i=r==null?0:r.length,o=0,a=[];++n<i;){var s=r[n];e(s,n,r)&&(a[o++]=s)}return a}function ORe(){return[]}var PRe=Object.prototype,IRe=PRe.propertyIsEnumerable,MF=Object.getOwnPropertySymbols,$Re=MF?function(r){return r==null?[]:(r=Object(r),NRe(MF(r),function(e){return IRe.call(r,e)}))}:ORe;function zRe(r,e,n){var i=e(r);return Cl(r)?i:kse(i,n(r))}function RF(r){return zRe(r,xse,$Re)}var RD=lp(Ml,"DataView"),ND=lp(Ml,"Promise"),OD=lp(Ml,"Set"),NF="[object Map]",LRe="[object Object]",OF="[object Promise]",PF="[object Set]",IF="[object WeakMap]",$F="[object DataView]",URe=sp(RD),BRe=sp(gb),jRe=sp(ND),FRe=sp(OD),HRe=sp(CD),td=Qd;(RD&&td(new RD(new ArrayBuffer(1)))!=$F||gb&&td(new gb)!=NF||ND&&td(ND.resolve())!=OF||OD&&td(new OD)!=PF||CD&&td(new CD)!=IF)&&(td=function(r){var e=Qd(r),n=e==LRe?r.constructor:void 0,i=n?sp(n):"";if(i)switch(i){case URe:return $F;case BRe:return NF;case jRe:return OF;case FRe:return PF;case HRe:return IF}return e});var zF=Ml.Uint8Array,WRe="__lodash_hash_undefined__";function VRe(r){return this.__data__.set(r,WRe),this}function qRe(r){return this.__data__.has(r)}function yb(r){var e=-1,n=r==null?0:r.length;for(this.__data__=new nu;++e<n;)this.add(r[e])}yb.prototype.add=yb.prototype.push=VRe;yb.prototype.has=qRe;function GRe(r,e){for(var n=-1,i=r==null?0:r.length;++n<i;)if(e(r[n],n,r))return!0;return!1}function Rse(r,e){return r.has(e)}var KRe=1,XRe=2;function Nse(r,e,n,i,o,a){var s=n&KRe,l=r.length,c=e.length;if(l!=c&&!(s&&c>l))return!1;var u=a.get(r),d=a.get(e);if(u&&d)return u==e&&d==r;var h=-1,f=!0,m=n&XRe?new yb:void 0;for(a.set(r,e),a.set(e,r);++h<l;){var b=r[h],g=e[h];if(i)var v=s?i(g,b,h,e,r,a):i(b,g,h,r,e,a);if(v!==void 0){if(v)continue;f=!1;break}if(m){if(!GRe(e,function(x,w){if(!Rse(m,w)&&(b===x||o(b,x,n,i,a)))return m.push(w)})){f=!1;break}}else if(!(b===g||o(b,g,n,i,a))){f=!1;break}}return a.delete(r),a.delete(e),f}function YRe(r){var e=-1,n=Array(r.size);return r.forEach(function(i,o){n[++e]=[o,i]}),n}function ZRe(r){var e=-1,n=Array(r.size);return r.forEach(function(i){n[++e]=i}),n}var JRe=1,QRe=2,eNe="[object Boolean]",tNe="[object Date]",nNe="[object Error]",rNe="[object Map]",iNe="[object Number]",oNe="[object RegExp]",aNe="[object Set]",sNe="[object String]",lNe="[object Symbol]",cNe="[object ArrayBuffer]",uNe="[object DataView]",LF=El?El.prototype:void 0,tE=LF?LF.valueOf:void 0;function dNe(r,e,n,i,o,a,s){switch(n){case uNe:if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case cNe:return!(r.byteLength!=e.byteLength||!a(new zF(r),new zF(e)));case eNe:case tNe:case iNe:return pse(+r,+e);case nNe:return r.name==e.name&&r.message==e.message;case oNe:case sNe:return r==e+"";case rNe:var l=YRe;case aNe:var c=i&JRe;if(l||(l=ZRe),r.size!=e.size&&!c)return!1;var u=s.get(r);if(u)return u==e;i|=QRe,s.set(r,e);var d=Nse(l(r),l(e),i,o,a,s);return s.delete(r),d;case lNe:if(tE)return tE.call(r)==tE.call(e)}return!1}var hNe=1,fNe=Object.prototype,pNe=fNe.hasOwnProperty;function mNe(r,e,n,i,o,a){var s=n&hNe,l=RF(r),c=l.length,u=RF(e),d=u.length;if(c!=d&&!s)return!1;for(var h=c;h--;){var f=l[h];if(!(s?f in e:pNe.call(e,f)))return!1}var m=a.get(r),b=a.get(e);if(m&&b)return m==e&&b==r;var g=!0;a.set(r,e),a.set(e,r);for(var v=s;++h<c;){f=l[h];var x=r[f],w=e[f];if(i)var k=s?i(w,x,f,e,r,a):i(x,w,f,r,e,a);if(!(k===void 0?x===w||o(x,w,n,i,a):k)){g=!1;break}v||(v=f=="constructor")}if(g&&!v){var T=r.constructor,_=e.constructor;T!=_&&"constructor"in r&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof _=="function"&&_ instanceof _)&&(g=!1)}return a.delete(r),a.delete(e),g}var gNe=1,UF="[object Arguments]",BF="[object Array]",Cw="[object Object]",yNe=Object.prototype,jF=yNe.hasOwnProperty;function bNe(r,e,n,i,o,a){var s=Cl(r),l=Cl(e),c=s?BF:td(r),u=l?BF:td(e);c=c==UF?Cw:c,u=u==UF?Cw:u;var d=c==Cw,h=u==Cw,f=c==u;if(f&&_D(r)){if(!_D(e))return!1;s=!0,d=!1}if(f&&!d)return a||(a=new $c),s||vse(r)?Nse(r,e,n,i,o,a):dNe(r,e,c,n,i,o,a);if(!(n&gNe)){var m=d&&jF.call(r,"__wrapped__"),b=h&&jF.call(e,"__wrapped__");if(m||b){var g=m?r.value():r,v=b?e.value():e;return a||(a=new $c),o(g,v,n,i,a)}}return f?(a||(a=new $c),mNe(r,e,n,i,o,a)):!1}function qN(r,e,n,i,o){return r===e?!0:r==null||e==null||!qc(r)&&!qc(e)?r!==r&&e!==e:bNe(r,e,n,i,qN,o)}var vNe=1,xNe=2;function wNe(r,e,n,i){var o=n.length,a=o;if(r==null)return!a;for(r=Object(r);o--;){var s=n[o];if(s[2]?s[1]!==r[s[0]]:!(s[0]in r))return!1}for(;++o<a;){s=n[o];var l=s[0],c=r[l],u=s[1];if(s[2]){if(c===void 0&&!(l in r))return!1}else{var d=new $c,h;if(!(h===void 0?qN(u,c,vNe|xNe,i,d):h))return!1}}return!0}function Ose(r){return r===r&&!Nd(r)}function SNe(r){for(var e=xse(r),n=e.length;n--;){var i=e[n],o=r[i];e[n]=[i,o,Ose(o)]}return e}function Pse(r,e){return function(n){return n==null?!1:n[r]===e&&(e!==void 0||r in Object(n))}}function kNe(r){var e=SNe(r);return e.length==1&&e[0][2]?Pse(e[0][0],e[0][1]):function(n){return n===r||wNe(n,r,e)}}function TNe(r,e){return r!=null&&e in Object(r)}function ENe(r,e,n){e=wse(e,r);for(var i=-1,o=e.length,a=!1;++i<o;){var s=SS(e[i]);if(!(a=r!=null&&n(r,s)))break;r=r[s]}return a||++i!=o?a:(o=r==null?0:r.length,!!o&&BN(o)&&fse(s,o)&&(Cl(r)||jN(r)))}function CNe(r,e){return r!=null&&ENe(r,e,TNe)}var _Ne=1,ANe=2;function DNe(r,e){return HN(r)&&Ose(e)?Pse(SS(r),e):function(n){var i=ZMe(n,r);return i===void 0&&i===e?CNe(n,r):qN(e,i,_Ne|ANe)}}function Ise(r){return function(e){return e==null?void 0:e[r]}}function MNe(r){return function(e){return Sse(e,r)}}function RNe(r){return HN(r)?Ise(SS(r)):MNe(r)}function NNe(r){return typeof r=="function"?r:r==null?UN:typeof r=="object"?Cl(r)?DNe(r[0],r[1]):kNe(r):RNe(r)}var nE=function(){return Ml.Date.now()},ONe="Expected a function",PNe=Math.max,INe=Math.min;function xv(r,e,n){var i,o,a,s,l,c,u=0,d=!1,h=!1,f=!0;if(typeof r!="function")throw new TypeError(ONe);e=e0(e)||0,Nd(n)&&(d=!!n.leading,h="maxWait"in n,a=h?PNe(e0(n.maxWait)||0,e):a,f="trailing"in n?!!n.trailing:f);function m(D){var I=i,L=o;return i=o=void 0,u=D,s=r.apply(L,I),s}function b(D){return u=D,l=setTimeout(x,e),d?m(D):s}function g(D){var I=D-c,L=D-u,O=e-I;return h?INe(O,a-L):O}function v(D){var I=D-c,L=D-u;return c===void 0||I>=e||I<0||h&&L>=a}function x(){var D=nE();if(v(D))return w(D);l=setTimeout(x,g(D))}function w(D){return l=void 0,f&&i?m(D):(i=o=void 0,s)}function k(){l!==void 0&&clearTimeout(l),u=0,i=c=o=l=void 0}function T(){return l===void 0?s:w(nE())}function _(){var D=nE(),I=v(D);if(i=arguments,o=this,c=D,I){if(l===void 0)return b(c);if(h)return clearTimeout(l),l=setTimeout(x,e),m(c)}return l===void 0&&(l=setTimeout(x,e)),s}return _.cancel=k,_.flush=T,_}function rE(r){return qc(r)&&mse(r)}var $Ne=200;function zNe(r,e,n,i){var o=-1,a=T9e,s=!0,l=r.length,c=[],u=e.length;if(!l)return c;n&&(e=dse(e,FN(n))),e.length>=$Ne&&(a=Rse,s=!1,e=new yb(e));e:for(;++o<l;){var d=r[o],h=n==null?d:n(d);if(d=d!==0?d:0,s&&h===h){for(var f=u;f--;)if(e[f]===h)continue e;c.push(d)}else a(e,h,i)||c.push(d)}return c}function LNe(r){var e=r==null?0:r.length;return e?r[e-1]:void 0}var UNe=A9e(function(r,e){var n=LNe(e);return rE(n)&&(n=void 0),rE(r)?zNe(r,QMe(e,1,rE),NNe(n)):[]}),BNe="[object Number]";function s3(r){return typeof r=="number"||qc(r)&&Qd(r)==BNe}var jNe="[object RegExp]";function FNe(r){return qc(r)&&Qd(r)==jNe}var FF=a3&&a3.isRegExp,HNe=FF?FN(FF):FNe,WNe=Ise("length"),$se="\\ud800-\\udfff",VNe="\\u0300-\\u036f",qNe="\\ufe20-\\ufe2f",GNe="\\u20d0-\\u20ff",KNe=VNe+qNe+GNe,XNe="\\ufe0e\\ufe0f",YNe="["+$se+"]",PD="["+KNe+"]",ID="\\ud83c[\\udffb-\\udfff]",ZNe="(?:"+PD+"|"+ID+")",zse="[^"+$se+"]",Lse="(?:\\ud83c[\\udde6-\\uddff]){2}",Use="[\\ud800-\\udbff][\\udc00-\\udfff]",JNe="\\u200d",Bse=ZNe+"?",jse="["+XNe+"]?",QNe="(?:"+JNe+"(?:"+[zse,Lse,Use].join("|")+")"+jse+Bse+")*",eOe=jse+Bse+QNe,tOe="(?:"+[zse+PD+"?",PD,Lse,Use,YNe].join("|")+")",HF=RegExp(ID+"(?="+ID+")|"+tOe+eOe,"g");function nOe(r){for(var e=HF.lastIndex=0;HF.test(r);)++e;return e}function rOe(r){return VN(r)?nOe(r):WNe(r)}var iOe="Expected a function";function Gc(r,e,n){var i=!0,o=!0;if(typeof r!="function")throw new TypeError(iOe);return Nd(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),xv(r,e,{leading:i,maxWait:e,trailing:o})}var oOe=30,aOe="...",sOe=/\w*$/;function lOe(r,e){var n=oOe,i=aOe;if(Nd(e)){var o="separator"in e?e.separator:o;n="length"in e?XDe(e.length):n,i="omission"in e?o3(e.omission):i}r=AD(r);var a=r.length;if(VN(r)){var s=TRe(r);a=s.length}if(n>=a)return r;var l=n-rOe(i);if(l<1)return i;var c=s?tRe(s,0,l).join(""):r.slice(0,l);if(o===void 0)return c+i;if(s&&(l+=c.length-l),HNe(o)){if(r.slice(l).search(o)){var u,d=c;for(o.global||(o=RegExp(o.source,AD(sOe.exec(o))+"g")),o.lastIndex=0;u=o.exec(d);)var h=u.index;c=c.slice(0,h===void 0?l:h)}}else if(r.indexOf(o3(o),l)!=l){var f=c.lastIndexOf(o);f>-1&&(c=c.slice(0,f))}return c+i}const GN="-",cOe=r=>{const e=dOe(r),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=r;return{getClassGroupId:o=>{const a=o.split(GN);return a[0]===""&&a.length!==1&&a.shift(),Fse(a,e)||uOe(o)},getConflictingClassGroupIds:(o,a)=>{const s=n[o]||[];return a&&i[o]?[...s,...i[o]]:s}}},Fse=(r,e)=>{var n;if(r.length===0)return e.classGroupId;const i=r[0],o=e.nextPart.get(i),a=o?Fse(r.slice(1),o):void 0;if(a)return a;if(e.validators.length===0)return;const s=r.join(GN);return(n=e.validators.find(({validator:l})=>l(s)))==null?void 0:n.classGroupId},WF=/^\[(.+)\]$/,uOe=r=>{if(WF.test(r)){const e=WF.exec(r)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},dOe=r=>{const{theme:e,prefix:n}=r,i={nextPart:new Map,validators:[]};return fOe(Object.entries(r.classGroups),n).forEach(([o,a])=>{$D(a,i,o,e)}),i},$D=(r,e,n,i)=>{r.forEach(o=>{if(typeof o=="string"){const a=o===""?e:VF(e,o);a.classGroupId=n;return}if(typeof o=="function"){if(hOe(o)){$D(o(i),e,n,i);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,s])=>{$D(s,VF(e,a),n,i)})})},VF=(r,e)=>{let n=r;return e.split(GN).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},hOe=r=>r.isThemeGetter,fOe=(r,e)=>e?r.map(([n,i])=>{const o=i.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,l])=>[e+s,l])):a);return[n,o]}):r,pOe=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const o=(a,s)=>{n.set(a,s),e++,e>r&&(e=0,i=n,n=new Map)};return{get(a){let s=n.get(a);if(s!==void 0)return s;if((s=i.get(a))!==void 0)return o(a,s),s},set(a,s){n.has(a)?n.set(a,s):o(a,s)}}},Hse="!",mOe=r=>{const{separator:e,experimentalParseClassName:n}=r,i=e.length===1,o=e[0],a=e.length,s=l=>{const c=[];let u=0,d=0,h;for(let v=0;v<l.length;v++){let x=l[v];if(u===0){if(x===o&&(i||l.slice(v,v+a)===e)){c.push(l.slice(d,v)),d=v+a;continue}if(x==="/"){h=v;continue}}x==="["?u++:x==="]"&&u--}const f=c.length===0?l:l.substring(d),m=f.startsWith(Hse),b=m?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:s}):s},gOe=r=>{if(r.length<=1)return r;const e=[];let n=[];return r.forEach(i=>{i[0]==="["?(e.push(...n.sort(),i),n=[]):n.push(i)}),e.push(...n.sort()),e},yOe=r=>({cache:pOe(r.cacheSize),parseClassName:mOe(r),...cOe(r)}),bOe=/\s+/,vOe=(r,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:o}=e,a=[],s=r.trim().split(bOe);let l="";for(let c=s.length-1;c>=0;c-=1){const u=s[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let b=!!m,g=i(b?f.substring(0,m):f);if(!g){if(!b){l=u+(l.length>0?" "+l:l);continue}if(g=i(f),!g){l=u+(l.length>0?" "+l:l);continue}b=!1}const v=gOe(d).join(":"),x=h?v+Hse:v,w=x+g;if(a.includes(w))continue;a.push(w);const k=o(g,b);for(let T=0;T<k.length;++T){const _=k[T];a.push(x+_)}l=u+(l.length>0?" "+l:l)}return l};function xOe(){let r=0,e,n,i="";for(;r<arguments.length;)(e=arguments[r++])&&(n=Wse(e))&&(i&&(i+=" "),i+=n);return i}const Wse=r=>{if(typeof r=="string")return r;let e,n="";for(let i=0;i<r.length;i++)r[i]&&(e=Wse(r[i]))&&(n&&(n+=" "),n+=e);return n};function wOe(r,...e){let n,i,o,a=s;function s(c){const u=e.reduce((d,h)=>h(d),r());return n=yOe(u),i=n.cache.get,o=n.cache.set,a=l,l(c)}function l(c){const u=i(c);if(u)return u;const d=vOe(c,n);return o(c,d),d}return function(){return a(xOe.apply(null,arguments))}}const cr=r=>{const e=n=>n[r]||[];return e.isThemeGetter=!0,e},Vse=/^\[(?:([a-z-]+):)?(.+)\]$/i,SOe=/^\d+\/\d+$/,kOe=new Set(["px","full","screen"]),TOe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,EOe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,COe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_Oe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AOe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ic=r=>t0(r)||kOe.has(r)||SOe.test(r),$u=r=>ng(r,"length",$Oe),t0=r=>!!r&&!Number.isNaN(Number(r)),iE=r=>ng(r,"number",t0),T1=r=>!!r&&Number.isInteger(Number(r)),DOe=r=>r.endsWith("%")&&t0(r.slice(0,-1)),sn=r=>Vse.test(r),zu=r=>TOe.test(r),MOe=new Set(["length","size","percentage"]),ROe=r=>ng(r,MOe,qse),NOe=r=>ng(r,"position",qse),OOe=new Set(["image","url"]),POe=r=>ng(r,OOe,LOe),IOe=r=>ng(r,"",zOe),E1=()=>!0,ng=(r,e,n)=>{const i=Vse.exec(r);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):n(i[2]):!1},$Oe=r=>EOe.test(r)&&!COe.test(r),qse=()=>!1,zOe=r=>_Oe.test(r),LOe=r=>AOe.test(r),UOe=()=>{const r=cr("colors"),e=cr("spacing"),n=cr("blur"),i=cr("brightness"),o=cr("borderColor"),a=cr("borderRadius"),s=cr("borderSpacing"),l=cr("borderWidth"),c=cr("contrast"),u=cr("grayscale"),d=cr("hueRotate"),h=cr("invert"),f=cr("gap"),m=cr("gradientColorStops"),b=cr("gradientColorStopPositions"),g=cr("inset"),v=cr("margin"),x=cr("opacity"),w=cr("padding"),k=cr("saturate"),T=cr("scale"),_=cr("sepia"),D=cr("skew"),I=cr("space"),L=cr("translate"),O=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],Z=()=>["auto",sn,e],$=()=>[sn,e],F=()=>["",ic,$u],A=()=>["auto",t0,sn],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",sn],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[t0,sn];return{cacheSize:500,separator:":",theme:{colors:[E1],spacing:[ic,$u],blur:["none","",zu,sn],brightness:X(),borderColor:[r],borderRadius:["none","","full",zu,sn],borderSpacing:$(),borderWidth:F(),contrast:X(),grayscale:J(),hueRotate:X(),invert:J(),gap:$(),gradientColorStops:[r],gradientColorStopPositions:[DOe,$u],inset:Z(),margin:Z(),opacity:X(),padding:$(),saturate:X(),scale:X(),sepia:J(),skew:X(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",sn]}],container:["container"],columns:[{columns:[zu]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),sn]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",T1,sn]}],basis:[{basis:Z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",sn]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",T1,sn]}],"grid-cols":[{"grid-cols":[E1]}],"col-start-end":[{col:["auto",{span:["full",T1,sn]},sn]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[E1]}],"row-start-end":[{row:["auto",{span:[T1,sn]},sn]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",sn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",sn]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...ne()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ne(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ne(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",sn,e]}],"min-w":[{"min-w":[sn,e,"min","max","fit"]}],"max-w":[{"max-w":[sn,e,"none","full","min","max","fit","prose",{screen:[zu]},zu]}],h:[{h:[sn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[sn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[sn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[sn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",zu,$u]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",iE]}],"font-family":[{font:[E1]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",sn]}],"line-clamp":[{"line-clamp":["none",t0,iE]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ic,sn]}],"list-image":[{"list-image":["none",sn]}],"list-style-type":[{list:["none","disc","decimal",sn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ic,$u]}],"underline-offset":[{"underline-offset":["auto",ic,sn]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",sn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",sn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),NOe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ROe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},POe]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:H()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[ic,sn]}],"outline-w":[{outline:[ic,$u]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[ic,$u]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",zu,IOe]}],"shadow-color":[{shadow:[E1]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",zu,sn]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[k]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",sn]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",sn]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",sn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[T1,sn]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",sn]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",sn]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",sn]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[ic,$u,iE]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},BOe=wOe(UOe);function wt(...r){return BOe(pr(r))}let oE;function aE(){return oE===void 0&&(oE=navigator.platform.includes("Mac")),oE}function kS(r){return`${r}`.toLowerCase()==="mod"?aE()?"":"Ctrl":`${r}`.toLowerCase()==="alt"?aE()?"":"Alt":`${r}`.toLowerCase()==="shift"?aE()?"":"Shift":r}function TS(r){return r.map(kS).join(" ")}const ft=dt.forwardRef((r,e)=>{const{icon:n=void 0,tooltip:i=void 0,disabled:o=!1,customClass:a="",loading:s=void 0,shortcutKeys:l=void 0,tooltipOptions:c={},action:u=void 0,isActive:d=void 0,children:h,asChild:f=!1,upload:m=!1,initialDisplayedColor:b=void 0,...g}=r,v=wv[n];return E.jsxs(ig,{children:[E.jsx(og,{asChild:!0,children:E.jsxs(f?rN:kv,{"data-state":d!=null&&d()?"on":"off",onClick:u,ref:e,size:"sm",className:wt("richtext-w-[32px] richtext-h-[32px]",a),disabled:o,...g,children:[v&&E.jsx(v,{className:"richtext-size-4"}),h]})}),i&&E.jsx(hp,{...c,children:E.jsxs("div",{className:"richtext-flex richtext-max-w-24 richtext-flex-col richtext-items-center richtext-text-center",children:[E.jsx("div",{children:i}),!!(l!=null&&l.length)&&E.jsx("span",{children:TS(l)})]})})]})});function jOe(r){const e=["size-small","size-medium","size-large"],n=["SizeS","SizeM","SizeL"];return e.map((i,o)=>({type:`image-${i}`,component:ft,componentProps:{tooltip:An.t(`editor.${i.replace("-",".")}.tooltip`),icon:n[o],action:()=>r.commands.updateImage({width:lb[i]}),isActive:()=>r.isActive("image",{width:lb[i]})}}))}function FOe(r){const e=["size-small","size-medium","size-large"],n=["SizeS","SizeM","SizeL"];return e.map((i,o)=>({type:`image-${i}`,component:ft,componentProps:{tooltip:An.t(`editor.${i.replace("-",".")}.tooltip`),icon:n[o],action:()=>r.commands.updateImageGif({width:lb[i]}),isActive:()=>r.isActive("image",{width:lb[i]})}}))}function HOe(r){const e=["left","center","right"],n={left:"AlignLeft",center:"AlignCenter",right:"AlignRight"};return e.map(i=>({type:`image-${i}`,component:ft,componentProps:{tooltip:An.t(`editor.textalign.${i}.tooltip`),icon:n[i],action:()=>{var o,a;return(a=(o=r.commands)==null?void 0:o.setAlignImage)==null?void 0:a.call(o,i)},isActive:()=>r.isActive({align:i})||!1,disabled:!1}}))}function WOe(r){const e=["left","center","right"],n={left:"AlignLeft",center:"AlignCenter",right:"AlignRight"};return e.map(i=>({type:`image-${i}`,component:ft,componentProps:{tooltip:An.t(`editor.textalign.${i}.tooltip`),icon:n[i],action:()=>{var o,a;return(a=(o=r.commands)==null?void 0:o.setAlignImageGif)==null?void 0:a.call(o,i)},isActive:()=>r.isActive({align:i})||!1,disabled:!1}}))}function VOe(r){const e=["left","center","right"],n={left:"AlignLeft",center:"AlignCenter",right:"AlignRight"};return e.map(i=>({type:`image-${i}`,component:ft,componentProps:{tooltip:An.t(`editor.textalign.${i}.tooltip`),icon:n[i],action:()=>{var o,a;return(a=(o=r.commands)==null?void 0:o.setAlignImageMermaid)==null?void 0:a.call(o,i)},isActive:()=>r.isActive({align:i})||!1,disabled:!1}}))}function qOe(r){const e=["left","center","right"],n={left:"AlignLeft",center:"AlignCenter",right:"AlignRight"};return e.map(i=>({type:`image-${i}`,component:ft,componentProps:{tooltip:An.t(`editor.textalign.${i}.tooltip`),icon:n[i],action:()=>{var o,a;return(a=(o=r.commands)==null?void 0:o.setAlignImageDrawer)==null?void 0:a.call(o,i)},isActive:()=>r.isActive({align:i})||!1,disabled:!1}}))}function GOe(r){return[{type:"flex-start",icon:"AlignLeft",tooltip:"Align left"},{type:"center",icon:"AlignCenter",tooltip:"Align center"},{type:"flex-end",icon:"AlignRight",tooltip:"Align right"}].map(e=>({type:`video-align-${e.type}`,component:ft,componentProps:{tooltip:e.tooltip,icon:e.icon,action:()=>r.commands.updateVideo({align:e.type}),isActive:()=>r.getAttributes("video").align===e.type}}))}function KOe(r){const e=["size-small","size-medium","size-large"],n=["SizeS","SizeM","SizeL"];return e.map((i,o)=>({type:`video-${i}`,component:ft,componentProps:{tooltip:An.t(`editor.${i.replace("-",".")}.tooltip`),icon:n[o],action:()=>r.commands.updateVideo({width:Y4[i]}),isActive:()=>r.isActive("video",{width:Y4[i]})}}))}function XOe(r){return[{type:"flipX",component:ft,componentProps:{editor:r,tooltip:An.t("editor.tooltip.flipX"),icon:"FlipX",action:()=>{const e=r.getAttributes("image"),{flipX:n}=e;r.chain().focus(void 0,{scrollIntoView:!1}).updateImage({flipX:!n}).run()}}},{type:"flipY",component:ft,componentProps:{editor:r,tooltip:An.t("editor.tooltip.flipY"),icon:"FlipY",action:()=>{const e=r.getAttributes("image"),{flipY:n}=e;r.chain().focus(void 0,{scrollIntoView:!1}).updateImage({flipY:!n}).run()}}},...jOe(r),...HOe(r),{type:"remove",component:ft,componentProps:{editor:r,tooltip:An.t("editor.remove"),icon:"Trash2",action:()=>{const{state:e,dispatch:n}=r.view;Gd(e,n)}}}]}function YOe(r){return[...FOe(r),...WOe(r),{type:"remove",component:ft,componentProps:{editor:r,tooltip:An.t("editor.remove"),icon:"Trash2",action:()=>{const{state:e,dispatch:n}=r.view;Gd(e,n)}}}]}function ZOe(r){return[...VOe(r),{type:"edit",component:ft,componentProps:{editor:r,tooltip:An.t("editor.edit"),icon:"Pencil",action:()=>!0}},{type:"remove",component:ft,componentProps:{editor:r,tooltip:An.t("editor.remove"),icon:"Trash2",action:()=>{const{state:e,dispatch:n}=r.view;Gd(e,n)}}}]}function JOe(r){return[...qOe(r),{type:"edit",component:ft,componentProps:{editor:r,tooltip:An.t("editor.edit"),icon:"Pencil",action:()=>(console.log("AAA"),!0)}},{type:"remove",component:ft,componentProps:{editor:r,tooltip:An.t("editor.remove"),icon:"Trash2",action:()=>{const{state:e,dispatch:n}=r.view;Gd(e,n)}}}]}function QOe(r){return[...KOe(r),...GOe(r),{type:"remove",component:ft,componentProps:{editor:r,tooltip:An.t("editor.remove"),icon:"Trash2",action:()=>{const{state:e,dispatch:n}=r.view;Gd(e,n)}}}]}function ePe(r,e){return qke.reduce((n,i)=>{if(i==="divider"&&n.length>0)return[...n,{type:"divider",component:void 0,componentProps:{}}];const o=r.extensionManager.extensions.find(a=>a.name===i);return o?[...n,o.configure().options.button({editor:r,t:e,extension:o})]:n},[])}function KN(r,e,n){const i=[],o=r.node(0);n=typeof n=="number"&&n>=0?n:r.sameParent(e)?Math.max(0,r.sharedDepth(e.pos)-1):r.sharedDepth(e.pos);const a=new Zy(r,e,n),s=a.depth===0?0:o.resolve(a.start).posAtIndex(0);return a.parent.forEach((l,c)=>{const u=s+c,d=u+l.nodeSize;if(u<a.start||u>=a.end)return;const h=new MR(o.resolve(u),o.resolve(d));i.push(h)}),i}let tPe=class Gse{constructor(e,n){ED(this,"anchor"),ED(this,"head"),this.anchor=e,this.head=n}map(e){return new Gse(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),i=e.resolve(this.head);return new Kse(n,i)}},Kse=class Zu extends Xt{constructor(e,n,i,o=1){const{doc:a}=e,s=e===n,l=e.pos===a.content.size&&n.pos===a.content.size,c=s&&!l?a.resolve(n.pos+(o>0?1:-1)):n,u=s&&l?a.resolve(e.pos-(o>0?1:-1)):e,d=KN(u.min(c),u.max(c),i);super(c.pos>=e.pos?d[0].$from:d[d.length-1].$to,c.pos>=e.pos?d[d.length-1].$to:d[0].$from,d),ED(this,"depth"),this.depth=i}get $to(){return this.ranges[this.ranges.length-1].$to}eq(e){return e instanceof Zu&&e.$from.pos===this.$from.pos&&e.$to.pos===this.$to.pos}map(e,n){const i=e.resolve(n.map(this.anchor)),o=e.resolve(n.map(this.head));return new Zu(i,o)}toJSON(){return{type:"nodeRange",anchor:this.anchor,head:this.head}}get isForwards(){return this.head>=this.anchor}get isBackwards(){return!this.isForwards}extendBackwards(){const{doc:e}=this.$from;if(this.isForwards&&this.ranges.length>1){const o=this.ranges.slice(0,-1),a=o[0].$from,s=o[o.length-1].$to;return new Zu(a,s,this.depth)}const n=this.ranges[0],i=e.resolve(Math.max(0,n.$from.pos-1));return new Zu(this.$anchor,i,this.depth)}extendForwards(){const{doc:e}=this.$from;if(this.isBackwards&&this.ranges.length>1){const o=this.ranges.slice(1),a=o[0].$from,s=o[o.length-1].$to;return new Zu(s,a,this.depth)}const n=this.ranges[this.ranges.length-1],i=e.resolve(Math.min(e.content.size,n.$to.pos+1));return new Zu(this.$anchor,i,this.depth)}static fromJSON(e,n){return new Zu(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,i,o,a=1){return new this(e.resolve(n),e.resolve(i),o,a)}getBookmark(){return new tPe(this.anchor,this.head)}};function nPe(r){const e=r.cloneNode(!0),n=[r,...Array.from(r.getElementsByTagName("*"))],i=[e,...Array.from(e.getElementsByTagName("*"))];return n.forEach((o,a)=>{i[a].style.cssText=function(s){let l="";const c=getComputedStyle(s);for(let u=0;u<c.length;u+=1)l+=`${c[u]}:${c.getPropertyValue(c[u])};`;return l}(o)}),e}function _w(r,e){return window.getComputedStyle(r)[e]}function rPe(r=0,e=0,n=0){return Math.min(Math.max(r,e),n)}function qF(r){r.parentNode!==null&&r.parentNode!==void 0&&r.parentNode.removeChild(r)}function Xse(r){const{x:e,y:n,direction:i,editor:o}=r;let a=null,s=null,l=null,c=e;for(;s===null&&c<window.innerWidth&&c>0;){const u=document.elementsFromPoint(c,n),d=u.findIndex(f=>f.classList.contains("ProseMirror")),h=u.slice(0,d);if(h.length>0){const f=h[0];if(a=f,l=o.view.posAtDOM(f,0),l>=0){s=o.state.doc.nodeAt(Math.max(l-1,0)),(s===null||s.isText)&&(s=o.state.doc.nodeAt(Math.max(l-1,0))),s||(s=o.state.doc.nodeAt(Math.max(l,0)));break}}i==="left"?c-=1:c+=1}return{resultElement:a,resultNode:s,pos:l!==null?l:null}}function iPe(r,e){const{doc:n}=e.view.state,i=Xse({editor:e,x:r.clientX,y:r.clientY,direction:"right"});if(!i.resultNode||i.pos===null)return[];const o=r.clientX,a=function(d,h,f){const m=Number.parseInt(_w(d.dom,"paddingLeft"),10),b=Number.parseInt(_w(d.dom,"paddingRight"),10),g=Number.parseInt(_w(d.dom,"borderLeftWidth"),10),v=Number.parseInt(_w(d.dom,"borderLeftWidth"),10),x=d.dom.getBoundingClientRect();return{left:rPe(h,x.left+m+g,x.right-b-v),top:f}}(e.view,o,r.clientY),s=e.view.posAtCoords(a);if(!s)return[];const{pos:l}=s;if(!n.resolve(l).parent)return[];const c=n.resolve(i.pos),u=n.resolve(i.pos+1);return KN(c,u,0)}function GF(r,e){const n=r.resolve(e),{depth:i}=n;return i===0?e:n.pos-n.parentOffset-1}function KF(r,e){const n=r.nodeAt(e),i=r.resolve(e);let{depth:o}=i,a=n;for(;o>0;){const s=i.node(o);o-=1,o===0&&(a=s)}return a}function XF(r,e){let n=e;for(;n&&n.parentNode&&n.parentNode!==r.dom;)n=n.parentNode;return n}const Yse=new Ln("dragHandle");function oPe({pluginKey:r=Yse,element:e,editor:n,tippyOptions:i,onNodeChange:o}){const a=document.createElement("div");let s=null,l=!1,c=null,u=-1;return e.addEventListener("dragstart",d=>{const{view:h}=n;if(!d.dataTransfer)return;const{empty:f,$from:m,$to:b}=h.state.selection,g=iPe(d,n),v=KN(m,b,0),x=v.some(O=>g.find(W=>W.$from===O.$from&&W.$to===O.$to)),w=f||!x?g:v;if(w.length===0)return;const{tr:k}=h.state,T=document.createElement("div"),_=w[0].$from.pos,D=w[w.length-1].$to.pos,I=Kse.create(h.state.doc,_,D),L=I.content();w.forEach(O=>{const W=nPe(h.nodeDOM(O.$from.pos));T.append(W)}),T.style.position="absolute",T.style.top="-10000px",document.body.append(T),d.dataTransfer.clearData(),d.dataTransfer.setDragImage(T,0,0),h.dragging={slice:L,move:!0},k.setSelection(I),h.dispatch(k),document.addEventListener("drop",()=>qF(T),{once:!0}),setTimeout(()=>{e&&(e.style.pointerEvents="none")},0)}),e.addEventListener("dragend",()=>{e&&(e.style.pointerEvents="auto")}),new $n({key:typeof r=="string"?new Ln(r):r,state:{init:()=>({locked:!1}),apply(d,h){const f=d.getMeta("lockDragHandle"),m=d.getMeta("hideDragHandle");if(f!==void 0&&(l=f),m&&s)return s.hide(),l=!1,c=null,u=-1,o==null||o({editor:n,node:null,pos:-1}),h;if(d.docChanged&&u!==-1&&e&&s){const b=d.mapping.map(u);b!==u&&(u=b)}return h}},view:d=>{return h(),f(n.view.dom),s=eu(d.dom,{...m(),...i}),{update(T,_){if(!b(e,s)||(e.draggable=!l,!g(T,_)))return;const D=v(T);D&&x(T,D)},destroy(){k()}};function h(){e.draggable=!0,e.style.pointerEvents="auto"}function f(T){var _;(_=T.parentElement)==null||_.appendChild(a),a.appendChild(e),Object.assign(a.style,{pointerEvents:"none",position:"absolute",top:"0",left:"0"})}function m(){return{getReferenceClientRect:null,interactive:!0,trigger:"manual",placement:"left-start",hideOnClick:!1,duration:100,zIndex:10,appendTo:a,content:e,popperOptions:{modifiers:[{name:"flip",enabled:!1},{name:"preventOverflow",options:{rootBoundary:"document",mainAxis:!1}}]}}}function b(T,_){return T&&_}function g(T,_){return!T.state.doc.eq(_.doc)&&u!==-1}function v(T){let _=T.nodeDOM(u);return _=XF(T,_),_===T.dom||(_==null?void 0:_.nodeType)!==1?null:_}function x(T,_){const D=T.posAtDOM(_,0),I=KF(n.state.doc,D);if(I===c)return;const L=GF(n.state.doc,D);c=I,u=L,o==null||o({editor:n,node:c,pos:u}),w(_)}function w(T){s.setProps({getReferenceClientRect:()=>T.getBoundingClientRect()}),s.show()}function k(){s==null||s.destroy(),e&&qF(a)}},props:{handleDOMEvents:{mouseleave:(d,h)=>{if(l||!f(h))return!1;return m(),b(),!1;function f(g){return g.target&&!a.contains(g.relatedTarget)}function m(){s==null||s.hide()}function b(){c=null,u=-1,o==null||o({editor:n,node:null,pos:-1})}},mousemove:xv((d,h)=>{if(!e||!s||l)return!1;const f=Xse({x:h.clientX,y:h.clientY,direction:"right",editor:n});if(!f.resultElement||f.resultElement===d.dom)return!1;const m=XF(d,f.resultElement);if(m===d.dom||(m==null?void 0:m.nodeType)!==1)return!1;const b=d.posAtDOM(m,0),g=KF(n.state.doc,b);if(g===c)return!1;const v=GF(n.state.doc,b);return c=g,u=v,o==null||o({editor:n,node:c,pos:u}),s.setProps({getReferenceClientRect:()=>m.getBoundingClientRect()}),s.show(),!1},100)}}})}var of=(r=>(r[r.max=7]="max",r[r.min=0]="min",r[r.more=1]="more",r[r.less=-1]="less",r))(of||{});function aPe(r,e,n){return r<e?e:r>n?n:r}function sPe(r,e,n,i){const{doc:o,selection:a}=r;if(!o||!a||!(a instanceof Ht||a instanceof Cs))return r;const{from:s,to:l}=a;return o.nodesBetween(s,l,(c,u)=>{const d=c.type;return n.includes(d.name)?(r=zD(r,u,e),!1):!eD(c.type.name,i.extensionManager.extensions)}),r}function zD(r,e,n){if(!r.doc)return r;const i=r.doc.nodeAt(e);if(!i)return r;const o=aPe((i.attrs.indent||0)+n,0,7);if(o===i.attrs.indent)return r;const a={...i.attrs,indent:o};return r.setNodeMarkup(e,i.type,a,i.marks)}function YF({delta:r,types:e}){return({state:n,dispatch:i,editor:o})=>{const{selection:a}=n;let{tr:s}=n;return s=s.setSelection(a),s=sPe(s,r,e,o),s.docChanged?(i&&i(s),!0):!1}}function lPe(r){var e,n,i;const{pluginKey:o=Yse}=r,{t:a}=Cn(),[s,l]=P.useState(null),[c,u]=P.useState(-1),d=P.useRef(null),h=P.useRef(null),[f,m]=P.useState(!1),b=r.editor.extensionManager.extensions.some(Z=>Z.name==="textAlign"),g=r.editor.extensionManager.extensions.some(Z=>Z.name==="indent"),v=r.editor.extensionManager.extensions.some(Z=>Z.name==="clear");P.useEffect(()=>{d.current&&!r.editor.isDestroyed&&(h.current=oPe({editor:r.editor,element:d.current,pluginKey:"ContentItemMenu",tippyOptions:{offset:[-2,16],zIndex:99,moveTransition:"transform 0.15s ease-out"},onNodeChange:L}),r.editor.registerPlugin(h.current))},[r.editor,d]);function x(){const Z=r.editor.chain();Z.setNodeSelection(c).unsetAllMarks(),(s==null?void 0:s.type.name)!=="paragraph"&&Z.setParagraph(),Z.run()}function w(){r.editor.chain().focus().setNodeSelection(c).run(),document.execCommand("copy")}function k(){r.editor.commands.setNodeSelection(c);const{$anchor:Z}=r.editor.state.selection,$=Z.node(1)||r.editor.state.selection.node;r.editor.chain().setMeta("hideDragHandle",!0).insertContentAt(c+((s==null?void 0:s.nodeSize)||0),$.toJSON()).run()}function T(Z){r.editor.commands.setTextAlign(Z)}function _(){const Z=zD(r.editor.state.tr,c,1);Z.setMeta("hideDragHandle",!0),r.editor.view.dispatch&&r.editor.view.dispatch(Z)}function D(){const Z=zD(r.editor.state.tr,c,-1);r.editor.view.dispatch&&r.editor.view.dispatch(Z)}function I(){r.editor.chain().setMeta("hideDragHandle",!0).setNodeSelection(c).deleteSelection().run()}function L(Z){Z.node&&l(Z.node),u(Z.pos)}function O(){var Z;if(c!==-1){const $=(s==null?void 0:s.nodeSize)||0,F=c+$,A=(s==null?void 0:s.type.name)==="paragraph"&&((Z=s==null?void 0:s.content)==null?void 0:Z.size)===0,Q=A?c+2:F+2;r.editor.chain().command(({dispatch:H,tr:G,state:ne})=>H?(A?G.insertText("/",c,c+1):G.insert(F,ne.schema.nodes.paragraph.create(null,[ne.schema.text("/")])),H(G)):!0).focus(Q).run()}}P.useEffect(()=>(f?r.editor.commands.setMeta("lockDragHandle",!0):r.editor.commands.setMeta("lockDragHandle",!1),()=>{r.editor.commands.setMeta("lockDragHandle",!1)}),[f]),P.useEffect(()=>()=>{h.current&&(r.editor.unregisterPlugin(o),h.current=null)},[]),P.useEffect(()=>{var Z;(Z=r.editor)!=null&&Z.isDestroyed&&h.current&&(r.editor.unregisterPlugin(o),h.current=null)},[(e=r.editor)==null?void 0:e.isDestroyed]);const W=Z=>{r!=null&&r.disabled||m(Z)};return E.jsx("div",{ref:d,className:`drag-handle richtext-duration-200 richtext-ease-in-out [transition-property:top,_left] ${r==null?void 0:r.className}`,style:{opacity:r!=null&&r.disabled?0:1},children:E.jsxs("div",{className:"richtext-flex richtext-items-center richtext-gap-0.5 richtext-duration-200 richtext-ease-in-out [transition-property:top,_left]",children:[E.jsx(Nn,{className:"!richtext-size-7 richtext-cursor-grab",disabled:r==null?void 0:r.disabled,onClick:O,size:"icon",type:"button",variant:"ghost",children:E.jsx(wn,{className:"richtext-text-lg richtext-text-neutral-600 dark:richtext-text-neutral-200",name:"Plus"})}),E.jsxs(cp,{onOpenChange:W,open:f,children:[E.jsxs("div",{className:"richtext-relative richtext-flex richtext-flex-col",children:[E.jsxs(ig,{children:[E.jsx(og,{asChild:!0,disabled:r==null?void 0:r.disabled,children:E.jsx(Nn,{className:"richtext-relative richtext-z-[1] !richtext-size-7 richtext-cursor-grab",disabled:r==null?void 0:r.disabled,size:"icon",type:"button",variant:"ghost",onMouseUp:Z=>{Z.preventDefault(),!(r!=null&&r.disabled)&&m(!0)},children:E.jsx(wn,{className:"richtext-text-sm richtext-text-neutral-600 dark:richtext-text-neutral-200",name:"Grip"})})}),E.jsx(hp,{children:a("editor.draghandle.tooltip")})]}),E.jsx(up,{className:"richtext-absolute richtext-left-0 richtext-top-0 richtext-z-0 richtext-size-[28px]"})]}),E.jsxs(th,{align:"start",className:"richtext-w-48",side:"bottom",sideOffset:0,children:[E.jsxs(Gs,{className:"richtext-flex richtext-gap-3 richtext-bg-opacity-10 hover:richtext-bg-red-400 hover:richtext-bg-opacity-20 focus:richtext-bg-red-400 focus:richtext-bg-opacity-30 focus:richtext-text-red-500 dark:hover:richtext-bg-opacity-20 dark:hover:richtext-text-red-500",onClick:I,children:[E.jsx(wn,{name:"Trash2"}),E.jsx("span",{children:a("editor.remove")})]}),v?E.jsxs(Gs,{className:"richtext-flex richtext-gap-3",onClick:x,children:[E.jsx(wn,{name:"PaintRoller"}),E.jsx("span",{children:a("editor.clear.tooltip")})]}):null,E.jsxs(Gs,{className:"richtext-flex richtext-gap-3",onClick:w,children:[E.jsx(wn,{name:"Clipboard"}),E.jsx("span",{children:a("editor.copyToClipboard")})]}),E.jsxs(Gs,{className:"richtext-flex richtext-gap-3",onClick:k,children:[E.jsx(wn,{name:"Copy"}),E.jsx("span",{children:a("editor.copy")})]}),b||g?E.jsx(DS,{}):null,b?E.jsxs(tH,{children:[E.jsxs(UD,{className:"richtext-flex richtext-gap-3",children:[E.jsx(wn,{name:"AlignCenter"}),E.jsx("span",{children:a("editor.textalign.tooltip")})]}),E.jsx(eH,{children:E.jsxs(BD,{children:[E.jsxs(Gs,{className:"richtext-flex richtext-gap-3",onClick:()=>T("left"),children:[E.jsx(wn,{name:"AlignLeft"}),E.jsx("span",{children:a("editor.textalign.left.tooltip")})]}),E.jsxs(Gs,{className:"richtext-flex richtext-gap-3",onClick:()=>T("center"),children:[E.jsx(wn,{name:"AlignCenter"}),E.jsx("span",{children:a("editor.textalign.center.tooltip")})]}),E.jsxs(Gs,{className:"richtext-flex richtext-gap-3",onClick:()=>T("right"),children:[E.jsx(wn,{name:"AlignRight"}),E.jsx("span",{children:a("editor.textalign.right.tooltip")})]})]})})]}):null,g?E.jsxs(tH,{children:[E.jsxs(UD,{className:"richtext-flex richtext-gap-3",children:[E.jsx(wn,{name:"IndentIncrease"}),E.jsx("span",{children:a("editor.indent")})]}),E.jsx(eH,{children:E.jsxs(BD,{children:[E.jsxs(Gs,{className:"richtext-flex richtext-gap-3",disabled:((n=s==null?void 0:s.attrs)==null?void 0:n.indent)>=of.max,onClick:_,children:[E.jsx(wn,{name:"IndentIncrease"}),E.jsx("span",{children:a("editor.indent.tooltip")})]}),E.jsxs(Gs,{className:"richtext-flex richtext-gap-3",disabled:((i=s==null?void 0:s.attrs)==null?void 0:i.indent)<=of.min,onClick:D,children:[E.jsx(wn,{name:"IndentDecrease"}),E.jsx("span",{children:a("editor.outdent.tooltip")})]})]})})]}):null]})]})]})})}const cPe={maxWidth:"auto",zIndex:20,appendTo:"parent",moveTransition:"transform 0.1s ease-out"};function uPe({item:r,disabled:e,editor:n}){var i;const o=r.component;return o?E.jsx(o,{...r.componentProps,disabled:e||((i=r==null?void 0:r.componentProps)==null?void 0:i.disabled),editor:n}):E.jsx(E.Fragment,{})}function dPe(r){const{t:e,lang:n}=Cn(),i=({editor:a})=>{const{selection:s}=a.view.state,{$from:l,to:c}=s;return l.pos===c?!1:s instanceof Ht},o=P.useMemo(()=>r.disabled||!(r!=null&&r.editor)?[]:ePe(r.editor,e),[r.disabled,r.editor,n,e]);return E.jsx(va,{editor:r==null?void 0:r.editor,shouldShow:i,tippyOptions:cPe,children:o!=null&&o.length?E.jsx("div",{className:"richtext-pointer-events-auto richtext-w-auto richtext-select-none richtext-rounded-sm !richtext-border richtext-border-neutral-200 richtext-bg-background richtext-px-3 richtext-py-2 richtext-shadow-sm richtext-transition-all dark:richtext-border-neutral-800",children:E.jsx("div",{className:"richtext-relative richtext-flex richtext-h-[26px] richtext-flex-nowrap richtext-items-center richtext-justify-start richtext-gap-[4px] richtext-whitespace-nowrap",children:o==null?void 0:o.map((a,s)=>(a==null?void 0:a.type)==="divider"?E.jsx(Ya,{className:"!richtext-mx-1 !richtext-my-2 !richtext-h-[16px]",orientation:"vertical"},`bubbleMenu-divider-${s}`):E.jsx(uPe,{disabled:r.disabled,editor:r.editor,item:a},`bubbleMenu-text-${s}`))})}):E.jsx(E.Fragment,{})})}function hPe(r){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...r,children:E.jsx("path",{fill:"currentColor",d:"M19 12h-2v3h-3v2h5zM7 9h3V7H5v5h2zm14-6H3a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m0 16H3V5h18z"})})}function fPe(r){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...r,children:E.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 15h15m0 4H6m9-8h6m0-4h-6M9 9h1a1 1 0 1 1-1 1V7.5a2 2 0 0 1 2-2M3 9h1a1 1 0 1 1-1 1V7.5a2 2 0 0 1 2-2"})})}function pPe(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",className:"richtext-w-4 richtext-h-4",width:"1em",height:"1em",viewBox:"0 0 24 24",children:E.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M5.5 3c1.404 0 2.107 0 2.611.38c.219.164.406.375.552.62C9 4.568 9 5.358 9 6.938v10.125c0 1.58 0 2.37-.337 2.937a2.1 2.1 0 0 1-.552.621c-.504.38-1.207.38-2.611.38s-2.107 0-2.611-.38a2.1 2.1 0 0 1-.552-.62C2 19.432 2 18.642 2 17.062V6.938c0-1.58 0-2.37.337-2.938a2.1 2.1 0 0 1 .552-.62C3.393 3 4.096 3 5.5 3M20 11.938v5.124c0 1.58 0 2.37-.337 2.938a2.1 2.1 0 0 1-.552.62c-.504.38-1.207.38-2.611.38s-2.107 0-2.611-.38a2.1 2.1 0 0 1-.552-.62C13 19.433 13 18.642 13 17.063V6.938c0-1.58 0-2.37.337-2.938M22 9l-6-6m6 0l-6 6",color:"currentColor"})})}function mPe(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",className:"richtext-w-4 richtext-h-4",width:"1em",height:"1em",viewBox:"0 0 24 24",children:E.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M21 18.5c0 1.404 0 2.107-.38 2.611a2.1 2.1 0 0 1-.62.552c-.567.337-1.358.337-2.937.337H6.938c-1.58 0-2.37 0-2.938-.337a2.1 2.1 0 0 1-.62-.552C3 20.607 3 19.904 3 18.5s0-2.107.38-2.611c.163-.218.374-.406.62-.552C4.567 15 5.357 15 6.938 15h10.125c1.58 0 2.37 0 2.937.337c.246.146.457.334.62.552c.38.504.38 1.207.38 2.611M12.063 4H6.937C5.358 4 4.568 4 4 4.337a2.1 2.1 0 0 0-.62.552C3 5.393 3 6.096 3 7.5s0 2.107.38 2.611c.163.218.374.406.62.552C4.567 11 5.357 11 6.938 11h10.125c1.58 0 2.37 0 2.937-.337M21 8l-6-6m6 0l-6 6",color:"currentColor"})})}function gPe(r){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...r,children:E.jsx("path",{fill:"currentColor",d:"M14 2H6a2 2 0 0 0-2 2v16c0 1.11.89 2 2 2h12c1.11 0 2-.89 2-2V8zm4 18H6V4h7v5h5zm-.65-10l-2.1 9h-1.4l-1.8-6.79l-1.8 6.79h-1.4l-2.2-9h1.5l1.4 6.81l1.8-6.81h1.3l1.8 6.81l1.4-6.81z"})})}function wn(r){const e=wv[r.name];return e?E.jsx(e,{onClick:r==null?void 0:r.onClick,className:`richtext-w-4 richtext-h-4 ${(r==null?void 0:r.className)||""}`}):null}function yPe(r){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...r,children:E.jsx("path",{fill:"currentColor",d:"M21 22H3v-2h18zm0-18H3V2h18zm-11 9.7h4l-2-5.4zM11.2 6h1.7l4.7 12h-2l-.9-2.6H9.4L8.5 18h-2z"})})}function Zse(r){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",width:"1em",height:"1em",viewBox:"0 0 48 48",...r,children:E.jsx("path",{fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:4,d:"M36 19L24 31L12 19z"})})}function bPe(r){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...r,children:E.jsx("path",{fill:"currentColor",d:"M9 7v10h6v-2h-4V7z"})})}function vPe(r){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...r,children:E.jsx("path",{fill:"currentColor",d:"M9 7c-1.1 0-2 .9-2 2v8h2V9h2v7h2V9h2v8h2V9a2 2 0 0 0-2-2z"})})}function xPe(r){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...r,children:E.jsx("path",{fill:"currentColor",d:"M11 7c-1.1 0-2 .9-2 2v2a2 2 0 0 0 2 2h2v2H9v2h4c1.11 0 2-.89 2-2v-2a2 2 0 0 0-2-2h-2V9h4V7z"})})}function wPe(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",children:E.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 4h4a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1m-9 8h4m-2-2v4"})})}function SPe(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",children:E.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 4h4a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1m9 8h4m-2-2v4"})})}function kPe(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",children:E.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 21v-4m0-4V9m0-4V3m-2 18h4M8 5v4h11l2-2l-2-2zm6 8v4H6l-2-2l2-2z"})})}function TPe(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",children:E.jsx("path",{fill:"currentColor",d:"M23.943 19.806a.2.2 0 0 0-.168-.034c-1.26-1.855-2.873-3.61-4.419-5.315l-.252-.284c-.001-.073-.067-.12-.134-.15l-.084-.084c-.05-.1-.169-.167-.286-.1c-.47.234-.907.585-1.327.919c-.554.434-1.109.87-1.63 1.354a5 5 0 0 0-.588.618c-.084.117-.017.217.084.267c-.37.368-.74.736-1.109 1.12a.2.2 0 0 0-.05.134c0 .05.033.1.067.117l.655.502v.016c.924.92 2.554 2.173 4.285 3.527c.251.201.52.402.773.602c.117.134.234.285.335.418c.05.066.169.084.236.033c.033.034.084.067.118.1a.24.24 0 0 0 .1.034a.15.15 0 0 0 .135-.066a.24.24 0 0 0 .033-.1c.017 0 .017.016.034.016a.2.2 0 0 0 .134-.05l3.058-3.327c.12-.116.014-.267 0-.267m-7.628-.134l-1.546-1.17l-.15-.1c-.035-.017-.068-.05-.102-.067l-.117-.1c.66-.66 1.33-1.308 2-1.956c-.488.484-1.463 1.906-1.261 2.373c.002 0 .018.042.067.084zm4.1 3.126l-1.277-.97a27 27 0 0 0-1.58-1.504c.69.518 1.277.97 1.361 1.053c.673.585.638.485 1.093.87l.554.4c-.074.103-.151.148-.151.151m.336.25l-.034-.016a1 1 0 0 0 .152-.117zM.588 3.476c.033.217.084.435.117.636c.201 1.103.403 2.106.772 2.858l.152.568c.05.217.134.485.219.552a67 67 0 0 0 3.578 2.942a.18.18 0 0 0 .219 0s0 .016.016.016a.15.15 0 0 0 .118.05a.2.2 0 0 0 .134-.05c1.798-1.989 3.142-3.627 4.1-4.998c.068-.066.084-.167.084-.25c.067-.067.118-.151.185-.201c.067-.067.067-.184 0-.235l-.017-.016c0-.033-.017-.084-.05-.1c-.42-.401-.722-.685-1.042-.986a94 94 0 0 1-2.352-2.273c-.017-.017-.034-.034-.067-.034c-.336-.117-1.025-.234-1.882-.385c-1.277-.216-3.008-.517-4.57-.986c0 0-.101 0-.118.017l-.05.05C.05.714.022.707 0 .718c.017.1.017.167.05.284c0 .033.068.301.068.334zm7.19 4.78l-.033.034a.036.036 0 0 1 .033-.034M6.553 2.238c.101.1.521.502.622.585c-.437-.2-1.529-.702-2.034-.869c.505.1 1.194.201 1.412.284M.79 1.403c.252.434.454 1.939.655 3.41c-.118-.469-.201-.936-.302-1.372C.992 2.673.84 1.988.638 1.386c.124 0 .152.021.152.017m-.286-.369c0-.016 0-.033-.017-.033c.085 0 .135.017.202.05c0 .006-.145-.017-.185-.017m23.17-.217c.017-.066-.336-.367-.219-.384c.253-.017.253-.401 0-.401c-.335.017-.688.1-1.008.15c-.587.117-1.192.234-1.78.367a80 80 0 0 0-3.949.937c-.403.117-.857.2-1.243.401c-.135.067-.118.2-.05.284c-.034.017-.051.017-.085.034c-.117.017-.218.034-.335.05c-.102.017-.152.1-.135.2c0 .017.017.05.017.067c-.706.936-1.496 1.923-2.353 2.976c-.84.969-1.73 1.989-2.62 3.042c-2.84 3.31-6.05 7.07-9.594 10.38a.16.16 0 0 0 0 .234c.016.016.033.033.05.033c-.05.05-.101.085-.152.134q-.05.05-.05.1a.4.4 0 0 0-.067.084c-.067.067-.067.184.017.234c.067.066.185.066.235-.017c.017-.017.017-.033.033-.033a.265.265 0 0 1 .37 0c.202.217.404.435.588.618l-.42-.35c-.067-.067-.184-.05-.234.016c-.068.066-.051.184.016.234l4.469 3.727c.034.034.067.034.118.034a.15.15 0 0 0 .117-.05l.101-.1c.017.016.05.016.067.016c.05 0 .084-.016.118-.05c6.049-6.05 10.922-10.614 16.5-14.693c.05-.033.067-.1.067-.15c.067 0 .118-.05.15-.117c1.026-3.125 1.228-5.9 1.295-7.27c0-.059.016-.038.016-.068c.017-.033.017-.05.017-.05a.98.98 0 0 0-.067-.619m-10.82 4.915c.268-.301.537-.619.806-.903c-1.73 2.273-4.603 5.767-8.67 9.929c2.773-3.059 5.562-6.218 7.864-9.026M5.14 23.466c-.016-.017-.016-.017 0-.017zm2.504-2.156c.135-.15.27-.284.42-.434c0 0 0 .016.017.016c-.224.198-.433.418-.437.418m.69-.668c.099-.1.14-.173.284-.318c.992-1.02 2.017-2.04 3.059-3.076l.016-.016c.252-.2.555-.418.824-.619a228 228 0 0 0-4.184 4.029M14.852 3.91c-.554.719-1.176 1.671-1.697 2.423c-1.646 2.374-6.94 8.174-7.057 8.274a1190 1190 0 0 1-4.839 4.597l-.1.1c-.085-.1-.085-.25.016-.334C8.652 11.966 13.19 6.133 15.021 3.576c-.05.116-.084.216-.168.334zm2.906 3.427c-.671-.386-.99-.987-.806-1.572l.05-.2a.8.8 0 0 1 .085-.167a1.9 1.9 0 0 1 .756-.703c.016 0 .033 0 .05-.016c-.017-.034-.017-.084-.017-.134c.017-.1.085-.167.202-.167c.202 0 .824.184 1.059.384c.067.05.134.117.202.184c.084.1.218.268.285.401c.034.017.067.184.118.268c.033.134.067.284.05.418c-.017.016 0 .116-.017.116a1.6 1.6 0 0 1-.218.619c-.03.03.006.012-.05.067a1.2 1.2 0 0 1-.32.334a1.49 1.49 0 0 1-1.26.234a2 2 0 0 0-.169-.066m4.37 1.403c0 .017-.017.05 0 .067c-.034 0-.05.017-.085.034a110 110 0 0 0-3.915 3.025c1.11-.986 2.218-1.989 3.378-2.975c.336-.301.571-.686.638-1.12l.168-1.003v-.033c.085-.201.404-.118.353.1c-.004-.001-.173.795-.537 1.905"})})}function Jse(){return E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 32 32",children:[E.jsx("path",{fill:"currentColor",d:"M30 18v-2h-6v10h2v-4h3v-2h-3v-2zm-11 8h-4V16h4a3.003 3.003 0 0 1 3 3v4a3.003 3.003 0 0 1-3 3m-2-2h2a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-2zm-6-8H6v10h2v-3h3a2.003 2.003 0 0 0 2-2v-3a2 2 0 0 0-2-2m-3 5v-3h3l.001 3z"}),E.jsx("path",{fill:"currentColor",d:"M22 14v-4a.91.91 0 0 0-.3-.7l-7-7A.9.9 0 0 0 14 2H4a2.006 2.006 0 0 0-2 2v24a2 2 0 0 0 2 2h16v-2H4V4h8v6a2.006 2.006 0 0 0 2 2h6v2Zm-8-4V4.4l5.6 5.6Z"})]})}function Qse(){return E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",className:"icon",viewBox:"0 0 1024 1024",children:[E.jsx("path",{fill:"currentColor",d:"M679.253 402.364 618.77 561.015l-60.348-158.651a30.04 30.04 0 0 0-30.447-18.637 29.76 29.76 0 0 0-30.447 18.637l-60.416 158.651-60.416-158.651a30.515 30.515 0 0 0-38.843-17.272 28.945 28.945 0 0 0-17.954 37.547l88.815 233.267c4.369 11.469 15.7 19.115 28.398 19.115a30.31 30.31 0 0 0 28.468-19.115l62.395-163.908 62.396 163.84c4.437 11.605 15.701 19.183 28.4 19.183a30.31 30.31 0 0 0 28.466-19.115l88.747-233.267a28.945 28.945 0 0 0-17.886-37.547 30.447 30.447 0 0 0-38.912 17.272zm219.478 395.605-51.883-29.218c-28.672-16.18-52.224-3.072-52.224 29.082v.273H643.209a29.833 29.833 0 0 0-30.31 29.354c0 16.18 13.584 29.218 30.31 29.218h151.825c1.092 30.516 24.03 43.077 52.224 27.648l51.063-27.989c29.013-15.906 29.15-42.189.41-58.368"}),E.jsx("path",{fill:"currentColor",d:"m810.667 913.135-.478.068H201.796c-19.865 0-36.727-11.673-36.727-25.6v-618.36h154.965c51.268 0 92.911-39.39 92.911-87.858v-87.86H810.19c19.797 0 36.522 11.742 36.522 25.669V739.26h61.987V119.262c0-46.421-44.169-84.241-98.51-84.241H328.364l-225.28 194.56v658.09c0 46.285 44.236 84.105 98.713 84.105H810.19c43.759 0 80.554-24.713 93.32-58.573h-92.842zM350.89 94.89v86.562c0 16.11-13.858 29.286-30.925 29.286H216.815L350.959 94.891z"})]})}function EPe(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",children:E.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",color:"currentColor",children:[E.jsx("path",{d:"M14.86 22h-4.312c-3.291 0-4.937 0-6.08-.798a4.2 4.2 0 0 1-.863-.805c-.855-1.066-.855-2.6-.855-5.67v-2.545c0-2.963 0-4.445.473-5.628c.761-1.903 2.37-3.403 4.41-4.113C8.9 2 10.49 2 13.667 2c1.816 0 2.723 0 3.448.252c1.166.406 2.085 1.263 2.52 2.35c.27.676.27 1.523.27 3.216V10"}),E.jsx("path",{d:"M2.75 12c0-1.84 1.506-3.333 3.364-3.333c.672 0 1.464.116 2.117-.057a1.67 1.67 0 0 0 1.19-1.179c.174-.647.057-1.432.057-2.098C9.478 3.493 10.984 2 12.84 2m.002 16h2.523m-4.949-4.15c-.126-.8-.281-.801-1.61-.85h-1.01c-.557 0-1.009.448-1.009 1v3c0 .552.452 1 1.01 1h1.816c.39 0 .803-.313.803-.7v-1.1c0-.11-.113-.304-.224-.304H9.068M12.842 13h1.261m0 0h1.262m-1.262 0v4.875M21.251 13h-2.523c-.557 0-1.009.448-1.009 1v1.5m0 0V18m0-2.5h2.523"})]})})}function CPe(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20",children:E.jsx("path",{fill:"currentColor",d:"M6.5 3a.75.75 0 0 1 .697.471l3 7.5a.75.75 0 0 1-1.393.557L7.992 9.5H5.008l-.811 2.028a.75.75 0 0 1-1.393-.556l3-7.5A.75.75 0 0 1 6.5 3m0 2.77L5.608 8h1.784zm8.28-1.55a.75.75 0 1 0-1.06 1.06l.72.72h-3.69a.75.75 0 0 0 0 1.5h3.69l-.72.72a.75.75 0 0 0 1.06 1.06l2-2a.75.75 0 0 0 0-1.06zm0 7.5a.75.75 0 1 0-1.06 1.06l.72.72H3.75a.75.75 0 0 0 0 1.5h10.69l-.72.72a.75.75 0 1 0 1.06 1.06l2-2a.75.75 0 0 0 0-1.06z"})})}function _Pe(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 48 48",children:E.jsxs("g",{fill:"none",stroke:"currentColor",strokeWidth:"4",children:[E.jsx("circle",{cx:"10",cy:"24",r:"4"}),E.jsx("circle",{cx:"38",cy:"10",r:"4"}),E.jsx("circle",{cx:"38",cy:"24",r:"4"}),E.jsx("circle",{cx:"38",cy:"38",r:"4"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M34 38H22V10h12M14 24h20"})]})})}function APe(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20",children:E.jsx("path",{fill:"currentColor",d:"M13.5 3a.75.75 0 0 0-.697.471l-3 7.5a.75.75 0 0 0 1.393.557l.812-2.028h2.984l.811 2.028a.75.75 0 0 0 1.393-.556l-3-7.5A.75.75 0 0 0 13.5 3m0 2.77L14.392 8h-1.784zM5.22 4.22a.75.75 0 0 1 1.06 1.06L5.56 6h3.69a.75.75 0 0 1 0 1.5H5.56l.72.72a.75.75 0 0 1-1.06 1.06l-2-2a.75.75 0 0 1 0-1.06zm0 7.5a.75.75 0 0 1 1.06 1.06l-.72.72h10.69a.75.75 0 0 1 0 1.5H5.56l.72.72a.75.75 0 1 1-1.06 1.06l-2-2a.75.75 0 0 1 0-1.06z"})})}function DPe(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",children:E.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"m3 21l7.548-7.548M21 3l-7.548 7.548m0 0L8 3H3l7.548 10.452m2.904-2.904L21 21h-5l-5.452-7.548",color:"currentColor"})})}function MPe(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",children:E.jsx("path",{fill:"currentColor",d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6l1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6l-1.4-1.4z"})})}function RPe(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",width:"1em",height:"1em",viewBox:"0 0 24 24",children:E.jsx("path",{fill:"currentColor",d:"M14 2H6a2 2 0 0 0-2 2v16c0 1.11.89 2 2 2h12c1.11 0 2-.89 2-2V8zm4 18H6V4h7v5h5zm-.65-10l-2.1 9h-1.4l-1.8-6.79l-1.8 6.79h-1.4l-2.2-9h1.5l1.4 6.81l1.8-6.81h1.3l1.8 6.81l1.4-6.81z"})})}const wv={Bold:a8e,LoaderCircle:B8e,Italic:I8e,Underline:hEe,Quote:Y8e,TextQuote:fPe,Strikethrough:rEe,Minus:W8e,Eraser:b8e,PaintRoller:V8e,Redo2:Z8e,Undo2:fEe,AlignCenter:VCe,AlignJustify:GCe,AlignLeft:XCe,AlignRight:ZCe,ChevronDown:Y5,Subscript:iEe,Superscript:oEe,Code:f8e,Code2:h8e,Type:dEe,IndentIncrease:P8e,IndentDecrease:O8e,List:U8e,ListOrdered:z8e,ListTodo:L8e,Link:$8e,ImageUp:R8e,Video:lie,Maximize:F8e,Minimize:H8e,Table:cEe,Sparkles:nEe,Pencil:oie,Unlink:pEe,BetweenHorizonalEnd:n8e,BetweenHorizonalStart:r8e,BetweenVerticalStart:o8e,BetweenVerticalEnd:i8e,TableCellsMerge:aEe,TableCellsSplit:sEe,Trash2:sie,Trash:uEe,Replace:jj,ChevronsUpDown:c8e,LineHeight:yPe,Word:gPe,Heading1:E8e,Heading2:C8e,Heading3:_8e,Heading4:A8e,Heading5:D8e,Heading6:M8e,Columns2:Bj,Columns3:p8e,Columns4:m8e,Plus:aie,Grip:T8e,Copy:g8e,Clipboard:d8e,PanelLeft:q8e,PanelRight:G8e,Columns:Bj,Iframe:k8e,MenuDown:Zse,SizeS:xPe,SizeM:vPe,SizeL:bPe,AspectRatio:hPe,Emoji:Fj,DeleteColumn:pPe,DeleteRow:mPe,SearchAndReplace:jj,EmojiIcon:Fj,KatexIcon:tEe,ExportPdf:Jse,ExportWord:Qse,ImportWord:RPe,ColumnAddLeft:wPe,ColumnAddRight:SPe,BookMarked:s8e,Excalidraw:TPe,ZoomIn:gEe,ZoomOut:yEe,Settings:Q8e,Eye:v8e,TextDirection:kPe,LeftToRight:CPe,RightToLeft:APe,Attachment:K8e,GifIcon:EPe,ChevronUp:rie,Crop:y8e,Mermaid:_Pe,Twitter:DPe,CodeView:MPe,FlipX:S8e,FlipY:w8e,PencilRuler:X8e,WrapText:mEe};function NPe({fill:r}){return E.jsx("svg",{width:"18px",height:"18px",viewBox:"0 0 256 256",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:E.jsx("g",{id:"icon/",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",children:E.jsxs("g",{id:"icon/",children:[E.jsx("g",{id:"",fill:"currentColor",children:E.jsxs("g",{transform:"translate(119.502295, 137.878331) rotate(-135.000000) translate(-119.502295, -137.878331) translate(48.002295, 31.757731)",id:"",children:[E.jsx("path",{d:"M100.946943,60.8084699 L43.7469427,60.8084699 C37.2852111,60.8084699 32.0469427,66.0467383 32.0469427,72.5084699 L32.0469427,118.70847 C32.0469427,125.170201 37.2852111,130.40847 43.7469427,130.40847 L100.946943,130.40847 C107.408674,130.40847 112.646943,125.170201 112.646943,118.70847 L112.646943,72.5084699 C112.646943,66.0467383 107.408674,60.8084699 100.946943,60.8084699 Z M93.646,79.808 L93.646,111.408 L51.046,111.408 L51.046,79.808 L93.646,79.808 Z",fillRule:"nonzero"}),E.jsx("path",{d:"M87.9366521,16.90916 L87.9194966,68.2000001 C87.9183543,69.4147389 86.9334998,70.399264 85.7187607,70.4 L56.9423078,70.4 C55.7272813,70.4 54.7423078,69.4150264 54.7423078,68.2 L54.7423078,39.4621057 C54.7423078,37.2523513 55.5736632,35.1234748 57.0711706,33.4985176 L76.4832996,12.4342613 C78.9534987,9.75382857 83.1289108,9.5834005 85.8093436,12.0535996 C87.1658473,13.303709 87.9372691,15.0644715 87.9366521,16.90916 Z",fillRule:"evenodd"}),E.jsx("path",{d:"M131.3,111.241199 L11.7,111.241199 C5.23826843,111.241199 0,116.479467 0,122.941199 L0,200.541199 C0,207.002931 5.23826843,212.241199 11.7,212.241199 L131.3,212.241199 C137.761732,212.241199 143,207.002931 143,200.541199 L143,122.941199 C143,116.479467 137.761732,111.241199 131.3,111.241199 Z M124,130.241 L124,193.241 L19,193.241 L19,130.241 L124,130.241 Z",fillRule:"nonzero"})]})}),E.jsx("path",{d:"M51,218 L205,218 C211.075132,218 216,222.924868 216,229 C216,235.075132 211.075132,240 205,240 L51,240 C44.9248678,240 40,235.075132 40,229 C40,222.924868 44.9248678,218 51,218 Z",id:"",fill:r||"#FBDE28"})]})})})}function ele(r){const[e,n]=P.useState(void 0);function i(s){var l;(l=r.action)==null||l.call(r,s)}function o(){var s;(s=r.action)==null||s.call(r,e)}const a=P.useCallback(xv(s=>{n(s)},350),[]);return E.jsxs("div",{className:"richtext-flex richtext-items-center richtext-h-[32px]",children:[E.jsx(ft,{tooltip:r==null?void 0:r.tooltip,disabled:r==null?void 0:r.disabled,action:o,tooltipOptions:r==null?void 0:r.tooltipOptions,shortcutKeys:r==null?void 0:r.shortcutKeys,children:E.jsx("span",{className:"richtext-flex richtext-items-center richtext-justify-center richtext-text-sm",children:E.jsx(NPe,{fill:e})})}),E.jsx(Hle,{selectedColor:e,setSelectedColor:a,onChange:i,highlight:!0,disabled:r==null?void 0:r.disabled,children:E.jsx(Nn,{variant:"ghost",size:"icon",className:"!richtext-w-3 !richtext-h-[32px]",disabled:r==null?void 0:r.disabled,children:E.jsx(wn,{className:"!richtext-w-3 !richtext-h-3 richtext-text-zinc-500",name:"MenuDown"})})})]})}function OPe({editor:r,disabled:e,actions:n}){var i,o,a,s,l,c,u,d,h,f,m,b,g,v,x,w,k,T;const _=({editor:G})=>Yne(G.view.state,"table"),{t:D}=Cn();function I(){r.chain().focus().addColumnBefore().run()}function L(){r.chain().focus().addColumnAfter().run()}function O(){r.chain().focus().deleteColumn().run()}function W(){r.chain().focus().addRowBefore().run()}function Z(){r.chain().focus().addRowAfter().run()}function $(){r.chain().focus().deleteRow().run()}function F(){r.chain().focus().mergeCells().run()}function A(){r==null||r.chain().focus().splitCell().run()}function Q(){r.chain().focus().deleteTable().run()}function H(G){r.chain().focus().setTableCellBackground(G).run()}return E.jsx(va,{editor:r,pluginKey:"table",shouldShow:_,updateDelay:0,tippyOptions:{offset:[0,8],popperOptions:{modifiers:[{name:"flip",enabled:!1}]},maxWidth:"auto",getReferenceClientRect:()=>{var G;const{view:ne,state:{selection:{from:J}}}=r,ee=ne.domAtPos(J).node;if(!ee)return new DOMRect(-1e3,-1e3,0,0);const X=(G=ee==null?void 0:ee.closest)==null?void 0:G.call(ee,".tableWrapper");return X?X.getBoundingClientRect():new DOMRect(-1e3,-1e3,0,0)},plugins:[rke],sticky:"popper"},children:e?E.jsx(E.Fragment,{}):E.jsxs("div",{className:"richtext-flex richtext-size-full richtext-min-w-32 richtext-flex-row richtext-items-center richtext-gap-0.5 richtext-rounded-lg !richtext-border richtext-border-border richtext-bg-background richtext-p-2 richtext-leading-none richtext-shadow-sm",children:[E.jsx(ft,{action:I,disabled:!((o=(i=r==null?void 0:r.can())==null?void 0:i.addColumnBefore)!=null&&o.call(i)),icon:"BetweenHorizonalEnd",tooltip:D("editor.table.menu.insertColumnBefore"),"tooltip-options":{sideOffset:15}}),E.jsx(ft,{action:L,disabled:!((s=(a=r==null?void 0:r.can())==null?void 0:a.addColumnAfter)!=null&&s.call(a)),icon:"BetweenHorizonalStart",tooltip:D("editor.table.menu.insertColumnAfter"),"tooltip-options":{sideOffset:15}}),E.jsx(ft,{action:O,disabled:!((c=r==null?void 0:(l=r.can()).deleteColumn)!=null&&c.call(l)),icon:"DeleteColumn",tooltip:D("editor.table.menu.deleteColumn"),"tooltip-options":{sideOffset:15}}),E.jsx(Ya,{className:"!richtext-mx-1 !richtext-my-2 !richtext-h-[16px]",orientation:"vertical"}),E.jsx(ft,{action:W,disabled:!((d=r==null?void 0:(u=r.can()).addRowBefore)!=null&&d.call(u)),icon:"BetweenVerticalEnd",tooltip:D("editor.table.menu.insertRowAbove"),"tooltip-options":{sideOffset:15}}),E.jsx(ft,{action:Z,disabled:!((f=(h=r==null?void 0:r.can())==null?void 0:h.addRowAfter)!=null&&f.call(h)),icon:"BetweenVerticalStart",tooltip:D("editor.table.menu.insertRowBelow"),"tooltip-options":{sideOffset:15}}),E.jsx(ft,{action:$,disabled:!((b=(m=r==null?void 0:r.can())==null?void 0:m.deleteRow)!=null&&b.call(m)),icon:"DeleteRow",tooltip:D("editor.table.menu.deleteRow"),"tooltip-options":{sideOffset:15}}),E.jsx(Ya,{className:"!richtext-mx-1 !richtext-my-2 !richtext-h-[16px]",orientation:"vertical"}),E.jsx(ft,{action:F,disabled:!((v=(g=r==null?void 0:r.can())==null?void 0:g.mergeCells)!=null&&v.call(g)),icon:"TableCellsMerge",tooltip:D("editor.table.menu.mergeCells"),"tooltip-options":{sideOffset:15}}),E.jsx(ft,{action:A,disabled:!((w=(x=r==null?void 0:r.can())==null?void 0:x.splitCell)!=null&&w.call(x)),icon:"TableCellsSplit",tooltip:D("editor.table.menu.splitCells"),"tooltip-options":{sideOffset:15}}),E.jsx(Ya,{className:"!richtext-mx-1 !richtext-my-2 !richtext-h-[16px]",orientation:"vertical"}),E.jsx(ele,{action:H,editor:r,tooltip:D("editor.table.menu.setCellsBgColor"),tooltipOptions:{sideOffset:15}}),E.jsx(ft,{action:Q,disabled:!((T=(k=r==null?void 0:r.can())==null?void 0:k.deleteTable)!=null&&T.call(k)),icon:"Trash2",tooltip:D("editor.table.menu.deleteTable"),"tooltip-options":{sideOffset:15}}),n&&n.map((G,ne)=>E.jsx(ft,{...G},ne))]})})}function tle(r){const{t:e}=Cn(),[n,i]=P.useState({text:"",link:""}),[o,a]=P.useState(!1);P.useEffect(()=>{var l;if(r!=null&&r.editor){const{href:c,target:u}=(l=r.editor)==null?void 0:l.getAttributes("link"),{from:d,to:h}=r.editor.state.selection,f=r.editor.state.doc.textBetween(d,h," ");i({link:c||"",text:f}),a(u==="_blank")}},[r==null?void 0:r.editor]);function s(l){l.preventDefault(),l.stopPropagation(),r==null||r.onSetLink(n.link,n.text,o)}return E.jsx("div",{className:"border-neutral-200 richtext-rounded-lg !richtext-border richtext-bg-white richtext-p-2 richtext-shadow-sm dark:richtext-border-neutral-800 dark:richtext-bg-black",children:E.jsxs("form",{className:"richtext-flex richtext-flex-col richtext-gap-2",onSubmit:s,children:[E.jsx(ha,{className:"mb-[6px]",children:e("editor.link.dialog.text")}),E.jsx("div",{className:"richtext-mb-[10px] richtext-flex richtext-w-full richtext-max-w-sm richtext-items-center richtext-gap-1.5",children:E.jsx("div",{className:"richtext-relative richtext-w-full richtext-max-w-sm richtext-items-center",children:E.jsx(lo,{className:"richtext-w-80",onChange:l=>i({...n,text:l.target.value}),placeholder:"Text",required:!0,type:"text",value:n.text})})}),E.jsx(ha,{className:"mb-[6px]",children:e("editor.link.dialog.link")}),E.jsx("div",{className:"richtext-flex richtext-w-full richtext-max-w-sm richtext-items-center richtext-gap-1.5",children:E.jsxs("div",{className:"richtext-relative richtext-w-full richtext-max-w-sm richtext-items-center",children:[E.jsx(lo,{className:"richtext-pl-10",onChange:l=>i({...n,link:l.target.value}),required:!0,type:"url",value:n.link}),E.jsx("span",{className:"richtext-absolute richtext-inset-y-0 richtext-start-0 richtext-flex richtext-items-center richtext-justify-center richtext-px-2",children:E.jsx(wn,{className:"richtext-size-5 richtext-text-muted-foreground",name:"Link"})})]})}),E.jsxs("div",{className:"richtext-flex richtext-items-center richtext-space-x-2",children:[E.jsx(ha,{children:e("editor.link.dialog.openInNewTab")}),E.jsx(eO,{checked:o,onCheckedChange:l=>{a(l)}})]}),E.jsx(Nn,{className:"richtext-mt-2 richtext-self-end",type:"submit",children:e("editor.link.dialog.button.apply")})]})})}function PPe(r){const{t:e}=Cn();return E.jsxs("div",{className:"richtext-flex richtext-items-center richtext-gap-2 richtext-p-2 richtext-bg-white !richtext-border richtext-rounded-lg richtext-shadow-sm dark:richtext-bg-black richtext-border-neutral-200 dark:richtext-border-neutral-800",children:[E.jsx("a",{href:r==null?void 0:r.link,target:"_blank",rel:"noopener noreferrer",className:"richtext-text-sm richtext-underline richtext-break-all",children:lOe(r==null?void 0:r.link,{length:50,omission:""})}),(r==null?void 0:r.link)&&E.jsx(Ya,{orientation:"vertical",className:"!richtext-h-4"}),E.jsxs("div",{className:"richtext-flex richtext-flex-nowrap",children:[E.jsx(ft,{icon:"Pencil",tooltip:e("editor.link.edit.tooltip"),action:()=>{r==null||r.onEdit()},tooltipOptions:{sideOffset:15}}),E.jsx(ft,{icon:"Unlink",tooltip:e("editor.link.unlink.tooltip"),action:()=>{r==null||r.onClear()},tooltipOptions:{sideOffset:15}})]})]})}function IPe({editor:r,disabled:e}){const[n,i]=P.useState(!1),o=P.useMemo(()=>{const{href:c}=r.getAttributes("link");return c},[r]),a=P.useCallback(({editor:c})=>c.isActive("link"),[]),s=(c,u,d)=>{r.chain().extendMarkRange("link").insertContent({type:"text",text:u,marks:[{type:"link",attrs:{href:c,target:d?"_blank":""}}]}).setLink({href:c}).focus().run(),i(!1)},l=P.useCallback(()=>{r.chain().extendMarkRange("link").unsetLink().focus().run(),i(!1)},[r]);return E.jsx(E.Fragment,{children:E.jsx(va,{editor:r,shouldShow:a,tippyOptions:{popperOptions:{modifiers:[{name:"flip",enabled:!1}]},placement:"bottom-start",offset:[-2,16],zIndex:9999,onHidden:()=>{i(!1)}},children:e?E.jsx(E.Fragment,{}):E.jsx(E.Fragment,{children:n?E.jsx(tle,{onSetLink:s,editor:r}):E.jsx(PPe,{editor:r,onClear:l,onEdit:()=>{i(!0)},link:o})})})})}const $Pe=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,ES=Un.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:r}){return["img",en(this.options.HTMLAttributes,r)]},addCommands(){return{setImage:r=>({commands:e})=>e.insertContent({type:this.name,attrs:r})}},addInputRules(){return[av({find:$Pe,type:this.type,getAttributes:r=>{const[,,e,n,i]=r;return{src:n,alt:e,title:i}}})]}}),ru=f_e,iu=p_e,zPe=m_e,nle=P.forwardRef(({className:r,...e},n)=>E.jsx(Eoe,{ref:n,className:wt("richtext-fixed richtext-inset-0 richtext-z-50 richtext-bg-black/80 richtext- data-[state=open]:richtext-animate-in data-[state=closed]:richtext-animate-out data-[state=closed]:richtext-fade-out-0 data-[state=open]:richtext-fade-in-0",r),...e}));nle.displayName=Eoe.displayName;const Rl=P.forwardRef(({className:r,children:e,...n},i)=>E.jsxs(zPe,{children:[E.jsx(nle,{}),E.jsxs(Coe,{ref:i,className:wt("richtext-dialog-content richtext-fixed richtext-left-[50%] richtext-top-[50%] richtext-z-50 richtext-grid richtext-w-full richtext-max-w-lg richtext-translate-x-[-50%] richtext-translate-y-[-50%] richtext-gap-4 richtext-border richtext-bg-background richtext-p-6 richtext-shadow-lg richtext-duration-200 data-[state=open]:richtext-animate-in data-[state=closed]:richtext-animate-out data-[state=closed]:richtext-fade-out-0 data-[state=open]:richtext-fade-in-0 data-[state=closed]:richtext-zoom-out-95 data-[state=open]:richtext-zoom-in-95 data-[state=closed]:richtext-slide-out-to-left-1/2 data-[state=closed]:richtext-slide-out-to-top-[48%] data-[state=open]:richtext-slide-in-from-left-1/2 data-[state=open]:richtext-slide-in-from-top-[48%] sm:richtext-rounded-lg",r),...n,children:[e,E.jsxs(g_e,{className:"richtext-absolute richtext-right-4 richtext-top-4 richtext-rounded-sm richtext-opacity-70 richtext-ring-offset-background richtext-transition-opacity hover:richtext-opacity-100 focus:richtext-outline-none focus:richtext-ring-2 focus:richtext-ring-ring focus:richtext-ring-offset-2 disabled:richtext-pointer-events-none data-[state=open]:richtext-bg-accent data-[state=open]:richtext-text-muted-foreground",children:[E.jsx(cie,{className:"richtext-h-4 richtext-w-4"}),E.jsx("span",{className:"richtext-sr-only",children:"Close"})]})]})]}));Rl.displayName=Coe.displayName;function rle({className:r,...e}){return E.jsx("div",{className:wt("richtext-flex richtext-flex-col richtext-space-y-1.5 richtext-text-center sm:richtext-text-left",r),...e})}rle.displayName="DialogHeader";function eh({className:r,...e}){return E.jsx("div",{className:wt("richtext-flex richtext-flex-col-reverse sm:richtext-flex-row sm:richtext-justify-end sm:richtext-space-x-2",r),...e})}eh.displayName="DialogFooter";const Nl=P.forwardRef(({className:r,...e},n)=>E.jsx(_oe,{ref:n,className:wt("richtext-text-lg richtext-font-semibold richtext-leading-none richtext-tracking-tight",r),...e}));Nl.displayName=_oe.displayName;const LPe=P.forwardRef(({className:r,...e},n)=>E.jsx(Aoe,{ref:n,className:wt("richtext-text-sm richtext-text-muted-foreground",r),...e}));LPe.displayName=Aoe.displayName;const ZF=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,JF=pr,CS=(r,e)=>n=>{var i;if((e==null?void 0:e.variants)==null)return JF(r,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:a}=e,s=Object.keys(o).map(u=>{const d=n==null?void 0:n[u],h=a==null?void 0:a[u];if(d===null)return null;const f=ZF(d)||ZF(h);return o[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(b=>{let[g,v]=b;return Array.isArray(v)?v.includes({...a,...l}[g]):{...a,...l}[g]===v})?[...u,h,f]:u},[]);return JF(r,s,c,n==null?void 0:n.class,n==null?void 0:n.className)},UPe=CS("richtext-inline-flex richtext-items-center richtext-justify-center richtext-whitespace-nowrap richtext-rounded-md richtext-text-sm richtext-font-medium richtext-ring-offset-background richtext-transition-colors focus-visible:richtext-outline-none focus-visible:richtext-ring-2 focus-visible:richtext-ring-ring focus-visible:richtext-ring-offset-2 disabled:richtext-pointer-events-none disabled:richtext-opacity-50",{variants:{variant:{default:"!richtext-bg-primary !richtext-text-primary-foreground hover:!richtext-bg-primary/90",destructive:"richtext-bg-destructive richtext-text-destructive-foreground hover:richtext-bg-destructive/90",outline:"richtext-border richtext-border-input richtext-bg-background hover:richtext-bg-accent hover:richtext-text-accent-foreground",secondary:"richtext-bg-secondary richtext-text-secondary-foreground hover:richtext-bg-secondary/80",ghost:"hover:richtext-bg-accent hover:richtext-text-accent-foreground",link:"richtext-text-primary richtext-underline-offset-4 hover:richtext-underline"},size:{default:"richtext-h-10 richtext-px-4 richtext-py-2",sm:"richtext-h-9 richtext-rounded-md richtext-px-3",lg:"richtext-h-11 richtext-rounded-md richtext-px-8",icon:"richtext-h-10 richtext-w-10"}},defaultVariants:{variant:"default",size:"default"}}),Nn=P.forwardRef(({className:r,variant:e,size:n,asChild:i=!1,...o},a)=>E.jsx(i?rN:"button",{className:wt(UPe({variant:e,size:n,className:r})),ref:a,...o}));Nn.displayName="Button";function BPe(r){return r.replace(/^.*\/|\..+$/g,"")}function jPe(r){return r.split(".").pop()}function ile(r){return r<1024?`${r} Byte`:r<1024*1024?`${(r/1024).toFixed(2)} KB`:`${(r/1024/1024).toFixed(2)} MB`}function FPe(r){return r?r==="application/pdf"?"pdf":r.startsWith("application/")&&[".document","word"].some(e=>r.includes(e))?"word":r.startsWith("application/")&&["presentation"].some(e=>r.includes(e))?"excel":r.startsWith("application/")&&["sheet"].some(e=>r.includes(e))?"ppt":r.startsWith("image")?"image":r.startsWith("audio")?"audio":r.startsWith("video")?"video":"file":"file"}function HPe(r){return new Promise(e=>{const n=new FileReader;n.addEventListener("load",()=>{e({alt:r.name,src:n.result})},!1),n.readAsDataURL(r)})}function Sv(r,e){const n=r.split(","),i=n[0].match(/:(.*?);/)[1],o=atob(n[n.length-1]);let a=o.length;const s=new Uint8Array(a);for(;a--;)s[a]=o.charCodeAt(a);return new File([s],e,{type:i})}function WPe({editor:r,imageInline:e,onClose:n}){const{t:i}=Cn(),[o,a]=P.useState(!1),s=dt.useRef(null),[l,c]=dt.useState(),[u,d]=dt.useState(""),h=P.useRef(null),[f,m]=P.useState({src:"",file:null});function b(k){if(s.current&&k.width&&k.height){const T=g(s.current,k);d(T)}}function g(k,T){const _=document.createElement("canvas"),D=k.naturalWidth/k.width,I=k.naturalHeight/k.height;_.width=T.width*D,_.height=T.height*I;const L=_.getContext("2d");return L&&(L.imageSmoothingEnabled=!1,L.drawImage(k,T.x*D,T.y*I,T.width*D,T.height*I,0,0,T.width*D,T.height*I)),_.toDataURL("image/png",1)}async function v(){var k,T;try{const _=Sv(u,((k=f==null?void 0:f.file)==null?void 0:k.name)||"image.png"),D=(T=r.extensionManager.extensions.find(L=>L.name===Vf.name))==null?void 0:T.options;let I="";D.upload?I=await D.upload(_):I=URL.createObjectURL(_),r.chain().focus().setImageInline({src:I,inline:e}).run(),a(!1),m({src:"",file:null}),n()}catch(_){console.log("Error cropping image",_)}}function x(k){var T;k.preventDefault(),(T=h.current)==null||T.click()}const w=async k=>{var T;const _=(T=k==null?void 0:k.target)==null?void 0:T.files;if(!r||r.isDestroyed||_.length===0)return;const D=_[0],I=await HPe(D);a(!0),m({src:I.src,file:D})};return E.jsxs(E.Fragment,{children:[E.jsx(Nn,{className:"richtext-mt-1 richtext-w-full",onClick:x,size:"sm",children:i("editor.image.dialog.tab.uploadCrop")}),E.jsxs(ru,{open:o,children:[E.jsx(iu,{}),E.jsxs(Rl,{children:[E.jsx(Nl,{children:i("editor.image.dialog.tab.uploadCrop")}),E.jsx("div",{children:f.src&&E.jsx(M_e,{className:"richtext-w-full",crop:l,onChange:k=>c(k),onComplete:k=>b(k),children:E.jsx("img",{alt:"Crop me",ref:s,src:f.src})})}),E.jsxs(eh,{children:[E.jsxs(Nn,{onClick:()=>{a(!1),m({src:"",file:null})},children:[i("editor.imageUpload.cancel"),E.jsx(wn,{className:"richtext-ml-[4px]",name:"Trash2"})]}),E.jsxs(Nn,{className:"richtext-w-fit",onClick:v,children:[i("editor.imageUpload.crop"),E.jsx(wn,{className:"richtext-ml-[4px]",name:"Crop"})]})]})]})]}),E.jsx("input",{accept:"image/*",multiple:!0,onChange:w,ref:h,type:"file",style:{display:"none"}})]})}function _S(r){function e(){const a=P.useRef(r),s=P.useCallback(()=>a.current,[]),l=P.useRef(new Set),c=P.useCallback(d=>{a.current={...a.current,...d},l.current.forEach(h=>h())},[]),u=P.useCallback(d=>(l.current.add(d),()=>l.current.delete(d)),[]);return{get:s,set:c,subscribe:u}}const n=P.createContext(null);function i({children:a}){return E.jsx(n.Provider,{value:e(),children:a})}function o(a){const s=P.useContext(n);if(!s)throw new Error("Store not found");return[P.useSyncExternalStore(s.subscribe,()=>a(s.get()),()=>a(r)),s.set]}return{Provider:i,useStore:o}}_S({value:!1});_S({value:!1});const{Provider:VPe,useStore:ole}=_S({value:!1}),{Provider:qPe,useStore:ale}=_S({value:"light"});Are("0");function O0(r,e){return window.addEventListener(r,e),()=>{window.removeEventListener(r,e)}}function tl(r,e){window.dispatchEvent(new CustomEvent(r,{detail:e}))}const zi={UPLOAD_IMAGE:r=>`UPLOAD_IMAGE-${r}`,UPLOAD_VIDEO:r=>`UPLOAD_VIDEO-${r}`,EDIT:r=>`EDIT-${r}`,UPDATE_THEME:r=>`UPDATE_THEME-${r}`,SEARCH_REPLCE:"SEARCH_REPLACE"},sle={setOpen:(r,e)=>{tl(zi.UPLOAD_IMAGE(r),e)}};function GPe(r){var e;const{t:n}=Cn(),[i,o]=P.useState(!1),a=g=>{o(g.detail)},[s,l]=P.useState(""),c=P.useRef(null),[u,d]=P.useState(((e=r.editor.extensionManager.extensions.find(g=>g.name===Vf.name))==null?void 0:e.options.defaultInline)||!1),h=P.useMemo(()=>{var g;return(g=r.editor.extensionManager.extensions.find(v=>v.name===Vf.name))==null?void 0:g.options},[r.editor]);P.useEffect(()=>{const g=O0(zi.UPLOAD_IMAGE(r.editor.id),a);return()=>{g()}},[]);async function f(g){var v;const x=(v=g==null?void 0:g.target)==null?void 0:v.files;if(!r.editor||r.editor.isDestroyed||x.length===0)return;const w=x[0];let k="";h.upload?k=await h.upload(w):k=URL.createObjectURL(w),r.editor.chain().focus().setImageInline({src:k,inline:u}).run(),o(!1),d(!1)}function m(g){g.preventDefault(),g.stopPropagation(),r.editor.chain().focus().setImageInline({src:s,inline:u}).run(),o(!1),d(!1),l("")}function b(g){var v;g.preventDefault(),(v=c.current)==null||v.click()}return E.jsxs(ru,{onOpenChange:o,open:i,children:[E.jsx(iu,{asChild:!0,children:E.jsx(ft,{action:()=>o(!0),icon:r.icon,tooltip:r.tooltip})}),E.jsxs(Rl,{children:[E.jsx(Nl,{children:n("editor.image.dialog.title")}),E.jsxs(ule,{activationMode:"manual",defaultValue:h.resourceImage==="both"||h.resourceImage==="upload"?"upload":"link",children:[E.jsxs(tO,{className:"richtext-grid richtext-w-full richtext-grid-cols-2",children:[h.resourceImage==="both"||h.resourceImage==="upload"?E.jsx(vb,{value:"upload",children:n("editor.image.dialog.tab.upload")}):E.jsx(E.Fragment,{}),h.resourceImage==="both"||h.resourceImage==="link"?E.jsx(vb,{value:"link",children:n("editor.image.dialog.tab.url")}):E.jsx(E.Fragment,{})]}),E.jsxs("div",{className:"richtext-my-[10px] richtext-flex richtext-items-center richtext-gap-[4px]",children:[E.jsx(yle,{checked:u,onCheckedChange:g=>{d(g)}}),E.jsx(ha,{children:n("editor.link.dialog.inline")})]}),E.jsxs(xb,{value:"upload",children:[E.jsxs("div",{className:"richtext-flex richtext-items-center richtext-gap-[10px]",children:[E.jsx(Nn,{className:"richtext-mt-1 richtext-w-full",onClick:b,size:"sm",children:n("editor.image.dialog.tab.upload")}),E.jsx(WPe,{editor:r.editor,imageInline:u,onClose:()=>sle.setOpen(r.editor.id,!1)})]}),E.jsx("input",{accept:"image/*",multiple:!0,onChange:f,ref:c,type:"file",style:{display:"none"}})]}),E.jsx(xb,{value:"link",children:E.jsx("form",{onSubmit:m,children:E.jsxs("div",{className:"richtext-flex richtext-items-center richtext-gap-2",children:[E.jsx(lo,{autoFocus:!0,onChange:g=>l(g.target.value),placeholder:n("editor.image.dialog.placeholder"),required:!0,type:"url",value:s}),E.jsx(Nn,{type:"submit",children:n("editor.image.dialog.button.apply")})]})})})]})]})]})}const Aw={TOP_LEFT:"tl",TOP_RIGHT:"tr",BOTTOM_LEFT:"bl",BOTTOM_RIGHT:"br"};function KPe(r){var e,n;const[i,o]=P.useState({width:Ad,height:Ad}),[a,s]=P.useState({width:0,height:0}),[l]=P.useState([Aw.TOP_LEFT,Aw.TOP_RIGHT,Aw.BOTTOM_LEFT,Aw.BOTTOM_RIGHT]),[c,u]=P.useState(!1),[d,h]=P.useState({x:0,y:0,w:0,h:0,dir:""}),{align:f,inline:m}=(e=r==null?void 0:r.node)==null?void 0:e.attrs,b=P.useMemo(()=>{var O;const{src:W,alt:Z,width:$,height:F,flipX:A,flipY:Q}=(O=r==null?void 0:r.node)==null?void 0:O.attrs,H=s3($)?`${$}px`:$,G=s3(F)?`${F}px`:F,ne=[];A&&ne.push("rotateX(180deg)"),Q&&ne.push("rotateY(180deg)");const J=ne.join(" ");return{src:W||void 0,alt:Z||void 0,style:{width:H||void 0,height:G||void 0,transform:J||"none"}}},[(n=r==null?void 0:r.node)==null?void 0:n.attrs]),g=P.useMemo(()=>{const{style:{width:O}}=b;return{width:O==="100%"?O:void 0}},[b]);function v(O){s({width:O.target.width,height:O.target.height})}function x(){const{editor:O,getPos:W}=r;O.commands.setNodeSelection(W())}const w=P.useCallback(Gc(()=>{const{editor:O}=r,{width:W}=getComputedStyle(O.view.dom);o(Z=>({...Z,width:Number.parseInt(W,10)}))},Dd),[r==null?void 0:r.editor]);function k(O,W){O.preventDefault(),O.stopPropagation();const Z=a.width,$=a.height,F=Z/$;let A=Number(r.node.attrs.width),Q=Number(r.node.attrs.height);const H=i.width;A&&!Q?(A=A>H?H:A,Q=Math.round(A/F)):Q&&!A?(A=Math.round(Q*F),A=A>H?H:A):!A&&!Q?(A=Z>H?H:Z,Q=Math.round(A/F)):A=A>H?H:A,u(!0),h({x:O.clientX,y:O.clientY,w:A,h:Q,dir:W})}const T=P.useCallback(Gc(O=>{if(O.preventDefault(),O.stopPropagation(),!c)return;const{x:W,w:Z,dir:$}=d,F=(O.clientX-W)*(/l/.test($)?-1:1),A=Mse(Z+F,q5,i.width);r.updateAttributes({width:A,height:null})},Dd),[c,d,i,r.updateAttributes]),_=P.useCallback(O=>{O.preventDefault(),O.stopPropagation(),c&&(h({x:0,y:0,w:0,h:0,dir:""}),u(!1),x())},[c,x]),D=P.useCallback(()=>{document==null||document.addEventListener("mousemove",T,!0),document==null||document.addEventListener("mouseup",_,!0)},[T,_]),I=P.useCallback(()=>{document==null||document.removeEventListener("mousemove",T,!0),document==null||document.removeEventListener("mouseup",_,!0)},[T,_]);P.useEffect(()=>(c?D():I(),()=>{I()}),[c,D,I]);const L=P.useMemo(()=>new ResizeObserver(()=>w()),[w]);return P.useEffect(()=>(L.observe(r.editor.view.dom),()=>{L.disconnect()}),[r.editor.view.dom,L]),E.jsx(ua,{as:m?"span":"div",className:"image-view",style:{...g,textAlign:f,display:m?"inline":"block"},children:E.jsxs("div",{"data-drag-handle":!0,draggable:"true",style:g,className:`image-view__body ${r!=null&&r.selected?"image-view__body--focused":""} ${c?"image-view__body--resizing":""}`,children:[E.jsx("img",{alt:b.alt,className:"image-view__body__image block",height:"auto",onClick:x,onLoad:v,src:b.src,style:b.style}),(r==null?void 0:r.editor.view.editable)&&((r==null?void 0:r.selected)||c)&&E.jsx("div",{className:"image-resizer",children:l==null?void 0:l.map(O=>E.jsx("span",{className:`image-resizer__handler image-resizer__handler--${O}`,onMouseDown:W=>k(W,O)},`image-dir-${O}`))})]})})}const n0=new Ln("upload-image");function XPe(){return new $n({key:n0,state:{init(){return Cr.empty},apply(r,e){e=e.map(r.mapping,r.doc);const n=r.getMeta(n0);if(n!=null&&n.add)for(const{id:i,pos:o,src:a}of n.add){const s=YPe(a),l=hi.widget(o,s,{id:i});e=e.add(r.doc,[l])}else if(n!=null&&n.remove)for(const i of n.remove)e=e.remove(e.find(void 0,void 0,o=>o.id===i));return e}},props:{decorations(r){return this.getState(r)}}})}function YPe(r){const e=document.createElement("div"),n=document.createElement("img");return n.setAttribute("class","opacity-50"),n.src=r,n.addEventListener("load",()=>{e.setAttribute("class","img-placeholder")}),e.append(n),e}function ZPe(r,e){var n;const i=n0.getState(r).find(void 0,void 0,o=>o.id===e);return i.length>0?(n=i[0])==null?void 0:n.from:null}function JPe({validateFn:r,onUpload:e,postUpload:n,defaultInline:i=!1}){return(o,a,s)=>{for(const l of o){if(r&&!r(l))continue;const c=Date.now().toString(),u=a.state.tr;u.selection.empty||u.deleteSelection();const d=URL.createObjectURL(l);u.setMeta(n0,{add:[{id:c,pos:s,src:d}]}),a.dispatch(u),e(l).then(async h=>{var f;n&&typeof h=="string"&&(h=await n(h));const{schema:m}=a.state;let b=ZPe(a.state,c);if(b===null)return;const g=typeof h=="object"?d:h,v=(f=m.nodes.image)==null?void 0:f.create({src:g,inline:i});if(!v)return;const{doc:x}=a.state;b>x.content.size&&(b=x.content.size-1);const w=a.state.tr.replaceWith(b,b,v).setMeta(n0,{remove:[c]});a.dispatch(w)},()=>{const h=a.state.tr.delete(s,s).setMeta(n0,{remove:[c]});a.dispatch(h)})}}}function QPe(r,e,n){var i;const o=[...((i=e.clipboardData)==null?void 0:i.files)||[]];if(o.length>0){e.preventDefault();const a=r.state.selection.from;return n(o,r,a+1),!0}return!1}function eIe(r,e,n,i){var o;const a=[...((o=e.dataTransfer)==null?void 0:o.files)||[]];if(!n&&a.length>0){e.preventDefault();const s=r.posAtCoords({left:e.clientX,top:e.clientY});if(s)return i(a,r,s.pos+1),!0}return!1}const tIe={acceptMimes:["image/jpeg","image/gif","image/png","image/jpg"],maxSize:1024*1024*5,resourceImage:"both",defaultInline:!1},Vf=ES.extend({group:"inline",inline:!0,defining:!0,draggable:!0,selectable:!0,addOptions(){var r;return{...tIe,...(r=this.parent)==null?void 0:r.call(this),upload:()=>Promise.reject("Image Upload Function"),button:({editor:e,extension:n,t:i})=>{var o,a;return{component:GPe,componentProps:{action:()=>!0,upload:n.options.upload,disabled:!((a=(o=e.can()).setImage)!=null&&a.call(o,{})),icon:"ImageUp",tooltip:i("editor.image.tooltip"),editor:e}}}}},addAttributes(){var r;return{...(r=this.parent)==null?void 0:r.call(this),flipX:{default:!1},flipY:{default:!1},width:{default:null,parseHTML:e=>{const n=e.style.width||e.getAttribute("width")||null;return n?Number.parseInt(n,10):null},renderHTML:e=>({width:e.width})},align:{default:"center",parseHTML:e=>e.getAttribute("align"),renderHTML:e=>({align:e.align})},inline:{default:!1,parseHTML:e=>!!e.getAttribute("inline"),renderHTML:e=>({inline:e.inline})}}},addNodeView(){return Ps(KPe)},addCommands(){var r;return{...(r=this.parent)==null?void 0:r.call(this),setImageInline:e=>({commands:n})=>n.insertContent({type:this.name,attrs:{...e,inline:e.inline??this.options.defaultInline}}),updateImage:e=>({commands:n})=>n.updateAttributes(this.name,e),setAlignImage:e=>({commands:n})=>n.updateAttributes(this.name,{align:e})}},renderHTML({HTMLAttributes:r}){const{flipX:e,flipY:n,align:i,inline:o}=r,a=e||n?`transform: rotateX(${e?"180":"0"}deg) rotateY(${n?"180":"0"}deg);`:"",s=i?`text-align: ${i};`:"";return[o?"span":"div",{style:s,class:"image"},["img",en({height:"auto",style:a},this.options.HTMLAttributes,r)]]},parseHTML(){return[{tag:"span.image img",getAttrs:r=>{var e;const n=r==null?void 0:r.parentElement,i=r==null?void 0:r.getAttribute("width"),o=(r==null?void 0:r.getAttribute("flipx"))||!1,a=(r==null?void 0:r.getAttribute("flipy"))||!1;return{src:r==null?void 0:r.getAttribute("src"),alt:r==null?void 0:r.getAttribute("alt"),caption:r==null?void 0:r.getAttribute("caption"),width:i?Number.parseInt(i,10):null,align:(r==null?void 0:r.getAttribute("align"))||((e=n==null?void 0:n.style)==null?void 0:e.textAlign)||null,inline:(r==null?void 0:r.getAttribute("inline"))||!1,flipX:o==="true",flipY:a==="true"}}},{tag:"div[class=image]",getAttrs:r=>{const e=r.querySelector("img"),n=e==null?void 0:e.getAttribute("width"),i=(e==null?void 0:e.getAttribute("flipx"))||!1,o=(e==null?void 0:e.getAttribute("flipy"))||!1;return{src:e==null?void 0:e.getAttribute("src"),alt:e==null?void 0:e.getAttribute("alt"),caption:e==null?void 0:e.getAttribute("caption"),width:n?Number.parseInt(n,10):null,align:(e==null?void 0:e.getAttribute("align"))||r.style.textAlign||null,inline:(e==null?void 0:e.getAttribute("inline"))||!1,flipX:i==="true",flipY:o==="true"}}}]},addProseMirrorPlugins(){const r=JPe({validateFn:e=>!(!this.options.acceptMimes.includes(e.type)||e.size>this.options.maxSize),onUpload:this.options.upload,defaultInline:this.options.defaultInline});return[new $n({props:{handlePaste:(e,n)=>!n.clipboardData||[...n.clipboardData.files||[]].some(i=>i.type==="text/html")?!1:QPe(e,n,r),handleDrop:(e,n,i,o)=>(!(n instanceof DragEvent)||!n.dataTransfer||eIe(e,n,o,r),!1)}}),XPe()]}});function nIe({selectImage:r,giphyApiKey:e,children:n}){const[i,o]=P.useState([]),[a]=P.useState(15),s=P.useRef(null),l=(u,d="search")=>{if(!e)return;const h=`${d==="search"?`https://api.giphy.com/v1/gifs/search?q=${u}`:`https://api.giphy.com/v1/gifs/trending?q=${u}`}&limit=${a}&api_key=${e}`;fetch(h).then(f=>f.json()).then(f=>{o(f.data)}).catch(f=>{console.log(f)})};P.useEffect(()=>{l("","trend")},[]);const c=P.useCallback(xv(u=>{if(!u.target.value){l("","trend");return}l(u.target.value)},350),[]);return E.jsxs(as,{modal:!0,children:[E.jsx(ss,{asChild:!0,children:n}),E.jsx(wa,{align:"start",className:"richtext-size-full richtext-p-2",hideWhenDetached:!0,side:"bottom",children:e?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"richtext-mb-[10px] richtext-w-full",children:E.jsx(lo,{onChange:c,placeholder:"Search GIF",ref:s,type:"text"})}),E.jsx("div",{className:"richtext-max-h-[280px] richtext-overflow-y-auto",children:E.jsx("div",{className:"richtext-grid richtext-grid-cols-2 richtext-gap-1 ",children:i!=null&&i.length?i==null?void 0:i.map(u=>E.jsx("img",{alt:"giphy",className:"richtext-cursor-pointer richtext-text-center",height:u.images.fixed_width_downsampled.height,onClick:()=>r(u),src:u.images.fixed_width_downsampled.url,width:u.images.fixed_width_downsampled.width},`giphy-${u.id}`)):E.jsx("p",{children:"No GIFs found"})})})]}):E.jsx("div",{children:E.jsx("p",{children:"Missing Giphy API Key"})})})]})}function rIe({editor:r,icon:e,giphyApiKey:n,...i}){return E.jsx(nIe,{giphyApiKey:n,selectImage:o=>{const{url:a}=o.images.original;r.chain().focus().setImageGif({src:a}).run()},children:E.jsx(ft,{icon:e,tooltip:i==null?void 0:i.tooltip})})}const Dw={TOP_LEFT:"tl",TOP_RIGHT:"tr",BOTTOM_LEFT:"bl",BOTTOM_RIGHT:"br"};function iIe(r){var e,n;const[i,o]=P.useState({width:Ad,height:Ad}),[a,s]=P.useState({width:0,height:0}),[l]=P.useState([Dw.TOP_LEFT,Dw.TOP_RIGHT,Dw.BOTTOM_LEFT,Dw.BOTTOM_RIGHT]),[c,u]=P.useState(!1),[d,h]=P.useState({x:0,y:0,w:0,h:0,dir:""}),{align:f}=(e=r==null?void 0:r.node)==null?void 0:e.attrs,m=P.useMemo(()=>{var L;const{src:O,alt:W,width:Z,height:$}=(L=r==null?void 0:r.node)==null?void 0:L.attrs,F=s3(Z)?`${Z}px`:Z,A=s3($)?`${$}px`:$;return{src:O||void 0,alt:W||void 0,style:{width:F||void 0,height:A||void 0}}},[(n=r==null?void 0:r.node)==null?void 0:n.attrs]),b=P.useMemo(()=>{const{style:{width:L}}=m;return{width:L==="100%"?L:void 0}},[m]);function g(L){s({width:L.target.width,height:L.target.height})}function v(){const{editor:L,getPos:O}=r;L.commands.setNodeSelection(O())}const x=P.useCallback(Gc(()=>{const{editor:L}=r,{width:O}=getComputedStyle(L.view.dom);o(W=>({...W,width:Number.parseInt(O,10)}))},Dd),[r==null?void 0:r.editor]);function w(L,O){L.preventDefault(),L.stopPropagation();const W=a.width,Z=a.height,$=W/Z;let F=Number(r.node.attrs.width),A=Number(r.node.attrs.height);const Q=i.width;F&&!A?(F=F>Q?Q:F,A=Math.round(F/$)):A&&!F?(F=Math.round(A*$),F=F>Q?Q:F):!F&&!A?(F=W>Q?Q:W,A=Math.round(F/$)):F=F>Q?Q:F,u(!0),h({x:L.clientX,y:L.clientY,w:F,h:A,dir:O})}const k=P.useCallback(Gc(L=>{if(L.preventDefault(),L.stopPropagation(),!c)return;const{x:O,w:W,dir:Z}=d,$=(L.clientX-O)*(/l/.test(Z)?-1:1),F=Mse(W+$,q5,i.width);r.updateAttributes({width:F,height:null})},Dd),[c,d,i,r.updateAttributes]),T=P.useCallback(L=>{L.preventDefault(),L.stopPropagation(),c&&(h({x:0,y:0,w:0,h:0,dir:""}),u(!1),v())},[c,v]),_=P.useCallback(()=>{document==null||document.addEventListener("mousemove",k,!0),document==null||document.addEventListener("mouseup",T,!0)},[k,T]),D=P.useCallback(()=>{document==null||document.removeEventListener("mousemove",k,!0),document==null||document.removeEventListener("mouseup",T,!0)},[k,T]);P.useEffect(()=>(c?_():D(),()=>{D()}),[c,_,D]);const I=P.useMemo(()=>new ResizeObserver(()=>x()),[x]);return P.useEffect(()=>(I.observe(r.editor.view.dom),()=>{I.disconnect()}),[r.editor.view.dom,I]),E.jsx(ua,{className:"image-view",style:{...b,width:"100%",textAlign:f},children:E.jsxs("div",{"data-drag-handle":!0,draggable:"true",style:b,className:`image-view__body ${r!=null&&r.selected?"image-view__body--focused":""} ${c?"image-view__body--resizing":""}`,children:[E.jsx("img",{alt:m.alt,className:"image-view__body__image block",height:"auto",onClick:v,onLoad:g,src:m.src,style:m.style}),(r==null?void 0:r.editor.view.editable)&&((r==null?void 0:r.selected)||c)&&E.jsx("div",{className:"image-resizer",children:l==null?void 0:l.map(L=>E.jsx("span",{className:`image-resizer__handler image-resizer__handler--${L}`,onMouseDown:O=>w(O,L)},`image-dir-${L}`))})]})})}const XN=ES.extend({name:"imageGif",addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),inline:!1,content:"",marks:"",group:"block",GIPHY_API_KEY:"",draggable:!1,selectable:!0,atom:!0,button:({editor:e,extension:n,t:i})=>{var o;const a=((o=n==null?void 0:n.options)==null?void 0:o.GIPHY_API_KEY)||"";return{component:rIe,componentProps:{editor:e,action:()=>{},isActive:()=>!1,disabled:!1,icon:"GifIcon",tooltip:i("editor.imageGif.tooltip"),giphyApiKey:a}}}}},addAttributes(){var r;return{...(r=this.parent)==null?void 0:r.call(this),width:{default:null,parseHTML:e=>{const n=e.style.width||e.getAttribute("width")||"10";return n===void 0?null:Number.parseInt(`${n}`,10)},renderHTML:e=>({width:e.width})},align:{default:"center",parseHTML:e=>e.getAttribute("align"),renderHTML:e=>({align:e.align})}}},addNodeView(){return Ps(iIe)},addCommands(){var r;return{...(r=this.parent)==null?void 0:r.call(this),setImageGif:e=>({commands:n})=>n.insertContent({type:this.name,attrs:e}),updateImageGif:e=>({commands:n})=>n.updateAttributes(this.name,e),setAlignImageGif:e=>({commands:n})=>n.updateAttributes(this.name,{align:e})}},renderHTML({HTMLAttributes:r}){const{align:e}=r;return["div",{style:e?`text-align: ${e};`:"",class:"imageGIf"},["img",en({height:"auto"},this.options.HTMLAttributes,r)]]},parseHTML(){return[{tag:"div[class=imageGIf]",getAttrs:r=>{const e=r.querySelector("img"),n=e==null?void 0:e.getAttribute("width");return{src:e==null?void 0:e.getAttribute("src"),alt:e==null?void 0:e.getAttribute("alt"),title:e==null?void 0:e.getAttribute("title"),width:n?Number.parseInt(n,10):null,align:(e==null?void 0:e.getAttribute("align"))||r.style.textAlign||null}}}]}});function oIe(r,e){let n;try{n=new URL(r)}catch{return!1}return!(e!=null&&e.length)||e.length===1&&e[0]==="."?!0:e.some(i=>{if(i.includes("*")){const o=i.replace(/\./g,"\\.").replace(/\*/g,".*");return new RegExp(`^${o}$`).test(n.hostname)}return n.hostname.includes(i)})}function aIe(r){const{t:e}=Cn(),[n,i]=P.useState(""),o=P.useRef(null),[a,s]=P.useState(""),[l,c]=P.useState(!1),u=b=>{c(b.detail)};P.useEffect(()=>{const b=O0(zi.UPLOAD_VIDEO(r.editor.id),u);return()=>{b()}},[]);const d=P.useMemo(()=>{var b;return(b=r.editor.extensionManager.extensions.find(g=>g.name===AS.name))==null?void 0:b.options},[r.editor]);async function h(b){var g;const v=(g=b==null?void 0:b.target)==null?void 0:g.files;if(!r.editor||r.editor.isDestroyed||v.length===0)return;const x=v[0];let w="";d.upload?w=await d.upload(x):w=URL.createObjectURL(x),r.editor.chain().focus().setVideo({src:w,width:"100%"}).run(),c(!1)}function f(b){b.preventDefault(),b.stopPropagation(),n&&(r.editor.chain().focus().setVideo({src:n,width:"100%"}).run(),c(!1))}function m(b){var g;b.preventDefault(),(g=o.current)==null||g.click()}return E.jsxs(ru,{onOpenChange:c,open:l,children:[E.jsx(iu,{asChild:!0,children:E.jsx(ft,{action:()=>c(!0),icon:r.icon,tooltip:r.tooltip})}),E.jsxs(Rl,{children:[E.jsx(Nl,{children:e("editor.video.dialog.title")}),E.jsxs(ule,{activationMode:"manual",defaultValue:(d==null?void 0:d.resourceVideo)==="both"||(d==null?void 0:d.resourceVideo)==="upload"?"upload":"link",children:[E.jsxs(tO,{className:"richtext-grid richtext-w-full richtext-grid-cols-2",children:[((d==null?void 0:d.resourceVideo)==="both"||(d==null?void 0:d.resourceVideo)==="upload")&&E.jsx(vb,{value:"upload",children:e("editor.video.dialog.tab.upload")}),((d==null?void 0:d.resourceVideo)==="both"||(d==null?void 0:d.resourceVideo)==="link")&&E.jsx(vb,{value:"link",children:e("editor.video.dialog.link")})]}),E.jsxs(xb,{value:"upload",children:[E.jsx("div",{className:"richtext-flex richtext-items-center richtext-gap-[10px]",children:E.jsx(Nn,{className:"richtext-mt-1 richtext-w-full",onClick:m,size:"sm",children:e("editor.video.dialog.tab.upload")})}),E.jsx("input",{accept:"video/*",multiple:!0,onChange:h,ref:o,type:"file",style:{display:"none"}})]}),E.jsxs(xb,{value:"link",children:[E.jsx("form",{onSubmit:f,children:E.jsxs("div",{className:"richtext-flex richtext-items-center richtext-gap-2",children:[E.jsx(lo,{autoFocus:!0,placeholder:e("editor.video.dialog.placeholder"),required:!0,type:"url",value:n,onChange:b=>{i(b.target.value)},onBlur:b=>{const g=b.target.value,v=d.videoProviders||["."];g&&!oIe(g,v)?s("Invalid video URL"):s("")}}),E.jsx(Nn,{type:"submit",children:e("editor.video.dialog.button.apply")})]})}),a&&E.jsx("div",{className:"richtext-my-[5px] richtext-text-red-500",children:a})]})]})]})]})}function YN(r,e,n){return r<e?e:r>n?n:r}const sIe=r=>typeof r=="number",lIe=r=>typeof r=="string",cIe=r=>typeof r=="function";function uIe(r,e="px"){if(!r)return r;const n=sIe(r)?String(r):r,i=Number.parseFloat(n),o=n.match(/[%a-z]+$/i),a=o?o[0]:e;return Number.isNaN(i)?r:i+a}function lle(r,e){if(!r)return!1;const{extensions:n=[]}=(r==null?void 0:r.extensionManager)??{};return!!n.find(i=>i.name===e)}function LD(r){return r.map(e=>lIe(e)?{value:e,name:e}:e)}function dIe(r){r=r.replace("https://youtu.be/","https://www.youtube.com/watch?v=").replace("watch?v=","embed/");const e=r.match(/^https:\/\/www\.youtube\.com\/shorts\/([a-zA-Z0-9_-]+)/);e&&(r=`https://www.youtube.com/embed/${e[1]}`);const n=r.match(/^https:\/\/vimeo\.com\/(\d+)(?:\/([a-zA-Z0-9]+))?/);if(n){const i=n[1],o=n[2];o?r=`https://player.vimeo.com/video/${i}?h=${o}`:r=`https://player.vimeo.com/video/${i}`}return/^https?:\/\/www.bilibili.com\/video\/.*/i.test(r)&&(r=r.replace(/\?.*$/,"").replace("https://www.bilibili.com/video/","https://player.bilibili.com/player.html?bvid=")),r.includes("drive.google.com")&&(r=r.replace("/view","/preview")),r}const AS=Un.create({name:"video",group:"block",atom:!0,draggable:!0,addOptions(){return{divider:!1,spacer:!1,allowFullscreen:!0,upload:void 0,frameborder:!1,resourceVideo:"both",width:Y4["size-medium"],HTMLAttributes:{class:"iframe-wrapper"},button:({editor:r,t:e})=>{var n,i;return{component:aIe,componentProps:{action:()=>{},isActive:()=>r.isActive("video")||!1,disabled:!((i=(n=r.can()).setVideo)!=null&&i.call(n,{})),icon:"Video",tooltip:e("editor.video.tooltip"),videoProviders:["."],editor:r}}}}},addAttributes(){return{src:{default:null,renderHTML:({src:r})=>({src:r?dIe(r):null})},width:{default:this.options.width,renderHTML:({width:r})=>({width:uIe(r)})},frameborder:{default:this.options.frameborder?1:0,parseHTML:()=>this.options.frameborder?1:0},allowfullscreen:{default:this.options.allowFullscreen,parseHTML:()=>this.options.allowFullscreen},align:{default:"center",renderHTML:({align:r})=>({align:r})}}},parseHTML(){return[{tag:"div[data-video] iframe"}]},renderHTML({HTMLAttributes:r}){const{width:e="100%",align:n="center"}=r??{},i={...r,width:"100%",height:"100%"},o=`position: relative;overflow: hidden;display: flex;flex: 1;max-width: ${e};`,a=`flex: 1;padding-bottom: ${9/16*100}%;`,s=["div",{style:`display: flex; justify-content: ${n};`},["div",{style:o},["div",{style:a}],["iframe",i]]];return["div",{...this.options.HTMLAttributes,class:"iframe-wrapper","data-video":""},s]},addCommands(){return{setVideo:r=>({commands:e})=>e.insertContent({type:this.name,attrs:r}),updateVideo:r=>({commands:e})=>e.updateAttributes(this.name,r)}}}),ZN={maxWidth:"auto",zIndex:20,appendTo:"parent",moveTransition:"transform 0.1s ease-out"};function JN({item:r,disabled:e,editor:n}){var i;const o=r.component;return o?E.jsx(P.Fragment,{children:r.type==="divider"?E.jsx(Ya,{className:"!richtext-mx-1 !richtext-my-2 !richtext-h-[16px]",orientation:"vertical"}):E.jsx(o,{...r.componentProps,disabled:e||((i=r==null?void 0:r.componentProps)==null?void 0:i.disabled),editor:n})}):E.jsx(E.Fragment,{})}function hIe(r){return r.type.name===Vf.name}function fIe(r){return r.type.name===XN.name}function pIe(r){return r.type.name===AS.name}function mIe(r){const{lang:e}=Cn(),n=({editor:o})=>{const{selection:a}=o.view.state,{$from:s,to:l}=a;let c=!1;return o.view.state.doc.nodesBetween(s.pos,l,u=>{if(hIe(u))return c=!0,!1}),c},i=P.useMemo(()=>r.disabled?[]:XOe(r.editor),[r.disabled,r.editor,e]);return E.jsx(E.Fragment,{children:E.jsx(va,{editor:r==null?void 0:r.editor,shouldShow:n,tippyOptions:ZN,children:i!=null&&i.length?E.jsx("div",{className:"richtext-pointer-events-auto richtext-w-auto richtext-select-none richtext-rounded-sm !richtext-border richtext-border-neutral-200 richtext-bg-background richtext-px-3 richtext-py-2 richtext-shadow-sm richtext-transition-all dark:richtext-border-neutral-800",children:E.jsx("div",{className:"richtext-relative richtext-flex richtext-h-[26px] richtext-flex-nowrap richtext-items-center richtext-justify-start richtext-whitespace-nowrap",children:i==null?void 0:i.map((o,a)=>E.jsx(JN,{disabled:r.disabled,editor:r.editor,item:o},`bubbleMenu-image-${a}`))})}):E.jsx(E.Fragment,{})})})}function gIe(r){const{lang:e}=Cn(),n=({editor:o})=>{const{selection:a}=o.view.state,{$from:s,to:l}=a;let c=!1;return o.view.state.doc.nodesBetween(s.pos,l,u=>{if(fIe(u))return c=!0,!1}),c},i=P.useMemo(()=>r.disabled?[]:YOe(r.editor),[r.disabled,r.editor,e]);return E.jsx(E.Fragment,{children:E.jsx(va,{editor:r==null?void 0:r.editor,shouldShow:n,tippyOptions:ZN,children:i!=null&&i.length?E.jsx("div",{className:"richtext-pointer-events-auto richtext-w-auto richtext-select-none richtext-rounded-sm !richtext-border richtext-border-neutral-200 richtext-bg-background richtext-px-3 richtext-py-2 richtext-shadow-sm richtext-transition-all dark:richtext-border-neutral-800",children:E.jsx("div",{className:"richtext-relative richtext-flex richtext-h-[26px] richtext-flex-nowrap richtext-items-center richtext-justify-start richtext-whitespace-nowrap",children:i==null?void 0:i.map((o,a)=>E.jsx(JN,{disabled:r.disabled,editor:r.editor,item:o},`bubbleMenu-image-gif-${a}`))})}):E.jsx(E.Fragment,{})})})}function yIe(r){const{lang:e}=Cn(),n=({editor:o})=>{const{selection:a}=o.view.state,{$from:s,to:l}=a;let c=!1;return o.view.state.doc.nodesBetween(s.pos,l,u=>{if(pIe(u))return c=!0,!1}),c},i=P.useMemo(()=>r.disabled?[]:QOe(r.editor),[r.editor,r.disabled,e]);return E.jsx(E.Fragment,{children:E.jsx(va,{editor:r==null?void 0:r.editor,shouldShow:n,tippyOptions:ZN,children:i!=null&&i.length?E.jsx("div",{className:"richtext-pointer-events-auto richtext-w-auto richtext-select-none richtext-rounded-sm !richtext-border richtext-border-neutral-200 richtext-bg-background richtext-px-3 richtext-py-2 richtext-shadow-sm richtext-transition-all dark:richtext-border-neutral-800",children:E.jsx("div",{className:"richtext-relative richtext-flex richtext-h-[26px] richtext-flex-nowrap richtext-items-center richtext-justify-start richtext-whitespace-nowrap",children:i==null?void 0:i.map((o,a)=>E.jsx(JN,{disabled:r.disabled,editor:r.editor,item:o},`bubbleMenu-video-${a}`))})}):E.jsx(E.Fragment,{})})})}function bIe(r,e,n=null){return n?r.createChecked({index:e},n):r.createAndFill({index:e})}function vIe(r){if(r.cached.columnsNodeTypes)return r.cached.columnsNodeTypes;const e={columns:r.nodes.columns,column:r.nodes.column};return r.cached.columnsNodeTypes=e,e}function xIe(r,e,n=null){const i=vIe(r),o=[];for(let a=0;a<e;a+=1){const s=bIe(i.column,a,n);s&&o.push(s)}return i.columns.createChecked({cols:e},o)}function sE({state:r,dispatch:e,type:n}){const i=Uf(a=>a.type.name===bb.name)(r.selection),o=Uf(a=>a.type.name===QN.name)(r.selection);if(e&&i&&o){const a=i.node,s=o.node.attrs.index,l=a.toJSON();let c=s;n==="delete"?(c=s-1,l.content.splice(s,1)):(c=n==="addBefore"?s:s+1,l.content.splice(c,0,{type:"column",attrs:{index:s},content:[{type:"paragraph"}]})),l.attrs.cols=l.content.length,l.content.forEach((f,m)=>{f.attrs.index=m});const u=Nc.fromJSON(r.schema,l);let d=i.pos;u.content.forEach((f,m,b)=>{b<c&&(d+=f.nodeSize)});const h=r.tr.setTime(Date.now());h.replaceWith(i.pos,i.pos+i.node.nodeSize,u).setSelection(Ht.near(h.doc.resolve(d))),e(h)}return!0}function QF({state:r,dispatch:e,type:n}){const i=Uf(a=>a.type.name===bb.name)(r.selection),o=Uf(a=>a.type.name===QN.name)(r.selection);if(e&&i&&o){const a=i.node,s=o.node.attrs.index;let l=0;n==="before"?l=(s-1+a.attrs.cols)%a.attrs.cols:l=(s+1)%a.attrs.cols;let c=i.pos;a.content.forEach((d,h,f)=>{f<l&&(c+=d.nodeSize)});const u=r.tr.setTime(Date.now());return u.setSelection(Ht.near(u.doc.resolve(c))),e(u),!0}return!1}const QN=Un.create({name:"column",content:"block+",isolating:!0,addOptions(){return{HTMLAttributes:{class:"column"}}},addAttributes(){return{index:{default:0,parseHTML:r=>r.getAttribute("index")}}},parseHTML(){return[{tag:"div[class=column]"}]},renderHTML({HTMLAttributes:r}){return["div",en(this.options.HTMLAttributes,r),0]}}),wIe=Sn.create({name:"columnActionButton",addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),button:({editor:e,t:n})=>({component:ft,componentProps:{action:()=>{e.chain().focus().insertColumns({cols:2}).run()},icon:"Columns",tooltip:n("editor.columns.tooltip")}})}}}),SIe=200,bb=Un.create({name:"columns",group:"block",defining:!0,isolating:!0,allowGapCursor:!1,content:"column{1,}",priority:SIe,addOptions(){return{HTMLAttributes:{class:"columns"}}},addAttributes(){return{cols:{default:2,parseHTML:r=>r.getAttribute("cols")}}},parseHTML(){return[{tag:"div[class=grid]"}]},renderHTML({HTMLAttributes:r}){return["div",en(this.options.HTMLAttributes,r),0]},addCommands(){return{insertColumns:r=>({tr:e,dispatch:n,editor:i})=>{const o=xIe(i.schema,r&&r.cols||3);if(n){const a=e.selection.anchor+1;e.replaceSelectionWith(o).scrollIntoView().setSelection(Ht.near(e.doc.resolve(a)))}return!0},addColBefore:()=>({dispatch:r,state:e})=>sE({dispatch:r,state:e,type:"addBefore"}),addColAfter:()=>({dispatch:r,state:e})=>sE({dispatch:r,state:e,type:"addAfter"}),deleteCol:()=>({dispatch:r,state:e})=>sE({dispatch:r,state:e,type:"delete"})}},addKeyboardShortcuts(){return{"Mod-Alt-G":()=>this.editor.commands.insertColumns(),Tab:()=>QF({state:this.editor.state,dispatch:this.editor.view.dispatch,type:"after"}),"Shift-Tab":()=>QF({state:this.editor.state,dispatch:this.editor.view.dispatch,type:"before"})}}});function rg(r,e){const{state:n}=e,i=n.selection.$anchor;let o=!1;if(i.depth)for(let a=i.depth;a>0;a--)i.node(a).type.name===r&&(e.dispatchTransaction&&e.dispatchTransaction(n.tr.delete(i.before(a),i.after(a)).scrollIntoView()),o=!0);else{const a=n.selection.node;a&&a.type.name===r&&(e.chain().deleteSelection().run(),o=!0)}if(!o){const a=i.pos;if(a){const s=n.tr.doc.nodeAt(a);s&&s.type.name===r&&(e.dispatchTransaction&&e.dispatchTransaction(n.tr.delete(a,a+s.nodeSize)),o=!0)}}return o}function kIe({editor:r}){const{t:e}=Cn(),n=P.useCallback(()=>r.isActive(bb.name),[r]),i=P.useCallback(()=>rg(bb.name,r),[r]),o=P.useCallback(()=>r.chain().focus().addColBefore().run(),[r]),a=P.useCallback(()=>r.chain().focus().addColAfter().run(),[r]),s=P.useCallback(()=>r.chain().focus().deleteCol().run(),[r]);return E.jsx(va,{editor:r,pluginKey:"columns-bubble-menu",shouldShow:n,tippyOptions:{popperOptions:{modifiers:[{name:"flip",enabled:!1}]},placement:"bottom-start",offset:[-2,16],zIndex:9999},children:E.jsxs("div",{className:"richtext-pointer-events-auto richtext-w-auto richtext-select-none richtext-rounded-sm !richtext-border richtext-border-neutral-200 richtext-bg-background richtext-px-3 richtext-py-2 richtext-shadow-sm richtext-transition-all dark:richtext-border-neutral-800",children:[E.jsx(ft,{action:o,icon:"ColumnAddLeft",tooltip:e("editor.table.menu.insertColumnBefore")}),E.jsx(ft,{action:a,icon:"ColumnAddRight",tooltip:e("editor.table.menu.insertColumnAfter")}),E.jsx(ft,{action:s,icon:"DeleteColumn",tooltip:e("editor.table.menu.deleteColumn")}),E.jsx(ft,{action:i,icon:"Trash2",tooltip:e("editor.table.menu.delete_column")})]})})}const cp=kDe,up=TDe,eH=Qae,tH=EDe,UD=P.forwardRef(({className:r,inset:e,children:n,...i},o)=>E.jsxs(sse,{ref:o,className:wt("richtext-flex richtext-cursor-default richtext-select-none richtext-items-center richtext-rounded-sm richtext-px-2 richtext-py-1.5 richtext-text-sm richtext-outline-none focus:richtext-bg-accent data-[state=open]:richtext-bg-accent",e&&"richtext-pl-8",r),...i,children:[n,E.jsx(l8e,{className:"richtext-ml-auto richtext-h-4 richtext-w-4"})]}));UD.displayName=sse.displayName;const BD=P.forwardRef(({className:r,...e},n)=>E.jsx(lse,{ref:n,className:wt("richtext-z-50 richtext-min-w-[8rem] richtext-overflow-hidden richtext-rounded-md !richtext-border richtext-bg-popover richtext-p-1 richtext-text-popover-foreground richtext-shadow-lg data-[state=open]:richtext-animate-in data-[state=closed]:richtext-animate-out data-[state=closed]:richtext-fade-out-0 data-[state=open]:richtext-fade-in-0 data-[state=closed]:richtext-zoom-out-95 data-[state=open]:richtext-zoom-in-95 data-[side=bottom]:richtext-slide-in-from-top-2 data-[side=left]:richtext-slide-in-from-right-2 data-[side=right]:richtext-slide-in-from-left-2 data-[side=top]:richtext-slide-in-from-bottom-2",r),...e}));BD.displayName=lse.displayName;const th=P.forwardRef(({className:r,sideOffset:e=4,...n},i)=>E.jsx(Qae,{children:E.jsx(ese,{ref:i,sideOffset:e,className:wt("richtext-z-50 richtext-min-w-[8rem] richtext-overflow-hidden richtext-rounded-md !richtext-border richtext-bg-popover richtext-p-1 richtext-text-popover-foreground richtext-shadow-md data-[state=open]:richtext-animate-in data-[state=closed]:richtext-animate-out data-[state=closed]:richtext-fade-out-0 data-[state=open]:richtext-fade-in-0 data-[state=closed]:richtext-zoom-out-95 data-[state=open]:richtext-zoom-in-95 data-[side=bottom]:richtext-slide-in-from-top-2 data-[side=left]:richtext-slide-in-from-right-2 data-[side=right]:richtext-slide-in-from-left-2 data-[side=top]:richtext-slide-in-from-bottom-2",r),...n})}));th.displayName=ese.displayName;const Gs=P.forwardRef(({className:r,inset:e,...n},i)=>E.jsx(nse,{ref:i,className:wt("richtext-relative richtext-flex richtext-cursor-default richtext-select-none richtext-items-center richtext-rounded-sm richtext-px-2 richtext-py-1.5 richtext-text-sm richtext-outline-none richtext-transition-colors focus:richtext-bg-accent focus:richtext-text-accent-foreground data-[disabled]:richtext-pointer-events-none data-[disabled]:richtext-opacity-50",e&&"richtext-pl-8",r),...n}));Gs.displayName=nse.displayName;const dp=P.forwardRef(({className:r,children:e,checked:n,...i},o)=>E.jsxs(rse,{ref:o,className:wt("richtext-relative richtext-flex richtext-cursor-default richtext-select-none richtext-items-center richtext-rounded-sm richtext-py-1.5 richtext-pl-8 richtext-pr-2 richtext-text-sm richtext-outline-none richtext-transition-colors focus:richtext-bg-accent focus:richtext-text-accent-foreground data-[disabled]:richtext-pointer-events-none data-[disabled]:richtext-opacity-50",r),checked:n,...i,children:[E.jsx("span",{className:"richtext-absolute richtext-left-2 richtext-flex richtext-h-3.5 richtext-w-3.5 richtext-items-center richtext-justify-center",children:E.jsx(ose,{children:E.jsx(uN,{className:"richtext-h-4 richtext-w-4"})})}),e]}));dp.displayName=rse.displayName;const TIe=P.forwardRef(({className:r,children:e,...n},i)=>E.jsxs(ise,{ref:i,className:wt("richtext-relative richtext-flex richtext-cursor-default richtext-select-none richtext-items-center richtext-rounded-sm richtext-py-1.5 richtext-pl-8 richtext-pr-2 richtext-text-sm richtext-outline-none richtext-transition-colors focus:richtext-bg-accent focus:richtext-text-accent-foreground data-[disabled]:richtext-pointer-events-none data-[disabled]:richtext-opacity-50",r),...n,children:[E.jsx("span",{className:"richtext-absolute richtext-left-2 richtext-flex richtext-h-3.5 richtext-w-3.5 richtext-items-center richtext-justify-center",children:E.jsx(ose,{children:E.jsx(u8e,{className:"richtext-h-2 richtext-w-2 richtext-fill-current"})})}),e]}));TIe.displayName=ise.displayName;const EIe=P.forwardRef(({className:r,inset:e,...n},i)=>E.jsx(tse,{ref:i,className:wt("richtext-px-2 richtext-py-1.5 richtext-text-sm richtext-font-semibold",e&&"richtext-pl-8",r),...n}));EIe.displayName=tse.displayName;const DS=P.forwardRef(({className:r,...e},n)=>E.jsx(ase,{ref:n,className:wt("richtext--mx-1 richtext-my-1 richtext-h-px richtext-bg-muted",r),...e}));DS.displayName=ase.displayName;function cle({className:r,...e}){return E.jsx("span",{className:wt("richtext-ml-auto richtext-text-xs richtext-tracking-widest richtext-opacity-60",r),...e})}cle.displayName="DropdownMenuShortcut";const lo=P.forwardRef(({className:r,type:e,...n},i)=>E.jsx("input",{type:e,className:wt("richtext-flex richtext-h-10 richtext-w-full richtext-rounded-md !richtext-border richtext-border-input richtext-bg-background richtext-px-3 richtext-py-2 richtext-text-sm richtext-ring-offset-background file:richtext-border-0 file:richtext-bg-transparent file:richtext-text-sm file:richtext-font-medium placeholder:richtext-text-muted-foreground focus-visible:richtext-outline-none  disabled:richtext-cursor-not-allowed disabled:richtext-opacity-50",r),ref:i,...n}));lo.displayName="Input";const CIe=CS("richtext-text-sm richtext-font-medium richtext-leading-none peer-disabled:richtext-cursor-not-allowed peer-disabled:richtext-opacity-70"),ha=P.forwardRef(({className:r,...e},n)=>E.jsx(loe,{ref:n,className:wt(CIe(),r),...e}));ha.displayName=loe.displayName;const as=e_e,ss=t_e,wa=P.forwardRef(({className:r,align:e="center",sideOffset:n=4,...i},o)=>E.jsx(n_e,{children:E.jsx(aoe,{ref:o,align:e,sideOffset:n,className:wt("richtext-z-50 richtext-w-72 richtext-rounded-md !richtext-border richtext-bg-popover richtext-p-4 richtext-text-popover-foreground richtext-shadow-md richtext-outline-none data-[state=open]:richtext-animate-in data-[state=closed]:richtext-animate-out data-[state=closed]:richtext-fade-out-0 data-[state=open]:richtext-fade-in-0 data-[state=closed]:richtext-zoom-out-95 data-[state=open]:richtext-zoom-in-95 data-[side=bottom]:richtext-slide-in-from-top-2 data-[side=left]:richtext-slide-in-from-right-2 data-[side=right]:richtext-slide-in-from-left-2 data-[side=top]:richtext-slide-in-from-bottom-2",r),...i})}));wa.displayName=aoe.displayName;const Ya=P.forwardRef(({className:r,orientation:e="horizontal",decorative:n=!0,...i},o)=>E.jsx(Nre,{ref:o,decorative:n,orientation:e,className:wt("richtext-shrink-0 richtext-bg-border",e==="horizontal"?"richtext-h-[1px] richtext-w-full":"richtext-h-full richtext-w-[1px]",r),...i}));Ya.displayName=Nre.displayName;const eO=P.forwardRef(({className:r,...e},n)=>E.jsx(hae,{className:wt("richtext-peer richtext-inline-flex richtext-h-6 richtext-w-11 richtext-shrink-0 richtext-cursor-pointer richtext-items-center richtext-rounded-full richtext-border-2 richtext-border-transparent richtext-transition-colors focus-visible:richtext-outline-none focus-visible:richtext-ring-2 focus-visible:richtext-ring-ring focus-visible:richtext-ring-offset-2 focus-visible:richtext-ring-offset-background disabled:richtext-cursor-not-allowed disabled:richtext-opacity-50 data-[state=checked]:richtext-bg-primary data-[state=unchecked]:richtext-bg-input",r),...e,ref:n,children:E.jsx(mAe,{className:wt("richtext-pointer-events-none richtext-block richtext-h-5 richtext-w-5 richtext-rounded-full richtext-bg-background richtext-shadow-lg richtext-ring-0 richtext-transition-transform data-[state=checked]:richtext-translate-x-5 data-[state=unchecked]:richtext-translate-x-0")})}));eO.displayName=hae.displayName;const ule=W_e,tO=P.forwardRef(({className:r,...e},n)=>E.jsx(Goe,{ref:n,className:wt("richtext-inline-flex richtext-h-10 richtext-items-center richtext-justify-center richtext-rounded-md richtext-bg-muted richtext-p-1 richtext-text-muted-foreground",r),...e}));tO.displayName=Goe.displayName;const vb=P.forwardRef(({className:r,...e},n)=>E.jsx(Koe,{ref:n,className:wt("richtext-inline-flex richtext-items-center richtext-justify-center richtext-whitespace-nowrap richtext-rounded-sm richtext-px-3 richtext-py-1.5 richtext-text-sm richtext-font-medium richtext-ring-offset-background richtext-transition-all focus-visible:richtext-outline-none focus-visible:richtext-ring-2 focus-visible:richtext-ring-ring focus-visible:richtext-ring-offset-2 disabled:richtext-pointer-events-none disabled:richtext-opacity-50 data-[state=active]:richtext-bg-background data-[state=active]:richtext-text-foreground data-[state=active]:richtext-shadow-sm",r),...e}));vb.displayName=Koe.displayName;const xb=P.forwardRef(({className:r,...e},n)=>E.jsx(Xoe,{ref:n,className:wt("richtext-mt-2 richtext-ring-offset-background focus-visible:richtext-outline-none focus-visible:richtext-ring-2 focus-visible:richtext-ring-ring focus-visible:richtext-ring-offset-2",r),...e}));xb.displayName=Xoe.displayName;const _Ie=ZTe,dle=P.forwardRef(({className:r,...e},n)=>E.jsx(Yre,{ref:n,className:wt("richtext-fixed richtext-top-0 richtext-z-[100] richtext-flex richtext-max-h-screen richtext-w-full richtext-flex-col-reverse richtext-p-4 sm:richtext-bottom-0 sm:richtext-right-0 sm:richtext-top-auto sm:richtext-flex-col md:richtext-max-w-[420px]",r),...e}));dle.displayName=Yre.displayName;const AIe=CS("richtext-group richtext-pointer-events-auto richtext-relative richtext-flex richtext-w-full richtext-items-center richtext-justify-between richtext-space-x-4 richtext-overflow-hidden richtext-rounded-md !richtext-border richtext-p-6 richtext-pr-8 richtext-shadow-lg richtext-transition-all data-[swipe=cancel]:richtext-translate-x-0 data-[swipe=end]:richtext-translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:richtext-translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:richtext-transition-none data-[state=open]:richtext-animate-in data-[state=closed]:richtext-animate-out data-[swipe=end]:richtext-animate-out data-[state=closed]:richtext-fade-out-80 data-[state=closed]:richtext-slide-out-to-right-full data-[state=open]:richtext-slide-in-from-top-full data-[state=open]:sm:richtext-slide-in-from-bottom-full",{variants:{variant:{default:"richtext-border richtext-bg-background richtext-text-foreground",destructive:"richtext-destructive richtext-group richtext-border-destructive richtext-bg-destructive richtext-text-destructive-foreground"}},defaultVariants:{variant:"default"}}),hle=P.forwardRef(({className:r,variant:e,...n},i)=>E.jsx(Zre,{ref:i,className:wt(AIe({variant:e}),r),...n}));hle.displayName=Zre.displayName;const DIe=P.forwardRef(({className:r,...e},n)=>E.jsx(eie,{ref:n,className:wt("richtext-inline-flex richtext-h-8 richtext-shrink-0 richtext-items-center richtext-justify-center richtext-rounded-md !richtext-border richtext-bg-transparent richtext-px-3 richtext-text-sm richtext-font-medium richtext-ring-offset-background richtext-transition-colors hover:richtext-bg-secondary focus:richtext-outline-none focus:richtext-ring-2 focus:richtext-ring-ring focus:richtext-ring-offset-2 disabled:richtext-pointer-events-none disabled:richtext-opacity-50 group-[.destructive]:richtext-border-muted/40 group-[.destructive]:hover:richtext-border-destructive/30 group-[.destructive]:hover:richtext-bg-destructive group-[.destructive]:hover:richtext-text-destructive-foreground group-[.destructive]:focus:richtext-ring-destructive",r),...e}));DIe.displayName=eie.displayName;const fle=P.forwardRef(({className:r,...e},n)=>E.jsx(tie,{ref:n,className:wt("richtext-absolute richtext-right-2 richtext-top-2 richtext-rounded-md richtext-p-1 richtext-text-foreground/50 richtext-opacity-0 richtext-transition-opacity hover:richtext-text-foreground focus:richtext-opacity-100 focus:richtext-outline-none focus:richtext-ring-2 group-hover:richtext-opacity-100 group-[.destructive]:richtext-text-red-300 group-[.destructive]:hover:richtext-text-red-50 group-[.destructive]:focus:richtext-ring-red-400 group-[.destructive]:focus:richtext-ring-offset-red-600",r),"toast-close":"",...e,children:E.jsx(cie,{className:"richtext-h-4 richtext-w-4"})}));fle.displayName=tie.displayName;const ple=P.forwardRef(({className:r,...e},n)=>E.jsx(Jre,{ref:n,className:wt("richtext-text-sm richtext-font-semibold",r),...e}));ple.displayName=Jre.displayName;const mle=P.forwardRef(({className:r,...e},n)=>E.jsx(Qre,{ref:n,className:wt("richtext-text-sm richtext-opacity-90",r),...e}));mle.displayName=Qre.displayName;const MIe=CS("richtext-inline-flex richtext-items-center richtext-justify-center richtext-rounded-md richtext-text-sm richtext-font-medium richtext-ring-offset-background richtext-transition-colors hover:richtext-bg-muted hover:richtext-text-muted-foreground focus-visible:richtext-outline-none focus-visible:richtext-ring-2 focus-visible:richtext-ring-ring focus-visible:richtext-ring-offset-2 disabled:richtext-pointer-events-none disabled:richtext-opacity-50 data-[state=on]:richtext-bg-accent data-[state=on]:richtext-text-accent-foreground",{variants:{variant:{default:"richtext-bg-transparent",outline:"richtext-border richtext-border-input richtext-bg-transparent hover:richtext-bg-accent hover:richtext-text-accent-foreground"},size:{default:"richtext-h-10 richtext-px-3",sm:"richtext-h-9 richtext-px-2",lg:"richtext-h-11 richtext-px-5"}},defaultVariants:{variant:"default",size:"default"}}),kv=P.forwardRef(({className:r,variant:e,size:n,...i},o)=>E.jsx(Bie,{ref:o,className:wt(MIe({variant:e,size:n,className:r})),...i}));kv.displayName=Bie.displayName;const RIe=jCe,ig=FCe,og=HCe,hp=P.forwardRef(({className:r,sideOffset:e=4,...n},i)=>E.jsx(zie,{ref:i,sideOffset:e,className:wt("richtext-z-50 richtext-overflow-hidden richtext-rounded-md !richtext-border richtext-bg-popover richtext-px-3 richtext-py-1.5 richtext-text-sm richtext-text-popover-foreground richtext-shadow-md richtext-animate-in richtext-fade-in-0 richtext-zoom-in-95 data-[side=bottom]:richtext-slide-in-from-top-2 data-[side=left]:richtext-slide-in-from-right-2 data-[side=right]:richtext-slide-in-from-left-2 data-[side=top]:richtext-slide-in-from-bottom-2",r),...n}));hp.displayName=zie.displayName;const NIe=1,OIe=1e6;let lE=0;function PIe(){return lE=(lE+1)%Number.MAX_SAFE_INTEGER,lE.toString()}const cE=new Map;function nH(r){if(cE.has(r))return;const e=setTimeout(()=>{cE.delete(r),zy({type:"REMOVE_TOAST",toastId:r})},OIe);cE.set(r,e)}function IIe(r,e){switch(e.type){case"ADD_TOAST":return{...r,toasts:[e.toast,...r.toasts].slice(0,NIe)};case"UPDATE_TOAST":return{...r,toasts:r.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?nH(n):r.toasts.forEach(i=>{nH(i.id)}),{...r,toasts:r.toasts.map(i=>i.id===n||n===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(n=>n.id!==e.toastId)}}}const a4=[];let s4={toasts:[]};function zy(r){s4=IIe(s4,r),a4.forEach(e=>{e(s4)})}function $Ie({...r}){const e=PIe(),n=o=>zy({type:"UPDATE_TOAST",toast:{...o,id:e}}),i=()=>zy({type:"DISMISS_TOAST",toastId:e});return zy({type:"ADD_TOAST",toast:{...r,id:e,open:!0,onOpenChange:o=>{o||i()}}}),{id:e,dismiss:i,update:n}}function gle(){const[r,e]=P.useState(s4);return P.useEffect(()=>(a4.push(e),()=>{const n=a4.indexOf(e);n>-1&&a4.splice(n,1)}),[r]),{...r,toast:$Ie,dismiss:n=>zy({type:"DISMISS_TOAST",toastId:n})}}const yle=P.forwardRef(({className:r,...e},n)=>E.jsx(DN,{ref:n,className:wt("!richtext-peer !richtext-h-4 !richtext-w-4 !richtext-p-0 !richtext-shrink-0 !richtext-rounded-sm !richtext-border !richtext-border-primary !richtext-ring-offset-background focus-visible:!richtext-outline-none focus-visible:!richtext-ring-2 focus-visible:!richtext-ring-ring focus-visible:!richtext-ring-offset-2 disabled:!richtext-cursor-not-allowed disabled:!richtext-opacity-50 data-[state=checked]:!richtext-bg-primary data-[state=checked]:!richtext-text-primary-foreground",r),...e,children:E.jsx(Qoe,{className:wt("!richtext-flex !richtext-p-0 !richtext-items-center !richtext-justify-center !richtext-text-current"),children:E.jsx(uN,{className:"!richtext-h-4 !richtext-w-4"})})}));yle.displayName=DN.displayName;const zIe={padding:"0 12px 12px"},ble=({width:r,maxWidth:e,height:n,onOk:i,children:o})=>{const{t:a}=Cn(),[s,l]=P.useState({width:"",height:"",maxWidth:""});P.useEffect(()=>{l({width:r,height:n,maxWidth:e})},[n,e,r]);function c(u){u.preventDefault(),u.stopPropagation(),i(s)}return E.jsxs(as,{modal:!0,children:[E.jsx(ss,{asChild:!0,children:o}),E.jsx(wa,{children:E.jsx("div",{style:zIe,children:E.jsxs("form",{className:"richtext-flex richtext-flex-col richtext-gap-2",onSubmit:c,children:[E.jsx(ha,{className:"mb-[6px]",children:"Width"}),E.jsx("div",{className:"richtext-flex richtext-w-full richtext-max-w-sm richtext-items-center richtext-gap-1.5",children:E.jsx("div",{className:"richtext-relative richtext-items-center richtext-w-full richtext-max-w-sm",children:E.jsx(lo,{type:"number",value:s.width,required:!0,onChange:u=>l({...s,width:u.target.value})})})}),E.jsx(ha,{className:"mb-[6px]",children:"Max Width"}),E.jsx("div",{className:"richtext-flex richtext-w-full richtext-max-w-sm richtext-items-center richtext-gap-1.5",children:E.jsx("div",{className:"richtext-relative richtext-items-center richtext-w-full richtext-max-w-sm",children:E.jsx(lo,{type:"number",value:s.maxWidth,required:!0,onChange:u=>l({...s,maxWidth:u.target.value})})})}),E.jsx(ha,{className:"mb-[6px]",children:"Height"}),E.jsx("div",{className:"richtext-flex richtext-w-full richtext-max-w-sm richtext-items-center richtext-gap-1.5",children:E.jsx("div",{className:"richtext-relative richtext-items-center richtext-w-full richtext-max-w-sm",children:E.jsx(lo,{type:"number",value:s.height,required:!0,onChange:u=>l({...s,height:u.target.value})})})}),E.jsx(Nn,{type:"submit",className:"richtext-self-end richtext-mt-2",children:a("editor.link.dialog.button.apply")})]})})})]})},ag={youtube:{example:"https://www.youtube.com/watch?v=I4sMhHbHYXM",src:"https://www.youtube.com/embed/I4sMhHbHYXM",srcPrefix:"https://www.youtube.com/embed",linkRule:[/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\s/]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[&?]v=)|youtu\.be\/)([\w-]{11})/]},youku:{example:"https://v.youku.com/v_show/id_XNDM0NDM4MTcy.html?spm=a2h0c.8166622.PhoneSokuUgc_4.dtitle",src:"https://player.youku.com/embed/XNDM0NDM4MTcy",srcPrefix:"https://player.youku.com/embed",linkRule:[String.raw`v.youku.com\/v_show\/id_\w+\=*`],idRule:String.raw`id_\w+\=*`},bilibili:{example:"https://www.bilibili.com/video/BV1EJ411u7DN",src:"https://player.bilibili.com/player.html?bvid=BV1EJ411u7DN",srcPrefix:"https://player.bilibili.com/player.html?bvid",linkRule:[String.raw`www.bilibili.com\/video\/\w+`]},qqvideo:{example:"https://v.qq.com/x/cover/mzc0020006aw1mn/u0033nvzb5v.html",src:"https://v.qq.com/txp/iframe/player.html?vid=u0033nvzb5v",srcPrefix:"https://v.qq.com/txp/iframe/player.html?vid",linkRule:[String.raw`v.qq.com\/x\/cover\/\w+\/\w+`]},amap:{example:"https://ditu.amap.com/",src:"https://www.amap.com/place/B000A45467",srcPrefix:"",linkRule:[String.raw`\.amap\.com`]},baidu_map:{example:"https://j.map.baidu.com/15/fo",src:"https://j.map.baidu.com/15/fo",srcPrefix:"",linkRule:[String.raw`map\.baidu\.com`]},modao:{example:"https://free.modao.cc/app/2cd26580a6717a147454df7470e7ec464093cba3/embed/v2#screen=sk71k6d1dfxulzx",src:"https://free.modao.cc/app/6UkpAxcGE3nPz52GLqhnOZgC7MATBSy/embed/v2",srcPrefix:"",linkRule:[String.raw`https:\/\/\w+.modao.cc\/app\/\w+\/embed\/v2`],tips:"Modao > More > Share > Embed > COPY"},lanhu:{example:"https://lanhuapp.com/link/#/invite?sid=evP7L",src:"https://lanhuapp.com/url/evP7L",srcPrefix:"",linkRule:[String.raw`https:\/\/lanhuapp.com\/url\/\w+`],tips:"Lanhu > Project > Share > Copy Link"},figma:{example:"https://www.figma.com/file/aS9uSgPXoNpaPkzbjNcK8v/Demo?node-id=0%3A1",src:"https://www.figma.com/file/aS9uSgPXoNpaPkzbjNcK8v/Demo?node-id=0%3A1",srcPrefix:"https://www.figma.com/embed?embed_host=share&url",linkRule:[String.raw`https:\/\/www.figma.com\/file\/\w+`]},canva:{example:"https://www.canva.cn/design/DAD61-t29UI/view",src:"https://www.canva.cn/design/DAD61-t29UI/view",srcPrefix:"",linkRule:[String.raw`https:\/\/www.canva.cn\/design\/.+\/view`]},processon:{example:"https://www.processon.com/embed/5ea99d8607912948b0e6fe78",src:"https://www.processon.com/embed/5ea99d8607912948b0e6fe78",srcPrefix:"",linkRule:[String.raw`https:\/\/www.processon.com\/embed\/\w+`]},codepen:{example:"https://codepen.io/mekery/embed/YzyrKOJ",src:"https://codepen.io/mekery/embed/YzyrKOJ",srcPrefix:"",linkRule:[String.raw`https:\/\/codepen.io\/.+\/embed\/\w+`]},jinshuju:{example:"https://jinshuju.net/f/q9YvVf",src:"https://jinshuju.net/f/q9YvVf",srcPrefix:"",linkRule:[String.raw`https:\/\/jinshuju.net\/f\/\w+`]},iframe:{example:"https://v.youku.com/v_show/id_XNDM0NDM4MTcy.html",src:"https://player.youku.com/embed/XNDM0NDM4MTcy",srcPrefix:"",linkRule:[".+"]},googlemaps:{example:"https://goo.gl/maps/8Ys8b4K1ZJY2",src:"https://www.google.com/maps/embed?pb=https://goo.gl/maps/8Ys8b4K1ZJY2",srcPrefix:"",linkRule:[String.raw`https:\/\/goo.gl\/maps\/\w+`]}};function LIe(r){const e=ag.youtube,n=r.matchedUrl;r.validLink=!0;const i=n.split("="),o=i.length;if(o>0){const a=i[o-1];r.src=`${e.srcPrefix}/${a}`,r.validId=!0}return r}function UIe(r){const e=ag.youku,n=r.matchedUrl,i=e.idRule,o=new RegExp(i),a=n.match(o);if(a&&a.length>0){const s=a[0].slice(3);r.validId=!0,r.src=`${e.srcPrefix}/${s}`}else r.validId=!1;return r}function BIe(r){const e=ag.bilibili,n=r.matchedUrl.split("/"),i=n.length;if(i>0){const o=n[i-1];r.src=`${e.srcPrefix}=${o}`,r.validId=!0}return r}function jIe(r){const e=ag.qqvideo,n=r.matchedUrl.split("/"),i=n.length;if(i>0){const o=n[i-1];r.src=`${e.srcPrefix}=${o}`,r.validId=!0}return r}function FIe(r,e){return e.src=r,e.validId=!0,e}function HIe(r,e){return e.src=r,e.validId=!0,e}function WIe(r,e){return e.src=r,e.validId=!0,e.originalLink=r,e}function VIe(r){return r.src=r.matchedUrl,r.validId=!0,r.originalLink=r.src,r}function qIe(r){return r.src=r.matchedUrl,r.validId=!0,r.originalLink=r.src,r}function GIe(r){const e=ag.figma;return r.src=`${e.srcPrefix}=${encodeURIComponent(r.matchedUrl)}`,r.validId=!0,r.originalLink=r.matchedUrl,r}function KIe(r,e){return e.src=`${e.matchedUrl}?embed`,e.validId=!0,e.originalLink=r,e}function XIe(r,e){return e.src=`${e.matchedUrl}`,e.validId=!0,e.originalLink=r,e}function YIe(r){return r.src=`${r.matchedUrl}`,r.validId=!0,r.originalLink=r.src,r}function ZIe(r,e){return e.src=`${e.matchedUrl}?background=white&banner=show&embedded=true`,e.validId=!0,e.originalLink=r,e}function JIe(r,e){return e.src=`${e.matchedUrl}`,e.validId=!0,e.originalLink=r,e}function QIe(r,e,n){if(r==="googlemaps")return n.validLink=!0,n.matchedUrl=e,n;const i=ag[r].linkRule;for(const o of i){const a=new RegExp(o),s=e.match(a);if(s&&s.length>0)return n.validLink=!0,n.matchedUrl=r==="youtube"?s[1]:s[0],n}return n}function e$e(r){var e,n;let i="iframe";return((e=r.includes)!=null&&e.call(r,"youtube")||(n=r.includes)!=null&&n.call(r,"youtu.be"))&&(i="youtube"),r.includes("youku")&&(i="youku"),r.includes("bilibili")&&(i="bilibili"),r.includes("qq")&&(i="qqvideo"),r.includes("amap")&&(i="amap"),r.includes("map.baidu")&&(i="baidu_map"),(r.includes("google.com/maps")||r.includes("maps.app.goo.gl"))&&(i="googlemaps"),r.includes("modao")&&(i="modao"),r.includes("lanhuapp")&&(i="lanhu"),r.includes("figma")&&(i="figma"),r.includes("canva")&&(i="canva"),r.includes("processon")&&(i="processon"),r.includes("codepen")&&(i="codepen"),r.includes("jinshuju")&&(i="jinshuju"),r.includes("iframe")&&(i="iframe"),i}function vle(r){let e={validLink:!1,validId:!1,matchedUrl:"",originalLink:r,src:""};const n=e$e(r);if(e=QIe(n,r,e),!e.validLink)return e;switch(n){case"youtube":return LIe(e);case"youku":return UIe(e);case"bilibili":return BIe(e);case"qqvideo":return jIe(e);case"amap":return FIe(r,e);case"baidu_map":return HIe(r,e);case"googlemaps":return WIe(r,e);case"modao":return VIe(e);case"lanhu":return qIe(e);case"figma":return GIe(e);case"canva":return KIe(r,e);case"processon":return XIe(r,e);case"codepen":return YIe(e);case"jinshuju":return ZIe(r,e);case"iframe":return JIe(r,e);default:return r}}function MS(){const[r]=ole(e=>e.value);return r}const t$e={setDisable:(r,e)=>{tl(zi.EDIT(r),e)}},n$e="_wrap_5y04w_1",r$e="_innerWrap_5y04w_15",rH={wrap:n$e,innerWrap:r$e};function i$e({editor:r,node:e,updateAttributes:n}){const i=MS(),{src:o,width:a,height:s}=e.attrs,[l,c]=P.useState("");function u(){if(!l)return;const h=vle(l);r.chain().updateAttributes(Qh.name,{src:(h==null?void 0:h.src)||l}).setNodeSelection(r.state.selection.from).focus().run()}const d=P.useCallback(h=>{n({width:h.width,height:h.height})},[n]);return E.jsxs(ua,{children:[!o&&E.jsxs("div",{className:"richtext-mx-auto richtext-my-[12px] richtext-flex richtext-max-w-[600px] richtext-items-center richtext-justify-center richtext-gap-[10px] richtext-rounded-[12px] richtext-border richtext-border-solid richtext-border-[#ccc] richtext-p-[10px]",children:[E.jsx(lo,{autoFocus:!0,className:"richtext-flex-1",onInput:h=>c(h.target.value),placeholder:"Enter link",type:"url",value:l}),E.jsx(Nn,{className:"richtext-w-[60px]",onClick:u,children:"OK"})]}),o&&E.jsx(Doe,{size:{width:Number.parseInt(a),height:Number.parseInt(s)},onResizeStop:(h,f,m,b)=>{d({width:Number.parseInt(a)+b.width,height:Number.parseInt(s)+b.height})},children:E.jsx("div",{className:pr(rH.wrap,"render-wrapper"),children:E.jsx("div",{className:rH.innerWrap,style:{pointerEvents:i?"none":"auto"},children:E.jsx("iframe",{className:"richtext-my-[12px] ",src:o})})})})]})}const Qh=Un.create({name:"iframe",content:"",marks:"",group:"block",selectable:!0,atom:!0,draggable:!0,addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),HTMLAttributes:{class:"iframe"},button:({editor:e,extension:n,t:i})=>({component:ft,componentProps:{action:o=>e.commands.setIframe(o),upload:n.options.upload,disabled:!e.can().setIframe({}),icon:"Iframe",tooltip:i("editor.iframe.tooltip")}})}},addAttributes(){return{width:{default:600,parseHTML:ro("width")},height:{default:300,parseHTML:ro("height")},src:{default:null,parseHTML:ro("src")},defaultShowPicker:{default:!1},frameborder:{default:0},allowfullscreen:{default:this.options.allowFullscreen,parseHTML:()=>this.options.allowFullscreen}}},parseHTML(){return[{tag:"iframe"}]},renderHTML({HTMLAttributes:r}){return["iframe",en(this.options.HTMLAttributes,r)]},addCommands(){return{setIframe:r=>({tr:e,commands:n,chain:i})=>{var o,a,s;if(((s=(a=(o=e.selection)==null?void 0:o.node)==null?void 0:a.type)==null?void 0:s.name)==this.name)return n.updateAttributes(this.name,r);const l=r||{url:""};return i().insertContent({type:this.name,attrs:l}).run()}}},addInputRules(){return[av({find:/^\$iframe\$$/,type:this.type,getAttributes:()=>({width:"100%"})})]},addNodeView(){return Ps(i$e)}});var Wa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nO(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function xle(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var o=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:function(){return r[i]}})}),n}var uE,iH;function wle(){if(iH)return uE;iH=1;var r=Object.prototype.toString;return uE=function(e){var n=r.call(e),i=n==="[object Arguments]";return i||(i=n!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&r.call(e.callee)==="[object Function]"),i},uE}var dE,oH;function o$e(){if(oH)return dE;oH=1;var r;if(!Object.keys){var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,i=wle(),o=Object.prototype.propertyIsEnumerable,a=!o.call({toString:null},"toString"),s=o.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(f){var m=f.constructor;return m&&m.prototype===f},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if(typeof window>"u")return!1;for(var f in window)try{if(!u["$"+f]&&e.call(window,f)&&window[f]!==null&&typeof window[f]=="object")try{c(window[f])}catch{return!0}}catch{return!0}return!1}(),h=function(f){if(typeof window>"u"||!d)return c(f);try{return c(f)}catch{return!1}};r=function(f){var m=f!==null&&typeof f=="object",b=n.call(f)==="[object Function]",g=i(f),v=m&&n.call(f)==="[object String]",x=[];if(!m&&!b&&!g)throw new TypeError("Object.keys called on a non-object");var w=s&&b;if(v&&f.length>0&&!e.call(f,0))for(var k=0;k<f.length;++k)x.push(String(k));if(g&&f.length>0)for(var T=0;T<f.length;++T)x.push(String(T));else for(var _ in f)!(w&&_==="prototype")&&e.call(f,_)&&x.push(String(_));if(a)for(var D=h(f),I=0;I<l.length;++I)!(D&&l[I]==="constructor")&&e.call(f,l[I])&&x.push(l[I]);return x}}return dE=r,dE}var hE,aH;function rO(){if(aH)return hE;aH=1;var r=Array.prototype.slice,e=wle(),n=Object.keys,i=n?function(a){return n(a)}:o$e(),o=Object.keys;return i.shim=function(){if(Object.keys){var a=function(){var s=Object.keys(arguments);return s&&s.length===arguments.length}(1,2);a||(Object.keys=function(s){return e(s)?o(r.call(s)):o(s)})}else Object.keys=i;return Object.keys||i},hE=i,hE}var fE,sH;function RS(){if(sH)return fE;sH=1;var r=Object.defineProperty||!1;if(r)try{r({},"a",{value:1})}catch{r=!1}return fE=r,fE}var lH,cH;function iO(){return cH||(cH=1,lH=SyntaxError),lH}var uH,dH;function ls(){return dH||(dH=1,uH=TypeError),uH}var hH,fH;function a$e(){return fH||(fH=1,hH=Object.getOwnPropertyDescriptor),hH}var pE,pH;function fp(){if(pH)return pE;pH=1;var r=a$e();if(r)try{r([],"length")}catch{r=null}return pE=r,pE}var mE,mH;function oO(){if(mH)return mE;mH=1;var r=RS(),e=iO(),n=ls(),i=fp();return mE=function(o,a,s){if(!o||typeof o!="object"&&typeof o!="function")throw new n("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new n("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,d=arguments.length>6?arguments[6]:!1,h=!!i&&i(o,a);if(r)r(o,a,{configurable:u===null&&h?h.configurable:!u,enumerable:l===null&&h?h.enumerable:!l,value:s,writable:c===null&&h?h.writable:!c});else if(d||!l&&!c&&!u)o[a]=s;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},mE}var gE,gH;function aO(){if(gH)return gE;gH=1;var r=RS(),e=function(){return!!r};return e.hasArrayLengthDefineBug=function(){if(!r)return null;try{return r([],"length",{value:1}).length!==1}catch{return!0}},gE=e,gE}var yE,yH;function pp(){if(yH)return yE;yH=1;var r=rO(),e=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,i=Array.prototype.concat,o=oO(),a=function(u){return typeof u=="function"&&n.call(u)==="[object Function]"},s=aO()(),l=function(u,d,h,f){if(d in u){if(f===!0){if(u[d]===h)return}else if(!a(f)||!f())return}s?o(u,d,h,!0):o(u,d,h)},c=function(u,d){var h=arguments.length>2?arguments[2]:{},f=r(d);e&&(f=i.call(f,Object.getOwnPropertySymbols(d)));for(var m=0;m<f.length;m+=1)l(u,f[m],d[f[m]],h[f[m]])};return c.supportsDescriptors=!!s,yE=c,yE}var bH={exports:{}},vH,xH;function sO(){return xH||(xH=1,vH=Object),vH}var wH,SH;function Sle(){return SH||(SH=1,wH=Error),wH}var kH,TH;function s$e(){return TH||(TH=1,kH=EvalError),kH}var EH,CH;function l$e(){return CH||(CH=1,EH=RangeError),EH}var _H,AH;function c$e(){return AH||(AH=1,_H=ReferenceError),_H}var DH,MH;function u$e(){return MH||(MH=1,DH=URIError),DH}var RH,NH;function d$e(){return NH||(NH=1,RH=Math.abs),RH}var OH,PH;function h$e(){return PH||(PH=1,OH=Math.floor),OH}var IH,$H;function f$e(){return $H||($H=1,IH=Math.max),IH}var zH,LH;function p$e(){return LH||(LH=1,zH=Math.min),zH}var UH,BH;function m$e(){return BH||(BH=1,UH=Math.pow),UH}var jH,FH;function g$e(){return FH||(FH=1,jH=Math.round),jH}var HH,WH;function y$e(){return WH||(WH=1,HH=Number.isNaN||function(r){return r!==r}),HH}var bE,VH;function b$e(){if(VH)return bE;VH=1;var r=y$e();return bE=function(e){return r(e)||e===0?e:e<0?-1:1},bE}var qH,GH;function NS(){return GH||(GH=1,qH=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},e=Symbol("test"),n=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;r[e]=i;for(var o in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var a=Object.getOwnPropertySymbols(r);if(a.length!==1||a[0]!==e||!Object.prototype.propertyIsEnumerable.call(r,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(r,e);if(s.value!==i||s.enumerable!==!0)return!1}return!0}),qH}var vE,KH;function lO(){if(KH)return vE;KH=1;var r=typeof Symbol<"u"&&Symbol,e=NS();return vE=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},vE}var XH,YH;function kle(){return YH||(YH=1,XH=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),XH}var xE,ZH;function Tle(){if(ZH)return xE;ZH=1;var r=sO();return xE=r.getPrototypeOf||null,xE}var wE,JH;function v$e(){if(JH)return wE;JH=1;var r="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,i="[object Function]",o=function(l,c){for(var u=[],d=0;d<l.length;d+=1)u[d]=l[d];for(var h=0;h<c.length;h+=1)u[h+l.length]=c[h];return u},a=function(l,c){for(var u=[],d=c,h=0;d<l.length;d+=1,h+=1)u[h]=l[d];return u},s=function(l,c){for(var u="",d=0;d<l.length;d+=1)u+=l[d],d+1<l.length&&(u+=c);return u};return wE=function(l){var c=this;if(typeof c!="function"||e.apply(c)!==i)throw new TypeError(r+c);for(var u=a(arguments,1),d,h=function(){if(this instanceof d){var v=c.apply(this,o(u,arguments));return Object(v)===v?v:this}return c.apply(l,o(u,arguments))},f=n(0,c.length-u.length),m=[],b=0;b<f;b++)m[b]="$"+b;if(d=Function("binder","return function ("+s(m,",")+"){ return binder.apply(this,arguments); }")(h),c.prototype){var g=function(){};g.prototype=c.prototype,d.prototype=new g,g.prototype=null}return d},wE}var SE,QH;function Tv(){if(QH)return SE;QH=1;var r=v$e();return SE=Function.prototype.bind||r,SE}var eW,tW;function cO(){return tW||(tW=1,eW=Function.prototype.call),eW}var nW,rW;function uO(){return rW||(rW=1,nW=Function.prototype.apply),nW}var iW,oW;function x$e(){return oW||(oW=1,iW=typeof Reflect<"u"&&Reflect&&Reflect.apply),iW}var kE,aW;function Ele(){if(aW)return kE;aW=1;var r=Tv(),e=uO(),n=cO(),i=x$e();return kE=i||r.call(n,e),kE}var TE,sW;function dO(){if(sW)return TE;sW=1;var r=Tv(),e=ls(),n=cO(),i=Ele();return TE=function(o){if(o.length<1||typeof o[0]!="function")throw new e("a function is required");return i(r,n,o)},TE}var EE,lW;function w$e(){if(lW)return EE;lW=1;var r=dO(),e=fp(),n;try{n=[].__proto__===Array.prototype}catch(s){if(!s||typeof s!="object"||!("code"in s)||s.code!=="ERR_PROTO_ACCESS")throw s}var i=!!n&&e&&e(Object.prototype,"__proto__"),o=Object,a=o.getPrototypeOf;return EE=i&&typeof i.get=="function"?r([i.get]):typeof a=="function"?function(s){return a(s==null?s:o(s))}:!1,EE}var CE,cW;function Cle(){if(cW)return CE;cW=1;var r=kle(),e=Tle(),n=w$e();return CE=r?function(i){return r(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:n?function(i){return n(i)}:null,CE}var _E,uW;function hO(){if(uW)return _E;uW=1;var r=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=Tv();return _E=n.call(r,e),_E}var AE,dW;function ou(){if(dW)return AE;dW=1;var r,e=sO(),n=Sle(),i=s$e(),o=l$e(),a=c$e(),s=iO(),l=ls(),c=u$e(),u=d$e(),d=h$e(),h=f$e(),f=p$e(),m=m$e(),b=g$e(),g=b$e(),v=Function,x=function(be){try{return v('"use strict"; return ('+be+").constructor;")()}catch{}},w=fp(),k=RS(),T=function(){throw new l},_=w?function(){try{return arguments.callee,T}catch{try{return w(arguments,"callee").get}catch{return T}}}():T,D=lO()(),I=Cle(),L=Tle(),O=kle(),W=uO(),Z=cO(),$={},F=typeof Uint8Array>"u"||!I?r:I(Uint8Array),A={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":D&&I?I([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":$,"%AsyncGenerator%":$,"%AsyncGeneratorFunction%":$,"%AsyncIteratorPrototype%":$,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":i,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":v,"%GeneratorFunction%":$,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":D&&I?I(I([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!D||!I?r:I(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":w,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":o,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!D||!I?r:I(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":D&&I?I(""[Symbol.iterator]()):r,"%Symbol%":D?Symbol:r,"%SyntaxError%":s,"%ThrowTypeError%":_,"%TypedArray%":F,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet,"%Function.prototype.call%":Z,"%Function.prototype.apply%":W,"%Object.defineProperty%":k,"%Object.getPrototypeOf%":L,"%Math.abs%":u,"%Math.floor%":d,"%Math.max%":h,"%Math.min%":f,"%Math.pow%":m,"%Math.round%":b,"%Math.sign%":g,"%Reflect.getPrototypeOf%":O};if(I)try{null.error}catch(be){var Q=I(I(be));A["%Error.prototype%"]=Q}var H=function be(pe){var ie;if(pe==="%AsyncFunction%")ie=x("async function () {}");else if(pe==="%GeneratorFunction%")ie=x("function* () {}");else if(pe==="%AsyncGeneratorFunction%")ie=x("async function* () {}");else if(pe==="%AsyncGenerator%"){var le=be("%AsyncGeneratorFunction%");le&&(ie=le.prototype)}else if(pe==="%AsyncIteratorPrototype%"){var Ee=be("%AsyncGenerator%");Ee&&I&&(ie=I(Ee.prototype))}return A[pe]=ie,ie},G={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ne=Tv(),J=hO(),ee=ne.call(Z,Array.prototype.concat),X=ne.call(W,Array.prototype.splice),j=ne.call(Z,String.prototype.replace),ae=ne.call(Z,String.prototype.slice),re=ne.call(Z,RegExp.prototype.exec),de=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,me=/\\(\\)?/g,K=function(be){var pe=ae(be,0,1),ie=ae(be,-1);if(pe==="%"&&ie!=="%")throw new s("invalid intrinsic syntax, expected closing `%`");if(ie==="%"&&pe!=="%")throw new s("invalid intrinsic syntax, expected opening `%`");var le=[];return j(be,de,function(Ee,M,he,V){le[le.length]=he?j(V,me,"$1"):M||Ee}),le},q=function(be,pe){var ie=be,le;if(J(G,ie)&&(le=G[ie],ie="%"+le[0]+"%"),J(A,ie)){var Ee=A[ie];if(Ee===$&&(Ee=H(ie)),typeof Ee>"u"&&!pe)throw new l("intrinsic "+be+" exists, but is not available. Please file an issue!");return{alias:le,name:ie,value:Ee}}throw new s("intrinsic "+be+" does not exist!")};return AE=function(be,pe){if(typeof be!="string"||be.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof pe!="boolean")throw new l('"allowMissing" argument must be a boolean');if(re(/^%?[^%]*%?$/,be)===null)throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ie=K(be),le=ie.length>0?ie[0]:"",Ee=q("%"+le+"%",pe),M=Ee.name,he=Ee.value,V=!1,R=Ee.alias;R&&(le=R[0],X(ie,ee([0,1],R)));for(var N=1,B=!0;N<ie.length;N+=1){var ue=ie[N],ve=ae(ue,0,1),se=ae(ue,-1);if((ve==='"'||ve==="'"||ve==="`"||se==='"'||se==="'"||se==="`")&&ve!==se)throw new s("property names with quotes must have matching quotes");if((ue==="constructor"||!B)&&(V=!0),le+="."+ue,M="%"+le+"%",J(A,M))he=A[M];else if(he!=null){if(!(ue in he)){if(!pe)throw new l("base intrinsic for "+be+" exists, but the property is not available.");return}if(w&&N+1>=ie.length){var ge=w(he,ue);B=!!ge,B&&"get"in ge&&!("originalValue"in ge.get)?he=ge.get:he=he[ue]}else B=J(he,ue),he=he[ue];B&&!V&&(A[M]=he)}}return he},AE}var DE,hW;function S$e(){if(hW)return DE;hW=1;var r=ou(),e=oO(),n=aO()(),i=fp(),o=ls(),a=r("%Math.floor%");return DE=function(s,l){if(typeof s!="function")throw new o("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||a(l)!==l)throw new o("`length` must be a positive 32-bit integer");var c=arguments.length>2&&!!arguments[2],u=!0,d=!0;if("length"in s&&i){var h=i(s,"length");h&&!h.configurable&&(u=!1),h&&!h.writable&&(d=!1)}return(u||d||!c)&&(n?e(s,"length",l,!0,!0):e(s,"length",l)),s},DE}var ME,fW;function k$e(){if(fW)return ME;fW=1;var r=Tv(),e=uO(),n=Ele();return ME=function(){return n(r,e,arguments)},ME}var pW;function sg(){return pW||(pW=1,function(r){var e=S$e(),n=RS(),i=dO(),o=k$e();r.exports=function(a){var s=i(arguments),l=a.length-(arguments.length-1);return e(s,1+(l>0?l:0),!0)},n?n(r.exports,"apply",{value:o}):r.exports.apply=o}(bH)),bH.exports}var RE,mW;function Ki(){if(mW)return RE;mW=1;var r=ou(),e=dO(),n=e([r("%String.prototype.indexOf%")]);return RE=function(i,o){var a=r(i,!!o);return typeof a=="function"&&n(i,".prototype.")>-1?e([a]):a},RE}var NE,gW;function _le(){if(gW)return NE;gW=1;var r=rO(),e=NS()(),n=Ki(),i=sO(),o=n("Array.prototype.push"),a=n("Object.prototype.propertyIsEnumerable"),s=e?i.getOwnPropertySymbols:null;return NE=function(l,c){if(l==null)throw new TypeError("target must be an object");var u=i(l);if(arguments.length===1)return u;for(var d=1;d<arguments.length;++d){var h=i(arguments[d]),f=r(h),m=e&&(i.getOwnPropertySymbols||s);if(m)for(var b=m(h),g=0;g<b.length;++g){var v=b[g];a(h,v)&&o(f,v)}for(var x=0;x<f.length;++x){var w=f[x];if(a(h,w)){var k=h[w];u[w]=k}}}return u},NE}var OE,yW;function Ale(){if(yW)return OE;yW=1;var r=_le(),e=function(){if(!Object.assign)return!1;for(var i="abcdefghijklmnopqrst",o=i.split(""),a={},s=0;s<o.length;++s)a[o[s]]=o[s];var l=Object.assign({},a),c="";for(var u in l)c+=u;return i!==c},n=function(){if(!Object.assign||!Object.preventExtensions)return!1;var i=Object.preventExtensions({1:2});try{Object.assign(i,"xy")}catch{return i[1]==="y"}return!1};return OE=function(){return!Object.assign||e()||n()?r:Object.assign},OE}var PE,bW;function T$e(){if(bW)return PE;bW=1;var r=pp(),e=Ale();return PE=function(){var n=e();return r(Object,{assign:n},{assign:function(){return Object.assign!==n}}),n},PE}var IE,vW;function E$e(){if(vW)return IE;vW=1;var r=pp(),e=sg(),n=_le(),i=Ale(),o=T$e(),a=e.apply(i()),s=function(l,c){return a(Object,arguments)};return r(s,{getPolyfill:i,implementation:n,shim:o}),IE=s,IE}var $E,xW;function Dle(){if(xW)return $E;xW=1;var r=ou(),e=sg(),n=e(r("String.prototype.indexOf"));return $E=function(i,o){var a=r(i,!!o);return typeof a=="function"&&n(i,".prototype.")>-1?e(a):a},$E}var zE,wW;function C$e(){if(wW)return zE;wW=1;var r=function(){return typeof(function(){}).name=="string"},e=Object.getOwnPropertyDescriptor;if(e)try{e([],"length")}catch{e=null}r.functionsHaveConfigurableNames=function(){if(!r()||!e)return!1;var i=e(function(){},"name");return!!i&&!!i.configurable};var n=Function.prototype.bind;return r.boundFunctionsHaveNames=function(){return r()&&typeof n=="function"&&(function(){}).bind().name!==""},zE=r,zE}var LE,SW;function _$e(){if(SW)return LE;SW=1;var r=oO(),e=aO()(),n=C$e().functionsHaveConfigurableNames(),i=ls();return LE=function(o,a){if(typeof o!="function")throw new i("`fn` is not a function");var s=arguments.length>2&&!!arguments[2];return(!s||n)&&(e?r(o,"name",a,!0,!0):r(o,"name",a)),o},LE}var UE,kW;function Mle(){if(kW)return UE;kW=1;var r=_$e(),e=ls(),n=Object;return UE=r(function(){if(this==null||this!==n(this))throw new e("RegExp.prototype.flags getter called on non-object");var i="";return this.hasIndices&&(i+="d"),this.global&&(i+="g"),this.ignoreCase&&(i+="i"),this.multiline&&(i+="m"),this.dotAll&&(i+="s"),this.unicode&&(i+="u"),this.unicodeSets&&(i+="v"),this.sticky&&(i+="y"),i},"get flags",!0),UE}var BE,TW;function Rle(){if(TW)return BE;TW=1;var r=Mle(),e=pp().supportsDescriptors,n=Object.getOwnPropertyDescriptor;return BE=function(){if(e&&/a/mig.flags==="gim"){var i=n(RegExp.prototype,"flags");if(i&&typeof i.get=="function"&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var o="",a={};if(Object.defineProperty(a,"hasIndices",{get:function(){o+="d"}}),Object.defineProperty(a,"sticky",{get:function(){o+="y"}}),i.get.call(a),o==="dy")return i.get}}return r},BE}var jE,EW;function A$e(){if(EW)return jE;EW=1;var r=pp().supportsDescriptors,e=Rle(),n=fp(),i=Object.defineProperty,o=Sle(),a=Cle(),s=/a/;return jE=function(){if(!r||!a)throw new o("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var l=e(),c=a(s),u=n(c,"flags");return(!u||u.get!==l)&&i(c,"flags",{configurable:!0,enumerable:!1,get:l}),l},jE}var FE,CW;function D$e(){if(CW)return FE;CW=1;var r=pp(),e=sg(),n=Mle(),i=Rle(),o=A$e(),a=e(i());return r(a,{getPolyfill:i,implementation:n,shim:o}),FE=a,FE}var C1={exports:{}},HE,_W;function mp(){if(_W)return HE;_W=1;var r=NS();return HE=function(){return r()&&!!Symbol.toStringTag},HE}var WE,AW;function Nle(){if(AW)return WE;AW=1;var r=mp()(),e=Ki(),n=e("Object.prototype.toString"),i=function(s){return r&&s&&typeof s=="object"&&Symbol.toStringTag in s?!1:n(s)==="[object Arguments]"},o=function(s){return i(s)?!0:s!==null&&typeof s=="object"&&"length"in s&&typeof s.length=="number"&&s.length>=0&&n(s)!=="[object Array]"&&"callee"in s&&n(s.callee)==="[object Function]"},a=function(){return i(arguments)}();return i.isLegacyArguments=o,WE=a?i:o,WE}const M$e={},R$e=Object.freeze(Object.defineProperty({__proto__:null,default:M$e},Symbol.toStringTag,{value:"Module"})),N$e=xle(R$e);var VE,DW;function OS(){if(DW)return VE;DW=1;var r=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,n=r&&e&&typeof e.get=="function"?e.get:null,i=r&&Map.prototype.forEach,o=typeof Set=="function"&&Set.prototype,a=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s=o&&a&&typeof a.get=="function"?a.get:null,l=o&&Set.prototype.forEach,c=typeof WeakMap=="function"&&WeakMap.prototype,u=c?WeakMap.prototype.has:null,d=typeof WeakSet=="function"&&WeakSet.prototype,h=d?WeakSet.prototype.has:null,f=typeof WeakRef=="function"&&WeakRef.prototype,m=f?WeakRef.prototype.deref:null,b=Boolean.prototype.valueOf,g=Object.prototype.toString,v=Function.prototype.toString,x=String.prototype.match,w=String.prototype.slice,k=String.prototype.replace,T=String.prototype.toUpperCase,_=String.prototype.toLowerCase,D=RegExp.prototype.test,I=Array.prototype.concat,L=Array.prototype.join,O=Array.prototype.slice,W=Math.floor,Z=typeof BigInt=="function"?BigInt.prototype.valueOf:null,$=Object.getOwnPropertySymbols,F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,A=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Q=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===A||!0)?Symbol.toStringTag:null,H=Object.prototype.propertyIsEnumerable,G=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Ce){return Ce.__proto__}:null);function ne(Ce,$e){if(Ce===1/0||Ce===-1/0||Ce!==Ce||Ce&&Ce>-1e3&&Ce<1e3||D.call(/e/,$e))return $e;var vt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Ce=="number"){var zt=Ce<0?-W(-Ce):W(Ce);if(zt!==Ce){var Yt=String(zt),fe=w.call($e,Yt.length+1);return k.call(Yt,vt,"$&_")+"."+k.call(k.call(fe,/([0-9]{3})/g,"$&_"),/_$/,"")}}return k.call($e,vt,"$&_")}var J=N$e,ee=J.custom,X=M(ee)?ee:null,j={__proto__:null,double:'"',single:"'"},ae={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};VE=function Ce($e,vt,zt,Yt){var fe=vt||{};if(R(fe,"quoteStyle")&&!R(j,fe.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(R(fe,"maxStringLength")&&(typeof fe.maxStringLength=="number"?fe.maxStringLength<0&&fe.maxStringLength!==1/0:fe.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var xe=R(fe,"customInspect")?fe.customInspect:!0;if(typeof xe!="boolean"&&xe!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(R(fe,"indent")&&fe.indent!==null&&fe.indent!=="	"&&!(parseInt(fe.indent,10)===fe.indent&&fe.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(R(fe,"numericSeparator")&&typeof fe.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var _e=fe.numericSeparator;if(typeof $e>"u")return"undefined";if($e===null)return"null";if(typeof $e=="boolean")return $e?"true":"false";if(typeof $e=="string")return Le($e,fe);if(typeof $e=="number"){if($e===0)return 1/0/$e>0?"0":"-0";var Ue=String($e);return _e?ne($e,Ue):Ue}if(typeof $e=="bigint"){var at=String($e)+"n";return _e?ne($e,at):at}var Nt=typeof fe.depth>"u"?5:fe.depth;if(typeof zt>"u"&&(zt=0),zt>=Nt&&Nt>0&&typeof $e=="object")return K($e)?"[Array]":"[Object]";var pn=Ze(fe,zt);if(typeof Yt>"u")Yt=[];else if(ue(Yt,$e)>=0)return"[Circular]";function tn(Ll,gh,Ul){if(gh&&(Yt=O.call(Yt),Yt.push(gh)),Ul){var Bl={depth:fe.depth};return R(fe,"quoteStyle")&&(Bl.quoteStyle=fe.quoteStyle),Ce(Ll,Bl,zt+1,Yt)}return Ce(Ll,fe,zt+1,Yt)}if(typeof $e=="function"&&!be($e)){var pi=B($e),Hr=Qe($e,tn);return"[Function"+(pi?": "+pi:" (anonymous)")+"]"+(Hr.length>0?" { "+L.call(Hr,", ")+" }":"")}if(M($e)){var Bn=A?k.call(String($e),/^(Symbol\(.*\))_[^)]*$/,"$1"):F.call($e);return typeof $e=="object"&&!A?pt(Bn):Bn}if(De($e)){for(var lr="<"+_.call(String($e.nodeName)),ri=$e.attributes||[],Mi=0;Mi<ri.length;Mi++)lr+=" "+ri[Mi].name+"="+re(de(ri[Mi].value),"double",fe);return lr+=">",$e.childNodes&&$e.childNodes.length&&(lr+="..."),lr+="</"+_.call(String($e.nodeName))+">",lr}if(K($e)){if($e.length===0)return"[]";var Ho=Qe($e,tn);return pn&&!Ye(Ho)?"["+Pe(Ho,pn)+"]":"[ "+L.call(Ho,", ")+" ]"}if(pe($e)){var Ri=Qe($e,tn);return!("cause"in Error.prototype)&&"cause"in $e&&!H.call($e,"cause")?"{ ["+String($e)+"] "+L.call(I.call("[cause]: "+tn($e.cause),Ri),", ")+" }":Ri.length===0?"["+String($e)+"]":"{ ["+String($e)+"] "+L.call(Ri,", ")+" }"}if(typeof $e=="object"&&xe){if(X&&typeof $e[X]=="function"&&J)return J($e,{depth:Nt-zt});if(xe!=="symbol"&&typeof $e.inspect=="function")return $e.inspect()}if(ve($e)){var Wo=[];return i&&i.call($e,function(Ll,gh){Wo.push(tn(gh,$e,!0)+" => "+tn(Ll,$e))}),Ne("Map",n.call($e),Wo,pn)}if(Se($e)){var yo=[];return l&&l.call($e,function(Ll){yo.push(tn(Ll,$e))}),Ne("Set",s.call($e),yo,pn)}if(se($e))return jt("WeakMap");if(Te($e))return jt("WeakSet");if(ge($e))return jt("WeakRef");if(le($e))return pt(tn(Number($e)));if(he($e))return pt(tn(Z.call($e)));if(Ee($e))return pt(b.call($e));if(ie($e))return pt(tn(String($e)));if(typeof window<"u"&&$e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&$e===globalThis||typeof Wa<"u"&&$e===Wa)return"{ [object globalThis] }";if(!q($e)&&!be($e)){var Bs=Qe($e,tn),Ni=G?G($e)===Object.prototype:$e instanceof Object||$e.constructor===Object,Vo=$e instanceof Object?"":"null prototype",uu=!Ni&&Q&&Object($e)===$e&&Q in $e?w.call(N($e),8,-1):Vo?"Object":"",du=Ni||typeof $e.constructor!="function"?"":$e.constructor.name?$e.constructor.name+" ":"",_r=du+(uu||Vo?"["+L.call(I.call([],uu||[],Vo||[]),": ")+"] ":"");return Bs.length===0?_r+"{}":pn?_r+"{"+Pe(Bs,pn)+"}":_r+"{ "+L.call(Bs,", ")+" }"}return String($e)};function re(Ce,$e,vt){var zt=vt.quoteStyle||$e,Yt=j[zt];return Yt+Ce+Yt}function de(Ce){return k.call(String(Ce),/"/g,"&quot;")}function me(Ce){return!Q||!(typeof Ce=="object"&&(Q in Ce||typeof Ce[Q]<"u"))}function K(Ce){return N(Ce)==="[object Array]"&&me(Ce)}function q(Ce){return N(Ce)==="[object Date]"&&me(Ce)}function be(Ce){return N(Ce)==="[object RegExp]"&&me(Ce)}function pe(Ce){return N(Ce)==="[object Error]"&&me(Ce)}function ie(Ce){return N(Ce)==="[object String]"&&me(Ce)}function le(Ce){return N(Ce)==="[object Number]"&&me(Ce)}function Ee(Ce){return N(Ce)==="[object Boolean]"&&me(Ce)}function M(Ce){if(A)return Ce&&typeof Ce=="object"&&Ce instanceof Symbol;if(typeof Ce=="symbol")return!0;if(!Ce||typeof Ce!="object"||!F)return!1;try{return F.call(Ce),!0}catch{}return!1}function he(Ce){if(!Ce||typeof Ce!="object"||!Z)return!1;try{return Z.call(Ce),!0}catch{}return!1}var V=Object.prototype.hasOwnProperty||function(Ce){return Ce in this};function R(Ce,$e){return V.call(Ce,$e)}function N(Ce){return g.call(Ce)}function B(Ce){if(Ce.name)return Ce.name;var $e=x.call(v.call(Ce),/^function\s*([\w$]+)/);return $e?$e[1]:null}function ue(Ce,$e){if(Ce.indexOf)return Ce.indexOf($e);for(var vt=0,zt=Ce.length;vt<zt;vt++)if(Ce[vt]===$e)return vt;return-1}function ve(Ce){if(!n||!Ce||typeof Ce!="object")return!1;try{n.call(Ce);try{s.call(Ce)}catch{return!0}return Ce instanceof Map}catch{}return!1}function se(Ce){if(!u||!Ce||typeof Ce!="object")return!1;try{u.call(Ce,u);try{h.call(Ce,h)}catch{return!0}return Ce instanceof WeakMap}catch{}return!1}function ge(Ce){if(!m||!Ce||typeof Ce!="object")return!1;try{return m.call(Ce),!0}catch{}return!1}function Se(Ce){if(!s||!Ce||typeof Ce!="object")return!1;try{s.call(Ce);try{n.call(Ce)}catch{return!0}return Ce instanceof Set}catch{}return!1}function Te(Ce){if(!h||!Ce||typeof Ce!="object")return!1;try{h.call(Ce,h);try{u.call(Ce,u)}catch{return!0}return Ce instanceof WeakSet}catch{}return!1}function De(Ce){return!Ce||typeof Ce!="object"?!1:typeof HTMLElement<"u"&&Ce instanceof HTMLElement?!0:typeof Ce.nodeName=="string"&&typeof Ce.getAttribute=="function"}function Le(Ce,$e){if(Ce.length>$e.maxStringLength){var vt=Ce.length-$e.maxStringLength,zt="... "+vt+" more character"+(vt>1?"s":"");return Le(w.call(Ce,0,$e.maxStringLength),$e)+zt}var Yt=ae[$e.quoteStyle||"single"];Yt.lastIndex=0;var fe=k.call(k.call(Ce,Yt,"\\$1"),/[\x00-\x1f]/g,Ke);return re(fe,"single",$e)}function Ke(Ce){var $e=Ce.charCodeAt(0),vt={8:"b",9:"t",10:"n",12:"f",13:"r"}[$e];return vt?"\\"+vt:"\\x"+($e<16?"0":"")+T.call($e.toString(16))}function pt(Ce){return"Object("+Ce+")"}function jt(Ce){return Ce+" { ? }"}function Ne(Ce,$e,vt,zt){var Yt=zt?Pe(vt,zt):L.call(vt,", ");return Ce+" ("+$e+") {"+Yt+"}"}function Ye(Ce){for(var $e=0;$e<Ce.length;$e++)if(ue(Ce[$e],`
`)>=0)return!1;return!0}function Ze(Ce,$e){var vt;if(Ce.indent==="	")vt="	";else if(typeof Ce.indent=="number"&&Ce.indent>0)vt=L.call(Array(Ce.indent+1)," ");else return null;return{base:vt,prev:L.call(Array($e+1),vt)}}function Pe(Ce,$e){if(Ce.length===0)return"";var vt=`
`+$e.prev+$e.base;return vt+L.call(Ce,","+vt)+`
`+$e.prev}function Qe(Ce,$e){var vt=K(Ce),zt=[];if(vt){zt.length=Ce.length;for(var Yt=0;Yt<Ce.length;Yt++)zt[Yt]=R(Ce,Yt)?$e(Ce[Yt],Ce):""}var fe=typeof $=="function"?$(Ce):[],xe;if(A){xe={};for(var _e=0;_e<fe.length;_e++)xe["$"+fe[_e]]=fe[_e]}for(var Ue in Ce)R(Ce,Ue)&&(vt&&String(Number(Ue))===Ue&&Ue<Ce.length||A&&xe["$"+Ue]instanceof Symbol||(D.call(/[^\w$]/,Ue)?zt.push($e(Ue,Ce)+": "+$e(Ce[Ue],Ce)):zt.push(Ue+": "+$e(Ce[Ue],Ce))));if(typeof $=="function")for(var at=0;at<fe.length;at++)H.call(Ce,fe[at])&&zt.push("["+$e(fe[at])+"]: "+$e(Ce[fe[at]],Ce));return zt}return VE}var qE,MW;function O$e(){if(MW)return qE;MW=1;var r=OS(),e=ls(),n=function(l,c,u){for(var d=l,h;(h=d.next)!=null;d=h)if(h.key===c)return d.next=h.next,u||(h.next=l.next,l.next=h),h},i=function(l,c){if(l){var u=n(l,c);return u&&u.value}},o=function(l,c,u){var d=n(l,c);d?d.value=u:l.next={key:c,next:l.next,value:u}},a=function(l,c){return l?!!n(l,c):!1},s=function(l,c){if(l)return n(l,c,!0)};return qE=function(){var l,c={assert:function(u){if(!c.has(u))throw new e("Side channel does not contain "+r(u))},delete:function(u){var d=l&&l.next,h=s(l,u);return h&&d&&d===h&&(l=void 0),!!h},get:function(u){return i(l,u)},has:function(u){return a(l,u)},set:function(u,d){l||(l={next:void 0}),o(l,u,d)}};return c},qE}var GE,RW;function Ole(){if(RW)return GE;RW=1;var r=ou(),e=Ki(),n=OS(),i=ls(),o=r("%Map%",!0),a=e("Map.prototype.get",!0),s=e("Map.prototype.set",!0),l=e("Map.prototype.has",!0),c=e("Map.prototype.delete",!0),u=e("Map.prototype.size",!0);return GE=!!o&&function(){var d,h={assert:function(f){if(!h.has(f))throw new i("Side channel does not contain "+n(f))},delete:function(f){if(d){var m=c(d,f);return u(d)===0&&(d=void 0),m}return!1},get:function(f){if(d)return a(d,f)},has:function(f){return d?l(d,f):!1},set:function(f,m){d||(d=new o),s(d,f,m)}};return h},GE}var KE,NW;function P$e(){if(NW)return KE;NW=1;var r=ou(),e=Ki(),n=OS(),i=Ole(),o=ls(),a=r("%WeakMap%",!0),s=e("WeakMap.prototype.get",!0),l=e("WeakMap.prototype.set",!0),c=e("WeakMap.prototype.has",!0),u=e("WeakMap.prototype.delete",!0);return KE=a?function(){var d,h,f={assert:function(m){if(!f.has(m))throw new o("Side channel does not contain "+n(m))},delete:function(m){if(a&&m&&(typeof m=="object"||typeof m=="function")){if(d)return u(d,m)}else if(i&&h)return h.delete(m);return!1},get:function(m){return a&&m&&(typeof m=="object"||typeof m=="function")&&d?s(d,m):h&&h.get(m)},has:function(m){return a&&m&&(typeof m=="object"||typeof m=="function")&&d?c(d,m):!!h&&h.has(m)},set:function(m,b){a&&m&&(typeof m=="object"||typeof m=="function")?(d||(d=new a),l(d,m,b)):i&&(h||(h=i()),h.set(m,b))}};return f}:i,KE}var XE,OW;function Ple(){if(OW)return XE;OW=1;var r=ls(),e=OS(),n=O$e(),i=Ole(),o=P$e(),a=o||i||n;return XE=function(){var s,l={assert:function(c){if(!l.has(c))throw new r("Side channel does not contain "+e(c))},delete:function(c){return!!s&&s.delete(c)},get:function(c){return s&&s.get(c)},has:function(c){return!!s&&s.has(c)},set:function(c,u){s||(s=a()),s.set(c,u)}};return l},XE}var YE,PW;function I$e(){if(PW)return YE;PW=1;var r=hO(),e=Ple()(),n=ls(),i={assert:function(o,a){if(!o||typeof o!="object"&&typeof o!="function")throw new n("`O` is not an object");if(typeof a!="string")throw new n("`slot` must be a string");if(e.assert(o),!i.has(o,a))throw new n("`"+a+"` is not present on `O`")},get:function(o,a){if(!o||typeof o!="object"&&typeof o!="function")throw new n("`O` is not an object");if(typeof a!="string")throw new n("`slot` must be a string");var s=e.get(o);return s&&s["$"+a]},has:function(o,a){if(!o||typeof o!="object"&&typeof o!="function")throw new n("`O` is not an object");if(typeof a!="string")throw new n("`slot` must be a string");var s=e.get(o);return!!s&&r(s,"$"+a)},set:function(o,a,s){if(!o||typeof o!="object"&&typeof o!="function")throw new n("`O` is not an object");if(typeof a!="string")throw new n("`slot` must be a string");var l=e.get(o);l||(l={},e.set(o,l)),l["$"+a]=s}};return Object.freeze&&Object.freeze(i),YE=i,YE}var ZE,IW;function $$e(){if(IW)return ZE;IW=1;var r=I$e(),e=iO(),n=typeof StopIteration=="object"?StopIteration:null;return ZE=function(i){if(!n)throw new e("this environment lacks StopIteration");r.set(i,"[[Done]]",!1);var o={next:function(){var a=r.get(this,"[[Iterator]]"),s=!!r.get(a,"[[Done]]");try{return{done:s,value:s?void 0:a.next()}}catch(l){if(r.set(a,"[[Done]]",!0),l!==n)throw l;return{done:!0,value:void 0}}}};return r.set(o,"[[Iterator]]",i),o},ZE}var JE,$W;function Ile(){if($W)return JE;$W=1;var r={}.toString;return JE=Array.isArray||function(e){return r.call(e)=="[object Array]"},JE}var QE,zW;function $le(){if(zW)return QE;zW=1;var r=Ki(),e=r("String.prototype.valueOf"),n=function(s){try{return e(s),!0}catch{return!1}},i=r("Object.prototype.toString"),o="[object String]",a=mp()();return QE=function(s){return typeof s=="string"?!0:!s||typeof s!="object"?!1:a?n(s):i(s)===o},QE}var eC,LW;function zle(){if(LW)return eC;LW=1;var r=typeof Map=="function"&&Map.prototype?Map:null,e=typeof Set=="function"&&Set.prototype?Set:null,n;r||(n=function(a){return!1});var i=r?Map.prototype.has:null,o=e?Set.prototype.has:null;return!n&&!i&&(n=function(a){return!1}),eC=n||function(a){if(!a||typeof a!="object")return!1;try{if(i.call(a),o)try{o.call(a)}catch{return!0}return a instanceof r}catch{}return!1},eC}var tC,UW;function Lle(){if(UW)return tC;UW=1;var r=typeof Map=="function"&&Map.prototype?Map:null,e=typeof Set=="function"&&Set.prototype?Set:null,n;e||(n=function(a){return!1});var i=r?Map.prototype.has:null,o=e?Set.prototype.has:null;return!n&&!o&&(n=function(a){return!1}),tC=n||function(a){if(!a||typeof a!="object")return!1;try{if(o.call(a),i)try{i.call(a)}catch{return!0}return a instanceof e}catch{}return!1},tC}var BW;function z$e(){if(BW)return C1.exports;BW=1;var r=Nle(),e=$$e();if(lO()()||NS()()){var n=Symbol.iterator;C1.exports=function(L){if(L!=null&&typeof L[n]<"u")return L[n]();if(r(L))return Array.prototype[n].call(L)}}else{var i=Ile(),o=$le(),a=ou(),s=a("%Map%",!0),l=a("%Set%",!0),c=Dle(),u=c("Array.prototype.push"),d=c("String.prototype.charCodeAt"),h=c("String.prototype.slice"),f=function(L,O){var W=L.length;if(O+1>=W)return O+1;var Z=d(L,O);if(Z<55296||Z>56319)return O+1;var $=d(L,O+1);return $<56320||$>57343?O+1:O+2},m=function(L){var O=0;return{next:function(){var W=O>=L.length,Z;return W||(Z=L[O],O+=1),{done:W,value:Z}}}},b=function(L,O){if(i(L)||r(L))return m(L);if(o(L)){var W=0;return{next:function(){var Z=f(L,W),$=h(L,W,Z);return W=Z,{done:Z>L.length,value:$}}}}if(O&&typeof L["_es6-shim iterator_"]<"u")return L["_es6-shim iterator_"]()};if(!s&&!l)C1.exports=function(L){if(L!=null)return b(L,!0)};else{var g=zle(),v=Lle(),x=c("Map.prototype.forEach",!0),w=c("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var k=c("Map.prototype.iterator",!0),T=c("Set.prototype.iterator",!0);var _=c("Map.prototype.@@iterator",!0)||c("Map.prototype._es6-shim iterator_",!0),D=c("Set.prototype.@@iterator",!0)||c("Set.prototype._es6-shim iterator_",!0),I=function(L){if(g(L)){if(k)return e(k(L));if(_)return _(L);if(x){var O=[];return x(L,function(Z,$){u(O,[$,Z])}),m(O)}}if(v(L)){if(T)return e(T(L));if(D)return D(L);if(w){var W=[];return w(L,function(Z){u(W,Z)}),m(W)}}};C1.exports=function(L){return I(L)||b(L)}}}return C1.exports}var nC,jW;function Ule(){if(jW)return nC;jW=1;var r=function(e){return e!==e};return nC=function(e,n){return e===0&&n===0?1/e===1/n:!!(e===n||r(e)&&r(n))},nC}var rC,FW;function Ble(){if(FW)return rC;FW=1;var r=Ule();return rC=function(){return typeof Object.is=="function"?Object.is:r},rC}var iC,HW;function L$e(){if(HW)return iC;HW=1;var r=Ble(),e=pp();return iC=function(){var n=r();return e(Object,{is:n},{is:function(){return Object.is!==n}}),n},iC}var oC,WW;function U$e(){if(WW)return oC;WW=1;var r=pp(),e=sg(),n=Ule(),i=Ble(),o=L$e(),a=e(i(),Object);return r(a,{getPolyfill:i,implementation:n,shim:o}),oC=a,oC}var aC,VW;function jle(){if(VW)return aC;VW=1;var r=sg(),e=Ki(),n=ou(),i=n("%ArrayBuffer%",!0),o=e("ArrayBuffer.prototype.byteLength",!0),a=e("Object.prototype.toString"),s=!!i&&!o&&new i(0).slice,l=!!s&&r(s);return aC=o||l?function(c){if(!c||typeof c!="object")return!1;try{return o?o(c):l(c,0),!0}catch{return!1}}:i?function(c){return a(c)==="[object ArrayBuffer]"}:function(c){return!1},aC}var sC,qW;function B$e(){if(qW)return sC;qW=1;var r=Ki(),e=r("Date.prototype.getDay"),n=function(s){try{return e(s),!0}catch{return!1}},i=r("Object.prototype.toString"),o="[object Date]",a=mp()();return sC=function(s){return typeof s!="object"||s===null?!1:a?n(s):i(s)===o},sC}var lC,GW;function Fle(){if(GW)return lC;GW=1;var r=Ki(),e=mp()(),n=hO(),i=fp(),o;if(e){var a=r("RegExp.prototype.exec"),s={},l=function(){throw s},c={toString:l,valueOf:l};typeof Symbol.toPrimitive=="symbol"&&(c[Symbol.toPrimitive]=l),o=function(h){if(!h||typeof h!="object")return!1;var f=i(h,"lastIndex"),m=f&&n(f,"value");if(!m)return!1;try{a(h,c)}catch(b){return b===s}}}else{var u=r("Object.prototype.toString"),d="[object RegExp]";o=function(h){return!h||typeof h!="object"&&typeof h!="function"?!1:u(h)===d}}return lC=o,lC}var cC,KW;function j$e(){if(KW)return cC;KW=1;var r=Ki(),e=r("SharedArrayBuffer.prototype.byteLength",!0);return cC=e?function(n){if(!n||typeof n!="object")return!1;try{return e(n),!0}catch{return!1}}:function(n){return!1},cC}var uC,XW;function F$e(){if(XW)return uC;XW=1;var r=Ki(),e=r("Number.prototype.toString"),n=function(s){try{return e(s),!0}catch{return!1}},i=r("Object.prototype.toString"),o="[object Number]",a=mp()();return uC=function(s){return typeof s=="number"?!0:!s||typeof s!="object"?!1:a?n(s):i(s)===o},uC}var dC,YW;function H$e(){if(YW)return dC;YW=1;var r=Ki(),e=r("Boolean.prototype.toString"),n=r("Object.prototype.toString"),i=function(s){try{return e(s),!0}catch{return!1}},o="[object Boolean]",a=mp()();return dC=function(s){return typeof s=="boolean"?!0:s===null||typeof s!="object"?!1:a?i(s):n(s)===o},dC}var Mw={exports:{}},hC,ZW;function W$e(){if(ZW)return hC;ZW=1;var r=Ki(),e=Fle(),n=r("RegExp.prototype.exec"),i=ls();return hC=function(o){if(!e(o))throw new i("`regex` must be a RegExp");return function(a){return n(o,a)!==null}},hC}var JW;function V$e(){if(JW)return Mw.exports;JW=1;var r=Ki(),e=r("Object.prototype.toString"),n=lO()(),i=W$e();if(n){var o=r("Symbol.prototype.toString"),a=i(/^Symbol\(.*\)$/),s=function(l){return typeof l.valueOf()!="symbol"?!1:a(o(l))};Mw.exports=function(l){if(typeof l=="symbol")return!0;if(!l||typeof l!="object"||e(l)!=="[object Symbol]")return!1;try{return s(l)}catch{return!1}}}else Mw.exports=function(l){return!1};return Mw.exports}var Rw={exports:{}},fC,QW;function q$e(){if(QW)return fC;QW=1;var r=typeof BigInt<"u"&&BigInt;return fC=function(){return typeof r=="function"&&typeof BigInt=="function"&&typeof r(42)=="bigint"&&typeof BigInt(42)=="bigint"},fC}var eV;function G$e(){if(eV)return Rw.exports;eV=1;var r=q$e()();if(r){var e=BigInt.prototype.valueOf,n=function(i){try{return e.call(i),!0}catch{}return!1};Rw.exports=function(i){return i===null||typeof i>"u"||typeof i=="boolean"||typeof i=="string"||typeof i=="number"||typeof i=="symbol"||typeof i=="function"?!1:typeof i=="bigint"?!0:n(i)}}else Rw.exports=function(i){return!1};return Rw.exports}var pC,tV;function K$e(){if(tV)return pC;tV=1;var r=$le(),e=F$e(),n=H$e(),i=V$e(),o=G$e();return pC=function(a){if(a==null||typeof a!="object"&&typeof a!="function")return null;if(r(a))return"String";if(e(a))return"Number";if(n(a))return"Boolean";if(i(a))return"Symbol";if(o(a))return"BigInt"},pC}var mC,nV;function X$e(){if(nV)return mC;nV=1;var r=typeof WeakMap=="function"&&WeakMap.prototype?WeakMap:null,e=typeof WeakSet=="function"&&WeakSet.prototype?WeakSet:null,n;r||(n=function(a){return!1});var i=r?r.prototype.has:null,o=e?e.prototype.has:null;return!n&&!i&&(n=function(a){return!1}),mC=n||function(a){if(!a||typeof a!="object")return!1;try{if(i.call(a,i),o)try{o.call(a,o)}catch{return!0}return a instanceof r}catch{}return!1},mC}var Nw={exports:{}},rV;function Y$e(){if(rV)return Nw.exports;rV=1;var r=ou(),e=Ki(),n=r("%WeakSet%",!0),i=e("WeakSet.prototype.has",!0);if(i){var o=e("WeakMap.prototype.has",!0);Nw.exports=function(a){if(!a||typeof a!="object")return!1;try{if(i(a,i),o)try{o(a,o)}catch{return!0}return a instanceof n}catch{}return!1}}else Nw.exports=function(a){return!1};return Nw.exports}var gC,iV;function Z$e(){if(iV)return gC;iV=1;var r=zle(),e=Lle(),n=X$e(),i=Y$e();return gC=function(o){if(o&&typeof o=="object"){if(r(o))return"Map";if(e(o))return"Set";if(n(o))return"WeakMap";if(i(o))return"WeakSet"}return!1},gC}var yC,oV;function J$e(){if(oV)return yC;oV=1;var r=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,i;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw i}}),i={},e(function(){throw 42},null,n)}catch(w){w!==i&&(e=null)}else e=null;var o=/^\s*class\b/,a=function(w){try{var k=r.call(w);return o.test(k)}catch{return!1}},s=function(w){try{return a(w)?!1:(r.call(w),!0)}catch{return!1}},l=Object.prototype.toString,c="[object Object]",u="[object Function]",d="[object GeneratorFunction]",h="[object HTMLAllCollection]",f="[object HTML document.all class]",m="[object HTMLCollection]",b=typeof Symbol=="function"&&!!Symbol.toStringTag,g=!(0 in[,]),v=function(){return!1};if(typeof document=="object"){var x=document.all;l.call(x)===l.call(document.all)&&(v=function(w){if((g||!w)&&(typeof w>"u"||typeof w=="object"))try{var k=l.call(w);return(k===h||k===f||k===m||k===c)&&w("")==null}catch{}return!1})}return yC=e?function(w){if(v(w))return!0;if(!w||typeof w!="function"&&typeof w!="object")return!1;try{e(w,null,n)}catch(k){if(k!==i)return!1}return!a(w)&&s(w)}:function(w){if(v(w))return!0;if(!w||typeof w!="function"&&typeof w!="object")return!1;if(b)return s(w);if(a(w))return!1;var k=l.call(w);return k!==u&&k!==d&&!/^\[object HTML/.test(k)?!1:s(w)},yC}var bC,aV;function Q$e(){if(aV)return bC;aV=1;var r=J$e(),e=Object.prototype.toString,n=Object.prototype.hasOwnProperty,i=function(l,c,u){for(var d=0,h=l.length;d<h;d++)n.call(l,d)&&(u==null?c(l[d],d,l):c.call(u,l[d],d,l))},o=function(l,c,u){for(var d=0,h=l.length;d<h;d++)u==null?c(l.charAt(d),d,l):c.call(u,l.charAt(d),d,l)},a=function(l,c,u){for(var d in l)n.call(l,d)&&(u==null?c(l[d],d,l):c.call(u,l[d],d,l))};function s(l){return e.call(l)==="[object Array]"}return bC=function(l,c,u){if(!r(c))throw new TypeError("iterator must be a function");var d;arguments.length>=3&&(d=u),s(l)?i(l,c,d):typeof l=="string"?o(l,c,d):a(l,c,d)},bC}var sV,lV;function eze(){return lV||(lV=1,sV=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),sV}var vC,cV;function tze(){if(cV)return vC;cV=1;var r=eze(),e=typeof globalThis>"u"?Wa:globalThis;return vC=function(){for(var n=[],i=0;i<r.length;i++)typeof e[r[i]]=="function"&&(n[n.length]=r[i]);return n},vC}var xC,uV;function nze(){if(uV)return xC;uV=1;var r=Q$e(),e=tze(),n=sg(),i=Ki(),o=fp(),a=i("Object.prototype.toString"),s=mp()(),l=typeof globalThis>"u"?Wa:globalThis,c=e(),u=i("String.prototype.slice"),d=Object.getPrototypeOf,h=i("Array.prototype.indexOf",!0)||function(g,v){for(var x=0;x<g.length;x+=1)if(g[x]===v)return x;return-1},f={__proto__:null};s&&o&&d?r(c,function(g){var v=new l[g];if(Symbol.toStringTag in v){var x=d(v),w=o(x,Symbol.toStringTag);if(!w){var k=d(x);w=o(k,Symbol.toStringTag)}f["$"+g]=n(w.get)}}):r(c,function(g){var v=new l[g],x=v.slice||v.set;x&&(f["$"+g]=n(x))});var m=function(g){var v=!1;return r(f,function(x,w){if(!v)try{"$"+x(g)===w&&(v=u(w,1))}catch{}}),v},b=function(g){var v=!1;return r(f,function(x,w){if(!v)try{x(g),v=u(w,1)}catch{}}),v};return xC=function(g){if(!g||typeof g!="object")return!1;if(!s){var v=u(a(g),8,-1);return h(c,v)>-1?v:v!=="Object"?!1:b(g)}return o?m(g):null},xC}var wC,dV;function rze(){if(dV)return wC;dV=1;var r=Ki(),e=r("ArrayBuffer.prototype.byteLength",!0),n=jle();return wC=function(i){return n(i)?e?e(i):i.byteLength:NaN},wC}var SC,hV;function ize(){if(hV)return SC;hV=1;var r=E$e(),e=Dle(),n=D$e(),i=ou(),o=z$e(),a=Ple(),s=U$e(),l=Nle(),c=Ile(),u=jle(),d=B$e(),h=Fle(),f=j$e(),m=rO(),b=K$e(),g=Z$e(),v=nze(),x=rze(),w=e("SharedArrayBuffer.prototype.byteLength",!0),k=e("Date.prototype.getTime"),T=Object.getPrototypeOf,_=e("Object.prototype.toString"),D=i("%Set%",!0),I=e("Map.prototype.has",!0),L=e("Map.prototype.get",!0),O=e("Map.prototype.size",!0),W=e("Set.prototype.add",!0),Z=e("Set.prototype.delete",!0),$=e("Set.prototype.has",!0),F=e("Set.prototype.size",!0);function A(re,de,me,K){for(var q=o(re),be;(be=q.next())&&!be.done;)if(J(de,be.value,me,K))return Z(re,be.value),!0;return!1}function Q(re){if(typeof re>"u")return null;if(typeof re!="object")return typeof re=="symbol"?!1:typeof re=="string"||typeof re=="number"?+re==+re:!0}function H(re,de,me,K,q,be){var pe=Q(me);if(pe!=null)return pe;var ie=L(de,pe),le=r({},q,{strict:!1});return typeof ie>"u"&&!I(de,pe)||!J(K,ie,le,be)?!1:!I(re,pe)&&J(K,ie,le,be)}function G(re,de,me){var K=Q(me);return K??($(de,K)&&!$(re,K))}function ne(re,de,me,K,q,be){for(var pe=o(re),ie,le;(ie=pe.next())&&!ie.done;)if(le=ie.value,J(me,le,q,be)&&J(K,L(de,le),q,be))return Z(re,le),!0;return!1}function J(re,de,me,K){var q=me||{};if(q.strict?s(re,de):re===de)return!0;var be=b(re),pe=b(de);if(be!==pe)return!1;if(!re||!de||typeof re!="object"&&typeof de!="object")return q.strict?s(re,de):re==de;var ie=K.has(re),le=K.has(de),Ee;if(ie&&le){if(K.get(re)===K.get(de))return!0}else Ee={};return ie||K.set(re,Ee),le||K.set(de,Ee),ae(re,de,q,K)}function ee(re){return!re||typeof re!="object"||typeof re.length!="number"||typeof re.copy!="function"||typeof re.slice!="function"||re.length>0&&typeof re[0]!="number"?!1:!!(re.constructor&&re.constructor.isBuffer&&re.constructor.isBuffer(re))}function X(re,de,me,K){if(F(re)!==F(de))return!1;for(var q=o(re),be=o(de),pe,ie,le;(pe=q.next())&&!pe.done;)if(pe.value&&typeof pe.value=="object")le||(le=new D),W(le,pe.value);else if(!$(de,pe.value)){if(me.strict||!G(re,de,pe.value))return!1;le||(le=new D),W(le,pe.value)}if(le){for(;(ie=be.next())&&!ie.done;)if(ie.value&&typeof ie.value=="object"){if(!A(le,ie.value,me.strict,K))return!1}else if(!me.strict&&!$(re,ie.value)&&!A(le,ie.value,me.strict,K))return!1;return F(le)===0}return!0}function j(re,de,me,K){if(O(re)!==O(de))return!1;for(var q=o(re),be=o(de),pe,ie,le,Ee,M,he;(pe=q.next())&&!pe.done;)if(Ee=pe.value[0],M=pe.value[1],Ee&&typeof Ee=="object")le||(le=new D),W(le,Ee);else if(he=L(de,Ee),typeof he>"u"&&!I(de,Ee)||!J(M,he,me,K)){if(me.strict||!H(re,de,Ee,M,me,K))return!1;le||(le=new D),W(le,Ee)}if(le){for(;(ie=be.next())&&!ie.done;)if(Ee=ie.value[0],he=ie.value[1],Ee&&typeof Ee=="object"){if(!ne(le,re,Ee,he,me,K))return!1}else if(!me.strict&&(!re.has(Ee)||!J(L(re,Ee),he,me,K))&&!ne(le,re,Ee,he,r({},me,{strict:!1}),K))return!1;return F(le)===0}return!0}function ae(re,de,me,K){var q,be;if(typeof re!=typeof de||re==null||de==null||_(re)!==_(de)||l(re)!==l(de))return!1;var pe=c(re),ie=c(de);if(pe!==ie)return!1;var le=re instanceof Error,Ee=de instanceof Error;if(le!==Ee||(le||Ee)&&(re.name!==de.name||re.message!==de.message))return!1;var M=h(re),he=h(de);if(M!==he||(M||he)&&(re.source!==de.source||n(re)!==n(de)))return!1;var V=d(re),R=d(de);if(V!==R||(V||R)&&k(re)!==k(de)||me.strict&&T&&T(re)!==T(de))return!1;var N=v(re),B=v(de);if(N!==B)return!1;if(N||B){if(re.length!==de.length)return!1;for(q=0;q<re.length;q++)if(re[q]!==de[q])return!1;return!0}var ue=ee(re),ve=ee(de);if(ue!==ve)return!1;if(ue||ve){if(re.length!==de.length)return!1;for(q=0;q<re.length;q++)if(re[q]!==de[q])return!1;return!0}var se=u(re),ge=u(de);if(se!==ge)return!1;if(se||ge)return x(re)!==x(de)?!1:typeof Uint8Array=="function"&&J(new Uint8Array(re),new Uint8Array(de),me,K);var Se=f(re),Te=f(de);if(Se!==Te)return!1;if(Se||Te)return w(re)!==w(de)?!1:typeof Uint8Array=="function"&&J(new Uint8Array(re),new Uint8Array(de),me,K);if(typeof re!=typeof de)return!1;var De=m(re),Le=m(de);if(De.length!==Le.length)return!1;for(De.sort(),Le.sort(),q=De.length-1;q>=0;q--)if(De[q]!=Le[q])return!1;for(q=De.length-1;q>=0;q--)if(be=De[q],!J(re[be],de[be],me,K))return!1;var Ke=g(re),pt=g(de);return Ke!==pt?!1:Ke==="Set"||pt==="Set"?X(re,de,me,K):Ke==="Map"?j(re,de,me,K):!0}return SC=function(re,de,me){return J(re,de,me,a())},SC}var oze=ize();const fO=nO(oze);function aze(r){return r}function lg(r,e,n,i){const o=aze,[a,s]=P.useState(o(n)),l=P.useRef(a);return P.useEffect(()=>{const c=()=>{const u={...n,...r.getAttributes(e)};Object.keys(u).forEach(h=>{(u[h]===null||u[h]===void 0)&&(u[h]=n?n[h]:null)});const d=o(u);fO(l.current,d)||(s(d),l.current=d)};return r.on("selectionUpdate",c),r.on("transaction",c),()=>{r.off("selectionUpdate",c),r.off("transaction",c)}},[r,n,e,o]),a}function sze({editor:r}){const{t:e}=Cn(),{width:n,height:i,src:o}=lg(r,Qh.name,{width:0,height:0,src:"",defaultShowPicker:!1}),[a,s]=P.useState(!1),[l,c]=P.useState(""),u=P.useCallback(()=>{s(!1)},[s]);P.useEffect(()=>{a&&c(o)},[a,o]);const d=P.useCallback(()=>{const v=vle(l);r.chain().updateAttributes(Qh.name,{src:(v==null?void 0:v.src)||l}).setNodeSelection(r.state.selection.from).focus().run(),s(!1)},[r,l,s]),h=P.useCallback(()=>{window.open(o,"_blank")},[o]),f=P.useCallback(()=>{s(!0)},[s]),m=P.useCallback(v=>{r.chain().updateAttributes(Qh.name,v).setNodeSelection(r.state.selection.from).focus().run()},[r]),b=P.useCallback(()=>r.isActive(Qh.name)&&!o,[r,o]),g=P.useCallback(()=>rg(Qh.name,r),[r]);return E.jsxs(E.Fragment,{children:[E.jsx(va,{className:"bubble-menu",editor:r,pluginKey:"iframe-bubble-menu",shouldShow:b,tippyOptions:{popperOptions:{modifiers:[{name:"flip",enabled:!1}]},placement:"bottom-start",offset:[-2,16],zIndex:9999},children:E.jsxs("div",{className:"richtext-pointer-events-auto richtext-w-auto richtext-select-none richtext-rounded-sm !richtext-border richtext-border-neutral-200 richtext-bg-background richtext-px-3 richtext-py-2 richtext-shadow-sm richtext-transition-all dark:richtext-border-neutral-800",children:[E.jsx(ft,{action:h,icon:"Eye",tooltip:"Visit Link"}),E.jsx(ft,{action:f,icon:"Pencil",tooltip:"Open Edit Link"}),E.jsx(ble,{height:i,onOk:m,width:n,children:E.jsx(ft,{icon:"Settings",tooltip:e("editor.settings")})}),E.jsx(ft,{action:g,icon:"Trash2",tooltip:e("editor.delete")})]})}),E.jsxs(ru,{onOpenChange:s,open:a,children:[E.jsx(iu,{}),E.jsxs(Rl,{children:[E.jsx(rle,{children:E.jsx(Nl,{children:"Edit Link Iframe"})}),E.jsx(lo,{autoFocus:!0,onInput:v=>c(v.target.value),placeholder:"Enter link",type:"url",value:l}),E.jsxs(eh,{children:[E.jsx(Nn,{onClick:u,children:"Cancel"}),E.jsx(Nn,{onClick:d,children:"OK"})]})]})]})]})}function lze({editor:r,disabled:e,bubbleMenu:n}){const i=r.extensionManager.extensions.map(a=>a.name),o=()=>{var a,s,l,c,u,d,h,f,m,b;return[i.includes("columns")&&!((a=n==null?void 0:n.columnConfig)!=null&&a.hidden)?E.jsx(kIe,{editor:r},"columns"):null,i.includes("table")&&!((s=n==null?void 0:n.tableConfig)!=null&&s.hidden)?E.jsx(OPe,{actions:(l=n==null?void 0:n.tableConfig)==null?void 0:l.actions,editor:r},"table"):null,i.includes("link")&&!((c=n==null?void 0:n.linkConfig)!=null&&c.hidden)?E.jsx(IPe,{disabled:e,editor:r},"link"):null,i.includes(Vf.name)&&!((u=n==null?void 0:n.imageConfig)!=null&&u.hidden)?E.jsx(mIe,{disabled:e,editor:r},"image"):null,i.includes(XN.name)&&!((d=n==null?void 0:n.imageGifConfig)!=null&&d.hidden)?E.jsx(gIe,{disabled:e,editor:r},"imageGif"):null,i.includes("video")&&!((h=n==null?void 0:n.videoConfig)!=null&&h.hidden)?E.jsx(yIe,{disabled:e,editor:r},"video"):null,i.includes("iframe")&&!((f=n==null?void 0:n.iframeConfig)!=null&&f.hidden)?E.jsx(sze,{disabled:e,editor:r},"iframe"):null,(m=n==null?void 0:n.floatingMenuConfig)!=null&&m.hidden?null:E.jsx(lPe,{disabled:e,editor:r},"content"),(b=n==null?void 0:n.textConfig)!=null&&b.hidden?null:E.jsx(dPe,{disabled:e,editor:r},"text")]};return n!=null&&n.render?n.render({editor:r,disabled:e||!1,extensionsNames:i,bubbleMenu:n},o()):o().filter(Boolean)}function fV(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",children:E.jsx("path",{fill:"currentColor",d:"M18 14c0-4-6-10.8-6-10.8s-1.33 1.51-2.73 3.52l8.59 8.59c.09-.42.14-.86.14-1.31m-.88 3.12L12.5 12.5L5.27 5.27L4 6.55l3.32 3.32C6.55 11.32 6 12.79 6 14c0 3.31 2.69 6 6 6c1.52 0 2.9-.57 3.96-1.5l2.63 2.63l1.27-1.27z"})})}function Hle(r){const{t:e}=Cn(),{highlight:n=!1,disabled:i=!1,selectedColor:o,setSelectedColor:a,onChange:s,colors:l=Fke}=r,c=P.useMemo(()=>{const m=l,b=[];for(let g=0;g<m.length;g+=10)b.push(m.slice(g,g+10));return b},[l]),[u,d]=P.useState([]),h=m=>{const b=[...u],g=b.indexOf(m);g!==-1&&b.splice(g,1),b.unshift(m),b.length>10&&b.pop(),d(b)};function f(m){if(m===void 0){a==null||a(m),s==null||s(m);return}/^#([\da-f]{3}){1,2}$/i.test(m)&&(a==null||a(m),s==null||s(m),h(m))}return E.jsxs(as,{modal:!0,children:[E.jsx(ss,{asChild:!0,className:"!richtext-p-0",disabled:i,children:r==null?void 0:r.children}),E.jsx(wa,{align:"start",className:"richtext-size-full richtext-p-2",hideWhenDetached:!0,side:"bottom",children:E.jsxs("div",{className:"richtext-flex richtext-flex-col",children:[n?E.jsxs("div",{className:"rd-1 richtext-flex richtext-cursor-pointer richtext-items-center richtext-gap-[4px] richtext-p-1 hover:richtext-bg-accent",onClick:()=>f(void 0),children:[E.jsx(fV,{}),E.jsx("span",{className:"richtext-ml-1 richtext-text-sm",children:e("editor.nofill")})]}):E.jsxs("div",{className:"rd-1 richtext-flex richtext-cursor-pointer richtext-items-center richtext-gap-[4px] richtext-p-1 hover:richtext-bg-accent",onClick:()=>{f(void 0)},children:[E.jsx(fV,{}),E.jsx("span",{className:"richtext-ml-1 richtext-text-sm",children:e("editor.default")})]}),c.map((m,b)=>E.jsx("span",{className:"richtext-relative richtext-flex richtext-h-auto richtext-w-full richtext-p-0 last:richtext-pb-2",children:m.map((g,v)=>E.jsx("span",{className:"richtext-inline-block richtext-size-6 richtext-flex-[0_0_auto] richtext-cursor-pointer richtext-rounded-sm !richtext-border richtext-border-transparent richtext-p-0.5 hover:richtext-border-border hover:richtext-shadow-sm",onClick:()=>f(g),children:E.jsx("span",{className:"richtext-relative richtext-block richtext-size-[18px] richtext-rounded-[2px] richtext-border-transparent",style:{backgroundColor:g},children:g===o?E.jsx("svg",{className:"richtext-absolute -richtext-top-px richtext-left-px richtext-block richtext-size-3",viewBox:"0 0 18 18",style:{fill:"rgb(255, 255, 255)"},children:E.jsx("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"})}):E.jsx("svg",{viewBox:"0 0 18 18",style:{fill:"rgb(255, 255, 255)",display:"none"},children:E.jsx("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"})})})},`sub-color-${v}`))},b)),E.jsxs("div",{children:[E.jsx("div",{className:"richtext-my-1 richtext-text-sm",children:e("editor.recent")}),E.jsx("span",{className:"richtext-relative richtext-flex richtext-h-auto richtext-w-full richtext-p-0 last:richtext-pb-2",children:u==null?void 0:u.map((m,b)=>E.jsx("span",{className:"richtext-inline-block richtext-size-6 richtext-flex-[0_0_auto] richtext-cursor-pointer richtext-rounded-sm !richtext-border richtext-border-transparent richtext-p-0.5 hover:richtext-border-border hover:richtext-shadow-sm",onClick:()=>f(m),children:E.jsx("span",{className:"richtext-relative richtext-block richtext-size-[18px] richtext-rounded-[2px] richtext-border-transparent",style:{backgroundColor:m},children:E.jsx("svg",{viewBox:"0 0 18 18",style:{fill:"rgb(255, 255, 255)",display:"none"},children:E.jsx("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"})})})},`sub-color-recent-${b}`))})]}),E.jsx(cze,{setColor:f})]})})]})}function cze({setColor:r}){const[e,n]=P.useState("#000000"),[i,o]=P.useState(!1),{t:a}=Cn();return P.useEffect(()=>()=>{o(!1)},[]),E.jsxs(as,{open:i,children:[E.jsx(ss,{asChild:!0,children:E.jsxs("div",{className:"richtext-p-1.5 richtext-text-sm hover:richtext-cursor-pointer hover:richtext-bg-accent",onClick:s=>{s.preventDefault(),o(!0)},children:[a("editor.color.more"),"..."]})}),E.jsxs(wa,{children:[E.jsxs("div",{className:"richtext-flex richtext-flex-col richtext-items-center richtext-justify-center",children:[E.jsx(uAe,{color:e,onChange:n}),E.jsx(lo,{className:"richtext-mt-[8px] richtext-w-full",type:"text",value:e.slice(1),onChange:s=>{s.preventDefault(),n(`#${s.target.value}`)}})]}),E.jsx(Ya,{className:"richtext-my-[10px]"}),E.jsx(Nn,{className:"richtext-w-full",onClick:s=>{s.preventDefault(),r(e),o(!1)},children:E.jsx(aie,{size:16})})]})]})}function uze({editor:r,disabled:e,toolbar:n}){const{t:i,lang:o}=Cn(),a=P.useMemo(()=>{const c=[...r.extensionManager.extensions].sort((d,h)=>{const f=d.options.sort??-1,m=h.options.sort??-1;return f-m});let u=[];for(const d of c){const{button:h,divider:f=!1,spacer:m=!1,toolbar:b=!0}=d.options;if(!h||!cIe(h)||!b)continue;const g=h({editor:r,extension:d,t:i});if(Array.isArray(g)){const v=g.map((x,w)=>({button:x,divider:w===g.length-1?f:!1,spacer:w===0?m:!1,type:d.type,name:d.name}));u=[...u,...v];continue}u.push({button:g,divider:f,spacer:m,type:d.type,name:d.name})}return u},[r,i,o]),s=c=>E.jsx("div",{className:"richtext-px-1 richtext-py-2 !richtext-border-b",style:{pointerEvents:e?"none":"auto",opacity:e?.5:1},children:E.jsx("div",{className:"richtext-relative richtext-flex richtext-flex-wrap richtext-h-auto richtext-gap-y-1 richtext-gap-x-1",children:c})}),l=a.map((c,u)=>{var d,h;const f=c.button.component;return E.jsxs("div",{className:"richtext-flex richtext-items-center",children:[(c==null?void 0:c.spacer)&&E.jsx(Ya,{orientation:"vertical",className:"!richtext-h-[16px] !richtext-mx-[10px]"}),E.jsx(f,{...c.button.componentProps,disabled:e||((h=(d=c==null?void 0:c.button)==null?void 0:d.componentProps)==null?void 0:h.disabled)}),(c==null?void 0:c.divider)&&E.jsx(Ya,{orientation:"vertical",className:"!richtext-h-auto !richtext-mx-2"})]},`toolbar-item-${u}`)});return n&&n!=null&&n.render?n.render({editor:r,disabled:e||!1},a,l,s):s(l)}function dze({editor:r,extensions:e}){const{t:n}=Cn(),i=P.useMemo(()=>{var o,a,s;return(s=(a=(o=e==null?void 0:e.find(l=>l.name==="base-kit"))==null?void 0:o.options)==null?void 0:a.characterCount)==null?void 0:s.limit},[e]);return i?E.jsx("div",{className:"richtext-flex richtext-items-center richtext-justify-between richtext-p-3 richtext-border-t",children:E.jsx("div",{className:"richtext-flex richtext-flex-col",children:E.jsx("div",{className:"richtext-flex richtext-justify-end richtext-gap-3 richtext-text-sm",children:E.jsxs("span",{children:[r.storage.characterCount.characters(),"/",i," ",n("editor.characters")]})})})}):E.jsx("div",{className:"richtext-flex richtext-items-center richtext-justify-between richtext-p-3 richtext-border-t",children:E.jsx("div",{className:"richtext-flex richtext-flex-col",children:E.jsx("div",{className:"richtext-flex richtext-justify-end richtext-gap-3 richtext-text-sm",children:E.jsxs("span",{children:[r.storage.characterCount.characters()," ",n("editor.characters")]})})})})}function hze(){const{toasts:r}=gle();return E.jsxs(_Ie,{children:[r.map(({id:e,title:n,description:i,action:o,...a})=>E.jsxs(hle,{...a,children:[E.jsxs("div",{className:"richtext-grid richtext-gap-1",children:[n&&E.jsx(ple,{children:n}),i&&E.jsx(mle,{children:i})]}),o,E.jsx(fle,{})]},e)),E.jsx(dle,{})]})}const fze=`
.reactjs-tiptap-editor,
.richtext-dialog-content {
  button,
  input:where([type=button]),
  input:where([type=reset]),
  input:where([type=submit]) {
    -webkit-appearance: button;
    background-color: transparent;
    background-image: none;
  }

  input,
  optgroup,
  select {
    font-family: inherit;
    font-feature-settings: inherit;
    font-variation-settings: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    letter-spacing: inherit;
    color: inherit;
  }

  button {
    font-family: inherit;
    font-feature-settings: inherit;
    font-variation-settings: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    letter-spacing: inherit;
    color: inherit;
  }

  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
    border-color: hsl(var(--richtext-border));
  }

  background-color: hsl(var(--richtext-background));
  color: hsl(var(--richtext-foreground));

  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }

  a {
    color: inherit;
    text-decoration: inherit;
  }

  b,
  strong {
    font-weight: bolder;
  }

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace;
    font-feature-settings: normal;
    font-variation-settings: normal;
    font-size: 1em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  input {
    border-width: 1px;
  }


  input::placeholder {
    opacity: 1;
    color: #9ca3af;
  }

  button, input {
    cursor: pointer;
    color: inherit;
  }

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block;
    vertical-align: middle;
  }

  img,
  video {
    max-width: 100%;
    height: auto;
  }
}

div[data-radix-popper-content-wrapper],
div[data-tippy-root] {
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
    border-color: hsl(var(--richtext-border));
  }

  background-color: hsl(var(--richtext-background));
  color: hsl(var(--richtext-foreground));

  button, input {
    cursor: pointer;
    color: inherit;
  }
}
`,pze=P.memo(({children:r,id:e})=>{const[,n]=ole(s=>s.value),[,i]=ale(s=>s.value),o=s=>{n({value:s.detail})},a=s=>{i({value:s.detail})};return P.useEffect(()=>{const s=O0(zi.EDIT(e),o),l=O0(zi.UPDATE_THEME(e),a);return()=>{s(),l()}},[]),E.jsx(E.Fragment,{children:r})});function mze({children:r,id:e}){return E.jsx(VPe,{children:E.jsx(qPe,{children:E.jsx(pze,{id:e,children:r})})})}function gze(){const[r]=ale(e=>e.value);return r}const yze={setTheme:(r,e)=>{tl(zi.UPDATE_THEME(r),e)}},pV="data-rc-order",mV="data-rc-priority",bze="rc-util-key",jD=new Map;function vze(r,e){if(!r)return!1;if(r.contains)return r.contains(e);let n=e;for(;n;){if(n===r)return!0;n=n.parentNode}return!1}function Wle({mark:r}={}){return r?r.startsWith("data-")?r:`data-${r}`:bze}function pO(r){return r.attachTo?r.attachTo:document.querySelector("head")||document.body}function xze(r){return r==="queue"?"prependQueue":r?"prepend":"append"}function Vle(r){return[...(jD.get(r)||r).children].filter(e=>e.tagName==="STYLE")}function qle(r,e={}){const{csp:n,prepend:i,priority:o=0}=e,a=xze(i),s=a==="prependQueue",l=document.createElement("style");l.setAttribute(pV,a),s&&o&&l.setAttribute(mV,`${o}`),n!=null&&n.nonce&&(l.nonce=n==null?void 0:n.nonce),l.innerHTML=r;const c=pO(e),{firstChild:u}=c;if(i){if(s){const d=Vle(c).filter(h=>{if(!["prepend","prependQueue"].includes(h.getAttribute(pV)))return!1;const f=Number(h.getAttribute(mV)||0);return o>=f});if(d.length>0)return c.insertBefore(l,d.at(-1).nextSibling),l}u.before(l)}else c.append(l);return l}function Gle(r,e={}){const n=pO(e);return Vle(n).find(i=>i.getAttribute(Wle(e))===r)}function wze(r,e={}){const n=Gle(r,e);n&&n.remove()}function Sze(r,e){const n=jD.get(r);if(!n||!vze(document,n)){const i=qle("",e),{parentNode:o}=i;jD.set(r,o),i.remove()}}function kze(r,e,n={}){var i,o,a;const s=pO(n);Sze(s,n);const l=Gle(e,n);if(l)return(i=n.csp)!=null&&i.nonce&&l.nonce!==((o=n.csp)==null?void 0:o.nonce)&&(l.nonce=(a=n.csp)==null?void 0:a.nonce),l.innerHTML!==r&&(l.innerHTML=r),l;const c=qle(r,n);return c.setAttribute(Wle(n),e),c}function Tze(r,e){const{content:n,extensions:i,useEditorOptions:o={}}=r,a=P.useId(),s=P.useMemo(()=>{const h=UNe(i,i,"name");return[...i.map(f=>{const m=i.find(b=>b.name===f.name);return m?f.configure(m.options):f}),...h].map((f,m)=>f.configure({sort:m}))},[i]),l=Gc(h=>{var f;const m=u(h,r.output);(f=r==null?void 0:r.onChangeContent)==null||f.call(r,m)},jke),c=kke({extensions:s,content:n,onUpdate:({editor:h})=>{l&&l(h)},...o});P.useImperativeHandle(e,()=>({editor:c})),P.useEffect(()=>{document.documentElement.classList.toggle("dark",r.dark),yze.setTheme(a,r.dark?"dark":"light")},[r.dark]),P.useEffect(()=>{c==null||c.setEditable(!(r!=null&&r.disabled)),t$e.setDisable(a,!(r!=null&&r.disabled))},[c,r==null?void 0:r.disabled]),P.useEffect(()=>((r==null?void 0:r.resetCSS)!==!1&&kze(fze,"react-tiptap-reset"),()=>{wze("react-tiptap-reset")}),[r==null?void 0:r.resetCSS]);function u(h,f){return r!=null&&r.removeDefaultWrapper?f==="html"?h.isEmpty?"":h.getHTML():f==="json"?h.isEmpty?{}:h.getJSON():f==="text"?h.isEmpty?"":h.getText():"":f==="html"?h.getHTML():f==="json"?h.getJSON():f==="text"?h.getText():""}P.useLayoutEffect(()=>{c&&(c.id=a)},[a,c]),P.useEffect(()=>()=>{var h;(h=c==null?void 0:c.destroy)==null||h.call(c)},[]);const d=lle(c,"characterCount");return c?E.jsxs("div",{className:"reactjs-tiptap-editor",children:[E.jsx(mze,{id:a,children:E.jsx(RIe,{delayDuration:0,disableHoverableContent:!0,children:E.jsx("div",{className:"richtext-overflow-hidden richtext-rounded-[0.5rem] richtext-bg-background richtext-shadow richtext-outline richtext-outline-1",children:E.jsxs("div",{className:"richtext-flex richtext-max-h-full richtext-w-full richtext-flex-col",children:[!(r!=null&&r.hideToolbar)&&E.jsx(uze,{disabled:!!(r!=null&&r.disabled),editor:c,toolbar:r.toolbar}),E.jsx(hke,{className:`richtext-relative ${(r==null?void 0:r.contentClass)||""}`,editor:c}),d&&E.jsx(dze,{editor:c,extensions:i}),!(r!=null&&r.hideBubble)&&E.jsx(lze,{bubbleMenu:r==null?void 0:r.bubbleMenu,disabled:r==null?void 0:r.disabled,editor:c})]})})})}),E.jsx(hze,{})]}):E.jsx(E.Fragment,{})}const Eze=P.forwardRef(Tze),Cze=Un.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:r}){return["li",en(this.options.HTMLAttributes,r),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),_ze=r=>{if(!r.children.length)return;const e=r.querySelectorAll("span");e&&e.forEach(n=>{var i,o;const a=n.getAttribute("style"),s=(o=(i=n.parentElement)===null||i===void 0?void 0:i.closest("span"))===null||o===void 0?void 0:o.getAttribute("style");n.setAttribute("style",`${s};${a}`)})},Aze=Os.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:r=>r.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&_ze(r),{}):!1}]},renderHTML({HTMLAttributes:r}){return["span",en(this.options.HTMLAttributes,r),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:r})=>{const{selection:e}=r;return r.doc.nodesBetween(e.from,e.to,(n,i)=>{if(n.isTextblock)return!0;n.marks.filter(o=>o.type===this.type).some(o=>Object.values(o.attrs).some(a=>!!a))||r.removeMark(i,i+n.nodeSize,this.type)}),!0}}}}),Dze=Un.create({name:"doc",topNode:!0,content:"block+"}),Mze=Dze.extend({content:"(block|columns)+"}),Rze=Sn.create({name:"selection",addProseMirrorPlugins(){const{editor:r}=this;return[new $n({key:new Ln("selection"),props:{decorations(e){return e.selection.empty||r.isFocused===!0?null:Cr.create(e.doc,[hi.inline(e.selection.from,e.selection.to,{class:"selection"})])}}})]}});function Nze(r){const{t:e}=Cn(),n=P.useMemo(()=>[{name:"paragraph",label:e("editor.paragraph.tooltip"),iconName:"Heading1",isActive:()=>r.editor.isActive("paragraph")&&!r.editor.isActive("orderedList")&&!r.editor.isActive("bulletList")&&!r.editor.isActive("taskList"),action:()=>r.editor.chain().focus().clearNodes().run()},{name:"heading1",label:e("editor.heading.h1.tooltip"),isActive:()=>r.editor.isActive("heading",{level:1}),iconName:"Heading1",action:()=>r.editor.chain().focus().clearNodes().toggleHeading({level:1}).run()},{name:"heading2",label:e("editor.heading.h2.tooltip"),isActive:()=>r.editor.isActive("heading",{level:2}),iconName:"Heading2",action:()=>r.editor.chain().focus().clearNodes().toggleHeading({level:2}).run()},{name:"heading3",label:e("editor.heading.h3.tooltip"),isActive:()=>r.editor.isActive("heading",{level:3}),iconName:"Heading3",action:()=>r.editor.chain().focus().clearNodes().toggleHeading({level:3}).run()},{name:"bulletList",label:e("editor.bulletlist.tooltip"),isActive:()=>r.editor.isActive("bulletList"),iconName:"List",action:()=>r.editor.chain().focus().clearNodes().toggleBulletList().run()},{name:"numberedList",label:e("editor.orderedlist.tooltip"),isActive:()=>r.editor.isActive("orderedList"),iconName:"ListOrdered",action:()=>r.editor.chain().focus().clearNodes().toggleOrderedList().run()},{name:"taskList",label:e("editor.tasklist.tooltip"),isActive:()=>r.editor.isActive("taskList"),iconName:"ListTodo",action:()=>r.editor.chain().focus().clearNodes().toggleTaskList().run()},{name:"blockquote",label:e("editor.blockquote.tooltip"),isActive:()=>r.editor.isActive("blockquote"),iconName:"TextQuote",action:()=>r.editor.chain().focus().clearNodes().toggleBlockquote().run()}],[r.editor,e]),i=P.useMemo(()=>n.findLast(o=>o.isActive())??{label:"Empty"},[n]);return E.jsxs(cp,{children:[E.jsx(up,{asChild:!0,children:E.jsxs(Nn,{className:"richtext-flex richtext-h-[32px] richtext-gap-1 richtext-px-1.5",variant:"ghost",children:[E.jsxs("span",{className:"richtext-whitespace-nowrap richtext-text-sm richtext-font-normal",children:[" ",i==null?void 0:i.label]}),E.jsx(Y5,{className:"richtext-size-4"})]})}),E.jsx(th,{align:"start",className:"richtext-w-full richtext-p-1",hideWhenDetached:!0,sideOffset:5,children:n.map((o,a)=>{var s;const l=wv[o.iconName];return E.jsx(dp,{checked:((s=o.isActive)==null?void 0:s.call(o))||!1,className:"richtext-cursor-pointer",onClick:()=>o.action(),children:E.jsxs("div",{className:"richtext-flex richtext-items-center richtext-gap-2 richtext-px-2",children:[E.jsx(l,{className:"richtext-h3 richtext-w-3"}),E.jsxs("span",{children:[" ",o.label]})]})},`text-bubble-${a}`)})})]})}const Oze=Sn.create({name:"text-bubble",addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),toolbar:!1,button:()=>({component:Nze,componentProps:{}})}}});function gV({types:r,node:e}){return Array.isArray(r)&&r.includes(e.type)||e.type===r}const Pze=Sn.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:["paragraph"]}},addProseMirrorPlugins(){const r=new Ln(this.name),e=Object.entries(this.editor.schema.nodes).map(([,n])=>n).filter(n=>this.options.notAfter.includes(n.name));return[new $n({key:r,appendTransaction:(n,i,o)=>{const{doc:a,tr:s,schema:l}=o,c=r.getState(o),u=a.content.size,d=l.nodes[this.options.node];if(c)return s.insert(u,d.create())},state:{init:(n,i)=>{const o=i.tr.doc.lastChild;return!gV({node:o,types:e})},apply:(n,i)=>{if(!n.docChanged)return i;const o=n.doc.lastChild;return!gV({node:o,types:e})}}})]}}),Ize=Sn.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:r=>r.length,wordCounter:r=>r.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=r=>{const e=(r==null?void 0:r.node)||this.editor.state.doc;if(((r==null?void 0:r.mode)||this.options.mode)==="textSize"){const n=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(n)}return e.nodeSize},this.storage.words=r=>{const e=(r==null?void 0:r.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let r=!1;return[new $n({key:new Ln("characterCount"),appendTransaction:(e,n,i)=>{if(r)return;const o=this.options.limit;if(o==null||o===0){r=!0;return}const a=this.storage.characters({node:i.doc});if(a>o){const s=a-o,l=0,c=s;console.warn(`[CharacterCount] Initial content exceeded limit of ${o} characters. Content was automatically trimmed.`);const u=i.tr.deleteRange(l,c);return r=!0,u}r=!0},filterTransaction:(e,n)=>{const i=this.options.limit;if(!e.docChanged||i===0||i===null||i===void 0)return!0;const o=this.storage.characters({node:n.doc}),a=this.storage.characters({node:e.doc});if(a<=i||o>i&&a>i&&a<=o)return!0;if(o>i&&a>i&&a>o||!e.getMeta("paste"))return!1;const s=e.selection.$head.pos,l=a-i,c=s-l,u=s;return e.deleteRange(c,u),!(this.storage.characters({node:e.doc})>i)}})]}});function $ze(r={}){return new $n({view(e){return new zze(e,r)}})}let zze=class{constructor(e,n){var i;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(i=n.width)!==null&&i!==void 0?i:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let a=s=>{this[o](s)};return e.dom.addEventListener(o,a),{name:o,handler:a}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,i;if(n){let l=e.nodeBefore,c=e.nodeAfter;if(l||c){let u=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(u){let d=u.getBoundingClientRect(),h=l?d.bottom:d.top;l&&c&&(h=(h+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),i={left:d.left,right:d.right,top:h-this.width/2,bottom:h+this.width/2}}}}if(!i){let l=this.editorView.coordsAtPos(this.cursorPos);i={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let o=this.editorView.dom.offsetParent;this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let a,s;if(!o||o==document.body&&getComputedStyle(o).position=="static")a=-pageXOffset,s=-pageYOffset;else{let l=o.getBoundingClientRect();a=l.left-o.scrollLeft,s=l.top-o.scrollTop}this.element.style.left=i.left-a+"px",this.element.style.top=i.top-s+"px",this.element.style.width=i.right-i.left+"px",this.element.style.height=i.bottom-i.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),i=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),o=i&&i.type.spec.disableDropCursor,a=typeof o=="function"?o(this.editorView,n,e):o;if(n&&!a){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=Ate(this.editorView.state.doc,s,this.editorView.dragging.slice);l!=null&&(s=l)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}};const Lze=Sn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[$ze(this.options)]}}),Uze=Sn.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new $n({key:new Ln("focus"),props:{decorations:({doc:r,selection:e})=>{const{isEditable:n,isFocused:i}=this.editor,{anchor:o}=e,a=[];if(!n||!i)return Cr.create(r,[]);let s=0;this.options.mode==="deepest"&&r.descendants((c,u)=>{if(!c.isText){if(!(o>=u&&o<=u+c.nodeSize-1))return!1;s+=1}});let l=0;return r.descendants((c,u)=>{if(c.isText||!(o>=u&&o<=u+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&s-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";a.push(hi.node(u,u+c.nodeSize,{class:this.options.className}))}),Cr.create(r,a)}}})]}});let Po=class Ju extends Xt{constructor(e){super(e,e)}map(e,n){let i=e.resolve(n.map(this.head));return Ju.valid(i)?new Ju(i):Xt.near(i)}content(){return Et.empty}eq(e){return e instanceof Ju&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ju(e.resolve(n.pos))}getBookmark(){return new Bze(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!jze(e)||!Fze(e))return!1;let i=n.type.spec.allowGapCursor;if(i!=null)return i;let o=n.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(e,n,i=!1){e:for(;;){if(!i&&Ju.valid(e))return e;let o=e.pos,a=null;for(let s=e.depth;;s--){let l=e.node(s);if(n>0?e.indexAfter(s)<l.childCount:e.index(s)>0){a=l.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;o+=n;let c=e.doc.resolve(o);if(Ju.valid(c))return c}for(;;){let s=n>0?a.firstChild:a.lastChild;if(!s){if(a.isAtom&&!a.isText&&!Gt.isSelectable(a)){e=e.doc.resolve(o+a.nodeSize*n),i=!1;continue e}break}a=s,o+=n;let l=e.doc.resolve(o);if(Ju.valid(l))return l}return null}}};Po.prototype.visible=!1;Po.findFrom=Po.findGapCursorFrom;Xt.jsonID("gapcursor",Po);let Bze=class Kle{constructor(e){this.pos=e}map(e){return new Kle(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Po.valid(n)?new Po(n):Xt.near(n)}};function jze(r){for(let e=r.depth;e>=0;e--){let n=r.index(e),i=r.node(e);if(n==0){if(i.type.spec.isolating)return!0;continue}for(let o=i.child(n-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function Fze(r){for(let e=r.depth;e>=0;e--){let n=r.indexAfter(e),i=r.node(e);if(n==i.childCount){if(i.type.spec.isolating)return!0;continue}for(let o=i.child(n);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function Hze(){return new $n({props:{decorations:Gze,createSelectionBetween(r,e,n){return e.pos==n.pos&&Po.valid(n)?new Po(n):null},handleClick:Vze,handleKeyDown:Wze,handleDOMEvents:{beforeinput:qze}}})}const Wze=UR({ArrowLeft:Ow("horiz",-1),ArrowRight:Ow("horiz",1),ArrowUp:Ow("vert",-1),ArrowDown:Ow("vert",1)});function Ow(r,e){const n=r=="vert"?e>0?"down":"up":e>0?"right":"left";return function(i,o,a){let s=i.selection,l=e>0?s.$to:s.$from,c=s.empty;if(s instanceof Ht){if(!a.endOfTextblock(n)||l.depth==0)return!1;c=!1,l=i.doc.resolve(e>0?l.after():l.before())}let u=Po.findGapCursorFrom(l,e,c);return u?(o&&o(i.tr.setSelection(new Po(u))),!0):!1}}function Vze(r,e,n){if(!r||!r.editable)return!1;let i=r.state.doc.resolve(e);if(!Po.valid(i))return!1;let o=r.posAtCoords({left:n.clientX,top:n.clientY});return o&&o.inside>-1&&Gt.isSelectable(r.state.doc.nodeAt(o.inside))?!1:(r.dispatch(r.state.tr.setSelection(new Po(i))),!0)}function qze(r,e){if(e.inputType!="insertCompositionText"||!(r.state.selection instanceof Po))return!1;let{$from:n}=r.state.selection,i=n.parent.contentMatchAt(n.index()).findWrapping(r.state.schema.nodes.text);if(!i)return!1;let o=st.empty;for(let s=i.length-1;s>=0;s--)o=st.from(i[s].createAndFill(null,o));let a=r.state.tr.replace(n.pos,n.pos,new Et(o,0,0));return a.setSelection(Ht.near(a.doc.resolve(n.pos+1))),r.dispatch(a),!1}function Gze(r){if(!(r.selection instanceof Po))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Cr.create(r.doc,[hi.widget(r.selection.head,e,{key:"gapcursor"})])}const Kze=Sn.create({name:"gapCursor",addProseMirrorPlugins(){return[Hze()]},extendNodeSchema(r){var e;const n={name:r.name,options:r.options,storage:r.storage};return{allowGapCursor:(e=on(Rt(r,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),Xze=Un.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:r}){return["br",en(this.options.HTMLAttributes,r)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:r,chain:e,state:n,editor:i})=>r.first([()=>r.exitCode(),()=>r.command(()=>{const{selection:o,storedMarks:a}=n;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:l}=i.extensionManager,c=a||o.$to.parentOffset&&o.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:d})=>{if(d&&c&&s){const h=c.filter(f=>l.includes(f.type.name));u.ensureMarks(h)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Yze=Un.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:r}){return["p",en(this.options.HTMLAttributes,r),0]},addCommands(){return{setParagraph:()=>({commands:r})=>r.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Zze=Sn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new $n({key:new Ln("placeholder"),props:{decorations:({doc:r,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=e,o=[];if(!n)return null;const a=this.editor.isEmpty;return r.descendants((s,l)=>{const c=i>=l&&i<=l+s.nodeSize,u=!s.isLeaf&&j5(s);if((c||!this.options.showOnlyCurrent)&&u){const d=[this.options.emptyNodeClass];a&&d.push(this.options.emptyEditorClass);const h=hi.node(l,l+s.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:s,pos:l,hasAnchor:c}):this.options.placeholder});o.push(h)}return this.options.includeChildren}),Cr.create(r,o)}}})]}}),Jze=Un.create({name:"text",group:"inline"}),Qze=Sn.create({name:"base-kit",addExtensions(){const r=[];return this.options.document!==!1&&r.push(Mze.configure()),this.options.placeholder!==!1&&r.push(Zze.configure({placeholder:({node:e,pos:n,editor:i})=>{var o,a,s,l,c;return((o=e==null?void 0:e.type)==null?void 0:o.name)==="columns"||((a=e==null?void 0:e.content)==null?void 0:a.size)!==0?"":((s=e==null?void 0:e.type)==null?void 0:s.name)==="heading"?`${An.t(`editor.heading.h${e.attrs.level}.tooltip`)}`:((l=e==null?void 0:e.type)==null?void 0:l.name)==="codeBlock"||((c=e==null?void 0:e.type)==null?void 0:c.name)==="table"?"":i.extensionManager.extensions.some(u=>u.name==="slashCommand")?An.t("editor.slash"):An.t("editor.content")},...this.options.placeholder})),this.options.focus!==!1&&r.push(Uze.configure({className:"focus",...this.options.focus})),this.options.text!==!1&&r.push(Jze.configure()),this.options.textBubble!==!1&&r.push(Oze.configure()),this.options.gapcursor!==!1&&r.push(Kze.configure()),this.options.dropcursor!==!1&&r.push(Lze.configure({...this.options.dropcursor,width:2,class:"ProseMirror-dropcursor border-black"})),this.options.characterCount!==!1&&r.push(Ize.configure(this.options.characterCount)),this.options.paragraph!==!1&&r.push(Yze.configure(this.options.paragraph)),this.options.hardBreak!==!1&&r.push(Xze.configure(this.options.hardBreak)),this.options.listItem!==!1&&r.push(Cze.configure(this.options.listItem)),this.options.textStyle!==!1&&r.push(Aze.configure(this.options.textStyle)),this.options.trailingNode!==!1&&r.push(Pze.configure(this.options.trailingNode)),this.options.selection!==!1&&r.push(Rze),this.options.multiColumn!==!1&&r.push(QN,bb),r}}),eLe="modulepreload",tLe=function(r){return"/"+r},yV={},PS=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){let s=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));o=s(n.map(u=>{if(u=tLe(u),u in yV)return;yV[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":eLe,d||(f.as="script"),f.crossOrigin="",f.href=u,c&&f.setAttribute("nonce",c),document.head.appendChild(f),d)return new Promise((m,b)=>{f.addEventListener("load",m),f.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return o.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},Pw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",nLe=r=>{r=r.replace(/\r\n/g,`
`);let e=0,n="";for(;e<r.length;e++){const i=r.charCodeAt(e);i<128?n+=String.fromCharCode(i):i>127&&i<2048?(n+=String.fromCharCode(i>>6|192),n+=String.fromCharCode(63&i|128)):(n+=String.fromCharCode(i>>12|224),n+=String.fromCharCode(i>>6&63|128),n+=String.fromCharCode(63&i|128))}return n},rLe=r=>{let e,n,i,o,a,s,l,c=0,u="";for(r=nLe(r);c<r.length;)e=r.charCodeAt(c++),n=r.charCodeAt(c++),i=r.charCodeAt(c++),o=e>>2,a=(3&e)<<4|n>>4,s=(15&n)<<2|i>>6,l=63&i,isNaN(n)?s=l=64:isNaN(i)&&(l=64),u=u+Pw.charAt(o)+Pw.charAt(a)+Pw.charAt(s)+Pw.charAt(l);return u},iLe=r=>typeof r=="string"?"string":typeof SVGElement<"u"&&r instanceof SVGElement?"element":void 0,Xle=r=>"data:image/svg+xml;base64,"+rLe(r),oLe=r=>Xle(new XMLSerializer().serializeToString(r)),IS=r=>{switch(iLe(r)){case"string":return Xle(r);case"element":return oLe(r);default:return r}};function $S(r=8){return Math.random().toString(36).substring(2,r+2)}const Ev=P.forwardRef(({className:r,...e},n)=>E.jsx("textarea",{className:wt("richtext-flex richtext-min-h-[80px] richtext-w-full richtext-rounded-md !richtext-border richtext-border-input richtext-bg-background richtext-px-3 richtext-py-2 richtext-text-sm richtext-ring-offset-background placeholder:richtext-text-muted-foreground focus-visible:richtext-outline-none focus-visible:richtext-ring-2 focus-visible:richtext-ring-ring focus-visible:richtext-ring-offset-2 disabled:richtext-cursor-not-allowed disabled:richtext-opacity-50",r),ref:n,...e}));Ev.displayName="Textarea";const bV=`graph TB
a-->b`,aLe=({editor:r,upload:e})=>{const[n,i]=P.useState(bV),[o,a]=P.useState(""),[s,l]=P.useState(!1),c=P.useRef(null),[u,d]=P.useState(null),h=P.useCallback(b=>{b&&PS(()=>import("./mermaid.core-CLCDGmZ4.js").then(g=>g.bz),[]).then(g=>{d(g.default)})},[]),f=async b=>{try{const{svg:g}=await u.render("mermaid-svg",b);a(g)}catch{a("")}},m=()=>{u.initialize({darkMode:!1,startOnLoad:!1,fontSize:12,theme:"base"}),f(n)};return P.useEffect(()=>{u&&s&&m()},[u,s]),P.useEffect(()=>{u&&s&&f(n)},[u&&n]),E.jsxs(ru,{onOpenChange:l,open:s,children:[E.jsx(iu,{asChild:!0,children:E.jsx(ft,{action:()=>l(!0),icon:"Mermaid",tooltip:"Mermaid"})}),E.jsxs(Rl,{className:"richtext-z-[99999] !richtext-max-w-[1300px]",children:[E.jsx(Nl,{children:"Mermaid"}),E.jsx("div",{ref:h,style:{height:"100%",border:"1px solid hsl(var(--border))"},children:E.jsxs("div",{className:"richtext-flex richtext-gap-[10px] richtext-rounded-[10px] richtext-p-[10px]",children:[E.jsx(Ev,{autoFocus:!0,className:"richtext-flex-1",defaultValue:bV,onChange:b=>i(b.target.value),placeholder:"Text",required:!0,rows:10,value:n,style:{color:"hsl(var(--richtext-foreground))"}}),E.jsx("div",{className:"richtext-flex richtext-flex-1 richtext-items-center richtext-justify-center richtext-rounded-[10px] richtext-p-[10px]",dangerouslySetInnerHTML:{__html:o},ref:c,style:{height:"100%",borderWidth:1,minHeight:500,background:"#fff"}})]})}),E.jsx(eh,{children:E.jsx(Nn,{onClick:async()=>{if(n!==""){if(n){const b=c.current.querySelector("svg"),{width:g,height:v}=b.getBoundingClientRect(),x=`mermaid-${$S()}.svg`;let w=IS(b.outerHTML);if(e){console.log({src:w});const k=Sv(w,x);w=await e(k)}r==null||r.chain().focus().setMermaid({type:"mermaid",src:w,alt:encodeURIComponent(n),width:g,height:v},!!n).run()}l(!1)}},type:"button",children:"Save changes"})})]})]})},Iw={TOP_LEFT:"tl",TOP_RIGHT:"tr",BOTTOM_LEFT:"bl",BOTTOM_RIGHT:"br"};function sLe({editor:r,node:e,updateAttributes:n,getPos:i,selected:o}){const[a,s]=P.useState({width:Ad,height:Ad}),[l,c]=P.useState({width:0,height:0}),[u]=P.useState([Iw.TOP_LEFT,Iw.TOP_RIGHT,Iw.BOTTOM_LEFT,Iw.BOTTOM_RIGHT]),[d,h]=P.useState(!1),[f,m]=P.useState({x:0,y:0,w:0,h:0,dir:""}),{align:b}=e==null?void 0:e.attrs,g=P.useMemo(()=>{const{src:W,alt:Z,width:$,height:F}=e==null?void 0:e.attrs,A=ib($)?`${$}px`:$,Q=ib(F)?`${F}px`:F;return{src:W||void 0,alt:Z||void 0,style:{width:A||void 0,height:Q||void 0}}},[e==null?void 0:e.attrs]),v=P.useMemo(()=>{const{style:{width:W}}=g;return{width:W==="100%"?W:void 0}},[g]);function x(W){c({width:W.target.width,height:W.target.height})}function w(){r.commands.setNodeSelection(i())}const k=P.useCallback(Gc(()=>{const{width:W}=getComputedStyle(r.view.dom);s(Z=>({...Z,width:Number.parseInt(W,10)}))},Dd),[r]);function T(W,Z){W.preventDefault(),W.stopPropagation();const $=l.width,F=l.height,A=$/F;let Q=Number(e.attrs.width),H=Number(e.attrs.height);const G=a.width;Q&&!H?(Q=Q>G?G:Q,H=Math.round(Q/A)):H&&!Q?(Q=Math.round(H*A),Q=Q>G?G:Q):!Q&&!H?(Q=$>G?G:$,H=Math.round(Q/A)):Q=Q>G?G:Q,h(!0),m({x:W.clientX,y:W.clientY,w:Q,h:H,dir:Z})}const _=P.useCallback(Gc(W=>{if(W.preventDefault(),W.stopPropagation(),!d)return;const{x:Z,w:$,dir:F}=f,A=(W.clientX-Z)*(/l/.test(F)?-1:1),{width:Q,height:H}=e==null?void 0:e.attrs,G=Q/H,ne=YN($+A,q5,a.width),J=Math.round(ne/G);n({width:ne,height:J})},Dd),[d,f,a,n,e==null?void 0:e.attrs]),D=P.useCallback(W=>{W.preventDefault(),W.stopPropagation(),d&&(m({x:0,y:0,w:0,h:0,dir:""}),h(!1),w())},[d,w]),I=P.useCallback(()=>{document==null||document.addEventListener("mousemove",_,!0),document==null||document.addEventListener("mouseup",D,!0)},[_,D]),L=P.useCallback(()=>{document==null||document.removeEventListener("mousemove",_,!0),document==null||document.removeEventListener("mouseup",D,!0)},[_,D]);P.useEffect(()=>(d?I():L(),()=>{L()}),[d,I,L]);const O=P.useMemo(()=>new ResizeObserver(()=>k()),[k]);return P.useEffect(()=>(O.observe(r.view.dom),()=>{O.disconnect()}),[r.view.dom,O]),E.jsx(ua,{className:"image-view",style:{...v,width:"100%",textAlign:b},children:E.jsxs("div",{"data-drag-handle":!0,draggable:"true",style:{...v,background:"#fff"},className:`image-view__body ${o?"image-view__body--focused":""} ${d?"image-view__body--resizing":""}`,children:[E.jsx("img",{alt:g.alt,className:"image-view__body__image block",height:"auto",onClick:w,onLoad:x,src:g.src,style:g.style}),r.view.editable&&(o||d)&&E.jsx("div",{className:"image-resizer",children:u==null?void 0:u.map(W=>E.jsx("span",{className:`image-resizer__handler image-resizer__handler--${W}`,onMouseDown:Z=>T(Z,W)},`image-dir-${W}`))})]})})}const FD=ES.extend({name:"mermaid",addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),inline:!1,content:"",marks:"",group:"block",draggable:!1,selectable:!0,atom:!0,HTMLAttributes:{class:"mermaid"},button:({editor:e,t:n,extension:i})=>{var o;return{component:aLe,componentProps:{action:()=>!0,isActive:()=>!1,disabled:!1,editor:e,icon:"Mermaid",tooltip:n("editor.mermaid.tooltip"),upload:(o=i==null?void 0:i.options)==null?void 0:o.upload}}}}},addAttributes(){var r;return{...(r=this.parent)==null?void 0:r.call(this),width:{default:null,parseHTML:e=>{const n=e.querySelector("img"),i=n==null?void 0:n.getAttribute("width");return i?Number.parseInt(i,10):320},renderHTML:e=>({width:e.width})},height:{default:null,parseHTML:e=>{const n=e.querySelector("img"),i=n==null?void 0:n.getAttribute("height");return i?Number.parseInt(i,10):212},renderHTML:e=>({height:e.height})},align:{default:"center",parseHTML:e=>e.getAttribute("align"),renderHTML:e=>({align:e.align})}}},addNodeView(){return Ps(sLe)},addCommands(){return{setMermaid:(r,e)=>({commands:n,editor:i})=>e?n.insertContent({type:this.name,attrs:r}):n.insertContentAt(i.state.selection.anchor,{type:this.name,attrs:r}),setAlignImageMermaid:r=>({commands:e})=>e.updateAttributes(this.name,{align:r})}},renderHTML({HTMLAttributes:r}){const{align:e}=r;return["div",{style:e?`text-align: ${e};`:"",class:"imageMermaid"},["img",en(this.options.HTMLAttributes,r)]]},parseHTML(){return[{tag:"div[class=imageMermaid]",getAttrs:r=>{const e=r.querySelector("img"),n=e==null?void 0:e.getAttribute("width"),i=e==null?void 0:e.getAttribute("height");return{src:e==null?void 0:e.getAttribute("src"),alt:e==null?void 0:e.getAttribute("alt"),width:n?Number.parseInt(n,10):null,height:i?Number.parseInt(i,10):null,align:(e==null?void 0:e.getAttribute("align"))||r.style.textAlign||null}}}]}});let kC;function mO(){try{return kC||(kC=Dre()),kC}catch{throw new Error("Error EventEmitter")}}const HD="OPEN_EXCALIDRAW_SETTING_MODAL";function lLe(r,e){mO().on(r,e)}function cLe(r,e){mO().off(r,e)}function uLe(r){mO().emit(HD,r)}const dLe=({editor:r})=>{const[e,n]=P.useState(null),[i,o]=P.useState({}),[a,s]=P.useState({elements:[],appState:{isLoading:!1},files:null}),[l,c]=P.useState(!1),[u,d]=P.useState(!0),[h,f]=P.useState(null),m=P.useCallback(x=>{x&&PS(()=>import("./main-CceN7HVm.js").then(w=>w.m),[]).then(w=>{n(w.Excalidraw)}).catch(f).finally(()=>d(!1))},[d]),b=P.useCallback(x=>{setTimeout(()=>{x.refresh()})},[]),g=P.useCallback((x,w,k)=>{o({elements:x,appState:{isLoading:!1},files:k})},[]),v=P.useCallback(()=>{if(!e){c(!1);return}r.chain().focus().setExcalidraw({data:i}).run(),c(!1)},[e,r,i,c]);return P.useEffect(()=>{const x=w=>{c(!0),w&&s(w.data)};return lLe(HD,x),()=>{cLe(HD,x)}},[r,c]),E.jsxs(ru,{onOpenChange:c,open:l,children:[E.jsx(iu,{asChild:!0,children:E.jsx(ft,{action:()=>c(!0),icon:"Excalidraw",tooltip:"Excalidraw"})}),E.jsxs(Rl,{className:"richtext-z-[99999] !richtext-max-w-[1300px]",children:[E.jsx(Nl,{children:"Excalidraw"}),E.jsxs("div",{style:{height:"100%",borderWidth:1},children:[u&&E.jsx("p",{children:"Loading..."}),h&&E.jsx("p",{children:h&&h.message||"Error"}),E.jsx("div",{ref:m,style:{width:"100%",height:600},children:!u&&!h&&e?E.jsx(e,{initialData:a,langCode:"en",onChange:g,ref:b}):null})]}),E.jsx(eh,{children:E.jsx(Nn,{onClick:v,type:"button",children:"Save changes"})})]})]})};var WD={exports:{}},hLe=WD.exports,vV;function fLe(){return vV||(vV=1,function(r,e){(function(n,i){r.exports=i(dt,wR)})(hLe,function(n,i){return function(o){var a={};function s(l){if(a[l])return a[l].exports;var c=a[l]={i:l,l:!1,exports:{}};return o[l].call(c.exports,c,c.exports,s),c.l=!0,c.exports}return s.m=o,s.c=a,s.d=function(l,c,u){s.o(l,c)||Object.defineProperty(l,c,{enumerable:!0,get:u})},s.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},s.t=function(l,c){if(c&1&&(l=s(l)),c&8||c&4&&typeof l=="object"&&l&&l.__esModule)return l;var u=Object.create(null);if(s.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:l}),c&2&&typeof l!="string")for(var d in l)s.d(u,d,(function(h){return l[h]}).bind(null,d));return u},s.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return s.d(c,"a",c),c},s.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},s.p="",s(s.s=4)}([function(o,a,s){o.exports=s(5)()},function(o,a){o.exports=n},function(o,a){o.exports=i},function(o,a){o.exports=function(s,l,c){var u=s.direction,d=s.value;switch(u){case"top":return c.top+d<l.top&&c.bottom>l.bottom&&c.left<l.left&&c.right>l.right;case"left":return c.left+d<l.left&&c.bottom>l.bottom&&c.top<l.top&&c.right>l.right;case"bottom":return c.bottom-d>l.bottom&&c.left<l.left&&c.right>l.right&&c.top<l.top;case"right":return c.right-d>l.right&&c.left<l.left&&c.top<l.top&&c.bottom>l.bottom}}},function(o,a,s){s.r(a),s.d(a,"default",function(){return W});var l=s(1),c=s.n(l),u=s(2),d=s.n(u),h=s(0),f=s.n(h),m=s(3),b=s.n(m);function g(Z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function($){return typeof $}:g=function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},g(Z)}function v(Z,$){if(!(Z instanceof $))throw new TypeError("Cannot call a class as a function")}function x(Z,$){for(var F=0;F<$.length;F++){var A=$[F];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(Z,A.key,A)}}function w(Z,$,F){return $&&x(Z.prototype,$),Z}function k(Z,$){return $&&(g($)==="object"||typeof $=="function")?$:_(Z)}function T(Z){return T=Object.setPrototypeOf?Object.getPrototypeOf:function($){return $.__proto__||Object.getPrototypeOf($)},T(Z)}function _(Z){if(Z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z}function D(Z,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create($&&$.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),$&&I(Z,$)}function I(Z,$){return I=Object.setPrototypeOf||function(F,A){return F.__proto__=A,F},I(Z,$)}function L(Z,$,F){return $ in Z?Object.defineProperty(Z,$,{value:F,enumerable:!0,configurable:!0,writable:!0}):Z[$]=F,Z}function O(Z){return Z.width===void 0&&(Z.width=Z.right-Z.left),Z.height===void 0&&(Z.height=Z.bottom-Z.top),Z}var W=function(Z){D($,Z);function $(F){var A;return v(this,$),A=k(this,T($).call(this,F)),L(_(A),"getContainer",function(){return A.props.containment||window}),L(_(A),"addEventListener",function(Q,H,G,ne){A.debounceCheck||(A.debounceCheck={});var J,ee,X=function(){J=null,A.check()};ne>-1?ee=function(){J||(J=setTimeout(X,ne||0))}:ee=function(){clearTimeout(J),J=setTimeout(X,G||0)};var j={target:Q,fn:ee,getLastTimeout:function(){return J}};Q.addEventListener(H,j.fn),A.debounceCheck[H]=j}),L(_(A),"startWatching",function(){A.debounceCheck||A.interval||(A.props.intervalCheck&&(A.interval=setInterval(A.check,A.props.intervalDelay)),A.props.scrollCheck&&A.addEventListener(A.getContainer(),"scroll",A.props.scrollDelay,A.props.scrollThrottle),A.props.resizeCheck&&A.addEventListener(window,"resize",A.props.resizeDelay,A.props.resizeThrottle),!A.props.delayedCall&&A.check())}),L(_(A),"stopWatching",function(){if(A.debounceCheck){for(var Q in A.debounceCheck)if(A.debounceCheck.hasOwnProperty(Q)){var H=A.debounceCheck[Q];clearTimeout(H.getLastTimeout()),H.target.removeEventListener(Q,H.fn),A.debounceCheck[Q]=null}}A.debounceCheck=null,A.interval&&(A.interval=clearInterval(A.interval))}),L(_(A),"check",function(){var Q=A.node,H,G;if(!Q)return A.state;if(H=O(A.roundRectDown(Q.getBoundingClientRect())),A.props.containment){var ne=A.props.containment.getBoundingClientRect();G={top:ne.top,left:ne.left,bottom:ne.bottom,right:ne.right}}else G={top:0,left:0,bottom:window.innerHeight||document.documentElement.clientHeight,right:window.innerWidth||document.documentElement.clientWidth};var J=A.props.offset||{},ee=g(J)==="object";ee&&(G.top+=J.top||0,G.left+=J.left||0,G.bottom-=J.bottom||0,G.right-=J.right||0);var X={top:H.top>=G.top,left:H.left>=G.left,bottom:H.bottom<=G.bottom,right:H.right<=G.right},j=H.height>0&&H.width>0,ae=j&&X.top&&X.left&&X.bottom&&X.right;if(j&&A.props.partialVisibility){var re=H.top<=G.bottom&&H.bottom>=G.top&&H.left<=G.right&&H.right>=G.left;typeof A.props.partialVisibility=="string"&&(re=X[A.props.partialVisibility]),ae=A.props.minTopValue?re&&H.top<=G.bottom-A.props.minTopValue:re}typeof J.direction=="string"&&typeof J.value=="number"&&(console.warn("[notice] offset.direction and offset.value have been deprecated. They still work for now, but will be removed in next major version. Please upgrade to the new syntax: { %s: %d }",J.direction,J.value),ae=b()(J,H,G));var de=A.state;return A.state.isVisible!==ae&&(de={isVisible:ae,visibilityRect:X},A.setState(de),A.props.onChange&&A.props.onChange(ae)),de}),A.state={isVisible:null,visibilityRect:{}},A}return w($,[{key:"componentDidMount",value:function(){this.node=d.a.findDOMNode(this),this.props.active&&this.startWatching()}},{key:"componentWillUnmount",value:function(){this.stopWatching()}},{key:"componentDidUpdate",value:function(F){this.node=d.a.findDOMNode(this),this.props.active&&!F.active?(this.setState({isVisible:null,visibilityRect:{}}),this.startWatching()):this.props.active||this.stopWatching()}},{key:"roundRectDown",value:function(F){return{top:Math.floor(F.top),left:Math.floor(F.left),bottom:Math.floor(F.bottom),right:Math.floor(F.right)}}},{key:"render",value:function(){return this.props.children instanceof Function?this.props.children({isVisible:this.state.isVisible,visibilityRect:this.state.visibilityRect}):c.a.Children.only(this.props.children)}}]),$}(c.a.Component);L(W,"defaultProps",{active:!0,partialVisibility:!1,minTopValue:0,scrollCheck:!1,scrollDelay:250,scrollThrottle:-1,resizeCheck:!1,resizeDelay:250,resizeThrottle:-1,intervalCheck:!0,intervalDelay:100,delayedCall:!1,offset:{},containment:null,children:c.a.createElement("span",null)}),L(W,"propTypes",{onChange:f.a.func,active:f.a.bool,partialVisibility:f.a.oneOfType([f.a.bool,f.a.oneOf(["top","right","bottom","left"])]),delayedCall:f.a.bool,offset:f.a.oneOfType([f.a.shape({top:f.a.number,left:f.a.number,bottom:f.a.number,right:f.a.number}),f.a.shape({direction:f.a.oneOf(["top","right","bottom","left"]),value:f.a.number})]),scrollCheck:f.a.bool,scrollDelay:f.a.number,scrollThrottle:f.a.number,resizeCheck:f.a.bool,resizeDelay:f.a.number,resizeThrottle:f.a.number,intervalCheck:f.a.bool,intervalDelay:f.a.number,containment:typeof window<"u"?f.a.instanceOf(window.Element):f.a.any,children:f.a.oneOfType([f.a.element,f.a.func]),minTopValue:f.a.number})},function(o,a,s){var l=s(6);function c(){}function u(){}u.resetWarningCache=c,o.exports=function(){function d(m,b,g,v,x,w){if(w!==l){var k=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw k.name="Invariant Violation",k}}d.isRequired=d;function h(){return d}var f={array:d,bool:d,func:d,number:d,object:d,string:d,symbol:d,any:d,arrayOf:h,element:d,elementType:d,instanceOf:h,node:d,objectOf:h,oneOf:h,oneOfType:h,shape:h,exact:h,checkPropTypes:u,resetWarningCache:c};return f.PropTypes=f,f}},function(o,a,s){var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";o.exports=l}])})}(WD)),WD.exports}var pLe=fLe();const mLe=nO(pLe),gLe="_wrap_15k3c_1",yLe="_renderWrap_15k3c_7",bLe="_title_15k3c_14",vLe="_handlerWrap_15k3c_30",_1={wrap:gLe,renderWrap:yLe,title:bLe,handlerWrap:vLe},xLe=10,wLe=200,xV=15,wV={width:"100%",height:"100%",maxWidth:"100%"};function SLe({editor:r,node:e,updateAttributes:n}){const i=P.useRef(null),o=r.isActive(ef.name),{data:a,width:s,height:l}=e.attrs,[c,u]=P.useState(null),[d,h]=P.useState(!0),[f,m]=P.useState(null),[b,g]=P.useState(!1),[v,x]=P.useState(100),w=P.useCallback(_=>{_&&g(!0)},[g]),k=P.useCallback(_=>()=>{x(D=>YN(_==="minus"?D-xV:D+xV,xLe,wLe))},[]);P.useEffect(()=>{let _=!1;return PS(()=>import("./main-CceN7HVm.js").then(D=>D.m),[]).then(D=>{_||(i.current=D.exportToSvg)}).catch(D=>!_&&m(D)).finally(()=>!_&&h(!1)),()=>{_=!0}},[h,a]),P.useEffect(()=>{let _=!1;return(async()=>{if(_||d||f||!b||!a)return;const D=await i.current(a);_||(D.setAttribute("width","100%"),D.setAttribute("height","100%"),D.setAttribute("display","block"),u(D))})(),()=>{_=!0}},[a,d,f,b]);const T=_=>{n({width:_.width,height:_.height})};return E.jsx(ua,{className:pr(_1.wrap,o&&_1.isActive),children:E.jsx(mLe,{onChange:w,children:E.jsx(Doe,{size:{width:Number.parseInt(s),height:Number.parseInt(l)},onResizeStop:(_,D,I,L)=>{T({width:Number.parseInt(s)+L.width,height:Number.parseInt(l)+L.height})},children:E.jsxs("div",{className:pr(_1.renderWrap,"render-wrapper"),style:{...wV,overflow:"hidden"},children:[f&&E.jsx("div",{style:wV,children:E.jsx("p",{children:f.message||f})}),d&&E.jsx("p",{children:"Loading..."}),!d&&!f&&b&&E.jsx("div",{dangerouslySetInnerHTML:{__html:(c==null?void 0:c.outerHTML)??""},style:{height:"100%",maxHeight:"100%",padding:24,overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",transform:`scale(${v/100})`,transition:"all ease-in-out .3s"}}),E.jsx("div",{className:_1.title}),E.jsxs("div",{className:_1.handlerWrap,children:[E.jsx(ft,{action:k("minus"),icon:"ZoomOut",tooltip:"Zoom Out"}),E.jsx(ft,{action:k("plus"),icon:"ZoomIn",tooltip:"Zoom In"})]})]})})})})}const kLe=dt.memo(SLe,(r,e)=>!!fO(r.node.attrs,e.node.attrs)),SV={elements:[]},ef=Un.create({name:"excalidraw",group:"block",selectable:!0,atom:!0,draggable:!0,inline:!1,addAttributes(){return{defaultShowPicker:{default:!1},createUser:{default:null},width:{default:"100%",parseHTML:ro("width")},height:{default:240,parseHTML:ro("height")},data:{default:SV,parseHTML:ro("data",!0)}}},addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),HTMLAttributes:{class:"excalidraw"},button:({editor:e})=>({component:dLe,componentProps:{editor:e}})}},parseHTML(){return[{tag:"div[class=excalidraw]"}]},renderHTML({HTMLAttributes:r,node:e}){return["div",en(this.options.HTMLAttributes,r,Mke(e))]},addCommands(){return{setExcalidraw:r=>({tr:e,commands:n,chain:i})=>{var o,a,s;return r=r||{},r.data=r.data||SV,((s=(a=(o=e.selection)==null?void 0:o.node)==null?void 0:a.type)==null?void 0:s.name)==this.name?n.updateAttributes(this.name,r):i().insertContent({type:this.name,attrs:r}).run()}}},addNodeView(){return Ps(kLe)},addInputRules(){return[av({find:/^\$excalidraw\$$/,type:this.type,getAttributes:()=>({width:"100%"})})]}}),TLe="_verified_lvyh0_1",gO={verified:TLe},ELe=()=>E.jsx("svg",{viewBox:"0 0 24 24","aria-label":"Verified account",role:"img",className:gO.verified,children:E.jsx("g",{children:E.jsx("path",{d:"M22.25 12c0-1.43-.88-2.67-2.19-3.34.46-1.39.2-2.9-.81-3.91s-2.52-1.27-3.91-.81c-.66-1.31-1.91-2.19-3.34-2.19s-2.67.88-3.33 2.19c-1.4-.46-2.91-.2-3.92.81s-1.26 2.52-.8 3.91c-1.31.67-2.2 1.91-2.2 3.34s.89 2.67 2.2 3.34c-.46 1.39-.21 2.9.8 3.91s2.52 1.26 3.91.81c.67 1.31 1.91 2.19 3.34 2.19s2.68-.88 3.34-2.19c1.39.45 2.9.2 3.91-.81s1.27-2.52.81-3.91c1.31-.67 2.19-1.91 2.19-3.34zm-11.71 4.2L6.8 12.46l1.41-1.42 2.26 2.26 4.8-5.23 1.47 1.36-6.2 6.77z"})})}),CLe=()=>E.jsx("svg",{viewBox:"0 0 22 22","aria-label":"Verified account",role:"img",className:gO.verified,children:E.jsxs("g",{children:[E.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"0-a",x1:"4.411",x2:"18.083",y1:"2.495",y2:"21.508",children:[E.jsx("stop",{offset:"0",stopColor:"#f4e72a"}),E.jsx("stop",{offset:".539",stopColor:"#cd8105"}),E.jsx("stop",{offset:".68",stopColor:"#cb7b00"}),E.jsx("stop",{offset:"1",stopColor:"#f4ec26"}),E.jsx("stop",{offset:"1",stopColor:"#f4e72a"})]}),E.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"0-b",x1:"5.355",x2:"16.361",y1:"3.395",y2:"19.133",children:[E.jsx("stop",{offset:"0",stopColor:"#f9e87f"}),E.jsx("stop",{offset:".406",stopColor:"#e2b719"}),E.jsx("stop",{offset:".989",stopColor:"#e2b719"})]}),E.jsxs("g",{clipRule:"evenodd",fillRule:"evenodd",children:[E.jsx("path",{d:"M13.324 3.848L11 1.6 8.676 3.848l-3.201-.453-.559 3.184L2.06 8.095 3.48 11l-1.42 2.904 2.856 1.516.559 3.184 3.201-.452L11 20.4l2.324-2.248 3.201.452.559-3.184 2.856-1.516L18.52 11l1.42-2.905-2.856-1.516-.559-3.184zm-7.09 7.575l3.428 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fill:"url(#0-a)"}),E.jsx("path",{d:"M13.101 4.533L11 2.5 8.899 4.533l-2.895-.41-.505 2.88-2.583 1.37L4.2 11l-1.284 2.627 2.583 1.37.505 2.88 2.895-.41L11 19.5l2.101-2.033 2.895.41.505-2.88 2.583-1.37L17.8 11l1.284-2.627-2.583-1.37-.505-2.88zm-6.868 6.89l3.429 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fill:"url(#0-b)"}),E.jsx("path",{d:"M6.233 11.423l3.429 3.428 5.65-6.17.038-.033-.005 1.398-5.683 6.206-3.429-3.429-.003-1.405.005.003z",fill:"#d18800"})]})]})}),_Le=()=>E.jsx("svg",{viewBox:"0 0 22 22","aria-label":"Verified account",role:"img",className:gO.verified,children:E.jsx("g",{children:E.jsx("path",{clipRule:"evenodd",d:"M12.05 2.056c-.568-.608-1.532-.608-2.1 0l-1.393 1.49c-.284.303-.685.47-1.1.455L5.42 3.932c-.832-.028-1.514.654-1.486 1.486l.069 2.039c.014.415-.152.816-.456 1.1l-1.49 1.392c-.608.568-.608 1.533 0 2.101l1.49 1.393c.304.284.47.684.456 1.1l-.07 2.038c-.027.832.655 1.514 1.487 1.486l2.038-.069c.415-.014.816.152 1.1.455l1.392 1.49c.569.609 1.533.609 2.102 0l1.393-1.49c.283-.303.684-.47 1.099-.455l2.038.069c.832.028 1.515-.654 1.486-1.486L18 14.542c-.015-.415.152-.815.455-1.099l1.49-1.393c.608-.568.608-1.533 0-2.101l-1.49-1.393c-.303-.283-.47-.684-.455-1.1l.068-2.038c.029-.832-.654-1.514-1.486-1.486l-2.038.07c-.415.013-.816-.153-1.1-.456zm-5.817 9.367l3.429 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fillRule:"evenodd"})})}),ALe="_root_98iqw_1",DLe="_article_98iqw_21",kV={root:ALe,article:DLe},yO=({className:r,children:e})=>E.jsx("div",{className:pr("react-tweet-theme",kV.root,r),children:E.jsx("article",{className:kV.article,children:e})}),Yle=r=>E.jsx("img",{...r}),MLe="_header_nqq4j_1",RLe="_avatar_nqq4j_11",NLe="_avatarOverflow_nqq4j_16",OLe="_avatarSquare_nqq4j_23",PLe="_avatarShadow_nqq4j_26",ILe="_author_nqq4j_37",$Le="_authorLink_nqq4j_44",zLe="_authorVerified_nqq4j_53",LLe="_authorLinkText_nqq4j_56",ULe="_authorMeta_nqq4j_63",BLe="_authorFollow_nqq4j_66",jLe="_username_nqq4j_69",FLe="_follow_nqq4j_74",HLe="_separator_nqq4j_82",WLe="_brand_nqq4j_86",VLe="_twitterIcon_nqq4j_90",bi={header:MLe,avatar:RLe,avatarOverflow:NLe,avatarSquare:OLe,avatarShadow:PLe,author:ILe,authorLink:$Le,authorVerified:zLe,authorLinkText:LLe,authorMeta:ULe,authorFollow:BLe,username:jLe,follow:FLe,separator:HLe,brand:WLe,twitterIcon:VLe},qLe="_verifiedOld_lcna5_1",GLe="_verifiedBlue_lcna5_4",KLe="_verifiedGovernment_lcna5_7",TC={verifiedOld:qLe,verifiedBlue:GLe,verifiedGovernment:KLe},Zle=({user:r,className:e})=>{const n=r.verified||r.is_blue_verified||r.verified_type;let i=E.jsx(ELe,{}),o=TC.verifiedBlue;if(n)switch(r.is_blue_verified||(o=TC.verifiedOld),r.verified_type){case"Government":i=E.jsx(_Le,{}),o=TC.verifiedGovernment;break;case"Business":i=E.jsx(CLe,{}),o=null;break}return n?E.jsx("div",{className:pr(e,o),children:i}):null},XLe=({tweet:r,components:e})=>{var n;const i=(n=e==null?void 0:e.AvatarImg)!=null?n:Yle,{user:o}=r;return E.jsxs("div",{className:bi.header,children:[E.jsxs("a",{href:r.url,className:bi.avatar,target:"_blank",rel:"noopener noreferrer",children:[E.jsx("div",{className:pr(bi.avatarOverflow,o.profile_image_shape==="Square"&&bi.avatarSquare),children:E.jsx(i,{src:o.profile_image_url_https,alt:o.name,width:48,height:48})}),E.jsx("div",{className:bi.avatarOverflow,children:E.jsx("div",{className:bi.avatarShadow})})]}),E.jsxs("div",{className:bi.author,children:[E.jsxs("a",{href:r.url,className:bi.authorLink,target:"_blank",rel:"noopener noreferrer",children:[E.jsx("div",{className:bi.authorLinkText,children:E.jsx("span",{title:o.name,children:o.name})}),E.jsx(Zle,{user:o,className:bi.authorVerified})]}),E.jsxs("div",{className:bi.authorMeta,children:[E.jsx("a",{href:r.url,className:bi.username,target:"_blank",rel:"noopener noreferrer",children:E.jsxs("span",{title:`@${o.screen_name}`,children:["@",o.screen_name]})}),E.jsxs("div",{className:bi.authorFollow,children:[E.jsx("span",{className:bi.separator,children:""}),E.jsx("a",{href:o.follow_url,className:bi.follow,target:"_blank",rel:"noopener noreferrer",children:"Follow"})]})]})]}),E.jsx("a",{href:r.url,className:bi.brand,target:"_blank",rel:"noopener noreferrer","aria-label":"View on Twitter",children:E.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:bi.twitterIcon,children:E.jsx("g",{children:E.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})})})]})},YLe="_root_1ec15_1",ZLe={root:YLe},JLe=({tweet:r})=>E.jsxs("a",{href:r.in_reply_to_url,className:ZLe.root,target:"_blank",rel:"noopener noreferrer",children:["Replying to @",r.in_reply_to_screen_name]}),QLe="_root_eihfa_1",eUe={root:QLe},tUe=({href:r,children:e})=>E.jsx("a",{href:r,className:eUe.root,target:"_blank",rel:"noopener noreferrer nofollow",children:e}),nUe="_root_1xq52_1",rUe={root:nUe},iUe=({tweet:r})=>E.jsx("p",{className:rUe.root,lang:r.lang,dir:"auto",children:r.entities.map((e,n)=>{switch(e.type){case"hashtag":case"mention":case"url":case"symbol":return E.jsx(tUe,{href:e.href,children:e.text},n);case"media":return;default:return E.jsx("span",{dangerouslySetInnerHTML:{__html:e.text}},n)}})}),TV=r=>`https://x.com/${r.user.screen_name}/status/${r.id_str}`,Jle=r=>`https://x.com/${typeof r=="string"?r:r.user.screen_name}`,oUe=r=>`https://x.com/intent/like?tweet_id=${r.id_str}`,aUe=r=>`https://x.com/intent/tweet?in_reply_to=${r.id_str}`,sUe=r=>`https://x.com/intent/follow?screen_name=${r.user.screen_name}`,lUe=r=>`https://x.com/hashtag/${r.text}`,cUe=r=>`https://x.com/search?q=%24${r.text}`,uUe=r=>`https://x.com/${r.in_reply_to_screen_name}/status/${r.in_reply_to_status_id_str}`,Qle=(r,e)=>{const n=new URL(r.media_url_https),i=n.pathname.split(".").pop();return i?(n.pathname=n.pathname.replace(`.${i}`,""),n.searchParams.set("format",i),n.searchParams.set("name",e),n.toString()):r.media_url_https},dUe=r=>{const{variants:e}=r.video_info;return e.filter(n=>n.content_type==="video/mp4").sort((n,i)=>{var o,a;return((o=i.bitrate)!=null?o:0)-((a=n.bitrate)!=null?a:0)})},hUe=r=>{const e=dUe(r);return e.length>1?e[1]:e[0]},VD=r=>r>999999?`${(r/1e6).toFixed(1)}M`:r>999?`${(r/1e3).toFixed(1)}K`:r.toString();function EV(r){const e=Array.from(r.text),n=[{indices:r.display_text_range,type:"text"}];return A1(n,"hashtag",r.entities.hashtags),A1(n,"mention",r.entities.user_mentions),A1(n,"url",r.entities.urls),A1(n,"symbol",r.entities.symbols),r.entities.media&&A1(n,"media",r.entities.media),fUe(r,n),n.map(i=>{const o=e.slice(i.indices[0],i.indices[1]).join("");switch(i.type){case"hashtag":return Object.assign(i,{href:lUe(i),text:o});case"mention":return Object.assign(i,{href:Jle(i.screen_name),text:o});case"url":case"media":return Object.assign(i,{href:i.expanded_url,text:i.display_url});case"symbol":return Object.assign(i,{href:cUe(i),text:o});default:return Object.assign(i,{text:o})}})}function A1(r,e,n){for(const i of n)for(const[o,a]of r.entries()){if(a.indices[0]>i.indices[0]||a.indices[1]<i.indices[1])continue;const s=[{...i,type:e}];a.indices[0]<i.indices[0]&&s.unshift({indices:[a.indices[0],i.indices[0]],type:"text"}),a.indices[1]>i.indices[1]&&s.push({indices:[i.indices[1],a.indices[1]],type:"text"}),r.splice(o,1,...s);break}}function fUe(r,e){r.entities.media&&r.entities.media[0].indices[0]<r.display_text_range[1]&&(r.display_text_range[1]=r.entities.media[0].indices[0]);const n=e.at(-1);n&&n.indices[1]>r.display_text_range[1]&&(n.indices[1]=r.display_text_range[1])}const pUe=r=>({...r,url:TV(r),user:{...r.user,url:Jle(r),follow_url:sUe(r)},like_url:oUe(r),reply_url:aUe(r),in_reply_to_url:r.in_reply_to_screen_name?uUe(r):void 0,entities:EV(r),quoted_tweet:r.quoted_tweet?{...r.quoted_tweet,url:TV(r.quoted_tweet),entities:EV(r.quoted_tweet)}:void 0}),mUe="_root_g9tkv_1",gUe="_rounded_g9tkv_6",yUe="_mediaWrapper_g9tkv_10",bUe="_grid2Columns_g9tkv_17",vUe="_grid3_g9tkv_20",xUe="_grid2x2_g9tkv_23",wUe="_mediaContainer_g9tkv_26",SUe="_mediaLink_g9tkv_34",kUe="_skeleton_g9tkv_38",TUe="_image_g9tkv_43",Qo={root:mUe,rounded:gUe,mediaWrapper:yUe,grid2Columns:bUe,grid3:vUe,grid2x2:xUe,mediaContainer:wUe,mediaLink:SUe,skeleton:kUe,image:TUe},EUe="_anchor_fp31d_1",CUe="_videoButton_fp31d_17",_Ue="_videoButtonIcon_fp31d_35",AUe="_watchOnTwitter_fp31d_44",DUe="_viewReplies_fp31d_60",bm={anchor:EUe,videoButton:CUe,videoButtonIcon:_Ue,watchOnTwitter:AUe,viewReplies:DUe},MUe=({tweet:r,media:e})=>{const[n,i]=P.useState(!0),[o,a]=P.useState(!1),[s,l]=P.useState(!1),c=hUe(e);let u=0;return E.jsxs(E.Fragment,{children:[E.jsx("video",{className:Qo.image,poster:Qle(e,"small"),controls:!n,playsInline:!0,preload:"none",tabIndex:n?-1:0,onPlay:()=>{u&&window.clearTimeout(u),o||a(!0),s&&l(!1)},onPause:()=>{u&&window.clearTimeout(u),u=window.setTimeout(()=>{o&&a(!1),u=0},100)},onEnded:()=>{l(!0)},children:E.jsx("source",{src:c.url,type:c.content_type})}),n&&E.jsx("button",{type:"button",className:bm.videoButton,"aria-label":"View video on X",onClick:d=>{const h=d.currentTarget.previousSibling;d.preventDefault(),i(!1),h.load(),h.play().then(()=>{a(!0),h.focus()}).catch(f=>{console.error("Error playing video:",f),i(!0),a(!1)})},children:E.jsx("svg",{viewBox:"0 0 24 24",className:bm.videoButtonIcon,"aria-hidden":"true",children:E.jsx("g",{children:E.jsx("path",{d:"M21 12L4 2v20l17-10z"})})})}),!o&&!s&&E.jsx("div",{className:bm.watchOnTwitter,children:E.jsx("a",{href:r.url,className:bm.anchor,target:"_blank",rel:"noopener noreferrer",children:n?"Watch on X":"Continue watching on X"})}),s&&E.jsx("a",{href:r.url,className:pr(bm.anchor,bm.viewReplies),target:"_blank",rel:"noopener noreferrer",children:"View replies"})]})},RUe=r=>E.jsx("img",{...r}),CV=(r,e)=>{let n=56.25;return e===1&&(n=100/r.original_info.width*r.original_info.height),e===2&&(n=n*2),{width:r.type==="photo"?void 0:"unset",paddingBottom:`${n}%`}},ece=({tweet:r,components:e,quoted:n})=>{var i,o,a;const s=(a=(i=r.mediaDetails)==null?void 0:i.length)!=null?a:0;var l;const c=(l=e==null?void 0:e.MediaImg)!=null?l:RUe;return E.jsx("div",{className:pr(Qo.root,!n&&Qo.rounded),children:E.jsx("div",{className:pr(Qo.mediaWrapper,s>1&&Qo.grid2Columns,s===3&&Qo.grid3,s>4&&Qo.grid2x2),children:(o=r.mediaDetails)==null?void 0:o.map(u=>E.jsx(P.Fragment,{children:u.type==="photo"?E.jsxs("a",{href:r.url,className:pr(Qo.mediaContainer,Qo.mediaLink),target:"_blank",rel:"noopener noreferrer",children:[E.jsx("div",{className:Qo.skeleton,style:CV(u,s)}),E.jsx(c,{src:Qle(u,"small"),alt:u.ext_alt_text||"Image",className:Qo.image,draggable:!0})]},u.media_url_https):E.jsxs("div",{className:Qo.mediaContainer,children:[E.jsx("div",{className:Qo.skeleton,style:CV(u,s)}),E.jsx(MUe,{tweet:r,media:u})]},u.media_url_https)},u.media_url_https))})})},NUe={hour:"numeric",minute:"2-digit",hour12:!0,weekday:"short",month:"short",day:"numeric",year:"numeric"},OUe=new Intl.DateTimeFormat("en-US",NUe),PUe=r=>{const e={};for(const n of r)e[n.type]=n.value;return e},IUe=r=>{const e=PUe(OUe.formatToParts(r)),n=`${e.hour}:${e.minute} ${e.dayPeriod}`,i=`${e.month} ${e.day}, ${e.year}`;return`${n}  ${i}`},$Ue="_root_i24yn_1",zUe={root:$Ue},LUe=({tweet:r})=>{const e=new Date(r.created_at),n=IUe(e);return E.jsx("a",{className:zUe.root,href:r.url,target:"_blank",rel:"noopener noreferrer","aria-label":n,children:E.jsx("time",{dateTime:e.toISOString(),children:n})})},UUe="_info_19qcj_1",BUe="_infoLink_19qcj_10",jUe="_infoIcon_19qcj_30",EC={info:UUe,infoLink:BUe,infoIcon:jUe},FUe=({tweet:r})=>E.jsxs("div",{className:EC.info,children:[E.jsx(LUe,{tweet:r}),E.jsx("a",{className:EC.infoLink,href:"https://help.x.com/en/x-for-websites-ads-info-and-privacy",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter for Websites, Ads Information and Privacy",children:E.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:EC.infoIcon,children:E.jsx("g",{children:E.jsx("path",{d:"M13.5 8.5c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5S11.17 7 12 7s1.5.67 1.5 1.5zM13 17v-5h-2v5h2zm-1 5.25c5.66 0 10.25-4.59 10.25-10.25S17.66 1.75 12 1.75 1.75 6.34 1.75 12 6.34 22.25 12 22.25zM20.25 12c0 4.56-3.69 8.25-8.25 8.25S3.75 16.56 3.75 12 7.44 3.75 12 3.75s8.25 3.69 8.25 8.25z"})})})})]}),HUe="_actions_n2anf_1",WUe="_like_n2anf_13",VUe="_reply_n2anf_14",qUe="_copy_n2anf_15",GUe="_likeIconWrapper_n2anf_27",KUe="_likeCount_n2anf_30",XUe="_replyIconWrapper_n2anf_35",YUe="_copyIconWrapper_n2anf_36",ZUe="_likeIcon_n2anf_27",JUe="_replyIcon_n2anf_35",QUe="_copyIcon_n2anf_36",eBe="_replyText_n2anf_56",tBe="_copyText_n2anf_57",To={actions:HUe,like:WUe,reply:VUe,copy:qUe,likeIconWrapper:GUe,likeCount:KUe,replyIconWrapper:XUe,copyIconWrapper:YUe,likeIcon:ZUe,replyIcon:JUe,copyIcon:QUe,replyText:eBe,copyText:tBe},nBe=({tweet:r})=>{const[e,n]=P.useState(!1),i=()=>{navigator.clipboard.writeText(r.url),n(!0)};return P.useEffect(()=>{if(e){const o=setTimeout(()=>{n(!1)},6e3);return()=>clearTimeout(o)}},[e]),E.jsxs("button",{type:"button",className:To.copy,"aria-label":"Copy link",onClick:i,children:[E.jsx("div",{className:To.copyIconWrapper,children:e?E.jsx("svg",{viewBox:"0 0 24 24",className:To.copyIcon,"aria-hidden":"true",children:E.jsx("g",{children:E.jsx("path",{d:"M9.64 18.952l-5.55-4.861 1.317-1.504 3.951 3.459 8.459-10.948L19.4 6.32 9.64 18.952z"})})}):E.jsx("svg",{viewBox:"0 0 24 24",className:To.copyIcon,"aria-hidden":"true",children:E.jsx("g",{children:E.jsx("path",{d:"M18.36 5.64c-1.95-1.96-5.11-1.96-7.07 0L9.88 7.05 8.46 5.64l1.42-1.42c2.73-2.73 7.16-2.73 9.9 0 2.73 2.74 2.73 7.17 0 9.9l-1.42 1.42-1.41-1.42 1.41-1.41c1.96-1.96 1.96-5.12 0-7.07zm-2.12 3.53l-7.07 7.07-1.41-1.41 7.07-7.07 1.41 1.41zm-12.02.71l1.42-1.42 1.41 1.42-1.41 1.41c-1.96 1.96-1.96 5.12 0 7.07 1.95 1.96 5.11 1.96 7.07 0l1.41-1.41 1.42 1.41-1.42 1.42c-2.73 2.73-7.16 2.73-9.9 0-2.73-2.74-2.73-7.17 0-9.9z"})})})}),E.jsx("span",{className:To.copyText,children:e?"Copied!":"Copy link"})]})},rBe=({tweet:r})=>{const e=VD(r.favorite_count);return E.jsxs("div",{className:To.actions,children:[E.jsxs("a",{className:To.like,href:r.like_url,target:"_blank",rel:"noopener noreferrer","aria-label":`Like. This Tweet has ${e} likes`,children:[E.jsx("div",{className:To.likeIconWrapper,children:E.jsx("svg",{viewBox:"0 0 24 24",className:To.likeIcon,"aria-hidden":"true",children:E.jsx("g",{children:E.jsx("path",{d:"M20.884 13.19c-1.351 2.48-4.001 5.12-8.379 7.67l-.503.3-.504-.3c-4.379-2.55-7.029-5.19-8.382-7.67-1.36-2.5-1.41-4.86-.514-6.67.887-1.79 2.647-2.91 4.601-3.01 1.651-.09 3.368.56 4.798 2.01 1.429-1.45 3.146-2.1 4.796-2.01 1.954.1 3.714 1.22 4.601 3.01.896 1.81.846 4.17-.514 6.67z"})})})}),E.jsx("span",{className:To.likeCount,children:e})]}),E.jsxs("a",{className:To.reply,href:r.reply_url,target:"_blank",rel:"noopener noreferrer","aria-label":"Reply to this Tweet on Twitter",children:[E.jsx("div",{className:To.replyIconWrapper,children:E.jsx("svg",{viewBox:"0 0 24 24",className:To.replyIcon,"aria-hidden":"true",children:E.jsx("g",{children:E.jsx("path",{d:"M1.751 10c0-4.42 3.584-8 8.005-8h4.366c4.49 0 8.129 3.64 8.129 8.13 0 2.96-1.607 5.68-4.196 7.11l-8.054 4.46v-3.69h-.067c-4.49.1-8.183-3.51-8.183-8.01z"})})})}),E.jsx("span",{className:To.replyText,children:"Reply"})]}),E.jsx(nBe,{tweet:r})]})},iBe="_replies_1cutb_1",oBe="_link_1cutb_4",aBe="_text_1cutb_23",CC={replies:iBe,link:oBe,text:aBe},sBe=({tweet:r})=>E.jsx("div",{className:CC.replies,children:E.jsx("a",{className:CC.link,href:r.url,target:"_blank",rel:"noopener noreferrer",children:E.jsx("span",{className:CC.text,children:r.conversation_count===0?"Read more on X":r.conversation_count===1?`Read ${VD(r.conversation_count)} reply`:`Read ${VD(r.conversation_count)} replies`})})}),lBe="_root_q5799_1",cBe="_article_q5799_16",_V={root:lBe,article:cBe},uBe=({tweet:r,children:e})=>E.jsx("div",{className:_V.root,onClick:n=>{n.preventDefault(),window.open(r.url,"_blank")},children:E.jsx("article",{className:_V.article,children:e})}),dBe="_header_r31i5_1",hBe="_avatar_r31i5_11",fBe="_avatarSquare_r31i5_17",pBe="_author_r31i5_21",mBe="_authorText_r31i5_26",gBe="_username_r31i5_33",Ph={header:dBe,avatar:hBe,avatarSquare:fBe,author:pBe,authorText:mBe,username:gBe},yBe=({tweet:r})=>{const{user:e}=r;return E.jsxs("div",{className:Ph.header,children:[E.jsx("a",{href:r.url,className:Ph.avatar,target:"_blank",rel:"noopener noreferrer",children:E.jsx("div",{className:pr(Ph.avatarOverflow,e.profile_image_shape==="Square"&&Ph.avatarSquare),children:E.jsx(Yle,{src:e.profile_image_url_https,alt:e.name,width:20,height:20})})}),E.jsxs("div",{className:Ph.author,children:[E.jsx("div",{className:Ph.authorText,children:E.jsx("span",{title:e.name,children:e.name})}),E.jsx(Zle,{user:e}),E.jsx("div",{className:Ph.username,children:E.jsxs("span",{title:`@${e.screen_name}`,children:["@",e.screen_name]})})]})]})},bBe="_root_175ot_1",vBe={root:bBe},xBe=({tweet:r})=>E.jsx("p",{className:vBe.root,lang:r.lang,dir:"auto",children:r.entities.map((e,n)=>E.jsx("span",{dangerouslySetInnerHTML:{__html:e.text}},n))}),wBe=({tweet:r})=>{var e;return E.jsxs(uBe,{tweet:r,children:[E.jsx(yBe,{tweet:r}),E.jsx(xBe,{tweet:r}),(e=r.mediaDetails)!=null&&e.length?E.jsx(ece,{quoted:!0,tweet:r}):null]})},SBe=({tweet:r,components:e})=>{var n;const i=P.useMemo(()=>pUe(r),[r]);return E.jsxs(yO,{children:[E.jsx(XLe,{tweet:i,components:e}),i.in_reply_to_status_id_str&&E.jsx(JLe,{tweet:i}),E.jsx(iUe,{tweet:i}),(n=i.mediaDetails)!=null&&n.length?E.jsx(ece,{tweet:i,components:e}):null,i.quoted_tweet&&E.jsx(wBe,{tweet:i.quoted_tweet}),E.jsx(FUe,{tweet:i}),E.jsx(rBe,{tweet:i}),E.jsx(sBe,{tweet:i})]})},kBe="_root_16yxa_1",TBe={root:kBe},EBe=r=>E.jsx(yO,{children:E.jsxs("div",{className:TBe.root,children:[E.jsx("h3",{children:"Tweet not found"}),E.jsx("p",{children:"The embedded tweet could not be found"})]})}),CBe="_skeleton_oi7hr_1",_Be={skeleton:CBe},$w=({style:r})=>E.jsx("span",{className:_Be.skeleton,style:r}),ABe="_root_17qqv_1",DBe={root:ABe},MBe=()=>E.jsxs(yO,{className:DBe.root,children:[E.jsx($w,{style:{height:"3rem",marginBottom:"0.75rem"}}),E.jsx($w,{style:{height:"6rem",margin:"0.5rem 0"}}),E.jsx("div",{style:{borderTop:"var(--tweet-border)",margin:"0.5rem 0"}}),E.jsx($w,{style:{height:"2rem"}}),E.jsx($w,{style:{height:"2rem",borderRadius:"9999px",marginTop:"0.5rem"}})]});var AV={exports:{}},_C={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DV;function RBe(){if(DV)return _C;DV=1;var r=dt;function e(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:e,i=r.useState,o=r.useEffect,a=r.useLayoutEffect,s=r.useDebugValue;function l(h,f){var m=f(),b=i({inst:{value:m,getSnapshot:f}}),g=b[0].inst,v=b[1];return a(function(){g.value=m,g.getSnapshot=f,c(g)&&v({inst:g})},[h,m,f]),o(function(){return c(g)&&v({inst:g}),h(function(){c(g)&&v({inst:g})})},[h]),s(m),m}function c(h){var f=h.getSnapshot;h=h.value;try{var m=f();return!n(h,m)}catch{return!0}}function u(h,f){return f()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return _C.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:d,_C}var MV;function NBe(){return MV||(MV=1,AV.exports=RBe()),AV.exports}var OBe=NBe();const tce=0,nce=1,rce=2,RV=3;var NV=Object.prototype.hasOwnProperty;function qD(r,e){var n,i;if(r===e)return!0;if(r&&e&&(n=r.constructor)===e.constructor){if(n===Date)return r.getTime()===e.getTime();if(n===RegExp)return r.toString()===e.toString();if(n===Array){if((i=r.length)===e.length)for(;i--&&qD(r[i],e[i]););return i===-1}if(!n||typeof r=="object"){i=0;for(n in r)if(NV.call(r,n)&&++i&&!NV.call(e,n)||!(n in e)||!qD(r[n],e[n]))return!1;return Object.keys(e).length===i}}return r!==r&&e!==e}const wc=new WeakMap,pd=()=>{},oo=pd(),GD=Object,_n=r=>r===oo,ol=r=>typeof r=="function",Od=(r,e)=>({...r,...e}),ice=r=>ol(r.then),AC={},zw={},bO="undefined",Cv=typeof window!=bO,KD=typeof document!=bO,PBe=Cv&&"Deno"in window,IBe=()=>Cv&&typeof window.requestAnimationFrame!=bO,oce=(r,e)=>{const n=wc.get(r);return[()=>!_n(e)&&r.get(e)||AC,i=>{if(!_n(e)){const o=r.get(e);e in zw||(zw[e]=o),n[5](e,Od(o,i),o||AC)}},n[6],()=>!_n(e)&&e in zw?zw[e]:!_n(e)&&r.get(e)||AC]};let XD=!0;const $Be=()=>XD,[YD,ZD]=Cv&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[pd,pd],zBe=()=>{const r=KD&&document.visibilityState;return _n(r)||r!=="hidden"},LBe=r=>(KD&&document.addEventListener("visibilitychange",r),YD("focus",r),()=>{KD&&document.removeEventListener("visibilitychange",r),ZD("focus",r)}),UBe=r=>{const e=()=>{XD=!0,r()},n=()=>{XD=!1};return YD("online",e),YD("offline",n),()=>{ZD("online",e),ZD("offline",n)}},BBe={isOnline:$Be,isVisible:zBe},jBe={initFocus:LBe,initReconnect:UBe},OV=!dt.useId,wb=!Cv||PBe,FBe=r=>IBe()?window.requestAnimationFrame(r):setTimeout(r,1),DC=wb?P.useEffect:P.useLayoutEffect,MC=typeof navigator<"u"&&navigator.connection,PV=!wb&&MC&&(["slow-2g","2g"].includes(MC.effectiveType)||MC.saveData),Lw=new WeakMap,RC=(r,e)=>GD.prototype.toString.call(r)===`[object ${e}]`;let HBe=0;const JD=r=>{const e=typeof r,n=RC(r,"Date"),i=RC(r,"RegExp"),o=RC(r,"Object");let a,s;if(GD(r)===r&&!n&&!i){if(a=Lw.get(r),a)return a;if(a=++HBe+"~",Lw.set(r,a),Array.isArray(r)){for(a="@",s=0;s<r.length;s++)a+=JD(r[s])+",";Lw.set(r,a)}if(o){a="#";const l=GD.keys(r).sort();for(;!_n(s=l.pop());)_n(r[s])||(a+=s+":"+JD(r[s])+",");Lw.set(r,a)}}else a=n?r.toJSON():e=="symbol"?r.toString():e=="string"?JSON.stringify(r):""+r;return a},vO=r=>{if(ol(r))try{r=r()}catch{r=""}const e=r;return r=typeof r=="string"?r:(Array.isArray(r)?r.length:r)?JD(r):"",[r,e]};let WBe=0;const QD=()=>++WBe;async function ace(...r){const[e,n,i,o]=r,a=Od({populateCache:!0,throwOnError:!0},typeof o=="boolean"?{revalidate:o}:o||{});let s=a.populateCache;const l=a.rollbackOnError;let c=a.optimisticData;const u=f=>typeof l=="function"?l(f):l!==!1,d=a.throwOnError;if(ol(n)){const f=n,m=[],b=e.keys();for(const g of b)!/^\$(inf|sub)\$/.test(g)&&f(e.get(g)._k)&&m.push(g);return Promise.all(m.map(h))}return h(n);async function h(f){const[m]=vO(f);if(!m)return;const[b,g]=oce(e,m),[v,x,w,k]=wc.get(e),T=()=>{const F=v[m];return(ol(a.revalidate)?a.revalidate(b().data,f):a.revalidate!==!1)&&(delete w[m],delete k[m],F&&F[0])?F[0](rce).then(()=>b().data):b().data};if(r.length<3)return T();let _=i,D;const I=QD();x[m]=[I,0];const L=!_n(c),O=b(),W=O.data,Z=O._c,$=_n(Z)?W:Z;if(L&&(c=ol(c)?c($,W):c,g({data:c,_c:$})),ol(_))try{_=_($)}catch(F){D=F}if(_&&ice(_))if(_=await _.catch(F=>{D=F}),I!==x[m][0]){if(D)throw D;return _}else D&&L&&u(D)&&(s=!0,g({data:$,_c:oo}));if(s&&!D)if(ol(s)){const F=s(_,$);g({data:F,error:oo,_c:oo})}else g({data:_,error:oo,_c:oo});if(x[m][1]=QD(),Promise.resolve(T()).then(()=>{g({_c:oo})}),D){if(d)throw D;return}return _}}const IV=(r,e)=>{for(const n in r)r[n][0]&&r[n][0](e)},VBe=(r,e)=>{if(!wc.has(r)){const n=Od(jBe,e),i={},o=ace.bind(oo,r);let a=pd;const s={},l=(d,h)=>{const f=s[d]||[];return s[d]=f,f.push(h),()=>f.splice(f.indexOf(h),1)},c=(d,h,f)=>{r.set(d,h);const m=s[d];if(m)for(const b of m)b(h,f)},u=()=>{if(!wc.has(r)&&(wc.set(r,[i,{},{},{},o,c,l]),!wb)){const d=n.initFocus(setTimeout.bind(oo,IV.bind(oo,i,tce))),h=n.initReconnect(setTimeout.bind(oo,IV.bind(oo,i,nce)));a=()=>{d&&d(),h&&h(),wc.delete(r)}}};return u(),[r,o,u,a]}return[r,wc.get(r)[4]]},qBe=(r,e,n,i,o)=>{const a=n.errorRetryCount,s=o.retryCount,l=~~((Math.random()+.5)*(1<<(s<8?s:8)))*n.errorRetryInterval;!_n(a)&&s>a||setTimeout(i,l,o)},GBe=qD,[sce,KBe]=VBe(new Map),XBe=Od({onLoadingSlow:pd,onSuccess:pd,onError:pd,onErrorRetry:qBe,onDiscarded:pd,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:PV?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:PV?5e3:3e3,compare:GBe,isPaused:()=>!1,cache:sce,mutate:KBe,fallback:{}},BBe),YBe=(r,e)=>{const n=Od(r,e);if(e){const{use:i,fallback:o}=r,{use:a,fallback:s}=e;i&&a&&(n.use=i.concat(a)),o&&s&&(n.fallback=Od(o,s))}return n},ZBe=P.createContext({}),JBe="$inf$",lce=Cv&&window.__SWR_DEVTOOLS_USE__,QBe=lce?window.__SWR_DEVTOOLS_USE__:[],eje=()=>{lce&&(window.__SWR_DEVTOOLS_REACT__=dt)},tje=r=>ol(r[1])?[r[0],r[1],r[2]||{}]:[r[0],null,(r[1]===null?r[2]:r[1])||{}],nje=()=>Od(XBe,P.useContext(ZBe)),rje=r=>(e,n,i)=>r(e,n&&((...o)=>{const[a]=vO(e),[,,,s]=wc.get(sce);if(a.startsWith(JBe))return n(...o);const l=s[a];return _n(l)?n(...o):(delete s[a],l)}),i),ije=QBe.concat(rje),oje=r=>function(...e){const n=nje(),[i,o,a]=tje(e),s=YBe(n,a);let l=r;const{use:c}=s,u=(c||[]).concat(ije);for(let d=u.length;d--;)l=u[d](l);return l(i,o||s.fetcher||null,s)},aje=(r,e,n)=>{const i=e[r]||(e[r]=[]);return i.push(n),()=>{const o=i.indexOf(n);o>=0&&(i[o]=i[i.length-1],i.pop())}};eje();const NC=dt.use||(r=>{switch(r.status){case"pending":throw r;case"fulfilled":return r.value;case"rejected":throw r.reason;default:throw r.status="pending",r.then(e=>{r.status="fulfilled",r.value=e},e=>{r.status="rejected",r.reason=e}),r}}),OC={dedupe:!0},sje=(r,e,n)=>{const{cache:i,compare:o,suspense:a,fallbackData:s,revalidateOnMount:l,revalidateIfStale:c,refreshInterval:u,refreshWhenHidden:d,refreshWhenOffline:h,keepPreviousData:f}=n,[m,b,g,v]=wc.get(i),[x,w]=vO(r),k=P.useRef(!1),T=P.useRef(!1),_=P.useRef(x),D=P.useRef(e),I=P.useRef(n),L=()=>I.current,O=()=>L().isVisible()&&L().isOnline(),[W,Z,$,F]=oce(i,x),A=P.useRef({}).current,Q=_n(s)?_n(n.fallback)?oo:n.fallback[x]:s,H=(le,Ee)=>{for(const M in A){const he=M;if(he==="data"){if(!o(le[he],Ee[he])&&(!_n(le[he])||!o(de,Ee[he])))return!1}else if(Ee[he]!==le[he])return!1}return!0},G=P.useMemo(()=>{const le=!x||!e?!1:_n(l)?L().isPaused()||a?!1:c!==!1:l,Ee=B=>{const ue=Od(B);return delete ue._k,le?{isValidating:!0,isLoading:!0,...ue}:ue},M=W(),he=F(),V=Ee(M),R=M===he?V:Ee(he);let N=V;return[()=>{const B=Ee(W());return H(B,N)?(N.data=B.data,N.isLoading=B.isLoading,N.isValidating=B.isValidating,N.error=B.error,N):(N=B,B)},()=>R]},[i,x]),ne=OBe.useSyncExternalStore(P.useCallback(le=>$(x,(Ee,M)=>{H(M,Ee)||le()}),[i,x]),G[0],G[1]),J=!k.current,ee=m[x]&&m[x].length>0,X=ne.data,j=_n(X)?Q&&ice(Q)?NC(Q):Q:X,ae=ne.error,re=P.useRef(j),de=f?_n(X)?_n(re.current)?j:re.current:X:j,me=ee&&!_n(ae)?!1:J&&!_n(l)?l:L().isPaused()?!1:a?_n(j)?!1:c:_n(j)||c,K=!!(x&&e&&J&&me),q=_n(ne.isValidating)?K:ne.isValidating,be=_n(ne.isLoading)?K:ne.isLoading,pe=P.useCallback(async le=>{const Ee=D.current;if(!x||!Ee||T.current||L().isPaused())return!1;let M,he,V=!0;const R=le||{},N=!g[x]||!R.dedupe,B=()=>OV?!T.current&&x===_.current&&k.current:x===_.current,ue={isValidating:!1,isLoading:!1},ve=()=>{Z(ue)},se=()=>{const Se=g[x];Se&&Se[1]===he&&delete g[x]},ge={isValidating:!0};_n(W().data)&&(ge.isLoading=!0);try{if(N&&(Z(ge),n.loadingTimeout&&_n(W().data)&&setTimeout(()=>{V&&B()&&L().onLoadingSlow(x,n)},n.loadingTimeout),g[x]=[Ee(w),QD()]),[M,he]=g[x],M=await M,N&&setTimeout(se,n.dedupingInterval),!g[x]||g[x][1]!==he)return N&&B()&&L().onDiscarded(x),!1;ue.error=oo;const Se=b[x];if(!_n(Se)&&(he<=Se[0]||he<=Se[1]||Se[1]===0))return ve(),N&&B()&&L().onDiscarded(x),!1;const Te=W().data;ue.data=o(Te,M)?Te:M,N&&B()&&L().onSuccess(M,x,n)}catch(Se){se();const Te=L(),{shouldRetryOnError:De}=Te;Te.isPaused()||(ue.error=Se,N&&B()&&(Te.onError(Se,x,Te),(De===!0||ol(De)&&De(Se))&&(!L().revalidateOnFocus||!L().revalidateOnReconnect||O())&&Te.onErrorRetry(Se,x,Te,Le=>{const Ke=m[x];Ke&&Ke[0]&&Ke[0](RV,Le)},{retryCount:(R.retryCount||0)+1,dedupe:!0})))}return V=!1,ve(),!0},[x,i]),ie=P.useCallback((...le)=>ace(i,_.current,...le),[]);if(DC(()=>{D.current=e,I.current=n,_n(X)||(re.current=X)}),DC(()=>{if(!x)return;const le=pe.bind(oo,OC);let Ee=0;const M=aje(x,m,(he,V={})=>{if(he==tce){const R=Date.now();L().revalidateOnFocus&&R>Ee&&O()&&(Ee=R+L().focusThrottleInterval,le())}else if(he==nce)L().revalidateOnReconnect&&O()&&le();else{if(he==rce)return pe();if(he==RV)return pe(V)}});return T.current=!1,_.current=x,k.current=!0,Z({_k:w}),me&&(_n(j)||wb?le():FBe(le)),()=>{T.current=!0,M()}},[x]),DC(()=>{let le;function Ee(){const he=ol(u)?u(W().data):u;he&&le!==-1&&(le=setTimeout(M,he))}function M(){!W().error&&(d||L().isVisible())&&(h||L().isOnline())?pe(OC).then(Ee):Ee()}return Ee(),()=>{le&&(clearTimeout(le),le=-1)}},[u,d,h,x]),P.useDebugValue(de),a&&_n(j)&&x){if(!OV&&wb)throw new Error("Fallback data is required when using Suspense in SSR.");D.current=e,I.current=n,T.current=!1;const le=v[x];if(!_n(le)){const Ee=ie(le);NC(Ee)}if(_n(ae)){const Ee=pe(OC);_n(de)||(Ee.status="fulfilled",Ee.value=!0),NC(Ee)}else throw ae}return{mutate:ie,get data(){return A.data=!0,de},get error(){return A.error=!0,ae},get isValidating(){return A.isValidating=!0,q},get isLoading(){return A.isLoading=!0,be}}},$V=oje(sje);let lje=class extends Error{constructor({message:e,status:n,data:i}){super(e),this.name="TwitterApiError",this.status=n,this.data=i}};const cje=$V.default||$V,uje="https://react-tweet.vercel.app";async function dje([r,e]){const n=await fetch(r,e),i=await n.json();if(n.ok)return i.data||null;throw new lje({message:`Failed to fetch tweet at "${r}" with "${n.status}".`,data:i,status:n.status})}const hje=(r,e,n)=>{const{isLoading:i,data:o,error:a}=cje(()=>e||r?[e||r&&`${uje}/api/tweet/${r}`,n]:null,dje,{revalidateIfStale:!1,revalidateOnFocus:!1,shouldRetryOnError:!1});return{isLoading:!!(i||o===void 0&&!a),data:o,error:a}},fje=({id:r,apiUrl:e,fallback:n=E.jsx(MBe,{}),components:i,fetchOptions:o,onError:a})=>{const{data:s,error:l,isLoading:c}=hje(r,e,o);if(c)return n;if(l||!s){const u=(i==null?void 0:i.TweetNotFound)||EBe;return E.jsx(u,{error:a?a(l):l})}return E.jsx(SBe,{tweet:s,components:i})};function pje({node:r}){var e;const n=((e=r==null?void 0:r.attrs)==null?void 0:e.src)||"",i=n==null?void 0:n.split("/").pop();return i?E.jsx(ua,{children:E.jsx("div",{"data-twitter":"",children:E.jsx(fje,{id:i})})}):null}function cce(r){const{t:e}=Cn(),[n,i]=P.useState("");P.useEffect(()=>{var a;if(r!=null&&r.editor){const{src:s}=(a=r.editor)==null?void 0:a.getAttributes(l3.name);s&&i(s)}},[r==null?void 0:r.editor]);function o(a){a.preventDefault(),a.stopPropagation(),r==null||r.onSetLink(n)}return E.jsx("div",{className:"border-neutral-200 richtext-rounded-lg !richtext-border richtext-bg-white richtext-p-2 richtext-shadow-sm dark:richtext-border-neutral-800 dark:richtext-bg-black",children:E.jsxs("form",{className:"richtext-flex richtext-flex-col richtext-gap-2",onSubmit:o,children:[E.jsx(ha,{className:"mb-[6px]",children:e("editor.link.dialog.text")}),E.jsx("div",{className:"richtext-mb-[10px] richtext-flex richtext-w-full richtext-max-w-sm richtext-items-center richtext-gap-1.5",children:E.jsx("div",{className:"richtext-relative richtext-w-full richtext-max-w-sm richtext-items-center",children:E.jsx(lo,{className:"richtext-w-80",onChange:a=>i(a.target.value),placeholder:"Text",required:!0,type:"text",value:n})})}),E.jsx(Nn,{className:"richtext-mt-2 richtext-self-end",type:"submit",children:e("editor.link.dialog.button.apply")})]})})}function mje(r){function e(n){r.action&&r.action(n)}return E.jsxs(as,{modal:!0,children:[E.jsx(ss,{disabled:r==null?void 0:r.disabled,asChild:!0,children:E.jsx(ft,{tooltip:r==null?void 0:r.tooltip,isActive:r==null?void 0:r.isActive,disabled:r==null?void 0:r.disabled,children:E.jsx(wn,{name:r==null?void 0:r.icon})})}),E.jsx(wa,{hideWhenDetached:!0,className:"richtext-w-full",align:"start",side:"bottom",children:E.jsx(cce,{editor:r.editor,onSetLink:e})})]})}const gje=/(https?:\/\/)?(www\.)?x\.com\/(\w{1,15})(\/status\/(\d+))?(\/\S*)?/g,yje=/^https?:\/\/(www\.)?x\.com\/(\w{1,15})(\/status\/(\d+))?(\/\S*)?$/;function zV(r){return r.match(yje)}const l3=Un.create({name:"twitter",draggable:!0,selectable:!0,addOptions(){return{addPasteHandler:!0,HTMLAttributes:{},inline:!1,origin:"",button:({editor:r,t:e})=>({component:mje,componentProps:{action:n=>{r.commands.setTweet({src:n})},isActive:()=>!1,disabled:!1,icon:"Twitter",tooltip:e("editor.twitter.tooltip"),editor:r}})}},addNodeView(){return Ps(pje,{attrs:this.options.HTMLAttributes})},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},addAttributes(){return{src:{default:null}}},parseHTML(){return[{tag:"div[data-twitter]"}]},addCommands(){return{setTweet:r=>({commands:e})=>zV(r.src)?e.insertContent({type:this.name,attrs:r}):!1,updateTweet:r=>({commands:e})=>zV(r.src)?e.updateAttributes(this.name,{src:r.src}):!1}},addPasteRules(){return this.options.addPasteHandler?[_Se({find:gje,type:this.type,getAttributes:r=>({src:r.input})})]:[]},renderHTML({HTMLAttributes:r}){return["div",en({"data-twitter":""},r)]}});class ra{constructor(e,n,i){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=i}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new ra(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class Za{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new Za(n,ra.range(this,e))}}class lt{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var i="KaTeX parse error: "+e,o,a,s=n&&n.loc;if(s&&s.start<=s.end){var l=s.lexer.input;o=s.start,a=s.end,o===l.length?i+=" at end of input: ":i+=" at position "+(o+1)+": ";var c=l.slice(o,a).replace(/[^]/g,"$&"),u;o>15?u=""+l.slice(o-15,o):u=l.slice(0,o);var d;a+15<l.length?d=l.slice(a,a+15)+"":d=l.slice(a),i+=u+c+d}var h=new Error(i);return h.name="ParseError",h.__proto__=lt.prototype,h.position=o,o!=null&&a!=null&&(h.length=a-o),h.rawMessage=e,h}}lt.prototype.__proto__=Error.prototype;var bje=function(e,n){return e.indexOf(n)!==-1},vje=function(e,n){return e===void 0?n:e},xje=/([A-Z])/g,wje=function(e){return e.replace(xje,"-$1").toLowerCase()},Sje={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},kje=/[&><"']/g;function Tje(r){return String(r).replace(kje,e=>Sje[e])}var uce=function r(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?r(e.body[0]):e:e.type==="font"?r(e.body):e},Eje=function(e){var n=uce(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},Cje=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},_je=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},Ft={contains:bje,deflt:vje,escape:Tje,hyphenate:wje,getBaseElem:uce,isCharacterBox:Eje,protocolFromUrl:_je},Ly={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:r=>"#"+r},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(r,e)=>(e.push(r),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:r=>Math.max(0,r),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:r=>Math.max(0,r),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:r=>Math.max(0,r),cli:"-e, --max-expand <n>",cliProcessor:r=>r==="Infinity"?1/0:parseInt(r)},globalGroup:{type:"boolean",cli:!1}};function Aje(r){if(r.default)return r.default;var e=r.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}let xO=class{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in Ly)if(Ly.hasOwnProperty(n)){var i=Ly[n];this[n]=e[n]!==void 0?i.processor?i.processor(e[n]):e[n]:Aje(i)}}reportNonstrict(e,n,i){var o=this.strict;if(typeof o=="function"&&(o=o(e,n,i)),!(!o||o==="ignore")){if(o===!0||o==="error")throw new lt("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),i);o==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+o+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,i){var o=this.strict;if(typeof o=="function")try{o=o(e,n,i)}catch{o="error"}return!o||o==="ignore"?!1:o===!0||o==="error"?!0:o==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+o+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=Ft.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var i=typeof this.trust=="function"?this.trust(e):this.trust;return!!i}};class Lu{constructor(e,n,i){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=i}sup(){return nl[Dje[this.id]]}sub(){return nl[Mje[this.id]]}fracNum(){return nl[Rje[this.id]]}fracDen(){return nl[Nje[this.id]]}cramp(){return nl[Oje[this.id]]}text(){return nl[Pje[this.id]]}isTight(){return this.size>=2}}var wO=0,c3=1,r0=2,zc=3,Sb=4,Va=5,P0=6,so=7,nl=[new Lu(wO,0,!1),new Lu(c3,0,!0),new Lu(r0,1,!1),new Lu(zc,1,!0),new Lu(Sb,2,!1),new Lu(Va,2,!0),new Lu(P0,3,!1),new Lu(so,3,!0)],Dje=[Sb,Va,Sb,Va,P0,so,P0,so],Mje=[Va,Va,Va,Va,so,so,so,so],Rje=[r0,zc,Sb,Va,P0,so,P0,so],Nje=[zc,zc,Va,Va,so,so,so,so],Oje=[c3,c3,zc,zc,Va,Va,so,so],Pje=[wO,c3,r0,zc,r0,zc,r0,zc],Vt={DISPLAY:nl[wO],TEXT:nl[r0],SCRIPT:nl[Sb],SCRIPTSCRIPT:nl[P0]},e9=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function Ije(r){for(var e=0;e<e9.length;e++)for(var n=e9[e],i=0;i<n.blocks.length;i++){var o=n.blocks[i];if(r>=o[0]&&r<=o[1])return n.name}return null}var l4=[];e9.forEach(r=>r.blocks.forEach(e=>l4.push(...e)));function dce(r){for(var e=0;e<l4.length;e+=2)if(r>=l4[e]&&r<=l4[e+1])return!0;return!1}var vm=80,$je=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},zje=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},Lje=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},Uje=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},Bje=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},jje=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},Fje=function(e,n,i){var o=i-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+o+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},Hje=function(e,n,i){n=1e3*n;var o="";switch(e){case"sqrtMain":o=$je(n,vm);break;case"sqrtSize1":o=zje(n,vm);break;case"sqrtSize2":o=Lje(n,vm);break;case"sqrtSize3":o=Uje(n,vm);break;case"sqrtSize4":o=Bje(n,vm);break;case"sqrtTall":o=Fje(n,vm,i)}return o},Wje=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},LV={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Vje=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};let _v=class{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return Ft.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}};var ll={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Uw={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},UV={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function hce(r,e){ll[r]=e}function SO(r,e,n){if(!ll[e])throw new Error("Font metrics not found for font: "+e+".");var i=r.charCodeAt(0),o=ll[e][i];if(!o&&r[0]in UV&&(i=UV[r[0]].charCodeAt(0),o=ll[e][i]),!o&&n==="text"&&dce(i)&&(o=ll[e][77]),o)return{depth:o[0],height:o[1],italic:o[2],skew:o[3],width:o[4]}}var PC={};function qje(r){var e;if(r>=5?e=0:r>=3?e=1:e=2,!PC[e]){var n=PC[e]={cssEmPerMu:Uw.quad[e]/18};for(var i in Uw)Uw.hasOwnProperty(i)&&(n[i]=Uw[i][e])}return PC[e]}var Gje=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],BV=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],jV=function(e,n){return n.size<2?e:Gje[e-1][n.size-1]};class vc{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||vc.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=BV[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return new vc(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:jV(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:BV[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=jV(vc.BASESIZE,e);return this.size===n&&this.textSize===vc.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==vc.BASESIZE?["sizing","reset-size"+this.size,"size"+vc.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=qje(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}vc.BASESIZE=6;var t9={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Kje={ex:!0,em:!0,mu:!0},fce=function(e){return typeof e!="string"&&(e=e.unit),e in t9||e in Kje||e==="ex"},Tr=function(e,n){var i;if(e.unit in t9)i=t9[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")i=n.fontMetrics().cssEmPerMu;else{var o;if(n.style.isTight()?o=n.havingStyle(n.style.text()):o=n,e.unit==="ex")i=o.fontMetrics().xHeight;else if(e.unit==="em")i=o.fontMetrics().quad;else throw new lt("Invalid unit: '"+e.unit+"'");o!==n&&(i*=o.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*i,n.maxSize)},yt=function(e){return+e.toFixed(4)+"em"},Pd=function(e){return e.filter(n=>n).join(" ")},pce=function(e,n,i){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=i||{},n){n.style.isTight()&&this.classes.push("mtight");var o=n.getColor();o&&(this.style.color=o)}},mce=function(e){var n=document.createElement(e);n.className=Pd(this.classes);for(var i in this.style)this.style.hasOwnProperty(i)&&(n.style[i]=this.style[i]);for(var o in this.attributes)this.attributes.hasOwnProperty(o)&&n.setAttribute(o,this.attributes[o]);for(var a=0;a<this.children.length;a++)n.appendChild(this.children[a].toNode());return n},Xje=/[\s"'>/=\x00-\x1f]/,gce=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+Ft.escape(Pd(this.classes))+'"');var i="";for(var o in this.style)this.style.hasOwnProperty(o)&&(i+=Ft.hyphenate(o)+":"+this.style[o]+";");i&&(n+=' style="'+Ft.escape(i)+'"');for(var a in this.attributes)if(this.attributes.hasOwnProperty(a)){if(Xje.test(a))throw new lt("Invalid attribute name '"+a+"'");n+=" "+a+'="'+Ft.escape(this.attributes[a])+'"'}n+=">";for(var s=0;s<this.children.length;s++)n+=this.children[s].toMarkup();return n+="</"+e+">",n};class Av{constructor(e,n,i,o){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,pce.call(this,e,i,o),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return Ft.contains(this.classes,e)}toNode(){return mce.call(this,"span")}toMarkup(){return gce.call(this,"span")}}let kO=class{constructor(e,n,i,o){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,pce.call(this,n,o),this.children=i||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return Ft.contains(this.classes,e)}toNode(){return mce.call(this,"a")}toMarkup(){return gce.call(this,"a")}};class Yje{constructor(e,n,i){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=i}hasClass(e){return Ft.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+Ft.escape(this.src)+'"'+(' alt="'+Ft.escape(this.alt)+'"'),n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=Ft.hyphenate(i)+":"+this.style[i]+";");return n&&(e+=' style="'+Ft.escape(n)+'"'),e+="'/>",e}}var Zje={:"",:"",:"",:""};class ts{constructor(e,n,i,o,a,s,l,c){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=i||0,this.italic=o||0,this.skew=a||0,this.width=s||0,this.classes=l||[],this.style=c||{},this.maxFontSize=0;var u=Ije(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[]/.test(this.text)&&(this.text=Zje[this.text])}hasClass(e){return Ft.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=yt(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Pd(this.classes));for(var i in this.style)this.style.hasOwnProperty(i)&&(n=n||document.createElement("span"),n.style[i]=this.style[i]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=Ft.escape(Pd(this.classes)),n+='"');var i="";this.italic>0&&(i+="margin-right:"+this.italic+"em;");for(var o in this.style)this.style.hasOwnProperty(o)&&(i+=Ft.hyphenate(o)+":"+this.style[o]+";");i&&(e=!0,n+=' style="'+Ft.escape(i)+'"');var a=Ft.escape(this.text);return e?(n+=">",n+=a,n+="</span>",n):a}}class Kc{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&n.setAttribute(i,this.attributes[i]);for(var o=0;o<this.children.length;o++)n.appendChild(this.children[o].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Ft.escape(this.attributes[n])+'"');e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</svg>",e}}class Id{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",LV[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+Ft.escape(this.alternate)+'"/>':'<path d="'+Ft.escape(LV[this.pathName])+'"/>'}}class n9{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&n.setAttribute(i,this.attributes[i]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Ft.escape(this.attributes[n])+'"');return e+="/>",e}}function FV(r){if(r instanceof ts)return r;throw new Error("Expected symbolNode but got "+String(r)+".")}function Jje(r){if(r instanceof Av)return r;throw new Error("Expected span<HtmlDomNode> but got "+String(r)+".")}var Qje={bin:1,close:1,inner:1,open:1,punct:1,rel:1},eFe={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},or={math:{},text:{}};function Y(r,e,n,i,o,a){or[r][o]={font:e,group:n,replace:i},a&&i&&(or[r][i]=or[r][o])}var te="math",rt="text",ye="main",Ae="ams",vr="accent-token",_t="bin",go="close",cg="inner",Wt="mathord",Yr="op-token",Sa="open",zS="punct",Me="rel",au="spacing",Ie="textord";Y(te,ye,Me,"","\\equiv",!0);Y(te,ye,Me,"","\\prec",!0);Y(te,ye,Me,"","\\succ",!0);Y(te,ye,Me,"","\\sim",!0);Y(te,ye,Me,"","\\perp");Y(te,ye,Me,"","\\preceq",!0);Y(te,ye,Me,"","\\succeq",!0);Y(te,ye,Me,"","\\simeq",!0);Y(te,ye,Me,"","\\mid",!0);Y(te,ye,Me,"","\\ll",!0);Y(te,ye,Me,"","\\gg",!0);Y(te,ye,Me,"","\\asymp",!0);Y(te,ye,Me,"","\\parallel");Y(te,ye,Me,"","\\bowtie",!0);Y(te,ye,Me,"","\\smile",!0);Y(te,ye,Me,"","\\sqsubseteq",!0);Y(te,ye,Me,"","\\sqsupseteq",!0);Y(te,ye,Me,"","\\doteq",!0);Y(te,ye,Me,"","\\frown",!0);Y(te,ye,Me,"","\\ni",!0);Y(te,ye,Me,"","\\propto",!0);Y(te,ye,Me,"","\\vdash",!0);Y(te,ye,Me,"","\\dashv",!0);Y(te,ye,Me,"","\\owns");Y(te,ye,zS,".","\\ldotp");Y(te,ye,zS,"","\\cdotp");Y(te,ye,Ie,"#","\\#");Y(rt,ye,Ie,"#","\\#");Y(te,ye,Ie,"&","\\&");Y(rt,ye,Ie,"&","\\&");Y(te,ye,Ie,"","\\aleph",!0);Y(te,ye,Ie,"","\\forall",!0);Y(te,ye,Ie,"","\\hbar",!0);Y(te,ye,Ie,"","\\exists",!0);Y(te,ye,Ie,"","\\nabla",!0);Y(te,ye,Ie,"","\\flat",!0);Y(te,ye,Ie,"","\\ell",!0);Y(te,ye,Ie,"","\\natural",!0);Y(te,ye,Ie,"","\\clubsuit",!0);Y(te,ye,Ie,"","\\wp",!0);Y(te,ye,Ie,"","\\sharp",!0);Y(te,ye,Ie,"","\\diamondsuit",!0);Y(te,ye,Ie,"","\\Re",!0);Y(te,ye,Ie,"","\\heartsuit",!0);Y(te,ye,Ie,"","\\Im",!0);Y(te,ye,Ie,"","\\spadesuit",!0);Y(te,ye,Ie,"","\\S",!0);Y(rt,ye,Ie,"","\\S");Y(te,ye,Ie,"","\\P",!0);Y(rt,ye,Ie,"","\\P");Y(te,ye,Ie,"","\\dag");Y(rt,ye,Ie,"","\\dag");Y(rt,ye,Ie,"","\\textdagger");Y(te,ye,Ie,"","\\ddag");Y(rt,ye,Ie,"","\\ddag");Y(rt,ye,Ie,"","\\textdaggerdbl");Y(te,ye,go,"","\\rmoustache",!0);Y(te,ye,Sa,"","\\lmoustache",!0);Y(te,ye,go,"","\\rgroup",!0);Y(te,ye,Sa,"","\\lgroup",!0);Y(te,ye,_t,"","\\mp",!0);Y(te,ye,_t,"","\\ominus",!0);Y(te,ye,_t,"","\\uplus",!0);Y(te,ye,_t,"","\\sqcap",!0);Y(te,ye,_t,"","\\ast");Y(te,ye,_t,"","\\sqcup",!0);Y(te,ye,_t,"","\\bigcirc",!0);Y(te,ye,_t,"","\\bullet",!0);Y(te,ye,_t,"","\\ddagger");Y(te,ye,_t,"","\\wr",!0);Y(te,ye,_t,"","\\amalg");Y(te,ye,_t,"&","\\And");Y(te,ye,Me,"","\\longleftarrow",!0);Y(te,ye,Me,"","\\Leftarrow",!0);Y(te,ye,Me,"","\\Longleftarrow",!0);Y(te,ye,Me,"","\\longrightarrow",!0);Y(te,ye,Me,"","\\Rightarrow",!0);Y(te,ye,Me,"","\\Longrightarrow",!0);Y(te,ye,Me,"","\\leftrightarrow",!0);Y(te,ye,Me,"","\\longleftrightarrow",!0);Y(te,ye,Me,"","\\Leftrightarrow",!0);Y(te,ye,Me,"","\\Longleftrightarrow",!0);Y(te,ye,Me,"","\\mapsto",!0);Y(te,ye,Me,"","\\longmapsto",!0);Y(te,ye,Me,"","\\nearrow",!0);Y(te,ye,Me,"","\\hookleftarrow",!0);Y(te,ye,Me,"","\\hookrightarrow",!0);Y(te,ye,Me,"","\\searrow",!0);Y(te,ye,Me,"","\\leftharpoonup",!0);Y(te,ye,Me,"","\\rightharpoonup",!0);Y(te,ye,Me,"","\\swarrow",!0);Y(te,ye,Me,"","\\leftharpoondown",!0);Y(te,ye,Me,"","\\rightharpoondown",!0);Y(te,ye,Me,"","\\nwarrow",!0);Y(te,ye,Me,"","\\rightleftharpoons",!0);Y(te,Ae,Me,"","\\nless",!0);Y(te,Ae,Me,"","\\@nleqslant");Y(te,Ae,Me,"","\\@nleqq");Y(te,Ae,Me,"","\\lneq",!0);Y(te,Ae,Me,"","\\lneqq",!0);Y(te,Ae,Me,"","\\@lvertneqq");Y(te,Ae,Me,"","\\lnsim",!0);Y(te,Ae,Me,"","\\lnapprox",!0);Y(te,Ae,Me,"","\\nprec",!0);Y(te,Ae,Me,"","\\npreceq",!0);Y(te,Ae,Me,"","\\precnsim",!0);Y(te,Ae,Me,"","\\precnapprox",!0);Y(te,Ae,Me,"","\\nsim",!0);Y(te,Ae,Me,"","\\@nshortmid");Y(te,Ae,Me,"","\\nmid",!0);Y(te,Ae,Me,"","\\nvdash",!0);Y(te,Ae,Me,"","\\nvDash",!0);Y(te,Ae,Me,"","\\ntriangleleft");Y(te,Ae,Me,"","\\ntrianglelefteq",!0);Y(te,Ae,Me,"","\\subsetneq",!0);Y(te,Ae,Me,"","\\@varsubsetneq");Y(te,Ae,Me,"","\\subsetneqq",!0);Y(te,Ae,Me,"","\\@varsubsetneqq");Y(te,Ae,Me,"","\\ngtr",!0);Y(te,Ae,Me,"","\\@ngeqslant");Y(te,Ae,Me,"","\\@ngeqq");Y(te,Ae,Me,"","\\gneq",!0);Y(te,Ae,Me,"","\\gneqq",!0);Y(te,Ae,Me,"","\\@gvertneqq");Y(te,Ae,Me,"","\\gnsim",!0);Y(te,Ae,Me,"","\\gnapprox",!0);Y(te,Ae,Me,"","\\nsucc",!0);Y(te,Ae,Me,"","\\nsucceq",!0);Y(te,Ae,Me,"","\\succnsim",!0);Y(te,Ae,Me,"","\\succnapprox",!0);Y(te,Ae,Me,"","\\ncong",!0);Y(te,Ae,Me,"","\\@nshortparallel");Y(te,Ae,Me,"","\\nparallel",!0);Y(te,Ae,Me,"","\\nVDash",!0);Y(te,Ae,Me,"","\\ntriangleright");Y(te,Ae,Me,"","\\ntrianglerighteq",!0);Y(te,Ae,Me,"","\\@nsupseteqq");Y(te,Ae,Me,"","\\supsetneq",!0);Y(te,Ae,Me,"","\\@varsupsetneq");Y(te,Ae,Me,"","\\supsetneqq",!0);Y(te,Ae,Me,"","\\@varsupsetneqq");Y(te,Ae,Me,"","\\nVdash",!0);Y(te,Ae,Me,"","\\precneqq",!0);Y(te,Ae,Me,"","\\succneqq",!0);Y(te,Ae,Me,"","\\@nsubseteqq");Y(te,Ae,_t,"","\\unlhd");Y(te,Ae,_t,"","\\unrhd");Y(te,Ae,Me,"","\\nleftarrow",!0);Y(te,Ae,Me,"","\\nrightarrow",!0);Y(te,Ae,Me,"","\\nLeftarrow",!0);Y(te,Ae,Me,"","\\nRightarrow",!0);Y(te,Ae,Me,"","\\nleftrightarrow",!0);Y(te,Ae,Me,"","\\nLeftrightarrow",!0);Y(te,Ae,Me,"","\\vartriangle");Y(te,Ae,Ie,"","\\hslash");Y(te,Ae,Ie,"","\\triangledown");Y(te,Ae,Ie,"","\\lozenge");Y(te,Ae,Ie,"","\\circledS");Y(te,Ae,Ie,"","\\circledR");Y(rt,Ae,Ie,"","\\circledR");Y(te,Ae,Ie,"","\\measuredangle",!0);Y(te,Ae,Ie,"","\\nexists");Y(te,Ae,Ie,"","\\mho");Y(te,Ae,Ie,"","\\Finv",!0);Y(te,Ae,Ie,"","\\Game",!0);Y(te,Ae,Ie,"","\\backprime");Y(te,Ae,Ie,"","\\blacktriangle");Y(te,Ae,Ie,"","\\blacktriangledown");Y(te,Ae,Ie,"","\\blacksquare");Y(te,Ae,Ie,"","\\blacklozenge");Y(te,Ae,Ie,"","\\bigstar");Y(te,Ae,Ie,"","\\sphericalangle",!0);Y(te,Ae,Ie,"","\\complement",!0);Y(te,Ae,Ie,"","\\eth",!0);Y(rt,ye,Ie,"","");Y(te,Ae,Ie,"","\\diagup");Y(te,Ae,Ie,"","\\diagdown");Y(te,Ae,Ie,"","\\square");Y(te,Ae,Ie,"","\\Box");Y(te,Ae,Ie,"","\\Diamond");Y(te,Ae,Ie,"","\\yen",!0);Y(rt,Ae,Ie,"","\\yen",!0);Y(te,Ae,Ie,"","\\checkmark",!0);Y(rt,Ae,Ie,"","\\checkmark");Y(te,Ae,Ie,"","\\beth",!0);Y(te,Ae,Ie,"","\\daleth",!0);Y(te,Ae,Ie,"","\\gimel",!0);Y(te,Ae,Ie,"","\\digamma",!0);Y(te,Ae,Ie,"","\\varkappa");Y(te,Ae,Sa,"","\\@ulcorner",!0);Y(te,Ae,go,"","\\@urcorner",!0);Y(te,Ae,Sa,"","\\@llcorner",!0);Y(te,Ae,go,"","\\@lrcorner",!0);Y(te,Ae,Me,"","\\leqq",!0);Y(te,Ae,Me,"","\\leqslant",!0);Y(te,Ae,Me,"","\\eqslantless",!0);Y(te,Ae,Me,"","\\lesssim",!0);Y(te,Ae,Me,"","\\lessapprox",!0);Y(te,Ae,Me,"","\\approxeq",!0);Y(te,Ae,_t,"","\\lessdot");Y(te,Ae,Me,"","\\lll",!0);Y(te,Ae,Me,"","\\lessgtr",!0);Y(te,Ae,Me,"","\\lesseqgtr",!0);Y(te,Ae,Me,"","\\lesseqqgtr",!0);Y(te,Ae,Me,"","\\doteqdot");Y(te,Ae,Me,"","\\risingdotseq",!0);Y(te,Ae,Me,"","\\fallingdotseq",!0);Y(te,Ae,Me,"","\\backsim",!0);Y(te,Ae,Me,"","\\backsimeq",!0);Y(te,Ae,Me,"","\\subseteqq",!0);Y(te,Ae,Me,"","\\Subset",!0);Y(te,Ae,Me,"","\\sqsubset",!0);Y(te,Ae,Me,"","\\preccurlyeq",!0);Y(te,Ae,Me,"","\\curlyeqprec",!0);Y(te,Ae,Me,"","\\precsim",!0);Y(te,Ae,Me,"","\\precapprox",!0);Y(te,Ae,Me,"","\\vartriangleleft");Y(te,Ae,Me,"","\\trianglelefteq");Y(te,Ae,Me,"","\\vDash",!0);Y(te,Ae,Me,"","\\Vvdash",!0);Y(te,Ae,Me,"","\\smallsmile");Y(te,Ae,Me,"","\\smallfrown");Y(te,Ae,Me,"","\\bumpeq",!0);Y(te,Ae,Me,"","\\Bumpeq",!0);Y(te,Ae,Me,"","\\geqq",!0);Y(te,Ae,Me,"","\\geqslant",!0);Y(te,Ae,Me,"","\\eqslantgtr",!0);Y(te,Ae,Me,"","\\gtrsim",!0);Y(te,Ae,Me,"","\\gtrapprox",!0);Y(te,Ae,_t,"","\\gtrdot");Y(te,Ae,Me,"","\\ggg",!0);Y(te,Ae,Me,"","\\gtrless",!0);Y(te,Ae,Me,"","\\gtreqless",!0);Y(te,Ae,Me,"","\\gtreqqless",!0);Y(te,Ae,Me,"","\\eqcirc",!0);Y(te,Ae,Me,"","\\circeq",!0);Y(te,Ae,Me,"","\\triangleq",!0);Y(te,Ae,Me,"","\\thicksim");Y(te,Ae,Me,"","\\thickapprox");Y(te,Ae,Me,"","\\supseteqq",!0);Y(te,Ae,Me,"","\\Supset",!0);Y(te,Ae,Me,"","\\sqsupset",!0);Y(te,Ae,Me,"","\\succcurlyeq",!0);Y(te,Ae,Me,"","\\curlyeqsucc",!0);Y(te,Ae,Me,"","\\succsim",!0);Y(te,Ae,Me,"","\\succapprox",!0);Y(te,Ae,Me,"","\\vartriangleright");Y(te,Ae,Me,"","\\trianglerighteq");Y(te,Ae,Me,"","\\Vdash",!0);Y(te,Ae,Me,"","\\shortmid");Y(te,Ae,Me,"","\\shortparallel");Y(te,Ae,Me,"","\\between",!0);Y(te,Ae,Me,"","\\pitchfork",!0);Y(te,Ae,Me,"","\\varpropto");Y(te,Ae,Me,"","\\blacktriangleleft");Y(te,Ae,Me,"","\\therefore",!0);Y(te,Ae,Me,"","\\backepsilon");Y(te,Ae,Me,"","\\blacktriangleright");Y(te,Ae,Me,"","\\because",!0);Y(te,Ae,Me,"","\\llless");Y(te,Ae,Me,"","\\gggtr");Y(te,Ae,_t,"","\\lhd");Y(te,Ae,_t,"","\\rhd");Y(te,Ae,Me,"","\\eqsim",!0);Y(te,ye,Me,"","\\Join");Y(te,Ae,Me,"","\\Doteq",!0);Y(te,Ae,_t,"","\\dotplus",!0);Y(te,Ae,_t,"","\\smallsetminus");Y(te,Ae,_t,"","\\Cap",!0);Y(te,Ae,_t,"","\\Cup",!0);Y(te,Ae,_t,"","\\doublebarwedge",!0);Y(te,Ae,_t,"","\\boxminus",!0);Y(te,Ae,_t,"","\\boxplus",!0);Y(te,Ae,_t,"","\\divideontimes",!0);Y(te,Ae,_t,"","\\ltimes",!0);Y(te,Ae,_t,"","\\rtimes",!0);Y(te,Ae,_t,"","\\leftthreetimes",!0);Y(te,Ae,_t,"","\\rightthreetimes",!0);Y(te,Ae,_t,"","\\curlywedge",!0);Y(te,Ae,_t,"","\\curlyvee",!0);Y(te,Ae,_t,"","\\circleddash",!0);Y(te,Ae,_t,"","\\circledast",!0);Y(te,Ae,_t,"","\\centerdot");Y(te,Ae,_t,"","\\intercal",!0);Y(te,Ae,_t,"","\\doublecap");Y(te,Ae,_t,"","\\doublecup");Y(te,Ae,_t,"","\\boxtimes",!0);Y(te,Ae,Me,"","\\dashrightarrow",!0);Y(te,Ae,Me,"","\\dashleftarrow",!0);Y(te,Ae,Me,"","\\leftleftarrows",!0);Y(te,Ae,Me,"","\\leftrightarrows",!0);Y(te,Ae,Me,"","\\Lleftarrow",!0);Y(te,Ae,Me,"","\\twoheadleftarrow",!0);Y(te,Ae,Me,"","\\leftarrowtail",!0);Y(te,Ae,Me,"","\\looparrowleft",!0);Y(te,Ae,Me,"","\\leftrightharpoons",!0);Y(te,Ae,Me,"","\\curvearrowleft",!0);Y(te,Ae,Me,"","\\circlearrowleft",!0);Y(te,Ae,Me,"","\\Lsh",!0);Y(te,Ae,Me,"","\\upuparrows",!0);Y(te,Ae,Me,"","\\upharpoonleft",!0);Y(te,Ae,Me,"","\\downharpoonleft",!0);Y(te,ye,Me,"","\\origof",!0);Y(te,ye,Me,"","\\imageof",!0);Y(te,Ae,Me,"","\\multimap",!0);Y(te,Ae,Me,"","\\leftrightsquigarrow",!0);Y(te,Ae,Me,"","\\rightrightarrows",!0);Y(te,Ae,Me,"","\\rightleftarrows",!0);Y(te,Ae,Me,"","\\twoheadrightarrow",!0);Y(te,Ae,Me,"","\\rightarrowtail",!0);Y(te,Ae,Me,"","\\looparrowright",!0);Y(te,Ae,Me,"","\\curvearrowright",!0);Y(te,Ae,Me,"","\\circlearrowright",!0);Y(te,Ae,Me,"","\\Rsh",!0);Y(te,Ae,Me,"","\\downdownarrows",!0);Y(te,Ae,Me,"","\\upharpoonright",!0);Y(te,Ae,Me,"","\\downharpoonright",!0);Y(te,Ae,Me,"","\\rightsquigarrow",!0);Y(te,Ae,Me,"","\\leadsto");Y(te,Ae,Me,"","\\Rrightarrow",!0);Y(te,Ae,Me,"","\\restriction");Y(te,ye,Ie,"","`");Y(te,ye,Ie,"$","\\$");Y(rt,ye,Ie,"$","\\$");Y(rt,ye,Ie,"$","\\textdollar");Y(te,ye,Ie,"%","\\%");Y(rt,ye,Ie,"%","\\%");Y(te,ye,Ie,"_","\\_");Y(rt,ye,Ie,"_","\\_");Y(rt,ye,Ie,"_","\\textunderscore");Y(te,ye,Ie,"","\\angle",!0);Y(te,ye,Ie,"","\\infty",!0);Y(te,ye,Ie,"","\\prime");Y(te,ye,Ie,"","\\triangle");Y(te,ye,Ie,"","\\Gamma",!0);Y(te,ye,Ie,"","\\Delta",!0);Y(te,ye,Ie,"","\\Theta",!0);Y(te,ye,Ie,"","\\Lambda",!0);Y(te,ye,Ie,"","\\Xi",!0);Y(te,ye,Ie,"","\\Pi",!0);Y(te,ye,Ie,"","\\Sigma",!0);Y(te,ye,Ie,"","\\Upsilon",!0);Y(te,ye,Ie,"","\\Phi",!0);Y(te,ye,Ie,"","\\Psi",!0);Y(te,ye,Ie,"","\\Omega",!0);Y(te,ye,Ie,"A","");Y(te,ye,Ie,"B","");Y(te,ye,Ie,"E","");Y(te,ye,Ie,"Z","");Y(te,ye,Ie,"H","");Y(te,ye,Ie,"I","");Y(te,ye,Ie,"K","");Y(te,ye,Ie,"M","");Y(te,ye,Ie,"N","");Y(te,ye,Ie,"O","");Y(te,ye,Ie,"P","");Y(te,ye,Ie,"T","");Y(te,ye,Ie,"X","");Y(te,ye,Ie,"","\\neg",!0);Y(te,ye,Ie,"","\\lnot");Y(te,ye,Ie,"","\\top");Y(te,ye,Ie,"","\\bot");Y(te,ye,Ie,"","\\emptyset");Y(te,Ae,Ie,"","\\varnothing");Y(te,ye,Wt,"","\\alpha",!0);Y(te,ye,Wt,"","\\beta",!0);Y(te,ye,Wt,"","\\gamma",!0);Y(te,ye,Wt,"","\\delta",!0);Y(te,ye,Wt,"","\\epsilon",!0);Y(te,ye,Wt,"","\\zeta",!0);Y(te,ye,Wt,"","\\eta",!0);Y(te,ye,Wt,"","\\theta",!0);Y(te,ye,Wt,"","\\iota",!0);Y(te,ye,Wt,"","\\kappa",!0);Y(te,ye,Wt,"","\\lambda",!0);Y(te,ye,Wt,"","\\mu",!0);Y(te,ye,Wt,"","\\nu",!0);Y(te,ye,Wt,"","\\xi",!0);Y(te,ye,Wt,"","\\omicron",!0);Y(te,ye,Wt,"","\\pi",!0);Y(te,ye,Wt,"","\\rho",!0);Y(te,ye,Wt,"","\\sigma",!0);Y(te,ye,Wt,"","\\tau",!0);Y(te,ye,Wt,"","\\upsilon",!0);Y(te,ye,Wt,"","\\phi",!0);Y(te,ye,Wt,"","\\chi",!0);Y(te,ye,Wt,"","\\psi",!0);Y(te,ye,Wt,"","\\omega",!0);Y(te,ye,Wt,"","\\varepsilon",!0);Y(te,ye,Wt,"","\\vartheta",!0);Y(te,ye,Wt,"","\\varpi",!0);Y(te,ye,Wt,"","\\varrho",!0);Y(te,ye,Wt,"","\\varsigma",!0);Y(te,ye,Wt,"","\\varphi",!0);Y(te,ye,_t,"","*",!0);Y(te,ye,_t,"+","+");Y(te,ye,_t,"","-",!0);Y(te,ye,_t,"","\\cdot",!0);Y(te,ye,_t,"","\\circ",!0);Y(te,ye,_t,"","\\div",!0);Y(te,ye,_t,"","\\pm",!0);Y(te,ye,_t,"","\\times",!0);Y(te,ye,_t,"","\\cap",!0);Y(te,ye,_t,"","\\cup",!0);Y(te,ye,_t,"","\\setminus",!0);Y(te,ye,_t,"","\\land");Y(te,ye,_t,"","\\lor");Y(te,ye,_t,"","\\wedge",!0);Y(te,ye,_t,"","\\vee",!0);Y(te,ye,Ie,"","\\surd");Y(te,ye,Sa,"","\\langle",!0);Y(te,ye,Sa,"","\\lvert");Y(te,ye,Sa,"","\\lVert");Y(te,ye,go,"?","?");Y(te,ye,go,"!","!");Y(te,ye,go,"","\\rangle",!0);Y(te,ye,go,"","\\rvert");Y(te,ye,go,"","\\rVert");Y(te,ye,Me,"=","=");Y(te,ye,Me,":",":");Y(te,ye,Me,"","\\approx",!0);Y(te,ye,Me,"","\\cong",!0);Y(te,ye,Me,"","\\ge");Y(te,ye,Me,"","\\geq",!0);Y(te,ye,Me,"","\\gets");Y(te,ye,Me,">","\\gt",!0);Y(te,ye,Me,"","\\in",!0);Y(te,ye,Me,"","\\@not");Y(te,ye,Me,"","\\subset",!0);Y(te,ye,Me,"","\\supset",!0);Y(te,ye,Me,"","\\subseteq",!0);Y(te,ye,Me,"","\\supseteq",!0);Y(te,Ae,Me,"","\\nsubseteq",!0);Y(te,Ae,Me,"","\\nsupseteq",!0);Y(te,ye,Me,"","\\models");Y(te,ye,Me,"","\\leftarrow",!0);Y(te,ye,Me,"","\\le");Y(te,ye,Me,"","\\leq",!0);Y(te,ye,Me,"<","\\lt",!0);Y(te,ye,Me,"","\\rightarrow",!0);Y(te,ye,Me,"","\\to");Y(te,Ae,Me,"","\\ngeq",!0);Y(te,Ae,Me,"","\\nleq",!0);Y(te,ye,au,"","\\ ");Y(te,ye,au,"","\\space");Y(te,ye,au,"","\\nobreakspace");Y(rt,ye,au,"","\\ ");Y(rt,ye,au,""," ");Y(rt,ye,au,"","\\space");Y(rt,ye,au,"","\\nobreakspace");Y(te,ye,au,null,"\\nobreak");Y(te,ye,au,null,"\\allowbreak");Y(te,ye,zS,",",",");Y(te,ye,zS,";",";");Y(te,Ae,_t,"","\\barwedge",!0);Y(te,Ae,_t,"","\\veebar",!0);Y(te,ye,_t,"","\\odot",!0);Y(te,ye,_t,"","\\oplus",!0);Y(te,ye,_t,"","\\otimes",!0);Y(te,ye,Ie,"","\\partial",!0);Y(te,ye,_t,"","\\oslash",!0);Y(te,Ae,_t,"","\\circledcirc",!0);Y(te,Ae,_t,"","\\boxdot",!0);Y(te,ye,_t,"","\\bigtriangleup");Y(te,ye,_t,"","\\bigtriangledown");Y(te,ye,_t,"","\\dagger");Y(te,ye,_t,"","\\diamond");Y(te,ye,_t,"","\\star");Y(te,ye,_t,"","\\triangleleft");Y(te,ye,_t,"","\\triangleright");Y(te,ye,Sa,"{","\\{");Y(rt,ye,Ie,"{","\\{");Y(rt,ye,Ie,"{","\\textbraceleft");Y(te,ye,go,"}","\\}");Y(rt,ye,Ie,"}","\\}");Y(rt,ye,Ie,"}","\\textbraceright");Y(te,ye,Sa,"{","\\lbrace");Y(te,ye,go,"}","\\rbrace");Y(te,ye,Sa,"[","\\lbrack",!0);Y(rt,ye,Ie,"[","\\lbrack",!0);Y(te,ye,go,"]","\\rbrack",!0);Y(rt,ye,Ie,"]","\\rbrack",!0);Y(te,ye,Sa,"(","\\lparen",!0);Y(te,ye,go,")","\\rparen",!0);Y(rt,ye,Ie,"<","\\textless",!0);Y(rt,ye,Ie,">","\\textgreater",!0);Y(te,ye,Sa,"","\\lfloor",!0);Y(te,ye,go,"","\\rfloor",!0);Y(te,ye,Sa,"","\\lceil",!0);Y(te,ye,go,"","\\rceil",!0);Y(te,ye,Ie,"\\","\\backslash");Y(te,ye,Ie,"","|");Y(te,ye,Ie,"","\\vert");Y(rt,ye,Ie,"|","\\textbar",!0);Y(te,ye,Ie,"","\\|");Y(te,ye,Ie,"","\\Vert");Y(rt,ye,Ie,"","\\textbardbl");Y(rt,ye,Ie,"~","\\textasciitilde");Y(rt,ye,Ie,"\\","\\textbackslash");Y(rt,ye,Ie,"^","\\textasciicircum");Y(te,ye,Me,"","\\uparrow",!0);Y(te,ye,Me,"","\\Uparrow",!0);Y(te,ye,Me,"","\\downarrow",!0);Y(te,ye,Me,"","\\Downarrow",!0);Y(te,ye,Me,"","\\updownarrow",!0);Y(te,ye,Me,"","\\Updownarrow",!0);Y(te,ye,Yr,"","\\coprod");Y(te,ye,Yr,"","\\bigvee");Y(te,ye,Yr,"","\\bigwedge");Y(te,ye,Yr,"","\\biguplus");Y(te,ye,Yr,"","\\bigcap");Y(te,ye,Yr,"","\\bigcup");Y(te,ye,Yr,"","\\int");Y(te,ye,Yr,"","\\intop");Y(te,ye,Yr,"","\\iint");Y(te,ye,Yr,"","\\iiint");Y(te,ye,Yr,"","\\prod");Y(te,ye,Yr,"","\\sum");Y(te,ye,Yr,"","\\bigotimes");Y(te,ye,Yr,"","\\bigoplus");Y(te,ye,Yr,"","\\bigodot");Y(te,ye,Yr,"","\\oint");Y(te,ye,Yr,"","\\oiint");Y(te,ye,Yr,"","\\oiiint");Y(te,ye,Yr,"","\\bigsqcup");Y(te,ye,Yr,"","\\smallint");Y(rt,ye,cg,"","\\textellipsis");Y(te,ye,cg,"","\\mathellipsis");Y(rt,ye,cg,"","\\ldots",!0);Y(te,ye,cg,"","\\ldots",!0);Y(te,ye,cg,"","\\@cdots",!0);Y(te,ye,cg,"","\\ddots",!0);Y(te,ye,Ie,"","\\varvdots");Y(rt,ye,Ie,"","\\varvdots");Y(te,ye,vr,"","\\acute");Y(te,ye,vr,"","\\grave");Y(te,ye,vr,"","\\ddot");Y(te,ye,vr,"~","\\tilde");Y(te,ye,vr,"","\\bar");Y(te,ye,vr,"","\\breve");Y(te,ye,vr,"","\\check");Y(te,ye,vr,"^","\\hat");Y(te,ye,vr,"","\\vec");Y(te,ye,vr,"","\\dot");Y(te,ye,vr,"","\\mathring");Y(te,ye,Wt,"","\\@imath");Y(te,ye,Wt,"","\\@jmath");Y(te,ye,Ie,"","");Y(te,ye,Ie,"","");Y(rt,ye,Ie,"","\\i",!0);Y(rt,ye,Ie,"","\\j",!0);Y(rt,ye,Ie,"","\\ss",!0);Y(rt,ye,Ie,"","\\ae",!0);Y(rt,ye,Ie,"","\\oe",!0);Y(rt,ye,Ie,"","\\o",!0);Y(rt,ye,Ie,"","\\AE",!0);Y(rt,ye,Ie,"","\\OE",!0);Y(rt,ye,Ie,"","\\O",!0);Y(rt,ye,vr,"","\\'");Y(rt,ye,vr,"","\\`");Y(rt,ye,vr,"","\\^");Y(rt,ye,vr,"","\\~");Y(rt,ye,vr,"","\\=");Y(rt,ye,vr,"","\\u");Y(rt,ye,vr,"","\\.");Y(rt,ye,vr,"","\\c");Y(rt,ye,vr,"","\\r");Y(rt,ye,vr,"","\\v");Y(rt,ye,vr,"",'\\"');Y(rt,ye,vr,"","\\H");Y(rt,ye,vr,"","\\textcircled");var yce={"--":!0,"---":!0,"``":!0,"''":!0};Y(rt,ye,Ie,"","--",!0);Y(rt,ye,Ie,"","\\textendash");Y(rt,ye,Ie,"","---",!0);Y(rt,ye,Ie,"","\\textemdash");Y(rt,ye,Ie,"","`",!0);Y(rt,ye,Ie,"","\\textquoteleft");Y(rt,ye,Ie,"","'",!0);Y(rt,ye,Ie,"","\\textquoteright");Y(rt,ye,Ie,"","``",!0);Y(rt,ye,Ie,"","\\textquotedblleft");Y(rt,ye,Ie,"","''",!0);Y(rt,ye,Ie,"","\\textquotedblright");Y(te,ye,Ie,"","\\degree",!0);Y(rt,ye,Ie,"","\\degree");Y(rt,ye,Ie,"","\\textdegree",!0);Y(te,ye,Ie,"","\\pounds");Y(te,ye,Ie,"","\\mathsterling",!0);Y(rt,ye,Ie,"","\\pounds");Y(rt,ye,Ie,"","\\textsterling",!0);Y(te,Ae,Ie,"","\\maltese");Y(rt,Ae,Ie,"","\\maltese");var HV='0123456789/@."';for(var IC=0;IC<HV.length;IC++){var WV=HV.charAt(IC);Y(te,ye,Ie,WV,WV)}var VV='0123456789!@*()-=+";:?/.,';for(var $C=0;$C<VV.length;$C++){var qV=VV.charAt($C);Y(rt,ye,Ie,qV,qV)}var u3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var zC=0;zC<u3.length;zC++){var Bw=u3.charAt(zC);Y(te,ye,Wt,Bw,Bw),Y(rt,ye,Ie,Bw,Bw)}Y(te,Ae,Ie,"C","");Y(rt,Ae,Ie,"C","");Y(te,Ae,Ie,"H","");Y(rt,Ae,Ie,"H","");Y(te,Ae,Ie,"N","");Y(rt,Ae,Ie,"N","");Y(te,Ae,Ie,"P","");Y(rt,Ae,Ie,"P","");Y(te,Ae,Ie,"Q","");Y(rt,Ae,Ie,"Q","");Y(te,Ae,Ie,"R","");Y(rt,Ae,Ie,"R","");Y(te,Ae,Ie,"Z","");Y(rt,Ae,Ie,"Z","");Y(te,ye,Wt,"h","");Y(rt,ye,Wt,"h","");var Jt="";for(var Ji=0;Ji<u3.length;Ji++){var Mr=u3.charAt(Ji);Jt=String.fromCharCode(55349,56320+Ji),Y(te,ye,Wt,Mr,Jt),Y(rt,ye,Ie,Mr,Jt),Jt=String.fromCharCode(55349,56372+Ji),Y(te,ye,Wt,Mr,Jt),Y(rt,ye,Ie,Mr,Jt),Jt=String.fromCharCode(55349,56424+Ji),Y(te,ye,Wt,Mr,Jt),Y(rt,ye,Ie,Mr,Jt),Jt=String.fromCharCode(55349,56580+Ji),Y(te,ye,Wt,Mr,Jt),Y(rt,ye,Ie,Mr,Jt),Jt=String.fromCharCode(55349,56684+Ji),Y(te,ye,Wt,Mr,Jt),Y(rt,ye,Ie,Mr,Jt),Jt=String.fromCharCode(55349,56736+Ji),Y(te,ye,Wt,Mr,Jt),Y(rt,ye,Ie,Mr,Jt),Jt=String.fromCharCode(55349,56788+Ji),Y(te,ye,Wt,Mr,Jt),Y(rt,ye,Ie,Mr,Jt),Jt=String.fromCharCode(55349,56840+Ji),Y(te,ye,Wt,Mr,Jt),Y(rt,ye,Ie,Mr,Jt),Jt=String.fromCharCode(55349,56944+Ji),Y(te,ye,Wt,Mr,Jt),Y(rt,ye,Ie,Mr,Jt),Ji<26&&(Jt=String.fromCharCode(55349,56632+Ji),Y(te,ye,Wt,Mr,Jt),Y(rt,ye,Ie,Mr,Jt),Jt=String.fromCharCode(55349,56476+Ji),Y(te,ye,Wt,Mr,Jt),Y(rt,ye,Ie,Mr,Jt))}Jt="";Y(te,ye,Wt,"k",Jt);Y(rt,ye,Ie,"k",Jt);for(var Ih=0;Ih<10;Ih++){var Uu=Ih.toString();Jt=String.fromCharCode(55349,57294+Ih),Y(te,ye,Wt,Uu,Jt),Y(rt,ye,Ie,Uu,Jt),Jt=String.fromCharCode(55349,57314+Ih),Y(te,ye,Wt,Uu,Jt),Y(rt,ye,Ie,Uu,Jt),Jt=String.fromCharCode(55349,57324+Ih),Y(te,ye,Wt,Uu,Jt),Y(rt,ye,Ie,Uu,Jt),Jt=String.fromCharCode(55349,57334+Ih),Y(te,ye,Wt,Uu,Jt),Y(rt,ye,Ie,Uu,Jt)}var r9="";for(var LC=0;LC<r9.length;LC++){var jw=r9.charAt(LC);Y(te,ye,Wt,jw,jw),Y(rt,ye,Ie,jw,jw)}var Fw=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],GV=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],tFe=function(e,n){var i=e.charCodeAt(0),o=e.charCodeAt(1),a=(i-55296)*1024+(o-56320)+65536,s=n==="math"?0:1;if(119808<=a&&a<120484){var l=Math.floor((a-119808)/26);return[Fw[l][2],Fw[l][s]]}else if(120782<=a&&a<=120831){var c=Math.floor((a-120782)/10);return[GV[c][2],GV[c][s]]}else{if(a===120485||a===120486)return[Fw[0][2],Fw[0][s]];if(120486<a&&a<120782)return["",""];throw new lt("Unsupported character: "+e)}},LS=function(e,n,i){return or[i][e]&&or[i][e].replace&&(e=or[i][e].replace),{value:e,metrics:SO(e,n,i)}},bs=function(e,n,i,o,a){var s=LS(e,n,i),l=s.metrics;e=s.value;var c;if(l){var u=l.italic;(i==="text"||o&&o.font==="mathit")&&(u=0),c=new ts(e,l.height,l.depth,u,l.skew,l.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+i+"'")),c=new ts(e,0,0,0,0,0,a);if(o){c.maxFontSize=o.sizeMultiplier,o.style.isTight()&&c.classes.push("mtight");var d=o.getColor();d&&(c.style.color=d)}return c},nFe=function(e,n,i,o){return o===void 0&&(o=[]),i.font==="boldsymbol"&&LS(e,"Main-Bold",n).metrics?bs(e,"Main-Bold",n,i,o.concat(["mathbf"])):e==="\\"||or[n][e].font==="main"?bs(e,"Main-Regular",n,i,o):bs(e,"AMS-Regular",n,i,o.concat(["amsrm"]))},rFe=function(e,n,i,o,a){return a!=="textord"&&LS(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},iFe=function(e,n,i){var o=e.mode,a=e.text,s=["mord"],l=o==="math"||o==="text"&&n.font,c=l?n.font:n.fontFamily,u="",d="";if(a.charCodeAt(0)===55349&&([u,d]=tFe(a,o)),u.length>0)return bs(a,u,o,n,s.concat(d));if(c){var h,f;if(c==="boldsymbol"){var m=rFe(a,o,n,s,i);h=m.fontName,f=[m.fontClass]}else l?(h=xce[c].fontName,f=[c]):(h=Hw(c,n.fontWeight,n.fontShape),f=[c,n.fontWeight,n.fontShape]);if(LS(a,h,o).metrics)return bs(a,h,o,n,s.concat(f));if(yce.hasOwnProperty(a)&&h.slice(0,10)==="Typewriter"){for(var b=[],g=0;g<a.length;g++)b.push(bs(a[g],h,o,n,s.concat(f)));return vce(b)}}if(i==="mathord")return bs(a,"Math-Italic",o,n,s.concat(["mathnormal"]));if(i==="textord"){var v=or[o][a]&&or[o][a].font;if(v==="ams"){var x=Hw("amsrm",n.fontWeight,n.fontShape);return bs(a,x,o,n,s.concat("amsrm",n.fontWeight,n.fontShape))}else if(v==="main"||!v){var w=Hw("textrm",n.fontWeight,n.fontShape);return bs(a,w,o,n,s.concat(n.fontWeight,n.fontShape))}else{var k=Hw(v,n.fontWeight,n.fontShape);return bs(a,k,o,n,s.concat(k,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+i+" in makeOrd")},oFe=(r,e)=>{if(Pd(r.classes)!==Pd(e.classes)||r.skew!==e.skew||r.maxFontSize!==e.maxFontSize)return!1;if(r.classes.length===1){var n=r.classes[0];if(n==="mbin"||n==="mord")return!1}for(var i in r.style)if(r.style.hasOwnProperty(i)&&r.style[i]!==e.style[i])return!1;for(var o in e.style)if(e.style.hasOwnProperty(o)&&r.style[o]!==e.style[o])return!1;return!0},aFe=r=>{for(var e=0;e<r.length-1;e++){var n=r[e],i=r[e+1];n instanceof ts&&i instanceof ts&&oFe(n,i)&&(n.text+=i.text,n.height=Math.max(n.height,i.height),n.depth=Math.max(n.depth,i.depth),n.italic=i.italic,r.splice(e+1,1),e--)}return r},TO=function(e){for(var n=0,i=0,o=0,a=0;a<e.children.length;a++){var s=e.children[a];s.height>n&&(n=s.height),s.depth>i&&(i=s.depth),s.maxFontSize>o&&(o=s.maxFontSize)}e.height=n,e.depth=i,e.maxFontSize=o},ko=function(e,n,i,o){var a=new Av(e,n,i,o);return TO(a),a},bce=(r,e,n,i)=>new Av(r,e,n,i),sFe=function(e,n,i){var o=ko([e],[],n);return o.height=Math.max(i||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),o.style.borderBottomWidth=yt(o.height),o.maxFontSize=1,o},lFe=function(e,n,i,o){var a=new kO(e,n,i,o);return TO(a),a},vce=function(e){var n=new _v(e);return TO(n),n},cFe=function(e,n){return e instanceof _v?ko([],[e],n):e},uFe=function(e){if(e.positionType==="individualShift"){for(var n=e.children,i=[n[0]],o=-n[0].shift-n[0].elem.depth,a=o,s=1;s<n.length;s++){var l=-n[s].shift-a-n[s].elem.depth,c=l-(n[s-1].elem.height+n[s-1].elem.depth);a=a+l,i.push({type:"kern",size:c}),i.push(n[s])}return{children:i,depth:o}}var u;if(e.positionType==="top"){for(var d=e.positionData,h=0;h<e.children.length;h++){var f=e.children[h];d-=f.type==="kern"?f.size:f.elem.height+f.elem.depth}u=d}else if(e.positionType==="bottom")u=-e.positionData;else{var m=e.children[0];if(m.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-m.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-m.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},dFe=function(e,n){for(var{children:i,depth:o}=uFe(e),a=0,s=0;s<i.length;s++){var l=i[s];if(l.type==="elem"){var c=l.elem;a=Math.max(a,c.maxFontSize,c.height)}}a+=2;var u=ko(["pstrut"],[]);u.style.height=yt(a);for(var d=[],h=o,f=o,m=o,b=0;b<i.length;b++){var g=i[b];if(g.type==="kern")m+=g.size;else{var v=g.elem,x=g.wrapperClasses||[],w=g.wrapperStyle||{},k=ko(x,[u,v],void 0,w);k.style.top=yt(-a-m-v.depth),g.marginLeft&&(k.style.marginLeft=g.marginLeft),g.marginRight&&(k.style.marginRight=g.marginRight),d.push(k),m+=v.height+v.depth}h=Math.min(h,m),f=Math.max(f,m)}var T=ko(["vlist"],d);T.style.height=yt(f);var _;if(h<0){var D=ko([],[]),I=ko(["vlist"],[D]);I.style.height=yt(-h);var L=ko(["vlist-s"],[new ts("")]);_=[ko(["vlist-r"],[T,L]),ko(["vlist-r"],[I])]}else _=[ko(["vlist-r"],[T])];var O=ko(["vlist-t"],_);return _.length===2&&O.classes.push("vlist-t2"),O.height=f,O.depth=-h,O},hFe=(r,e)=>{var n=ko(["mspace"],[],e),i=Tr(r,e);return n.style.marginRight=yt(i),n},Hw=function(e,n,i){var o="";switch(e){case"amsrm":o="AMS";break;case"textrm":o="Main";break;case"textsf":o="SansSerif";break;case"texttt":o="Typewriter";break;default:o=e}var a;return n==="textbf"&&i==="textit"?a="BoldItalic":n==="textbf"?a="Bold":n==="textit"?a="Italic":a="Regular",o+"-"+a},xce={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},wce={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},fFe=function(e,n){var[i,o,a]=wce[e],s=new Id(i),l=new Kc([s],{width:yt(o),height:yt(a),style:"width:"+yt(o),viewBox:"0 0 "+1e3*o+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),c=bce(["overlay"],[l],n);return c.height=a,c.style.height=yt(a),c.style.width=yt(o),c},Fe={fontMap:xce,makeSymbol:bs,mathsym:nFe,makeSpan:ko,makeSvgSpan:bce,makeLineSpan:sFe,makeAnchor:lFe,makeFragment:vce,wrapFragment:cFe,makeVList:dFe,makeOrd:iFe,makeGlue:hFe,staticSvg:fFe,svgData:wce,tryCombineChars:aFe},Sr={number:3,unit:"mu"},$h={number:4,unit:"mu"},oc={number:5,unit:"mu"},pFe={mord:{mop:Sr,mbin:$h,mrel:oc,minner:Sr},mop:{mord:Sr,mop:Sr,mrel:oc,minner:Sr},mbin:{mord:$h,mop:$h,mopen:$h,minner:$h},mrel:{mord:oc,mop:oc,mopen:oc,minner:oc},mopen:{},mclose:{mop:Sr,mbin:$h,mrel:oc,minner:Sr},mpunct:{mord:Sr,mop:Sr,mrel:oc,mopen:Sr,mclose:Sr,mpunct:Sr,minner:Sr},minner:{mord:Sr,mop:Sr,mbin:$h,mrel:oc,mopen:Sr,mpunct:Sr,minner:Sr}},mFe={mord:{mop:Sr},mop:{mord:Sr,mop:Sr},mbin:{},mrel:{},mopen:{},mclose:{mop:Sr},mpunct:{},minner:{mop:Sr}},Sce={},d3={},h3={};function kt(r){for(var{type:e,names:n,props:i,handler:o,htmlBuilder:a,mathmlBuilder:s}=r,l={type:e,numArgs:i.numArgs,argTypes:i.argTypes,allowedInArgument:!!i.allowedInArgument,allowedInText:!!i.allowedInText,allowedInMath:i.allowedInMath===void 0?!0:i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,primitive:!!i.primitive,handler:o},c=0;c<n.length;++c)Sce[n[c]]=l;e&&(a&&(d3[e]=a),s&&(h3[e]=s))}function gp(r){var{type:e,htmlBuilder:n,mathmlBuilder:i}=r;kt({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:i})}var f3=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Ur=function(e){return e.type==="ordgroup"?e.body:[e]},Xc=Fe.makeSpan,gFe=["leftmost","mbin","mopen","mrel","mop","mpunct"],yFe=["rightmost","mrel","mclose","mpunct"],bFe={display:Vt.DISPLAY,text:Vt.TEXT,script:Vt.SCRIPT,scriptscript:Vt.SCRIPTSCRIPT},vFe={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},ti=function(e,n,i,o){o===void 0&&(o=[null,null]);for(var a=[],s=0;s<e.length;s++){var l=Mn(e[s],n);if(l instanceof _v){var c=l.children;a.push(...c)}else a.push(l)}if(Fe.tryCombineChars(a),!i)return a;var u=n;if(e.length===1){var d=e[0];d.type==="sizing"?u=n.havingSize(d.size):d.type==="styling"&&(u=n.havingStyle(bFe[d.style]))}var h=Xc([o[0]||"leftmost"],[],n),f=Xc([o[1]||"rightmost"],[],n),m=i==="root";return KV(a,(b,g)=>{var v=g.classes[0],x=b.classes[0];v==="mbin"&&Ft.contains(yFe,x)?g.classes[0]="mord":x==="mbin"&&Ft.contains(gFe,v)&&(b.classes[0]="mord")},{node:h},f,m),KV(a,(b,g)=>{var v=i9(g),x=i9(b),w=v&&x?b.hasClass("mtight")?mFe[v][x]:pFe[v][x]:null;if(w)return Fe.makeGlue(w,u)},{node:h},f,m),a},KV=function r(e,n,i,o,a){o&&e.push(o);for(var s=0;s<e.length;s++){var l=e[s],c=kce(l);if(c){r(c.children,n,i,null,a);continue}var u=!l.hasClass("mspace");if(u){var d=n(l,i.node);d&&(i.insertAfter?i.insertAfter(d):(e.unshift(d),s++))}u?i.node=l:a&&l.hasClass("newline")&&(i.node=Xc(["leftmost"])),i.insertAfter=(h=>f=>{e.splice(h+1,0,f),s++})(s)}o&&e.pop()},kce=function(e){return e instanceof _v||e instanceof kO||e instanceof Av&&e.hasClass("enclosing")?e:null},xFe=function r(e,n){var i=kce(e);if(i){var o=i.children;if(o.length){if(n==="right")return r(o[o.length-1],"right");if(n==="left")return r(o[0],"left")}}return e},i9=function(e,n){return e?(n&&(e=xFe(e,n)),vFe[e.classes[0]]||null):null},kb=function(e,n){var i=["nulldelimiter"].concat(e.baseSizingClasses());return Xc(n.concat(i))},Mn=function(e,n,i){if(!e)return Xc();if(d3[e.type]){var o=d3[e.type](e,n);if(i&&n.size!==i.size){o=Xc(n.sizingClasses(i),[o],n);var a=n.sizeMultiplier/i.sizeMultiplier;o.height*=a,o.depth*=a}return o}else throw new lt("Got group of unknown type: '"+e.type+"'")};function Ww(r,e){var n=Xc(["base"],r,e),i=Xc(["strut"]);return i.style.height=yt(n.height+n.depth),n.depth&&(i.style.verticalAlign=yt(-n.depth)),n.children.unshift(i),n}function o9(r,e){var n=null;r.length===1&&r[0].type==="tag"&&(n=r[0].tag,r=r[0].body);var i=ti(r,e,"root"),o;i.length===2&&i[1].hasClass("tag")&&(o=i.pop());for(var a=[],s=[],l=0;l<i.length;l++)if(s.push(i[l]),i[l].hasClass("mbin")||i[l].hasClass("mrel")||i[l].hasClass("allowbreak")){for(var c=!1;l<i.length-1&&i[l+1].hasClass("mspace")&&!i[l+1].hasClass("newline");)l++,s.push(i[l]),i[l].hasClass("nobreak")&&(c=!0);c||(a.push(Ww(s,e)),s=[])}else i[l].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(Ww(s,e)),s=[]),a.push(i[l]));s.length>0&&a.push(Ww(s,e));var u;n?(u=Ww(ti(n,e,!0)),u.classes=["tag"],a.push(u)):o&&a.push(o);var d=Xc(["katex-html"],a);if(d.setAttribute("aria-hidden","true"),u){var h=u.children[0];h.style.height=yt(d.height+d.depth),d.depth&&(h.style.verticalAlign=yt(-d.depth))}return d}function Tce(r){return new _v(r)}class oa{constructor(e,n,i){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=i||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=Pd(this.classes));for(var i=0;i<this.children.length;i++)if(this.children[i]instanceof cl&&this.children[i+1]instanceof cl){for(var o=this.children[i].toText()+this.children[++i].toText();this.children[i+1]instanceof cl;)o+=this.children[++i].toText();e.appendChild(new cl(o).toNode())}else e.appendChild(this.children[i].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=Ft.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+Ft.escape(Pd(this.classes))+'"'),e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}let cl=class{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Ft.escape(this.toText())}toText(){return this.text}};class wFe{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",yt(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+yt(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var ot={MathNode:oa,TextNode:cl,SpaceNode:wFe,newDocumentFragment:Tce},ns=function(e,n,i){return or[n][e]&&or[n][e].replace&&e.charCodeAt(0)!==55349&&!(yce.hasOwnProperty(e)&&i&&(i.fontFamily&&i.fontFamily.slice(4,6)==="tt"||i.font&&i.font.slice(4,6)==="tt"))&&(e=or[n][e].replace),new ot.TextNode(e)},EO=function(e){return e.length===1?e[0]:new ot.MathNode("mrow",e)},CO=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var i=n.font;if(!i||i==="mathnormal")return null;var o=e.mode;if(i==="mathit")return"italic";if(i==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(i==="mathbf")return"bold";if(i==="mathbb")return"double-struck";if(i==="mathsfit")return"sans-serif-italic";if(i==="mathfrak")return"fraktur";if(i==="mathscr"||i==="mathcal")return"script";if(i==="mathsf")return"sans-serif";if(i==="mathtt")return"monospace";var a=e.text;if(Ft.contains(["\\imath","\\jmath"],a))return null;or[o][a]&&or[o][a].replace&&(a=or[o][a].replace);var s=Fe.fontMap[i].fontName;return SO(a,s,o)?Fe.fontMap[i].variant:null};function UC(r){if(!r)return!1;if(r.type==="mi"&&r.children.length===1){var e=r.children[0];return e instanceof cl&&e.text==="."}else if(r.type==="mo"&&r.children.length===1&&r.getAttribute("separator")==="true"&&r.getAttribute("lspace")==="0em"&&r.getAttribute("rspace")==="0em"){var n=r.children[0];return n instanceof cl&&n.text===","}else return!1}var zo=function(e,n,i){if(e.length===1){var o=er(e[0],n);return i&&o instanceof oa&&o.type==="mo"&&(o.setAttribute("lspace","0em"),o.setAttribute("rspace","0em")),[o]}for(var a=[],s,l=0;l<e.length;l++){var c=er(e[l],n);if(c instanceof oa&&s instanceof oa){if(c.type==="mtext"&&s.type==="mtext"&&c.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...c.children);continue}else if(c.type==="mn"&&s.type==="mn"){s.children.push(...c.children);continue}else if(UC(c)&&s.type==="mn"){s.children.push(...c.children);continue}else if(c.type==="mn"&&UC(s))c.children=[...s.children,...c.children],a.pop();else if((c.type==="msup"||c.type==="msub")&&c.children.length>=1&&(s.type==="mn"||UC(s))){var u=c.children[0];u instanceof oa&&u.type==="mn"&&(u.children=[...s.children,...u.children],a.pop())}else if(s.type==="mi"&&s.children.length===1){var d=s.children[0];if(d instanceof cl&&d.text===""&&(c.type==="mo"||c.type==="mi"||c.type==="mn")){var h=c.children[0];h instanceof cl&&h.text.length>0&&(h.text=h.text.slice(0,1)+""+h.text.slice(1),a.pop())}}}a.push(c),s=c}return a},$d=function(e,n,i){return EO(zo(e,n,i))},er=function(e,n){if(!e)return new ot.MathNode("mrow");if(h3[e.type]){var i=h3[e.type](e,n);return i}else throw new lt("Got group of unknown type: '"+e.type+"'")};function XV(r,e,n,i,o){var a=zo(r,n),s;a.length===1&&a[0]instanceof oa&&Ft.contains(["mrow","mtable"],a[0].type)?s=a[0]:s=new ot.MathNode("mrow",a);var l=new ot.MathNode("annotation",[new ot.TextNode(e)]);l.setAttribute("encoding","application/x-tex");var c=new ot.MathNode("semantics",[s,l]),u=new ot.MathNode("math",[c]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),i&&u.setAttribute("display","block");var d=o?"katex":"katex-mathml";return Fe.makeSpan([d],[u])}var Ece=function(e){return new vc({style:e.displayMode?Vt.DISPLAY:Vt.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Cce=function(e,n){if(n.displayMode){var i=["katex-display"];n.leqno&&i.push("leqno"),n.fleqn&&i.push("fleqn"),e=Fe.makeSpan(i,[e])}return e},SFe=function(e,n,i){var o=Ece(i),a;if(i.output==="mathml")return XV(e,n,o,i.displayMode,!0);if(i.output==="html"){var s=o9(e,o);a=Fe.makeSpan(["katex"],[s])}else{var l=XV(e,n,o,i.displayMode,!1),c=o9(e,o);a=Fe.makeSpan(["katex"],[l,c])}return Cce(a,i)},kFe=function(e,n,i){var o=Ece(i),a=o9(e,o),s=Fe.makeSpan(["katex"],[a]);return Cce(s,i)},TFe={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},EFe=function(e){var n=new ot.MathNode("mo",[new ot.TextNode(TFe[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},CFe={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},_Fe=function(e){return e.type==="ordgroup"?e.body.length:1},AFe=function(e,n){function i(){var l=4e5,c=e.label.slice(1);if(Ft.contains(["widehat","widecheck","widetilde","utilde"],c)){var u=e,d=_Fe(u.base),h,f,m;if(d>5)c==="widehat"||c==="widecheck"?(h=420,l=2364,m=.42,f=c+"4"):(h=312,l=2340,m=.34,f="tilde4");else{var b=[1,1,2,2,3,3][d];c==="widehat"||c==="widecheck"?(l=[0,1062,2364,2364,2364][b],h=[0,239,300,360,420][b],m=[0,.24,.3,.3,.36,.42][b],f=c+b):(l=[0,600,1033,2339,2340][b],h=[0,260,286,306,312][b],m=[0,.26,.286,.3,.306,.34][b],f="tilde"+b)}var g=new Id(f),v=new Kc([g],{width:"100%",height:yt(m),viewBox:"0 0 "+l+" "+h,preserveAspectRatio:"none"});return{span:Fe.makeSvgSpan([],[v],n),minWidth:0,height:m}}else{var x=[],w=CFe[c],[k,T,_]=w,D=_/1e3,I=k.length,L,O;if(I===1){var W=w[3];L=["hide-tail"],O=[W]}else if(I===2)L=["halfarrow-left","halfarrow-right"],O=["xMinYMin","xMaxYMin"];else if(I===3)L=["brace-left","brace-center","brace-right"],O=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+I+" children.");for(var Z=0;Z<I;Z++){var $=new Id(k[Z]),F=new Kc([$],{width:"400em",height:yt(D),viewBox:"0 0 "+l+" "+_,preserveAspectRatio:O[Z]+" slice"}),A=Fe.makeSvgSpan([L[Z]],[F],n);if(I===1)return{span:A,minWidth:T,height:D};A.style.height=yt(D),x.push(A)}return{span:Fe.makeSpan(["stretchy"],x,n),minWidth:T,height:D}}}var{span:o,minWidth:a,height:s}=i();return o.height=s,o.style.height=yt(s),a>0&&(o.style.minWidth=yt(a)),o},DFe=function(e,n,i,o,a){var s,l=e.height+e.depth+i+o;if(/fbox|color|angl/.test(n)){if(s=Fe.makeSpan(["stretchy",n],[],a),n==="fbox"){var c=a.color&&a.getColor();c&&(s.style.borderColor=c)}}else{var u=[];/^[bx]cancel$/.test(n)&&u.push(new n9({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&u.push(new n9({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var d=new Kc(u,{width:"100%",height:yt(l)});s=Fe.makeSvgSpan([],[d],a)}return s.height=l,s.style.height=yt(l),s},Yc={encloseSpan:DFe,mathMLnode:EFe,svgSpan:AFe};function cn(r,e){if(!r||r.type!==e)throw new Error("Expected node of type "+e+", but got "+(r?"node of type "+r.type:String(r)));return r}function _O(r){var e=US(r);if(!e)throw new Error("Expected node of symbol group type, but got "+(r?"node of type "+r.type:String(r)));return e}function US(r){return r&&(r.type==="atom"||eFe.hasOwnProperty(r.type))?r:null}var AO=(r,e)=>{var n,i,o;r&&r.type==="supsub"?(i=cn(r.base,"accent"),n=i.base,r.base=n,o=Jje(Mn(r,e)),r.base=i):(i=cn(r,"accent"),n=i.base);var a=Mn(n,e.havingCrampedStyle()),s=i.isShifty&&Ft.isCharacterBox(n),l=0;if(s){var c=Ft.getBaseElem(n),u=Mn(c,e.havingCrampedStyle());l=FV(u).skew}var d=i.label==="\\c",h=d?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),f;if(i.isStretchy)f=Yc.svgSpan(i,e),f=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:f,wrapperClasses:["svg-align"],wrapperStyle:l>0?{width:"calc(100% - "+yt(2*l)+")",marginLeft:yt(2*l)}:void 0}]},e);else{var m,b;i.label==="\\vec"?(m=Fe.staticSvg("vec",e),b=Fe.svgData.vec[1]):(m=Fe.makeOrd({mode:i.mode,text:i.label},e,"textord"),m=FV(m),m.italic=0,b=m.width,d&&(h+=m.depth)),f=Fe.makeSpan(["accent-body"],[m]);var g=i.label==="\\textcircled";g&&(f.classes.push("accent-full"),h=a.height);var v=l;g||(v-=b/2),f.style.left=yt(v),i.label==="\\textcircled"&&(f.style.top=".2em"),f=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-h},{type:"elem",elem:f}]},e)}var x=Fe.makeSpan(["mord","accent"],[f],e);return o?(o.children[0]=x,o.height=Math.max(x.height,o.height),o.classes[0]="mord",o):x},_ce=(r,e)=>{var n=r.isStretchy?Yc.mathMLnode(r.label):new ot.MathNode("mo",[ns(r.label,r.mode)]),i=new ot.MathNode("mover",[er(r.base,e),n]);return i.setAttribute("accent","true"),i},MFe=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(r=>"\\"+r).join("|"));kt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(r,e)=>{var n=f3(e[0]),i=!MFe.test(r.funcName),o=!i||r.funcName==="\\widehat"||r.funcName==="\\widetilde"||r.funcName==="\\widecheck";return{type:"accent",mode:r.parser.mode,label:r.funcName,isStretchy:i,isShifty:o,base:n}},htmlBuilder:AO,mathmlBuilder:_ce});kt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(r,e)=>{var n=e[0],i=r.parser.mode;return i==="math"&&(r.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+r.funcName+" works only in text mode"),i="text"),{type:"accent",mode:i,label:r.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:AO,mathmlBuilder:_ce});kt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(r,e)=>{var{parser:n,funcName:i}=r,o=e[0];return{type:"accentUnder",mode:n.mode,label:i,base:o}},htmlBuilder:(r,e)=>{var n=Mn(r.base,e),i=Yc.svgSpan(r,e),o=r.label==="\\utilde"?.12:0,a=Fe.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:o},{type:"elem",elem:n}]},e);return Fe.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(r,e)=>{var n=Yc.mathMLnode(r.label),i=new ot.MathNode("munder",[er(r.base,e),n]);return i.setAttribute("accentunder","true"),i}});var Vw=r=>{var e=new ot.MathNode("mpadded",r?[r]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};kt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(r,e,n){var{parser:i,funcName:o}=r;return{type:"xArrow",mode:i.mode,label:o,body:e[0],below:n[0]}},htmlBuilder(r,e){var n=e.style,i=e.havingStyle(n.sup()),o=Fe.wrapFragment(Mn(r.body,i,e),e),a=r.label.slice(0,2)==="\\x"?"x":"cd";o.classes.push(a+"-arrow-pad");var s;r.below&&(i=e.havingStyle(n.sub()),s=Fe.wrapFragment(Mn(r.below,i,e),e),s.classes.push(a+"-arrow-pad"));var l=Yc.svgSpan(r,e),c=-e.fontMetrics().axisHeight+.5*l.height,u=-e.fontMetrics().axisHeight-.5*l.height-.111;(o.depth>.25||r.label==="\\xleftequilibrium")&&(u-=o.depth);var d;if(s){var h=-e.fontMetrics().axisHeight+s.height+.5*l.height+.111;d=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:u},{type:"elem",elem:l,shift:c},{type:"elem",elem:s,shift:h}]},e)}else d=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:u},{type:"elem",elem:l,shift:c}]},e);return d.children[0].children[0].children[1].classes.push("svg-align"),Fe.makeSpan(["mrel","x-arrow"],[d],e)},mathmlBuilder(r,e){var n=Yc.mathMLnode(r.label);n.setAttribute("minsize",r.label.charAt(0)==="x"?"1.75em":"3.0em");var i;if(r.body){var o=Vw(er(r.body,e));if(r.below){var a=Vw(er(r.below,e));i=new ot.MathNode("munderover",[n,a,o])}else i=new ot.MathNode("mover",[n,o])}else if(r.below){var s=Vw(er(r.below,e));i=new ot.MathNode("munder",[n,s])}else i=Vw(),i=new ot.MathNode("mover",[n,i]);return i}});var RFe=Fe.makeSpan;function Ace(r,e){var n=ti(r.body,e,!0);return RFe([r.mclass],n,e)}function Dce(r,e){var n,i=zo(r.body,e);return r.mclass==="minner"?n=new ot.MathNode("mpadded",i):r.mclass==="mord"?r.isCharacterBox?(n=i[0],n.type="mi"):n=new ot.MathNode("mi",i):(r.isCharacterBox?(n=i[0],n.type="mo"):n=new ot.MathNode("mo",i),r.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):r.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):r.mclass==="mopen"||r.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):r.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}kt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(r,e){var{parser:n,funcName:i}=r,o=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+i.slice(5),body:Ur(o),isCharacterBox:Ft.isCharacterBox(o)}},htmlBuilder:Ace,mathmlBuilder:Dce});var BS=r=>{var e=r.type==="ordgroup"&&r.body.length?r.body[0]:r;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};kt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(r,e){var{parser:n}=r;return{type:"mclass",mode:n.mode,mclass:BS(e[0]),body:Ur(e[1]),isCharacterBox:Ft.isCharacterBox(e[1])}}});kt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(r,e){var{parser:n,funcName:i}=r,o=e[1],a=e[0],s;i!=="\\stackrel"?s=BS(o):s="mrel";var l={type:"op",mode:o.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:i!=="\\stackrel",body:Ur(o)},c={type:"supsub",mode:a.mode,base:l,sup:i==="\\underset"?null:a,sub:i==="\\underset"?a:null};return{type:"mclass",mode:n.mode,mclass:s,body:[c],isCharacterBox:Ft.isCharacterBox(c)}},htmlBuilder:Ace,mathmlBuilder:Dce});kt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(r,e){var{parser:n}=r;return{type:"pmb",mode:n.mode,mclass:BS(e[0]),body:Ur(e[0])}},htmlBuilder(r,e){var n=ti(r.body,e,!0),i=Fe.makeSpan([r.mclass],n,e);return i.style.textShadow="0.02em 0.01em 0.04px",i},mathmlBuilder(r,e){var n=zo(r.body,e),i=new ot.MathNode("mstyle",n);return i.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),i}});var NFe={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},YV=()=>({type:"styling",body:[],mode:"math",style:"display"}),ZV=r=>r.type==="textord"&&r.text==="@",OFe=(r,e)=>(r.type==="mathord"||r.type==="atom")&&r.text===e;function PFe(r,e,n){var i=NFe[r];switch(i){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(i,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var o=n.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:i,mode:"math",family:"rel"},s=n.callFunction("\\Big",[a],[]),l=n.callFunction("\\\\cdright",[e[1]],[]),c={type:"ordgroup",mode:"math",body:[o,s,l]};return n.callFunction("\\\\cdparent",[c],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function IFe(r){var e=[];for(r.gullet.beginGroup(),r.gullet.macros.set("\\cr","\\\\\\relax"),r.gullet.beginGroup();;){e.push(r.parseExpression(!1,"\\\\")),r.gullet.endGroup(),r.gullet.beginGroup();var n=r.fetch().text;if(n==="&"||n==="\\\\")r.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new lt("Expected \\\\ or \\cr or \\end",r.nextToken)}for(var i=[],o=[i],a=0;a<e.length;a++){for(var s=e[a],l=YV(),c=0;c<s.length;c++)if(!ZV(s[c]))l.body.push(s[c]);else{i.push(l),c+=1;var u=_O(s[c]).text,d=new Array(2);if(d[0]={type:"ordgroup",mode:"math",body:[]},d[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var h=0;h<2;h++){for(var f=!0,m=c+1;m<s.length;m++){if(OFe(s[m],u)){f=!1,c=m;break}if(ZV(s[m]))throw new lt("Missing a "+u+" character to complete a CD arrow.",s[m]);d[h].body.push(s[m])}if(f)throw new lt("Missing a "+u+" character to complete a CD arrow.",s[c])}else throw new lt('Expected one of "<>AV=|." after @',s[c]);var b=PFe(u,d,r),g={type:"styling",body:[b],mode:"math",style:"display"};i.push(g),l=YV()}a%2===0?i.push(l):i.shift(),i=[],o.push(i)}r.gullet.endGroup(),r.gullet.endGroup();var v=new Array(o[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:o,arraystretch:1,addJot:!0,rowGaps:[null],cols:v,colSeparationType:"CD",hLinesBeforeRow:new Array(o.length+1).fill([])}}kt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(r,e){var{parser:n,funcName:i}=r;return{type:"cdlabel",mode:n.mode,side:i.slice(4),label:e[0]}},htmlBuilder(r,e){var n=e.havingStyle(e.style.sup()),i=Fe.wrapFragment(Mn(r.label,n,e),e);return i.classes.push("cd-label-"+r.side),i.style.bottom=yt(.8-i.depth),i.height=0,i.depth=0,i},mathmlBuilder(r,e){var n=new ot.MathNode("mrow",[er(r.label,e)]);return n=new ot.MathNode("mpadded",[n]),n.setAttribute("width","0"),r.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new ot.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});kt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(r,e){var{parser:n}=r;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(r,e){var n=Fe.wrapFragment(Mn(r.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(r,e){return new ot.MathNode("mrow",[er(r.fragment,e)])}});kt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(r,e){for(var{parser:n}=r,i=cn(e[0],"ordgroup"),o=i.body,a="",s=0;s<o.length;s++){var l=cn(o[s],"textord");a+=l.text}var c=parseInt(a),u;if(isNaN(c))throw new lt("\\@char has non-numeric argument "+a);if(c<0||c>=1114111)throw new lt("\\@char with invalid code point "+a);return c<=65535?u=String.fromCharCode(c):(c-=65536,u=String.fromCharCode((c>>10)+55296,(c&1023)+56320)),{type:"textord",mode:n.mode,text:u}}});var Mce=(r,e)=>{var n=ti(r.body,e.withColor(r.color),!1);return Fe.makeFragment(n)},Rce=(r,e)=>{var n=zo(r.body,e.withColor(r.color)),i=new ot.MathNode("mstyle",n);return i.setAttribute("mathcolor",r.color),i};kt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(r,e){var{parser:n}=r,i=cn(e[0],"color-token").color,o=e[1];return{type:"color",mode:n.mode,color:i,body:Ur(o)}},htmlBuilder:Mce,mathmlBuilder:Rce});kt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(r,e){var{parser:n,breakOnTokenText:i}=r,o=cn(e[0],"color-token").color;n.gullet.macros.set("\\current@color",o);var a=n.parseExpression(!0,i);return{type:"color",mode:n.mode,color:o,body:a}},htmlBuilder:Mce,mathmlBuilder:Rce});kt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(r,e,n){var{parser:i}=r,o=i.gullet.future().text==="["?i.parseSizeGroup(!0):null,a=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:i.mode,newLine:a,size:o&&cn(o,"size").value}},htmlBuilder(r,e){var n=Fe.makeSpan(["mspace"],[],e);return r.newLine&&(n.classes.push("newline"),r.size&&(n.style.marginTop=yt(Tr(r.size,e)))),n},mathmlBuilder(r,e){var n=new ot.MathNode("mspace");return r.newLine&&(n.setAttribute("linebreak","newline"),r.size&&n.setAttribute("height",yt(Tr(r.size,e)))),n}});var a9={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Nce=r=>{var e=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new lt("Expected a control sequence",r);return e},$Fe=r=>{var e=r.gullet.popToken();return e.text==="="&&(e=r.gullet.popToken(),e.text===" "&&(e=r.gullet.popToken())),e},Oce=(r,e,n,i)=>{var o=r.gullet.macros.get(n.text);o==null&&(n.noexpand=!0,o={tokens:[n],numArgs:0,unexpandable:!r.gullet.isExpandable(n.text)}),r.gullet.macros.set(e,o,i)};kt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(r){var{parser:e,funcName:n}=r;e.consumeSpaces();var i=e.fetch();if(a9[i.text])return(n==="\\global"||n==="\\\\globallong")&&(i.text=a9[i.text]),cn(e.parseFunction(),"internal");throw new lt("Invalid token after macro prefix",i)}});kt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:e,funcName:n}=r,i=e.gullet.popToken(),o=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(o))throw new lt("Expected a control sequence",i);for(var a=0,s,l=[[]];e.gullet.future().text!=="{";)if(i=e.gullet.popToken(),i.text==="#"){if(e.gullet.future().text==="{"){s=e.gullet.future(),l[a].push("{");break}if(i=e.gullet.popToken(),!/^[1-9]$/.test(i.text))throw new lt('Invalid argument number "'+i.text+'"');if(parseInt(i.text)!==a+1)throw new lt('Argument number "'+i.text+'" out of order');a++,l.push([])}else{if(i.text==="EOF")throw new lt("Expected a macro definition");l[a].push(i.text)}var{tokens:c}=e.gullet.consumeArg();return s&&c.unshift(s),(n==="\\edef"||n==="\\xdef")&&(c=e.gullet.expandTokens(c),c.reverse()),e.gullet.macros.set(o,{tokens:c,numArgs:a,delimiters:l},n===a9[n]),{type:"internal",mode:e.mode}}});kt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:e,funcName:n}=r,i=Nce(e.gullet.popToken());e.gullet.consumeSpaces();var o=$Fe(e);return Oce(e,i,o,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});kt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:e,funcName:n}=r,i=Nce(e.gullet.popToken()),o=e.gullet.popToken(),a=e.gullet.popToken();return Oce(e,i,a,n==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(o),{type:"internal",mode:e.mode}}});var my=function(e,n,i){var o=or.math[e]&&or.math[e].replace,a=SO(o||e,n,i);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return a},DO=function(e,n,i,o){var a=i.havingBaseStyle(n),s=Fe.makeSpan(o.concat(a.sizingClasses(i)),[e],i),l=a.sizeMultiplier/i.sizeMultiplier;return s.height*=l,s.depth*=l,s.maxFontSize=a.sizeMultiplier,s},Pce=function(e,n,i){var o=n.havingBaseStyle(i),a=(1-n.sizeMultiplier/o.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=yt(a),e.height-=a,e.depth+=a},zFe=function(e,n,i,o,a,s){var l=Fe.makeSymbol(e,"Main-Regular",a,o),c=DO(l,n,o,s);return i&&Pce(c,o,n),c},LFe=function(e,n,i,o){return Fe.makeSymbol(e,"Size"+n+"-Regular",i,o)},Ice=function(e,n,i,o,a,s){var l=LFe(e,n,a,o),c=DO(Fe.makeSpan(["delimsizing","size"+n],[l],o),Vt.TEXT,o,s);return i&&Pce(c,o,Vt.TEXT),c},BC=function(e,n,i){var o;n==="Size1-Regular"?o="delim-size1":o="delim-size4";var a=Fe.makeSpan(["delimsizinginner",o],[Fe.makeSpan([],[Fe.makeSymbol(e,n,i)])]);return{type:"elem",elem:a}},jC=function(e,n,i){var o=ll["Size4-Regular"][e.charCodeAt(0)]?ll["Size4-Regular"][e.charCodeAt(0)][4]:ll["Size1-Regular"][e.charCodeAt(0)][4],a=new Id("inner",Wje(e,Math.round(1e3*n))),s=new Kc([a],{width:yt(o),height:yt(n),style:"width:"+yt(o),viewBox:"0 0 "+1e3*o+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),l=Fe.makeSvgSpan([],[s],i);return l.height=n,l.style.height=yt(n),l.style.width=yt(o),{type:"elem",elem:l}},s9=.008,qw={type:"kern",size:-1*s9},UFe=["|","\\lvert","\\rvert","\\vert"],BFe=["\\|","\\lVert","\\rVert","\\Vert"],$ce=function(e,n,i,o,a,s){var l,c,u,d,h="",f=0;l=u=d=e,c=null;var m="Size1-Regular";e==="\\uparrow"?u=d="":e==="\\Uparrow"?u=d="":e==="\\downarrow"?l=u="":e==="\\Downarrow"?l=u="":e==="\\updownarrow"?(l="\\uparrow",u="",d="\\downarrow"):e==="\\Updownarrow"?(l="\\Uparrow",u="",d="\\Downarrow"):Ft.contains(UFe,e)?(u="",h="vert",f=333):Ft.contains(BFe,e)?(u="",h="doublevert",f=556):e==="["||e==="\\lbrack"?(l="",u="",d="",m="Size4-Regular",h="lbrack",f=667):e==="]"||e==="\\rbrack"?(l="",u="",d="",m="Size4-Regular",h="rbrack",f=667):e==="\\lfloor"||e===""?(u=l="",d="",m="Size4-Regular",h="lfloor",f=667):e==="\\lceil"||e===""?(l="",u=d="",m="Size4-Regular",h="lceil",f=667):e==="\\rfloor"||e===""?(u=l="",d="",m="Size4-Regular",h="rfloor",f=667):e==="\\rceil"||e===""?(l="",u=d="",m="Size4-Regular",h="rceil",f=667):e==="("||e==="\\lparen"?(l="",u="",d="",m="Size4-Regular",h="lparen",f=875):e===")"||e==="\\rparen"?(l="",u="",d="",m="Size4-Regular",h="rparen",f=875):e==="\\{"||e==="\\lbrace"?(l="",c="",d="",u="",m="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(l="",c="",d="",u="",m="Size4-Regular"):e==="\\lgroup"||e===""?(l="",d="",u="",m="Size4-Regular"):e==="\\rgroup"||e===""?(l="",d="",u="",m="Size4-Regular"):e==="\\lmoustache"||e===""?(l="",d="",u="",m="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(l="",d="",u="",m="Size4-Regular");var b=my(l,m,a),g=b.height+b.depth,v=my(u,m,a),x=v.height+v.depth,w=my(d,m,a),k=w.height+w.depth,T=0,_=1;if(c!==null){var D=my(c,m,a);T=D.height+D.depth,_=2}var I=g+k+T,L=Math.max(0,Math.ceil((n-I)/(_*x))),O=I+L*_*x,W=o.fontMetrics().axisHeight;i&&(W*=o.sizeMultiplier);var Z=O/2-W,$=[];if(h.length>0){var F=O-g-k,A=Math.round(O*1e3),Q=Vje(h,Math.round(F*1e3)),H=new Id(h,Q),G=(f/1e3).toFixed(3)+"em",ne=(A/1e3).toFixed(3)+"em",J=new Kc([H],{width:G,height:ne,viewBox:"0 0 "+f+" "+A}),ee=Fe.makeSvgSpan([],[J],o);ee.height=A/1e3,ee.style.width=G,ee.style.height=ne,$.push({type:"elem",elem:ee})}else{if($.push(BC(d,m,a)),$.push(qw),c===null){var X=O-g-k+2*s9;$.push(jC(u,X,o))}else{var j=(O-g-k-T)/2+2*s9;$.push(jC(u,j,o)),$.push(qw),$.push(BC(c,m,a)),$.push(qw),$.push(jC(u,j,o))}$.push(qw),$.push(BC(l,m,a))}var ae=o.havingBaseStyle(Vt.TEXT),re=Fe.makeVList({positionType:"bottom",positionData:Z,children:$},ae);return DO(Fe.makeSpan(["delimsizing","mult"],[re],ae),Vt.TEXT,o,s)},FC=80,HC=.08,WC=function(e,n,i,o,a){var s=Hje(e,o,i),l=new Id(e,s),c=new Kc([l],{width:"400em",height:yt(n),viewBox:"0 0 400000 "+i,preserveAspectRatio:"xMinYMin slice"});return Fe.makeSvgSpan(["hide-tail"],[c],a)},jFe=function(e,n){var i=n.havingBaseSizing(),o=Bce("\\surd",e*i.sizeMultiplier,Uce,i),a=i.sizeMultiplier,s=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),l,c=0,u=0,d=0,h;return o.type==="small"?(d=1e3+1e3*s+FC,e<1?a=1:e<1.4&&(a=.7),c=(1+s+HC)/a,u=(1+s)/a,l=WC("sqrtMain",c,d,s,n),l.style.minWidth="0.853em",h=.833/a):o.type==="large"?(d=(1e3+FC)*Uy[o.size],u=(Uy[o.size]+s)/a,c=(Uy[o.size]+s+HC)/a,l=WC("sqrtSize"+o.size,c,d,s,n),l.style.minWidth="1.02em",h=1/a):(c=e+s+HC,u=e+s,d=Math.floor(1e3*e+s)+FC,l=WC("sqrtTall",c,d,s,n),l.style.minWidth="0.742em",h=1.056),l.height=u,l.style.height=yt(c),{span:l,advanceWidth:h,ruleWidth:(n.fontMetrics().sqrtRuleThickness+s)*a}},zce=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],FFe=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],Lce=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Uy=[0,1.2,1.8,2.4,3],HFe=function(e,n,i,o,a){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),Ft.contains(zce,e)||Ft.contains(Lce,e))return Ice(e,n,!1,i,o,a);if(Ft.contains(FFe,e))return $ce(e,Uy[n],!1,i,o,a);throw new lt("Illegal delimiter: '"+e+"'")},WFe=[{type:"small",style:Vt.SCRIPTSCRIPT},{type:"small",style:Vt.SCRIPT},{type:"small",style:Vt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],VFe=[{type:"small",style:Vt.SCRIPTSCRIPT},{type:"small",style:Vt.SCRIPT},{type:"small",style:Vt.TEXT},{type:"stack"}],Uce=[{type:"small",style:Vt.SCRIPTSCRIPT},{type:"small",style:Vt.SCRIPT},{type:"small",style:Vt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],qFe=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Bce=function(e,n,i,o){for(var a=Math.min(2,3-o.style.size),s=a;s<i.length&&i[s].type!=="stack";s++){var l=my(e,qFe(i[s]),"math"),c=l.height+l.depth;if(i[s].type==="small"){var u=o.havingBaseStyle(i[s].style);c*=u.sizeMultiplier}if(c>n)return i[s]}return i[i.length-1]},jce=function(e,n,i,o,a,s){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var l;Ft.contains(Lce,e)?l=WFe:Ft.contains(zce,e)?l=Uce:l=VFe;var c=Bce(e,n,l,o);return c.type==="small"?zFe(e,c.style,i,o,a,s):c.type==="large"?Ice(e,c.size,i,o,a,s):$ce(e,n,i,o,a,s)},GFe=function(e,n,i,o,a,s){var l=o.fontMetrics().axisHeight*o.sizeMultiplier,c=901,u=5/o.fontMetrics().ptPerEm,d=Math.max(n-l,i+l),h=Math.max(d/500*c,2*d-u);return jce(e,h,!0,o,a,s)},Lc={sqrtImage:jFe,sizedDelim:HFe,sizeToMaxHeight:Uy,customSizedDelim:jce,leftRightDelim:GFe},JV={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},KFe=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function jS(r,e){var n=US(r);if(n&&Ft.contains(KFe,n.text))return n;throw n?new lt("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",r):new lt("Invalid delimiter type '"+r.type+"'",r)}kt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(r,e)=>{var n=jS(e[0],r);return{type:"delimsizing",mode:r.parser.mode,size:JV[r.funcName].size,mclass:JV[r.funcName].mclass,delim:n.text}},htmlBuilder:(r,e)=>r.delim==="."?Fe.makeSpan([r.mclass]):Lc.sizedDelim(r.delim,r.size,e,r.mode,[r.mclass]),mathmlBuilder:r=>{var e=[];r.delim!=="."&&e.push(ns(r.delim,r.mode));var n=new ot.MathNode("mo",e);r.mclass==="mopen"||r.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var i=yt(Lc.sizeToMaxHeight[r.size]);return n.setAttribute("minsize",i),n.setAttribute("maxsize",i),n}});function QV(r){if(!r.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}kt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(r,e)=>{var n=r.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new lt("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:r.parser.mode,delim:jS(e[0],r).text,color:n}}});kt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(r,e)=>{var n=jS(e[0],r),i=r.parser;++i.leftrightDepth;var o=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);var a=cn(i.parseFunction(),"leftright-right");return{type:"leftright",mode:i.mode,body:o,left:n.text,right:a.delim,rightColor:a.color}},htmlBuilder:(r,e)=>{QV(r);for(var n=ti(r.body,e,!0,["mopen","mclose"]),i=0,o=0,a=!1,s=0;s<n.length;s++)n[s].isMiddle?a=!0:(i=Math.max(n[s].height,i),o=Math.max(n[s].depth,o));i*=e.sizeMultiplier,o*=e.sizeMultiplier;var l;if(r.left==="."?l=kb(e,["mopen"]):l=Lc.leftRightDelim(r.left,i,o,e,r.mode,["mopen"]),n.unshift(l),a)for(var c=1;c<n.length;c++){var u=n[c],d=u.isMiddle;d&&(n[c]=Lc.leftRightDelim(d.delim,i,o,d.options,r.mode,[]))}var h;if(r.right===".")h=kb(e,["mclose"]);else{var f=r.rightColor?e.withColor(r.rightColor):e;h=Lc.leftRightDelim(r.right,i,o,f,r.mode,["mclose"])}return n.push(h),Fe.makeSpan(["minner"],n,e)},mathmlBuilder:(r,e)=>{QV(r);var n=zo(r.body,e);if(r.left!=="."){var i=new ot.MathNode("mo",[ns(r.left,r.mode)]);i.setAttribute("fence","true"),n.unshift(i)}if(r.right!=="."){var o=new ot.MathNode("mo",[ns(r.right,r.mode)]);o.setAttribute("fence","true"),r.rightColor&&o.setAttribute("mathcolor",r.rightColor),n.push(o)}return EO(n)}});kt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(r,e)=>{var n=jS(e[0],r);if(!r.parser.leftrightDepth)throw new lt("\\middle without preceding \\left",n);return{type:"middle",mode:r.parser.mode,delim:n.text}},htmlBuilder:(r,e)=>{var n;if(r.delim===".")n=kb(e,[]);else{n=Lc.sizedDelim(r.delim,1,e,r.mode,[]);var i={delim:r.delim,options:e};n.isMiddle=i}return n},mathmlBuilder:(r,e)=>{var n=r.delim==="\\vert"||r.delim==="|"?ns("|","text"):ns(r.delim,r.mode),i=new ot.MathNode("mo",[n]);return i.setAttribute("fence","true"),i.setAttribute("lspace","0.05em"),i.setAttribute("rspace","0.05em"),i}});var MO=(r,e)=>{var n=Fe.wrapFragment(Mn(r.body,e),e),i=r.label.slice(1),o=e.sizeMultiplier,a,s=0,l=Ft.isCharacterBox(r.body);if(i==="sout")a=Fe.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/o,s=-.5*e.fontMetrics().xHeight;else if(i==="phase"){var c=Tr({number:.6,unit:"pt"},e),u=Tr({number:.35,unit:"ex"},e),d=e.havingBaseSizing();o=o/d.sizeMultiplier;var h=n.height+n.depth+c+u;n.style.paddingLeft=yt(h/2+c);var f=Math.floor(1e3*h*o),m=jje(f),b=new Kc([new Id("phase",m)],{width:"400em",height:yt(f/1e3),viewBox:"0 0 400000 "+f,preserveAspectRatio:"xMinYMin slice"});a=Fe.makeSvgSpan(["hide-tail"],[b],e),a.style.height=yt(h),s=n.depth+c+u}else{/cancel/.test(i)?l||n.classes.push("cancel-pad"):i==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var g=0,v=0,x=0;/box/.test(i)?(x=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),g=e.fontMetrics().fboxsep+(i==="colorbox"?0:x),v=g):i==="angl"?(x=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),g=4*x,v=Math.max(0,.25-n.depth)):(g=l?.2:0,v=g),a=Yc.encloseSpan(n,i,g,v,e),/fbox|boxed|fcolorbox/.test(i)?(a.style.borderStyle="solid",a.style.borderWidth=yt(x)):i==="angl"&&x!==.049&&(a.style.borderTopWidth=yt(x),a.style.borderRightWidth=yt(x)),s=n.depth+v,r.backgroundColor&&(a.style.backgroundColor=r.backgroundColor,r.borderColor&&(a.style.borderColor=r.borderColor))}var w;if(r.backgroundColor)w=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:n,shift:0}]},e);else{var k=/cancel|phase/.test(i)?["svg-align"]:[];w=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:k}]},e)}return/cancel/.test(i)&&(w.height=n.height,w.depth=n.depth),/cancel/.test(i)&&!l?Fe.makeSpan(["mord","cancel-lap"],[w],e):Fe.makeSpan(["mord"],[w],e)},RO=(r,e)=>{var n=0,i=new ot.MathNode(r.label.indexOf("colorbox")>-1?"mpadded":"menclose",[er(r.body,e)]);switch(r.label){case"\\cancel":i.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":i.setAttribute("notation","downdiagonalstrike");break;case"\\phase":i.setAttribute("notation","phasorangle");break;case"\\sout":i.setAttribute("notation","horizontalstrike");break;case"\\fbox":i.setAttribute("notation","box");break;case"\\angl":i.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,i.setAttribute("width","+"+2*n+"pt"),i.setAttribute("height","+"+2*n+"pt"),i.setAttribute("lspace",n+"pt"),i.setAttribute("voffset",n+"pt"),r.label==="\\fcolorbox"){var o=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);i.setAttribute("style","border: "+o+"em solid "+String(r.borderColor))}break;case"\\xcancel":i.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return r.backgroundColor&&i.setAttribute("mathbackground",r.backgroundColor),i};kt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(r,e,n){var{parser:i,funcName:o}=r,a=cn(e[0],"color-token").color,s=e[1];return{type:"enclose",mode:i.mode,label:o,backgroundColor:a,body:s}},htmlBuilder:MO,mathmlBuilder:RO});kt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(r,e,n){var{parser:i,funcName:o}=r,a=cn(e[0],"color-token").color,s=cn(e[1],"color-token").color,l=e[2];return{type:"enclose",mode:i.mode,label:o,backgroundColor:s,borderColor:a,body:l}},htmlBuilder:MO,mathmlBuilder:RO});kt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(r,e){var{parser:n}=r;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});kt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(r,e){var{parser:n,funcName:i}=r,o=e[0];return{type:"enclose",mode:n.mode,label:i,body:o}},htmlBuilder:MO,mathmlBuilder:RO});kt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(r,e){var{parser:n}=r;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var Fce={};function Ol(r){for(var{type:e,names:n,props:i,handler:o,htmlBuilder:a,mathmlBuilder:s}=r,l={type:e,numArgs:i.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:o},c=0;c<n.length;++c)Fce[n[c]]=l;a&&(d3[e]=a),s&&(h3[e]=s)}var Hce={};function ke(r,e){Hce[r]=e}function eq(r){var e=[];r.consumeSpaces();var n=r.fetch().text;for(n==="\\relax"&&(r.consume(),r.consumeSpaces(),n=r.fetch().text);n==="\\hline"||n==="\\hdashline";)r.consume(),e.push(n==="\\hdashline"),r.consumeSpaces(),n=r.fetch().text;return e}var FS=r=>{var e=r.parser.settings;if(!e.displayMode)throw new lt("{"+r.envName+"} can be used only in display mode.")};function NO(r){if(r.indexOf("ed")===-1)return r.indexOf("*")===-1}function nh(r,e,n){var{hskipBeforeAndAfter:i,addJot:o,cols:a,arraystretch:s,colSeparationType:l,autoTag:c,singleRow:u,emptySingleRow:d,maxNumCols:h,leqno:f}=e;if(r.gullet.beginGroup(),u||r.gullet.macros.set("\\cr","\\\\\\relax"),!s){var m=r.gullet.expandMacroAsText("\\arraystretch");if(m==null)s=1;else if(s=parseFloat(m),!s||s<0)throw new lt("Invalid \\arraystretch: "+m)}r.gullet.beginGroup();var b=[],g=[b],v=[],x=[],w=c!=null?[]:void 0;function k(){c&&r.gullet.macros.set("\\@eqnsw","1",!0)}function T(){w&&(r.gullet.macros.get("\\df@tag")?(w.push(r.subparse([new Za("\\df@tag")])),r.gullet.macros.set("\\df@tag",void 0,!0)):w.push(!!c&&r.gullet.macros.get("\\@eqnsw")==="1"))}for(k(),x.push(eq(r));;){var _=r.parseExpression(!1,u?"\\end":"\\\\");r.gullet.endGroup(),r.gullet.beginGroup(),_={type:"ordgroup",mode:r.mode,body:_},n&&(_={type:"styling",mode:r.mode,style:n,body:[_]}),b.push(_);var D=r.fetch().text;if(D==="&"){if(h&&b.length===h){if(u||l)throw new lt("Too many tab characters: &",r.nextToken);r.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}r.consume()}else if(D==="\\end"){T(),b.length===1&&_.type==="styling"&&_.body[0].body.length===0&&(g.length>1||!d)&&g.pop(),x.length<g.length+1&&x.push([]);break}else if(D==="\\\\"){r.consume();var I=void 0;r.gullet.future().text!==" "&&(I=r.parseSizeGroup(!0)),v.push(I?I.value:null),T(),x.push(eq(r)),b=[],g.push(b),k()}else throw new lt("Expected & or \\\\ or \\cr or \\end",r.nextToken)}return r.gullet.endGroup(),r.gullet.endGroup(),{type:"array",mode:r.mode,addJot:o,arraystretch:s,body:g,cols:a,rowGaps:v,hskipBeforeAndAfter:i,hLinesBeforeRow:x,colSeparationType:l,tags:w,leqno:f}}function OO(r){return r.slice(0,1)==="d"?"display":"text"}var Pl=function(e,n){var i,o,a=e.body.length,s=e.hLinesBeforeRow,l=0,c=new Array(a),u=[],d=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),h=1/n.fontMetrics().ptPerEm,f=5*h;if(e.colSeparationType&&e.colSeparationType==="small"){var m=n.havingStyle(Vt.SCRIPT).sizeMultiplier;f=.2778*(m/n.sizeMultiplier)}var b=e.colSeparationType==="CD"?Tr({number:3,unit:"ex"},n):12*h,g=3*h,v=e.arraystretch*b,x=.7*v,w=.3*v,k=0;function T(N){for(var B=0;B<N.length;++B)B>0&&(k+=.25),u.push({pos:k,isDashed:N[B]})}for(T(s[0]),i=0;i<e.body.length;++i){var _=e.body[i],D=x,I=w;l<_.length&&(l=_.length);var L=new Array(_.length);for(o=0;o<_.length;++o){var O=Mn(_[o],n);I<O.depth&&(I=O.depth),D<O.height&&(D=O.height),L[o]=O}var W=e.rowGaps[i],Z=0;W&&(Z=Tr(W,n),Z>0&&(Z+=w,I<Z&&(I=Z),Z=0)),e.addJot&&(I+=g),L.height=D,L.depth=I,k+=D,L.pos=k,k+=I+Z,c[i]=L,T(s[i+1])}var $=k/2+n.fontMetrics().axisHeight,F=e.cols||[],A=[],Q,H,G=[];if(e.tags&&e.tags.some(N=>N))for(i=0;i<a;++i){var ne=c[i],J=ne.pos-$,ee=e.tags[i],X=void 0;ee===!0?X=Fe.makeSpan(["eqn-num"],[],n):ee===!1?X=Fe.makeSpan([],[],n):X=Fe.makeSpan([],ti(ee,n,!0),n),X.depth=ne.depth,X.height=ne.height,G.push({type:"elem",elem:X,shift:J})}for(o=0,H=0;o<l||H<F.length;++o,++H){for(var j=F[H]||{},ae=!0;j.type==="separator";){if(ae||(Q=Fe.makeSpan(["arraycolsep"],[]),Q.style.width=yt(n.fontMetrics().doubleRuleSep),A.push(Q)),j.separator==="|"||j.separator===":"){var re=j.separator==="|"?"solid":"dashed",de=Fe.makeSpan(["vertical-separator"],[],n);de.style.height=yt(k),de.style.borderRightWidth=yt(d),de.style.borderRightStyle=re,de.style.margin="0 "+yt(-d/2);var me=k-$;me&&(de.style.verticalAlign=yt(-me)),A.push(de)}else throw new lt("Invalid separator type: "+j.separator);H++,j=F[H]||{},ae=!1}if(!(o>=l)){var K=void 0;(o>0||e.hskipBeforeAndAfter)&&(K=Ft.deflt(j.pregap,f),K!==0&&(Q=Fe.makeSpan(["arraycolsep"],[]),Q.style.width=yt(K),A.push(Q)));var q=[];for(i=0;i<a;++i){var be=c[i],pe=be[o];if(pe){var ie=be.pos-$;pe.depth=be.depth,pe.height=be.height,q.push({type:"elem",elem:pe,shift:ie})}}q=Fe.makeVList({positionType:"individualShift",children:q},n),q=Fe.makeSpan(["col-align-"+(j.align||"c")],[q]),A.push(q),(o<l-1||e.hskipBeforeAndAfter)&&(K=Ft.deflt(j.postgap,f),K!==0&&(Q=Fe.makeSpan(["arraycolsep"],[]),Q.style.width=yt(K),A.push(Q)))}}if(c=Fe.makeSpan(["mtable"],A),u.length>0){for(var le=Fe.makeLineSpan("hline",n,d),Ee=Fe.makeLineSpan("hdashline",n,d),M=[{type:"elem",elem:c,shift:0}];u.length>0;){var he=u.pop(),V=he.pos-$;he.isDashed?M.push({type:"elem",elem:Ee,shift:V}):M.push({type:"elem",elem:le,shift:V})}c=Fe.makeVList({positionType:"individualShift",children:M},n)}if(G.length===0)return Fe.makeSpan(["mord"],[c],n);var R=Fe.makeVList({positionType:"individualShift",children:G},n);return R=Fe.makeSpan(["tag"],[R],n),Fe.makeFragment([c,R])},XFe={c:"center ",l:"left ",r:"right "},Il=function(e,n){for(var i=[],o=new ot.MathNode("mtd",[],["mtr-glue"]),a=new ot.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<e.body.length;s++){for(var l=e.body[s],c=[],u=0;u<l.length;u++)c.push(new ot.MathNode("mtd",[er(l[u],n)]));e.tags&&e.tags[s]&&(c.unshift(o),c.push(o),e.leqno?c.unshift(a):c.push(a)),i.push(new ot.MathNode("mtr",c))}var d=new ot.MathNode("mtable",i),h=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);d.setAttribute("rowspacing",yt(h));var f="",m="";if(e.cols&&e.cols.length>0){var b=e.cols,g="",v=!1,x=0,w=b.length;b[0].type==="separator"&&(f+="top ",x=1),b[b.length-1].type==="separator"&&(f+="bottom ",w-=1);for(var k=x;k<w;k++)b[k].type==="align"?(m+=XFe[b[k].align],v&&(g+="none "),v=!0):b[k].type==="separator"&&v&&(g+=b[k].separator==="|"?"solid ":"dashed ",v=!1);d.setAttribute("columnalign",m.trim()),/[sd]/.test(g)&&d.setAttribute("columnlines",g.trim())}if(e.colSeparationType==="align"){for(var T=e.cols||[],_="",D=1;D<T.length;D++)_+=D%2?"0em ":"1em ";d.setAttribute("columnspacing",_.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?d.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?d.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?d.setAttribute("columnspacing","0.5em"):d.setAttribute("columnspacing","1em");var I="",L=e.hLinesBeforeRow;f+=L[0].length>0?"left ":"",f+=L[L.length-1].length>0?"right ":"";for(var O=1;O<L.length-1;O++)I+=L[O].length===0?"none ":L[O][0]?"dashed ":"solid ";return/[sd]/.test(I)&&d.setAttribute("rowlines",I.trim()),f!==""&&(d=new ot.MathNode("menclose",[d]),d.setAttribute("notation",f.trim())),e.arraystretch&&e.arraystretch<1&&(d=new ot.MathNode("mstyle",[d]),d.setAttribute("scriptlevel","1")),d},Wce=function(e,n){e.envName.indexOf("ed")===-1&&FS(e);var i=[],o=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",s=nh(e.parser,{cols:i,addJot:!0,autoTag:a?void 0:NO(e.envName),emptySingleRow:!0,colSeparationType:o,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),l,c=0,u={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var d="",h=0;h<n[0].body.length;h++){var f=cn(n[0].body[h],"textord");d+=f.text}l=Number(d),c=l*2}var m=!c;s.body.forEach(function(x){for(var w=1;w<x.length;w+=2){var k=cn(x[w],"styling"),T=cn(k.body[0],"ordgroup");T.body.unshift(u)}if(m)c<x.length&&(c=x.length);else{var _=x.length/2;if(l<_)throw new lt("Too many math in a row: "+("expected "+l+", but got "+_),x[0])}});for(var b=0;b<c;++b){var g="r",v=0;b%2===1?g="l":b>0&&m&&(v=1),i[b]={type:"align",align:g,pregap:v,postgap:0}}return s.colSeparationType=m?"align":"alignat",s};Ol({type:"array",names:["array","darray"],props:{numArgs:1},handler(r,e){var n=US(e[0]),i=n?[e[0]]:cn(e[0],"ordgroup").body,o=i.map(function(s){var l=_O(s),c=l.text;if("lcr".indexOf(c)!==-1)return{type:"align",align:c};if(c==="|")return{type:"separator",separator:"|"};if(c===":")return{type:"separator",separator:":"};throw new lt("Unknown column alignment: "+c,s)}),a={cols:o,hskipBeforeAndAfter:!0,maxNumCols:o.length};return nh(r.parser,a,OO(r.envName))},htmlBuilder:Pl,mathmlBuilder:Il});Ol({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(r){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[r.envName.replace("*","")],n="c",i={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(r.envName.charAt(r.envName.length-1)==="*"){var o=r.parser;if(o.consumeSpaces(),o.fetch().text==="["){if(o.consume(),o.consumeSpaces(),n=o.fetch().text,"lcr".indexOf(n)===-1)throw new lt("Expected l or c or r",o.nextToken);o.consume(),o.consumeSpaces(),o.expect("]"),o.consume(),i.cols=[{type:"align",align:n}]}}var a=nh(r.parser,i,OO(r.envName)),s=Math.max(0,...a.body.map(l=>l.length));return a.cols=new Array(s).fill({type:"align",align:n}),e?{type:"leftright",mode:r.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:Pl,mathmlBuilder:Il});Ol({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(r){var e={arraystretch:.5},n=nh(r.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:Pl,mathmlBuilder:Il});Ol({type:"array",names:["subarray"],props:{numArgs:1},handler(r,e){var n=US(e[0]),i=n?[e[0]]:cn(e[0],"ordgroup").body,o=i.map(function(s){var l=_O(s),c=l.text;if("lc".indexOf(c)!==-1)return{type:"align",align:c};throw new lt("Unknown column alignment: "+c,s)});if(o.length>1)throw new lt("{subarray} can contain only one column");var a={cols:o,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=nh(r.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new lt("{subarray} can contain only one column");return a},htmlBuilder:Pl,mathmlBuilder:Il});Ol({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(r){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=nh(r.parser,e,OO(r.envName));return{type:"leftright",mode:r.mode,body:[n],left:r.envName.indexOf("r")>-1?".":"\\{",right:r.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Pl,mathmlBuilder:Il});Ol({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Wce,htmlBuilder:Pl,mathmlBuilder:Il});Ol({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(r){Ft.contains(["gather","gather*"],r.envName)&&FS(r);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:NO(r.envName),emptySingleRow:!0,leqno:r.parser.settings.leqno};return nh(r.parser,e,"display")},htmlBuilder:Pl,mathmlBuilder:Il});Ol({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Wce,htmlBuilder:Pl,mathmlBuilder:Il});Ol({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(r){FS(r);var e={autoTag:NO(r.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:r.parser.settings.leqno};return nh(r.parser,e,"display")},htmlBuilder:Pl,mathmlBuilder:Il});Ol({type:"array",names:["CD"],props:{numArgs:0},handler(r){return FS(r),IFe(r.parser)},htmlBuilder:Pl,mathmlBuilder:Il});ke("\\nonumber","\\gdef\\@eqnsw{0}");ke("\\notag","\\nonumber");kt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(r,e){throw new lt(r.funcName+" valid only within array environment")}});var tq=Fce;kt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(r,e){var{parser:n,funcName:i}=r,o=e[0];if(o.type!=="ordgroup")throw new lt("Invalid environment name",o);for(var a="",s=0;s<o.body.length;++s)a+=cn(o.body[s],"textord").text;if(i==="\\begin"){if(!tq.hasOwnProperty(a))throw new lt("No such environment: "+a,o);var l=tq[a],{args:c,optArgs:u}=n.parseArguments("\\begin{"+a+"}",l),d={mode:n.mode,envName:a,parser:n},h=l.handler(d,c,u);n.expect("\\end",!1);var f=n.nextToken,m=cn(n.parseFunction(),"environment");if(m.name!==a)throw new lt("Mismatch: \\begin{"+a+"} matched by \\end{"+m.name+"}",f);return h}return{type:"environment",mode:n.mode,name:a,nameGroup:o}}});var Vce=(r,e)=>{var n=r.font,i=e.withFont(n);return Mn(r.body,i)},qce=(r,e)=>{var n=r.font,i=e.withFont(n);return er(r.body,i)},nq={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};kt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(r,e)=>{var{parser:n,funcName:i}=r,o=f3(e[0]),a=i;return a in nq&&(a=nq[a]),{type:"font",mode:n.mode,font:a.slice(1),body:o}},htmlBuilder:Vce,mathmlBuilder:qce});kt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(r,e)=>{var{parser:n}=r,i=e[0],o=Ft.isCharacterBox(i);return{type:"mclass",mode:n.mode,mclass:BS(i),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:i}],isCharacterBox:o}}});kt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(r,e)=>{var{parser:n,funcName:i,breakOnTokenText:o}=r,{mode:a}=n,s=n.parseExpression(!0,o),l="math"+i.slice(1);return{type:"font",mode:a,font:l,body:{type:"ordgroup",mode:n.mode,body:s}}},htmlBuilder:Vce,mathmlBuilder:qce});var Gce=(r,e)=>{var n=e;return r==="display"?n=n.id>=Vt.SCRIPT.id?n.text():Vt.DISPLAY:r==="text"&&n.size===Vt.DISPLAY.size?n=Vt.TEXT:r==="script"?n=Vt.SCRIPT:r==="scriptscript"&&(n=Vt.SCRIPTSCRIPT),n},PO=(r,e)=>{var n=Gce(r.size,e.style),i=n.fracNum(),o=n.fracDen(),a;a=e.havingStyle(i);var s=Mn(r.numer,a,e);if(r.continued){var l=8.5/e.fontMetrics().ptPerEm,c=3.5/e.fontMetrics().ptPerEm;s.height=s.height<l?l:s.height,s.depth=s.depth<c?c:s.depth}a=e.havingStyle(o);var u=Mn(r.denom,a,e),d,h,f;r.hasBarLine?(r.barSize?(h=Tr(r.barSize,e),d=Fe.makeLineSpan("frac-line",e,h)):d=Fe.makeLineSpan("frac-line",e),h=d.height,f=d.height):(d=null,h=0,f=e.fontMetrics().defaultRuleThickness);var m,b,g;n.size===Vt.DISPLAY.size||r.size==="display"?(m=e.fontMetrics().num1,h>0?b=3*f:b=7*f,g=e.fontMetrics().denom1):(h>0?(m=e.fontMetrics().num2,b=f):(m=e.fontMetrics().num3,b=3*f),g=e.fontMetrics().denom2);var v;if(d){var w=e.fontMetrics().axisHeight;m-s.depth-(w+.5*h)<b&&(m+=b-(m-s.depth-(w+.5*h))),w-.5*h-(u.height-g)<b&&(g+=b-(w-.5*h-(u.height-g)));var k=-(w-.5*h);v=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:g},{type:"elem",elem:d,shift:k},{type:"elem",elem:s,shift:-m}]},e)}else{var x=m-s.depth-(u.height-g);x<b&&(m+=.5*(b-x),g+=.5*(b-x)),v=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:g},{type:"elem",elem:s,shift:-m}]},e)}a=e.havingStyle(n),v.height*=a.sizeMultiplier/e.sizeMultiplier,v.depth*=a.sizeMultiplier/e.sizeMultiplier;var T;n.size===Vt.DISPLAY.size?T=e.fontMetrics().delim1:n.size===Vt.SCRIPTSCRIPT.size?T=e.havingStyle(Vt.SCRIPT).fontMetrics().delim2:T=e.fontMetrics().delim2;var _,D;return r.leftDelim==null?_=kb(e,["mopen"]):_=Lc.customSizedDelim(r.leftDelim,T,!0,e.havingStyle(n),r.mode,["mopen"]),r.continued?D=Fe.makeSpan([]):r.rightDelim==null?D=kb(e,["mclose"]):D=Lc.customSizedDelim(r.rightDelim,T,!0,e.havingStyle(n),r.mode,["mclose"]),Fe.makeSpan(["mord"].concat(a.sizingClasses(e)),[_,Fe.makeSpan(["mfrac"],[v]),D],e)},IO=(r,e)=>{var n=new ot.MathNode("mfrac",[er(r.numer,e),er(r.denom,e)]);if(!r.hasBarLine)n.setAttribute("linethickness","0px");else if(r.barSize){var i=Tr(r.barSize,e);n.setAttribute("linethickness",yt(i))}var o=Gce(r.size,e.style);if(o.size!==e.style.size){n=new ot.MathNode("mstyle",[n]);var a=o.size===Vt.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",a),n.setAttribute("scriptlevel","0")}if(r.leftDelim!=null||r.rightDelim!=null){var s=[];if(r.leftDelim!=null){var l=new ot.MathNode("mo",[new ot.TextNode(r.leftDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}if(s.push(n),r.rightDelim!=null){var c=new ot.MathNode("mo",[new ot.TextNode(r.rightDelim.replace("\\",""))]);c.setAttribute("fence","true"),s.push(c)}return EO(s)}return n};kt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(r,e)=>{var{parser:n,funcName:i}=r,o=e[0],a=e[1],s,l=null,c=null,u="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,l="(",c=")";break;case"\\\\bracefrac":s=!1,l="\\{",c="\\}";break;case"\\\\brackfrac":s=!1,l="[",c="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:o,denom:a,hasBarLine:s,leftDelim:l,rightDelim:c,size:u,barSize:null}},htmlBuilder:PO,mathmlBuilder:IO});kt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(r,e)=>{var{parser:n,funcName:i}=r,o=e[0],a=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:o,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});kt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(r){var{parser:e,funcName:n,token:i}=r,o;switch(n){case"\\over":o="\\frac";break;case"\\choose":o="\\binom";break;case"\\atop":o="\\\\atopfrac";break;case"\\brace":o="\\\\bracefrac";break;case"\\brack":o="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:o,token:i}}});var rq=["display","text","script","scriptscript"],iq=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};kt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(r,e){var{parser:n}=r,i=e[4],o=e[5],a=f3(e[0]),s=a.type==="atom"&&a.family==="open"?iq(a.text):null,l=f3(e[1]),c=l.type==="atom"&&l.family==="close"?iq(l.text):null,u=cn(e[2],"size"),d,h=null;u.isBlank?d=!0:(h=u.value,d=h.number>0);var f="auto",m=e[3];if(m.type==="ordgroup"){if(m.body.length>0){var b=cn(m.body[0],"textord");f=rq[Number(b.text)]}}else m=cn(m,"textord"),f=rq[Number(m.text)];return{type:"genfrac",mode:n.mode,numer:i,denom:o,continued:!1,hasBarLine:d,barSize:h,leftDelim:s,rightDelim:c,size:f}},htmlBuilder:PO,mathmlBuilder:IO});kt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(r,e){var{parser:n,funcName:i,token:o}=r;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:cn(e[0],"size").value,token:o}}});kt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(r,e)=>{var{parser:n,funcName:i}=r,o=e[0],a=Cje(cn(e[1],"infix").size),s=e[2],l=a.number>0;return{type:"genfrac",mode:n.mode,numer:o,denom:s,continued:!1,hasBarLine:l,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:PO,mathmlBuilder:IO});var Kce=(r,e)=>{var n=e.style,i,o;r.type==="supsub"?(i=r.sup?Mn(r.sup,e.havingStyle(n.sup()),e):Mn(r.sub,e.havingStyle(n.sub()),e),o=cn(r.base,"horizBrace")):o=cn(r,"horizBrace");var a=Mn(o.base,e.havingBaseStyle(Vt.DISPLAY)),s=Yc.svgSpan(o,e),l;if(o.isOver?(l=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),l.children[0].children[0].children[1].classes.push("svg-align")):(l=Fe.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),l.children[0].children[0].children[0].classes.push("svg-align")),i){var c=Fe.makeSpan(["mord",o.isOver?"mover":"munder"],[l],e);o.isOver?l=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"kern",size:.2},{type:"elem",elem:i}]},e):l=Fe.makeVList({positionType:"bottom",positionData:c.depth+.2+i.height+i.depth,children:[{type:"elem",elem:i},{type:"kern",size:.2},{type:"elem",elem:c}]},e)}return Fe.makeSpan(["mord",o.isOver?"mover":"munder"],[l],e)},YFe=(r,e)=>{var n=Yc.mathMLnode(r.label);return new ot.MathNode(r.isOver?"mover":"munder",[er(r.base,e),n])};kt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(r,e){var{parser:n,funcName:i}=r;return{type:"horizBrace",mode:n.mode,label:i,isOver:/^\\over/.test(i),base:e[0]}},htmlBuilder:Kce,mathmlBuilder:YFe});kt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(r,e)=>{var{parser:n}=r,i=e[1],o=cn(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:o})?{type:"href",mode:n.mode,href:o,body:Ur(i)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(r,e)=>{var n=ti(r.body,e,!1);return Fe.makeAnchor(r.href,[],n,e)},mathmlBuilder:(r,e)=>{var n=$d(r.body,e);return n instanceof oa||(n=new oa("mrow",[n])),n.setAttribute("href",r.href),n}});kt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(r,e)=>{var{parser:n}=r,i=cn(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:i}))return n.formatUnsupportedCmd("\\url");for(var o=[],a=0;a<i.length;a++){var s=i[a];s==="~"&&(s="\\textasciitilde"),o.push({type:"textord",mode:"text",text:s})}var l={type:"text",mode:n.mode,font:"\\texttt",body:o};return{type:"href",mode:n.mode,href:i,body:Ur(l)}}});kt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(r,e){var{parser:n}=r;return{type:"hbox",mode:n.mode,body:Ur(e[0])}},htmlBuilder(r,e){var n=ti(r.body,e,!1);return Fe.makeFragment(n)},mathmlBuilder(r,e){return new ot.MathNode("mrow",zo(r.body,e))}});kt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(r,e)=>{var{parser:n,funcName:i,token:o}=r,a=cn(e[0],"raw").string,s=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var l,c={};switch(i){case"\\htmlClass":c.class=a,l={command:"\\htmlClass",class:a};break;case"\\htmlId":c.id=a,l={command:"\\htmlId",id:a};break;case"\\htmlStyle":c.style=a,l={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var u=a.split(","),d=0;d<u.length;d++){var h=u[d].split("=");if(h.length!==2)throw new lt("Error parsing key-value for \\htmlData");c["data-"+h[0].trim()]=h[1].trim()}l={command:"\\htmlData",attributes:c};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(l)?{type:"html",mode:n.mode,attributes:c,body:Ur(s)}:n.formatUnsupportedCmd(i)},htmlBuilder:(r,e)=>{var n=ti(r.body,e,!1),i=["enclosing"];r.attributes.class&&i.push(...r.attributes.class.trim().split(/\s+/));var o=Fe.makeSpan(i,n,e);for(var a in r.attributes)a!=="class"&&r.attributes.hasOwnProperty(a)&&o.setAttribute(a,r.attributes[a]);return o},mathmlBuilder:(r,e)=>$d(r.body,e)});kt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(r,e)=>{var{parser:n}=r;return{type:"htmlmathml",mode:n.mode,html:Ur(e[0]),mathml:Ur(e[1])}},htmlBuilder:(r,e)=>{var n=ti(r.html,e,!1);return Fe.makeFragment(n)},mathmlBuilder:(r,e)=>$d(r.mathml,e)});var VC=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new lt("Invalid size: '"+e+"' in \\includegraphics");var i={number:+(n[1]+n[2]),unit:n[3]};if(!fce(i))throw new lt("Invalid unit: '"+i.unit+"' in \\includegraphics.");return i};kt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(r,e,n)=>{var{parser:i}=r,o={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},l="";if(n[0])for(var c=cn(n[0],"raw").string,u=c.split(","),d=0;d<u.length;d++){var h=u[d].split("=");if(h.length===2){var f=h[1].trim();switch(h[0].trim()){case"alt":l=f;break;case"width":o=VC(f);break;case"height":a=VC(f);break;case"totalheight":s=VC(f);break;default:throw new lt("Invalid key: '"+h[0]+"' in \\includegraphics.")}}}var m=cn(e[0],"url").url;return l===""&&(l=m,l=l.replace(/^.*[\\/]/,""),l=l.substring(0,l.lastIndexOf("."))),i.settings.isTrusted({command:"\\includegraphics",url:m})?{type:"includegraphics",mode:i.mode,alt:l,width:o,height:a,totalheight:s,src:m}:i.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(r,e)=>{var n=Tr(r.height,e),i=0;r.totalheight.number>0&&(i=Tr(r.totalheight,e)-n);var o=0;r.width.number>0&&(o=Tr(r.width,e));var a={height:yt(n+i)};o>0&&(a.width=yt(o)),i>0&&(a.verticalAlign=yt(-i));var s=new Yje(r.src,r.alt,a);return s.height=n,s.depth=i,s},mathmlBuilder:(r,e)=>{var n=new ot.MathNode("mglyph",[]);n.setAttribute("alt",r.alt);var i=Tr(r.height,e),o=0;if(r.totalheight.number>0&&(o=Tr(r.totalheight,e)-i,n.setAttribute("valign",yt(-o))),n.setAttribute("height",yt(i+o)),r.width.number>0){var a=Tr(r.width,e);n.setAttribute("width",yt(a))}return n.setAttribute("src",r.src),n}});kt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(r,e){var{parser:n,funcName:i}=r,o=cn(e[0],"size");if(n.settings.strict){var a=i[1]==="m",s=o.value.unit==="mu";a?(s||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, "+("not "+o.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):s&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:o.value}},htmlBuilder(r,e){return Fe.makeGlue(r.dimension,e)},mathmlBuilder(r,e){var n=Tr(r.dimension,e);return new ot.SpaceNode(n)}});kt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(r,e)=>{var{parser:n,funcName:i}=r,o=e[0];return{type:"lap",mode:n.mode,alignment:i.slice(5),body:o}},htmlBuilder:(r,e)=>{var n;r.alignment==="clap"?(n=Fe.makeSpan([],[Mn(r.body,e)]),n=Fe.makeSpan(["inner"],[n],e)):n=Fe.makeSpan(["inner"],[Mn(r.body,e)]);var i=Fe.makeSpan(["fix"],[]),o=Fe.makeSpan([r.alignment],[n,i],e),a=Fe.makeSpan(["strut"]);return a.style.height=yt(o.height+o.depth),o.depth&&(a.style.verticalAlign=yt(-o.depth)),o.children.unshift(a),o=Fe.makeSpan(["thinbox"],[o],e),Fe.makeSpan(["mord","vbox"],[o],e)},mathmlBuilder:(r,e)=>{var n=new ot.MathNode("mpadded",[er(r.body,e)]);if(r.alignment!=="rlap"){var i=r.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",i+"width")}return n.setAttribute("width","0px"),n}});kt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(r,e){var{funcName:n,parser:i}=r,o=i.mode;i.switchMode("math");var a=n==="\\("?"\\)":"$",s=i.parseExpression(!1,a);return i.expect(a),i.switchMode(o),{type:"styling",mode:i.mode,style:"text",body:s}}});kt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(r,e){throw new lt("Mismatched "+r.funcName)}});var oq=(r,e)=>{switch(e.style.size){case Vt.DISPLAY.size:return r.display;case Vt.TEXT.size:return r.text;case Vt.SCRIPT.size:return r.script;case Vt.SCRIPTSCRIPT.size:return r.scriptscript;default:return r.text}};kt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(r,e)=>{var{parser:n}=r;return{type:"mathchoice",mode:n.mode,display:Ur(e[0]),text:Ur(e[1]),script:Ur(e[2]),scriptscript:Ur(e[3])}},htmlBuilder:(r,e)=>{var n=oq(r,e),i=ti(n,e,!1);return Fe.makeFragment(i)},mathmlBuilder:(r,e)=>{var n=oq(r,e);return $d(n,e)}});var Xce=(r,e,n,i,o,a,s)=>{r=Fe.makeSpan([],[r]);var l=n&&Ft.isCharacterBox(n),c,u;if(e){var d=Mn(e,i.havingStyle(o.sup()),i);u={elem:d,kern:Math.max(i.fontMetrics().bigOpSpacing1,i.fontMetrics().bigOpSpacing3-d.depth)}}if(n){var h=Mn(n,i.havingStyle(o.sub()),i);c={elem:h,kern:Math.max(i.fontMetrics().bigOpSpacing2,i.fontMetrics().bigOpSpacing4-h.height)}}var f;if(u&&c){var m=i.fontMetrics().bigOpSpacing5+c.elem.height+c.elem.depth+c.kern+r.depth+s;f=Fe.makeVList({positionType:"bottom",positionData:m,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:yt(-a)},{type:"kern",size:c.kern},{type:"elem",elem:r},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:yt(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else if(c){var b=r.height-s;f=Fe.makeVList({positionType:"top",positionData:b,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:yt(-a)},{type:"kern",size:c.kern},{type:"elem",elem:r}]},i)}else if(u){var g=r.depth+s;f=Fe.makeVList({positionType:"bottom",positionData:g,children:[{type:"elem",elem:r},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:yt(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else return r;var v=[f];if(c&&a!==0&&!l){var x=Fe.makeSpan(["mspace"],[],i);x.style.marginRight=yt(a),v.unshift(x)}return Fe.makeSpan(["mop","op-limits"],v,i)},Yce=["\\smallint"],ug=(r,e)=>{var n,i,o=!1,a;r.type==="supsub"?(n=r.sup,i=r.sub,a=cn(r.base,"op"),o=!0):a=cn(r,"op");var s=e.style,l=!1;s.size===Vt.DISPLAY.size&&a.symbol&&!Ft.contains(Yce,a.name)&&(l=!0);var c;if(a.symbol){var u=l?"Size2-Regular":"Size1-Regular",d="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(d=a.name.slice(1),a.name=d==="oiint"?"\\iint":"\\iiint"),c=Fe.makeSymbol(a.name,u,"math",e,["mop","op-symbol",l?"large-op":"small-op"]),d.length>0){var h=c.italic,f=Fe.staticSvg(d+"Size"+(l?"2":"1"),e);c=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:0},{type:"elem",elem:f,shift:l?.08:0}]},e),a.name="\\"+d,c.classes.unshift("mop"),c.italic=h}}else if(a.body){var m=ti(a.body,e,!0);m.length===1&&m[0]instanceof ts?(c=m[0],c.classes[0]="mop"):c=Fe.makeSpan(["mop"],m,e)}else{for(var b=[],g=1;g<a.name.length;g++)b.push(Fe.mathsym(a.name[g],a.mode,e));c=Fe.makeSpan(["mop"],b,e)}var v=0,x=0;return(c instanceof ts||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(v=(c.height-c.depth)/2-e.fontMetrics().axisHeight,x=c.italic),o?Xce(c,n,i,e,s,x,v):(v&&(c.style.position="relative",c.style.top=yt(v)),c)},Dv=(r,e)=>{var n;if(r.symbol)n=new oa("mo",[ns(r.name,r.mode)]),Ft.contains(Yce,r.name)&&n.setAttribute("largeop","false");else if(r.body)n=new oa("mo",zo(r.body,e));else{n=new oa("mi",[new cl(r.name.slice(1))]);var i=new oa("mo",[ns("","text")]);r.parentIsSupSub?n=new oa("mrow",[n,i]):n=Tce([n,i])}return n},ZFe={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};kt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(r,e)=>{var{parser:n,funcName:i}=r,o=i;return o.length===1&&(o=ZFe[o]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:o}},htmlBuilder:ug,mathmlBuilder:Dv});kt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(r,e)=>{var{parser:n}=r,i=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Ur(i)}},htmlBuilder:ug,mathmlBuilder:Dv});var JFe={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};kt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(r){var{parser:e,funcName:n}=r;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:ug,mathmlBuilder:Dv});kt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(r){var{parser:e,funcName:n}=r;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:ug,mathmlBuilder:Dv});kt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(r){var{parser:e,funcName:n}=r,i=n;return i.length===1&&(i=JFe[i]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:ug,mathmlBuilder:Dv});var Zce=(r,e)=>{var n,i,o=!1,a;r.type==="supsub"?(n=r.sup,i=r.sub,a=cn(r.base,"operatorname"),o=!0):a=cn(r,"operatorname");var s;if(a.body.length>0){for(var l=a.body.map(h=>{var f=h.text;return typeof f=="string"?{type:"textord",mode:h.mode,text:f}:h}),c=ti(l,e.withFont("mathrm"),!0),u=0;u<c.length;u++){var d=c[u];d instanceof ts&&(d.text=d.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=Fe.makeSpan(["mop"],c,e)}else s=Fe.makeSpan(["mop"],[],e);return o?Xce(s,n,i,e,e.style,0,0):s},QFe=(r,e)=>{for(var n=zo(r.body,e.withFont("mathrm")),i=!0,o=0;o<n.length;o++){var a=n[o];if(!(a instanceof ot.SpaceNode))if(a instanceof ot.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof ot.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break}default:i=!1}else i=!1}if(i){var l=n.map(d=>d.toText()).join("");n=[new ot.TextNode(l)]}var c=new ot.MathNode("mi",n);c.setAttribute("mathvariant","normal");var u=new ot.MathNode("mo",[ns("","text")]);return r.parentIsSupSub?new ot.MathNode("mrow",[c,u]):ot.newDocumentFragment([c,u])};kt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(r,e)=>{var{parser:n,funcName:i}=r,o=e[0];return{type:"operatorname",mode:n.mode,body:Ur(o),alwaysHandleSupSub:i==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:Zce,mathmlBuilder:QFe});ke("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");gp({type:"ordgroup",htmlBuilder(r,e){return r.semisimple?Fe.makeFragment(ti(r.body,e,!1)):Fe.makeSpan(["mord"],ti(r.body,e,!0),e)},mathmlBuilder(r,e){return $d(r.body,e,!0)}});kt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(r,e){var{parser:n}=r,i=e[0];return{type:"overline",mode:n.mode,body:i}},htmlBuilder(r,e){var n=Mn(r.body,e.havingCrampedStyle()),i=Fe.makeLineSpan("overline-line",e),o=e.fontMetrics().defaultRuleThickness,a=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*o},{type:"elem",elem:i},{type:"kern",size:o}]},e);return Fe.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(r,e){var n=new ot.MathNode("mo",[new ot.TextNode("")]);n.setAttribute("stretchy","true");var i=new ot.MathNode("mover",[er(r.body,e),n]);return i.setAttribute("accent","true"),i}});kt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(r,e)=>{var{parser:n}=r,i=e[0];return{type:"phantom",mode:n.mode,body:Ur(i)}},htmlBuilder:(r,e)=>{var n=ti(r.body,e.withPhantom(),!1);return Fe.makeFragment(n)},mathmlBuilder:(r,e)=>{var n=zo(r.body,e);return new ot.MathNode("mphantom",n)}});kt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(r,e)=>{var{parser:n}=r,i=e[0];return{type:"hphantom",mode:n.mode,body:i}},htmlBuilder:(r,e)=>{var n=Fe.makeSpan([],[Mn(r.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var i=0;i<n.children.length;i++)n.children[i].height=0,n.children[i].depth=0;return n=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),Fe.makeSpan(["mord"],[n],e)},mathmlBuilder:(r,e)=>{var n=zo(Ur(r.body),e),i=new ot.MathNode("mphantom",n),o=new ot.MathNode("mpadded",[i]);return o.setAttribute("height","0px"),o.setAttribute("depth","0px"),o}});kt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(r,e)=>{var{parser:n}=r,i=e[0];return{type:"vphantom",mode:n.mode,body:i}},htmlBuilder:(r,e)=>{var n=Fe.makeSpan(["inner"],[Mn(r.body,e.withPhantom())]),i=Fe.makeSpan(["fix"],[]);return Fe.makeSpan(["mord","rlap"],[n,i],e)},mathmlBuilder:(r,e)=>{var n=zo(Ur(r.body),e),i=new ot.MathNode("mphantom",n),o=new ot.MathNode("mpadded",[i]);return o.setAttribute("width","0px"),o}});kt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(r,e){var{parser:n}=r,i=cn(e[0],"size").value,o=e[1];return{type:"raisebox",mode:n.mode,dy:i,body:o}},htmlBuilder(r,e){var n=Mn(r.body,e),i=Tr(r.dy,e);return Fe.makeVList({positionType:"shift",positionData:-i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(r,e){var n=new ot.MathNode("mpadded",[er(r.body,e)]),i=r.dy.number+r.dy.unit;return n.setAttribute("voffset",i),n}});kt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(r){var{parser:e}=r;return{type:"internal",mode:e.mode}}});kt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(r,e,n){var{parser:i}=r,o=n[0],a=cn(e[0],"size"),s=cn(e[1],"size");return{type:"rule",mode:i.mode,shift:o&&cn(o,"size").value,width:a.value,height:s.value}},htmlBuilder(r,e){var n=Fe.makeSpan(["mord","rule"],[],e),i=Tr(r.width,e),o=Tr(r.height,e),a=r.shift?Tr(r.shift,e):0;return n.style.borderRightWidth=yt(i),n.style.borderTopWidth=yt(o),n.style.bottom=yt(a),n.width=i,n.height=o+a,n.depth=-a,n.maxFontSize=o*1.125*e.sizeMultiplier,n},mathmlBuilder(r,e){var n=Tr(r.width,e),i=Tr(r.height,e),o=r.shift?Tr(r.shift,e):0,a=e.color&&e.getColor()||"black",s=new ot.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",yt(n)),s.setAttribute("height",yt(i));var l=new ot.MathNode("mpadded",[s]);return o>=0?l.setAttribute("height",yt(o)):(l.setAttribute("height",yt(o)),l.setAttribute("depth",yt(-o))),l.setAttribute("voffset",yt(o)),l}});function Jce(r,e,n){for(var i=ti(r,e,!1),o=e.sizeMultiplier/n.sizeMultiplier,a=0;a<i.length;a++){var s=i[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(i[a].classes,e.sizingClasses(n)):i[a].classes[s+1]==="reset-size"+e.size&&(i[a].classes[s+1]="reset-size"+n.size),i[a].height*=o,i[a].depth*=o}return Fe.makeFragment(i)}var aq=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],eHe=(r,e)=>{var n=e.havingSize(r.size);return Jce(r.body,n,e)};kt({type:"sizing",names:aq,props:{numArgs:0,allowedInText:!0},handler:(r,e)=>{var{breakOnTokenText:n,funcName:i,parser:o}=r,a=o.parseExpression(!1,n);return{type:"sizing",mode:o.mode,size:aq.indexOf(i)+1,body:a}},htmlBuilder:eHe,mathmlBuilder:(r,e)=>{var n=e.havingSize(r.size),i=zo(r.body,n),o=new ot.MathNode("mstyle",i);return o.setAttribute("mathsize",yt(n.sizeMultiplier)),o}});kt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(r,e,n)=>{var{parser:i}=r,o=!1,a=!1,s=n[0]&&cn(n[0],"ordgroup");if(s)for(var l="",c=0;c<s.body.length;++c){var u=s.body[c];if(l=u.text,l==="t")o=!0;else if(l==="b")a=!0;else{o=!1,a=!1;break}}else o=!0,a=!0;var d=e[0];return{type:"smash",mode:i.mode,body:d,smashHeight:o,smashDepth:a}},htmlBuilder:(r,e)=>{var n=Fe.makeSpan([],[Mn(r.body,e)]);if(!r.smashHeight&&!r.smashDepth)return n;if(r.smashHeight&&(n.height=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].height=0;if(r.smashDepth&&(n.depth=0,n.children))for(var o=0;o<n.children.length;o++)n.children[o].depth=0;var a=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return Fe.makeSpan(["mord"],[a],e)},mathmlBuilder:(r,e)=>{var n=new ot.MathNode("mpadded",[er(r.body,e)]);return r.smashHeight&&n.setAttribute("height","0px"),r.smashDepth&&n.setAttribute("depth","0px"),n}});kt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(r,e,n){var{parser:i}=r,o=n[0],a=e[0];return{type:"sqrt",mode:i.mode,body:a,index:o}},htmlBuilder(r,e){var n=Mn(r.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=Fe.wrapFragment(n,e);var i=e.fontMetrics(),o=i.defaultRuleThickness,a=o;e.style.id<Vt.TEXT.id&&(a=e.fontMetrics().xHeight);var s=o+a/4,l=n.height+n.depth+s+o,{span:c,ruleWidth:u,advanceWidth:d}=Lc.sqrtImage(l,e),h=c.height-u;h>n.height+n.depth+s&&(s=(s+h-n.height-n.depth)/2);var f=c.height-n.height-s-u;n.style.paddingLeft=yt(d);var m=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+f)},{type:"elem",elem:c},{type:"kern",size:u}]},e);if(r.index){var b=e.havingStyle(Vt.SCRIPTSCRIPT),g=Mn(r.index,b,e),v=.6*(m.height-m.depth),x=Fe.makeVList({positionType:"shift",positionData:-v,children:[{type:"elem",elem:g}]},e),w=Fe.makeSpan(["root"],[x]);return Fe.makeSpan(["mord","sqrt"],[w,m],e)}else return Fe.makeSpan(["mord","sqrt"],[m],e)},mathmlBuilder(r,e){var{body:n,index:i}=r;return i?new ot.MathNode("mroot",[er(n,e),er(i,e)]):new ot.MathNode("msqrt",[er(n,e)])}});var sq={display:Vt.DISPLAY,text:Vt.TEXT,script:Vt.SCRIPT,scriptscript:Vt.SCRIPTSCRIPT};kt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r,e){var{breakOnTokenText:n,funcName:i,parser:o}=r,a=o.parseExpression(!0,n),s=i.slice(1,i.length-5);return{type:"styling",mode:o.mode,style:s,body:a}},htmlBuilder(r,e){var n=sq[r.style],i=e.havingStyle(n).withFont("");return Jce(r.body,i,e)},mathmlBuilder(r,e){var n=sq[r.style],i=e.havingStyle(n),o=zo(r.body,i),a=new ot.MathNode("mstyle",o),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},l=s[r.style];return a.setAttribute("scriptlevel",l[0]),a.setAttribute("displaystyle",l[1]),a}});var tHe=function(e,n){var i=e.base;if(i)if(i.type==="op"){var o=i.limits&&(n.style.size===Vt.DISPLAY.size||i.alwaysHandleSupSub);return o?ug:null}else if(i.type==="operatorname"){var a=i.alwaysHandleSupSub&&(n.style.size===Vt.DISPLAY.size||i.limits);return a?Zce:null}else{if(i.type==="accent")return Ft.isCharacterBox(i.base)?AO:null;if(i.type==="horizBrace"){var s=!e.sub;return s===i.isOver?Kce:null}else return null}else return null};gp({type:"supsub",htmlBuilder(r,e){var n=tHe(r,e);if(n)return n(r,e);var{base:i,sup:o,sub:a}=r,s=Mn(i,e),l,c,u=e.fontMetrics(),d=0,h=0,f=i&&Ft.isCharacterBox(i);if(o){var m=e.havingStyle(e.style.sup());l=Mn(o,m,e),f||(d=s.height-m.fontMetrics().supDrop*m.sizeMultiplier/e.sizeMultiplier)}if(a){var b=e.havingStyle(e.style.sub());c=Mn(a,b,e),f||(h=s.depth+b.fontMetrics().subDrop*b.sizeMultiplier/e.sizeMultiplier)}var g;e.style===Vt.DISPLAY?g=u.sup1:e.style.cramped?g=u.sup3:g=u.sup2;var v=e.sizeMultiplier,x=yt(.5/u.ptPerEm/v),w=null;if(c){var k=r.base&&r.base.type==="op"&&r.base.name&&(r.base.name==="\\oiint"||r.base.name==="\\oiiint");(s instanceof ts||k)&&(w=yt(-s.italic))}var T;if(l&&c){d=Math.max(d,g,l.depth+.25*u.xHeight),h=Math.max(h,u.sub2);var _=u.defaultRuleThickness,D=4*_;if(d-l.depth-(c.height-h)<D){h=D-(d-l.depth)+c.height;var I=.8*u.xHeight-(d-l.depth);I>0&&(d+=I,h-=I)}var L=[{type:"elem",elem:c,shift:h,marginRight:x,marginLeft:w},{type:"elem",elem:l,shift:-d,marginRight:x}];T=Fe.makeVList({positionType:"individualShift",children:L},e)}else if(c){h=Math.max(h,u.sub1,c.height-.8*u.xHeight);var O=[{type:"elem",elem:c,marginLeft:w,marginRight:x}];T=Fe.makeVList({positionType:"shift",positionData:h,children:O},e)}else if(l)d=Math.max(d,g,l.depth+.25*u.xHeight),T=Fe.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:l,marginRight:x}]},e);else throw new Error("supsub must have either sup or sub.");var W=i9(s,"right")||"mord";return Fe.makeSpan([W],[s,Fe.makeSpan(["msupsub"],[T])],e)},mathmlBuilder(r,e){var n=!1,i,o;r.base&&r.base.type==="horizBrace"&&(o=!!r.sup,o===r.base.isOver&&(n=!0,i=r.base.isOver)),r.base&&(r.base.type==="op"||r.base.type==="operatorname")&&(r.base.parentIsSupSub=!0);var a=[er(r.base,e)];r.sub&&a.push(er(r.sub,e)),r.sup&&a.push(er(r.sup,e));var s;if(n)s=i?"mover":"munder";else if(r.sub)if(r.sup){var u=r.base;u&&u.type==="op"&&u.limits&&e.style===Vt.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===Vt.DISPLAY||u.limits)?s="munderover":s="msubsup"}else{var c=r.base;c&&c.type==="op"&&c.limits&&(e.style===Vt.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===Vt.DISPLAY)?s="munder":s="msub"}else{var l=r.base;l&&l.type==="op"&&l.limits&&(e.style===Vt.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===Vt.DISPLAY)?s="mover":s="msup"}return new ot.MathNode(s,a)}});gp({type:"atom",htmlBuilder(r,e){return Fe.mathsym(r.text,r.mode,e,["m"+r.family])},mathmlBuilder(r,e){var n=new ot.MathNode("mo",[ns(r.text,r.mode)]);if(r.family==="bin"){var i=CO(r,e);i==="bold-italic"&&n.setAttribute("mathvariant",i)}else r.family==="punct"?n.setAttribute("separator","true"):(r.family==="open"||r.family==="close")&&n.setAttribute("stretchy","false");return n}});var Qce={mi:"italic",mn:"normal",mtext:"normal"};gp({type:"mathord",htmlBuilder(r,e){return Fe.makeOrd(r,e,"mathord")},mathmlBuilder(r,e){var n=new ot.MathNode("mi",[ns(r.text,r.mode,e)]),i=CO(r,e)||"italic";return i!==Qce[n.type]&&n.setAttribute("mathvariant",i),n}});gp({type:"textord",htmlBuilder(r,e){return Fe.makeOrd(r,e,"textord")},mathmlBuilder(r,e){var n=ns(r.text,r.mode,e),i=CO(r,e)||"normal",o;return r.mode==="text"?o=new ot.MathNode("mtext",[n]):/[0-9]/.test(r.text)?o=new ot.MathNode("mn",[n]):r.text==="\\prime"?o=new ot.MathNode("mo",[n]):o=new ot.MathNode("mi",[n]),i!==Qce[o.type]&&o.setAttribute("mathvariant",i),o}});var qC={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},GC={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};gp({type:"spacing",htmlBuilder(r,e){if(GC.hasOwnProperty(r.text)){var n=GC[r.text].className||"";if(r.mode==="text"){var i=Fe.makeOrd(r,e,"textord");return i.classes.push(n),i}else return Fe.makeSpan(["mspace",n],[Fe.mathsym(r.text,r.mode,e)],e)}else{if(qC.hasOwnProperty(r.text))return Fe.makeSpan(["mspace",qC[r.text]],[],e);throw new lt('Unknown type of space "'+r.text+'"')}},mathmlBuilder(r,e){var n;if(GC.hasOwnProperty(r.text))n=new ot.MathNode("mtext",[new ot.TextNode("")]);else{if(qC.hasOwnProperty(r.text))return new ot.MathNode("mspace");throw new lt('Unknown type of space "'+r.text+'"')}return n}});var lq=()=>{var r=new ot.MathNode("mtd",[]);return r.setAttribute("width","50%"),r};gp({type:"tag",mathmlBuilder(r,e){var n=new ot.MathNode("mtable",[new ot.MathNode("mtr",[lq(),new ot.MathNode("mtd",[$d(r.body,e)]),lq(),new ot.MathNode("mtd",[$d(r.tag,e)])])]);return n.setAttribute("width","100%"),n}});var cq={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},uq={"\\textbf":"textbf","\\textmd":"textmd"},nHe={"\\textit":"textit","\\textup":"textup"},dq=(r,e)=>{var n=r.font;if(n){if(cq[n])return e.withTextFontFamily(cq[n]);if(uq[n])return e.withTextFontWeight(uq[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(nHe[n])};kt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(r,e){var{parser:n,funcName:i}=r,o=e[0];return{type:"text",mode:n.mode,body:Ur(o),font:i}},htmlBuilder(r,e){var n=dq(r,e),i=ti(r.body,n,!0);return Fe.makeSpan(["mord","text"],i,n)},mathmlBuilder(r,e){var n=dq(r,e);return $d(r.body,n)}});kt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(r,e){var{parser:n}=r;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(r,e){var n=Mn(r.body,e),i=Fe.makeLineSpan("underline-line",e),o=e.fontMetrics().defaultRuleThickness,a=Fe.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:o},{type:"elem",elem:i},{type:"kern",size:3*o},{type:"elem",elem:n}]},e);return Fe.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(r,e){var n=new ot.MathNode("mo",[new ot.TextNode("")]);n.setAttribute("stretchy","true");var i=new ot.MathNode("munder",[er(r.body,e),n]);return i.setAttribute("accentunder","true"),i}});kt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(r,e){var{parser:n}=r;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(r,e){var n=Mn(r.body,e),i=e.fontMetrics().axisHeight,o=.5*(n.height-i-(n.depth+i));return Fe.makeVList({positionType:"shift",positionData:o,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(r,e){return new ot.MathNode("mpadded",[er(r.body,e)],["vcenter"])}});kt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(r,e,n){throw new lt("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(r,e){for(var n=hq(r),i=[],o=e.havingStyle(e.style.text()),a=0;a<n.length;a++){var s=n[a];s==="~"&&(s="\\textasciitilde"),i.push(Fe.makeSymbol(s,"Typewriter-Regular",r.mode,o,["mord","texttt"]))}return Fe.makeSpan(["mord","text"].concat(o.sizingClasses(e)),Fe.tryCombineChars(i),o)},mathmlBuilder(r,e){var n=new ot.TextNode(hq(r)),i=new ot.MathNode("mtext",[n]);return i.setAttribute("mathvariant","monospace"),i}});var hq=r=>r.body.replace(/ /g,r.star?"":""),md=Sce,eue=`[ \r
	]`,rHe="\\\\[a-zA-Z@]+",iHe="\\\\[^\uD800-\uDFFF]",oHe="("+rHe+")"+eue+"*",aHe=`\\\\(
|[ \r	]+
?)[ \r	]*`,l9="[-]",sHe=new RegExp(l9+"+$"),lHe="("+eue+"+)|"+(aHe+"|")+"([!-\\[\\]---]"+(l9+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(l9+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+oHe)+("|"+iHe+")");class fq{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(lHe,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new Za("EOF",new ra(this,n,n));var i=this.tokenRegex.exec(e);if(i===null||i.index!==n)throw new lt("Unexpected character: '"+e[n]+"'",new Za(e[n],new ra(this,n,n+1)));var o=i[6]||i[3]||(i[2]?"\\ ":" ");if(this.catcodes[o]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new Za(o,new ra(this,n,this.tokenRegex.lastIndex))}}class cHe{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new lt("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,i){if(i===void 0&&(i=!1),i){for(var o=0;o<this.undefStack.length;o++)delete this.undefStack[o][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var uHe=Hce;ke("\\noexpand",function(r){var e=r.popToken();return r.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});ke("\\expandafter",function(r){var e=r.popToken();return r.expandOnce(!0),{tokens:[e],numArgs:0}});ke("\\@firstoftwo",function(r){var e=r.consumeArgs(2);return{tokens:e[0],numArgs:0}});ke("\\@secondoftwo",function(r){var e=r.consumeArgs(2);return{tokens:e[1],numArgs:0}});ke("\\@ifnextchar",function(r){var e=r.consumeArgs(3);r.consumeSpaces();var n=r.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});ke("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");ke("\\TextOrMath",function(r){var e=r.consumeArgs(2);return r.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var pq={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ke("\\char",function(r){var e=r.popToken(),n,i="";if(e.text==="'")n=8,e=r.popToken();else if(e.text==='"')n=16,e=r.popToken();else if(e.text==="`")if(e=r.popToken(),e.text[0]==="\\")i=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new lt("\\char` missing argument");i=e.text.charCodeAt(0)}else n=10;if(n){if(i=pq[e.text],i==null||i>=n)throw new lt("Invalid base-"+n+" digit "+e.text);for(var o;(o=pq[r.future().text])!=null&&o<n;)i*=n,i+=o,r.popToken()}return"\\@char{"+i+"}"});var $O=(r,e,n,i)=>{var o=r.consumeArg().tokens;if(o.length!==1)throw new lt("\\newcommand's first argument must be a macro name");var a=o[0].text,s=r.isDefined(a);if(s&&!e)throw new lt("\\newcommand{"+a+"} attempting to redefine "+(a+"; use \\renewcommand"));if(!s&&!n)throw new lt("\\renewcommand{"+a+"} when command "+a+" does not yet exist; use \\newcommand");var l=0;if(o=r.consumeArg().tokens,o.length===1&&o[0].text==="["){for(var c="",u=r.expandNextToken();u.text!=="]"&&u.text!=="EOF";)c+=u.text,u=r.expandNextToken();if(!c.match(/^\s*[0-9]+\s*$/))throw new lt("Invalid number of arguments: "+c);l=parseInt(c),o=r.consumeArg().tokens}return s&&i||r.macros.set(a,{tokens:o,numArgs:l}),""};ke("\\newcommand",r=>$O(r,!1,!0,!1));ke("\\renewcommand",r=>$O(r,!0,!1,!1));ke("\\providecommand",r=>$O(r,!0,!0,!0));ke("\\message",r=>{var e=r.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});ke("\\errmessage",r=>{var e=r.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});ke("\\show",r=>{var e=r.popToken(),n=e.text;return console.log(e,r.macros.get(n),md[n],or.math[n],or.text[n]),""});ke("\\bgroup","{");ke("\\egroup","}");ke("~","\\nobreakspace");ke("\\lq","`");ke("\\rq","'");ke("\\aa","\\r a");ke("\\AA","\\r A");ke("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");ke("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");ke("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");ke("","\\mathscr{B}");ke("","\\mathscr{E}");ke("","\\mathscr{F}");ke("","\\mathscr{H}");ke("","\\mathscr{I}");ke("","\\mathscr{L}");ke("","\\mathscr{M}");ke("","\\mathscr{R}");ke("","\\mathfrak{C}");ke("","\\mathfrak{H}");ke("","\\mathfrak{Z}");ke("\\Bbbk","\\Bbb{k}");ke("","\\cdotp");ke("\\llap","\\mathllap{\\textrm{#1}}");ke("\\rlap","\\mathrlap{\\textrm{#1}}");ke("\\clap","\\mathclap{\\textrm{#1}}");ke("\\mathstrut","\\vphantom{(}");ke("\\underbar","\\underline{\\text{#1}}");ke("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');ke("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");ke("\\ne","\\neq");ke("","\\neq");ke("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");ke("","\\notin");ke("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");ke("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");ke("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");ke("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");ke("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");ke("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");ke("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");ke("","\\perp");ke("","\\mathclose{!\\mkern-0.8mu!}");ke("","\\notni");ke("","\\ulcorner");ke("","\\urcorner");ke("","\\llcorner");ke("","\\lrcorner");ke("","\\copyright");ke("","\\textregistered");ke("","\\textregistered");ke("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');ke("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');ke("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');ke("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');ke("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");ke("","\\vdots");ke("\\varGamma","\\mathit{\\Gamma}");ke("\\varDelta","\\mathit{\\Delta}");ke("\\varTheta","\\mathit{\\Theta}");ke("\\varLambda","\\mathit{\\Lambda}");ke("\\varXi","\\mathit{\\Xi}");ke("\\varPi","\\mathit{\\Pi}");ke("\\varSigma","\\mathit{\\Sigma}");ke("\\varUpsilon","\\mathit{\\Upsilon}");ke("\\varPhi","\\mathit{\\Phi}");ke("\\varPsi","\\mathit{\\Psi}");ke("\\varOmega","\\mathit{\\Omega}");ke("\\substack","\\begin{subarray}{c}#1\\end{subarray}");ke("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");ke("\\boxed","\\fbox{$\\displaystyle{#1}$}");ke("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");ke("\\implies","\\DOTSB\\;\\Longrightarrow\\;");ke("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");ke("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");ke("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var mq={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};ke("\\dots",function(r){var e="\\dotso",n=r.expandAfterFuture().text;return n in mq?e=mq[n]:(n.slice(0,4)==="\\not"||n in or.math&&Ft.contains(["bin","rel"],or.math[n].group))&&(e="\\dotsb"),e});var zO={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};ke("\\dotso",function(r){var e=r.future().text;return e in zO?"\\ldots\\,":"\\ldots"});ke("\\dotsc",function(r){var e=r.future().text;return e in zO&&e!==","?"\\ldots\\,":"\\ldots"});ke("\\cdots",function(r){var e=r.future().text;return e in zO?"\\@cdots\\,":"\\@cdots"});ke("\\dotsb","\\cdots");ke("\\dotsm","\\cdots");ke("\\dotsi","\\!\\cdots");ke("\\dotsx","\\ldots\\,");ke("\\DOTSI","\\relax");ke("\\DOTSB","\\relax");ke("\\DOTSX","\\relax");ke("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");ke("\\,","\\tmspace+{3mu}{.1667em}");ke("\\thinspace","\\,");ke("\\>","\\mskip{4mu}");ke("\\:","\\tmspace+{4mu}{.2222em}");ke("\\medspace","\\:");ke("\\;","\\tmspace+{5mu}{.2777em}");ke("\\thickspace","\\;");ke("\\!","\\tmspace-{3mu}{.1667em}");ke("\\negthinspace","\\!");ke("\\negmedspace","\\tmspace-{4mu}{.2222em}");ke("\\negthickspace","\\tmspace-{5mu}{.277em}");ke("\\enspace","\\kern.5em ");ke("\\enskip","\\hskip.5em\\relax");ke("\\quad","\\hskip1em\\relax");ke("\\qquad","\\hskip2em\\relax");ke("\\tag","\\@ifstar\\tag@literal\\tag@paren");ke("\\tag@paren","\\tag@literal{({#1})}");ke("\\tag@literal",r=>{if(r.macros.get("\\df@tag"))throw new lt("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});ke("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");ke("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");ke("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");ke("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");ke("\\newline","\\\\\\relax");ke("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var tue=yt(ll["Main-Regular"][84][1]-.7*ll["Main-Regular"][65][1]);ke("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+tue+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");ke("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+tue+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");ke("\\hspace","\\@ifstar\\@hspacer\\@hspace");ke("\\@hspace","\\hskip #1\\relax");ke("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");ke("\\ordinarycolon",":");ke("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");ke("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');ke("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');ke("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');ke("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');ke("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');ke("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');ke("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');ke("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');ke("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');ke("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');ke("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');ke("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');ke("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');ke("","\\dblcolon");ke("","\\eqcolon");ke("","\\coloneqq");ke("","\\eqqcolon");ke("","\\Coloneqq");ke("\\ratio","\\vcentcolon");ke("\\coloncolon","\\dblcolon");ke("\\colonequals","\\coloneqq");ke("\\coloncolonequals","\\Coloneqq");ke("\\equalscolon","\\eqqcolon");ke("\\equalscoloncolon","\\Eqqcolon");ke("\\colonminus","\\coloneq");ke("\\coloncolonminus","\\Coloneq");ke("\\minuscolon","\\eqcolon");ke("\\minuscoloncolon","\\Eqcolon");ke("\\coloncolonapprox","\\Colonapprox");ke("\\coloncolonsim","\\Colonsim");ke("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ke("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");ke("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ke("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");ke("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");ke("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");ke("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");ke("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");ke("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");ke("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");ke("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");ke("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");ke("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");ke("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");ke("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");ke("\\ngeqq","\\html@mathml{\\@ngeqq}{}");ke("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");ke("\\nleqq","\\html@mathml{\\@nleqq}{}");ke("\\nleqslant","\\html@mathml{\\@nleqslant}{}");ke("\\nshortmid","\\html@mathml{\\@nshortmid}{}");ke("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");ke("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");ke("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");ke("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");ke("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");ke("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");ke("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");ke("\\imath","\\html@mathml{\\@imath}{}");ke("\\jmath","\\html@mathml{\\@jmath}{}");ke("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");ke("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");ke("","\\llbracket");ke("","\\rrbracket");ke("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");ke("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");ke("","\\lBrace");ke("","\\rBrace");ke("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");ke("","\\minuso");ke("\\darr","\\downarrow");ke("\\dArr","\\Downarrow");ke("\\Darr","\\Downarrow");ke("\\lang","\\langle");ke("\\rang","\\rangle");ke("\\uarr","\\uparrow");ke("\\uArr","\\Uparrow");ke("\\Uarr","\\Uparrow");ke("\\N","\\mathbb{N}");ke("\\R","\\mathbb{R}");ke("\\Z","\\mathbb{Z}");ke("\\alef","\\aleph");ke("\\alefsym","\\aleph");ke("\\Alpha","\\mathrm{A}");ke("\\Beta","\\mathrm{B}");ke("\\bull","\\bullet");ke("\\Chi","\\mathrm{X}");ke("\\clubs","\\clubsuit");ke("\\cnums","\\mathbb{C}");ke("\\Complex","\\mathbb{C}");ke("\\Dagger","\\ddagger");ke("\\diamonds","\\diamondsuit");ke("\\empty","\\emptyset");ke("\\Epsilon","\\mathrm{E}");ke("\\Eta","\\mathrm{H}");ke("\\exist","\\exists");ke("\\harr","\\leftrightarrow");ke("\\hArr","\\Leftrightarrow");ke("\\Harr","\\Leftrightarrow");ke("\\hearts","\\heartsuit");ke("\\image","\\Im");ke("\\infin","\\infty");ke("\\Iota","\\mathrm{I}");ke("\\isin","\\in");ke("\\Kappa","\\mathrm{K}");ke("\\larr","\\leftarrow");ke("\\lArr","\\Leftarrow");ke("\\Larr","\\Leftarrow");ke("\\lrarr","\\leftrightarrow");ke("\\lrArr","\\Leftrightarrow");ke("\\Lrarr","\\Leftrightarrow");ke("\\Mu","\\mathrm{M}");ke("\\natnums","\\mathbb{N}");ke("\\Nu","\\mathrm{N}");ke("\\Omicron","\\mathrm{O}");ke("\\plusmn","\\pm");ke("\\rarr","\\rightarrow");ke("\\rArr","\\Rightarrow");ke("\\Rarr","\\Rightarrow");ke("\\real","\\Re");ke("\\reals","\\mathbb{R}");ke("\\Reals","\\mathbb{R}");ke("\\Rho","\\mathrm{P}");ke("\\sdot","\\cdot");ke("\\sect","\\S");ke("\\spades","\\spadesuit");ke("\\sub","\\subset");ke("\\sube","\\subseteq");ke("\\supe","\\supseteq");ke("\\Tau","\\mathrm{T}");ke("\\thetasym","\\vartheta");ke("\\weierp","\\wp");ke("\\Zeta","\\mathrm{Z}");ke("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");ke("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");ke("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");ke("\\bra","\\mathinner{\\langle{#1}|}");ke("\\ket","\\mathinner{|{#1}\\rangle}");ke("\\braket","\\mathinner{\\langle{#1}\\rangle}");ke("\\Bra","\\left\\langle#1\\right|");ke("\\Ket","\\left|#1\\right\\rangle");var nue=r=>e=>{var n=e.consumeArg().tokens,i=e.consumeArg().tokens,o=e.consumeArg().tokens,a=e.consumeArg().tokens,s=e.macros.get("|"),l=e.macros.get("\\|");e.macros.beginGroup();var c=h=>f=>{r&&(f.macros.set("|",s),o.length&&f.macros.set("\\|",l));var m=h;if(!h&&o.length){var b=f.future();b.text==="|"&&(f.popToken(),m=!0)}return{tokens:m?o:i,numArgs:0}};e.macros.set("|",c(!1)),o.length&&e.macros.set("\\|",c(!0));var u=e.consumeArg().tokens,d=e.expandTokens([...a,...u,...n]);return e.macros.endGroup(),{tokens:d.reverse(),numArgs:0}};ke("\\bra@ket",nue(!1));ke("\\bra@set",nue(!0));ke("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");ke("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");ke("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");ke("\\angln","{\\angl n}");ke("\\blue","\\textcolor{##6495ed}{#1}");ke("\\orange","\\textcolor{##ffa500}{#1}");ke("\\pink","\\textcolor{##ff00af}{#1}");ke("\\red","\\textcolor{##df0030}{#1}");ke("\\green","\\textcolor{##28ae7b}{#1}");ke("\\gray","\\textcolor{gray}{#1}");ke("\\purple","\\textcolor{##9d38bd}{#1}");ke("\\blueA","\\textcolor{##ccfaff}{#1}");ke("\\blueB","\\textcolor{##80f6ff}{#1}");ke("\\blueC","\\textcolor{##63d9ea}{#1}");ke("\\blueD","\\textcolor{##11accd}{#1}");ke("\\blueE","\\textcolor{##0c7f99}{#1}");ke("\\tealA","\\textcolor{##94fff5}{#1}");ke("\\tealB","\\textcolor{##26edd5}{#1}");ke("\\tealC","\\textcolor{##01d1c1}{#1}");ke("\\tealD","\\textcolor{##01a995}{#1}");ke("\\tealE","\\textcolor{##208170}{#1}");ke("\\greenA","\\textcolor{##b6ffb0}{#1}");ke("\\greenB","\\textcolor{##8af281}{#1}");ke("\\greenC","\\textcolor{##74cf70}{#1}");ke("\\greenD","\\textcolor{##1fab54}{#1}");ke("\\greenE","\\textcolor{##0d923f}{#1}");ke("\\goldA","\\textcolor{##ffd0a9}{#1}");ke("\\goldB","\\textcolor{##ffbb71}{#1}");ke("\\goldC","\\textcolor{##ff9c39}{#1}");ke("\\goldD","\\textcolor{##e07d10}{#1}");ke("\\goldE","\\textcolor{##a75a05}{#1}");ke("\\redA","\\textcolor{##fca9a9}{#1}");ke("\\redB","\\textcolor{##ff8482}{#1}");ke("\\redC","\\textcolor{##f9685d}{#1}");ke("\\redD","\\textcolor{##e84d39}{#1}");ke("\\redE","\\textcolor{##bc2612}{#1}");ke("\\maroonA","\\textcolor{##ffbde0}{#1}");ke("\\maroonB","\\textcolor{##ff92c6}{#1}");ke("\\maroonC","\\textcolor{##ed5fa6}{#1}");ke("\\maroonD","\\textcolor{##ca337c}{#1}");ke("\\maroonE","\\textcolor{##9e034e}{#1}");ke("\\purpleA","\\textcolor{##ddd7ff}{#1}");ke("\\purpleB","\\textcolor{##c6b9fc}{#1}");ke("\\purpleC","\\textcolor{##aa87ff}{#1}");ke("\\purpleD","\\textcolor{##7854ab}{#1}");ke("\\purpleE","\\textcolor{##543b78}{#1}");ke("\\mintA","\\textcolor{##f5f9e8}{#1}");ke("\\mintB","\\textcolor{##edf2df}{#1}");ke("\\mintC","\\textcolor{##e0e5cc}{#1}");ke("\\grayA","\\textcolor{##f6f7f7}{#1}");ke("\\grayB","\\textcolor{##f0f1f2}{#1}");ke("\\grayC","\\textcolor{##e3e5e6}{#1}");ke("\\grayD","\\textcolor{##d6d8da}{#1}");ke("\\grayE","\\textcolor{##babec2}{#1}");ke("\\grayF","\\textcolor{##888d93}{#1}");ke("\\grayG","\\textcolor{##626569}{#1}");ke("\\grayH","\\textcolor{##3b3e40}{#1}");ke("\\grayI","\\textcolor{##21242c}{#1}");ke("\\kaBlue","\\textcolor{##314453}{#1}");ke("\\kaGreen","\\textcolor{##71B307}{#1}");var rue={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class dHe{constructor(e,n,i){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new cHe(uHe,n.macros),this.mode=i,this.stack=[]}feed(e){this.lexer=new fq(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,i,o;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:o,end:i}=this.consumeArg(["]"])}else({tokens:o,start:n,end:i}=this.consumeArg());return this.pushToken(new Za("EOF",i.loc)),this.pushTokens(o),n.range(i,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],i=e&&e.length>0;i||this.consumeSpaces();var o=this.future(),a,s=0,l=0;do{if(a=this.popToken(),n.push(a),a.text==="{")++s;else if(a.text==="}"){if(--s,s===-1)throw new lt("Extra }",a)}else if(a.text==="EOF")throw new lt("Unexpected end of input in a macro argument, expected '"+(e&&i?e[l]:"}")+"'",a);if(e&&i)if((s===0||s===1&&e[l]==="{")&&a.text===e[l]){if(++l,l===e.length){n.splice(-l,l);break}}else l=0}while(s!==0||i);return o.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:o,end:a}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new lt("The length of delimiters doesn't match the number of args!");for(var i=n[0],o=0;o<i.length;o++){var a=this.popToken();if(i[o]!==a.text)throw new lt("Use of the macro doesn't match its definition",a)}}for(var s=[],l=0;l<e;l++)s.push(this.consumeArg(n&&n[l+1]).tokens);return s}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new lt("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),i=n.text,o=n.noexpand?null:this._getExpansion(i);if(o==null||e&&o.unexpandable){if(e&&o==null&&i[0]==="\\"&&!this.isDefined(i))throw new lt("Undefined control sequence: "+i);return this.pushToken(n),!1}this.countExpansion(1);var a=o.tokens,s=this.consumeArgs(o.numArgs,o.delimiters);if(o.numArgs){a=a.slice();for(var l=a.length-1;l>=0;--l){var c=a[l];if(c.text==="#"){if(l===0)throw new lt("Incomplete placeholder at end of macro body",c);if(c=a[--l],c.text==="#")a.splice(l+1,1);else if(/^[1-9]$/.test(c.text))a.splice(l,2,...s[+c.text-1]);else throw new lt("Not a valid argument number",c)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Za(e)]):void 0}expandTokens(e){var n=[],i=this.stack.length;for(this.pushTokens(e);this.stack.length>i;)if(this.expandOnce(!0)===!1){var o=this.stack.pop();o.treatAsRelax&&(o.noexpand=!1,o.treatAsRelax=!1),n.push(o)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(i=>i.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var i=this.lexer.catcodes[e];if(i!=null&&i!==13)return}var o=typeof n=="function"?n(this):n;if(typeof o=="string"){var a=0;if(o.indexOf("#")!==-1)for(var s=o.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var l=new fq(o,this.settings),c=[],u=l.lex();u.text!=="EOF";)c.push(u),u=l.lex();c.reverse();var d={tokens:c,numArgs:a};return d}return o}isDefined(e){return this.macros.has(e)||md.hasOwnProperty(e)||or.math.hasOwnProperty(e)||or.text.hasOwnProperty(e)||rue.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:md.hasOwnProperty(e)&&!md[e].primitive}}var gq=/^[]/,Gw=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),KC={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},yq={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class HS{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new dHe(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new lt("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Za("}")),this.gullet.pushTokens(e);var i=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,i}parseExpression(e,n){for(var i=[];;){this.mode==="math"&&this.consumeSpaces();var o=this.fetch();if(HS.endOfExpression.indexOf(o.text)!==-1||n&&o.text===n||e&&md[o.text]&&md[o.text].infix)break;var a=this.parseAtom(n);if(a){if(a.type==="internal")continue}else break;i.push(a)}return this.mode==="text"&&this.formLigatures(i),this.handleInfixNodes(i)}handleInfixNodes(e){for(var n=-1,i,o=0;o<e.length;o++)if(e[o].type==="infix"){if(n!==-1)throw new lt("only one infix operator per group",e[o].token);n=o,i=e[o].replaceWith}if(n!==-1&&i){var a,s,l=e.slice(0,n),c=e.slice(n+1);l.length===1&&l[0].type==="ordgroup"?a=l[0]:a={type:"ordgroup",mode:this.mode,body:l},c.length===1&&c[0].type==="ordgroup"?s=c[0]:s={type:"ordgroup",mode:this.mode,body:c};var u;return i==="\\\\abovefrac"?u=this.callFunction(i,[a,e[n],s],[]):u=this.callFunction(i,[a,s],[]),[u]}else return e}handleSupSubscript(e){var n=this.fetch(),i=n.text;this.consume(),this.consumeSpaces();var o;do{var a;o=this.parseGroup(e)}while(((a=o)==null?void 0:a.type)==="internal");if(!o)throw new lt("Expected group after '"+i+"'",n);return o}formatUnsupportedCmd(e){for(var n=[],i=0;i<e.length;i++)n.push({type:"textord",mode:"text",text:e[i]});var o={type:"text",mode:this.mode,body:n},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[o]};return a}parseAtom(e){var n=this.parseGroup("atom",e);if((n==null?void 0:n.type)==="internal"||this.mode==="text")return n;for(var i,o;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(n&&n.type==="op"){var s=a.text==="\\limits";n.limits=s,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=a.text==="\\limits");else throw new lt("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(i)throw new lt("Double superscript",a);i=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(o)throw new lt("Double subscript",a);o=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(i)throw new lt("Double superscript",a);var l={type:"textord",mode:this.mode,text:"\\prime"},c=[l];for(this.consume();this.fetch().text==="'";)c.push(l),this.consume();this.fetch().text==="^"&&c.push(this.handleSupSubscript("superscript")),i={type:"ordgroup",mode:this.mode,body:c}}else if(Gw[a.text]){var u=gq.test(a.text),d=[];for(d.push(new Za(Gw[a.text])),this.consume();;){var h=this.fetch().text;if(!Gw[h]||gq.test(h)!==u)break;d.unshift(new Za(Gw[h])),this.consume()}var f=this.subparse(d);u?o={type:"ordgroup",mode:"math",body:f}:i={type:"ordgroup",mode:"math",body:f}}else break}return i||o?{type:"supsub",mode:this.mode,base:n,sup:i,sub:o}:n}parseFunction(e,n){var i=this.fetch(),o=i.text,a=md[o];if(!a)return null;if(this.consume(),n&&n!=="atom"&&!a.allowedInArgument)throw new lt("Got function '"+o+"' with no arguments"+(n?" as "+n:""),i);if(this.mode==="text"&&!a.allowedInText)throw new lt("Can't use function '"+o+"' in text mode",i);if(this.mode==="math"&&a.allowedInMath===!1)throw new lt("Can't use function '"+o+"' in math mode",i);var{args:s,optArgs:l}=this.parseArguments(o,a);return this.callFunction(o,s,l,i,e)}callFunction(e,n,i,o,a){var s={funcName:e,parser:this,token:o,breakOnTokenText:a},l=md[e];if(l&&l.handler)return l.handler(s,n,i);throw new lt("No function handler for "+e)}parseArguments(e,n){var i=n.numArgs+n.numOptionalArgs;if(i===0)return{args:[],optArgs:[]};for(var o=[],a=[],s=0;s<i;s++){var l=n.argTypes&&n.argTypes[s],c=s<n.numOptionalArgs;(n.primitive&&l==null||n.type==="sqrt"&&s===1&&a[0]==null)&&(l="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",l,c);if(c)a.push(u);else if(u!=null)o.push(u);else throw new lt("Null argument, please report this as a bug")}return{args:o,optArgs:a}}parseGroupOfType(e,n,i){switch(n){case"color":return this.parseColorGroup(i);case"size":return this.parseSizeGroup(i);case"url":return this.parseUrlGroup(i);case"math":case"text":return this.parseArgumentGroup(i,n);case"hbox":{var o=this.parseArgumentGroup(i,"text");return o!=null?{type:"styling",mode:o.mode,body:[o],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",i);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(i)throw new lt("A primitive argument cannot be optional");var s=this.parseGroup(e);if(s==null)throw new lt("Expected group as "+e,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(i);default:throw new lt("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var i=this.gullet.scanArgument(n);if(i==null)return null;for(var o="",a;(a=this.fetch()).text!=="EOF";)o+=a.text,this.consume();return this.consume(),i.text=o,i}parseRegexGroup(e,n){for(var i=this.fetch(),o=i,a="",s;(s=this.fetch()).text!=="EOF"&&e.test(a+s.text);)o=s,a+=o.text,this.consume();if(a==="")throw new lt("Invalid "+n+": '"+i.text+"'",i);return i.range(o,a)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var i=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!i)throw new lt("Invalid color: '"+n.text+"'",n);var o=i[0];return/^[0-9a-f]{6}$/i.test(o)&&(o="#"+o),{type:"color-token",mode:this.mode,color:o}}parseSizeGroup(e){var n,i=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",i=!0);var o=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!o)throw new lt("Invalid size: '"+n.text+"'",n);var a={number:+(o[1]+o[2]),unit:o[3]};if(!fce(a))throw new lt("Invalid unit: '"+a.unit+"'",n);return{type:"size",mode:this.mode,value:a,isBlank:i}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var i=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:i}}parseArgumentGroup(e,n){var i=this.gullet.scanArgument(e);if(i==null)return null;var o=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:i.loc,body:a};return n&&this.switchMode(o),s}parseGroup(e,n){var i=this.fetch(),o=i.text,a;if(o==="{"||o==="\\begingroup"){this.consume();var s=o==="{"?"}":"\\endgroup";this.gullet.beginGroup();var l=this.parseExpression(!1,s),c=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:ra.range(i,c),body:l,semisimple:o==="\\begingroup"||void 0}}else if(a=this.parseFunction(n,e)||this.parseSymbol(),a==null&&o[0]==="\\"&&!rue.hasOwnProperty(o)){if(this.settings.throwOnError)throw new lt("Undefined control sequence: "+o,i);a=this.formatUnsupportedCmd(o),this.consume()}return a}formLigatures(e){for(var n=e.length-1,i=0;i<n;++i){var o=e[i],a=o.text;a==="-"&&e[i+1].text==="-"&&(i+1<n&&e[i+2].text==="-"?(e.splice(i,3,{type:"textord",mode:"text",loc:ra.range(o,e[i+2]),text:"---"}),n-=2):(e.splice(i,2,{type:"textord",mode:"text",loc:ra.range(o,e[i+1]),text:"--"}),n-=1)),(a==="'"||a==="`")&&e[i+1].text===a&&(e.splice(i,2,{type:"textord",mode:"text",loc:ra.range(o,e[i+1]),text:a+a}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var i=n.slice(5),o=i.charAt(0)==="*";if(o&&(i=i.slice(1)),i.length<2||i.charAt(0)!==i.slice(-1))throw new lt(`\\verb assertion failed --
                    please report what input caused this bug`);return i=i.slice(1,-1),{type:"verb",mode:"text",body:i,star:o}}yq.hasOwnProperty(n[0])&&!or[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=yq[n[0]]+n.slice(1));var a=sHe.exec(n);a&&(n=n.substring(0,a.index),n==="i"?n="":n==="j"&&(n=""));var s;if(or[this.mode][n]){this.settings.strict&&this.mode==="math"&&r9.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var l=or[this.mode][n].group,c=ra.range(e),u;if(Qje.hasOwnProperty(l)){var d=l;u={type:"atom",mode:this.mode,family:d,loc:c,text:n}}else u={type:l,mode:this.mode,loc:c,text:n};s=u}else if(n.charCodeAt(0)>=128)this.settings.strict&&(dce(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),s={type:"textord",mode:"text",loc:ra.range(e),text:n};else return null;if(this.consume(),a)for(var h=0;h<a[0].length;h++){var f=a[0][h];if(!KC[f])throw new lt("Unknown accent ' "+f+"'",e);var m=KC[f][this.mode]||KC[f].text;if(!m)throw new lt("Accent "+f+" unsupported in "+this.mode+" mode",e);s={type:"accent",mode:this.mode,loc:ra.range(e),label:m,isStretchy:!1,isShifty:!0,base:s}}return s}}HS.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var LO=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var i=new HS(e,n);delete i.gullet.macros.current["\\df@tag"];var o=i.parse();if(delete i.gullet.macros.current["\\current@color"],delete i.gullet.macros.current["\\color"],i.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new lt("\\tag works only in display equations");o=[{type:"tag",mode:"text",body:o,tag:i.subparse([new Za("\\df@tag")])}]}return o},UO=function(e,n,i){n.textContent="";var o=WS(e,i).toNode();n.appendChild(o)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),UO=function(){throw new lt("KaTeX doesn't work in quirks mode.")});var iue=function(e,n){var i=WS(e,n).toMarkup();return i},oue=function(e,n){var i=new xO(n);return LO(e,i)},aue=function(e,n,i){if(i.throwOnError||!(e instanceof lt))throw e;var o=Fe.makeSpan(["katex-error"],[new ts(n)]);return o.setAttribute("title",e.toString()),o.setAttribute("style","color:"+i.errorColor),o},WS=function(e,n){var i=new xO(n);try{var o=LO(e,i);return SFe(o,e,i)}catch(a){return aue(a,e,i)}},sue=function(e,n){var i=new xO(n);try{var o=LO(e,i);return kFe(o,e,i)}catch(a){return aue(a,e,i)}},lue="0.16.22",cue={Span:Av,Anchor:kO,SymbolNode:ts,SvgNode:Kc,PathNode:Id,LineNode:n9},VS={version:lue,render:UO,renderToString:iue,ParseError:lt,SETTINGS_SCHEMA:Ly,__parse:oue,__renderToDomTree:WS,__renderToHTMLTree:sue,__setFontMetrics:hce,__defineSymbol:Y,__defineFunction:kt,__defineMacro:ke,__domTree:cue};const o0t=Object.freeze(Object.defineProperty({__proto__:null,ParseError:lt,SETTINGS_SCHEMA:Ly,__defineFunction:kt,__defineMacro:ke,__defineSymbol:Y,__domTree:cue,__parse:oue,__renderToDomTree:WS,__renderToHTMLTree:sue,__setFontMetrics:hce,default:VS,get render(){return UO},renderToString:iue,version:lue},Symbol.toStringTag,{value:"Module"}));function hHe({editor:r,...e}){const{t:n}=Cn(),i=lg(r,af.name,{text:"",defaultShowPicker:!1}),{text:o,defaultShowPicker:a}=i,[s,l]=P.useState(""),c=P.useCallback(()=>{r.chain().focus().setKatex({text:s}).run(),l("")},[r,s]);P.useEffect(()=>{a&&r.chain().updateAttributes(af.name,{defaultShowPicker:!1}).focus().run()},[r,a]);const u=P.useMemo(()=>{try{return VS.renderToString(`${s}`)}catch{return s}},[s]),d=P.useMemo(()=>`${s}`.trim()?E.jsx("span",{contentEditable:!1,dangerouslySetInnerHTML:{__html:u||""}}):null,[s,u]);return E.jsxs(as,{modal:!0,children:[E.jsx(ss,{asChild:!0,children:E.jsx(ft,{icon:e==null?void 0:e.icon,tooltip:e==null?void 0:e.tooltip})}),E.jsxs(wa,{align:"start",className:"richtext-size-full richtext-p-2",hideWhenDetached:!0,side:"bottom",children:[E.jsx(ha,{className:"richtext-mb-[6px]",children:n("editor.formula.dialog.text")}),E.jsx("div",{className:"richtext-mb-[16px] richtext-flex richtext-w-full richtext-max-w-sm richtext-items-center richtext-gap-1.5",children:E.jsx("div",{className:"richtext-relative richtext-w-full richtext-max-w-sm",children:E.jsx(Ev,{autoFocus:!0,className:"richtext-w-full",defaultValue:o,onChange:h=>l(h.target.value),placeholder:"Text",required:!0,rows:3,value:s})})}),d&&E.jsx("div",{className:"richtext-my-[10px] richtext-max-w-[286px] richtext-overflow-auto richtext-whitespace-nowrap richtext-rounded-[6px] !richtext-border richtext-p-[10px]",children:d}),E.jsxs("div",{className:"richtext-flex richtext-items-center richtext-justify-between richtext-gap-[6px]",children:[E.jsx(Nn,{className:"richtext-flex-1",onClick:c,children:"Submit"}),E.jsx("a",{href:"https://katex.org/docs/supported",rel:"noreferrer noopener",target:"_blank",children:E.jsx(iie,{size:16})})]})]})]})}function fHe(r,e=1){let n=0,i=0,o=0;if(r.startsWith("rgb")){const a=r.replace(/\s/g,"").match(/rgb\((.*)\)$/)[1].split(",");n=+a[0],i=+a[1],o=+a[2]}else if(r.startsWith("#")){let a=r.replace("#","");a.length===3&&(a=`${a[0]}${a[0]}${a[1]}${a[1]}${a[2]}${a[2]}`),n=Number.parseInt(a.substring(0,2),16),i=Number.parseInt(a.substring(2,4),16),o=Number.parseInt(a.substring(4,6),16)}else return r;return e>1&&e<=100&&(e=e/100),`rgba(${n},${i},${o},${e})`}function pHe({node:r}){const e=gze(),{text:n}=r.attrs,i=P.useMemo(()=>{const s="rgb(254, 242, 237)";return e==="dark"?fHe(s,.75):s},[e]),o=P.useMemo(()=>{try{return VS.renderToString(`${n}`)}catch{return n}},[n]),a=P.useMemo(()=>n.trim()?E.jsx("span",{contentEditable:!1,dangerouslySetInnerHTML:{__html:o}}):E.jsx("span",{contentEditable:!1,children:"Not enter a formula"}),[n,o]);return E.jsx(ua,{style:{display:"inline-block",backgroundColor:i},as:"span",children:a})}function mHe(r){return e=>e.getAttribute(r)}const af=Un.create({name:"katex",group:"inline",inline:!0,defining:!0,draggable:!0,selectable:!0,addOptions(){return{HTMLAttributes:{class:"katex"},button:({editor:r,t:e})=>({component:hHe,componentProps:{editor:r,action:()=>!0,isActive:()=>!1,disabled:!1,icon:"KatexIcon",tooltip:e("editor.katex.tooltip")}})}},addAttributes(){return{text:{default:"",parseHTML:mHe("text")},defaultShowPicker:{default:!1}}},parseHTML(){return[{tag:"span.katex"}]},renderHTML({HTMLAttributes:r}){return["span",en(this.options&&this.options.HTMLAttributes||{},r)]},addCommands(){return{setKatex:r=>({commands:e})=>e.insertContent({type:this.name,attrs:r})}},addInputRules(){return[av({find:/^\$katex\$$/,type:this.type,getAttributes:()=>({defaultShowPicker:!0})})]},addNodeView(){return Ps(pHe)}}),{abs:D1,cos:ac,sin:xm,acos:gHe,atan2:M1,sqrt:Bu,pow:La}=Math;function R1(r){return r<0?-La(-r,1/3):La(r,1/3)}const uue=Math.PI,Kw=2*uue,ju=uue/2,yHe=1e-6,XC=Number.MAX_SAFE_INTEGER||9007199254740991,YC=Number.MIN_SAFE_INTEGER||-9007199254740991,bHe={x:0,y:0,z:0},ht={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(r,e){const n=e(r);let i=n.x*n.x+n.y*n.y;return typeof n.z<"u"&&(i+=n.z*n.z),Bu(i)},compute:function(r,e,n){if(r===0)return e[0].t=0,e[0];const i=e.length-1;if(r===1)return e[i].t=1,e[i];const o=1-r;let a=e;if(i===0)return e[0].t=r,e[0];if(i===1){const l={x:o*a[0].x+r*a[1].x,y:o*a[0].y+r*a[1].y,t:r};return n&&(l.z=o*a[0].z+r*a[1].z),l}if(i<4){let l=o*o,c=r*r,u,d,h,f=0;i===2?(a=[a[0],a[1],a[2],bHe],u=l,d=o*r*2,h=c):i===3&&(u=l*o,d=l*r*3,h=o*c*3,f=r*c);const m={x:u*a[0].x+d*a[1].x+h*a[2].x+f*a[3].x,y:u*a[0].y+d*a[1].y+h*a[2].y+f*a[3].y,t:r};return n&&(m.z=u*a[0].z+d*a[1].z+h*a[2].z+f*a[3].z),m}const s=JSON.parse(JSON.stringify(e));for(;s.length>1;){for(let l=0;l<s.length-1;l++)s[l]={x:s[l].x+(s[l+1].x-s[l].x)*r,y:s[l].y+(s[l+1].y-s[l].y)*r},typeof s[l].z<"u"&&(s[l].z=s[l].z+(s[l+1].z-s[l].z)*r);s.splice(s.length-1,1)}return s[0].t=r,s[0]},computeWithRatios:function(r,e,n,i){const o=1-r,a=n,s=e;let l=a[0],c=a[1],u=a[2],d=a[3],h;if(l*=o,c*=r,s.length===2)return h=l+c,{x:(l*s[0].x+c*s[1].x)/h,y:(l*s[0].y+c*s[1].y)/h,z:i?(l*s[0].z+c*s[1].z)/h:!1,t:r};if(l*=o,c*=2*o,u*=r*r,s.length===3)return h=l+c+u,{x:(l*s[0].x+c*s[1].x+u*s[2].x)/h,y:(l*s[0].y+c*s[1].y+u*s[2].y)/h,z:i?(l*s[0].z+c*s[1].z+u*s[2].z)/h:!1,t:r};if(l*=o,c*=1.5*o,u*=3*o,d*=r*r*r,s.length===4)return h=l+c+u+d,{x:(l*s[0].x+c*s[1].x+u*s[2].x+d*s[3].x)/h,y:(l*s[0].y+c*s[1].y+u*s[2].y+d*s[3].y)/h,z:i?(l*s[0].z+c*s[1].z+u*s[2].z+d*s[3].z)/h:!1,t:r}},derive:function(r,e){const n=[];for(let i=r,o=i.length,a=o-1;o>1;o--,a--){const s=[];for(let l=0,c;l<a;l++)c={x:a*(i[l+1].x-i[l].x),y:a*(i[l+1].y-i[l].y)},e&&(c.z=a*(i[l+1].z-i[l].z)),s.push(c);n.push(s),i=s}return n},between:function(r,e,n){return e<=r&&r<=n||ht.approximately(r,e)||ht.approximately(r,n)},approximately:function(r,e,n){return D1(r-e)<=(n||yHe)},length:function(r){const n=ht.Tvalues.length;let i=0;for(let o=0,a;o<n;o++)a=.5*ht.Tvalues[o]+.5,i+=ht.Cvalues[o]*ht.arcfn(a,r);return .5*i},map:function(r,e,n,i,o){const a=n-e,s=o-i,l=r-e,c=l/a;return i+s*c},lerp:function(r,e,n){const i={x:e.x+r*(n.x-e.x),y:e.y+r*(n.y-e.y)};return e.z!==void 0&&n.z!==void 0&&(i.z=e.z+r*(n.z-e.z)),i},pointToString:function(r){let e=r.x+"/"+r.y;return typeof r.z<"u"&&(e+="/"+r.z),e},pointsToString:function(r){return"["+r.map(ht.pointToString).join(", ")+"]"},copy:function(r){return JSON.parse(JSON.stringify(r))},angle:function(r,e,n){const i=e.x-r.x,o=e.y-r.y,a=n.x-r.x,s=n.y-r.y,l=i*s-o*a,c=i*a+o*s;return M1(l,c)},round:function(r,e){const n=""+r,i=n.indexOf(".");return parseFloat(n.substring(0,i+1+e))},dist:function(r,e){const n=r.x-e.x,i=r.y-e.y;return Bu(n*n+i*i)},closest:function(r,e){let n=La(2,63),i,o;return r.forEach(function(a,s){o=ht.dist(e,a),o<n&&(n=o,i=s)}),{mdist:n,mpos:i}},abcratio:function(r,e){if(e!==2&&e!==3)return!1;if(typeof r>"u")r=.5;else if(r===0||r===1)return r;const n=La(r,e)+La(1-r,e),i=n-1;return D1(i/n)},projectionratio:function(r,e){if(e!==2&&e!==3)return!1;if(typeof r>"u")r=.5;else if(r===0||r===1)return r;const n=La(1-r,e),i=La(r,e)+n;return n/i},lli8:function(r,e,n,i,o,a,s,l){const c=(r*i-e*n)*(o-s)-(r-n)*(o*l-a*s),u=(r*i-e*n)*(a-l)-(e-i)*(o*l-a*s),d=(r-n)*(a-l)-(e-i)*(o-s);return d==0?!1:{x:c/d,y:u/d}},lli4:function(r,e,n,i){const o=r.x,a=r.y,s=e.x,l=e.y,c=n.x,u=n.y,d=i.x,h=i.y;return ht.lli8(o,a,s,l,c,u,d,h)},lli:function(r,e){return ht.lli4(r,r.c,e,e.c)},makeline:function(r,e){return new gr(r.x,r.y,(r.x+e.x)/2,(r.y+e.y)/2,e.x,e.y)},findbbox:function(r){let e=XC,n=XC,i=YC,o=YC;return r.forEach(function(a){const s=a.bbox();e>s.x.min&&(e=s.x.min),n>s.y.min&&(n=s.y.min),i<s.x.max&&(i=s.x.max),o<s.y.max&&(o=s.y.max)}),{x:{min:e,mid:(e+i)/2,max:i,size:i-e},y:{min:n,mid:(n+o)/2,max:o,size:o-n}}},shapeintersections:function(r,e,n,i,o){if(!ht.bboxoverlap(e,i))return[];const a=[],s=[r.startcap,r.forward,r.back,r.endcap],l=[n.startcap,n.forward,n.back,n.endcap];return s.forEach(function(c){c.virtual||l.forEach(function(u){if(u.virtual)return;const d=c.intersects(u,o);d.length>0&&(d.c1=c,d.c2=u,d.s1=r,d.s2=n,a.push(d))})}),a},makeshape:function(r,e,n){const i=e.points.length,o=r.points.length,a=ht.makeline(e.points[i-1],r.points[0]),s=ht.makeline(r.points[o-1],e.points[0]),l={startcap:a,forward:r,back:e,endcap:s,bbox:ht.findbbox([a,r,e,s])};return l.intersections=function(c){return ht.shapeintersections(l,l.bbox,c,c.bbox,n)},l},getminmax:function(r,e,n){if(!n)return{min:0,max:0};let i=XC,o=YC,a,s;n.indexOf(0)===-1&&(n=[0].concat(n)),n.indexOf(1)===-1&&n.push(1);for(let l=0,c=n.length;l<c;l++)a=n[l],s=r.get(a),s[e]<i&&(i=s[e]),s[e]>o&&(o=s[e]);return{min:i,mid:(i+o)/2,max:o,size:o-i}},align:function(r,e){const n=e.p1.x,i=e.p1.y,o=-M1(e.p2.y-i,e.p2.x-n),a=function(s){return{x:(s.x-n)*ac(o)-(s.y-i)*xm(o),y:(s.x-n)*xm(o)+(s.y-i)*ac(o)}};return r.map(a)},roots:function(r,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};const n=r.length-1,i=ht.align(r,e),o=function(I){return 0<=I&&I<=1};if(n===2){const I=i[0].y,L=i[1].y,O=i[2].y,W=I-2*L+O;if(W!==0){const Z=-Bu(L*L-I*O),$=-I+L,F=-(Z+$)/W,A=-(-Z+$)/W;return[F,A].filter(o)}else if(L!==O&&W===0)return[(2*L-O)/(2*L-2*O)].filter(o);return[]}const a=i[0].y,s=i[1].y,l=i[2].y,c=i[3].y;let u=-a+3*s-3*l+c,d=3*a-6*s+3*l,h=-3*a+3*s,f=a;if(ht.approximately(u,0)){if(ht.approximately(d,0))return ht.approximately(h,0)?[]:[-f/h].filter(o);const I=Bu(h*h-4*d*f),L=2*d;return[(I-h)/L,(-h-I)/L].filter(o)}d/=u,h/=u,f/=u;const m=(3*h-d*d)/3,b=m/3,g=(2*d*d*d-9*d*h+27*f)/27,v=g/2,x=v*v+b*b*b;let w,k,T,_,D;if(x<0){const I=-m/3,L=I*I*I,O=Bu(L),W=-g/(2*O),Z=W<-1?-1:W>1?1:W,$=gHe(Z),F=R1(O),A=2*F;return T=A*ac($/3)-d/3,_=A*ac(($+Kw)/3)-d/3,D=A*ac(($+2*Kw)/3)-d/3,[T,_,D].filter(o)}else{if(x===0)return w=v<0?R1(-v):-R1(v),T=2*w-d/3,_=-w-d/3,[T,_].filter(o);{const I=Bu(x);return w=R1(-v+I),k=R1(v+I),[w-k-d/3].filter(o)}}},droots:function(r){if(r.length===3){const e=r[0],n=r[1],i=r[2],o=e-2*n+i;if(o!==0){const a=-Bu(n*n-e*i),s=-e+n,l=-(a+s)/o,c=-(-a+s)/o;return[l,c]}else if(n!==i&&o===0)return[(2*n-i)/(2*(n-i))];return[]}if(r.length===2){const e=r[0],n=r[1];return e!==n?[e/(e-n)]:[]}return[]},curvature:function(r,e,n,i,o){let a,s,l,c,u=0,d=0;const h=ht.compute(r,e),f=ht.compute(r,n),m=h.x*h.x+h.y*h.y;if(i?(a=Bu(La(h.y*f.z-f.y*h.z,2)+La(h.z*f.x-f.z*h.x,2)+La(h.x*f.y-f.x*h.y,2)),s=La(m+h.z*h.z,3/2)):(a=h.x*f.y-h.y*f.x,s=La(m,3/2)),a===0||s===0)return{k:0,r:0};if(u=a/s,d=s/a,!o){const b=ht.curvature(r-.001,e,n,i,!0).k,g=ht.curvature(r+.001,e,n,i,!0).k;c=(g-u+(u-b))/2,l=(D1(g-u)+D1(u-b))/2}return{k:u,r:d,dk:c,adk:l}},inflections:function(r){if(r.length<4)return[];const e=ht.align(r,{p1:r[0],p2:r.slice(-1)[0]}),n=e[2].x*e[1].y,i=e[3].x*e[1].y,o=e[1].x*e[2].y,a=e[3].x*e[2].y,s=18*(-3*n+2*i+3*o-a),l=18*(3*n-i-3*o),c=18*(o-n);if(ht.approximately(s,0)){if(!ht.approximately(l,0)){let f=-c/l;if(0<=f&&f<=1)return[f]}return[]}const u=2*s;if(ht.approximately(u,0))return[];const d=l*l-4*s*c;if(d<0)return[];const h=Math.sqrt(d);return[(h-l)/u,-(l+h)/u].filter(function(f){return 0<=f&&f<=1})},bboxoverlap:function(r,e){const n=["x","y"],i=n.length;for(let o=0,a,s,l,c;o<i;o++)if(a=n[o],s=r[a].mid,l=e[a].mid,c=(r[a].size+e[a].size)/2,D1(s-l)>=c)return!1;return!0},expandbox:function(r,e){e.x.min<r.x.min&&(r.x.min=e.x.min),e.y.min<r.y.min&&(r.y.min=e.y.min),e.z&&e.z.min<r.z.min&&(r.z.min=e.z.min),e.x.max>r.x.max&&(r.x.max=e.x.max),e.y.max>r.y.max&&(r.y.max=e.y.max),e.z&&e.z.max>r.z.max&&(r.z.max=e.z.max),r.x.mid=(r.x.min+r.x.max)/2,r.y.mid=(r.y.min+r.y.max)/2,r.z&&(r.z.mid=(r.z.min+r.z.max)/2),r.x.size=r.x.max-r.x.min,r.y.size=r.y.max-r.y.min,r.z&&(r.z.size=r.z.max-r.z.min)},pairiteration:function(r,e,n){const i=r.bbox(),o=e.bbox(),a=1e5,s=n||.5;if(i.x.size+i.y.size<s&&o.x.size+o.y.size<s)return[(a*(r._t1+r._t2)/2|0)/a+"/"+(a*(e._t1+e._t2)/2|0)/a];let l=r.split(.5),c=e.split(.5),u=[{left:l.left,right:c.left},{left:l.left,right:c.right},{left:l.right,right:c.right},{left:l.right,right:c.left}];u=u.filter(function(h){return ht.bboxoverlap(h.left.bbox(),h.right.bbox())});let d=[];return u.length===0||(u.forEach(function(h){d=d.concat(ht.pairiteration(h.left,h.right,s))}),d=d.filter(function(h,f){return d.indexOf(h)===f})),d},getccenter:function(r,e,n){const i=e.x-r.x,o=e.y-r.y,a=n.x-e.x,s=n.y-e.y,l=i*ac(ju)-o*xm(ju),c=i*xm(ju)+o*ac(ju),u=a*ac(ju)-s*xm(ju),d=a*xm(ju)+s*ac(ju),h=(r.x+e.x)/2,f=(r.y+e.y)/2,m=(e.x+n.x)/2,b=(e.y+n.y)/2,g=h+l,v=f+c,x=m+u,w=b+d,k=ht.lli8(h,f,g,v,m,b,x,w),T=ht.dist(k,r);let _=M1(r.y-k.y,r.x-k.x),D=M1(e.y-k.y,e.x-k.x),I=M1(n.y-k.y,n.x-k.x),L;return _<I?((_>D||D>I)&&(_+=Kw),_>I&&(L=I,I=_,_=L)):I<D&&D<_?(L=I,I=_,_=L):I+=Kw,k.s=_,k.e=I,k.r=T,k},numberSort:function(r,e){return r-e}};class By{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(e){return ht.pointsToString(e.points)}).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map(function(e){return e.length()}).reduce(function(e,n){return e+n})}curve(e){return this.curves[e]}bbox(){const e=this.curves;for(var n=e[0].bbox(),i=1;i<e.length;i++)ht.expandbox(n,e[i].bbox());return n}offset(e){const n=[];return this.curves.forEach(function(i){n.push(...i.offset(e))}),new By(n)}}const{abs:N1,min:bq,max:vq,cos:vHe,sin:xHe,acos:wHe,sqrt:O1}=Math,SHe=Math.PI;class gr{constructor(e){let n=e&&e.forEach?e:Array.from(arguments).slice(),i=!1;if(typeof n[0]=="object"){i=n.length;const m=[];n.forEach(function(b){["x","y","z"].forEach(function(g){typeof b[g]<"u"&&m.push(b[g])})}),n=m}let o=!1;const a=n.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(a!==6&&a!==8&&a!==9&&a!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const s=this._3d=!o&&(a===9||a===12)||e&&e[0]&&typeof e[0].z<"u",l=this.points=[];for(let m=0,b=s?3:2;m<a;m+=b){var c={x:n[m],y:n[m+1]};s&&(c.z=n[m+2]),l.push(c)}const u=this.order=l.length-1,d=this.dims=["x","y"];s&&d.push("z"),this.dimlen=d.length;const h=ht.align(l,{p1:l[0],p2:l[u]}),f=ht.dist(l[0],l[u]);this._linear=h.reduce((m,b)=>m+N1(b.y),0)<f/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,n,i,o){if(typeof o>"u"&&(o=.5),o===0)return new gr(n,n,i);if(o===1)return new gr(e,n,n);const a=gr.getABC(2,e,n,i,o);return new gr(e,a.A,i)}static cubicFromPoints(e,n,i,o,a){typeof o>"u"&&(o=.5);const s=gr.getABC(3,e,n,i,o);typeof a>"u"&&(a=ht.dist(n,s.C));const l=a*(1-o)/o,c=ht.dist(e,i),u=(i.x-e.x)/c,d=(i.y-e.y)/c,h=a*u,f=a*d,m=l*u,b=l*d,g={x:n.x-h,y:n.y-f},v={x:n.x+m,y:n.y+b},x=s.A,w={x:x.x+(g.x-x.x)/(1-o),y:x.y+(g.y-x.y)/(1-o)},k={x:x.x+(v.x-x.x)/o,y:x.y+(v.y-x.y)/o},T={x:e.x+(w.x-e.x)/o,y:e.y+(w.y-e.y)/o},_={x:i.x+(k.x-i.x)/(1-o),y:i.y+(k.y-i.y)/(1-o)};return new gr(e,T,_,i)}static getUtils(){return ht}getUtils(){return gr.getUtils()}static get PolyBezier(){return By}valueOf(){return this.toString()}toString(){return ht.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const e=this.points,n=e[0].x,i=e[0].y,o=["M",n,i,this.order===2?"Q":"C"];for(let a=1,s=e.length;a<s;a++)o.push(e[a].x),o.push(e[a].y);return o.join(" ")}setRatios(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){const e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map(function(e,n){return""+n+e.x+e.y+(e.z?e.z:0)}).join("")}update(){this._lut=[],this.dpoints=ht.derive(this.points,this._3d),this.computedirection()}computedirection(){const e=this.points,n=ht.angle(e[0],e[this.order],e[1]);this.clockwise=n>0}length(){return ht.length(this.derivative.bind(this))}static getABC(e=2,n,i,o,a=.5){const s=ht.projectionratio(a,e),l=1-s,c={x:s*n.x+l*o.x,y:s*n.y+l*o.y},u=ht.abcratio(a,e);return{A:{x:i.x+(i.x-c.x)/u,y:i.y+(i.y-c.y)/u},B:i,C:c,S:n,E:o}}getABC(e,n){n=n||this.get(e);let i=this.points[0],o=this.points[this.order];return gr.getABC(this.order,i,n,o,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e+1)return this._lut;this._lut=[],e++,this._lut=[];for(let n=0,i,o;n<e;n++)o=n/(e-1),i=this.compute(o),i.t=o,this._lut.push(i);return this._lut}on(e,n){n=n||5;const i=this.getLUT(),o=[];for(let a=0,s,l=0;a<i.length;a++)s=i[a],ht.dist(s,e)<n&&(o.push(s),l+=a/i.length);return o.length?t/=o.length:!1}project(e){const n=this.getLUT(),i=n.length-1,o=ht.closest(n,e),a=o.mpos,s=(a-1)/i,l=(a+1)/i,c=.1/i;let u=o.mdist,d=s,h=d,f;u+=1;for(let m;d<l+c;d+=c)f=this.compute(d),m=ht.dist(e,f),m<u&&(u=m,h=d);return h=h<0?0:h>1?1:h,f=this.compute(h),f.t=h,f.d=u,f}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?ht.computeWithRatios(e,this.points,this.ratios,this._3d):ht.compute(e,this.points,this._3d,this.ratios)}raise(){const e=this.points,n=[e[0]],i=e.length;for(let o=1,a,s;o<i;o++)a=e[o],s=e[o-1],n[o]={x:(i-o)/i*a.x+o/i*s.x,y:(i-o)/i*a.y+o/i*s.y};return n[i]=e[i-1],new gr(n)}derivative(e){return ht.compute(e,this.dpoints[0],this._3d)}dderivative(e){return ht.compute(e,this.dpoints[1],this._3d)}align(){let e=this.points;return new gr(ht.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return ht.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return ht.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){const n=this.derivative(e),i=O1(n.x*n.x+n.y*n.y);return{t:e,x:-n.y/i,y:n.x/i}}__normal3(e){const n=this.derivative(e),i=this.derivative(e+.01),o=O1(n.x*n.x+n.y*n.y+n.z*n.z),a=O1(i.x*i.x+i.y*i.y+i.z*i.z);n.x/=o,n.y/=o,n.z/=o,i.x/=a,i.y/=a,i.z/=a;const s={x:i.y*n.z-i.z*n.y,y:i.z*n.x-i.x*n.z,z:i.x*n.y-i.y*n.x},l=O1(s.x*s.x+s.y*s.y+s.z*s.z);s.x/=l,s.y/=l,s.z/=l;const c=[s.x*s.x,s.x*s.y-s.z,s.x*s.z+s.y,s.x*s.y+s.z,s.y*s.y,s.y*s.z-s.x,s.x*s.z-s.y,s.y*s.z+s.x,s.z*s.z];return{t:e,x:c[0]*n.x+c[1]*n.y+c[2]*n.z,y:c[3]*n.x+c[4]*n.y+c[5]*n.z,z:c[6]*n.x+c[7]*n.y+c[8]*n.z}}hull(e){let n=this.points,i=[],o=[],a=0;for(o[a++]=n[0],o[a++]=n[1],o[a++]=n[2],this.order===3&&(o[a++]=n[3]);n.length>1;){i=[];for(let s=0,l,c=n.length-1;s<c;s++)l=ht.lerp(e,n[s],n[s+1]),o[a++]=l,i.push(l);n=i}return o}split(e,n){if(e===0&&n)return this.split(n).left;if(n===1)return this.split(e).right;const i=this.hull(e),o={left:this.order===2?new gr([i[0],i[3],i[5]]):new gr([i[0],i[4],i[7],i[9]]),right:this.order===2?new gr([i[5],i[4],i[2]]):new gr([i[9],i[8],i[6],i[3]]),span:i};return o.left._t1=ht.map(0,0,1,this._t1,this._t2),o.left._t2=ht.map(e,0,1,this._t1,this._t2),o.right._t1=ht.map(e,0,1,this._t1,this._t2),o.right._t2=ht.map(1,0,1,this._t1,this._t2),n?(n=ht.map(n,e,1,0,1),o.right.split(n).left):o}extrema(){const e={};let n=[];return this.dims.forEach((function(i){let o=function(s){return s[i]},a=this.dpoints[0].map(o);e[i]=ht.droots(a),this.order===3&&(a=this.dpoints[1].map(o),e[i]=e[i].concat(ht.droots(a))),e[i]=e[i].filter(function(s){return s>=0&&s<=1}),n=n.concat(e[i].sort(ht.numberSort))}).bind(this)),e.values=n.sort(ht.numberSort).filter(function(i,o){return n.indexOf(i)===o}),e}bbox(){const e=this.extrema(),n={};return this.dims.forEach((function(i){n[i]=ht.getminmax(this,i,e[i])}).bind(this)),n}overlaps(e){const n=this.bbox(),i=e.bbox();return ht.bboxoverlap(n,i)}offset(e,n){if(typeof n<"u"){const i=this.get(e),o=this.normal(e),a={c:i,n:o,x:i.x+o.x*n,y:i.y+o.y*n};return this._3d&&(a.z=i.z+o.z*n),a}if(this._linear){const i=this.normal(0),o=this.points.map(function(a){const s={x:a.x+e*i.x,y:a.y+e*i.y};return a.z&&i.z&&(s.z=a.z+e*i.z),s});return[new gr(o)]}return this.reduce().map(function(i){return i._linear?i.offset(e)[0]:i.scale(e)})}simple(){if(this.order===3){const o=ht.angle(this.points[0],this.points[3],this.points[1]),a=ht.angle(this.points[0],this.points[3],this.points[2]);if(o>0&&a<0||o<0&&a>0)return!1}const e=this.normal(0),n=this.normal(1);let i=e.x*n.x+e.y*n.y;return this._3d&&(i+=e.z*n.z),N1(wHe(i))<SHe/3}reduce(){let e,n=0,i=0,o=.01,a,s=[],l=[],c=this.extrema().values;for(c.indexOf(0)===-1&&(c=[0].concat(c)),c.indexOf(1)===-1&&c.push(1),n=c[0],e=1;e<c.length;e++)i=c[e],a=this.split(n,i),a._t1=n,a._t2=i,s.push(a),n=i;return s.forEach(function(u){for(n=0,i=0;i<=1;)for(i=n+o;i<=1+o;i+=o)if(a=u.split(n,i),!a.simple()){if(i-=o,N1(n-i)<o)return[];a=u.split(n,i),a._t1=ht.map(n,0,1,u._t1,u._t2),a._t2=ht.map(i,0,1,u._t1,u._t2),l.push(a),n=i;break}n<1&&(a=u.split(n,1),a._t1=ht.map(n,0,1,u._t1,u._t2),a._t2=u._t2,l.push(a))}),l}translate(e,n,i){i=typeof i=="number"?i:n;const o=this.order;let a=this.points.map((s,l)=>(1-l/o)*n+l/o*i);return new gr(this.points.map((s,l)=>({x:s.x+e.x*a[l],y:s.y+e.y*a[l]})))}scale(e){const n=this.order;let i=!1;if(typeof e=="function"&&(i=e),i&&n===2)return this.raise().scale(i);const o=this.clockwise,a=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):e,i?i(1):e);const s=i?i(0):e,l=i?i(1):e,c=[this.offset(0,10),this.offset(1,10)],u=[],d=ht.lli4(c[0],c[0].c,c[1],c[1].c);if(!d)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(h){const f=u[h*n]=ht.copy(a[h*n]);f.x+=(h?l:s)*c[h].n.x,f.y+=(h?l:s)*c[h].n.y}),i?([0,1].forEach(function(h){if(!(n===2&&h)){var f=a[h+1],m={x:f.x-d.x,y:f.y-d.y},b=i?i((h+1)/n):e;i&&!o&&(b=-b);var g=O1(m.x*m.x+m.y*m.y);m.x/=g,m.y/=g,u[h+1]={x:f.x+b*m.x,y:f.y+b*m.y}}}),new gr(u)):([0,1].forEach(h=>{if(n===2&&h)return;const f=u[h*n],m=this.derivative(h),b={x:f.x+m.x,y:f.y+m.y};u[h+1]=ht.lli4(f,b,d,a[h+1])}),new gr(u))}outline(e,n,i,o){if(n=n===void 0?e:n,this._linear){const _=this.normal(0),D=this.points[0],I=this.points[this.points.length-1];let L,O,W;i===void 0&&(i=e,o=n),L={x:D.x+_.x*e,y:D.y+_.y*e},W={x:I.x+_.x*i,y:I.y+_.y*i},O={x:(L.x+W.x)/2,y:(L.y+W.y)/2};const Z=[L,O,W];L={x:D.x-_.x*n,y:D.y-_.y*n},W={x:I.x-_.x*o,y:I.y-_.y*o},O={x:(L.x+W.x)/2,y:(L.y+W.y)/2};const $=[W,O,L],F=ht.makeline($[2],Z[0]),A=ht.makeline(Z[2],$[0]),Q=[F,new gr(Z),A,new gr($)];return new By(Q)}const a=this.reduce(),s=a.length,l=[];let c=[],u,d=0,h=this.length();const f=typeof i<"u"&&typeof o<"u";function m(_,D,I,L,O){return function(W){const Z=L/I,$=(L+O)/I,F=D-_;return ht.map(W,0,1,_+Z*F,_+$*F)}}a.forEach(function(_){const D=_.length();f?(l.push(_.scale(m(e,i,h,d,D))),c.push(_.scale(m(-n,-o,h,d,D)))):(l.push(_.scale(e)),c.push(_.scale(-n))),d+=D}),c=c.map(function(_){return u=_.points,u[3]?_.points=[u[3],u[2],u[1],u[0]]:_.points=[u[2],u[1],u[0]],_}).reverse();const b=l[0].points[0],g=l[s-1].points[l[s-1].points.length-1],v=c[s-1].points[c[s-1].points.length-1],x=c[0].points[0],w=ht.makeline(v,b),k=ht.makeline(g,x),T=[w].concat(l).concat([k]).concat(c);return new By(T)}outlineshapes(e,n,i){n=n||e;const o=this.outline(e,n).curves,a=[];for(let s=1,l=o.length;s<l/2;s++){const c=ht.makeshape(o[s],o[l-s],i);c.startcap.virtual=s>1,c.endcap.virtual=s<l/2-1,a.push(c)}return a}intersects(e,n){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof gr&&(e=e.reduce()),this.curveintersects(this.reduce(),e,n)):this.selfintersects(n)}lineIntersects(e){const n=bq(e.p1.x,e.p2.x),i=bq(e.p1.y,e.p2.y),o=vq(e.p1.x,e.p2.x),a=vq(e.p1.y,e.p2.y);return ht.roots(this.points,e).filter(s=>{var l=this.get(s);return ht.between(l.x,n,o)&&ht.between(l.y,i,a)})}selfintersects(e){const n=this.reduce(),i=n.length-2,o=[];for(let a=0,s,l,c;a<i;a++)l=n.slice(a,a+1),c=n.slice(a+2),s=this.curveintersects(l,c,e),o.push(...s);return o}curveintersects(e,n,i){const o=[];e.forEach(function(s){n.forEach(function(l){s.overlaps(l)&&o.push({left:s,right:l})})});let a=[];return o.forEach(function(s){const l=ht.pairiteration(s.left,s.right,i);l.length>0&&(a=a.concat(l))}),a}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,n,i,o){const a=(o-i)/4,s=this.get(i+a),l=this.get(o-a),c=ht.dist(e,n),u=ht.dist(e,s),d=ht.dist(e,l);return N1(u-c)+N1(d-c)}_iterate(e,n){let i=0,o=1,a;do{a=0,o=1;let s=this.get(i),l,c,u,d,h=!1,f=!1,m,b=o,g=1;do if(f=h,d=u,b=(i+o)/2,l=this.get(b),c=this.get(o),u=ht.getccenter(s,l,c),u.interval={start:i,end:o},h=this._error(u,s,i,o)<=e,m=f&&!h,m||(g=o),h){if(o>=1){if(u.interval.end=g=1,d=u,o>1){let x={x:u.x+u.r*vHe(u.e),y:u.y+u.r*xHe(u.e)};u.e+=ht.angle({x:u.x,y:u.y},x,this.get(1))}break}o=o+(o-i)/2}else o=b;while(!m&&a++<100);if(a>=100)break;d=d||u,n.push(d),i=g}while(o<1);return n}}var kHe=class{constructor(e,n,i){this.x=e,this.y=n,this.z=i}get xy(){return{x:this.x,y:this.y}}at(e){if(e===0)return this.x;if(e===1)return this.y;if(e===2)return this.z;throw new Error(`${e} out of bounds!`)}length(){return this.magnitude()}magnitude(){return Math.sqrt(this.magnitudeSquared())}magnitudeSquared(){return this.x*this.x+this.y*this.y+this.z*this.z}squareDistanceTo(e){let n=this.x-e.x,i=this.y-e.y,o=this.z-e.z;return n*n+i*i+o*o}distanceTo(e){return Math.sqrt(this.squareDistanceTo(e))}maximumEntryMagnitude(){return Math.max(Math.abs(this.x),Math.max(Math.abs(this.y),Math.abs(this.z)))}angle(){return Math.atan2(this.y,this.x)}normalized(){let e=this.magnitude();return $t.of(this.x/e,this.y/e,this.z/e)}normalizedOrZero(){return this.eq($t.zero)?$t.zero:this.normalized()}times(e){return $t.of(this.x*e,this.y*e,this.z*e)}plus(e){return $t.of(this.x+e.x,this.y+e.y,this.z+e.z)}minus(e){return $t.of(this.x-e.x,this.y-e.y,this.z-e.z)}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}cross(e){return $t.of(this.y*e.z-e.y*this.z,e.x*this.z-this.x*e.z,this.x*e.y-e.x*this.y)}scale(e){return typeof e=="number"?this.times(e):$t.of(this.x*e.x,this.y*e.y,this.z*e.z)}orthog(){return this.dot($t.unitX)===0&&this.dot($t.unitY)===0?this.dot($t.unitX)===0?$t.unitX:this.cross($t.unitX).normalized():this.cross($t.unitZ.times(-1)).normalized()}extend(e,n){return this.plus(n.normalized().times(e))}lerp(e,n){return this.times(1-n).plus(e.times(n))}zip(e,n){return $t.of(n(e.x,this.x),n(e.y,this.y),n(e.z,this.z))}map(e){return $t.of(e(this.x,0),e(this.y,1),e(this.z,2))}asArray(){return[this.x,this.y,this.z]}eq(e,n=1e-10){return Math.abs(e.x-this.x)<=n&&Math.abs(e.y-this.y)<=n&&Math.abs(e.z-this.z)<=n}toString(){return`Vec(${this.x}, ${this.y}, ${this.z})`}},THe=class{constructor(e,n){this.x=e,this.y=n}get z(){return 0}get xy(){return{x:this.x,y:this.y}}at(e){if(e===0)return this.x;if(e===1)return this.y;if(e===2)return 0;throw new Error(`${e} out of bounds!`)}length(){return this.magnitude()}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)}magnitudeSquared(){return this.x*this.x+this.y*this.y}squareDistanceTo(e){let n=this.x-e.x,i=this.y-e.y;return n*n+i*i+e.z*e.z}distanceTo(e){return Math.sqrt(this.squareDistanceTo(e))}maximumEntryMagnitude(){return Math.max(Math.abs(this.x),Math.abs(this.y))}angle(){return Math.atan2(this.y,this.x)}normalized(){let e=this.magnitude();return He.of(this.x/e,this.y/e)}normalizedOrZero(){return this.eq($t.zero)?$t.zero:this.normalized()}times(e){return He.of(this.x*e,this.y*e)}plus(e){return $t.of(this.x+e.x,this.y+e.y,e.z)}minus(e){return $t.of(this.x-e.x,this.y-e.y,-e.z)}dot(e){return this.x*e.x+this.y*e.y}cross(e){return $t.of(this.y*e.z,-this.x*e.z,this.x*e.y-e.x*this.y)}scale(e){return typeof e=="number"?this.times(e):He.of(this.x*e.x,this.y*e.y)}orthog(){return this.dot($t.unitX)===0&&this.dot($t.unitY)===0?this.dot($t.unitX)===0?$t.unitX:this.cross($t.unitX).normalized():this.cross($t.unitZ.times(-1)).normalized()}extend(e,n){return this.plus(n.normalized().times(e))}lerp(e,n){return this.times(1-n).plus(e.times(n))}zip(e,n){return $t.of(n(e.x,this.x),n(e.y,this.y),n(e.z,0))}map(e){return $t.of(e(this.x,0),e(this.y,1),e(0,2))}asArray(){return[this.x,this.y,0]}eq(e,n=1e-10){return Math.abs(e.x-this.x)<=n&&Math.abs(e.y-this.y)<=n&&Math.abs(e.z)<=n}toString(){return`Vec(${this.x}, ${this.y})`}},He;(r=>{function e(i,o){return new THe(i,o)}r.of=e;function n({x:i,y:o}){return r.of(i,o)}r.ofXY=n,r.unitX=r.of(1,0),r.unitY=r.of(0,1),r.zero=r.of(0,0)})(He||(He={}));var $t;(r=>{function e(n,i,o){return o===0?He.of(n,i):new kHe(n,i,o)}r.of=e,r.unitX=He.unitX,r.unitY=He.unitY,r.zero=He.zero,r.unitZ=r.of(0,0,1)})($t||($t={}));var hf,EHe=(hf=class{distance(e){return Math.abs(this.signedDistance(e))}containsPoint(e,n=hf.smallValue){return this.signedDistance(e)<n}getLooseBoundingBox(){return this.getTightBoundingBox()}},oe(hf,"smallValue",1e-12),hf),due=EHe,CHe=class extends due{intersectsLineSegment(e){return this.argIntersectsLineSegment(e).map(n=>this.at(n))}},BO=CHe,Kn,ut=(Kn=class{constructor(e,n,i,o,a,s,l,c,u){oe(this,"rows");oe(this,"cachedInverse");this.a1=e,this.a2=n,this.a3=i,this.b1=o,this.b2=a,this.b3=s,this.c1=l,this.c2=c,this.c3=u,this.rows=[$t.of(e,n,i),$t.of(o,a,s),$t.of(l,c,u)]}static ofRows(e,n,i){return new Kn(e.x,e.y,e.z,n.x,n.y,n.z,i.x,i.y,i.z)}inverse(){return this.computeInverse()??Kn.identity}invertable(){return this.computeInverse()!==null}computeInverse(){if(this.cachedInverse!==void 0)return this.cachedInverse;let e=[this.rows[0],this.rows[1],this.rows[2]],n=[$t.unitX,$t.unitY,$t.unitZ];for(let o=0;o<3;o++){let a=e[o].at(o),s=1e-10;if(Math.abs(a)<s){let d=-1;for(let m=1;m<=2;m++){let b=(o+m)%3;if(Math.abs(e[b].at(o))>=s){d=b;break}}if(d===-1)return this.cachedInverse=null,null;let h=e[o],f=n[o];e[o]=e[d],n[o]=n[d],e[d]=h,n[d]=f,a=e[o].at(o)}let l=1/a;e[o]=e[o].times(l),n[o]=n[o].times(l);let c=e[o],u=n[o];for(let d=1;d<=2;d++){let h=(o+d)%3;l=-e[h].at(o),e[h]=e[h].plus(c.times(l)),n[h]=n[h].plus(u.times(l))}}let i=Kn.ofRows(n[0],n[1],n[2]);return this.cachedInverse=i,i}transposed(){return new Kn(this.a1,this.b1,this.c1,this.a2,this.b2,this.c2,this.a3,this.b3,this.c3)}rightMul(e){e=e.transposed();let n=(i,o)=>this.rows[i].dot(e.rows[o]);return new Kn(n(0,0),n(0,1),n(0,2),n(1,0),n(1,1),n(1,2),n(2,0),n(2,1),n(2,2))}transformVec2(e){let n=$t.of(e.x,e.y,1);return n=this.transformVec3(n),He.of(n.x,n.y)}transformVec3(e){return $t.of(this.rows[0].dot(e),this.rows[1].dot(e),this.rows[2].dot(e))}isIdentity(){return this===Kn.identity?!0:this.eq(Kn.identity)}eq(e,n=0){for(let i=0;i<3;i++)if(!this.rows[i].eq(e.rows[i],n))return!1;return!0}toString(){let e="",n=[0,0,0];for(let i of this.rows)for(let o=0;o<3;o++)n[o]=Math.max(n[0],`${i.at(o)}`.length);for(let i=0;i<3;i++){i===0?e+=" ":i===1?e+=" ":e+=" ";for(let o=0;o<3;o++){let a=this.rows[i].at(o).toString(),s="";for(let l=a.length;l<n[o];l++)s+=" ";e+=a+", "+s}i===0?e+=" ":i===1?e+=" ":e+=" ",e+=`
`}return e.trimEnd()}toArray(){return[this.a1,this.a2,this.a3,this.b1,this.b2,this.b3,this.c1,this.c2,this.c3]}mapEntries(e){return new Kn(e(this.a1,[0,0]),e(this.a2,[0,1]),e(this.a3,[0,2]),e(this.b1,[1,0]),e(this.b2,[1,1]),e(this.b3,[1,2]),e(this.c1,[2,0]),e(this.c2,[2,1]),e(this.c3,[2,2]))}getScaleFactor(){return Math.hypot(this.a1,this.a2)}getColumn(e){return $t.of(this.rows[0].at(e),this.rows[1].at(e),this.rows[2].at(e))}maximumEntryMagnitude(){let e=Math.abs(this.a1);for(let n of this.toArray())e=Math.max(e,Math.abs(n));return e}static translation(e){return new Kn(1,0,e.x,0,1,e.y,0,0,1)}static zRotation(e,n=He.zero){if(e===0)return Kn.identity;let i=Math.cos(e),o=Math.sin(e),a=Kn.translation(n);return a=a.rightMul(new Kn(i,-o,0,o,i,0,0,0,1)),a.rightMul(Kn.translation(n.times(-1)))}static scaling2D(e,n=He.of(0,0)){let i=Kn.translation(n),o,a;return typeof e=="number"?(o=e,a=e):(o=e.x,a=e.y),i=i.rightMul(new Kn(o,0,0,0,a,0,0,0,1)),i.rightMul(Kn.translation(n.times(-1)))}toCSSMatrix(){return`matrix(${this.a1},${this.b1},${this.a2},${this.b2},${this.a3},${this.b3})`}static fromCSSMatrix(e){if(e===""||e==="none")return Kn.identity;e=e.trim().replace(/\s+/g," ");let n=l=>l.split(/[\t\n ,]+/g).map(c=>{if(c.trim()==="")return null;let u=!1;if(c.endsWith("%")&&(u=!0,c=c.substring(0,c.length-1)),c=c.replace(/px$/gi,""),!/^-?\d*(?:\.\d*)?(?:e[+-]?\d+)?$/i.test(c))throw new Error(`All arguments to transform functions must be numeric (state: ${JSON.stringify({currentArgument:c,allArguments:l})})`);let d=Number.parseFloat(c);return u&&(d/=100),d}).filter(c=>c!==null),i={matrix:l=>{if(l.length!==6)throw new Error(`Invalid matrix argument: ${l}. Must have length 6`);let c=l[0],u=l[1],d=l[2],h=l[3],f=l[4],m=l[5];return new Kn(c,d,f,u,h,m,0,0,1)},scale:l=>{let c,u;if(l.length===1)c=l[0],u=l[0];else if(l.length===2)c=l[0],u=l[1];else throw new Error(`The scale() function only supports two arguments. Given: ${l}`);return Kn.scaling2D(He.of(c,u))},translate:l=>{let c=0,u=0;if(l.length===1)c=l[0];else if(l.length===2)c=l[0],u=l[1];else throw new Error(`The translate() function requires either 1 or 2 arguments. Given ${l}`);return Kn.translation(He.of(c,u))}},o=/(?:^|\W)(\w+)\s?\(([^)]*)\)/gi,a,s=null;for(;(a=o.exec(e))!==null;){let l=a[1].toLowerCase();if(!(l in i))throw new Error(`Unsupported CSS transform action: ${l}`);let c=n(a[2]),u=i[l](c);s?s=s.rightMul(u):s=u}return s??Kn.identity}},oe(Kn,"identity",new Kn(1,0,0,0,1,0,0,0,1)),Kn),_He=ut,br,Lt=(br=class extends due{constructor(n,i,o,a){super();oe(this,"topLeft");oe(this,"size");oe(this,"area");this.x=n,this.y=i,this.w=o,this.h=a,o<0&&(this.x+=o,this.w=Math.abs(o)),a<0&&(this.y+=a,this.h=Math.abs(a)),this.topLeft=He.of(this.x,this.y),this.size=He.of(this.w,this.h),this.area=this.w*this.h}translatedBy(n){return new br(n.x+this.x,n.y+this.y,this.w,this.h)}resizedTo(n){return new br(this.x,this.y,n.x,n.y)}containsPoint(n){return this.x<=n.x&&this.y<=n.y&&this.x+this.w>=n.x&&this.y+this.h>=n.y}containsRect(n){return this.x<=n.x&&this.y<=n.y&&this.x+this.w>=n.x+n.w&&this.y+this.h>=n.y+n.h}intersects(n){let i=this.x,o=i+this.w,a=n.x,s=n.x+n.w;if(o<a||i>s)return!1;let l=this.y,c=l+this.h,u=n.y,d=n.y+n.h;return!(c<u||l>d)}intersection(n){if(!this.intersects(n))return null;let i=this.topLeft.zip(n.topLeft,Math.max),o=this.bottomRight.zip(n.bottomRight,Math.min);return br.fromCorners(i,o)}union(n){return br.union(this,n)}divideIntoGrid(n,i){let o=[];if(n<=0||i<=0)return o;let a=this.w/n,s=this.h/i;a===0&&(n=1),s===0&&(i=1);for(let l=0;l<i;l++)for(let c=0;c<n;c++){let u=a*c+this.x,d=s*l+this.y;o.push(new br(u,d,a,s))}return o}grownToPoint(n,i=0){let o=new br(n.x-i,n.y-i,i*2,i*2);return this.union(o)}grownBy(n){if(n===0)return this;if(n<0){let i=-Math.min(-n,this.w/2),o=-Math.min(-n,this.h/2);return new br(this.x-i,this.y-o,this.w+i*2,this.h+o*2)}return new br(this.x-n,this.y-n,this.w+n*2,this.h+n*2)}grownToSize(n){if(this.width>=n.x&&this.height>=n.y)return this;let i=Math.max(0,n.x-this.width),o=Math.max(0,n.y-this.height);return new br(this.x-i/2,this.y-o/2,this.width+i,this.height+o)}getClosestPointOnBoundaryTo(n){let i=this.getEdges().map(s=>s.closestPointTo(n)),o=null,a=null;for(let s of i){let l=s.distanceTo(n);(a===null||l<a)&&(o=s,a=l)}return o}isWithinRadiusOf(n,i){if(this.maxDimension>n)return!1;let o=n*n;return this.corners.every(a=>a.minus(i).magnitudeSquared()<o)}get corners(){return[this.bottomRight,this.topRight,this.topLeft,this.bottomLeft]}get maxDimension(){return Math.max(this.w,this.h)}get minDimension(){return Math.min(this.w,this.h)}get bottomRight(){return this.topLeft.plus(this.size)}get topRight(){return this.bottomRight.plus(He.of(0,-this.h))}get bottomLeft(){return this.topLeft.plus(He.of(0,this.h))}get width(){return this.w}get height(){return this.h}get center(){return He.of(this.x+this.w/2,this.y+this.h/2)}getEdges(){let n=this.corners;return[new Tc(n[0],n[1]),new Tc(n[1],n[2]),new Tc(n[2],n[3]),new Tc(n[3],n[0])]}intersectsLineSegment(n){let i=[];for(let o of this.getEdges())o.intersectsLineSegment(n).forEach(a=>i.push(a));return i}signedDistance(n){let i=this.getClosestPointOnBoundaryTo(n),o=n.minus(i).magnitude();return this.containsPoint(n)?-o:o}getTightBoundingBox(){return this}transformedBoundingBox(n){return n===_He.identity?this:br.bboxOf(this.corners.map(i=>n.transformVec2(i)))}eq(n,i=0){return this.topLeft.eq(n.topLeft,i)&&this.size.eq(n.size,i)}toString(){return`Rect(point(${this.x}, ${this.y}), size(${this.w}, ${this.h}))`}static fromCorners(n,i){return new br(Math.min(n.x,i.x),Math.min(n.y,i.y),Math.abs(n.x-i.x),Math.abs(n.y-i.y))}static bboxOf(n,i=0){let o=0,a=0,s=0,l=0,c=!0;for(let u of n)c&&(o=u.x,a=u.y,s=u.x,l=u.y,c=!1),o=Math.min(o,u.x),a=Math.min(a,u.y),s=Math.max(s,u.x),l=Math.max(l,u.y);return br.fromCorners(He.of(o-i,a-i),He.of(s+i,l+i))}static union(...n){if(n.length===0)return br.empty;let i=n[0],o=i.x,a=i.y,s=i.x+i.w,l=i.y+i.h;for(let c=1;c<n.length;c++){let u=n[c];o=Math.min(o,u.x),a=Math.min(a,u.y),s=Math.max(s,u.x+u.w),l=Math.max(l,u.y+u.h)}return new br(o,a,s-o,l-a)}static of(n){let i=n.width??n.w??0,o=n.height??n.h??0;return new br(n.x,n.y,i,o)}},oe(br,"empty",new br(0,0,0,0)),oe(br,"unitSquare",new br(0,0,1,1)),br),al=Lt,qf=class Um extends BO{constructor(n,i){super();oe(this,"direction");oe(this,"length");oe(this,"bbox");this.point1=n,this.point2=i,this.bbox=al.bboxOf([n,i]),this.direction=i.minus(n),this.length=this.direction.magnitude(),this.length>0&&(this.direction=this.direction.times(1/this.length))}static ofSmallestContainingPoints(n){if(n.length<=1)return null;let i=[...n].sort((a,s)=>a.x!==s.x?a.x-s.x:a.y-s.y),o=new Um(i[0],i[i.length-1]);for(let a of i)if(!o.containsPoint(a))return null;return o}get p1(){return this.point1}get p2(){return this.point2}get center(){return this.point1.lerp(this.point2,.5)}get(n){return this.point1.plus(this.direction.times(n))}at(n){return this.get(n*this.length)}normalAt(n){return this.direction.orthog()}tangentAt(n){return this.direction}splitAt(n){return n<=0||n>=1?[this]:[new Um(this.point1,this.at(n)),new Um(this.at(n),this.point2)]}intersection(n){let i,o;if(Math.abs(this.direction.x)<4e-13){if(n.direction.x===0||this.direction.y===0)return null;let u=this.point1.x,d=(this.point1.x-n.point1.x)*n.direction.y/n.direction.x+n.point1.y;i=He.of(u,d),o=(d-this.point1.y)/this.direction.y}else{let u=(this.point1.y-n.point1.y)*this.direction.x*n.direction.x+this.direction.x*n.direction.y*n.point1.x-this.direction.y*n.direction.x*this.point1.x,d=n.direction.y*this.direction.x-this.direction.y*n.direction.x;if(d===0)return null;let h=u/d,f=(h-this.point1.x)/this.direction.x,m=this.point1.y+this.direction.y*f;i=He.of(h,m),o=(h-this.point1.x)/this.direction.x}let a=i.distanceTo(this.point1),s=i.distanceTo(this.point2),l=i.distanceTo(n.point1),c=i.distanceTo(n.point2);return a>this.length||s>this.length||l>n.length||c>n.length?null:{point:i,t:o}}intersects(n){return this.intersection(n)!==null}argIntersectsLineSegment(n){let i=this.intersection(n);return i?[i.t/this.length]:[]}intersectsLineSegment(n){let i=this.intersection(n);return i?[i.point]:[]}closestPointTo(n){return this.nearestPointTo(n).point}nearestPointTo(n){let i=n.minus(this.p1).dot(this.direction),o=this.length-i,a=this.p1.plus(this.direction.times(i));return i>0&&i<this.length?{point:a,parameterValue:i/this.length}:Math.abs(o)<Math.abs(i)?{point:this.p2,parameterValue:1}:{point:this.p1,parameterValue:0}}signedDistance(n){return this.closestPointTo(n).minus(n).magnitude()}transformedBy(n){return new Um(n.transformVec2(this.p1),n.transformVec2(this.p2))}getTightBoundingBox(){return this.bbox}toString(){return`LineSegment(${this.p1.toString()}, ${this.p2.toString()})`}eq(n,i){if(!(n instanceof Um))return!1;let o=i==null?void 0:i.tolerance,a=(i==null?void 0:i.ignoreDirection)??!0;return n.p1.eq(this.p1,o)&&n.p2.eq(this.p2,o)||a&&n.p1.eq(this.p2,o)&&n.p2.eq(this.p1,o)}},Tc=qf,ff,iee,hue=(iee=class extends BO{constructor(n){super();Gn(this,ff,null);n&&xn(this,ff,n)}getBezier(){return Tt(this,ff)||xn(this,ff,new gr(this.getPoints().map(n=>n.xy))),Tt(this,ff)}signedDistance(n){return this.nearestPointTo(n).point.distanceTo(n)}distance(n){return this.signedDistance(n)}at(n){return He.ofXY(this.getBezier().get(n))}derivativeAt(n){return He.ofXY(this.getBezier().derivative(n))}secondDerivativeAt(n){return He.ofXY(this.getBezier().dderivative(n))}normal(n){return He.ofXY(this.getBezier().normal(n))}normalAt(n){return this.normal(n)}tangentAt(n){return this.derivativeAt(n).normalized()}getTightBoundingBox(){let n=this.getBezier().bbox(),i=n.x.max-n.x.min,o=n.y.max-n.y.min;return new al(n.x.min,n.y.min,i,o)}argIntersectsLineSegment(n){let i=Tc.ofSmallestContainingPoints(this.getPoints());return i?i.intersectsLineSegment(n).map(o=>this.nearestPointTo(o).parameterValue):this.getBezier().intersects(n).map(o=>{typeof o=="string"&&(o=Number.parseFloat(o));let a=He.ofXY(this.at(o));return a.distanceTo(n.p1)>n.length||a.distanceTo(n.p2)>n.length?null:o}).filter(o=>o!==null)}splitAt(n){if(n<=0||n>=1)return[this];let i=this.getBezier().split(n);return[new xq(i.left.points.map(o=>He.ofXY(o)),i.left),new xq(i.right.points.map(o=>He.ofXY(o)),i.right)]}nearestPointTo(n){let i=h=>n.squareDistanceTo(this.at(h)),o=i(0),a=0,s=o,l=4;for(let h=0;h<l;h++){let f=h/(l-1),m=i(f);m<s&&(a=f,s=m)}let c=h=>{let f=this.at(h),m=this.derivativeAt(h),b=this.secondDerivativeAt(h);return 2*m.x*m.x+2*f.x*b.x-2*n.x*b.x+2*m.y*m.y+2*f.y*b.y-2*n.y*b.y},u=h=>{let f=this.at(h),m=this.derivativeAt(h);return 2*f.x*m.x-2*n.x*m.x+2*f.y*m.y-2*n.y*m.y},d=()=>{let h=c(a);h!==0&&(a=(0-u(a))/h+a,a>1?a=1:a<0&&(a=0))};for(let h=0;h<12;h++)d();return{parameterValue:a,point:this.at(a)}}intersectsBezier(n){let i=this.getBezier().intersects(n.getBezier());if(!i||i.length===0)return[];let o=[];for(let a of i){let s=/^([\d.Ee-]+)\/([\d.Ee-]+)$/.exec(a);if(!s)throw new Error(`Incorrect format returned by .intersects: ${i} should be array of "number/number"!`);let l=Number.parseFloat(s[1]);o.push({parameterValue:l,point:this.at(l)})}return o}toString(){return`Bzier(${this.getPoints().map(n=>n.toString()).join(", ")})`}},ff=new WeakMap,iee),xq=class extends hue{constructor(e,n){super(n),this.controlPoints=e}getPoints(){return this.controlPoints}},fue=hue,AHe=class extends fue{constructor(e,n,i,o){super(),this.p0=e,this.p1=n,this.p2=i,this.p3=o}getPoints(){return[this.p0,this.p1,this.p2,this.p3]}getLooseBoundingBox(){return al.bboxOf([this.p0,this.p1,this.p2,this.p3])}},DHe=AHe,MHe=class extends BO{constructor(e){super(),this.p=e}signedDistance(e){return this.p.distanceTo(e)}argIntersectsLineSegment(e,n){return e.containsPoint(this.p,n)?[0]:[]}getTightBoundingBox(){return new al(this.p.x,this.p.y,0,0)}at(e){return this.p}normalAt(e){return He.unitY}tangentAt(e){return He.unitX}splitAt(e){return[this]}nearestPointTo(e){return{point:this.p,parameterValue:0}}},RHe=MHe;function NHe(r,e,n){if(r===0){let l;return e===0?l=n===0?0:Number.NaN:l=-n/e,[l,l]}let i=e*e-4*r*n;if(i<0)return[Number.NaN,Number.NaN];let o=Math.sqrt(i),a=(-e+o)/(2*r),s=(-e-o)/(2*r);return a>s?[a,s]:[s,a]}var OHe=NHe,i0=class Zh extends fue{constructor(e,n,i){super(),this.p0=e,this.p1=n,this.p2=i}static componentAt(e,n,i,o){return n+e*(-2*n+2*i)+e*e*(n-2*i+o)}static derivativeComponentAt(e,n,i,o){return-2*n+2*i+2*e*(n-2*i+o)}static secondDerivativeComponentAt(e,n,i,o){return 2*(n-2*i+o)}at(e){if(e===0)return this.p0;if(e===1)return this.p2;let n=this.p0,i=this.p1,o=this.p2;return He.of(Zh.componentAt(e,n.x,i.x,o.x),Zh.componentAt(e,n.y,i.y,o.y))}derivativeAt(e){let n=this.p0,i=this.p1,o=this.p2;return He.of(Zh.derivativeComponentAt(e,n.x,i.x,o.x),Zh.derivativeComponentAt(e,n.y,i.y,o.y))}secondDerivativeAt(e){let n=this.p0,i=this.p1,o=this.p2;return He.of(Zh.secondDerivativeComponentAt(e,n.x,i.x,o.x),Zh.secondDerivativeComponentAt(e,n.y,i.y,o.y))}normal(e){return this.derivativeAt(e).orthog().normalized()}getLooseBoundingBox(){return al.bboxOf([this.p0,this.p1,this.p2])}approximateDistance(e){let n=this.p0.x-e.x,i=-2*this.p0.x+2*this.p1.x,o=this.p0.x-2*this.p1.x+this.p2.x,a=this.p0.y-e.y,s=-2*this.p0.y+2*this.p1.y,l=this.p0.y-2*this.p1.y+this.p2.y,c=2*n*i+2*a*s-e.x*i-e.y*s,u=2*i*i+2*s*s+2*o*n+2*l*a-e.x*o-e.y*l,d=2*s*l+2*i*o+2*o*i+2*l*s,h=c,f=u,m=2*d,[b,g]=OHe(m/2,f,h);isNaN(b)&&(b=.25),isNaN(g)&&(g=.75);let v=this.at(b),x=this.at(g),w=v.squareDistanceTo(e),k=x.squareDistanceTo(e),T=this.at(0).squareDistanceTo(e),_=this.at(1).squareDistanceTo(e);return Math.sqrt(Math.min(w,k,T,_))}getPoints(){return[this.p0,this.p1,this.p2]}},PHe=i0;function IHe(r){if(r.indexOf("e")>0&&/[Ee]-\d{2,}$/.test(r))return"0";let e=r.charAt(r.length-1);(e==="0"||e===".")&&(r=r.replace(/(\.\d*[^0])0+$/,"$1"),r=r.replace(/\.0+$/,"."),r=r.replace(/\.$/,""));let n=r.charAt(0);return(n==="0"||n==="-")&&(r=r.replace(/^(0+)\./,"."),r=r.replace(/^-(0+)\./,"-."),r=r.replace(/^(-?)0+$/,"$10")),r==="-0"?"0":r}var pue=IHe;function xs(r){let e=/^(-?\d*\.\d{3,})0{4,}\d{1,4}$/,n=/^(-?)(\d*)\.(\d{3,}9{4,})\d{1,4}$/,i=r.toString(10);if(!i.includes("."))return i;let o=n.exec(i);if(o){let a=o[1],s=o[3],l=Number.parseInt(s.charAt(s.length-1),10),c=Number.parseInt(s,10),u=Number.parseInt(o[2],10),d=o[3],h=(c+10-l).toString(),f=0;for(h.length>c.toString().length&&(h=h.substring(1),f=1);h.length<d.length;)h=f.toString(10)+h,f=0;i=`${a+(u+f).toString()}.${h}`}return i=i.replace(e,"$1"),pue(i)}var gy=xs,mue=/^(-?)(\d*)\.(\d+)$/;function $He(r){let e=mue.exec(r);return e?e[3].length:r.search(/[Ee]/)!==-1||/^[A-Za-z]+$/.test(r)?-1:0}var zHe=$He;function LHe(r,...e){let n=r.toString(10),i=mue.exec(n);if(!i)return n;let o=-1;for(let u of e)o=Math.max(zHe(u),o);if(o===-1)return gy(r);let a=i[3].substring(0,o),s=i[2],l=i[3].charAt(o);if(l!==""&&Number.parseInt(l,10)>=5){if(a.length>0){let u=/^(0+)(\d*)$/.exec(a),d="",h=a;u&&(d=u[1],h=u[2]),a=(Number.parseInt(a)+1).toString(),a.length>h.length&&d.length>0&&(d=d.substring(1)),a=d+a}(a.length===0||a.length>o)&&(s=(Number.parseInt(s)+1).toString(),a=a.substring(1))}let c=i[1];return pue(`${c}${s}.${a}`)}var wq=LHe;function UHe(r){if(r.length===0)return[];let e=r.reduce((a,s)=>s.y<a.y?s:a,r[0]),n=[e],i=[...r.filter(a=>!a.eq(e))],o=He.of(-1,0);for(;i.length>0;){let a=n[n.length-1],s=o.dot(e.minus(a).normalizedOrZero()),l=e;for(let u of i){let d=o.dot(u.minus(a).normalizedOrZero());d<=s&&(l=u,s=d)}i=i.filter(u=>!u.eq(l));let c=l.minus(a).normalized();if(Math.abs(c.dot(o))===1&&n.length>1&&n.pop(),l.eq(e))break;n.push(l),o=a.minus(l).normalized()}return n}var BHe=UHe,jHe=(r=>(r[r.LineTo=0]="LineTo",r[r.MoveTo=1]="MoveTo",r[r.CubicBezierTo=2]="CubicBezierTo",r[r.QuadraticBezierTo=3]="QuadraticBezierTo",r))(jHe||{});function gue(r,e){let n=r.curveIndex-e.curveIndex;return n===0?r.parameterValue-e.parameterValue:n}function FHe(r,e){return r.parameterValue+e>1?{curveIndex:r.curveIndex+1,parameterValue:r.parameterValue+e-1}:r.parameterValue+e<0?r.curveIndex===0?{curveIndex:0,parameterValue:0}:{curveIndex:r.curveIndex-1,parameterValue:r.parameterValue+e+1}:{curveIndex:r.curveIndex,parameterValue:r.parameterValue+e}}var kr,Dn=(kr=class{constructor(e,n){oe(this,"bbox");oe(this,"parts");oe(this,"cachedGeometry",null);oe(this,"cachedPolylineApproximation",null);oe(this,"cachedStringVersion",null);this.startPoint=e,this.parts=n,this.bbox=al.bboxOf([e]);for(let i of this.parts)this.bbox=this.bbox.union(kr.computeBBoxForSegment(e,i))}getExactBBox(){let e=[];for(let n of this.geometry)e.push(n.getTightBoundingBox());return al.union(...e)}get geometry(){if(this.cachedGeometry)return this.cachedGeometry;let e=this.startPoint,n=[];for(let i of this.parts){let o;switch(i.kind){case 2:n.push(new DHe(e,i.controlPoint1,i.controlPoint2,i.endPoint)),e=i.endPoint;break;case 3:n.push(new PHe(e,i.controlPoint,i.endPoint)),e=i.endPoint;break;case 0:n.push(new Tc(e,i.point)),e=i.point;break;case 1:n.push(new RHe(i.point)),e=i.point;break;default:return o=i,o}}return this.cachedGeometry=n,this.cachedGeometry}*startEndPoints(){yield this.startPoint;for(let e of this.parts){let n;switch(e.kind){case 2:yield e.endPoint;break;case 3:yield e.endPoint;break;case 0:yield e.point;break;case 1:yield e.point;break;default:return n=e,n}}}polylineApproximation(){if(this.cachedPolylineApproximation)return this.cachedPolylineApproximation;let e=[];for(let o of this.parts)switch(o.kind){case 2:e.push(o.controlPoint1,o.controlPoint2,o.endPoint);break;case 3:e.push(o.controlPoint,o.endPoint);break;case 1:case 0:e.push(o.point);break}let n=[],i=this.startPoint;for(let o of e)n.push(new Tc(i,o)),i=o;return n}static computeBBoxForSegment(e,n){let i=[e],o;switch(n.kind){case 1:case 0:i.push(n.point);break;case 2:i.push(n.controlPoint1,n.controlPoint2,n.endPoint);break;case 3:i.push(n.controlPoint,n.endPoint);break;default:return o=n,o}return al.bboxOf(i)}signedDistance(e,n){let i=1/0;for(let o of this.geometry){let a=o.signedDistance(e)-n;a<i&&(i=a)}return i}raymarchIntersectionWith(e,n,i=[]){if(!e.bbox.intersects(this.bbox.grownBy(n)))return[];let o=e.length,a=[];for(let b of this.geometry){let g=b.getTightBoundingBox().grownBy(n);if(!g.intersects(e.bbox))continue;let v=w=>b.signedDistance(w),x=w=>v(w)-n;x(e.p1)>o&&x(e.p2)>o||a.push({part:b,distFn:v,bbox:g})}if(a.length===0)return[];let s=b=>{let g=1/0,v=null,x=[];for(let w of a){let{part:k,distFn:T,bbox:_}=w;if(!_.containsPoint(b)){x.push(w);continue}let D=T(b);D<=g&&(g=D,v=k)}for(let{part:w,distFn:k,bbox:T}of x){if(isFinite(g)&&!T.grownBy(g).containsPoint(b))continue;let _=k(b);_<=g&&(g=_,v=w)}return[v,g-n]},l=8,c=[e.p1,...i,e.p2],u=b=>b.minus(e.p1).dot(e.direction);c.sort((b,g)=>{let v=u(b),x=u(g);return v-x});let d=[],h=n/1e3,f=(b,g,v)=>{let x=b,[w,k]=s(x),T=u(x);if(k>o)return T;let _=e.direction.times(g);for(let I=0;I<l;I++){let L=k;if(x=x.plus(_.times(L)),T=u(x),T<=v)return T;let[O,W]=s(x);if(Math.abs(W)>Math.abs(k))return null;if(k=W,w=O,Math.abs(k)<h)break}let D=T>=0&&T<=o;if(w&&D&&Math.abs(k)<h){d.push({point:x,parameterValue:w.nearestPointTo(x).parameterValue,curve:w,curveIndex:this.geometry.indexOf(w)});let I=n/20/e.length;T+=isFinite(I)?I:0}return T},m=0;for(let b of c)m=Math.max(m,f(b,1,m)??m),m=Math.max(m,f(b,-1,m)??m);return d}intersection(e,n){let i=[];if(!e.bbox.intersects(this.bbox.grownBy(n??0)))return[];if(this.parts.length===0)return new kr(this.startPoint,[{kind:1,point:this.startPoint}]).intersection(e,n);let o=0;for(let a of this.geometry){let s=a.argIntersectsLineSegment(e);for(let l of s)i.push({curve:a,curveIndex:o,point:a.at(l),parameterValue:l});o++}if(n&&n>1e-8){let a=i.map(s=>s.point);i=this.raymarchIntersectionWith(e,n,a)}return i}nearestPointTo(e){let n=1/0,i=0,o=0,a=this.startPoint;for(let s=0;s<this.geometry.length;s++){let l=this.geometry[s].nearestPointTo(e),c=l.point.squareDistanceTo(e);(s===0||c<n)&&(i=s,n=c,o=l.parameterValue,a=l.point)}return{curve:this.geometry[i],curveIndex:i,parameterValue:o,point:a}}at(e){return e.curveIndex===0&&e.parameterValue===0?this.startPoint:this.geometry[e.curveIndex].at(e.parameterValue)}tangentAt(e){return this.geometry[e.curveIndex].tangentAt(e.parameterValue)}splitNear(e,n){let i=this.nearestPointTo(e);return this.splitAt(i,n)}spliced(e,n,i,o){if(((a,s)=>a.curveIndex<s.curveIndex||a.curveIndex===s.curveIndex&&a.parameterValue<=s.parameterValue)(e,n)){let a=this.splitAt(e,o),s=this.splitAt(n,o),l=a[0],c=s[s.length-1];return i?l.union(i).union(c):l.union(c)}else{let a=this.splitAt([e],o)[0].splitNear(this.at(n),o),s=a[a.length-1];return i?s.union(i):s}}splitAt(e,n){for(Array.isArray(e)||(e=[e]),e=[...e],e.sort(gue);e.length>0&&e[e.length-1].curveIndex>=this.parts.length-1&&e[e.length-1].parameterValue>=1;)e.pop();for(e.reverse();e.length>0&&e[e.length-1].curveIndex<=0&&e[e.length-1].parameterValue<=0;)e.pop();if(e.length===0||this.parts.length===0)return[this];let i=e.length+1,o=(n==null?void 0:n.mapNewPoint)??(d=>d),a=[],s=this.startPoint,l=[],{curveIndex:c,parameterValue:u}=e.pop();for(let d=0;d<this.parts.length;d++)if(d!==c)l.push(this.parts[d]);else{let h=this.parts[d],f=this.geometry[d];for(;d===c;){let m,b=[];switch(h.kind){case 1:l.push({kind:h.kind,point:h.point}),m=h.point;break;case 0:{let v=f.splitAt(u);l.push({kind:h.kind,point:o(v[0].p2)}),m=v[0].p2,v.length>1&&(console.assert(v.length===2),b.push({kind:h.kind,point:v[1].p2}),f=v[1])}break;case 3:case 2:{let v=f.splitAt(u),x=v.length===2;for(let w of v){f=w;let k=x?l:b,T=w.getPoints();h.kind===2?k.push({kind:h.kind,controlPoint1:o(T[1]),controlPoint2:o(T[2]),endPoint:o(T[3])}):k.push({kind:h.kind,controlPoint:o(T[1]),endPoint:o(T[2])}),x||(m=T[0]),x=!1}}break;default:return h}a.push(new kr(s,[...l])),s=o(m),console.assert(!!s,"should have a start point"),l=b,h=b[b.length-1]??h;let g=e.pop();if(g)if(c=g.curveIndex,d===c){let v=this.at(g);u=f.nearestPointTo(v).parameterValue,l=[]}else u=g.parameterValue;else break}}return a.push(new kr(s,l)),console.assert(a.length===i,`should split into splitAt.length + 1 splits (was ${a.length}, expected ${i})`),a}asClosed(){let e=[],n=!1;for(let o of this.parts)o.kind===1?(e.push({kind:0,point:o.point}),n=!0):e.push(o);if(this.getEndPoint().eq(this.startPoint)||(e.push({kind:0,point:this.startPoint}),n=!0),!n)return this;let i=new kr(this.startPoint,e);return console.assert(i.getEndPoint().eq(i.startPoint)),i}static mapPathCommand(e,n){switch(e.kind){case 1:case 0:return{kind:e.kind,point:n(e.point)};case 2:return{kind:e.kind,controlPoint1:n(e.controlPoint1),controlPoint2:n(e.controlPoint2),endPoint:n(e.endPoint)};case 3:return{kind:e.kind,controlPoint:n(e.controlPoint),endPoint:n(e.endPoint)}}return e}mapPoints(e){let n=e(this.startPoint),i=[];for(let o of this.parts)i.push(kr.mapPathCommand(o,e));return new kr(n,i)}transformedBy(e){return e.isIdentity()?this:this.mapPoints(n=>e.transformVec2(n))}closedContainsPoint(e){let n=this.getExactBBox();if(!n.containsPoint(e))return!1;let i=e.plus(He.of(n.width,0)),o=this.asClosed(),a=new Tc(e,i),s=o.intersection(a);return s.filter((l,c)=>c===0?!0:!(s[c-1].parameterValue>=1&&l.parameterValue<=0)).length%2===1}closedContainsRect(e){if(!this.bbox.containsRect(e)||!e.corners.every(n=>this.closedContainsPoint(n)))return!1;for(let n of e.getEdges())if(this.intersection(n).length>0)return!1;return!0}union(e,n={allowReverse:!0}){if(!e)return this;if(Array.isArray(e))return new kr(this.startPoint,[...this.parts,...e]);let i=this.getEndPoint(),o=[];if(i.eq(e.startPoint))o=this.parts.concat(e.parts);else{if(n.allowReverse&&this.startPoint.eq(e.getEndPoint()))return e.union(this,{allowReverse:!1});if(n.allowReverse&&this.startPoint.eq(e.startPoint))return this.union(e.reversed(),{allowReverse:!1});o=[...this.parts,{kind:1,point:e.startPoint},...e.parts]}return new kr(this.startPoint,o)}reversed(){let e=this.getEndPoint(),n=[],i=this.startPoint;for(let o of this.parts)switch(o.kind){case 0:case 1:n.push({kind:o.kind,point:i}),i=o.point;break;case 2:n.push({kind:o.kind,controlPoint1:o.controlPoint2,controlPoint2:o.controlPoint1,endPoint:i}),i=o.endPoint;break;case 3:n.push({kind:o.kind,controlPoint:o.controlPoint,endPoint:i}),i=o.endPoint;break;default:return o}return n.reverse(),new kr(e,n)}getEndPoint(){if(this.parts.length===0)return this.startPoint;let e=this.parts[this.parts.length-1];return e.kind===3||e.kind===2?e.endPoint:e.point}roughlyIntersects(e,n=0){if(this.parts.length===0)return e.containsPoint(this.startPoint);if(this.startPoint.eq(this.getEndPoint())&&n===0)return this.closedRoughlyIntersects(e);if(e.containsRect(this.bbox))return!0;let i=this.startPoint;for(let o of this.parts){let a=kr.computeBBoxForSegment(i,o).grownBy(n);if(o.kind===0||o.kind===1?i=o.point:i=o.endPoint,e.intersects(a))return!0}return!1}closedRoughlyIntersects(e){if(e.containsRect(this.bbox))return!0;let n=this.bbox.topLeft.minus(He.of(1,1)),i=e.corners,o=this.polylineApproximation();for(let l of i){let c=new Tc(l,n),u=0;for(let d of o)d.intersects(c)&&u++;if(u%2===1)return!0}let a=e.grownBy(Math.min(e.size.x,e.size.y)),s=[];for(let l of a.divideIntoGrid(4,4))s.push(...l.getEdges());for(let l of s)for(let c of o)if(l.intersects(c))return!0;return!1}eq(e,n){if(e.parts.length!==this.parts.length)return!1;for(let i=0;i<this.parts.length;i++){let o=this.parts[i],a=e.parts[i];switch(o.kind){case 0:case 1:if(o.kind!==a.kind||!o.point.eq(a.point,n))return!1;break;case 2:if(o.kind!==a.kind||!o.controlPoint1.eq(a.controlPoint1,n)||!o.controlPoint2.eq(a.controlPoint2,n)||!o.endPoint.eq(a.endPoint,n))return!1;break;case 3:if(o.kind!==a.kind||!o.controlPoint.eq(a.controlPoint,n)||!o.endPoint.eq(a.endPoint,n))return!1;break;default:return o}}return!0}static fromRect(e,n=null){let i=[],o,a;if(n!==null){let s=He.of(n,n).times(.5),l=al.fromCorners(e.topLeft.plus(s),e.bottomRight.minus(s)),c=al.fromCorners(e.topLeft.minus(s),e.bottomRight.plus(s));o=[l.corners[3],...l.corners,...c.corners.reverse()],a=c.corners[3]}else o=e.corners.slice(1),a=e.corners[0];for(let s of o)i.push({kind:0,point:s});return i.push({kind:0,point:a}),new kr(a,i)}toString(e,n=!1){if(this.cachedStringVersion&&!n)return this.cachedStringVersion;e===void 0&&(e=Math.abs(this.bbox.topLeft.x)>10&&Math.abs(this.bbox.topLeft.y)>10);let i=kr.toString(this.startPoint,this.parts,!e);return this.cachedStringVersion=i,i}serialize(){return this.toString()}static toString(e,n,i){var c;let o=[],a,s=(u,...d)=>{let h=[],f=[],m=!a||i,b=a?gy(a.x):"",g=a?gy(a.y):"";for(let x of d){let w=gy(x.x),k=gy(x.y);if(m)h.push(`${w},${k}`);else{let T=wq(x.x-a.x,w,b,g),_=wq(x.y-a.y,k,b,g);_.charAt(0)==="-"?f.push(`${T}${_}`):f.push(`${T},${_}`)}}let v;m?v=`${u}${h.join(" ")}`:v=`${u.toLowerCase()}${f.join(" ")}`,!(v==="l0,0"||v==="m0,0")&&(o.push(v),d.length>0&&(a=d[d.length-1]))};((c=n[0])==null?void 0:c.kind)!==1&&s("M",e);let l;for(let u of n)switch(u.kind){case 1:s("M",u.point);break;case 0:s("L",u.point);break;case 2:s("C",u.controlPoint1,u.controlPoint2,u.endPoint);break;case 3:s("Q",u.controlPoint,u.endPoint);break;default:return l=u,l}return o.join("")}static fromString(e){e=e.split(`
`).join(" ");let n=He.zero,i=null,o=null,a=!0,s=[],l=g=>{if(a){a=!1;return}s.push({kind:1,point:g})},c=g=>{if(a){a=!1;return}s.push({kind:0,point:g})},u=(g,v,x)=>{s.push({kind:2,controlPoint1:g,controlPoint2:v,endPoint:x})},d=(g,v)=>{s.push({kind:3,controlPoint:g,endPoint:v})},h={m:1,l:1,c:3,q:2,z:0,h:1,v:1},f=/([achlmqstvz])\s*([^achlmqstvz]*)/gi,m;for(;(m=f.exec(e))!==null;){let g=m[2].trim().split(/[^\d.Ee-]/).filter(T=>T.length>0).reduce((T,_)=>{_=_.replace(/([^Ee])-/g,"$1 -");let D=_.split(" -");return D[0]!==""&&T.push(D[0]),T.push(...D.slice(1).map(I=>`-${I}`)),T},[]).map(T=>Number.parseFloat(T)),v=m[1].toLowerCase(),x=m[1]!==v;if(v==="v"||v==="h")g=g.reduce((T,_)=>v==="v"?T.concat(x?n.x:0,_):T.concat(_,x?n.y:0),[]),v="l";else if(v==="z"){if(i)g=[i.x,i.y],i=n;else continue;x=!0,v="l"}let w=h[v]??0,k=g.reduce((T,_,D,I)=>{if(D%2!==0){let L=_,O=I[D-1];return T.concat(He.of(O,L))}else return T},[]).map((T,_)=>{let D;return x?D=T:D=n.plus(T),(_+1)%w===0&&(n=D),D});if(k.length%w!==0)throw new Error([`Incorrect number of arguments: got ${JSON.stringify(k)} with a length of ${k.length}  ${w}k, k  .`,`The number of arguments to ${v} must be a multiple of ${w}!`,`Command: ${m[0]}`].join(`
`));for(let T=0;T<k.length;T+=w){let _=k.slice(T,T+w);switch(v.toLowerCase()){case"m":T===0?l(_[0]):c(_[0]);break;case"l":c(_[0]);break;case"c":u(_[0],_[1],_[2]);break;case"q":d(_[0],_[1]);break;default:throw new Error(`Unknown path command ${v}`)}a=!1}k.length>0&&(i??(i=k[0]),o??(o=i),n=k[k.length-1])}let b=new kr(o??He.zero,s);return b.cachedStringVersion=e,b}static fromConvexHullOf(e){if(e.length===0)return kr.empty;let n=BHe(e),i=n.slice(1).map(o=>({kind:0,point:o}));return i.push({kind:0,point:n[0]}),new kr(n[0],i)}},oe(kr,"empty",new kr(He.zero,[])),kr),Ut,mt=(Ut=class{constructor(e,n,i,o){oe(this,"hexString",null);this.r=e,this.g=n,this.b=i,this.a=o}static ofRGB(e,n,i){return Ut.ofRGBA(e,n,i,1)}static ofRGBA(e,n,i,o){return e=Math.max(0,Math.min(e,1)),n=Math.max(0,Math.min(n,1)),i=Math.max(0,Math.min(i,1)),o=Math.max(0,Math.min(o,1)),new Ut(e,n,i,o)}static fromRGBArray(e,n=255){let i=e[0],o=e[1]??i,a=e[2]??i,s=255;return 3<e.length&&(s=e[3]),Ut.ofRGBA(i/n,o/n,a/n,s/n)}static fromHex(e){if(e=(e.match(/^#?(.*)$/)??[])[1],e=e.toUpperCase(),!/^[\dA-F]+$/.test(e))throw new Error(`${e} is not in a valid format.`);(e.length===3||e.length===4)&&(e=e.split("").map(i=>`${i}0`).join("")),e.length===6&&(e+="FF");let n=[];for(let i=2;i<=e.length;i+=2){let o=e.substring(i-2,i);n.push(Number.parseInt(o,16)/255)}if(n.length!==4)throw new Error(`Unable to parse ${e}: Wrong number of components.`);return Ut.ofRGBA(n[0],n[1],n[2],n[3])}static fromString(e){if(e.startsWith("#"))return Ut.fromHex(e);if(e==="none"||e==="transparent")return Ut.transparent;if(e==="")return Ut.black;let n=/^rgba?\(([\d,.]+)\)$/i,i=e.replace(/\s*/g,"").match(n);if(i){let h=i[1],f=JSON.parse(`[ ${h} ]`);if(f.length===3)return Ut.ofRGB(f[0]/255,f[1]/255,f[2]/255);if(f.length===4)return Ut.ofRGBA(f[0]/255,f[1]/255,f[2]/255,f[3]);throw new Error(`RGB string, ${e}, has wrong number of components: ${f.length}`)}let o=document.createElement("canvas");o.width=1,o.height=1;let a=o.getContext("2d");if(!a)return Ut.black;a.fillStyle=e,a.fillRect(0,0,1,1);let s=a.getImageData(0,0,1,1),l=s.data[0]/255,c=s.data[1]/255,u=s.data[2]/255,d=s.data[3]/255;return Ut.ofRGBA(l,c,u,d)}eq(e){return e==null?!1:this.a===0&&e.a===0?!0:this.toHexString()===e.toHexString()}mix(e,n){n=Math.min(Math.max(n,0),1);let i=1-n;return new Ut(this.r*i+e.r*n,this.g*i+e.g*n,this.b*i+e.b*n,this.a*i+e.a*n)}withAlpha(e){return new Ut(this.r,this.g,this.b,e)}get rgb(){return $t.of(this.r,this.g,this.b)}relativeLuminance(){let e=[this.r,this.g,this.b].map(n=>n<.03928?n/12.92:Math.pow((n+.055)/1.055,2.4));return .2126*e[0]+.7152*e[1]+.0722*e[2]}static contrastRatio(e,n){let i=e.relativeLuminance(),o=n.relativeLuminance();return(Math.max(i,o)+.05)/(Math.min(i,o)+.05)}static average(e){let n=0,i=0,o=0,a=0;for(let s of e)n+=s.a,i+=s.r,o+=s.g,a+=s.b;return e.length>0&&(n/=e.length,i/=e.length,o/=e.length,a/=e.length),new Ut(i,o,a,n)}asHSV(){let e=Math.min(this.r,this.g,this.b),n=Math.max(this.r,this.g,this.b),i=n-e,o;i===0?o=0:this.r>=this.g&&this.r>=this.b?o=(this.g-this.b)/i%6:this.g>=this.r&&this.g>=this.b?o=(this.b-this.r)/i+2:o=(this.r-this.g)/i+4,o*=60,o*=Math.PI/180,o<0&&(o+=Math.PI*2);let a=n,s=a>0?i/a:0;return $t.of(o,s,a)}static fromHSV(e,n,i){e<0&&(e+=Math.PI*2),e%=Math.PI*2,i=Math.max(0,Math.min(1,i)),n=Math.max(0,Math.min(1,n));let o=i*n,a=e/(Math.PI/3),s=o*(1-Math.abs(a%2-1)),l;a<1?l=[o,s,0]:a<2?l=[s,o,0]:a<3?l=[0,o,s]:a<4?l=[0,s,o]:a<5?l=[s,0,o]:l=[o,0,s];let c=i-o;return Ut.ofRGB(l[0]+c,l[1]+c,l[2]+c)}static fromRGBVector(e,n){return Ut.ofRGBA(e.x,e.y,e.z,n??1)}toHexString(){if(this.hexString)return this.hexString;let e=s=>{let l=Math.round(255*s).toString(16);return l.length===1?`0${l}`:l},n=e(this.a),i=e(this.r),o=e(this.g),a=e(this.b);return n==="ff"?`#${i}${o}${a}`:(this.hexString=`#${i}${o}${a}${n}`,this.hexString)}toString(){return this.toHexString()}},oe(Ut,"transparent",Ut.ofRGBA(0,0,0,0)),oe(Ut,"red",Ut.fromHex("#D7273D")),oe(Ut,"orange",Ut.fromHex("#F99F07")),oe(Ut,"green",Ut.fromHex("#00875A")),oe(Ut,"blue",Ut.fromHex("#2576B9")),oe(Ut,"purple",Ut.ofRGB(.5,.2,.5)),oe(Ut,"yellow",Ut.fromHex("#FFD95C")),oe(Ut,"clay",Ut.ofRGB(.8,.4,.2)),oe(Ut,"black",Ut.ofRGB(0,0,0)),oe(Ut,"gray",Ut.fromHex("#EDEEF1")),oe(Ut,"white",Ut.ofRGB(1,1,1)),oe(Ut,"blackHighlight",Ut.ofRGBA(0,0,0,.3)),oe(Ut,"redHighlight",Ut.ofRGBA(215/255,39/255,61/255,.3)),oe(Ut,"blueHighlight",Ut.ofRGBA(37/255,118/255,185/255,.3)),oe(Ut,"pink",Ut.fromHex("#EB9CC4")),oe(Ut,"blueLight",Ut.fromHex("#D5EDFF")),oe(Ut,"greenLight",Ut.fromHex("#E3FCEF")),Ut);function HHe(r){return(e,n)=>new WHe(r,e,n)}var ka=HHe,WHe=class{constructor(e,n,i){oe(this,"builder");oe(this,"points");this.sourceFactory=e,this.startPoint=n,this.viewport=i,this.builder=e(n,i),this.points=[n]}getBBox(){return this.builder.getBBox()}build(){return this.builder.build()}preview(e){this.builder.preview(e)}addPoint(e){this.points.push(e),this.builder.addPoint(e)}async autocorrectShape(){let e=a=>({...a,pos:this.viewport.snapToGrid(a.pos)}),n=e(this.startPoint),i=this.sourceFactory(n,this.viewport),o=this.points.map(a=>e(a));for(let a of o)i.addPoint(a);return i.build()}};function qS(r){return r.path?r.path:new Dn(r.startPoint,r.commands)}function ir(r,e){return{startPoint:r.startPoint,style:e,commands:r.parts,path:r}}function VHe(r,e){return r.path?r:{...r,path:e}}function c9(r,e,n={fastCheck:!0,expensiveCheck:!0}){var c;let i=qS(r),o=((c=r.style.stroke)==null?void 0:c.width)??0,a=o>0&&r.style.fill.a===0,s=i.bbox.grownBy(o),l=a&&o>e.maxDimension&&s.containsRect(e);if(n.fastCheck&&l&&r.style.stroke){let u=o/2;for(let d of i.startEndPoints())if(e.isWithinRadiusOf(u,d))return{rectangle:e,path:ir(Dn.fromRect(e),{fill:r.style.stroke.color}),fullScreen:!0}}if(n.expensiveCheck&&l&&r.style.stroke&&o>e.maxDimension*3){let u=i.signedDistance(e.center,o/2),d=o/6;if(u<-e.maxDimension/2-d)return{path:ir(Dn.fromRect(e),{fill:r.style.stroke.color}),rectangle:e,fullScreen:!0};if(u>e.maxDimension/2+d)return{path:ir(Dn.empty,{fill:mt.transparent}),rectangle:Lt.empty,fullScreen:!1}}return null}function qHe(r,e){var h;let n=qS(r),i=((h=r.style.stroke)==null?void 0:h.width)??0,o=i>0&&r.style.fill.a===0,a=n.bbox.grownBy(i),s=c9(r,e,{fastCheck:!0,expensiveCheck:!1});if(s)return s.path;if(e.grownBy(i).transformedBoundingBox(ut.scaling2D(4,e.center)).containsRect(a))return VHe(r,n);let l=[],c=n.startPoint;for(let f of n.parts){let m=Dn.computeBBoxForSegment(c,f).grownBy(i),b;f.kind===0||f.kind===1?b=f.point:b=f.endPoint,m.intersects(e)?l.push(f):o||f.kind===1?l.push({kind:1,point:b}):l.push({kind:0,point:b}),c=b}let u=new Dn(n.startPoint,l),d=r.style;return s=c9(r,e,{fastCheck:!1,expensiveCheck:!0}),s?s.path:ir(u,d)}var xd,GHe=(xd=class{onDrop(e){}static union(e,n){return new class extends xd{apply(i){e.apply(i),n.apply(i)}unapply(i){n.unapply(i),e.unapply(i)}description(i,o){let a=e.description(i,o),s=n.description(i,o);return a===s?a:`${a}, ${s}`}}}},oe(xd,"empty",new class extends xd{description(e,n){return""}apply(e){}unapply(e){}}),xd),Mv=GHe;function KHe(r,e,n,i){let o=e.transformVec3(He.unitX),a=e.transformVec2(r),s=o.magnitude(),l=-(180/Math.PI)*o.angle(),c=a.minus(r),u=[];if(s>1.2?u.push(i.zoomedIn):s<.8&&u.push(i.zoomedOut),Math.floor(Math.abs(l))>0){let h=Math.round(n?-l:l);u.push(i.rotatedBy(h))}let d=1e-4;return c.x>d?u.push(n?i.movedLeft:i.movedRight):c.x<-1e-4&&u.push(n?i.movedRight:i.movedLeft),c.y<-1e-4?u.push(n?i.movedDown:i.movedUp):c.y>d&&u.push(n?i.movedUp:i.movedDown),u.join("; ")}var jO=KHe,XHe=class extends Mv{},Wb,oee,ks,Ks=(ks=class{constructor(e){oe(this,"transform");oe(this,"inverseTransform");oe(this,"screenRect");this.onTransformChangeCallback=e,this.resetTransform(ut.identity),this.screenRect=Lt.empty}getTemporaryClone(){let e=new ks(()=>{});return e.transform=this.transform,e.inverseTransform=this.inverseTransform,e.screenRect=this.screenRect,e}updateScreenSize(e){this.screenRect=this.screenRect.resizedTo(e)}get visibleRect(){return this.screenRect.transformedBoundingBox(this.inverseTransform)}screenToCanvas(e){return this.inverseTransform.transformVec2(e)}canvasToScreen(e){return this.transform.transformVec2(e)}static transformBy(e){return new ks.ViewportTransform(e)}resetTransform(e=ut.identity){var i;let n=this.transform;this.transform=e,this.inverseTransform=e.inverse(),(i=this.onTransformChangeCallback)==null||i.call(this,n,e)}get screenToCanvasTransform(){return this.inverseTransform}get canvasToScreenTransform(){return this.transform}getScreenRectSize(){return this.screenRect.size}getResolution(){return this.getScreenRectSize()}getScaleFactor(){return this.transform.transformVec3($t.unitX).magnitude()}getScaleFactorToNearestPowerOfTen(){return this.getScaleFactorToNearestPowerOf(10)}getScaleFactorToNearestPowerOf(e){let n=this.getScaleFactor();return Math.pow(e,Math.round(Math.log(n)/Math.log(e)))}static getGridSize(e){return 50/e}snapToGrid(e){let n=this.getScaleFactorToNearestPowerOf(2),i=o=>{let a=1/ks.getGridSize(n);return Math.round(o*a)/a};return He.of(i(e.x),i(e.y))}getSizeOfPixelOnCanvas(){return 1/this.getScaleFactor()}getRotationAngle(){return this.transform.transformVec3($t.unitX).angle()}static roundPoint(e,n){let i=10**Math.floor(Math.log10(n)),o=a=>Math.round(a/i)*i;return typeof e=="number"?o(e):e.map(o)}roundPoint(e){return ks.roundPoint(e,1/this.getScaleFactor())}static roundScaleRatio(e,n=1){if(Math.abs(e)<=1e-12)return 0;let i=10**Math.floor(Math.log10(Math.abs(e))),o=2**n;return e=Math.round(e/i*o)/o*i,e}computeZoomToTransform(e,n=!0,i=!0){let o=ut.identity;if(e.w===0||e.h===0){let u=Math.max(e.w,e.h);u===0&&(u=50,n=!1,i=!1),e=new Lt(e.x,e.y,u,u)}if(isNaN(e.size.magnitude()))throw new TypeError(`${e.toString()} rectangle has NaN size! Cannot zoom to!`);let a=()=>{let u=this.visibleRect.transformedBoundingBox(o.inverse());return u.transformedBoundingBox(ut.scaling2D(4/5,u.center))},s=a(),l=s.w<e.w||s.h<e.h,c=e.maxDimension/s.maxDimension<1/3;if(l&&i||c&&n){let u=Math.max(e.w/s.w,e.h/s.h),d=ut.scaling2D(u,s.topLeft).inverse();o=o.rightMul(d)}if(s=a(),!s.containsRect(e)){let u=e.center.minus(s.center),d=ut.translation(u).inverse();o=o.rightMul(d)}return o.invertable()||(console.warn("Unable to zoom to ",e,"! Computed transform",o,"is singular."),o=ut.identity),o}zoomTo(e,n=!0,i=!0){let o=this.computeZoomToTransform(e,n,i);return new ks.ViewportTransform(o)}},oe(ks,"ViewportTransform",(oee=class extends XHe{constructor(n){super();Gn(this,Wb);this.transform=n,xn(this,Wb,n.inverse())}apply(n){let i=n.viewport;i.resetTransform(i.transform.rightMul(this.transform)),n.queueRerender()}unapply(n){let i=n.viewport;i.resetTransform(i.transform.rightMul(Tt(this,Wb))),n.queueRerender()}description(n,i){return jO(n.viewport.visibleRect.center,this.transform,!0,i)}},Wb=new WeakMap,oee)),ks),On=Ks,Vb,gl,Br=(gl=class extends Mv{constructor(n){super();Gn(this,Vb);if(!(n in gl.deserializationCallbacks))throw new Error(`Command ${n} must have a registered deserialization callback. To do this, call SerializableCommand.register.`);xn(this,Vb,n)}serialize(){return{data:this.serializeToJSON(),commandType:Tt(this,Vb)}}static deserialize(n,i){let o=typeof n=="string"?JSON.parse(n):n,a=o.commandType;if(!(a in gl.deserializationCallbacks))throw new Error(`Unrecognised command type ${a}!`);return gl.deserializationCallbacks[a](o.data,i)}static register(n,i){gl.deserializationCallbacks[n]=i}},Vb=new WeakMap,oe(gl,"deserializationCallbacks",{}),gl),yue=class extends Br{constructor(n,i,o){super(n);oe(this,"component");oe(this,"componentID");this.component=o??null,this.componentID=i}resolveComponent(n){if(this.component)return;let i=n.lookupElement(this.componentID);if(!i)throw new Error(`Unable to resolve component with ID ${this.componentID}`);this.component=i}},FO=class{constructor(){oe(this,"listeners");this.listeners={}}dispatch(e,n){let i=this.listeners[e];if(i)for(let o of i)o(n)}on(e,n){return this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(n),{remove:()=>{let i=this.listeners[e];return this.off(e,n),i.length!==this.listeners[e].length}}}off(e,n){let i=this.listeners[e];i&&(this.listeners[e]=i.filter(o=>o!==n))}};function YHe(r){throw new Error(`Should be unreachable. Key: ${r}.`)}function Gf(r,e=!1){if(typeof r!="number"||!e&&isNaN(r))throw new Error("Given value is not a number")}function bue(r){if(typeof r!="string")throw new TypeError("Given value is not a string")}function vue(r){if(!Array.isArray(r))throw new TypeError("Asserting isArray: Given entity is not an array")}function Tb(r,e=!1){vue(r),Gf(r.length);for(let n of r)Gf(n,e)}function u9(r){vue(r),Gf(r.length);for(let e of r)bue(e)}function Sq(r){if(typeof r!="boolean")throw new TypeError("Given value is not a boolean")}function ZHe(r){if(!r)throw new Error(`${JSON.stringify(r)} is not truthy`)}function xue(r){if(typeof r!="object")throw new TypeError(`AssertIsObject: Given entity is not an object (type = ${typeof r})`)}function o0(r){r.sort((e,n)=>e.getContent().getZIndex()-n.getContent().getZIndex())}var p3=!1,aee,pf,no,ca=(no=class{constructor(e,n){oe(this,"root");oe(this,"background");oe(this,"componentsById");oe(this,"componentCount",0);oe(this,"importExportViewport");oe(this,"shouldAutoresizeExportViewport");oe(this,"notifier");oe(this,"settingExportRect",!1);this.root=new kq,this.background=new kq,this.componentsById=new Map,this.notifier=new FO,this.importExportViewport=new On(()=>{this.onExportViewportChanged()}),this.importExportViewport.updateScreenSize(He.of(e||500,n||500)),this.shouldAutoresizeExportViewport=!1}updateScreenSizeImage(e,n){this.importExportViewport.updateScreenSize(He.of(e||500,n||500))}getBackgroundComponents(){let e=[],n=this.background.getLeaves();o0(n);for(let i of n){let o=i.getContent();o&&e.push(o)}return e}findParent(e){return this.background.getChildWithContent(e)??this.root.getChildWithContent(e)}queueRerenderOf(e){let n=this.findParent(e);n&&(n.remove(),this.addComponentDirectly(e))}renderWithCache(e,n,i){this.background.render(e,i.visibleRect),p3?this.root.render(e,i.visibleRect):n.render(e,this.root,i)}render(e,n){this.background.render(e,n==null?void 0:n.visibleRect),this.root.render(e,n==null?void 0:n.visibleRect)}async renderAllAsync(e,n){return await this.background.renderAllAsync(e,n)?await this.root.renderAllAsync(e,n):!1}renderAll(e){this.render(e,null)}getAllComponents(){let e=this.root.getLeaves();return o0(e),e.map(n=>n.getContent())}getAllElements(){return this.getAllComponents()}estimateNumElements(){return this.componentCount}getElementsIntersectingRegion(e,n=!1){return this.getComponentsIntersecting(e,n)}getComponentsIntersecting(e,n=!1){let i=this.root.getLeavesIntersectingRegion(e);return n&&(i=i.concat(this.background.getLeavesIntersectingRegion(e))),o0(i),i.map(o=>o.getContent())}onDestroyElement(e){this.componentCount--;let n=e.getId();this.componentsById.delete(n),this.notifier.dispatch(3,{kind:3,image:this,componentId:n}),this.autoresizeExportViewport()}onElementAdded(e){this.componentCount++;let n=e.getId();this.componentsById.set(e.getId(),e),this.notifier.dispatch(2,{kind:2,image:this,componentId:n}),this.autoresizeExportViewport()}lookupElement(e){return this.componentsById.get(e)??null}addComponentDirectly(e){e.onAddToImage(this);let n=(e.isBackground()?this.background:this.root).addLeaf(e);return this.onElementAdded(e),n}removeElementDirectly(e){let n=this.findParent(e);return n==null||n.remove(),n?(this.onDestroyElement(e),!0):!1}static addComponent(e,n=!1){return new no.AddComponentCommand(e,n)}addComponent(e,n){return no.addComponent(e,n)}addElement(e,n){return this.addComponent(e,n)}static addElement(e,n=!1){return this.addComponent(e,n)}getImportExportViewport(){return this.importExportViewport}getImportExportRect(){return this.getImportExportViewport().visibleRect}setImportExportRect(e){return no.SetImportExportRectCommand.of(this,e,!1)}getAutoresizeEnabled(){return this.shouldAutoresizeExportViewport}setAutoresizeEnabled(e){if(e===this.shouldAutoresizeExportViewport)return Mv.empty;let n=this.root.getBBox();return no.SetImportExportRectCommand.of(this,n,e)}setAutoresizeEnabledDirectly(e){e!==this.shouldAutoresizeExportViewport&&(this.shouldAutoresizeExportViewport=e,this.notifier.dispatch(1,{kind:1,image:this}))}autoresizeExportViewport(){this.shouldAutoresizeExportViewport&&this.setExportRectDirectly(this.root.getBBox())}setExportRectDirectly(e){let n=this.getImportExportViewport(),i=n.getScreenRectSize(),o=n.canvasToScreenTransform,a=ut.translation(e.topLeft.times(-1));return!i.eq(e.size)||!o.eq(a)?(this.settingExportRect=!0,n.updateScreenSize(e.size),n.resetTransform(a),this.settingExportRect=!1,this.onExportViewportChanged(),!0):!1}onExportViewportChanged(){this.settingExportRect||this.notifier.dispatch(0,{kind:0,image:this})}static setDebugMode(e){p3=e}},oe(no,"AddComponentCommand",(aee=class extends Br{constructor(n,i=!1){super("add-element");oe(this,"serializedElem",null);if(this.element=n,this.applyByFlattening=i,this.serializedElem=null,isNaN(n.getBBox().area))throw new TypeError("Elements in the image cannot have NaN bounding boxes")}apply(n){n.image.addComponentDirectly(this.element),this.applyByFlattening?(this.applyByFlattening=!1,n.display.flatten()):n.queueRerender()}unapply(n){n.image.removeElementDirectly(this.element),n.queueRerender()}description(n,i){return i.addComponentAction(this.element.description(i))}serializeToJSON(){return{elemData:this.serializedElem??this.element.serialize()}}},Br.register("add-element",(n,i)=>{let o=n.elemData.id,a=i.image.lookupElement(o)??Lo.deserialize(n.elemData),s=new no.AddComponentCommand(a);return s.serializedElem=n.elemData,s}),aee)),oe(no,"SetImportExportRectCommand",(pf=class extends Br{constructor(n,i,o,a,s){super(no.SetImportExportRectCommand.commandId),this.originalSize=n,this.originalTransform=i,this.originalAutoresize=o,this.newExportRect=a,this.newAutoresize=s}static of(n,i,o){let a=n.getImportExportViewport(),s=a.visibleRect.size,l=a.canvasToScreenTransform,c=n.getAutoresizeEnabled();return new no.SetImportExportRectCommand(s,l,c,i,o)}apply(n){n.image.setAutoresizeEnabledDirectly(this.newAutoresize),n.image.setExportRectDirectly(this.newExportRect),n.queueRerender()}unapply(n){let i=n.image.getImportExportViewport();n.image.setAutoresizeEnabledDirectly(this.originalAutoresize),i.updateScreenSize(this.originalSize),i.resetTransform(this.originalTransform),n.queueRerender()}description(n,i){return this.newAutoresize!==this.originalAutoresize?this.newAutoresize?i.enabledAutoresizeOutputCommand:i.disabledAutoresizeOutputCommand:i.resizeOutputCommand(this.newExportRect)}serializeToJSON(){return{originalSize:this.originalSize.xy,originalTransform:this.originalTransform.toArray(),newRegion:{x:this.newExportRect.x,y:this.newExportRect.y,w:this.newExportRect.w,h:this.newExportRect.h},autoresize:this.newAutoresize,originalAutoresize:this.originalAutoresize}}},oe(pf,"commandId","set-import-export-rect"),(()=>{let n=pf.commandId;Br.register(n,(i,o)=>{Gf(i.originalSize.x),Gf(i.originalSize.y),Tb(i.originalTransform),Tb([i.newRegion.x,i.newRegion.y,i.newRegion.w,i.newRegion.h]),Sq(i.autoresize??!1),Sq(i.originalAutoresize??!1);let a=He.ofXY(i.originalSize),s=new ut(...i.originalTransform),l=new Lt(i.newRegion.x,i.newRegion.y,i.newRegion.w,i.newRegion.h),c=i.autoresize??!1,u=i.originalAutoresize??!1;return new no.SetImportExportRectCommand(a,s,u,l,c)})})(),pf)),no);function wue(r,e){var i;let n=0;if(e){for(let o=r.length-1;o>=1;o--)if(r[o].getBBox().containsRect(e)&&((i=r[o].getContent())!=null&&i.occludesEverythingBelowWhenRenderedInRect(e))){n=o;break}}return n}var Co,ZC=(Co=class{constructor(e=null){oe(this,"content");oe(this,"bbox");oe(this,"children");oe(this,"targetChildCount",30);oe(this,"id");this.parent=e,this.children=[],this.bbox=Lt.empty,this.content=null,this.id=Co.idCounter++}getId(){return this.id}onContentChange(){this.id=Co.idCounter++}getContent(){return this.content}getParent(){return this.parent}getChildrenIntersectingRegion(e,n){return this.children.filter(i=>{let o=i.getBBox();return!(n!=null&&n(o))&&o.intersects(e)})}getChildrenOrSelfIntersectingRegion(e,n){return this.content&&this.bbox.intersects(e)&&!(n!=null&&n(this.bbox))?[this]:this.getChildrenIntersectingRegion(e,n)}getLeavesIntersectingRegion(e,n){let i=[],o=[];for(o.push(this);o.length>0;){let a=o.pop().getChildrenOrSelfIntersectingRegion(e,n);for(let s of a)s.content?i.push(s):o.push(s)}return i}getChildWithContent(e){let n=this.getLeavesIntersectingRegion(e.getBBox());for(let i of n)if(i.getContent()===e)return i;return null}getLeaves(){if(this.content)return[this];let e=[];for(let n of this.children)e.push(...n.getLeaves());return e}addLeaf(e){if(this.onContentChange(),this.content===null&&this.children.length===0)return this.content=e,this.recomputeBBox(!0),this;if(this.content!==null){console.assert(this.children.length===0);let a=new Co(this);a.content=this.content,this.content=null,this.children.push(a),a.recomputeBBox(!1)}let n=e.getBBox();if(n.containsRect(this.getBBox())){let a=new Co(this);if(this.children.length<this.targetChildCount)this.children.push(a);else{let s=new Co(this);s.children=this.children,this.children=[a,s],s.updateParents(),s.recomputeBBox(!0)}return a.addLeaf(e)}let i=this.children.filter(a=>a.getBBox().containsRect(n));if(i.length>0&&this.children.length>=this.targetChildCount){i.sort((s,l)=>s.getBBox().area-l.getBBox().area);let a=i[0].addLeaf(e);return a.rebalance(),a}let o=Co.createLeafNode(this,e);return this.children.push(o),o.recomputeBBox(!0),this.children.length>=this.targetChildCount&&this.rebalance(),o}static createLeafNode(e,n){let i=new Co(e);return i.content=n,i}getBBox(){return this.bbox}recomputeBBox(e){var i,o;let n=this.bbox;this.content!==null?this.bbox=this.content.getBBox():this.bbox=Lt.union(...this.children.map(a=>a.getBBox())),e&&!n.eq(this.bbox)&&(this.bbox.containsRect(n)?(i=this.parent)==null||i.unionBBoxWith(this.bbox):(o=this.parent)==null||o.recomputeBBox(!0)),this.checkRep()}unionBBoxWith(e){var n;this.bbox=this.bbox.union(e),(n=this.parent)==null||n.unionBBoxWith(e)}updateParents(e=!1){for(let n of this.children)n.parent=this,e&&n.updateParents(e)}rebalance(){if(this.parent&&this.parent.children.length===1){console.assert(this.parent.content===null),console.assert(this.parent.children[0]===this);let e=this.parent;if(e.parent!==null){let n=e.parent;n.children=n.children.filter(i=>i!==e),e.parent=null,e.children=[],this.parent=n,n.children.push(this),this.parent.recomputeBBox(!1)}else this.content===null&&(this.parent.children=this.children,this.parent.updateParents(),this.parent=null)}if(this.children.length>this.targetChildCount*10){let e=this.getBBox().divideIntoGrid(4,4),n=[];for(;n.length<e.length;)n.push(0);for(let s of this.children)for(let[l,c]of e.entries())c.containsRect(s.getBBox())&&n[l]++;let i=0,o=n[0];for(let s=1;s<n.length;s++)n[s]>o&&(i=s,o=n[s]);let a=e[i];if(o>4){let s=[],l=[];for(let c of this.children)a.containsRect(c.getBBox())?l.push(c):s.push(c);if(l.length<this.children.length){this.children=s;let c=new Co(this);this.children.push(c),c.children=l,c.updateParents(!1),c.recomputeBBox(!1),c.rebalance()}}}this.parent&&this.children.length===0&&this.content===null&&this.remove()}removeChild(e){this.checkRep();let n=this.children.length;this.children=this.children.filter(i=>i!==e),console.assert(this.children.length===n-1,`${n-1}  ${this.children.length} after removing all nodes equal to ${e}. Nodes should only be removed once.`),this.children.forEach(i=>{i.rebalance()}),this.recomputeBBox(!0),this.rebalance(),this.checkRep()}remove(){var e;if((e=this.content)==null||e.onRemoveFromImage(),!this.parent){this.content=null,this.children=[];return}this.parent.removeChild(this),this.parent=null,this.content=null,this.children=[],this.checkRep()}async renderAllAsync(e,n){let i=this.getLeaves();o0(i);let o=i.length;for(let a=0;a<o;a++){let s=i[a].getContent();if(s){if(!await n(s,a,o))return!1;s.render(e,void 0)}}return!0}render(e,n){let i;n?i=this.getLeavesIntersectingRegion(n,a=>e.isTooSmallToRender(a)):i=this.getLeaves(),o0(i);let o=wue(i);for(let a=o;a<i.length;a++)i[a].getContent().render(e,n);p3&&n&&(o!==0&&console.log("EditorImage: skipped ",o,"nodes due to occlusion"),this.renderDebugBoundingBoxes(e,n))}renderDebugBoundingBoxes(e,n,i=0){let o=this.getBBox(),a=1/(e.getSizeOfCanvasPixelOnScreen()||1);if(o.maxDimension<3*a||!o.intersects(n))return;e.startObject(o);let s=!!this.content,l=s?mt.ofRGBA(1,0,1,.4):mt.ofRGBA(0,1,Math.sin(i),.6),c=s?1*a:2*a;if(e.drawRect(o.intersection(n),c,{fill:l}),e.endObject(),o.maxDimension>n.maxDimension/3){let u={fontFamily:"monospace",size:o.minDimension/20,renderingStyle:{fill:mt.red}};e.drawText(`Depth: ${i}`,ut.translation(o.bottomLeft),u)}for(let u of this.children)u.renderDebugBoundingBoxes(e,n,i+1)}checkRep(e=0){if(p3){if(this.parent&&!this.parent.children.includes(this))throw new Error(`Parent does not have this node as a child. (depth: ${e})`);let n=null,i=new Set;for(let a of this.children){if(n??(n=a.getBBox()),n=n.union(a.getBBox()),a.parent!==this)throw new Error(`Child with bbox ${a.getBBox()} and ${a.children.length} has wrong parent (was ${a.parent}).`);if(i.has(a))throw new Error(`Child ${a} is present twice or more in its parent's child list`);i.add(a)}let o=this.bbox.minDimension/100;if(n&&!this.bbox.eq(n,o))throw new Error(`Wrong bounding box ${n} \\neq ${this.bbox} (depth: ${e})`)}}},oe(Co,"idCounter",0),Co),kq=class extends ZC{constructor(){super(...arguments);oe(this,"fullscreenChildren",[]);oe(this,"dataComponents",[])}getChildrenIntersectingRegion(n,i){let o=super.getChildrenIntersectingRegion(n);for(let a of this.fullscreenChildren)o.push(a);return o}getChildrenOrSelfIntersectingRegion(n,i){let o=this.getContent();return o&&o.getSizingMode()===1?[this]:super.getChildrenOrSelfIntersectingRegion(n,i)}getLeaves(){let n=super.getLeaves();return this.dataComponents.concat(this.fullscreenChildren,n)}removeChild(n){let i=!1,o=a=>{let s=a===n;return i||(i=s),!s};this.dataComponents=this.dataComponents.filter(o),this.fullscreenChildren=this.fullscreenChildren.filter(o),i||super.removeChild(n)}getChildWithContent(n){let i=()=>{let o=this.fullscreenChildren.concat(this.dataComponents);for(let a of o)if(a.getContent()===n)return a;return null};return n.getSizingMode()===0?super.getChildWithContent(n)??i():super.getChildWithContent(n)??i()}addLeaf(n){let i=n.getSizingMode();if(i===0)return super.addLeaf(n);if(i===1){this.onContentChange();let o=ZC.createLeafNode(this,n);return this.fullscreenChildren.push(o),o}else if(i===2){this.onContentChange();let o=ZC.createLeafNode(this,n);return this.dataComponents.push(o),o}else throw new Error(`Invalid sizing mode, ${i}`)}},JHe=(r=>(r[r.BoundingBox=0]="BoundingBox",r[r.FillScreen=1]="FillScreen",r[r.Anywhere=2]="Anywhere",r))(JHe||{}),see,dr,Lo=(dr=class{constructor(e,n){oe(this,"lastChangedTime");oe(this,"zIndex");oe(this,"id");oe(this,"loadSaveData",{});if(this.componentKind=e,this.lastChangedTime=new Date().getTime(),n!==void 0?this.zIndex=n:this.zIndex=dr.zIndexCounter++,this.id=`${new Date().getTime()}-${Math.random()}`,dr.deserializationCallbacks[e]===void 0)throw new Error(`Component ${e} has not been registered using AbstractComponent.registerComponent`)}getId(){return this.id}static registerComponent(e,n){this.deserializationCallbacks[e]=n??null}attachLoadSaveData(e,n){this.loadSaveData[e]||(this.loadSaveData[e]=[]),this.loadSaveData[e].push(n)}getLoadSaveData(){return this.loadSaveData}getZIndex(){return this.zIndex}getBBox(){return this.contentBBox}getExactBBox(){return this.getBBox()}getSizingMode(){return 0}occludesEverythingBelowWhenRenderedInRect(e){return!1}onAddToImage(e){}onRemoveFromImage(){}intersectsRect(e){return e.containsRect(this.getExactBBox())?!0:e.getEdges().some(n=>this.intersects(n))}keyPoints(){return[this.getBBox().center]}isSelectable(){return!0}isBackground(){return!1}getProportionalRenderingTime(){return 1}transformBy(e){return new dr.TransformElementCommand(e,this.getId(),this)}setZIndex(e){return new dr.TransformElementCommand(ut.identity,this.getId(),this,e)}setZIndexAndTransformBy(e,n,i){return new dr.TransformElementCommand(e,this.getId(),this,n,i)}clone(){let e=this.createClone();for(let n in this.loadSaveData)for(let i of this.loadSaveData[n])e.attachLoadSaveData(n,i);return e}cloneWithId(e){let n=this.clone();return n.id=e,n}serialize(){let e=this.serializeToJSON();if(e===null)throw new Error(`${this} cannot be serialized.`);return{name:this.componentKind,zIndex:this.zIndex,id:this.id,loadSaveData:this.loadSaveData,data:e}}static isNotDeserializable(e){return typeof e=="string"&&(e=JSON.parse(e)),typeof e!="object"||!this.deserializationCallbacks[e==null?void 0:e.name]||!e.data}static deserialize(e){if(typeof e=="string"&&(e=JSON.parse(e)),dr.isNotDeserializable(e))throw new Error(`Element with data ${e} cannot be deserialized.`);bue(e.id);let n=this.deserializationCallbacks[e.name](e.data);return n.id=e.id,isFinite(e.zIndex)&&(n.zIndex=e.zIndex,dr.zIndexCounter=Math.max(dr.zIndexCounter,n.zIndex+1)),n}},oe(dr,"zIndexCounter",0),oe(dr,"deserializationCallbacks",{}),oe(dr,"transformElementCommandId","transform-element"),oe(dr,"TransformElementCommand",(see=class extends yue{constructor(n,i,o,a,s){super(dr.transformElementCommandId,i,o);oe(this,"targetZIndex");this.affineTransfm=n,this.origZIndex=s,this.targetZIndex=a??dr.zIndexCounter++,this.targetZIndex>=dr.zIndexCounter&&(dr.zIndexCounter=this.targetZIndex+1),o&&s===void 0&&(this.origZIndex=o.getZIndex())}resolveComponent(n){this.component||(super.resolveComponent(n),this.origZIndex??(this.origZIndex=this.component.getZIndex()))}updateTransform(n,i,o){if(!this.component)throw new Error("this.component is undefined or null!");let a=n.image.findParent(this.component),s=!1;a&&(a.remove(),s=!0),this.component.applyTransformation(i),this.component.zIndex=o,this.component.lastChangedTime=new Date().getTime(),o>=dr.zIndexCounter&&(dr.zIndexCounter=o+1),s&&ca.addComponent(this.component).apply(n)}apply(n){this.resolveComponent(n.image),this.updateTransform(n,this.affineTransfm,this.targetZIndex),n.queueRerender()}unapply(n){this.resolveComponent(n.image),this.updateTransform(n,this.affineTransfm.inverse(),this.origZIndex),n.queueRerender()}description(n,i){return i.transformedElements(1,jO(He.zero,this.affineTransfm,!1,i))}serializeToJSON(){return{id:this.componentID,transfm:this.affineTransfm.toArray(),targetZIndex:this.targetZIndex,origZIndex:this.origZIndex}}},Br.register(dr.transformElementCommandId,(n,i)=>{let o=i.image.lookupElement(n.id)??void 0,a=new ut(...n.transfm),s=n.targetZIndex,l=n.origZIndex??void 0;return new dr.TransformElementCommand(a,n.id,o,s,l)}),see)),dr);function QHe(r){return{fill:r.fill,stroke:r.stroke?{...r.stroke}:void 0}}function Sue(r,e){var n,i,o,a,s;return(r===e||r.fill.eq(e.fill)&&r.stroke==null==(e.stroke==null)&&(((o=(n=r.stroke)==null?void 0:n.color)==null?void 0:o.eq((i=e.stroke)==null?void 0:i.color))??!0)&&((a=r.stroke)==null?void 0:a.width)===((s=e.stroke)==null?void 0:s.width))??!1}function kue(r){let e=r.stroke?{color:r.stroke.color.toHexString(),width:r.stroke.width}:void 0;return{fill:r.fill.toHexString(),stroke:e}}function Tue(r){let e=r.stroke?{color:mt.fromHex(r.stroke.color),width:r.stroke.width}:void 0;return{fill:mt.fromHex(r.fill),stroke:e}}function Tq(r){return{...r,renderingStyle:QHe(r.renderingStyle)}}function Eue(r){if(typeof r=="string"&&(r=JSON.parse(r)),typeof r.fontFamily!="string")throw new TypeError("Serialized textStyle missing string fontFamily attribute!");return{renderingStyle:Tue(r.renderingStyle),size:r.size,fontWeight:r.fontWeight,fontVariant:r.fontVariant,fontFamily:r.fontFamily}}function Cue(r){return{...r,renderingStyle:kue(r.renderingStyle)}}function Eq(r){let e={};return r.color&&(e.color=r.color.toHexString()),r.textStyle&&(e.textStyle=Cue(r.textStyle)),e}function Cq(r){let e=r.color?mt.fromHex(r.color):void 0,n=r.textStyle?Eue(r.textStyle):void 0;return{color:e,textStyle:n}}function HO(r,e,n){return new eWe(r,e,n.getId(),n)}function _q(r){return!(!("getStyle"in r&&"updateStyle"in r&&"forceStyle"in r)||!("isRestylableComponent"in r)||!r.isRestylableComponent)}var Aq="default-restyle-element",m0,eWe=(m0=class extends yue{constructor(e,n,i,o){super(Aq,i,o),this.originalStyle=e,this.newStyle=n}getComponent(e){this.resolveComponent(e.image);let n=this.component;if(!n||!n.forceStyle||!n.updateStyle)throw new Error("this.component is missing forceStyle and/or updateStyle methods!");return n}apply(e){this.getComponent(e).forceStyle(this.newStyle,e)}unapply(e){this.getComponent(e).forceStyle(this.originalStyle,e)}description(e,n){return n.restyledElement(this.getComponent(e).description(n))}serializeToJSON(){return{id:this.componentID,originalStyle:Eq(this.originalStyle),newStyle:Eq(this.newStyle)}}},Br.register(Aq,(e,n)=>{let i=Cq(e.originalStyle),o=Cq(e.newStyle),a=e.id;if(typeof e.id!="string")throw new TypeError(`json.id is of type ${typeof e.id}, not string.`);return new m0(i,o,a)}),m0),Ai=class Bm extends Lo{constructor(n,i){super("stroke",i);oe(this,"parts");oe(this,"contentBBox");oe(this,"isRestylableComponent",!0);oe(this,"approximateRenderingTime");oe(this,"simplifiedPath",null);this.approximateRenderingTime=0,this.parts=[];for(let o of n){let a=qS(o),s=this.bboxForPart(a.bbox,o.style);this.contentBBox?this.contentBBox=this.contentBBox.union(s):this.contentBBox=s,this.parts.push({path:a,startPoint:a.startPoint,style:o.style,commands:a.parts}),this.approximateRenderingTime+=a.parts.length}this.contentBBox??(this.contentBBox=Lt.empty)}static fromStroked(n,i){return typeof n=="string"&&(n=Dn.fromString(n)),new Bm([ir(n,{fill:mt.transparent,stroke:i})])}static fromFilled(n,i){return typeof n=="string"&&(n=Dn.fromString(n)),new Bm([ir(n,{fill:i})])}getStyle(){if(this.parts.length===0)return{};let n=this.parts[0];return n.style.stroke===void 0||n.style.stroke.width===0?{color:n.style.fill}:{color:n.style.stroke.color}}updateStyle(n){return HO(this.getStyle(),n,this)}forceStyle(n,i){n.color&&(this.parts=this.parts.map(o=>{let a={...o.style,stroke:o.style.stroke?{...o.style.stroke}:void 0};return a.stroke&&a.stroke.width>0?a.stroke.color=n.color:a.fill=n.color,{path:o.path,startPoint:o.startPoint,commands:o.commands,style:a}}),i&&(i.image.queueRerenderOf(this),i.queueRerender()))}withRegionErased(n,i){let o=n.polylineApproximation(),a=c=>n.closedContainsPoint(c),s=[],l=!1;for(let c of this.parts){let u=c.path,d=g=>{if(c.style.fill.a>0){if(g.parts.length===0||g.parts.length===1&&g.parts[0].kind===0)return null;g=g.asClosed()}return isNaN(g.getExactBBox().area)?(console.warn("Prevented creating a stroke with NaN area"),l=!0,null):new Bm([ir(g,c.style)],this.getZIndex())},h=[];for(let g of o)h.push(...u.intersection(g));let f=!1;if(h.length===0&&c.style.stroke&&c.style.stroke.width>n.bbox.minDimension*.3&&c.style.stroke.width<n.bbox.maxDimension*30){for(let g of o)h.push(...u.intersection(g,c.style.stroke.width/2));f=!0}h.sort(gue);let m=(()=>{if(h.length===0)return!1;if(f)return h[0].curveIndex===0&&h[0].parameterValue<=0;let g=FHe(h[0],-1e-10);return a(u.at(g))})()?1:0,b=(g,v)=>{let x=d(g),w=m%2===1;m++,v!==void 0&&(w=v),v===void 0&&!w&&n.closedContainsPoint(g.getExactBBox().center)&&(w=!w),x&&(l||(l=w&&g.getExactBBox().maxDimension>n.getExactBBox().maxDimension*2),w||s.push(x))};if(c.style.fill.a===0){if(!(n.getExactBBox().maxDimension/10>u.getExactBBox().maxDimension)){let g=u.splitAt(h,{mapNewPoint:v=>i.roundPoint(v)});for(let v of g)b(v)}}else if(h.length>=2&&h.length%2===0){let g=u.splitAt(h,{mapNewPoint:v=>i.roundPoint(v)});for(let v=0;v<Math.floor(g.length/2);v++)b(g[v].union(g[g.length-v-1]).asClosed());g.length%2!==0&&b(g[Math.floor(g.length/2)].asClosed())}else b(u,!1)}return l?[this]:s}intersects(n){var i;for(let o of this.parts){let a=(i=o.style.stroke)==null?void 0:i.width,s=a?a/2:void 0;if(o.path.intersection(n,s).length>0)return!0}return!1}keyPoints(){return this.parts.flatMap(n=>n.startPoint)}intersectsRect(n){var i;if(!n.intersects(this.getBBox()))return!1;for(let o of this.parts){let a=n.grownBy(-(((i=o.style.stroke)==null?void 0:i.width)??0));if(a.area!==0){for(let s of o.path.startEndPoints())if(a.containsPoint(s))return!0}}return super.intersectsRect(n)}computeSimplifiedPathFor(n){let i=[],o=!1,a=!1;for(let s of this.parts){if(a||!s.style.stroke||s.style.stroke.color.a<.99){i.push(s);continue}let l=c9(s,n);l?(i.push(l.path),l.fullScreen&&(o=!0,a=!0)):i.push(s)}return{forVisibleRect:n,parts:i,occludes:o}}occludesEverythingBelowWhenRenderedInRect(n){return this.getBBox().containsRect(n)?((!this.simplifiedPath||!this.simplifiedPath.forVisibleRect.eq(n))&&(this.simplifiedPath=this.computeSimplifiedPathFor(n)),this.simplifiedPath.occludes):!1}render(n,i){var a,s,l;n.startObject(this.getBBox());let o=this.parts;i&&((s=(a=this.simplifiedPath)==null?void 0:a.forVisibleRect)!=null&&s.containsRect(i))?o=this.simplifiedPath.parts:this.simplifiedPath=null;for(let c of o){let u=this.bboxForPart(c.path.bbox,c.style);i&&(!u.intersects(i)||(u.size.x>i.size.x*3||u.size.y>i.size.y*3)&&!c.path.roughlyIntersects(i,((l=c.style.stroke)==null?void 0:l.width)??0))||n.drawPath(c)}n.endObject(this.getLoadSaveData())}getProportionalRenderingTime(){return this.approximateRenderingTime}bboxForPart(n,i){return i.stroke?n.grownBy(i.stroke.width/2):n}getExactBBox(){let n=null;for(let{path:i,style:o}of this.parts){let a=this.bboxForPart(i.getExactBBox(),o);n??(n=a),n=n.union(a)}return n??Lt.empty}applyTransformation(n){this.contentBBox=Lt.empty;let i=!0;this.parts=this.parts.map(o=>{let a=o.path.transformedBy(n),s={...o.style,stroke:o.style.stroke?{...o.style.stroke}:void 0};if(s.stroke){let c=n.getScaleFactor();s.stroke.width*=c}let l=this.bboxForPart(a.bbox,s);return i?(this.contentBBox=l,i=!1):this.contentBBox=this.contentBBox.union(l),{path:a,startPoint:a.startPoint,commands:a.parts,style:s}})}getParts(){return[...this.parts]}getPath(){let n=null;for(let i of this.parts)n?n=n.union(i.path):n??(n=i.path);return n??Dn.empty}description(n){return n.stroke}createClone(){return new Bm(this.parts)}serializeToJSON(){return this.parts.map(n=>({style:kue(n.style),path:n.path.serialize()}))}static deserializeFromJSON(n){if(typeof n=="string"&&(n=JSON.parse(n)),typeof n!="object"||typeof n.length!="number")throw new TypeError(`${n} is missing required field, parts, or parts is of the wrong type.`);let i=n.map(o=>{let a=Tue(o.style);return ir(Dn.fromString(o.path),a)});return new Bm(i)}};Lo.registerComponent("stroke",Ai.deserializeFromJSON);var _ue=ka((r,e)=>new tWe(r,e)),tWe=class{constructor(e,n){oe(this,"endPoint");this.startPoint=e,this.viewport=n,this.endPoint=e}getBBox(){return this.buildPreview().getBBox()}buildPreview(){let e=[],n=Math.PI*2/6,i=this.endPoint.width===0?this.endPoint.width:On.roundPoint(this.endPoint.width,5/this.viewport.getScaleFactor()),o=this.startPoint.pos.lerp(this.endPoint.pos,.5),a=this.endPoint.pos.minus(o).length()-i/2,s=o.plus(He.of(a,0));for(let c=n;c<=Math.PI*2;c+=n){let u=He.of(a*Math.cos(c),-a*Math.sin(c)).plus(o),d=He.of(Math.cos(c-n/2),-Math.sin(c-n/2)).times(a*1.141).plus(o);e.push({kind:3,controlPoint:d,endPoint:u})}e.push({kind:0,point:s});let l=new Dn(s,e).mapPoints(c=>this.viewport.roundPoint(c));return new Ai([ir(l,{fill:this.endPoint.color,stroke:{width:i,color:i===0?this.endPoint.color:this.endPoint.borderColor||this.endPoint.color}})])}build(){return this.buildPreview()}preview(e){this.buildPreview().render(e)}addPoint(e){this.endPoint=e}},nWe=ka((r,e)=>new rWe(r,e)),rWe=class{constructor(e,n){oe(this,"endPoint");this.startPoint=e,this.viewport=n,this.endPoint=e}getBBox(){return this.buildPreview().getBBox()}buildPreview(){let e=[],n=this.endPoint.width===0?this.endPoint.width:On.roundPoint(this.endPoint.width,5/this.viewport.getScaleFactor()),i=this.startPoint.pos,o=this.startPoint.pos.distanceTo(this.endPoint.pos)/200,a=(u,d)=>i.plus(He.of((u-250)*o,(d-100)*o)),s=a(170,80);e.push({kind:1,point:s});let l=[[130,100,130,150,230,150],[250,180,320,180,340,150],[420,150,420,120,390,100],[430,40,370,30,340,50],[320,5,250,20,250,50],[200,5,150,20,170,80]];for(let[u,d,h,f,m,b]of l)e.push({kind:2,controlPoint1:a(u,d),controlPoint2:a(h,f),endPoint:a(m,b)});e.push({kind:0,point:s});let c=new Dn(s,e).mapPoints(u=>this.viewport.roundPoint(u));return new Ai([ir(c,{fill:this.endPoint.color,stroke:{width:n,color:n===0?this.endPoint.color:this.endPoint.borderColor||this.endPoint.color}})])}build(){return this.buildPreview()}preview(e){this.buildPreview().render(e)}addPoint(e){this.endPoint=e}},iWe=ka((r,e)=>new oWe(r,!0,e)),oWe=class{constructor(e,n,i){oe(this,"endPoint");this.startPoint=e,this.filled=n,this.viewport=i,this.endPoint=e}getBBox(){return this.buildPreview().getBBox()}buildPreview(){let e=this.startPoint.pos,n=this.endPoint.pos,i=this.endPoint.width===0?this.endPoint.width:On.roundPoint(this.endPoint.width,5/this.viewport.getScaleFactor()),o=e.plus(n.minus(e).times(.5)),a={x:(n.x-e.x)*.5},s={y:(n.y-e.y)*.5},l=o.plus($t.of(-a.x,0,0)),c=o.plus($t.of(a.x,0,0)),u=o.plus($t.of(0,-s.y,0)),d=o.plus($t.of(0,s.y,0)),h=new Dn(l,[{kind:0,point:u},{kind:0,point:c},{kind:0,point:d},{kind:0,point:l}]).mapPoints(f=>this.viewport.roundPoint(f));return new Ai([ir(h,{fill:this.endPoint.color,stroke:{width:i,color:i===0?this.endPoint.color:this.endPoint.borderColor||this.endPoint.color}})])}build(){return this.buildPreview()}preview(e){this.buildPreview().render(e)}addPoint(e){this.endPoint=e}},aWe=ka((r,e)=>new sWe(r,e)),sWe=class{constructor(e,n){oe(this,"endPoint");this.startPoint=e,this.viewport=n,this.endPoint=e}getBBox(){return this.buildPreview().getBBox()}buildPreview(){let e=[],n=Math.PI*2/150,i=this.endPoint.width===0?this.endPoint.width:On.roundPoint(this.endPoint.width,5/this.viewport.getScaleFactor()),o=this.startPoint.pos.lerp(this.endPoint.pos,.5),a=this.endPoint.pos.minus(o).length(),s=[];for(let u=0;u<=150;u++){let d=u*n,h=16*Math.pow(Math.sin(d),3),f=13*Math.cos(d)-5*Math.cos(2*d)-2*Math.cos(3*d)-Math.cos(4*d),m=a/16,b=He.of(h*m,-f*m*.9).plus(o);s.push(b)}let l=s[0];for(let u=1;u<s.length;u+=2){let d=(u+1)%s.length,h=s[d],f=s[u];e.push({kind:3,controlPoint:f,endPoint:h})}e.push({kind:0,point:l});let c=new Dn(l,e).mapPoints(u=>this.viewport.roundPoint(u));return new Ai([ir(c,{fill:this.endPoint.color,stroke:{width:i,color:i===0?this.endPoint.color:this.endPoint.borderColor||this.endPoint.color}})])}build(){return this.buildPreview()}preview(e){this.buildPreview().render(e)}addPoint(e){this.endPoint=e}},lWe=ka((r,e)=>new cWe(r,!0,e)),cWe=class{constructor(e,n,i){oe(this,"endPoint");this.startPoint=e,this.filled=n,this.viewport=i,this.endPoint=e}getBBox(){return this.buildPreview().getBBox()}buildPreview(){let e=this.startPoint.pos,n=this.endPoint.pos,i=this.endPoint.width===0?this.endPoint.width:On.roundPoint(this.endPoint.width,5/this.viewport.getScaleFactor()),o=e.plus(n.minus(e).times(.5)),a=Math.abs(n.x-e.x)/2,s=Math.abs(n.y-e.y)/2,l=Math.min(a,s),c=[];for(let d=0;d<6;d++){let h=Math.PI/3*d,f=o.x+l*Math.cos(h),m=o.y+l*Math.sin(h);c.push($t.of(f,m,0))}let u=new Dn(c[0],[...c.slice(1).map(d=>({kind:0,point:d})),{kind:0,point:c[0]}]).mapPoints(d=>this.viewport.roundPoint(d));return new Ai([ir(u,{fill:this.endPoint.color,stroke:{width:i,color:i===0?this.endPoint.color:this.endPoint.borderColor||this.endPoint.color}})])}build(){return this.buildPreview()}preview(e){this.buildPreview().render(e)}addPoint(e){this.endPoint=e}},uWe=ka((r,e)=>new dWe(r,!0,e)),dWe=class{constructor(e,n,i){oe(this,"endPoint");this.startPoint=e,this.filled=n,this.viewport=i,this.endPoint=e}getBBox(){return this.buildPreview().getBBox()}buildPreview(){let e=this.startPoint.pos,n=this.endPoint.pos,i=this.endPoint.width===0?this.endPoint.width:On.roundPoint(this.endPoint.width,5/this.viewport.getScaleFactor()),o=n.x-e.x,a=n.y-e.y,s=Math.max(Math.abs(o),Math.abs(a)),l=Math.sign(o)||1,c=Math.sign(a)||1,u={x:e.x+s*l,y:e.y},d={x:u.x+s*l/2,y:u.y+s*c},h={x:e.x+s*l/2,y:e.y+s*c},f=new Dn(e,[{kind:0,point:$t.of(u.x,u.y,0)},{kind:0,point:$t.of(d.x,d.y,0)},{kind:0,point:$t.of(h.x,h.y,0)},{kind:0,point:e}]).mapPoints(b=>this.viewport.roundPoint(b)),m={fill:this.endPoint.color,stroke:{width:i,color:i===0?this.endPoint.color:this.endPoint.borderColor||this.endPoint.color}};return new Ai([ir(f,m)])}build(){return this.buildPreview()}preview(e){this.buildPreview().render(e)}addPoint(e){this.endPoint=e}},hWe=ka((r,e)=>new fWe(r,!0,e)),fWe=class{constructor(e,n,i){oe(this,"endPoint");this.startPoint=e,this.filled=n,this.viewport=i,this.endPoint=e}getBBox(){return this.buildPreview().getBBox()}buildPreview(){let e=this.startPoint.pos,n=this.endPoint.pos,i=this.endPoint.width===0?this.endPoint.width:On.roundPoint(this.endPoint.width,5/this.viewport.getScaleFactor()),o=n.x-e.x,a=n.y-e.y,s=Math.max(Math.abs(o),Math.abs(a)),l=Math.sign(o)||1,c=Math.sign(a)||1,u=e.x+s*l,d=e.y+s*c,h=new Dn(e,[{kind:0,point:$t.of(u,e.y,0)},{kind:0,point:$t.of(u,d,0)},{kind:0,point:$t.of(e.x,d,0)},{kind:0,point:e}]).mapPoints(m=>this.viewport.roundPoint(m)),f={fill:this.endPoint.color,stroke:{width:i,color:i===0?this.endPoint.color:this.endPoint.borderColor||this.endPoint.color}};return new Ai([ir(h,f)])}build(){return this.buildPreview()}preview(e){this.buildPreview().render(e)}addPoint(e){this.endPoint=e}},pWe=ka((r,e)=>new mWe(r,e)),mWe=class{constructor(e,n){oe(this,"endPoint");this.startPoint=e,this.viewport=n,this.endPoint=e}getBBox(){return this.buildPreview().getBBox()}buildPreview(){let e=this.endPoint.width===0?this.endPoint.width:On.roundPoint(this.endPoint.width,5/this.viewport.getScaleFactor()),n=this.startPoint.pos.lerp(this.endPoint.pos,.5),i=n.distanceTo(this.endPoint.pos),o=5,a=i*.4,s=[],l=Math.PI*2/(o*2);for(let d=0;d<o*2;d++){let h=-Math.PI/2+d*l,f=d%2===0?i:a,m=He.of(n.x+f*Math.cos(h),n.y+f*Math.sin(h));s.push(m)}let c=[];for(let d=1;d<s.length;d++)c.push({kind:0,point:s[d]});c.push({kind:0,point:s[0]});let u=new Dn(s[0],c).mapPoints(d=>this.viewport.roundPoint(d));return new Ai([ir(u,{fill:this.endPoint.color,stroke:{width:e,color:e===0?this.endPoint.color:this.endPoint.borderColor||this.endPoint.color}})])}build(){return this.buildPreview()}preview(e){this.buildPreview().render(e)}addPoint(e){this.endPoint=e}},gWe=ka((r,e)=>new yWe(r,!0,e)),yWe=class{constructor(e,n,i){oe(this,"endPoint");this.startPoint=e,this.filled=n,this.viewport=i,this.endPoint=e}getBBox(){return this.buildPreview().getBBox()}buildPreview(){let e=this.startPoint.pos,n=this.endPoint.pos,i=this.endPoint.width===0?this.endPoint.width:On.roundPoint(this.endPoint.width,5/this.viewport.getScaleFactor()),o=n.minus(e),a=o.orthog().normalized(),s=o.magnitude()*.866,l=e.plus(o.times(.5)).plus(a.times(s)),c=new Dn(e,[{kind:0,point:n},{kind:0,point:l},{kind:0,point:e}]).mapPoints(u=>this.viewport.roundPoint(u));return new Ai([ir(c,{fill:this.endPoint.color,stroke:{width:i,color:i===0?this.endPoint.color:this.endPoint.borderColor||this.endPoint.color}})])}getLineWidth(){return Math.max(this.startPoint.width,this.endPoint.width)}build(){return this.buildPreview()}preview(e){this.buildPreview().render(e)}addPoint(e){this.endPoint=e}},bWe=(r=>(r[r.ToolEnabled=0]="ToolEnabled",r[r.ToolDisabled=1]="ToolDisabled",r[r.ToolUpdated=2]="ToolUpdated",r[r.UndoRedoStackUpdated=3]="UndoRedoStackUpdated",r[r.CommandDone=4]="CommandDone",r[r.CommandUndone=5]="CommandUndone",r[r.ObjectAdded=6]="ObjectAdded",r[r.ViewportChanged=7]="ViewportChanged",r[r.DisplayResized=8]="DisplayResized",r[r.SelectionUpdated=9]="SelectionUpdated",r[r.ReadOnlyModeToggled=10]="ReadOnlyModeToggled",r[r.ColorPickerToggled=11]="ColorPickerToggled",r[r.ColorPickerColorSelected=12]="ColorPickerColorSelected",r[r.ToolbarDropdownShown=13]="ToolbarDropdownShown",r))(bWe||{}),vWe=(r=>(r[r.CommandDone=0]="CommandDone",r[r.CommandUndone=1]="CommandUndone",r[r.CommandRedone=2]="CommandRedone",r))(vWe||{}),Aue={remove(){}};function xWe(){return Aue}var po=class d9{waitForNextUpdate(){return new Promise(e=>{let n=this.onUpdate(i=>{n.remove(),e(i)})})}static fromInitialValue(e){return new Dq(e)}static fromImmutable(e){return{get:()=>e,onUpdate:xWe,onUpdateAndNow:n=>(n(e),Aue),waitForNextUpdate:()=>new Promise(()=>{})}}static fromCallback(e,n){let i=new Dq(e()),o=typeof WeakRef<"u"?new WeakRef(i):{deref:()=>i};for(let a of n){let s=a.onUpdate(()=>{let l=o.deref();l?l.set(e()):s.remove()})}return i}static map(e,n,i){let o=d9.fromInitialValue(n(e.get())),a=o.get();return e.onUpdate(s=>{a=n(s),o.set(a)}),i&&o.onUpdate(s=>{s!==a&&e.set(i(s))}),o}static union(e){return d9.fromCallback(()=>e.map(n=>n.get()),e)}},yp=class extends po{static fromProperty(e,n){let i=po.fromInitialValue(e.get()[n]),o=typeof WeakRef<"u"?new WeakRef(i):{deref:()=>i},a=e.onUpdate(s=>{let l=o.deref();l?l.set(s[n]):a.remove()});return i.onUpdate(s=>{e.set({...e.get(),[n]:s})}),i}},mf,ld,lee,Dq=(lee=class extends yp{constructor(n){super();Gn(this,mf);Gn(this,ld);xn(this,mf,n),xn(this,ld,[])}set(n){if(Tt(this,mf)!==n){xn(this,mf,n);for(let i of Tt(this,ld))i(n)}}get(){return Tt(this,mf)}onUpdate(n){return Tt(this,ld).push(n),{remove:()=>{xn(this,ld,Tt(this,ld).filter(i=>i!==n))}}}onUpdateAndNow(n){return n(this.get()),this.onUpdate(n)}},mf=new WeakMap,ld=new WeakMap,lee),wWe=po,Pt="toolbar-",SWe=class{constructor(e,n,i){oe(this,"dropdownContainer");oe(this,"visible");oe(this,"dropdownToggleListener",null);oe(this,"hideDropdownTimeout",null);this.parent=e,this.notifier=n,this.onDestroy=i,this.visible=po.fromInitialValue(!1),this.dropdownContainer=document.createElement("div"),this.dropdownContainer.classList.add(`${Pt}dropdown`),this.dropdownContainer.classList.add("hidden"),e.target.insertAdjacentElement("afterend",this.dropdownContainer),this.dropdownToggleListener=this.notifier.on(0,o=>{o.dropdown!==this&&o.fromToplevelDropdown&&this.setVisible(!1)})}onActivated(){}repositionDropdown(){var s,l;let e=this.dropdownContainer.getBoundingClientRect(),n=((s=document.scrollingElement)==null?void 0:s.clientWidth)??document.body.clientHeight,i=((l=document.scrollingElement)==null?void 0:l.clientHeight)??document.body.clientHeight,o,a;e.left>n/2&&(o=`calc(${this.parent.target.clientWidth+"px"} - 100%)`),e.bottom>i&&e.top-e.height>0&&(a=`calc(-${this.parent.target.clientHeight}px - 100%)`),o||a?this.dropdownContainer.style.translate=`${o??"0"} ${a??"0"}`:this.dropdownContainer.style.translate=""}setVisible(e){if(this.visible.get()===e)return;this.hideDropdownTimeout&&(clearTimeout(this.hideDropdownTimeout),this.hideDropdownTimeout=null,this.dropdownContainer.classList.remove("hiding"),this.repositionDropdown());let n=150;if(this.visible.set(e),e)this.dropdownContainer.classList.remove("hidden"),this.notifier.dispatch(0,{dropdown:this,fromToplevelDropdown:this.parent.isToplevel()}),this.repositionDropdown();else{this.notifier.dispatch(1,{dropdown:this,fromToplevelDropdown:this.parent.isToplevel()}),this.dropdownContainer.classList.add("hiding");let o=n*.95;this.hideDropdownTimeout=setTimeout(()=>{this.dropdownContainer.classList.add("hidden"),this.dropdownContainer.classList.remove("hiding"),this.repositionDropdown()},o)}let i=`var(--dropdown-${e?"show":"hide"}-animation)`;this.dropdownContainer.style.animation=`${n}ms ease ${i}`}requestShow(){this.setVisible(!0)}requestHide(){this.setVisible(!1)}appendChild(e){this.dropdownContainer.appendChild(e)}clearChildren(){this.dropdownContainer.replaceChildren()}destroy(){var e;this.setVisible(!1),this.dropdownContainer.remove(),(e=this.dropdownToggleListener)==null||e.remove(),this.clearChildren(),this.onDestroy()}},kWe=class{constructor(e,n){oe(this,"notifier");oe(this,"dropdowns",new Set);oe(this,"listeners",[]);oe(this,"connectedNotifiers",[]);this.localization=n,this.notifier=new FO,this.notifier.on(0,({dropdown:i,fromToplevelDropdown:o})=>{i&&(e(this.localization.dropdownShown(i.parent.getTitle())),this.connectedNotifiers.forEach(a=>{a.dispatch(13,{kind:13,fromToplevelDropdown:o,layoutManager:this})}))}),this.notifier.on(1,({dropdown:i})=>{i&&e(this.localization.dropdownHidden(i.parent.getTitle()))})}connectToEditorNotifier(e){this.connectedNotifiers.push(e),this.refreshListeners()}createToolMenu(e){let n=new SWe(e,this.notifier,()=>{this.dropdowns.delete(n),this.refreshListeners()});return this.dropdowns.add(n),this.refreshListeners(),n}refreshListeners(){let e=()=>{this.listeners.forEach(n=>n.remove()),this.listeners=[]};this.dropdowns.size===0?e():this.listeners.length!==this.connectedNotifiers.length&&(e(),this.listeners=this.connectedNotifiers.map(n=>n.on(13,i=>{i.kind!==13||i.layoutManager===this||this.notifier.dispatch(0,{fromToplevelDropdown:i.fromToplevelDropdown})})))}},TWe=(r=>(r[r.PointerDownEvt=0]="PointerDownEvt",r[r.PointerMoveEvt=1]="PointerMoveEvt",r[r.PointerUpEvt=2]="PointerUpEvt",r[r.GestureCancelEvt=3]="GestureCancelEvt",r[r.WheelEvt=4]="WheelEvt",r[r.KeyPressEvent=5]="KeyPressEvent",r[r.KeyUpEvent=6]="KeyUpEvent",r[r.CopyEvent=7]="CopyEvent",r[r.PasteEvent=8]="PasteEvent",r[r.ContextMenu=9]="ContextMenu",r))(TWe||{});function Due(r,e){return{kind:r,key:e.key,code:e.code,ctrlKey:e.ctrlKey||e.metaKey,altKey:e.altKey,shiftKey:e.shiftKey}}function Mue(r){return Due(6,r)}function Rue(r){return Due(5,r)}function h9(r){return r.kind===0||r.kind===1||r.kind===2}var cd,ud,gf,qb,cee,Uo=(cee=class{constructor(e,n){Gn(this,cd);Gn(this,ud,null);Gn(this,gf,null);Gn(this,qb,null);this.notifier=e,this.description=n,xn(this,cd,po.fromInitialValue(!0)),Tt(this,cd).onUpdate(i=>{var o;i?((o=Tt(this,ud))==null||o.notifyEnabled(this),this.notifier.dispatch(0,{kind:0,tool:this})):this.notifier.dispatch(1,{kind:1,tool:this})})}canReceiveInputInReadOnlyEditor(){return!1}setInputMapper(e){xn(this,gf,e),e&&e.setEmitListener(n=>this.dispatchEventToCallback(n))}getInputMapper(){return Tt(this,gf)}dispatchEventToCallback(e){let n;switch(e.kind){case 0:return this.onPointerDown(e);case 1:this.onPointerMove(e);break;case 2:return this.onPointerUp(e)??!1;case 3:this.onGestureCancel(e);break;case 4:return this.onWheel(e);case 5:return this.onKeyPress(e);case 6:return this.onKeyUp(e);case 7:return this.onCopy(e);case 8:return this.onPaste(e);case 9:return this.onContextMenu(e);default:return n=e,n}return!0}onEvent(e){return Tt(this,gf)?Tt(this,gf).onEvent(e):this.dispatchEventToCallback(e)}onPointerDown(e){return!1}onPointerMove(e){}onPointerUp(e){}onGestureCancel(e){}onWheel(e){return!1}onCopy(e){return!1}onPaste(e){return!1}onKeyPress(e){return!1}onKeyUp(e){return!1}onContextMenu(e){return!1}eventCanBeDeliveredToNonActiveTool(e){return!0}setEnabled(e){Tt(this,cd).set(e)}isEnabled(){return Tt(this,cd).get()}enabledValue(){return Tt(this,cd)}setToolGroup(e){this.isEnabled()&&e.notifyEnabled(this),xn(this,ud,e)}getToolGroup(){return Tt(this,ud)?Tt(this,ud):null}onDestroy(){var e;(e=Tt(this,qb))==null||e.remove(),xn(this,qb,null),xn(this,ud,null)}},cd=new WeakMap,ud=new WeakMap,gf=new WeakMap,qb=new WeakMap,cee),Nue=class extends Uo{constructor(n){super(n.notifier,n.localization.changeTool);oe(this,"listeners",new Set([]))}registerListener(n){this.listeners.add(n)}removeListener(n){this.listeners.delete(n)}onKeyPress(n){let i=Array.from(this.listeners.values());for(let o of i)if(o(n))return!0;return!1}};function EWe(r,e){let n=new Map,i=null,o=!1,a=()=>{if(n.size===0)o?(o=!1,e.onEnd()):i!==null&&(clearTimeout(i),i=null);else{let l=Date.now(),c=0;for(let h of n.values()){let f=l-h.timeEnter;c=Math.max(f,c)}let u=e.longPressTimeout??700;i!==null&&(clearTimeout(i),i=null);let d=u-c;d<=0?(e.onStart(),o=!0):i=setTimeout(()=>{i=null,a()},d)}},s=l=>{let c={timeEnter:Date.now()};l.type==="pointerenter"?n.set(l.pointerId,c):(l.type==="pointerleave"||l.type==="pointercancel")&&n.clear(),a()};return r.addEventListener("pointerenter",s),r.addEventListener("pointerleave",s),r.addEventListener("pointercancel",s),{removeListeners:()=>{r.removeEventListener("pointerenter",s),r.removeEventListener("pointerleave",s),r.removeEventListener("pointercancel",s)}}}var CWe=EWe;function _We(r,e){let n="has-long-press-or-hover",i="no-long-press-or-hover";r.classList.add("no-long-press-or-hover");let{removeListeners:o}=CWe(r,{onStart(){r.classList.remove(i),r.classList.add(n)},onEnd(){r.classList.add(i),r.classList.remove(n)},longPressTimeout:e==null?void 0:e.timeout});return{removeEventListeners:()=>{r.classList.remove(i),o()}}}var GS=_We;function AWe(r,e){let n=[...e.draggableChildElements,r],i=0,o=0,a=0,s=0,l=!1,c=null,u=v=>{if(!v)return!1;if(n.includes(v))return!0;let x=["INPUT","SELECT","IMG"],w=!1,k=v.parentElement;for(;k&&!x.includes(k.tagName);){if(n.includes(k)){w=!0;break}k=k.parentElement}return!x.includes(v.tagName)&&w},d=[],h=(v,x,w)=>{r.addEventListener(v,x,w),d.push(()=>{r.removeEventListener(v,x)})},f=5,m=()=>Math.hypot(i-a,o-s)<f,b=!1;h("pointerdown",v=>{v.defaultPrevented||!u(v.target)||v.isPrimary&&(b=!1,i=v.clientX,o=v.clientY,a=v.clientX,s=v.clientY,c=null,l=!0)},{passive:!0});let g=v=>{l&&(c!==null&&(r.releasePointerCapture(c),c=null),e.onDragEnd({roughlyClick:m(),endTimestamp:performance.now(),displacement:He.of(i-a,o-s)}),l=!1,b=!1)};return h("pointermove",v=>{if(!v.isPrimary||!l)return;if(v.pointerType==="mouse"&&v.buttons===0){g();return}c===null&&!m()&&(r.setPointerCapture(v.pointerId),c=v.pointerId);let x=v.clientX,w=v.clientY,k=x-i,T=w-o;(!(Math.abs(x-a)<=f&&Math.abs(w-s)<=f)||b)&&(e.onDrag(k,T,He.of(x-a,w-s)),i=x,o=w,b=!0)}),h("pointerleave",v=>{c===null&&l&&v.isPrimary&&(r.setPointerCapture(v.pointerId),c=v.pointerId)}),h("pointerup",g),h("pointercancel",g),{removeListeners:()=>{for(let v of d)v()}}}var Oue=AWe;function DWe(r){let e=(i,o)=>{var s;let a=getComputedStyle(i);for(let l=0;l<a.length;l++){let c=a.item(l),u=a.getPropertyValue(c);(s=o.style)==null||s.setProperty(c,u)}for(let l=0;l<i.children.length;l++){let c=i.children.item(l),u=o.children.item(l);c&&u?e(c,u):console.warn("CloneElement: Missing child")}},n=r.cloneNode(!0);return e(r,n),n}var MWe=DWe;function RWe(r,e,n,i){let o=document.createElement("div");o.classList.add("help-page-container");let a=document.createElement("div");a.classList.add("label","-space-above"),a.setAttribute("aria-live","polite");let s=0,l=r[0]??null,c=[];o.addEventListener("click",g=>{g.target===o&&n()});let u=()=>{if(!l)return Lt.empty;let g=l.targetElements.map(v=>Lt.of(v.getBoundingClientRect()));return Lt.union(...g)},d=()=>{let g=u();for(let[v,x]of c.entries())for(let{container:w,bbox:k}of x)if(v===s)w.classList.add("-active"),w.classList.remove("-clickable","-background"),w.addEventListener("click",()=>{});else{k.containsRect(g)?(w.classList.add("-background"),w.classList.remove("-active","-clickable")):(w.classList.add("-clickable"),w.classList.remove("-active","-background"));let T=v;w.addEventListener("click",()=>{e(T)})}},h=()=>{let g=Lt.of(a.getBoundingClientRect()),v=u();if(g.intersects(v)){let x=Lt.of(o.getBoundingClientRect()),w=v.topLeft.y,k=x.bottomLeft.y-v.bottomLeft.y;w>k&&w>g.height/3&&(a.classList.remove("-small-space-above","-large-space-above"),a.classList.add("-large-space-below")),w<k&&k>g.height&&(a.classList.add("-large-space-above"),a.classList.remove("-large-space-below"))}},f=()=>{o.replaceChildren(),a.classList.remove("-large-space-above"),a.classList.add("-small-space-above","-large-space-below"),o.appendChild(a);let g=new Lt(0,0,window.innerWidth,window.innerHeight);c=[];for(let v of r){let x=[];for(let w of v.targetElements){let k=Lt.of(w.getBoundingClientRect());if(!g.intersects(k)){let D=g.bottomLeft.lerp(g.bottomRight,.5),I=k.bottomLeft.lerp(k.bottomRight,.5),L=D.minus(I);k=k.translatedBy(L)}let T=MWe(w);for(let D of T.querySelectorAll("input"))D.disabled=!0;T.style.margin="0";let _=document.createElement("div");_.classList.add("cloned-element-container"),_.role="group",_.ariaLabel=i.localization.helpControlsAccessibilityLabel,_.style.position="absolute",_.style.left=`${k.topLeft.x}px`,_.style.top=`${k.topLeft.y}px`,_.replaceChildren(T),GS(_,{timeout:0}),x.push({container:_,bbox:k}),o.appendChild(_)}c.push(x)}d()},m=()=>{f(),h()},b=()=>{let g=document.createElement("div");g.textContent=(l==null?void 0:l.helpText)??"",g.classList.add("current-item-help");let v=document.createElement("div");v.textContent=i.localization.helpScreenNavigationHelp,v.classList.add("navigation-help"),a.replaceChildren(g,...s===0?[v]:[]),d()};return b(),{addToParent:g=>{f(),g.appendChild(o),h()},refresh:m,setPageIndex:g=>{s=g,l=r[g],b()}}}var dd,uee,NWe=(uee=class{constructor(e,n){Gn(this,dd,[]);this.createOverlay=e,this.context=n}showHelpOverlay(){var x;let e=document.createElement("dialog");e.setAttribute("autofocus","true"),e.classList.add("toolbar-help-overlay");let n=()=>{e.classList.add("-hiding"),setTimeout(()=>e.close(),250)},i=0,o=()=>{performance.now()-i<100||n()},a=()=>{let w=document.createElement("button");w.classList.add("close-button"),w.appendChild(this.context.icons.makeCloseIcon());let k=this.context.localization.close;return w.setAttribute("aria-label",k),w.setAttribute("title",k),w.addEventListener("click",()=>{n()}),w},s=()=>{let w=yp.fromInitialValue(0),k=document.createElement("div");k.classList.add("navigation-content");let T=RWe(Tt(this,dd),I=>w.set(I),o,this.context);T.addToParent(k);let _=I=>{I>=Tt(this,dd).length||I<0?(console.warn("Help screen: Navigated to out-of-bounds page",I),k.style.display="none"):(k.style.display="",T.setPageIndex(I))};w.onUpdateAndNow(_);let D={content:k,currentPage:w,toNext:()=>{D.hasNext()&&w.set(w.get()+1)},toPrevious:()=>{D.hasPrevious()&&w.set(w.get()-1)},hasNext:()=>w.get()+1<Tt(this,dd).length,hasPrevious:()=>w.get()>0,refreshCurrent:()=>{T.refresh()}};return D},l=w=>{let k=document.createElement("div");k.classList.add("navigation-buttons");let T=document.createElement("button"),_=document.createElement("button");T.textContent=this.context.localization.next,_.textContent=this.context.localization.previous,T.classList.add("next"),_.classList.add("previous");let D=()=>{k.classList.remove("-has-next","-has-previous"),w.hasNext()?(k.classList.add("-has-next"),T.disabled=!1):(k.classList.remove("-has-next"),T.disabled=!0),w.hasPrevious()?(k.classList.add("-has-previous"),_.disabled=!1):(k.classList.remove("-has-previous"),_.disabled=!0)};return w.currentPage.onUpdateAndNow(D),T.addEventListener("click",()=>{w.toNext()}),_.addEventListener("click",()=>{w.toPrevious()}),k.replaceChildren(_,T),k},c=s(),u=l(c);e.replaceChildren(a(),u,c.content),this.createOverlay(e),e.showModal();let d=30,h=w=>{w>0&&!c.hasPrevious()&&(w=0),w<0&&!c.hasNext()&&(w=0),(w>d||w<-30)&&(w=d*Math.sign(w)),e.style.transform=`translate(${w}px, 0px)`,w>=d?u.classList.add("-highlight-previous"):u.classList.remove("-highlight-previous"),w<=-30?u.classList.add("-highlight-next"):u.classList.remove("-highlight-next")},f=Oue(e,{draggableChildElements:[c.content],onDrag:(w,k,T)=>{e.classList.add("-dragging"),h(T.x)},onDragEnd:w=>{if(e.classList.remove("-dragging"),h(0),!w.roughlyClick){let k=w.displacement.x;k>d?c.toPrevious():k<-30&&c.toNext(),i=w.endTimestamp}}}),m;window.ResizeObserver&&(m=new ResizeObserver(()=>{c.refreshCurrent()}),m.observe(e));let b=()=>{requestAnimationFrame(()=>c.refreshCurrent())},g=(x=window.matchMedia)==null?void 0:x.call(window,"(prefers-color-scheme: dark)");g==null||g.addEventListener("change",b);let v=[c.content,u,e];e.addEventListener("click",w=>{v.includes(w.target)&&o()}),e.addEventListener("keyup",w=>{w.code==="Escape"?(n(),w.preventDefault()):w.code==="ArrowRight"?(c.toNext(),w.preventDefault()):w.code==="ArrowLeft"&&(c.toPrevious(),w.preventDefault())}),e.addEventListener("close",()=>{this.context.announceForAccessibility(this.context.localization.helpHidden),g==null||g.removeEventListener("change",b),f.removeListeners(),m==null||m.disconnect(),e.remove()})}registerTextHelpForElement(e,n){this.registerTextHelpForElements([e],n)}registerTextHelpForElements(e,n){Tt(this,dd).push({targetElements:[...e],helpText:n})}hasHelpText(){return Tt(this,dd).length>0}createToggleButton(){let e=document.createElement("div");e.classList.add("toolbar-help-overlay-button");let n=document.createElement("button");n.classList.add("button");let i=this.context.icons.makeHelpIcon();return i.classList.add("icon"),n.appendChild(i),n.setAttribute("aria-label",this.context.localization.help),n.addEventListener("click",()=>{this.showHelpOverlay()}),e.appendChild(n),e}},dd=new WeakMap,uee),OWe=(r=>(r.Save="save",r.Exit="exit",r.Undo="undo",r.Redo="redo",r))(OWe||{}),g0,yf,bf,vf,fR,PWe,y0,dg=(y0=class{constructor(e,n,i){Gn(this,fR);oe(this,"container");oe(this,"button");oe(this,"icon");oe(this,"layoutManager");oe(this,"dropdown",null);oe(this,"dropdownContent");oe(this,"dropdownIcon");oe(this,"label");Gn(this,g0);oe(this,"disabled",!1);Gn(this,yf,!1);Gn(this,bf,[]);oe(this,"subWidgets",{});oe(this,"toplevel",!0);oe(this,"localizationTable");Gn(this,vf,null);this.editor=e,this.id=n,this.localizationTable=i??e.localization;let o=new kWe(a=>this.editor.announceForAccessibility(a),this.localizationTable);o.connectToEditorNotifier(e.notifier),this.layoutManager=o,this.icon=null,this.container=document.createElement("div"),this.container.classList.add(`${Pt}toolContainer`,`${Pt}toolButtonContainer`,`${Pt}internalWidgetId--${n.replace(/\W/g,"-")}`),this.dropdownContent=document.createElement("div"),xn(this,g0,!1),this.button=document.createElement("div"),this.button.classList.add(`${Pt}button`),this.label=document.createElement("label"),this.button.setAttribute("role","button"),this.button.tabIndex=0,this.button.addEventListener("contextmenu",a=>{a.preventDefault()}),GS(this.button)}shouldAutoDisableInReadOnlyEditor(){return!0}getId(){return this.id}setTags(e){let n=i=>`toolwidget-tag--${i}`;for(let i of Tt(this,bf))this.container.classList.remove(n(i));xn(this,bf,[...e]);for(let i of Tt(this,bf))this.container.classList.add(n(i))}getTags(){return[...Tt(this,bf)]}getUniqueIdIn(e){let n=this.getId(),i=0;for(;n in e&&e[n]!==this;)n=this.getId()+"-"+i.toString(),i++;return n}fillDropdown(e,n){if(Object.keys(this.subWidgets).length===0)return!1;for(let i in this.subWidgets){let o=this.subWidgets[i],a=o.addTo(e);o.setIsToplevel(!1);let s=o.getHelpText();s&&(n==null||n.registerTextHelpForElement(a,s))}return!0}getHelpText(){}setupActionBtnClickListener(e){return this.setUpButtonEventListeners(e)}setUpButtonEventListeners(e){let n={Enter:!0," ":!0};e.addEventListener("keydown",i=>{let o=!1;if(i.key in n&&(this.disabled||(this.handleClick(),o=!0)),!o){let a=Rue(i);o=this.editor.toolController.dispatchInputEvent(a)}o&&i.preventDefault()}),e.addEventListener("keyup",i=>{if(i.key in n)return;let o=Mue(i);this.editor.toolController.dispatchInputEvent(o)&&i.preventDefault()}),e.addEventListener("click",()=>{this.disabled||this.handleClick()}),e.addEventListener("dblclick",i=>{i.preventDefault()})}onKeyPress(e){return!1}get hasDropdown(){return Tt(this,g0)}addSubWidget(e){let n=e.getUniqueIdIn(this.subWidgets);this.subWidgets[n]=e}setLayoutManager(e){e!==this.layoutManager&&(this.layoutManager=e,this.container.parentElement&&this.addTo(this.container.parentElement))}addTo(e){this.icon=null,this.updateIcon(),this.label.innerText=this.getTitle();let n="long-label";this.label.innerText.length>7?this.label.classList.add(n):this.label.classList.remove(n),this.setUpButtonEventListeners(this.button),this.container.replaceChildren(),this.button.replaceChildren(this.icon,this.label),this.container.appendChild(this.button);let i=new NWe(a=>this.editor.createHTMLOverlay(a),this.editor),o=this.getHelpText();return o&&i.registerTextHelpForElement(this.dropdownContent,[this.getTitle(),o].join(`

`)),e.appendChild(this.container),this.container}remove(){var e;this.container.remove(),(e=Tt(this,vf))==null||e.call(this)}focus(){this.button.focus()}addCSSClassToContainer(e){this.container.classList.add(e)}removeCSSClassFromContainer(e){this.container.classList.remove(e)}updateIcon(){var n;let e=this.createIcon();e?this.container.classList.remove("no-icon"):(e=document.createElement("div"),this.container.classList.add("no-icon")),(n=this.icon)==null||n.replaceWith(e),this.icon=e,this.icon.classList.add(`${Pt}icon`)}setDisabled(e){this.disabled=e,xn(this,yf,!1),this.disabled?(this.button.classList.add("disabled"),this.button.setAttribute("aria-disabled","true")):(this.button.classList.remove("disabled"),this.button.removeAttribute("aria-disabled"))}setSelected(e){this.isSelected()!==e&&(this.button.setAttribute("role","switch"),e?(this.container.classList.add("selected"),this.button.setAttribute("aria-checked","true")):(this.container.classList.remove("selected"),this.button.setAttribute("aria-checked","false")))}setDropdownVisible(e){var n,i;e?(n=this.dropdown)==null||n.requestShow():(i=this.dropdown)==null||i.requestHide()}activateDropdown(){var e;(e=this.dropdown)==null||e.onActivated()}mustBeInToplevelMenu(){return!1}canBeInOverflowMenu(){return!this.mustBeInToplevelMenu()}getButtonWidth(){return this.button.clientWidth}isHidden(){return this.container.style.display==="none"}setHidden(e){this.container.style.display=e?"none":""}setIsToplevel(e){this.toplevel=e}isDropdownVisible(){var e,n;return((n=(e=this.dropdown)==null?void 0:e.visible)==null?void 0:n.get())??!1}isSelected(){return this.container.classList.contains("selected")}createDropdownIcon(){let e=this.editor.icons.makeDropdownIcon();return e.classList.add(`${Pt}showHideDropdownIcon`),e}serializeState(){let e={};for(let n in this.subWidgets)e[n]=this.subWidgets[n].serializeState();return{subwidgetState:e}}deserializeFrom(e){if(e.subwidgetState){xue(e.subwidgetState);for(let n in e.subwidgetState)if(n in this.subWidgets){let i=e.subwidgetState[n];i&&this.subWidgets[n].deserializeFrom(i)}}}},g0=new WeakMap,yf=new WeakMap,bf=new WeakMap,vf=new WeakMap,fR=new WeakSet,PWe=function(){var o;(o=Tt(this,vf))==null||o.call(this);let e=this.editor.toolController.getMatchingTools(Nue),n=null;if(e.length>0&&this.onKeyPress!==y0.prototype.onKeyPress){let a=l=>this.onKeyPress(l),s=e[0];s.registerListener(a),n=()=>{s.removeListener(a)}}let i=this.editor.isReadOnlyReactiveValue().onUpdateAndNow(a=>{var s;a&&this.shouldAutoDisableInReadOnlyEditor()&&!this.disabled?(this.setDisabled(!0),xn(this,yf,!0),Tt(this,g0)&&((s=this.dropdown)==null||s.requestHide())):!a&&Tt(this,yf)&&(xn(this,yf,!1),this.setDisabled(!1))});xn(this,vf,()=>{i.remove(),n==null||n(),xn(this,vf,null)})},y0);function IWe(){let r=[...document.querySelectorAll("*:focus")];return r.length&&r.some(e=>e.classList.contains(`${Pt}button`))}var hg=class extends dg{constructor(e,n,i,o){super(e,i,o),this.targetTool=n,this.targetTool.enabledValue().onUpdateAndNow(a=>{a?(this.setSelected(!0),IWe()&&this.focus()):(this.setSelected(!1),this.setDropdownVisible(!1))})}shouldAutoDisableInReadOnlyEditor(){return!this.targetTool.canReceiveInputInReadOnlyEditor()}handleClick(){this.targetTool.setEnabled(!this.targetTool.isEnabled())}onKeyPress(e){return this.isSelected()&&e.code==="Space"&&this.hasDropdown?(this.handleClick(),!0):!1}addTo(e){let n=super.addTo(e);return this.setSelected(this.targetTool.isEnabled()),n}},$We=class extends Uo{constructor(n,i){super(n.notifier,i);oe(this,"colorPreviewListener",null);oe(this,"colorSelectListener",null);this.editor=n,this.enabledValue().onUpdateAndNow(()=>{this.updateSelectingStatus()})}canReceiveInputInReadOnlyEditor(){return!0}updateSelectingStatus(){let n="pipette--color-selection-in-progress";this.isEnabled()&&this.colorSelectListener&&this.colorPreviewListener?this.editor.getRootElement().classList.add(n):this.editor.getRootElement().classList.remove(n)}setColorListener(n,i){this.colorPreviewListener=n,this.colorSelectListener=i,this.updateSelectingStatus()}clearColorListener(){this.colorPreviewListener=null,this.colorSelectListener=null,this.updateSelectingStatus()}onPointerDown({current:n,allPointers:i}){return this.colorPreviewListener&&i.length===1?(this.colorPreviewListener(this.editor.display.getColorAt(n.screenPos)),!0):!1}onPointerMove({current:n}){var i;(i=this.colorPreviewListener)==null||i.call(this,this.editor.display.getColorAt(n.screenPos))}onPointerUp({current:n}){var i;(i=this.colorSelectListener)==null||i.call(this,this.editor.display.getColorAt(n.screenPos))}onGestureCancel(){var n;(n=this.colorSelectListener)==null||n.call(this,null)}};function zWe(r,e){let n=document.createElement("span"),i=document.createElement("span"),o=document.createElement("input");o.type="button",o.classList.add("coloris_input"),n.classList.add("color-input-container"),i.classList.add("color-input-wrapper"),i.appendChild(o),n.appendChild(i);let a=LWe(r,n,h=>{o.value=h.toHexString(),c();let f=o.parentElement;f&&f.classList.contains("clr-field")&&(f.style.color=o.value)}),s,l=()=>{s=mt.fromHex(o.value)},c=()=>{l(),s&&(r.announceForAccessibility(r.localization.colorChangedAnnouncement(s.toHexString())),e(s),r.notifier.dispatch(12,{kind:12,color:s}))};o.addEventListener("input",l);let u=!1;o.addEventListener("open",()=>{var h;u=!0,r.notifier.dispatch(11,{kind:11,open:!0}),a.cancel(),n.classList.add("picker-open"),(h=document.querySelector("#clr-picker #clr-hue-slider"))==null||h.focus()});let d=()=>{u=!1,r.notifier.dispatch(11,{kind:11,open:!1}),c(),o.focus(),n.classList.remove("picker-open")};return o.addEventListener("close",()=>{d()}),{input:o,container:n,setValue:h=>{typeof h=="object"&&(h=h.toHexString()),o.value=h,o.dispatchEvent(new Event("input",{bubbles:!0}))},closePicker:()=>{u&&c()},registerWithHelpTextDisplay:h=>{h.registerTextHelpForElement(i,r.localization.colorPickerToggleHelpText),a.registerWithHelpTextDisplay(h)}}}function LWe(r,e,n){let i=document.createElement("button");i.classList.add("pipetteButton"),i.title=r.localization.pickColorFromScreen,i.setAttribute("alt",i.title);let o=document.createElement("span");o.classList.add("pickColorInstructions"),o.innerText=r.localization.clickToPickColorAnnouncement;let a=d=>{i.replaceChildren(r.icons.makePipetteIcon(d),o)};a();let s=r.toolController.getMatchingTools($We)[0],l=()=>{s==null||s.clearColorListener(),a(),i.classList.remove("active")},c=d=>{l(),d&&n(d)},u=d=>{d?a(d):a()};return i.addEventListener("click",()=>{if(i.classList.contains("active")){l(),r.announceForAccessibility(r.localization.colorSelectionCanceledAnnouncement);return}s==null||s.setColorListener(u,c),s&&(i.classList.add("active"),r.announceForAccessibility(r.localization.clickToPickColorAnnouncement))}),e.appendChild(i),{cancel:()=>{l()},registerWithHelpTextDisplay:d=>{d.registerTextHelpForElement(i,r.localization.colorPickerPipetteHelpText)}}}var Rv=zWe;function UWe(r){let e=(n,i,o,a)=>{let s=i!==a&&n!==0,l=o+n<=0,c=o+i+n>a;return s&&!l&&!c};r.addEventListener("wheel",n=>{let i=e(n.deltaX,r.clientWidth,r.scrollLeft,r.scrollWidth),o=e(n.deltaY,r.clientHeight,r.scrollTop,r.scrollHeight);(i||o)&&n.stopPropagation()})}var Pue=UWe,JC=0;function BWe(r,e,n){let i=document.createElement("div");i.classList.add(`${Pt}grid-selector`);let o=yp.fromInitialValue(e),a=document.createElement("div");a.role="group",a.id=`${Pt}-grid-select-id-${JC++}`,Pue(a);let s=document.createElement("label");s.textContent=r,s.htmlFor=a.id,i.appendChild(s);let l=`${Pt}-grid-selector-${JC++}`,c=h=>{let f=document.createElement("div");f.classList.add("choice-button");let m=document.createElement("input");m.type="radio",m.id=`${Pt}-grid-select-button-${JC++}`,GS(f);let b=document.createElement("label"),g=()=>{b.setAttribute("title",h.title);let k=document.createElement("span");k.classList.add("button-label-text");let T=h.makeIcon();T.classList.add("icon"),k.innerText=h.title,b.htmlFor=m.id,b.replaceChildren(T,k)};g();let v=()=>{m.name=l};v();let x=()=>{m.checked?f.classList.add("checked"):f.classList.remove("checked")};m.addEventListener("input",()=>{m.checked&&o.set(h.id),x()}),m.addEventListener("focus",()=>{f.querySelector(":focus-visible")&&f.classList.add("focus-visible")}),m.addEventListener("blur",()=>{f.classList.remove("focus-visible")}),f.addEventListener("contextmenu",k=>{k.preventDefault()}),f.replaceChildren(m,b),a.appendChild(f);let w=k=>{m.checked=k,x()};return w(!1),{choiceRecord:h,setChecked:w,updateIcon:()=>{g()},updateButtonRadiogroupName:v}},u=[];for(let h of n)u.push(c(h));i.appendChild(a),o.onUpdateAndNow(h=>{for(let f of u)f.setChecked(f.choiceRecord.id===h)});let d={value:o,_radiogroupName:l,linkWith:h=>{d._radiogroupName=h._radiogroupName,l=h._radiogroupName;for(let f of u)f.updateButtonRadiogroupName()},updateIcons:()=>{u.forEach(h=>h.updateIcon())},getRootElement(){return i},addTo:h=>{h.appendChild(i)}};return d}var f9=BWe,jWe=0;function FWe(r,e){let n=document.createElement("div"),i=document.createElement("label"),o=document.createElement("input");n.classList.add(`${Pt}thicknessSliderContainer`),o.id=`${Pt}thicknessInput${jWe++}`,i.innerText=r.localization.thicknessLabel,i.setAttribute("for",o.id);let a=c=>Math.log10(c),s=c=>10**c;o.type="range",o.addEventListener("input",()=>{e(s(Number.parseFloat(o.value)))}),n.appendChild(i),n.appendChild(o);let l=(c,u)=>{let d=(m,b)=>(b?Math.ceil:Math.floor)(m*100)/100,h=d(a(c),!1),f=d(a(u),!0);o.min=`${h}`,o.max=`${f}`,o.step=`${xs((f-h)/20)}`};return l(2,262),{container:n,addTo:c=>{c.appendChild(n)},setBounds:l,setValue:c=>{o.value=a(c).toString()}}}var WO=FWe;function Mq(r){return r.toUpperCase()===r&&r.toLowerCase()!==r&&r.length===1}function Rq(r){return r.toLowerCase()===r&&r.toUpperCase()!==r&&r.length===1}var HWe=class p9{constructor(e){oe(this,"key");oe(this,"shiftKey");oe(this,"ctrlKey");oe(this,"altKey");oe(this,"metaKey");oe(this,"controlOrMeta");this.key=e.key,this.shiftKey=e.shiftKey,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.metaKey=e.metaKey,this.controlOrMeta=e.controlOrMeta}matchesEvent(e){var h;let n=(h=e.key)==null?void 0:h.toLowerCase(),i=Mq(e.key??""),o=Rq(e.key??""),a=(e.ctrlKey??!1)||n==="control",s=(e.altKey??!1)||n==="alt",l=(e.metaKey??!1)||n==="meta",c=(e.shiftKey??i)||n==="shift",u=e.controlOrMeta||e.ctrlKey||e.metaKey||!1;if(this.key!==e.code&&(this.key.toLowerCase()!==n||(i||o)&&this.key!==e.key&&!(this.shiftKey===!0&&this.key.toUpperCase()===e.key)))return!1;let d=this.controlOrMeta;return(a===this.ctrlKey&&l===this.metaKey&&!d||d&&u)&&s===this.altKey&&(c===this.shiftKey||this.shiftKey===void 0)}toString(){let e=[];return this.ctrlKey&&this.key!=="control"&&e.push("Ctrl"),this.controlOrMeta&&e.push("CtrlOrMeta"),this.altKey&&this.key!=="alt"&&e.push("Alt"),this.metaKey&&this.key!=="meta"&&e.push("Meta"),this.shiftKey&&this.key!=="shift"&&e.push("Shift"),e.push(this.key),e.join("+")}static fromString(e){let n=f=>{let m;Mq(f)?m=!0:(Rq(f)||f.length>1)&&(m=!1);let b=f.toLowerCase();return b==="shift"&&(m=!0),{shiftKey:m,ctrlKey:b==="control"||b==="ctrl",altKey:b==="alt",metaKey:b==="meta",controlOrMeta:b==="control or meta"||b==="ctrlormeta"}};if(e.search(/[+-]/)===-1||e.length===1){let f=n(e);return new p9({key:e,...f})}let i=/^(.*[+-])?(.+)$/g.exec(e);if(!i)throw new Error(`Invalid shortcut expression, ${e}!`);let o=i[2],a=n(o),s=(i[1]??"").split(/[+-]/),l=a.shiftKey,c=a.ctrlKey,u=a.altKey,d=a.metaKey,h=a.controlOrMeta;for(let f of s)if(f!=="")switch(f.toLowerCase()){case"shift":l=!0;break;case"anyshift":l=void 0;break;case"ctrl":case"control":c=!0;break;case"meta":d=!0;break;case"ctrlormeta":case"ctrl or meta":case"controlormeta":h=!0;break;case"alt":u=!0;break;default:throw new Error(`Unknown modifier: "${f}" in shortcut ${e}.`)}return new p9({key:o,shiftKey:l,ctrlKey:c,altKey:u,metaKey:d,controlOrMeta:h})}},WWe={updatedViewport:"Transformed Viewport",transformedElements:(r,e)=>`Transformed ${r} element${r===1?"":"s"} (${e})`,resizeOutputCommand:r=>`Resized image to ${r.w}x${r.h}`,enabledAutoresizeOutputCommand:"Enabled output autoresize",disabledAutoresizeOutputCommand:"Disabled output autoresize",addComponentAction:r=>`Added ${r}`,eraseAction:(r,e)=>`Erased ${e} ${r}`,duplicateAction:(r,e)=>`Duplicated ${e} ${r}`,unionOf:(r,e)=>`Union: ${e} ${r}`,inverseOf:r=>`Inverse of ${r}`,elements:"Elements",erasedNoElements:"Erased nothing",duplicatedNoElements:"Duplicated nothing",rotatedBy:r=>`Rotated by ${Math.abs(r)} degrees ${r<0?"clockwise":"counter-clockwise"}`,movedLeft:"Moved left",movedUp:"Moved up",movedDown:"Moved down",movedRight:"Moved right",zoomedOut:"Zoomed out",zoomedIn:"Zoomed in",andNMoreCommands:r=>`And ${r} more commands.`,selectedElements:r=>`Selected ${r} element${r===1?"":"s"}`},VWe={unlabeledImageNode:"Unlabeled image node",stroke:"Stroke",svgObject:"SVG Object",emptyBackground:"Empty background",gridBackground:"Grid background",dotBackground:"Dot background",filledBackgroundWithColor:r=>`Filled background (${r})`,text:r=>`Text object: ${r}`,imageNode:r=>`Image: ${r}`,restyledElement:r=>`Restyled ${r}`},qWe={pathNodeCount:r=>`There are ${r} visible path objects.`,textNodeCount:r=>`There are ${r} visible text nodes.`,imageNodeCount:r=>`There are ${r} visible image nodes.`,textNode:r=>`Text: ${r}`,imageNode:r=>`Image: ${r}`,unlabeledImageNode:"Unlabeled image",rerenderAsText:"Re-render as text"},GWe={help:"Help",helpHidden:"Help hidden",next:"Next",previous:"Previous",close:"Close",helpScreenNavigationHelp:"Click on a control for more information.",helpControlsAccessibilityLabel:"Controls: Activate a control to show help."},KWe={...GWe,pen:"Pen",eraser:"Eraser",select:"Select",handTool:"Pan",zoom:"Zoom",image:"Image",reformatSelection:"Format selection",inputAltText:"Alt text",decreaseImageSize:"Decrease size",resetImage:"Reset",chooseFile:"Choose file",dragAndDropHereOrBrowse:`Drag and drop here
or
{{browse}}`,submit:"Submit",addAll:"Add all",cancel:"Cancel",resetView:"Reset view",thicknessLabel:"Thickness",colorLabel:"Color",fontLabel:"Font",textSize:"Size",resizeImageToSelection:"Resize image to selection",deleteSelection:"Delete selection",duplicateSelection:"Duplicate selection",exit:"Exit",save:"Save",undo:"Undo",redo:"Redo",fullStrokeEraser:"Full stroke eraser",selectPenType:"Pen type",selectShape:"Shape",pickColorFromScreen:"Pick color from screen",clickToPickColorAnnouncement:"Click on the screen to pick a color",colorSelectionCanceledAnnouncement:"Color selection canceled",selectionTool__lassoSelect:"Freeform selection",selectionTool__lassoSelect__help:"When enabled, dragging creates a freeform (lasso) selection.",selectionToolKeyboardShortcuts:"Selection tool: Use arrow keys to move selected items, lowercase/uppercase i and o to resize.",documentProperties:"Page",backgroundColor:"Background color",imageWidthOption:"Width",imageHeightOption:"Height",useGridOption:"Grid",enableAutoresizeOption:"Auto-resize",toggleOverflow:"More",about:"About",inputStabilization:"Stabilization",strokeAutocorrect:"Autocorrect",touchPanning:"Scroll with touch",roundedTipPen:"Round",roundedTipPen2:"Polyline",flatTipPen:"Flat",arrowPen:"Arrow",linePen:"Line",outlinedRectanglePen:"Outlined rectangle",filledSquare:"Filled square",filledRectangle:"Filled rectangle",filledCircle:"Filled circle",filledTriangle:"Filled triangle",filledHexagonal:"Filled hexagonal",filledDiamond:"Filled diamond",filledArrow:"Filled arrow",outlinedCirclePen:"Outlined circle",lockRotation:"Lock rotation",paste:"Paste",errorImageHasZeroSize:"Error: Image has zero size",describeTheImage:"Image description",fileInput__loading:"Loading...",fileInput__andNMoreFiles:r=>`(...${r} more)`,penDropdown__baseHelpText:"This tool draws shapes or freehand lines.",penDropdown__colorHelpText:"Changes the pen's color",penDropdown__thicknessHelpText:"Changes the thickness of strokes drawn by the pen.",penDropdown__penTypeHelpText:`Changes the pen style.

Either a pen style or shape can be chosen. Choosing a pen style draws freehand lines. Choosing a shape draws shapes.`,penDropdown__autocorrectHelpText:`Converts approximate freehand lines and rectangles to perfect ones.

The pen must be held stationary at the end of a stroke to trigger a correction.`,penDropdown__stabilizationHelpText:`Draws smoother strokes.

This also adds a short delay between the mouse/stylus and the stroke.`,handDropdown__baseHelpText:"This tool is responsible for scrolling, rotating, and zooming the editor.",handDropdown__zoomInHelpText:"Zooms in.",handDropdown__zoomOutHelpText:"Zooms out.",handDropdown__resetViewHelpText:"Resets the zoom level to 100% and resets scroll.",handDropdown__zoomDisplayHelpText:"Shows the current zoom level. 100% shows the image at its actual size.",handDropdown__touchPanningHelpText:"When enabled, touchscreen gestures move the image rather than select or draw.",handDropdown__lockRotationHelpText:"When enabled, prevents touch gestures from rotating the screen.",eraserDropdown__baseHelpText:"This tool removes strokes, images, and text under the cursor.",eraserDropdown__thicknessHelpText:"Changes the size of the eraser.",eraserDropdown__fullStrokeEraserHelpText:`When in full-stroke mode, entire shapes are erased.

When not in full-stroke mode, shapes can be partially erased.`,selectionDropdown__baseHelpText:"Selects content and manipulates the selection",selectionDropdown__resizeToHelpText:`Crops the drawing to the size of what's currently selected.

If auto-resize is enabled, it will be disabled.`,selectionDropdown__deleteHelpText:"Erases selected items.",selectionDropdown__duplicateHelpText:"Makes a copy of selected items.",selectionDropdown__changeColorHelpText:"Changes the color of selected items.",pageDropdown__baseHelpText:"Controls the drawing canvas' background color, pattern, and size.",pageDropdown__backgroundColorHelpText:"Changes the background color of the drawing canvas.",pageDropdown__gridCheckboxHelpText:"Enables/disables a background grid pattern.",pageDropdown__autoresizeCheckboxHelpText:`When checked, the page grows to fit the drawing.

When unchecked, the page is visible and its size can be set manually.`,pageDropdown__aboutButtonHelpText:"Shows version, debug, and other information.",colorPickerPipetteHelpText:"Picks a color from the screen.",colorPickerToggleHelpText:"Opens/closes the color picker.",closeSidebar:r=>`Close sidebar for ${r}`,dropdownShown:r=>`Menu for ${r} shown`,dropdownHidden:r=>`Menu for ${r} hidden`,zoomLevel:r=>`Zoom: ${r}%`,colorChangedAnnouncement:r=>`Color changed to ${r}`,imageSize:(r,e)=>`Image size: ${r} ${e}`,imageLoadError:r=>`Error loading image: ${r}`},XWe={penTool:r=>`pen-${r}`,selectionTool:"Selection",selectAllTool:"Select all shortcut",eraserTool:"Eraser",touchPanTool:"Touch panning",twoFingerPanZoomTool:"Panning and zooming",undoRedoTool:"Undo/Redo",rightClickDragPanTool:"Right-click drag",pipetteTool:"Pick color from screen",keyboardPanZoom:"Keyboard pan/zoom shortcuts",selectionMenu__show:"Show selection menu",selectionMenu__copyToClipboard:"Copy to clipboard",selectionMenu__duplicate:"Duplicate",selectionMenu__delete:"Delete",selectionMenu__paste:"Paste",copyPasteError__heading:"Copy/paste",copyPasteError__description:"Something went wrong  this tool may not have clipboard access.",copyPasteError__errorDetails:"Show error",copyPasteError__pasteRetry:"To retry, please paste into the input box below:",copyPasteError__copyRetry:"To retry, please copy the text in the input box below:",copyPasteError__copyMe:"Copy me!",autocorrectedTo:r=>`Autocorrected to ${r}`,autocorrectionCanceled:"Autocorrect cancelled",textTool:"Text",enterTextToInsert:"Text to insert",changeTool:"Change tool",pasteHandler:"Copy paste handler",soundExplorer:"Sound-based image exploration",disableAccessibilityExploreTool:"Disable sound-based exploration",enableAccessibilityExploreTool:"Enable sound-based exploration",soundExplorerUsageAnnouncement:"Sound-based image exploration enabled: Click/drag the screen to play a sound representation of different parts of the image.",findLabel:"Find",toNextMatch:"Next",closeDialog:"Close",findDialogShown:"Find dialog shown",findDialogHidden:"Find dialog hidden",focusedFoundText:(r,e)=>`Viewing match ${r} of ${e}`,anyDevicePanning:"Any device panning",copied:r=>`Copied ${r} item(s)`,pasted:r=>`Pasted ${r} item(s)`,toolEnabledAnnouncement:r=>`${r} enabled`,toolDisabledAnnouncement:r=>`${r} disabled`},KS={...KWe,...XWe,...WWe,...VWe,...qWe,accessibilityInputInstructions:['Press "t" to read the contents of the viewport as text.',"Use the arrow keys to move the viewport, click and drag to draw strokes.",'Press "w" to zoom in and "s" to zoom out.'].join(" "),loading:r=>`Loading ${r}%...`,imageEditor:"Image Editor",doneLoading:"Done loading",undoAnnouncement:r=>`Undid ${r}`,redoAnnouncement:r=>`Redid ${r}`,softwareLibraries:"Libraries",developerInformation:"Developer information"},YWe={...KS,pen:"Stift",eraser:"Radierer",select:"Auswahl",handTool:"Verschieben",zoom:"Vergrerung",image:"Bild",inputAltText:"Alt-Text: ",chooseFile:"Whle Datei: ",submit:"Absenden",cancel:"Abbrechen",resetView:"Ansicht zurcksetzen",thicknessLabel:"Dicke: ",colorLabel:"Farbe: ",fontLabel:"Schriftart: ",textSize:"Gre: ",resizeImageToSelection:"Bildgre an Auswahl anpassen",deleteSelection:"Auswahl lschen",duplicateSelection:"Auswahl duplizieren",undo:"Rckgngig",redo:"Wiederholen",pickColorFromScreen:"Farbe von Bildschirm auswhlen",clickToPickColorAnnouncement:"Klicke auf den Bildschirm, um eine Farbe auszuwhlen",selectionToolKeyboardShortcuts:"Auswahl-Werkzeug: Verwende die Pfeiltasten, um ausgewhlte Elemente zu verschieben und i und o, um ihre Gre zu ndern.",touchPanning:"Ansicht mit Touchscreen verschieben",anyDevicePanning:"Ansicht mit jedem Eingabegert verschieben",selectPenType:"Objekt-Typ: ",roundedTipPen:"Freihand",flatTipPen:"Stift (druckempfindlich)",arrowPen:"Pfeil",linePen:"Linie",outlinedRectanglePen:"Umrissenes Rechteck",filledRectanglePen:"Ausgeflltes Rechteck",lockRotation:"Sperre Rotation",paste:"Einfgen",dropdownShown:r=>`Dropdown-Men fr ${r} angezeigt`,dropdownHidden:r=>`Dropdown-Men fr ${r} versteckt`,zoomLevel:r=>`Vergerung: ${r}%`,colorChangedAnnouncement:r=>`Farbe zu ${r} gendert`,imageSize:(r,e)=>`Bild-Gre: ${r} ${e}`,imageLoadError:r=>`Fehler beim Laden des Bildes: ${r}`,errorImageHasZeroSize:"Fehler: Bild hat Gre Null",penTool:r=>`Stift ${r}`,selectionTool:"Auswahl",eraserTool:"Radiergummi",touchPanTool:"Ansicht mit Touchscreen verschieben",twoFingerPanZoomTool:"Ansicht verschieben und vergrern",undoRedoTool:"Rckgngig/Wiederholen",rightClickDragPanTool:"Rechtsklick-Ziehen",pipetteTool:"Farbe von Bildschirm auswhlen",keyboardPanZoom:"Tastaturkrzel zum Verschieben/Vergrern der Ansicht",textTool:"Text",enterTextToInsert:"Einzufgender Text",changeTool:"Wechsle Werkzeug",pasteHandler:"Copy-Paste-Handler",findLabel:"Finde",toNextMatch:"Nchstes",closeDialog:"Schlieen",findDialogShown:"Finde-Dialog angezeigt",findDialogHidden:"Finde-Dialog versteckt",focusedFoundText:(r,e)=>`Sieh Treffer ${r} von ${e} an`,toolEnabledAnnouncement:r=>`${r} aktiviert`,toolDisabledAnnouncement:r=>`${r} deaktiviert`,updatedViewport:"Transformierte Ansicht",transformedElements:(r,e)=>`${r} Element${r===1?"":"e"} transformiert (${e})`,resizeOutputCommand:r=>`Bildgre auf ${r.w}x${r.h} gendert`,addComponentAction:r=>`${r} hinzugefgt`,eraseAction:(r,e)=>`${e} ${r} gelscht`,duplicateAction:(r,e)=>`${e} ${r} dupliziert`,inverseOf:r=>`${r} umgekehrt`,elements:"Elemente",erasedNoElements:"Nichts entfernt",duplicatedNoElements:"Nichts dupliziert",rotatedBy:r=>`${Math.abs(r)} Grad ${r<0?"im Uhrzeigersinn":"gegen den Uhrzeigersinn"} gedreht`,movedLeft:"Nacht links bewegt",movedUp:"Nacht oben bewegt",movedDown:"Nacht unten bewegt",movedRight:"Nacht rechts bewegt",zoomedOut:"Ansicht verkleinert",zoomedIn:"Ansicht vergrert",selectedElements:r=>`${r} Element${r===1?"":"e"} ausgewhlt`,stroke:"Strich",svgObject:"SVG-Objekt",text:r=>`Text-Objekt: ${r}`,pathNodeCount:r=>`Es gibt ${r} sichtbare Pfad-Objekte.`,textNodeCount:r=>`Es gibt ${r} sichtbare Text-Knotenpunkte.`,textNode:r=>`Text: ${r}`,imageNodeCount:r=>`Es gibt ${r} sichtbare Bild-Knoten.`,imageNode:r=>`Bild: ${r}`,unlabeledImageNode:"Bild ohne Label",rerenderAsText:"Als Text darstellen",accessibilityInputInstructions:"Drcke t, um den Inhalt des Ansichtsfensters als Text zu lesen. Verwende die Pfeiltasten, um die Ansicht zu verschieben, und klicke und ziehe, um Striche zu zeichnen. Drcke w zum Vergrern und s zum Verkleinern der Ansicht.",loading:r=>`Laden ${r}%...`,doneLoading:"Laden fertig",imageEditor:"Bild-Editor",undoAnnouncement:r=>`${r} rckgngig gemacht`,redoAnnouncement:r=>`${r} wiederholt`,reformatSelection:"Formatiere Auswahl",documentProperties:"Seite",backgroundColor:"Hintergrundfarbe: ",imageWidthOption:"Breite: ",imageHeightOption:"Hhe: ",useGridOption:"Gitter: ",toggleOverflow:"Mehr",selectAllTool:"Alle auswhlen",soundExplorer:"Klangbasierte Bilderkundung",disableAccessibilityExploreTool:"Deaktiviere klangbasierte Erkundung",enableAccessibilityExploreTool:"Aktiviere klangbasierte Erkundung",unionOf:(r,e)=>`Vereinigung: ${e} ${r}`,emptyBackground:"Leerer Hintergrund",filledBackgroundWithColor:r=>`Gefllter Hintergrund (${r})`,restyledElement:r=>`${r} umgestaltet`},ZWe=YWe,JWe={...KS},QWe=JWe,eVe={...KS,pen:"Lapiz",eraser:"Borrador",select:"Selecciona",handTool:"Mover",image:"Imagen",inputAltText:"Texto alternativo",resetImage:"Reiniciar",chooseFile:"Seleccionar archivo",cancel:"Cancelar",resetView:"Reiniciar vista",thicknessLabel:"Tamao",fontLabel:"Fuente:",textSize:"Tamao",resizeImageToSelection:"Redimensionar la imagen a lo que est seleccionado",deleteSelection:"Borra la seleccin",duplicateSelection:"Duplica la seleccin",exit:"Salir",save:"Guardar",undo:"Deshace",redo:"Rehace",selectPenType:"Punta",selectShape:"Forma",pickColorFromScreen:"Selecciona un color de la pantalla",clickToPickColorAnnouncement:"Haga un clic en la pantalla para seleccionar un color",documentProperties:"Fondo",backgroundColor:"Color de fondo",imageWidthOption:"Ancho",imageHeightOption:"Alto",enableAutoresizeOption:"Redimensionar automtico",toggleOverflow:"Ms",about:"Acerca de",touchPanning:"Mover la pantalla con un dedo",roundedTipPen:"Lapiz Redondeado",arrowPen:"Flecha",linePen:"Lnea",outlinedRectanglePen:"Rectngulo delineado",filledRectanglePen:"Rectngulo sin borde",lockRotation:"Bloquea rotacin",paste:"Pegar",selectionMenu__paste:"Pegar",selectionMenu__delete:"Eliminar",selectionMenu__duplicate:"Duplicar",closeSidebar:r=>`Close sidebar for ${r}`,dropdownShown:r=>`Men por ${r} es visible`,dropdownHidden:r=>`Men por ${r} fue ocultado`,zoomLevel:r=>`Zoom: ${r}%`,colorChangedAnnouncement:r=>`Color fue cambiado a ${r}`,imageSize:(r,e)=>`Tamao del imagen: ${r} ${e}`,imageLoadError:r=>`Error cargando imagen: ${r}`,penTool:r=>`Lapiz ${r}`,selectionTool:"Selecciona",eraserTool:"Borrador",touchPanTool:"Instrumento de mover la pantalla con un dedo",undoRedoTool:"Deshace/rehace",pipetteTool:"Seleccione un color de la pantalla",keyboardPanZoom:"Mover la pantalla con el teclado",textTool:"Texto",enterTextToInsert:"Entra texto",findLabel:"Buscar",toNextMatch:"Prxima",closeDialog:"Cerrar",anyDevicePanning:"Mover la pantalla con todo dispotivo",copied:r=>`${r} cosas fueron copiados`,pasted:r=>r===1?"Pegado":`${r} cosas fueron pegados`,toolEnabledAnnouncement:r=>`${r} fue activado`,toolDisabledAnnouncement:r=>`${r} fue desactivado`,resizeOutputCommand:r=>`Tamao de imagen fue cambiado a ${r.w}x${r.h}`,eraseAction:(r,e)=>`Borrado: ${e} ${r}`,rerenderAsText:"Redibuja la pantalla al texto",loading:r=>`Cargando: ${r}%...`,imageEditor:"Editor de dibujos",doneLoading:"El cargado termin",undoAnnouncement:r=>`${r} fue deshecho`,redoAnnouncement:r=>`${r} fue rehecho`},tVe=eVe,nVe={de:ZWe,en:QWe,es:tVe};function rVe(r){let e=/^(\w+)[_-](\w+)$/.exec(r);return e?e[1]:r}function Iue(r,e,n){let i;for(let o of r){let a=rVe(o);if(i&&a!==i&&i in e)return e[i];if(o in e)return e[o];i=a}return i&&i in e?e[i]:n}function iVe(r){return r??(r=navigator.languages),Iue(r,nVe,KS)}var oVe=iVe,li,kn=(li=class{constructor(e){oe(this,"shortcutOverrides",Object.create(null));for(let n in e)this.overrideShortcut(n,e[n])}overrideShortcut(e,n){this.shortcutOverrides[e]=[...n]}matchesShortcut(e,n){let i=this.shortcutOverrides[e];if(!i)if(e in li.shortcuts)i=li.shortcuts[e];else throw new Error(`No shortcut with ID ${e} exists!`);for(let o of i)if(o.matchesEvent(n))return!0;return!1}static registerDefaultKeyboardShortcut(e,n,i){if(e in li.shortcuts)return!1;let o=n.map(a=>typeof a=="string"?HWe.fromString(a):a);return li.shortcuts[e]=[...o],li.shortcutDefaultDescriptions[e]=i,!0}static provideShortcutDescription(e,n,i){n in li.shortcutLocalizedDescriptions||(li.shortcutLocalizedDescriptions[n]=Object.create(null)),li.shortcutLocalizedDescriptions[n][e]=i}static getAllShortcutIds(){let e=[];for(let n in this.shortcuts)e.push(n);return e}static getShortcutDefaultKeybindings(e){if(!(e in li.shortcuts))throw new Error(`No shortcut with ID ${e} exists!`);return li.shortcuts[e]}static getShortcutDescription(e,n){return Iue(n??[],this.shortcutLocalizedDescriptions,this.shortcutDefaultDescriptions)[e]??this.shortcutDefaultDescriptions[e]??null}},oe(li,"shortcuts",Object.create(null)),oe(li,"shortcutDefaultDescriptions",Object.create(null)),oe(li,"shortcutLocalizedDescriptions",Object.create(null)),li),$ue="easydraw.toolbar.SelectionTool.resizeImageToSelection";kn.registerDefaultKeyboardShortcut($ue,["ctrlOrMeta+r"],"Resize image to selection");var VO=[1,2,3,4,5,6,7,8,9].map(r=>`easydraw.toolbar.PenTool.select-pen-${r}`);for(let[r,e]of VO.entries())kn.registerDefaultKeyboardShortcut(e,[`CtrlOrMeta+Digit${r+1}`],"Select pen style "+(r+1));var zue="easydraw.toolbar.SaveActionWidget.save";kn.registerDefaultKeyboardShortcut(zue,["ctrlOrMeta+KeyS"],"Save");var Lue="easydraw.toolbar.ExitActionWidget.exit";kn.registerDefaultKeyboardShortcut(Lue,["Alt+KeyQ"],"Exit");var Uue=ka((r,e)=>new aVe(r,e)),aVe=class{constructor(e,n){oe(this,"endPoint");this.startPoint=e,this.viewport=n,this.endPoint=e}getLineWidth(){return Math.max(this.endPoint.width||5,this.startPoint.width||5)}getBBox(){return this.buildPreview().getBBox()}buildPreview(){let e=this.startPoint.pos,n=this.endPoint.pos,i=n.minus(e).normalized(),o=n.distanceTo(e),a=this.endPoint.width===0?this.endPoint.width:On.roundPoint(this.endPoint.width,5/this.viewport.getScaleFactor()),s=Math.min(a+3,o/2),l=a+3,c=a+3,u=n.minus(i.times(s)),d=i.orthog(),h=d.times(l),f=d.times(c),m=new Dn(u.minus(f),[{kind:0,point:e.minus(h)},{kind:0,point:e.plus(h)},{kind:0,point:u.plus(f)},{kind:0,point:u.plus(d.times(s).plus(f))},{kind:0,point:n.plus(i.times(c))},{kind:0,point:u.plus(d.times(-s).minus(f))},{kind:0,point:u.minus(f)}]).mapPoints(b=>this.viewport.roundPoint(b));return new Ai([{startPoint:m.startPoint,commands:m.parts,style:{fill:this.startPoint.color,stroke:{width:a,color:a===0?this.endPoint.color:this.endPoint.borderColor||this.endPoint.color}}}])}build(){return this.buildPreview()}preview(e){this.buildPreview().render(e)}addPoint(e){this.endPoint=e}};function sVe(r){return(e,n)=>new lVe(r,e,n)}var qO=sVe;function Nq(r,e,n){return{points:[r,e[e.length-1]]}}function Oq(r,e,n){return{points:[...n.corners,n.corners[0]]}}var lVe=class{constructor(e,n,i){oe(this,"builder");oe(this,"points");this.sourceFactory=e,this.startPoint=n,this.viewport=i,this.builder=e(n,i),this.points=[n]}getBBox(){return this.builder.getBBox()}build(){return this.builder.build()}preview(e){this.builder.preview(e)}addPoint(e){this.points.push(e),this.builder.addPoint(e)}async autocorrectShape(){let e=this.viewport.canvasToScreen(this.startPoint.pos),n=this.points.map(T=>this.viewport.canvasToScreen(T.pos)),i=Lt.bboxOf(n),o=this.viewport.canvasToScreen(this.viewport.snapToGrid(this.startPoint.pos)),a=this.points.map(T=>this.viewport.canvasToScreen(this.viewport.snapToGrid(T.pos))),s=Lt.bboxOf(a);if(i.maxDimension<32)return null;let l=Math.min(30,i.maxDimension/4),c=[{...Nq(o,a),toleranceMultiplier:.5},Nq(e,n),{...Oq(o,a,s),toleranceMultiplier:.6},Oq(e,n,i)],u=(T=>{for(let _ of c){let D=_.points,I=T*T*(_.toleranceMultiplier??1),L=A=>{for(;A<0;)A+=D.length;return A%=D.length,D[A]},O=null,W=1/0,Z=0;for(let[A,Q]of D.entries()){let H=Q.squareDistanceTo(e);(!O||H<W)&&(W=H,O=Q,Z=A)}let $=0,F=Z;for(let A of n){let Q=1/0,H=F,G=6;for(let ne=-6;ne<=G;ne++){let J=F+ne,ee=L(J-1),X=L(J),j=L(J+1),ae=new qf(ee,X),re=new qf(X,j),de=ae.distance(A),me=re.distance(A),K=Math.min(de,me),q=K*K;q<Q&&(Q=q,H=J)}if(F=H,$=Math.max(Q,$),$>I)break}if($<I)return D}return null})(l);if(!u)return null;let d=this.points[this.points.length-1],h=this.startPoint.width,f=d.width,m=this.startPoint.color,b=d.color,g=this.startPoint.time,v=d.time,x=T=>{let _=u[Math.max(0,Math.floor(T))],D=u[Math.min(Math.ceil(T),u.length-1)],I=_.lerp(D,T-Math.floor(T)),L=T/u.length;return{pos:this.viewport.screenToCanvas(I),width:h*(1-L)+f*L,color:m.mix(b,L),time:g*(1-L)+v*L}},w=this.sourceFactory(x(0),this.viewport),k=u.length<10;for(let T=0;T<u.length;T++)k&&w.addPoint(x(T-.001)),w.addPoint(x(T)),k&&w.addPoint(x(T+.001));return w.build()}},Bue=class{constructor(e,n,i,o){oe(this,"isFirstSegment",!0);oe(this,"buffer");oe(this,"lastPoint");oe(this,"lastExitingVec",null);oe(this,"currentCurve",null);oe(this,"curveStartWidth");oe(this,"curveEndWidth");oe(this,"momentum");oe(this,"bbox");this.startPoint=e,this.minFitAllowed=n,this.maxFitAllowed=i,this.onCurveAdded=o,this.lastPoint=this.startPoint,this.buffer=[this.startPoint.pos],this.momentum=He.zero,this.currentCurve=null,this.curveStartWidth=e.width,this.bbox=new Lt(this.startPoint.pos.x,this.startPoint.pos.y,0,0)}getBBox(){return this.bbox}preview(){return this.currentCurve?this.currentSegmentToPath():null}approxCurrentCurveLength(){if(!this.currentCurve)return 0;let e=this.currentCurve.p0,n=this.currentCurve.p1,i=this.currentCurve.p2,o=e.distanceTo(n),a=i.distanceTo(n);return o+a}finalizeCurrentCurve(){if(!this.currentCurve)return;this.onCurveAdded(this.currentSegmentToPath());let e=this.buffer[this.buffer.length-1];this.lastExitingVec=this.currentCurve.p2.minus(this.currentCurve.p1),console.assert(this.lastExitingVec.magnitude()!==0,"lastExitingVec has zero length!"),this.buffer=[this.buffer[this.buffer.length-2],e],this.currentCurve=null,this.isFirstSegment=!1}currentSegmentToPath(){if(this.currentCurve==null)throw new Error("Invalid State: currentCurve is null!");let e=this.currentCurve.normal(0).normalized();if(!isFinite(e.magnitude()))throw new TypeError(`startVec(${e}) is NaN or `);let n=this.currentCurve.at(0),i=this.currentCurve.at(1),o=this.currentCurve.p1;return{startPoint:n,controlPoint:o,endPoint:i,startWidth:this.curveStartWidth,endWidth:this.curveEndWidth}}computeExitingVec(){return this.momentum.normalized().times(this.lastPoint.width/2)}addPoint(e){if(this.lastPoint){let x=e.time-this.lastPoint.time;if(e.pos.eq(this.lastPoint.pos,1e-10)||x===0)return;if(isNaN(e.pos.magnitude())){console.warn("Discarding NaN point.",e);return}let w=Math.min(this.lastPoint.width,e.width)/3;if(this.startPoint.pos.distanceTo(e.pos)<w&&this.isFirstSegment)return;let k=x/1e3,T=e.pos.minus(this.lastPoint.pos).times(1/k);this.momentum=T}let n=this.lastPoint??e;this.lastPoint=e,this.buffer.push(e.pos);let i=e.width,o=this.curveEndWidth;if(this.curveEndWidth=i,this.bbox=this.bbox.grownToPoint(e.pos,i),this.currentCurve===null){let x=n.pos,w=n.pos.plus(this.lastExitingVec??He.unitX),k=e.pos;this.currentCurve=new i0(x,w,k),console.assert(!isNaN(x.magnitude())&&!isNaN(w.magnitude())&&!isNaN(k.magnitude()),"Expected !NaN"),this.isFirstSegment?this.curveStartWidth=(this.curveStartWidth+i)/2:this.curveStartWidth=o}let a=this.lastExitingVec;if(!a){let x=Math.ceil(this.buffer.length/2);(x===0||x>=this.buffer.length)&&(x=this.buffer.length-1),a=this.buffer[x].minus(this.buffer[0])}let s=this.computeExitingVec(),l=1.7,c=this.buffer[0],u=e.pos,d=u.distanceTo(c),h=l*d;if(h===0||s.magnitude()===0||!isFinite(s.magnitude()))return;console.assert(isFinite(a.magnitude()),"Pre-normalized enteringVec has NaN or  magnitude!"),a=a.normalized(),s=s.normalized(),console.assert(isFinite(a.magnitude()),"Normalized enteringVec has NaN or  magnitude!");let f=new qf(c,c.plus(a.times(h))),m=new qf(u.minus(s.times(h)),u).intersection(f),b=null;m&&(b=m.point),b||(b=c.lerp(u,.5).lerp(c.plus(a.times(d)),.1)),(c.eq(b)||u.eq(b))&&(b=c.plus(a.times(d/5))),console.assert(!c.eq(b,1e-11),"Start and control points are equal!"),console.assert(!b.eq(u,1e-11),"Control and end points are equal!");let g=this.currentCurve;this.currentCurve=new i0(c,b,u),isNaN(this.currentCurve.normal(0).magnitude())&&(console.error("NaN normal at 0. Curve:",this.currentCurve),this.currentCurve=g);let v=x=>{let w=Math.min(Math.max(Math.min(this.curveStartWidth,this.curveEndWidth)/4,this.minFitAllowed),this.maxFitAllowed),k=w,T=0;for(let _ of this.buffer){let D=x.approximateDistance(_);if(D>w&&(D=x.distance(_),T+=Math.max(0,D-w),T>k))return!1}return!0};if(this.buffer.length>3&&this.approxCurrentCurveLength()>this.curveStartWidth/2&&!v(this.currentCurve)){this.currentCurve=g,this.curveEndWidth=o,this.lastPoint=n,this.finalizeCurrentCurve();return}}},I0=qO((r,e)=>{let n=e.getSizeOfPixelOnCanvas()*3,i=e.getSizeOfPixelOnCanvas();return new cVe(r,i,n,e)}),cVe=class{constructor(e,n,i,o){oe(this,"isFirstSegment",!0);oe(this,"parts",[]);oe(this,"curveFitter");oe(this,"bbox");oe(this,"averageWidth");oe(this,"widthAverageNumSamples",1);this.startPoint=e,this.minFitAllowed=n,this.viewport=o,this.curveFitter=new Bue(e,n,i,a=>this.addCurve(a)),this.averageWidth=e.width,this.bbox=new Lt(this.startPoint.pos.x,this.startPoint.pos.y,0,0)}getBBox(){return this.bbox}getRenderingStyle(){return{fill:mt.transparent,stroke:{color:this.startPoint.color,width:this.roundDistance(this.averageWidth)}}}previewCurrentPath(){let e=[...this.parts.slice(),...this.curveToPathCommands(this.curveFitter.preview())];return{startPoint:this.startPoint.pos,commands:e,style:this.getRenderingStyle()}}previewFullPath(){let e=this.previewCurrentPath();return e?[e]:null}previewStroke(){let e=this.previewFullPath();return e?new Ai(e):null}preview(e){let n=this.previewFullPath();if(n){let i=this.viewport.visibleRect;e.startObject(i);for(let o of n)e.drawPath(o);e.endObject()}}build(){return this.curveFitter.finalizeCurrentCurve(),this.previewStroke()}getMinFit(){let e=Math.min(this.minFitAllowed,this.averageWidth/3);return e<1e-10&&(e=this.minFitAllowed),e}roundPoint(e){let n=this.getMinFit();return On.roundPoint(e,n)}roundDistance(e){let n=this.getMinFit();return On.roundPoint(e,n)}curveToPathCommands(e){if(!e){if(!this.isFirstSegment)return[];let i=On.roundPoint(this.averageWidth/10,Math.min(this.minFitAllowed,this.averageWidth/10)),o=this.roundPoint(this.startPoint.pos);return[{kind:3,controlPoint:o.plus(He.of(i,i)),endPoint:o.plus(He.of(0,i))},{kind:3,controlPoint:o.plus(He.of(-i,i)),endPoint:o.plus(He.of(-i,0))},{kind:3,controlPoint:o.plus(He.of(-i,-i)),endPoint:o.plus(He.of(0,-i))},{kind:3,controlPoint:o.plus(He.of(i,-i)),endPoint:o.plus(He.of(i,0))}]}let n=[];return this.isFirstSegment&&n.push({kind:1,point:this.roundPoint(e.startPoint)}),n.push({kind:3,controlPoint:this.roundPoint(e.controlPoint),endPoint:this.roundPoint(e.endPoint)}),n}addCurve(e){let n=this.curveToPathCommands(e);this.parts.push(...n),this.isFirstSegment&&(this.isFirstSegment=!1)}addPoint(e){this.curveFitter.addPoint(e),this.widthAverageNumSamples++,this.averageWidth=this.averageWidth*(this.widthAverageNumSamples-1)/this.widthAverageNumSamples+e.width/this.widthAverageNumSamples}},Eb=qO((r,e)=>{let n=e.getSizeOfPixelOnCanvas()*.65;return new uVe(r,n,e)}),uVe=class{constructor(e,n,i){oe(this,"parts",[]);oe(this,"bbox");oe(this,"averageWidth");oe(this,"widthAverageNumSamples",1);oe(this,"lastPoint");oe(this,"startPoint");oe(this,"lastLineSegment",null);this.minFitAllowed=n,this.viewport=i,this.averageWidth=e.width,this.startPoint={...e,pos:this.roundPoint(e.pos)},this.lastPoint=this.startPoint.pos,this.bbox=new Lt(this.startPoint.pos.x,this.startPoint.pos.y,0,0),this.parts=[{kind:1,point:this.startPoint.pos}]}getBBox(){return this.bbox.grownBy(this.averageWidth)}getRenderingStyle(){return{fill:mt.transparent,stroke:{color:this.startPoint.color,width:this.roundDistance(this.averageWidth)}}}previewCurrentPath(){let e=this.startPoint.pos,n=[...this.parts];return n.length<=1&&n.push({kind:0,point:e.plus(He.of(this.averageWidth/4,0))}),{startPoint:e,commands:n,style:this.getRenderingStyle()}}previewFullPath(){return[this.previewCurrentPath()]}preview(e){let n=this.previewFullPath();if(n){let i=this.viewport.visibleRect;e.startObject(i);for(let o of n)e.drawPath(o);e.endObject()}}build(){return new Ai(this.previewFullPath())}getMinFit(){let e=Math.min(this.minFitAllowed,this.averageWidth/4);return e<1e-10&&(e=this.minFitAllowed),e}roundPoint(e){let n=this.getMinFit();return On.roundPoint(e,n)}roundDistance(e){let n=this.getMinFit();return On.roundPoint(e,n)}addPoint(e){this.widthAverageNumSamples++,this.averageWidth=this.averageWidth*(this.widthAverageNumSamples-1)/this.widthAverageNumSamples+e.width/this.widthAverageNumSamples;let n=this.roundPoint(e.pos);n.eq(this.lastPoint)||(this.lastLineSegment&&this.lastLineSegment.direction.dot(n.minus(this.lastPoint).normalized())>.997&&(this.parts.pop(),this.lastPoint=this.lastLineSegment.p1),this.parts.push({kind:0,point:this.roundPoint(e.pos)}),this.bbox=this.bbox.grownToPoint(n),this.lastLineSegment=new qf(this.lastPoint,n),this.lastPoint=n)}},m3=qO((r,e)=>{let n=e.getSizeOfPixelOnCanvas()*3,i=e.getSizeOfPixelOnCanvas();return new dVe(r,i,n,e)}),dVe=class{constructor(e,n,i,o){oe(this,"isFirstSegment",!0);oe(this,"pathStartConnector",null);oe(this,"mostRecentConnector",null);oe(this,"nextCurveStartConnector",null);oe(this,"upperSegments");oe(this,"lowerSegments");oe(this,"lastUpperBezier",null);oe(this,"lastLowerBezier",null);oe(this,"parts",[]);oe(this,"curveFitter");oe(this,"curveStartWidth");oe(this,"bbox");this.startPoint=e,this.minFitAllowed=n,this.viewport=o,this.upperSegments=[],this.lowerSegments=[],this.curveFitter=new Bue(e,n,i,a=>this.addCurve(a)),this.curveStartWidth=e.width,this.bbox=new Lt(this.startPoint.pos.x,this.startPoint.pos.y,0,0)}getBBox(){return this.bbox}getRenderingStyle(){return{fill:this.startPoint.color??null}}previewCurrentPath(e=!0){let n=this.upperSegments.slice(),i=this.lowerSegments.slice(),o,a,s=this.curveFitter.preview();if(s&&e){let{upperCurveCommand:u,lowerToUpperConnector:d,upperToLowerConnector:h,lowerCurveCommand:f}=this.segmentToPath(s);n.push(u),i.push(f),o=d,a=this.pathStartConnector??[h]}else{if(this.mostRecentConnector===null||this.pathStartConnector===null)return null;o=this.mostRecentConnector,a=this.pathStartConnector}let l,c=i[i.length-1];return c.kind===0||c.kind===1?l=c.point:l=c.endPoint,{startPoint:l,commands:[o,...n.reverse(),...a,...i],style:this.getRenderingStyle()}}previewFullPath(){let e=this.previewCurrentPath();return e?[...this.parts,e]:null}preview(e){let n=this.previewFullPath();if(n){let i=this.viewport.visibleRect;e.startObject(i);for(let o of n)e.drawPath(o);e.endObject()}}build(){return this.curveFitter.finalizeCurrentCurve(),this.isFirstSegment&&this.addCurve(null),new Ai(this.previewFullPath())}roundPoint(e){let n=Math.min(this.minFitAllowed,this.curveStartWidth/3);return n<1e-10&&(n=this.minFitAllowed),On.roundPoint(e,n)}shouldStartNewSegment(e,n){if(!this.lastLowerBezier||!this.lastUpperBezier)return!1;let i=(c,u)=>{let d=c.intersectsBezier(u);return d.length===0?null:d[0].point},o=c=>c.p2.minus(c.p1).normalized(),a=c=>c.p1.minus(c.p0).normalized();if(a(n).dot(o(this.lastUpperBezier))<.35||a(e).dot(o(this.lastLowerBezier))<.35||a(n).dot(o(n))<0||a(e).dot(o(e))<0)return!0;let s=i(e,this.lastUpperBezier),l=i(n,this.lastLowerBezier);return!!(s||l)}addCurve(e){if(!e){if(!this.isFirstSegment)return;let d=On.roundPoint(this.startPoint.width/2.2,Math.min(this.minFitAllowed,this.startPoint.width/4)),h=this.roundPoint(this.startPoint.pos),f=this.startPoint.pos.plus(He.of(d,0));this.lowerSegments.push({kind:3,controlPoint:h.plus(He.of(d,d)),endPoint:h.plus(He.of(0,d))},{kind:3,controlPoint:h.plus(He.of(-d,d)),endPoint:h.plus(He.of(-d,0))},{kind:3,controlPoint:h.plus(He.of(-d,-d)),endPoint:h.plus(He.of(0,-d))},{kind:3,controlPoint:h.plus(He.of(d,-d)),endPoint:h.plus(He.of(d,0))});let m={kind:0,point:f};this.pathStartConnector=[m],this.mostRecentConnector=m;return}let{upperCurveCommand:n,lowerToUpperConnector:i,upperToLowerConnector:o,lowerCurveCommand:a,lowerCurve:s,upperCurve:l,nextCurveStartConnector:c}=this.segmentToPath(e),u=this.shouldStartNewSegment(s,l);if(u){let d=this.previewCurrentPath(!1);d?(this.parts.push(d),this.upperSegments=[],this.lowerSegments=[]):u=!1}(this.isFirstSegment||u)&&(this.pathStartConnector=this.nextCurveStartConnector??[o],this.isFirstSegment=!1),this.mostRecentConnector=i,this.nextCurveStartConnector=c,this.lowerSegments.push(a),this.upperSegments.push(n),this.lastLowerBezier=s,this.lastUpperBezier=l,this.curveStartWidth=e.startWidth}segmentToPath(e){let n=new i0(e.startPoint,e.controlPoint,e.endPoint),i=n.normal(0),o=n.normal(1);i=i.times(e.startWidth/2),o=o.times(e.endWidth/2),isFinite(i.magnitude())||(console.error("Warning: startVec is NaN or ",i,o,e),i=o);let a=e.startPoint,s=e.endPoint,l=e.controlPoint,c=n.nearestPointTo(l).parameterValue,u=n.normal(c).times(e.startWidth/2*c+e.endWidth/2*(1-c)),d=this.roundPoint(a.plus(i)),h=this.roundPoint(l.plus(u)),f=this.roundPoint(s.plus(o)),m=this.roundPoint(l.minus(u)),b=this.roundPoint(s.minus(o)),g=this.roundPoint(a.minus(i)),v={kind:3,controlPoint:h,endPoint:f},x={kind:0,point:d},w={kind:0,point:b},k=[{kind:0,point:b},{kind:0,point:f}],T={kind:3,controlPoint:m,endPoint:g},_=new i0(b,m,g),D=new i0(d,h,f);return{upperCurveCommand:T,upperToLowerConnector:x,lowerToUpperConnector:w,lowerCurveCommand:v,upperCurve:_,lowerCurve:D,nextCurveStartConnector:k}}addPoint(e){this.curveFitter.addPoint(e)}},jue=ka((r,e)=>new Fue(r,!0,e)),hVe=ka((r,e)=>new Fue(r,!1,e)),Fue=class{constructor(e,n,i){oe(this,"endPoint");this.startPoint=e,this.filled=n,this.viewport=i,this.endPoint=e}getBBox(){return this.buildPreview().getBBox()}buildPreview(){let e=this.viewport.getRotationAngle(),n=ut.zRotation(-e),i=this.endPoint.width===0?this.endPoint.width:On.roundPoint(this.endPoint.width,5/this.viewport.getScaleFactor()),o=n.inverse().transformVec2(this.startPoint.pos),a=n.inverse().transformVec2(this.endPoint.pos),s=Lt.fromCorners(o,a),l=Dn.fromRect(s,this.filled?null:this.endPoint.width).transformedBy(n).mapPoints(c=>this.viewport.roundPoint(c));return new Ai([ir(l,{fill:this.endPoint.color,stroke:{width:i,color:i===0?this.endPoint.color:this.endPoint.borderColor||this.endPoint.color}})])}build(){return this.buildPreview()}preview(e){this.buildPreview().render(e)}addPoint(e){this.endPoint=e}},xf,fVe=(xf=class extends hg{constructor(n,i,o){var l,c;super(n,i,"shape",o);oe(this,"updateInputs",()=>{});oe(this,"penTypes");oe(this,"penTypeSelect");this.tool=i;let a=((l=n.getCurrentSettings().pens)==null?void 0:l.additionalPenTypes)??[],s=((c=n.getCurrentSettings().pens)==null?void 0:c.filterPenTypes)??(()=>!0);this.penTypes=[{name:this.localizationTable.filledSquare,id:"square",isShapeBuilder:!0,factory:hWe},{name:this.localizationTable.filledRectangle,id:"rectangle",isShapeBuilder:!0,factory:jue},{name:this.localizationTable.filledCircle,id:"circle",isShapeBuilder:!0,factory:_ue},{name:this.localizationTable.filledTriangle,id:"triangle",isShapeBuilder:!0,factory:gWe},{name:this.localizationTable.filledHexagonal,id:"hexagonal",isShapeBuilder:!0,factory:lWe},{name:this.localizationTable.filledDiamond,id:"diamond",isShapeBuilder:!0,factory:iWe},{name:this.localizationTable.filledArrow,id:"arrow",isShapeBuilder:!0,factory:Uue},{name:this.localizationTable.linePen,id:"line",isShapeBuilder:!0,factory:wde},{name:this.localizationTable.linePen,id:"heart",isShapeBuilder:!0,factory:aWe},{name:this.localizationTable.linePen,id:"star",isShapeBuilder:!0,factory:pWe},{name:this.localizationTable.linePen,id:"cloud",isShapeBuilder:!0,factory:nWe},{name:this.localizationTable.linePen,id:"parallelogram",isShapeBuilder:!0,factory:uWe},...a.filter(u=>u.isShapeBuilder)].filter(s),this.editor.notifier.on(2,u=>{if(u.kind!==2)throw new Error("Invalid event type!");u.tool===this.tool&&(this.updateIcon(),this.updateInputs())}),this.init()}getTitle(){return this.targetTool.description}getCurrentPenTypeIdx(){let n=this.tool.getStrokeFactory();for(let i=0;i<this.penTypes.length;i++)if(this.penTypes[i].factory===n)return i;return-1}getCurrentPenType(){for(let n of this.penTypes)if(n.factory===this.tool.getStrokeFactory())return n;return null}createIconForRecord(n){let i={...this.tool.getStyleValue().get()};n!=null&&n.factory&&(i.factory=n.factory);let o=n==null?void 0:n.factory;return!o||o===I0||o===m3||o===Eb?this.editor.icons.makePenIcon(i):this.editor.icons.makeIconFromFactory(i)}init(){this.penTypeSelect=this.createPenTypeSelector(),this.penTypeSelect.setValue(1)}getPenTypeSelect(){return this.penTypeSelect}setShapeType(n){this.penTypeSelect.setValue(n)}createIcon(){return this.createIconForRecord(this.getCurrentPenType())}createPenTypeSelector(n){let i=this.penTypes.map((s,l)=>({id:l,makeIcon:()=>this.createIconForRecord(s),title:s.name,isShapeBuilder:s.isShapeBuilder??!1})).filter(s=>s.isShapeBuilder),o=f9(this.localizationTable.selectShape,this.getCurrentPenTypeIdx(),i),a=s=>{this.tool.setStrokeFactory(this.penTypes[s].factory)};return o.value.onUpdate(a),n==null||n.registerTextHelpForElements([o.getRootElement()],this.localizationTable.penDropdown__penTypeHelpText),{setValue:s=>{o.value.set(s)},updateIcons:()=>{o.updateIcons()},addTo:s=>{i.length>0&&o.addTo(s)}}}createStrokeCorrectionOptions(n){let i=document.createElement("div");i.classList.add("action-button-row",`${Pt}-pen-tool-toggle-buttons`);let o=(l,c)=>{let u=document.createElement("button");u.classList.add(`${Pt}-toggle-button`);let d=c.cloneNode(!0);d.classList.add("icon");let h=document.createElement("span");h.innerText=l,u.replaceChildren(d,h),u.setAttribute("role","switch"),i.appendChild(u);let f=!1,m=g=>{},b={setChecked(g){f=g,u.setAttribute("aria-checked",`${f}`),m(f)},setOnInputListener(g){m=g},addHelpText(g){n==null||n.registerTextHelpForElement(u,g)}};return u.addEventListener("click",()=>{b.setChecked(!f)}),b},a=o(this.localizationTable.inputStabilization,this.editor.icons.makeStrokeSmoothingIcon());a.setOnInputListener(l=>{this.tool.setHasStabilization(l)});let s=o(this.localizationTable.strokeAutocorrect,this.editor.icons.makeShapeAutocorrectIcon());return s.setOnInputListener(l=>{this.tool.setStrokeAutocorrectEnabled(l)}),s.addHelpText(this.localizationTable.penDropdown__autocorrectHelpText),a.addHelpText(this.localizationTable.penDropdown__stabilizationHelpText),{update:()=>{a.setChecked(!!this.tool.getInputMapper()),s.setChecked(this.tool.getStrokeAutocorrectionEnabled())},addTo:l=>{l.appendChild(i)}}}getHelpText(){return this.localizationTable.penDropdown__baseHelpText}fillDropdown(n,i){let o=document.createElement("div");o.classList.add(`${Pt}spacedList`,`${Pt}nonbutton-controls-main-list`);let{container:a,setValue:s}=WO(this.editor,b=>{this.tool.setThickness(b)}),l=document.createElement("div"),c=document.createElement("label"),u=Rv(this.editor,b=>{this.tool.setColor(b)}),{input:d,container:h}=u;d.id=`${Pt}colorInput${xf.idCounter++}`,c.innerText=this.localizationTable.colorLabel,c.setAttribute("for",d.id),l.appendChild(c),l.appendChild(h);let f=this.createStrokeCorrectionOptions(i),m=this.createPenTypeSelector(i);return i==null||i.registerTextHelpForElement(l,this.localizationTable.penDropdown__colorHelpText),i&&u.registerWithHelpTextDisplay(i),i==null||i.registerTextHelpForElement(a,this.localizationTable.penDropdown__thicknessHelpText),this.updateInputs=()=>{u.setValue(this.tool.getColor()),s(this.tool.getThickness()),m.updateIcons(),m.setValue(this.getCurrentPenTypeIdx()),f.update()},this.updateInputs(),o.replaceChildren(l,a),m.addTo(o),n.replaceChildren(o),f.addTo(n),!0}onKeyPress(n){if(!this.isSelected())return!1;for(let[i,o]of VO.entries())if(this.editor.shortcuts.matchesShortcut(o,n)){let a=i;if(a<this.penTypes.length)return this.tool.setStrokeFactory(this.penTypes[a].factory),!0}return!!super.onKeyPress(n)}serializeState(){var n;return{...super.serializeState(),color:this.tool.getColor().toHexString(),thickness:this.tool.getThickness(),strokeFactoryId:(n=this.getCurrentPenType())==null?void 0:n.id,inputStabilization:!!this.tool.getInputMapper(),strokeAutocorrect:this.tool.getStrokeAutocorrectionEnabled()}}deserializeFrom(n){super.deserializeFrom(n);let i=(o,a)=>{let s=typeof n[o];if(s!==a)throw new Error(`Deserializing property ${o}: Invalid type. Expected ${a}, was ${s}.`)};if(n.color&&(i("color","string"),this.tool.setColor(mt.fromHex(n.color))),n.thickness&&(i("thickness","number"),this.tool.setThickness(n.thickness)),n.strokeFactoryId){i("strokeFactoryId","string");let o=n.strokeFactoryId;for(let a of this.penTypes)if(o===a.id){this.tool.setStrokeFactory(a.factory);break}}n.inputStabilization!==void 0&&this.tool.setHasStabilization(!!n.inputStabilization),n.strokeAutocorrect!==void 0&&this.tool.setStrokeAutocorrectEnabled(!!n.strokeAutocorrect)}},oe(xf,"idCounter",0),xf),b0,dee,XS=(dee=class{constructor(){Gn(this,b0,null)}setEmitListener(e){e&&typeof e=="object"?xn(this,b0,n=>e.onEvent(n)??!1):xn(this,b0,e)}emit(e){var n;return((n=Tt(this,b0))==null?void 0:n.call(this,e))??!1}},b0=new WeakMap,dee);function pVe(){return new Promise(r=>{requestAnimationFrame(()=>r())})}var Cb=pVe,mVe={kind:0,mass:.4,springConstant:100,frictionCoefficient:.28,maxPointDist:10,inertiaFraction:.75,minSimilarityToFinalize:0,velocityDecayFactor:.1},gVe=class{constructor(e,n,i){oe(this,"runLoop",!0);oe(this,"lastUpdateTime",0);oe(this,"targetInterval");oe(this,"velocity");oe(this,"strokePoint");oe(this,"targetPoint");this.updatePointer=n,this.options=i,this.strokePoint=e,this.targetPoint=e,this.targetInterval=10,this.loop()}async loop(){for(this.lastUpdateTime=performance.now();this.runLoop;)this.update(!1),await Cb()}setTarget(e){this.targetPoint=e}getNextVelocity(e){let n=this.targetPoint.minus(this.strokePoint),i=n.times(this.options.springConstant),o=this.options.mass*10,a=this.velocity.normalizedOrZero().times(-this.options.frictionCoefficient*o),s=i.plus(a).times(1/this.options.mass),l=this.options.velocityDecayFactor,c=this.velocity.times(1-l).plus(s.times(e/1e3));return n.normalizedOrZero().times(c.length()).lerp(c,this.options.inertiaFraction)}update(e){let n=performance.now(),i=n-this.lastUpdateTime,o=this.strokePoint.eq(this.targetPoint);if(i>this.targetInterval||e){if(!o){let a,s,l=1;do a=this.getNextVelocity(i/l),s=a.times(i/1e3),l++;while(s.magnitude()>this.options.maxPointDist&&l<10);for(let c=0;c<l;c++)this.velocity=this.getNextVelocity(i/l),s=this.velocity.times(i/1e3),this.strokePoint=this.strokePoint.plus(s),c<l-1&&this.updatePointer(this.strokePoint,n)}if(this.lastUpdateTime=n,e||!o)return this.updatePointer(this.strokePoint,n)}return!1}finish(){this.runLoop=!1;let e=this.targetPoint.minus(this.strokePoint);this.velocity.dot(e)>this.options.minSimilarityToFinalize&&this.updatePointer(this.targetPoint,performance.now())}cancel(){this.runLoop=!1}},Hue=class Wue extends XS{constructor(n,i=mVe){super();oe(this,"stabilizer",null);oe(this,"lastPointerEvent",null);this.viewport=n,this.options=i}mapPointerEvent(n){return h9(n)&&n.kind!==2&&(this.lastPointerEvent=n),n.kind===3||n.allPointers.length>1||this.stabilizer===null?this.emit(n):(this.stabilizer.setTarget(n.current.screenPos),n.kind===1?this.stabilizer.update(!0):n.kind===2?(this.stabilizer.finish(),this.emit(n)):this.emit(n))}emitPointerMove(n,i){if(!this.lastPointerEvent)return!1;let o=this.lastPointerEvent.current.withScreenPosition(n,this.viewport).withTimestamp(i),a={kind:1,current:o,allPointers:[o]};return this.emit(a)}onEvent(n){var i;if(h9(n)||n.kind===3){n.kind===0&&(this.stabilizer===null?this.stabilizer=new gVe(n.current.screenPos,(a,s)=>this.emitPointerMove(a,s),this.options):n.allPointers.length>1&&(this.stabilizer.cancel(),this.stabilizer=null));let o=this.mapPointerEvent(n);return(n.kind===2||n.kind===3)&&((i=this.stabilizer)==null||i.cancel(),this.stabilizer=null),o}return this.emit(n)}static fromEditor(n){return new Wue(n.viewport)}},g3="easydraw.tools.SelectionTool.selectAll";kn.registerDefaultKeyboardShortcut(g3,["CtrlOrMeta+KeyA"],"Select all");var m9="easydraw.tools.SelectionTool.duplicateSelection";kn.registerDefaultKeyboardShortcut(m9,["CtrlOrMeta+KeyD"],"Duplicate selection");var g9="easydraw.tools.SelectionTool.sendToBack";kn.registerDefaultKeyboardShortcut(g9,["End"],"Send to back");var Vue="easydraw.tools.SelectionTool.translateLeft";kn.registerDefaultKeyboardShortcut(Vue,["KeyA","KeyH","ArrowLeft"],"Move selection left");var que="easydraw.tools.SelectionTool.translateRight";kn.registerDefaultKeyboardShortcut(que,["KeyD","KeyL","ArrowRight"],"Move selection right");var Gue="easydraw.tools.SelectionTool.translateUp";kn.registerDefaultKeyboardShortcut(Gue,["KeyQ","KeyK","ArrowUp"],"Move selection up");var Kue="easydraw.tools.SelectionTool.translateDown";kn.registerDefaultKeyboardShortcut(Kue,["KeyE","KeyJ","ArrowDown"],"Move selection down");var Xue="easydraw.tools.SelectionTool.rotateCCW";kn.registerDefaultKeyboardShortcut(Xue,["Shift+KeyR"],"Rotate selection counter clockwise");var Yue="easydraw.tools.SelectionTool.rotateCW";kn.registerDefaultKeyboardShortcut(Yue,["KeyR"],"Rotate selection clockwise");var Zue="easydraw.tools.SelectionTool.shrink.x";kn.registerDefaultKeyboardShortcut(Zue,["KeyI"],"Decrease width");var Jue="easydraw.tools.SelectionTool.stretch.x";kn.registerDefaultKeyboardShortcut(Jue,["Shift+KeyI"],"Increase width");var Que="easydraw.tools.SelectionTool.shrink.y";kn.registerDefaultKeyboardShortcut(Que,["KeyO"],"Decrease height");var ede="easydraw.tools.SelectionTool.stretch.y";kn.registerDefaultKeyboardShortcut(ede,["Shift+KeyO"],"Increase height");var tde="easydraw.tools.SelectionTool.shrink.xy";kn.registerDefaultKeyboardShortcut(tde,["Comma"],"Decrease selection size");var nde="easydraw.tools.SelectionTool.stretch.xy";kn.registerDefaultKeyboardShortcut(nde,["Period"],"Increase selection size");var YS="easydraw.tools.undo",rde="easydraw.tools.redo";kn.registerDefaultKeyboardShortcut(YS,["CtrlOrMeta+KeyZ"],"Undo");kn.registerDefaultKeyboardShortcut(rde,["CtrlOrMeta+Shift+KeyZ","CtrlOrMeta+KeyY"],"Redo");var ZS="easydraw.tools.increaseSize";kn.registerDefaultKeyboardShortcut(ZS,["Equal","Shift+Equal"],"Increase pen/eraser size");var JS="easydraw.tools.decreaseSize";kn.registerDefaultKeyboardShortcut(JS,["Minus","Shift+Minus"],"Decrease pen/eraser size");var y3="easydraw.tools.snapToGrid";kn.registerDefaultKeyboardShortcut(y3,["Control","Meta"],"Snap to grid (press and hold)");var ide="easydraw.tools.lockToLine";kn.registerDefaultKeyboardShortcut(ide,["Shift"],"Snap to XY axes (press and hold)");var y9="easydraw.tools.FindTool.toggleVisible";kn.registerDefaultKeyboardShortcut(y9,["CtrlOrMeta+KeyF"],"Shows/hides the find tool");var ode="easydraw.tools.PanZoom.moveLeft";kn.registerDefaultKeyboardShortcut(ode,["ArrowLeft","KeyH","KeyA"],"Pan left");var ade="easydraw.tools.PanZoom.moveRight";kn.registerDefaultKeyboardShortcut(ade,["ArrowRight","KeyL","KeyD"],"Pan right");var sde="easydraw.tools.PanZoom.moveUp";kn.registerDefaultKeyboardShortcut(sde,["ArrowUp","KeyK","KeyQ"],"Pan up");var lde="easydraw.tools.PanZoom.moveDown";kn.registerDefaultKeyboardShortcut(lde,["ArrowDown","KeyJ","KeyE"],"Pan down");var cde="easydraw.tools.PanZoom.rotateViewClockwise";kn.registerDefaultKeyboardShortcut(cde,["Shift+KeyR"],"Rotate viewport clockwise");var ude="easydraw.tools.PanZoom.rotateViewCounterClockwise";kn.registerDefaultKeyboardShortcut(ude,["KeyR"],"Rotate viewport counter-clockwise");var dde="easydraw.tools.PanZoom.zoomIn";kn.registerDefaultKeyboardShortcut(dde,["KeyW"],"Zoom in");var hde="easydraw.tools.PanZoom.zoomOut";kn.registerDefaultKeyboardShortcut(hde,["KeyS"],"Zoom out");var GO={maxSpeed:8.5,maxRadius:11,minTimeSeconds:.5},KO=class{constructor(e,n,i){oe(this,"stationaryStartPointer");oe(this,"lastPointer");oe(this,"averageVelocity");oe(this,"hasMovedOutOfRadius");oe(this,"timeout",null);this.config=n,this.onStationary=i,this.stationaryStartPointer=e,this.lastPointer=e,this.averageVelocity=He.zero,this.setStationaryTimeout(this.config.minTimeSeconds*1e3)}onPointerMove(e){if(!this.stationaryStartPointer)return;if(e.id!==this.stationaryStartPointer.id)return!1;let n=e.screenPos.minus(this.lastPointer.screenPos),i=e.screenPos.minus(this.stationaryStartPointer.screenPos),o=(e.timeStamp-this.lastPointer.timeStamp)/1e3;o===0&&(o=1);let a=n.times(1/o);this.averageVelocity=this.averageVelocity.lerp(a,.5);let s=e.timeStamp-this.stationaryStartPointer.timeStamp,l=i.length()>this.config.maxRadius;if(this.hasMovedOutOfRadius||(this.hasMovedOutOfRadius=l),l||this.averageVelocity.length()>this.config.maxSpeed||s<this.config.minTimeSeconds)return this.stationaryStartPointer=e,this.lastPointer=e,this.setStationaryTimeout(this.config.minTimeSeconds*1e3),!1;let c=this.config.minTimeSeconds*1e3-s;return this.lastPointer=e,c<=0}onPointerUp(e){var n;e.id!==((n=this.stationaryStartPointer)==null?void 0:n.id)&&this.cancelStationaryTimeout()}destroy(){this.cancelStationaryTimeout(),this.stationaryStartPointer=null}getHasMovedOutOfRadius(){return this.hasMovedOutOfRadius}cancelStationaryTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}setStationaryTimeout(e){this.timeout===null&&(e<=0?this.onStationary(this.lastPointer):this.timeout=setTimeout(()=>{if(this.timeout=null,!this.stationaryStartPointer)return;let n=performance.now()-this.stationaryStartPointer.timeStamp,i=this.config.minTimeSeconds*1e3-n;i<=0?this.onStationary(this.lastPointer):this.setStationaryTimeout(i)},e))}},yVe=(r=>(r[r.Pen=0]="Pen",r[r.Eraser=1]="Eraser",r[r.Touch=2]="Touch",r[r.PrimaryButtonMouse=3]="PrimaryButtonMouse",r[r.RightButtonMouse=4]="RightButtonMouse",r[r.Other=5]="Other",r))(yVe||{}),c4=class jm{constructor(e,n,i,o,a,s,l,c){this.screenPos=e,this.canvasPos=n,this.pressure=i,this.isPrimary=o,this.down=a,this.device=s,this.id=l,this.timeStamp=c}snappedToGrid(e){let n=e.snapToGrid(this.canvasPos);return this.withCanvasPosition(n,e)}lockedToXYAxesScreen(e,n){let i=this.screenPos.minus(e),o=He.unitX.times(i.x),a=He.unitY.times(i.y),s;return i.dot(o)>i.dot(a)?s=o:s=a,s=s.plus(e),this.withScreenPosition(s,n)}withScreenPosition(e,n){let i=n.screenToCanvas(e);return this.withCanvasPosition(i,n)}withTimestamp(e){return new jm(this.screenPos,this.canvasPos,this.pressure,this.isPrimary,this.down,this.device,this.id,e)}withCanvasPosition(e,n){let i=n.canvasToScreen(e);return new jm(i,e,this.pressure,this.isPrimary,this.down,this.device,this.id,this.timeStamp)}static ofEvent(e,n,i,o){let a=He.of(e.clientX,e.clientY);if(o){let u=o.getBoundingClientRect();a=a.minus(He.of(u.left,u.top))}let s={mouse:3,pen:0,touch:2}[e.pointerType]??5;s===0&&(e.buttons&32)!==0&&(s=1);let l=e.timeStamp,c=i.roundPoint(i.screenToCanvas(a));return s===3&&e.buttons&2&&(s=4),new jm(a,c,e.pressure??null,e.isPrimary,n,s,e.pointerId,l)}static ofCanvasPoint(e,n,i,o=0,a=0,s=!0,l=null,c=null){let u=i.canvasToScreen(e);return c??(c=performance.now()),new jm(u,e,l,s,n,a,o,c)}static ofScreenPoint(e,n,i,o=0,a=0,s=!0,l=null,c=null){let u=i.screenToCanvas(e);return c??(c=performance.now()),new jm(e,u,l,s,n,a,o,c)}},fde=class extends Uo{constructor(n,i,o){super(n.notifier,i);oe(this,"builder",null);oe(this,"lastPoint",null);oe(this,"startPoint",null);oe(this,"currentDeviceType",null);oe(this,"currentPointerId",null);oe(this,"styleValue");oe(this,"style");oe(this,"shapeAutocompletionEnabled",!1);oe(this,"autocorrectedShape",null);oe(this,"lastAutocorrectedShape",null);oe(this,"removedAutocorrectedShapeTime",0);oe(this,"stationaryDetector",null);this.editor=n,this.styleValue=po.fromInitialValue({factory:I0,color:mt.black,borderColor:mt.black,thickness:0,...o}),this.styleValue.onUpdateAndNow(a=>{this.style=a,this.noteUpdated()})}getPressureMultiplier(){let n=this.style.thickness;return 1/this.editor.viewport.getScaleFactor()*n}toStrokePoint(n){let i=Math.max(n.pressure??1,.3);return isFinite(i)||(console.warn("Non-finite pressure!",n),i=.3),console.assert(isFinite(n.canvasPos.length()),"Non-finite canvas position!"),console.assert(isFinite(n.screenPos.length()),"Non-finite screen position!"),console.assert(isFinite(n.timeStamp),"Non-finite timeStamp on pointer!"),{pos:n.canvasPos,width:i*this.getPressureMultiplier(),color:this.style.color,borderColor:this.style.borderColor,time:n.timeStamp}}previewStroke(){var i;this.editor.clearWetInk();let n=this.editor.display.getWetInkRenderer();if(this.autocorrectedShape){let o=this.editor.viewport.visibleRect;this.autocorrectedShape.render(n,o)}else(i=this.builder)==null||i.preview(n)}addPointToStroke(n){if(!this.builder)throw new Error("No stroke is currently being generated.");this.builder.addPoint(n),this.lastPoint=n,this.previewStroke()}onPointerDown(n){if(this.builder&&!this.eventCanCancelStroke(n))return!0;let{current:i,allPointers:o}=n,a=i.device===1,s=i.device===0;return o.length===1&&!a||s?(this.startPoint=this.toStrokePoint(i),this.builder=this.style.factory(this.startPoint,this.editor.viewport),this.currentDeviceType=i.device,this.currentPointerId=i.id,this.shapeAutocompletionEnabled?this.stationaryDetector=new KO(i,GO,l=>this.autocorrectShape(l)):this.stationaryDetector=null,this.lastAutocorrectedShape=null,this.removedAutocorrectedShapeTime=0,!0):!1}eventCanCancelStroke(n){var s;let i=((s=this.lastPoint)==null?void 0:s.time)??0;if(n.current.timeStamp-i>1e3)return!0;let o=this.currentDeviceType===0,a=n.current.device===2;return!(o&&a)}eventCanBeDeliveredToNonActiveTool(n){return this.eventCanCancelStroke(n)}onPointerMove({current:n}){var i;!this.builder||n.device!==this.currentDeviceType||n.id!==this.currentPointerId||(i=this.stationaryDetector)!=null&&i.onPointerMove(n)||(this.addPointToStroke(this.toStrokePoint(n)),this.autocorrectedShape&&(this.removedAutocorrectedShapeTime=performance.now(),this.autocorrectedShape=null,this.editor.announceForAccessibility(this.editor.localization.autocorrectionCanceled)))}onPointerUp({current:n}){var a,s;if(!this.builder)return!1;if(n.id!==this.currentPointerId)return!0;(a=this.stationaryDetector)==null||a.onPointerUp(n);let i=this.toStrokePoint(n),o={...i,width:((s=this.lastPoint)==null?void 0:s.width)??i.width};return this.addPointToStroke(o),this.finalizeStroke(),!1}onGestureCancel(){var n;this.builder=null,this.editor.clearWetInk(),(n=this.stationaryDetector)==null||n.destroy(),this.stationaryDetector=null}removedAutocorrectedShapeRecently(){return this.removedAutocorrectedShapeTime>performance.now()-320}async autocorrectShape(n){if(!this.builder||!this.builder.autocorrectShape||!this.shapeAutocompletionEnabled||this.autocorrectedShape)return;let i=await this.builder.autocorrectShape();if(!this.builder||!i)return;let o=i.getBBox().area;if(o===0||!isFinite(o))return;let a=i.description(this.editor.localization);this.editor.announceForAccessibility(this.editor.localization.autocorrectedTo(a)),this.autocorrectedShape=i,this.lastAutocorrectedShape=i,this.previewStroke()}finalizeStroke(){var n;if(this.builder){this.lastAutocorrectedShape&&this.removedAutocorrectedShapeRecently()&&(this.autocorrectedShape=this.lastAutocorrectedShape);let i=this.autocorrectedShape??this.builder.build();if(this.previewStroke(),i.getBBox().area>0){i===this.autocorrectedShape&&this.editor.announceForAccessibility(this.editor.localization.autocorrectedTo(i.description(this.editor.localization)));let o=ca.addComponent(i,!0);this.editor.dispatch(o)}else console.warn("Pen: Not adding empty stroke",i,"to the canvas.")}this.builder=null,this.lastPoint=null,this.autocorrectedShape=null,this.lastAutocorrectedShape=null,this.editor.clearWetInk(),(n=this.stationaryDetector)==null||n.destroy(),this.stationaryDetector=null}noteUpdated(){this.editor.notifier.dispatch(2,{kind:2,tool:this})}setColor(n){n.toHexString()!==this.style.color.toHexString()&&this.styleValue.set({...this.style,color:n})}setBorderColor(n){n.toHexString()!==this.style.borderColor.toHexString()&&this.styleValue.set({...this.style,borderColor:n})}setThickness(n){n!==this.style.thickness&&this.styleValue.set({...this.style,thickness:n})}setStrokeFactory(n){n!==this.style.factory&&this.styleValue.set({...this.style,factory:n})}setHasStabilization(n){let i=!!this.getInputMapper();n!==i&&(i?this.setInputMapper(null):this.setInputMapper(new Hue(this.editor.viewport)),this.noteUpdated())}setStrokeAutocorrectEnabled(n){n!==this.shapeAutocompletionEnabled&&(this.shapeAutocompletionEnabled=n,this.noteUpdated())}getStrokeAutocorrectionEnabled(){return this.shapeAutocompletionEnabled}getThickness(){return this.style.thickness}getColor(){return this.style.color}getBorderColor(){return this.style.borderColor}getStrokeFactory(){return this.style.factory}getStyleValue(){return this.styleValue}onKeyPress(n){let i=this.editor.shortcuts,o=i.matchesShortcut(YS,n);if(this.builder&&o)return this.finalizeStroke(),!1;let a;return i.matchesShortcut(JS,n)?a=this.getThickness()*2/3:i.matchesShortcut(ZS,n)&&(a=this.getThickness()*3/2),a!==void 0?(a=Math.min(Math.max(1,a),256),this.setThickness(a),!0):!1}},Gb,Kb,hee,XO=(hee=class extends dg{constructor(n,i,o,a,s,l,c=!1,u=!0){super(n,i,l);Gn(this,Gb);Gn(this,Kb);this.makeIcon=o,this.title=a,this.clickAction=s,this.mustBeToplevel=c,xn(this,Gb,u)}setHelpText(n){xn(this,Kb,n)}getHelpText(){return Tt(this,Kb)}shouldAutoDisableInReadOnlyEditor(){return Tt(this,Gb)}handleClick(){this.clickAction()}getTitle(){return this.title}createIcon(){return this.makeIcon()}fillDropdown(n){return!1}mustBeInToplevelMenu(){return this.mustBeToplevel}},Gb=new WeakMap,Kb=new WeakMap,hee),pde=(r,e)=>{if(e.length===0)return null;let n=e[0].description(r);for(let i of e)if(i.description(r)!==n)return null;return n},v0,ul=(v0=class extends Br{constructor(n){super("erase");oe(this,"toRemove");oe(this,"applied");this.toRemove=n.map(i=>i),this.applied=!1}apply(n){for(let i of this.toRemove){let o=n.image.findParent(i);o&&(o.remove(),n.image.onDestroyElement(i))}this.applied=!0,n.queueRerender()}unapply(n){for(let i of this.toRemove)n.image.findParent(i)||ca.addComponent(i).apply(n);this.applied=!1,n.queueRerender()}onDrop(n){if(this.applied)for(let i of this.toRemove)n.image.onDestroyElement(i)}description(n,i){if(this.toRemove.length===0)return i.erasedNoElements;let o=pde(i,this.toRemove)??i.elements;return i.eraseAction(o,this.toRemove.length)}serializeToJSON(){return this.toRemove.map(n=>n.serialize())}},Br.register("erase",(n,i)=>{if(!Array.isArray(n))throw new TypeError("seralized erase data must be an array");let o=n.map(a=>{let s=typeof a=="string"?a:`${a.id}`;return i.image.lookupElement(s)??Lo.deserialize(a)});return new v0(o)}),v0);function bVe(r){if(r.some(e=>e&&e.then))return Promise.all(r).then(()=>{})}var Pq=bVe,mde=class extends Mv{constructor(e,n,i){super(),this.commands=e,this.applyChunkSize=n,this.descriptionOverride=i}apply(e){if(this.applyChunkSize===void 0){let n=this.commands.map(i=>i.apply(e));return Pq(n)}else return e.asyncApplyCommands(this.commands,this.applyChunkSize)}unapply(e){let n=[...this.commands];if(n.reverse(),this.applyChunkSize===void 0){let i=n.map(o=>o.unapply(e));return Pq(i)}else return e.asyncUnapplyCommands(n,this.applyChunkSize,!1)}onDrop(e){this.commands.forEach(n=>n.onDrop(e))}description(e,n){if(this.descriptionOverride)return this.descriptionOverride;let i=[],o=null,a=0,s=0;for(let l of this.commands){let c=l.description(e,n);if(c!==o&&o!==null&&(i.push(n.unionOf(o,a)),o=null,a=0),a++,s++,o??(o=c),i.length>12)break}return a>1?i.push(n.unionOf(o,a)):a===1&&i.push(o),s<this.commands.length&&i.push(n.andNMoreCommands(this.commands.length-s)),i.join(", ")}},vVe=class extends Br{constructor(n,i,o){super("union");oe(this,"nonserializableCommand");oe(this,"serializedData");this.commands=n,this.applyChunkSize=i,this.descriptionOverride=o,this.nonserializableCommand=new mde(n,i,o)}serializeToJSON(){return this.serializedData?this.serializedData:{applyChunkSize:this.applyChunkSize,data:this.commands.map(n=>n.serialize()),description:this.descriptionOverride}}apply(n){return this.serializedData=this.serializeToJSON(),this.nonserializableCommand.apply(n)}unapply(n){return this.nonserializableCommand.unapply(n)}onDrop(n){this.nonserializableCommand.onDrop(n)}description(n,i){return this.nonserializableCommand.description(n,i)}};function gde(r,e){let n=!0;for(let a of r)if(!(a instanceof Br)){n=!1;break}let i,o;if(typeof e=="number"?i=e:(i=e==null?void 0:e.applyChunkSize,o=e==null?void 0:e.description),n){let a=r;return new vVe(a,i,o)}else return new mde(r,i,o)}Br.register("union",(r,e)=>{if(typeof r.data.length!="number")throw new TypeError("Unions of commands must serialize to lists of serialization data.");let n=r.applyChunkSize;if(typeof n!="number"&&n!==void 0)throw new Error("serialized applyChunkSize is neither undefined nor a number.");let i=typeof r.description=="string"?r.description:void 0,o=[];for(let a of r.data)o.push(Br.deserialize(a,e));return gde(o,{applyChunkSize:n,description:i})});var zd=gde,xVe=(r=>(r[r.SolidColor=0]="SolidColor",r[r.Grid=1]="Grid",r[r.None=2]="None",r[r.Dot=3]="Dot",r))(xVe||{}),_b="easydrawer-image-background",b9="easydrawer-image-background-grid-",yde="easydrawer-image-background-non-automatic-secondary-color",bde={1:"easydrawer-image-background-grid",3:"easydrawer-image-background-dot",0:_b,2:""},dl=class u4 extends Lo{constructor(n,i){super("image-background",0);oe(this,"contentBBox");oe(this,"viewportSizeChangeListener",null);oe(this,"autoresizeChangedListener",null);oe(this,"fillsScreen",!1);oe(this,"gridSize",On.getGridSize(2));oe(this,"gridStrokeWidth",.7);oe(this,"secondaryColor",null);oe(this,"isRestylableComponent",!0);this.backgroundType=n,this.mainColor=i,this.contentBBox=Lt.empty}static ofGrid(n,i,o,a){let s=new u4(1,n);return i!==void 0&&(s.gridSize=i),o!==void 0&&(s.secondaryColor=o),a!==void 0&&(s.gridStrokeWidth=a),s}getBackgroundType(){return this.backgroundType}getMainColor(){return this.mainColor}getSecondaryColor(){return this.secondaryColor}getGridSize(){return this.gridSize}getStyle(){let n=this.mainColor;return this.backgroundType===2&&(n=void 0),{color:n}}updateStyle(n){return HO(this.getStyle(),n,this)}forceStyle(n,i){let o=n.color;o&&(this.mainColor=o,o.eq(mt.transparent)&&this.backgroundType===0?this.backgroundType=2:this.backgroundType===2&&(this.backgroundType=0),i&&(i.image.queueRerenderOf(this),i.queueRerender()))}onAddToImage(n){this.viewportSizeChangeListener&&(console.warn("onAddToImage called when background is already in an image"),this.onRemoveFromImage()),this.viewportSizeChangeListener=n.notifier.on(0,()=>{this.recomputeBBox(n)}),this.autoresizeChangedListener=n.notifier.on(1,()=>{this.recomputeBBox(n)}),this.recomputeBBox(n)}onRemoveFromImage(){var n,i;(n=this.viewportSizeChangeListener)==null||n.remove(),(i=this.autoresizeChangedListener)==null||i.remove(),this.viewportSizeChangeListener=null,this.autoresizeChangedListener=null}recomputeBBox(n){let i=n.getImportExportViewport().visibleRect,o=!1;this.contentBBox.eq(i)||(this.contentBBox=i,o||(o=!this.fillsScreen));let a=n.getAutoresizeEnabled();a!==this.fillsScreen&&(this.fillsScreen=a,o=!0),o&&n.queueRerenderOf(this)}generateGridPath(n){let i=this.getFullBoundingBox(n),o=((n==null?void 0:n.intersection(i))??i).grownBy(this.gridStrokeWidth/2),a=g=>Math.floor(g/this.gridSize)*this.gridSize,s=g=>Math.ceil(g/this.gridSize)*this.gridSize,l=s(o.y),c=a(o.y+o.h),u=s(o.x),d=a(o.x+o.w),h=[],f=(c-l)/this.gridSize,m=(d-u)/this.gridSize;if(f>1e3||m>1e3)return Dn.empty;let b=He.of(o.x,l);for(let g=l;g<=c;g+=this.gridSize)h.push({kind:1,point:He.of(o.x,g)}),h.push({kind:0,point:He.of(o.x+o.w,g)});for(let g=u;g<=d;g+=this.gridSize)h.push({kind:1,point:He.of(g,o.y)}),h.push({kind:0,point:He.of(g,o.y+o.h)});return new Dn(b,h)}generateDotPath(n){let i=this.getFullBoundingBox(n),o=((n==null?void 0:n.intersection(i))??i).grownBy(this.gridStrokeWidth/2),a=g=>Math.floor(g/this.gridSize)*this.gridSize,s=g=>Math.ceil(g/this.gridSize)*this.gridSize,l=s(o.y),c=a(o.y+o.h),u=s(o.x),d=a(o.x+o.w),h=[],f=(c-l)/this.gridSize,m=(d-u)/this.gridSize;if(f>1e3||m>1e3)return Dn.empty;let b=He.of(o.x,l);for(let g=l;g<=c;g+=this.gridSize)for(let v=u;v<=d;v+=this.gridSize){He.of(v,g);let x=this.gridStrokeWidth;h.push({kind:1,point:He.of(v+x,g)}),h.push({kind:3,controlPoint:He.of(v+x,g-x*.55),endPoint:He.of(v,g-x)}),h.push({kind:3,controlPoint:He.of(v-x*.55,g-x),endPoint:He.of(v-x,g)}),h.push({kind:3,controlPoint:He.of(v-x,g+x*.55),endPoint:He.of(v,g+x)}),h.push({kind:3,controlPoint:He.of(v+x*.55,g+x),endPoint:He.of(v+x,g)})}return new Dn(b,h)}getFullBoundingBox(n){return(this.fillsScreen?n:this.contentBBox)??this.contentBBox}render(n,i){if(this.backgroundType===2)return;let o=!i;this.fillsScreen&&(i??(i=n.getVisibleRect()));let a=this.backgroundType===1,s=this.getFullBoundingBox(i);if(n.startObject(s,a),this.backgroundType===0||this.backgroundType===1){let u=i==null?void 0:i.intersection(s);u?n.fillRect(u,this.mainColor):o&&n.fillRect(s,this.mainColor)}if(this.backgroundType===1){let u=this.secondaryColor;u??(u=mt.ofRGBA(1-this.mainColor.r,1-this.mainColor.g,1-this.mainColor.b,.2)),this.mainColor.a===0&&(u=mt.ofRGBA(.5,.5,.5,.2));let d={fill:mt.transparent,stroke:{width:this.gridStrokeWidth,color:u}};n.drawPath(ir(this.generateGridPath(i),d))}if(this.backgroundType===3){let u=this.secondaryColor;u??(u=mt.ofRGBA(1-this.mainColor.r,1-this.mainColor.g,1-this.mainColor.b,.2)),this.mainColor.a===0&&(u=mt.fromHex("#cccccc"));let d={fill:u,stroke:{width:this.gridStrokeWidth,color:u}};n.drawPath(ir(this.generateDotPath(i),d))}let l=bde[this.backgroundType],c=[_b];if(l!==_b){c.push(l);let u=xs(this.gridSize).replace(/\./g,"p");c.push(b9+u)}this.secondaryColor!==null&&c.push(yde),n.endObject(this.getLoadSaveData(),c)}intersects(n){return this.contentBBox.getEdges().some(i=>i.intersects(n))}isSelectable(){return!1}isBackground(){return!0}getSizingMode(){return this.fillsScreen?1:0}serializeToJSON(){var n;return{mainColor:this.mainColor.toHexString(),secondaryColor:(n=this.secondaryColor)==null?void 0:n.toHexString(),backgroundType:this.backgroundType,gridSize:this.gridSize,gridStrokeWidth:this.gridStrokeWidth}}applyTransformation(n){}description(n){return this.backgroundType===0?n.filledBackgroundWithColor(this.mainColor.toString()):this.backgroundType===2?n.emptyBackground:this.backgroundType===1?n.gridBackground:this.backgroundType===3?n.dotBackground:this.backgroundType}createClone(){return new u4(this.backgroundType,this.mainColor)}static deserializeFromJSON(n){if(typeof n=="string"&&(n=JSON.parse(n)),typeof n.mainColor!="string")throw new TypeError("Error deserializing  mainColor must be of type string.");let i,o=n.backgroundType;if(o===2||o===1||o===3||o===0)i=o;else return o;let a=mt.fromHex(n.mainColor),s=n.secondaryColor?mt.fromHex(n.secondaryColor):null,l=n.gridSize??void 0,c=n.gridStrokeWidth??void 0,u=new u4(i,a);return u.secondaryColor=s,l&&(u.gridSize=l),c&&(u.gridStrokeWidth=c),u}};Lo.registerComponent("image-background",dl.deserializeFromJSON);var Ac,wVe=(Ac=class extends dg{constructor(n,i){super(n,"document-properties-widget",i);oe(this,"updateDropdownContent",()=>{});oe(this,"dropdownUpdateQueued",!1);this.container.classList.add("dropdownShowable"),this.editor.notifier.on(3,()=>{this.queueDropdownUpdate()}),this.editor.image.notifier.on(0,()=>{this.queueDropdownUpdate()})}getTitle(){return this.localizationTable.documentProperties}createIcon(){return this.editor.icons.makeConfigureDocumentIcon()}handleClick(){this.setDropdownVisible(!this.isDropdownVisible()),this.queueDropdownUpdate()}queueDropdownUpdate(){this.dropdownUpdateQueued||(requestAnimationFrame(()=>this.updateDropdown()),this.dropdownUpdateQueued=!0)}updateDropdown(){this.dropdownUpdateQueued=!1,this.isDropdownVisible()&&this.updateDropdownContent()}setBackgroundColor(n){this.editor.dispatch(this.editor.setBackgroundColor(n))}getBackgroundColor(){return this.editor.estimateBackgroundColor()}removeBackgroundComponents(){let n=[];for(let i of this.editor.image.getBackgroundComponents())i instanceof dl&&n.push(i);return new ul(n)}setBackgroundType(n){let i=this.editor.estimateBackgroundColor(),o=new dl(n,i),a=this.editor.image.addComponent(o);return zd([this.removeBackgroundComponents(),a])}getBackgroundType(){let n=this.editor.image.getBackgroundComponents();for(let i=n.length-1;i>=0;i--){let o=n[i];if(o instanceof dl)return o.getBackgroundType()}return 2}updateImportExportRectSize(n){let i=c=>(c!==void 0&&(!isFinite(c)||c<=0)&&(c=100),c),o=i(n.width),a=i(n.height),s=this.editor.getImportExportRect(),l=new Lt(s.x,s.y,o??s.w,a??s.h);this.editor.dispatch(this.editor.image.setImportExportRect(l)),this.editor.queueRerender()}getHelpText(){return this.localizationTable.pageDropdown__baseHelpText}setBackgroundGrid(){this.editor.dispatch(this.setBackgroundType(1)),this.editor.dispatch(this.editor.image.setAutoresizeEnabled(!0))}setBackgroundDot(){this.editor.dispatch(this.setBackgroundType(3))}updateBackgroundColor(n){this.editor.dispatch(this.editor.setBackgroundColor(n))}setBackgroundSolid(){this.editor.dispatch(this.setBackgroundType(0)),this.editor.dispatch(this.editor.image.setAutoresizeEnabled(!0))}removeBackground(){this.editor.dispatch(this.setBackgroundType(2))}fillDropdown(n,i){let o=document.createElement("div");o.classList.add(`${Pt}spacedList`,`${Pt}nonbutton-controls-main-list`,`${Pt}document-properties-widget`);let a=()=>{let w=document.createElement("div"),k=document.createElement("label");k.innerText=this.localizationTable.backgroundColor;let{input:T,container:_,setValue:D,registerWithHelpTextDisplay:I}=Rv(this.editor,L=>{L.eq(this.getBackgroundColor())||this.setBackgroundColor(L)});return T.id=`${Pt}docPropertiesColorInput-${Ac.idCounter++}`,k.htmlFor=T.id,w.replaceChildren(k,_),{setBgColorInputValue:D,backgroundColorRow:w,registerWithHelp:L=>{L&&(L==null||L.registerTextHelpForElement(w,this.localizationTable.pageDropdown__backgroundColorHelpText),I(L))}}},{backgroundColorRow:s,setBgColorInputValue:l,registerWithHelp:c}=a(),u=(w,k)=>{let T=document.createElement("div"),_=document.createElement("label"),D=document.createElement("input");return D.id=`${Pt}docPropertiesCheckbox-${Ac.idCounter++}`,_.htmlFor=D.id,D.type="checkbox",_.innerText=w,D.addEventListener("input",()=>{k(D.checked)}),T.replaceChildren(_,D),{container:T,checkbox:D}},{container:d,checkbox:h}=u(this.localizationTable.useGridOption,w=>{if(this.getBackgroundType()===1===w)return;let k=0;w&&(k=1),this.editor.dispatch(this.setBackgroundType(k))}),f=(w,k)=>{let T=document.createElement("div"),_=document.createElement("label"),D=document.createElement("input");return _.innerText=w,D.type="number",D.min="0",D.id=`${Pt}docPropertiesDimensionRow-${Ac.idCounter++}`,_.htmlFor=D.id,D.style.flexGrow="2",D.style.width="25px",D.addEventListener("input",()=>{k(Number.parseFloat(D.value))}),T.classList.add("easydrawer-size-input-row"),T.replaceChildren(_,D),{setValue:I=>{if(document.activeElement===D&&/^0*$/.test(D.value)){let L=D.value;D.type="text",D.value=I.toString();let O=Math.max(1,D.value.length-L.length);D.setSelectionRange(0,O),D.type="number"}else D.value=I.toString()},setIsAutomaticSize:I=>{D.disabled=I;let L="size-input-row--automatic-size";I?T.classList.add(L):T.classList.remove(L)},element:T}},m=f(this.localizationTable.imageWidthOption,w=>{this.updateImportExportRectSize({width:w})}),b=f(this.localizationTable.imageHeightOption,w=>{this.updateImportExportRectSize({height:w})}),{container:g,checkbox:v}=u(this.localizationTable.enableAutoresizeOption,w=>{let k=this.editor.image;this.editor.dispatch(k.setAutoresizeEnabled(w))}),x=document.createElement("button");return x.classList.add("about-button"),x.innerText=this.localizationTable.about,x.addEventListener("click",()=>{this.editor.showAboutDialog()}),c(i),i==null||i.registerTextHelpForElement(d,this.localizationTable.pageDropdown__gridCheckboxHelpText),i==null||i.registerTextHelpForElement(g,this.localizationTable.pageDropdown__autoresizeCheckboxHelpText),i==null||i.registerTextHelpForElement(x,this.localizationTable.pageDropdown__aboutButtonHelpText),this.updateDropdownContent=()=>{l(this.getBackgroundColor());let w=this.editor.image.getAutoresizeEnabled(),k=this.editor.getImportExportRect();m.setValue(k.width),b.setValue(k.height),v.checked=w,m.setIsAutomaticSize(w),b.setIsAutomaticSize(w),h.checked=this.getBackgroundType()===1},this.updateDropdownContent(),o.replaceChildren(s,d,m.element,b.element,g,x),n.replaceChildren(o),!0}},oe(Ac,"idCounter",0),Ac),vde=(r=>(r.PartialStroke="partial-stroke",r.FullStroke="full-stroke",r))(vde||{}),SVe=class extends Uo{constructor(n,i){super(n.notifier,n.localization.changeTool);oe(this,"previousEnabledTool");oe(this,"previousEraserEnabledState");this.editor=n,this.eraser=i}onPointerDown(n){if(n.allPointers.length===1&&n.current.device===1){let i=this.editor.toolController.getPrimaryTools().filter(o=>o.isEnabled());if(i.length>0?this.previousEnabledTool=i[0]:this.previousEnabledTool=null,this.previousEraserEnabledState=this.eraser.isEnabled(),this.eraser.setEnabled(!0),this.eraser.onPointerDown(n))return!0;this.restoreOriginalTool()}return!1}onPointerMove(n){this.eraser.onPointerMove(n)}restoreOriginalTool(){this.eraser.setEnabled(this.previousEraserEnabledState),this.previousEnabledTool&&this.previousEnabledTool.setEnabled(!0)}onPointerUp(n){this.eraser.onPointerUp(n),this.restoreOriginalTool()}onGestureCancel(n){this.eraser.onGestureCancel(n),this.restoreOriginalTool()}},xde=class extends Uo{constructor(n,i,o){super(n.notifier,i);oe(this,"lastPoint",null);oe(this,"isFirstEraseEvt",!0);oe(this,"thickness");oe(this,"thicknessValue");oe(this,"modeValue");oe(this,"toRemove");oe(this,"toAdd",new Set);oe(this,"eraseCommands",[]);oe(this,"addCommands",[]);this.editor=n,this.thickness=(o==null?void 0:o.thickness)??10,this.thicknessValue=po.fromInitialValue(this.thickness),this.thicknessValue.onUpdate(a=>{this.thickness=a,this.editor.notifier.dispatch(2,{kind:2,tool:this})}),this.modeValue=po.fromInitialValue((o==null?void 0:o.mode)??"full-stroke"),this.modeValue.onUpdate(a=>{this.editor.notifier.dispatch(2,{kind:2,tool:this})})}makeEraserSwitcherTool(){return new SVe(this.editor,this)}clearPreview(){this.editor.clearWetInk()}getSizeOnCanvas(){return this.thickness/this.editor.viewport.getScaleFactor()}drawPreviewAt(n){this.clearPreview();let i=this.getSizeOnCanvas(),o=this.editor.display.getWetInkRenderer(),a=this.getEraserRect(n),s=this.getEraserRect(this.lastPoint??n),l={fill:mt.gray,stroke:{width:i/10,color:mt.blue}};o.drawPath(ir(Dn.fromConvexHullOf([...a.corners,...s.corners]),l))}getEraserRect(n){let i=this.getSizeOnCanvas(),o=He.of(i/2,i/2);return Lt.fromCorners(n.minus(o),n.plus(o))}eraseTo(n){if(!this.isFirstEraseEvt&&n.distanceTo(this.lastPoint)===0)return;this.isFirstEraseEvt=!1;let i=this.getEraserRect(n),o=new qf(this.lastPoint,n),a=Lt.union(o.bbox,i),s=this.editor.image.getComponentsIntersecting(a).filter(l=>l.intersects(o)||l.intersectsRect(i)).filter(l=>l.isSelectable());if(this.modeValue.get()==="full-stroke"){this.toRemove.push(...s);let l=s.map(c=>new ul([c]));l.forEach(c=>c.apply(this.editor)),this.eraseCommands.push(...l)}else{let l=[],c=[];for(let f of s){if(l.push(f),!f.withRegionErased||i.grownBy(i.maxDimension/3).containsRect(f.getExactBBox()))continue;let m=Dn.fromConvexHullOf([...i.corners,...this.getEraserRect(this.lastPoint??n).corners].map(b=>this.editor.viewport.roundPoint(b)));c.push(...f.withRegionErased(m,this.editor.viewport))}let u=new ul(l),d=c.map(f=>ca.addComponent(f));u.apply(this.editor),d.forEach(f=>f.apply(this.editor));let h=[];for(let f of l)this.toAdd.has(f)?this.toAdd.delete(f):h.push(f);this.toRemove.push(...h);for(let f of c)this.toAdd.add(f);this.eraseCommands.push(new ul(h)),this.addCommands.push(...d)}this.drawPreviewAt(n),this.lastPoint=n}onPointerDown(n){return n.allPointers.length===1||n.current.device===1?(this.lastPoint=n.current.canvasPos,this.toRemove=[],this.toAdd.clear(),this.isFirstEraseEvt=!0,this.drawPreviewAt(n.current.canvasPos),!0):!1}onPointerMove(n){let i=n.current.canvasPos;this.eraseTo(i)}onPointerUp(n){this.eraseTo(n.current.canvasPos);let i=[];if(this.addCommands.length>0){this.addCommands.forEach(o=>o.unapply(this.editor));for(let o of this.toAdd)this.toRemove.includes(o)&&(this.toAdd.delete(o),this.toRemove=this.toRemove.filter(a=>a!==o));for(let o of this.toRemove)this.toAdd.has(o)&&(this.toAdd.delete(o),this.toRemove=this.toRemove.filter(a=>a!==o));i.push(...[...this.toAdd].map(o=>ca.addComponent(o))),this.addCommands=[]}if(this.eraseCommands.length>0){this.eraseCommands.forEach(a=>a.unapply(this.editor)),this.eraseCommands=[];let o=new ul(this.toRemove);i.push(o)}i.length===1?this.editor.dispatch(i[0]):this.editor.dispatch(zd(i)),this.clearPreview()}onGestureCancel(n){this.addCommands.forEach(i=>i.unapply(this.editor)),this.eraseCommands.forEach(i=>i.unapply(this.editor)),this.eraseCommands=[],this.addCommands=[],this.clearPreview()}onKeyPress(n){let i=this.editor.shortcuts,o;return i.matchesShortcut(JS,n)?o=this.getThickness()*2/3:i.matchesShortcut(ZS,n)&&(o=this.getThickness()*3/2),o!==void 0?(o=Math.min(Math.max(1,o),200),this.setThickness(o),!0):!1}getThickness(){return this.thickness}setThickness(n){this.thicknessValue.set(n)}getThicknessValue(){return this.thicknessValue}getModeValue(){return this.modeValue}},wf,kVe=(wf=class extends hg{constructor(n,i,o){super(n,i,"eraser-tool-widget",o);oe(this,"updateInputs",()=>{});this.tool=i,this.editor.notifier.on(2,a=>{a.kind===2&&a.tool===this.tool&&(this.updateInputs(),this.updateIcon())})}getHelpText(){return this.localizationTable.eraserDropdown__baseHelpText}getTitle(){return this.localizationTable.eraser}makeIconForType(n){return this.editor.icons.makeEraserIcon(this.tool.getThickness(),n)}createIcon(){return this.makeIconForType(this.tool.getModeValue().get())}makeEraserTypeSelector(n){let i=document.createElement("div"),o=document.createElement("label"),a=document.createElement("input");a.id=`${Pt}eraserToolWidget-${wf.idCounter++}`,o.htmlFor=a.id,o.innerText=this.localizationTable.fullStrokeEraser,a.type="checkbox",a.addEventListener("input",()=>{this.tool.getModeValue().set(a.checked?"full-stroke":"partial-stroke")});let s=()=>{a.checked=this.tool.getModeValue().get()==="full-stroke"};return i.replaceChildren(o,a),n==null||n.registerTextHelpForElement(i,this.localizationTable.eraserDropdown__fullStrokeEraserHelpText),{addTo:l=>{l.appendChild(i)},updateValue:s}}fillDropdown(n,i){let o=document.createElement("div");o.classList.add(`${Pt}spacedList`,`${Pt}nonbutton-controls-main-list`);let a=WO(this.editor,l=>{this.tool.setThickness(l)});a.setBounds(10,55),i==null||i.registerTextHelpForElement(a.container,this.localizationTable.eraserDropdown__thicknessHelpText);let s=this.makeEraserTypeSelector(i);return this.updateInputs=()=>{a.setValue(this.tool.getThickness()),s.updateValue()},this.updateInputs(),o.replaceChildren(a.container),s.addTo(o),n.replaceChildren(o),!0}serializeState(){return{...super.serializeState(),thickness:this.tool.getThickness(),mode:this.tool.getModeValue().get()}}deserializeFrom(n){if(super.deserializeFrom(n),n.thickness){let i=Number.parseFloat(n.thickness);if(typeof i!="number"||!isFinite(i))throw new TypeError(`Deserializing property ${i} is not a number or is not finite.`);this.tool.setThickness(i)}if(n.mode){let i=n.mode;Object.values(vde).includes(i)&&this.tool.getModeValue().set(i)}}},oe(wf,"idCounter",0),wf),TVe=class extends XO{constructor(e,n,i,o={}){super(e,"exit-button",()=>o.icon??e.icons.makeCloseIcon(),o.label??n.exit,i),this.setTags(["exit"])}shouldAutoDisableInReadOnlyEditor(){return!1}onKeyPress(e){return this.editor.shortcuts.matchesShortcut(Lue,e)?(this.clickAction(),!0):super.onKeyPress(e)}mustBeInToplevelMenu(){return!0}},EVe=TVe;function CVe(r=""){let e=document.createElement("div");return e.classList.add("tool-dropdown-separator"),e.innerText=r,{addTo:n=>{n.appendChild(e)}}}var v9=CVe,_Ve=(r=>(r[r.OneFingerTouchGestures=1]="OneFingerTouchGestures",r[r.TwoFingerTouchGestures=2]="TwoFingerTouchGestures",r[r.RightClickDrags=4]="RightClickDrags",r[r.SinglePointerGestures=8]="SinglePointerGestures",r[r.Keyboard=16]="Keyboard",r[r.RotationLocked=32]="RotationLocked",r))(_Ve||{}),AVe=class{constructor(e,n,i){oe(this,"running",!1);oe(this,"currentVelocity");this.initialVelocity=e,this.scrollBy=n,this.onComplete=i,this.start()}async start(){if(this.running)return;this.currentVelocity=this.initialVelocity;let e=performance.now();this.running=!0;let n=5e3,i=200;for(this.currentVelocity.magnitude()>n&&(this.currentVelocity=this.currentVelocity.normalized().times(n));this.running&&this.currentVelocity.magnitude()>i;){let o=performance.now(),a=(o-e)/1e3;this.currentVelocity=this.currentVelocity.times(Math.pow(1/8,a)),this.scrollBy(this.currentVelocity.times(a)),await Cb(),e=o}this.running&&this.stop()}getCurrentVelocity(){return this.running?this.currentVelocity:null}stop(){this.running&&(this.running=!1,this.onComplete())}},a0=class extends Uo{constructor(n,i,o){super(n.notifier,o);oe(this,"transform",null);oe(this,"initialRotationSnapAngle",.22);oe(this,"afterRotationStartSnapAngle",.07);oe(this,"pinchZoomStartThreshold",1.08);oe(this,"startTouchDist");oe(this,"lastTouchDist");oe(this,"lastScreenCenter");oe(this,"lastTimestamp");oe(this,"lastPointerDownTimestamp",0);oe(this,"initialTouchAngle",0);oe(this,"initialViewportRotation",0);oe(this,"initialViewportScale",0);oe(this,"isScaling",!1);oe(this,"isRotating",!1);oe(this,"inertialScroller",null);oe(this,"velocity",null);this.editor=n,this.mode=i}canReceiveInputInReadOnlyEditor(){return!0}computePinchData(n,i){if(n.id<i.id){let u=n;n=i,i=u}let o=i.screenPos.minus(n.screenPos),a=o.angle(),s=o.magnitude(),l=i.canvasPos.plus(n.canvasPos).times(.5),c=i.screenPos.plus(n.screenPos).times(.5);return{canvasCenter:l,screenCenter:c,angle:a,dist:s}}allPointersAreOfType(n,i){return n.every(o=>o.device===i)}onPointerDown({allPointers:n,current:i}){var c,u;let o=!1,a=((c=this.inertialScroller)==null?void 0:c.getCurrentVelocity())??He.zero;(u=this.inertialScroller)==null||u.stop(),this.velocity=a,this.lastPointerDownTimestamp=i.timeStamp;let s=this.allPointersAreOfType(n,2),l=this.allPointersAreOfType(n,4);if(s&&n.length===2&&this.mode&2){let{screenCenter:d,angle:h,dist:f}=this.computePinchData(n[0],n[1]);this.lastTouchDist=f,this.startTouchDist=f,this.lastScreenCenter=d,this.initialTouchAngle=h,this.initialViewportRotation=this.editor.viewport.getRotationAngle(),this.initialViewportScale=this.editor.viewport.getScaleFactor(),this.isScaling=!1,this.isRotating=Math.abs(Math.sin(this.initialViewportRotation*2))>.001,o=!0}else n.length===1&&(this.mode&1&&s||l&&this.mode&4||this.mode&8)&&(this.lastScreenCenter=n[0].screenPos,this.isScaling=!1,o=!0);return o&&(this.lastTimestamp=performance.now(),this.transform??(this.transform=Ks.transformBy(ut.identity)),this.editor.display.setDraftMode(!0)),o}updateVelocity(n){let i=n.minus(this.lastScreenCenter),o=(performance.now()-this.lastTimestamp)/1e3;if(i.magnitude()===0&&o<.1||o===0)return;o=Math.max(o,.01);let a=i.times(1/o),s=a;this.velocity&&(s=this.velocity.lerp(a,.5)),this.velocity=s}getCenterDelta(n){return this.editor.viewport.screenToCanvasTransform.transformVec3(n.minus(this.lastScreenCenter))}toSnappedRotationDelta(n){let i=n-this.initialTouchAngle+this.initialViewportRotation,o=Math.PI/2,a=Math.round(i/o)*o,s=this.isRotating?this.afterRotationStartSnapAngle:this.initialRotationSnapAngle;return Math.abs(i-a)<s&&(i=a,i!==0&&(i+=1e-4)),i-this.editor.viewport.getRotationAngle()}toSnappedScaleFactor(n){let i=this.initialViewportScale*n/this.startTouchDist,o=this.editor.viewport.getScaleFactor(),a=Math.log(i)/Math.log(10),s=Math.round(a);return Math.abs(s-a)<.04?Math.pow(10,s)/o:n/this.lastTouchDist}handleTwoFingerMove(n){let{screenCenter:i,canvasCenter:o,angle:a,dist:s}=this.computePinchData(n[0],n[1]),l=this.getCenterDelta(i),c;if(this.isRotationLocked()?c=0:c=this.toSnappedRotationDelta(a),Math.abs(c)>1e-8&&(this.isRotating=!0),this.updateVelocity(i),!this.isScaling){let h=s/this.startTouchDist,f=this.pinchZoomStartThreshold,m=1/this.pinchZoomStartThreshold;(h>f||h<m)&&(this.isScaling=!0)}let u=1;this.isScaling&&(u=this.toSnappedScaleFactor(s),this.lastTouchDist=s);let d=ut.translation(l).rightMul(ut.scaling2D(u,o)).rightMul(ut.zRotation(c,o));return this.lastScreenCenter=i,this.transform=Ks.transformBy(this.transform.transform.rightMul(d)),d}handleOneFingerMove(n){let i=this.getCenterDelta(n.screenPos),o=ut.translation(i);return this.transform=Ks.transformBy(this.transform.transform.rightMul(o)),this.updateVelocity(n.screenPos),this.lastScreenCenter=n.screenPos,o}onPointerMove({allPointers:n}){this.transform??(this.transform=Ks.transformBy(ut.identity));let i=ut.identity;n.length===2?i=this.handleTwoFingerMove(n):n.length===1&&(i=this.handleOneFingerMove(n[0])),Ks.transformBy(i).apply(this.editor),this.lastTimestamp=performance.now()}onPointerUp(n){var o;let i=()=>{this.transform&&(this.transform.unapply(this.editor),this.editor.dispatch(this.transform,!1)),this.editor.display.setDraftMode(!1),this.transform=null,this.velocity=He.zero};if(n.current.device===2&&n.allPointers.length===1&&this.velocity!==null&&n.current.timeStamp-this.lastPointerDownTimestamp>30&&this.velocity!==null){let a=this.velocity;this.updateVelocity(n.current.screenPos),a.magnitude()<this.velocity.magnitude()&&(this.velocity=a),(o=this.inertialScroller)==null||o.stop(),this.inertialScroller=new AVe(this.velocity,s=>{if(!this.transform)return;let l=this.editor.viewport.screenToCanvasTransform.transformVec3(s);this.transform.unapply(this.editor),this.transform=Ks.transformBy(this.transform.transform.rightMul(ut.translation(l))),this.transform.apply(this.editor)},i)}else i()}onGestureCancel(){var n,i;(n=this.inertialScroller)==null||n.stop(),this.velocity=He.zero,(i=this.transform)==null||i.unapply(this.editor),this.editor.display.setDraftMode(!1),this.transform=null}updateTransform(n,i=!1){var a;let o=n;this.transform&&(o=this.transform.transform.rightMul(n)),(a=this.transform)==null||a.unapply(this.editor),this.transform=Ks.transformBy(o),this.transform.apply(this.editor),i&&this.editor.announceForAccessibility(this.transform.description(this.editor,this.editor.localization))}applyAndFinalizeTransform(n){this.updateTransform(n,!0),this.transform=null}onWheel({delta:n,screenPos:i}){var c;(c=this.inertialScroller)==null||c.stop(),this.transform=Ks.transformBy(ut.identity);let o=this.editor.viewport.screenToCanvas(i),a=this.editor.viewport.screenToCanvasTransform.transformVec3($t.of(-n.x,-n.y,0)),s=n.z;s=Math.atan(s/2)*2;let l=ut.scaling2D(Math.max(.4,Math.min(Math.pow(1.04,-s),4)),o).rightMul(ut.translation(a));return this.applyAndFinalizeTransform(l),!0}onKeyPress(n){var u;if((u=this.inertialScroller)==null||u.stop(),!(this.mode&16))return!1;this.transform=Ks.transformBy(ut.identity);let i=He.zero,o=1,a=0,s=this.editor.shortcuts;if(s.matchesShortcut(ode,n))i=He.of(-1,0);else if(s.matchesShortcut(ade,n))i=He.of(1,0);else if(s.matchesShortcut(sde,n))i=He.of(0,-1);else if(s.matchesShortcut(lde,n))i=He.of(0,1);else if(s.matchesShortcut(dde,n))o=1/2;else if(s.matchesShortcut(hde,n))o=2;else if(s.matchesShortcut(cde,n))a=1;else if(s.matchesShortcut(ude,n))a=-1;else return!1;i=i.times(30),a*=Math.PI/8,i=i.times(-1),a=a*-1,o=1/o,a!==0&&(a+=1e-4),this.isRotationLocked()&&(a=0),i=this.editor.viewport.screenToCanvasTransform.transformVec3(i);let l=this.editor.viewport.visibleRect.center,c=ut.scaling2D(o,l).rightMul(ut.zRotation(a,l)).rightMul(ut.translation(i));return this.applyAndFinalizeTransform(c),!0}isRotationLocked(){return!!(this.mode&32)}setModeEnabled(n,i){let o=this.mode;i?o|=n:o&=~n,this.setMode(o)}setMode(n){n!==this.mode&&(this.mode=n,this.editor.notifier.dispatch(2,{kind:2,tool:this}))}getMode(){return this.mode}};function DVe(r,e,n){let i=document.createElement("div"),o=document.createElement("button"),a=document.createElement("button"),s=document.createElement("button"),l=document.createElement("span");o.innerText="+",a.innerText="-",s.innerText=r.resetView,i.replaceChildren(l,o,a,s),i.classList.add(`${Pt}zoomLevelEditor`),l.classList.add("zoomDisplay");let c,u=()=>{let h=e.viewport.getScaleFactor()*100;h>.1?h=Math.round(h*10)/10:h=Math.round(h*1e3)/1e3,h!==c&&(l.textContent=r.zoomLevel(h),c=h)};u(),e.notifier.on(7,h=>{h.kind===7&&(u(),s.disabled=h.newTransform.eq(ut.identity))});let d=h=>{let f=e.viewport.visibleRect.center,m=ut.scaling2D(h,f);e.dispatch(On.transformBy(m),!1)};return o.addEventListener("click",()=>{d(5/4)}),a.addEventListener("click",()=>{d(4/5)}),s.addEventListener("click",()=>{e.dispatch(On.transformBy(e.viewport.canvasToScreenTransform.inverse()),!1)}),n==null||n.registerTextHelpForElement(o,r.handDropdown__zoomInHelpText),n==null||n.registerTextHelpForElement(a,r.handDropdown__zoomOutHelpText),n==null||n.registerTextHelpForElement(s,r.handDropdown__resetViewHelpText),n==null||n.registerTextHelpForElement(l,r.handDropdown__zoomDisplayHelpText),i}var Iq=class extends dg{constructor(e,n,i,o,a,s,l){super(e,`pan-mode-${i}`,l),this.tool=n,this.flag=i,this.makeIcon=o,this.title=a,this.helpText=s,e.notifier.on(2,c=>{if(c.kind===2&&c.tool===n){let u=!!(n.getMode()&8);this.setSelected(!!(n.getMode()&i)||u),this.setDisabled(u&&i!==8)}}),this.setSelected(!1)}shouldAutoDisableInReadOnlyEditor(){return!1}setModeFlag(e){this.tool.setModeEnabled(this.flag,e)}handleClick(){this.setModeFlag(!this.isSelected())}getTitle(){return this.title}createIcon(){return this.makeIcon()}fillDropdown(e){return!1}getHelpText(){return this.helpText}},MVe=class x9 extends hg{constructor(n,i,o){let a=n.toolController.getPrimaryTools().includes(i),s=(a?i:x9.getPrimaryHandTool(n.toolController))??i;super(n,s,"hand-tool-widget",o);oe(this,"allowTogglingBaseTool");oe(this,"overridePanZoomTool");this.overridePanZoomTool=(a?x9.getOverrideHandTool(n.toolController):i)??i,this.allowTogglingBaseTool=s!==null,this.allowTogglingBaseTool||this.container.classList.add("dropdownShowable");let l=new Iq(n,this.overridePanZoomTool,1,()=>this.editor.icons.makeTouchPanningIcon(),o.touchPanning,o.handDropdown__touchPanningHelpText,o),c=new Iq(n,this.overridePanZoomTool,32,()=>this.editor.icons.makeRotationLockIcon(),o.lockRotation,o.handDropdown__lockRotationHelpText,o);this.addSubWidget(l),this.addSubWidget(c)}static getPrimaryHandTool(n){return n.getPrimaryTools().find(i=>i instanceof a0)}static getOverrideHandTool(n){return n.getMatchingTools(a0)[0]}shouldAutoDisableInReadOnlyEditor(){return!1}getTitle(){return this.localizationTable.handTool}createIcon(){return this.editor.icons.makeHandToolIcon()}handleClick(){this.allowTogglingBaseTool?super.handleClick():this.setDropdownVisible(!this.isDropdownVisible())}getHelpText(){return this.localizationTable.handDropdown__baseHelpText}fillDropdown(n,i){super.fillDropdown(n,i);let o=document.createElement("div");o.classList.add(`${Pt}nonbutton-controls-main-list`),v9().addTo(o);let a=DVe(this.localizationTable,this.editor,i);return o.appendChild(a),n.appendChild(o),!0}setSelected(n){this.allowTogglingBaseTool&&super.setSelected(n)}serializeState(){let n=this.overridePanZoomTool.getMode();return{...super.serializeState(),touchPanning:n&1,rotationLocked:n&32}}deserializeFrom(n){n.touchPanning!==void 0&&this.overridePanZoomTool.setModeEnabled(1,!!n.touchPanning),n.rotationLocked!==void 0&&this.overridePanZoomTool.setModeEnabled(32,!!n.rotationLocked),super.deserializeFrom(n)}},wde=ka((r,e)=>new RVe(r,e)),RVe=class{constructor(e,n){oe(this,"endPoint");this.startPoint=e,this.viewport=n,this.endPoint=e}getBBox(){return this.buildPreview().getBBox()}buildPreview(){let e=this.startPoint.pos,n=this.endPoint.pos,i=n.minus(e).normalized(),o=this.endPoint.width===0?this.endPoint.width:On.roundPoint(this.endPoint.width,5/this.viewport.getScaleFactor()),a=o+3,s=o+3,l=i.orthog(),c=l.times(a),u=l.times(s),d=e.minus(c),h=new Dn(d,[{kind:0,point:e.plus(c)},{kind:0,point:n.plus(u)},{kind:0,point:n.minus(u)},{kind:0,point:e.minus(c)}]).mapPoints(f=>this.viewport.roundPoint(f));return new Ai([ir(h,{fill:this.startPoint.color,stroke:{width:o,color:o===0?this.endPoint.color:this.endPoint.borderColor||this.endPoint.color}})])}build(){return this.buildPreview()}preview(e){this.buildPreview().render(e)}addPoint(e){this.endPoint=e}},Sf,NVe=(Sf=class extends hg{constructor(n,i,o){var l,c;super(n,i,i.description,o);oe(this,"updateInputs",()=>{});oe(this,"penTypes");oe(this,"shapelikeIDs");this.tool=i,this.shapelikeIDs=["pressure-sensitive-pen","freehand-pen"];let a=((l=n.getCurrentSettings().pens)==null?void 0:l.additionalPenTypes)??[],s=((c=n.getCurrentSettings().pens)==null?void 0:c.filterPenTypes)??(()=>!0);this.penTypes=[{name:this.localizationTable.flatTipPen,id:"pressure-sensitive-pen",factory:m3},{name:this.localizationTable.roundedTipPen,id:"freehand-pen",factory:I0},{name:this.localizationTable.roundedTipPen2,id:"polyline-pen",factory:Eb},...a.filter(u=>!u.isShapeBuilder),{name:this.localizationTable.arrowPen,id:"arrow",isShapeBuilder:!0,factory:Uue},{name:this.localizationTable.linePen,id:"line",isShapeBuilder:!0,factory:wde},{name:this.localizationTable.filledRectangle,id:"filled-rectangle",isShapeBuilder:!0,factory:jue},{name:this.localizationTable.outlinedRectanglePen,id:"outlined-rectangle",isShapeBuilder:!0,factory:hVe},{name:this.localizationTable.outlinedCirclePen,id:"outlined-circle",isShapeBuilder:!0,factory:_ue},...a.filter(u=>u.isShapeBuilder)].filter(s),this.editor.notifier.on(2,u=>{if(u.kind!==2)throw new Error("Invalid event type!");u.tool===this.tool&&(this.updateIcon(),this.updateInputs())})}getTitle(){return this.targetTool.description}getCurrentPenTypeIdx(){let n=this.tool.getStrokeFactory();for(let i=0;i<this.penTypes.length;i++)if(this.penTypes[i].factory===n)return i;return-1}getCurrentPenType(){for(let n of this.penTypes)if(n.factory===this.tool.getStrokeFactory())return n;return null}createIconForRecord(n){let i={...this.tool.getStyleValue().get()};n!=null&&n.factory&&(i.factory=n.factory);let o=n==null?void 0:n.factory;return!o||o===I0||o===m3||o===Eb?this.editor.icons.makePenIcon(i):this.editor.icons.makeIconFromFactory(i)}createIcon(){return this.createIconForRecord(this.getCurrentPenType())}createPenTypeSelector(n){let i=this.penTypes.map((u,d)=>({id:d,makeIcon:()=>this.createIconForRecord(u),title:u.name,isShapeBuilder:u.isShapeBuilder??!1})),o=i.filter(u=>!u.isShapeBuilder),a=f9(this.localizationTable.selectPenType,this.getCurrentPenTypeIdx(),o),s=i.filter(u=>u.isShapeBuilder),l=f9(this.localizationTable.selectShape,this.getCurrentPenTypeIdx(),s),c=u=>{this.tool.setStrokeFactory(this.penTypes[u].factory)};return a.value.onUpdate(c),l.value.onUpdate(c),n==null||n.registerTextHelpForElements([a.getRootElement(),l.getRootElement()],this.localizationTable.penDropdown__penTypeHelpText),{setValue:u=>{a.value.set(u),l.value.set(u)},updateIcons:()=>{a.updateIcons(),l.updateIcons()},addTo:u=>{o.length>0&&a.addTo(u),s.length>0&&l.addTo(u)}}}createStrokeCorrectionOptions(n){let i=document.createElement("div");i.classList.add("action-button-row",`${Pt}-pen-tool-toggle-buttons`);let o=(l,c)=>{let u=document.createElement("button");u.classList.add(`${Pt}-toggle-button`);let d=c.cloneNode(!0);d.classList.add("icon");let h=document.createElement("span");h.innerText=l,u.replaceChildren(d,h),u.setAttribute("role","switch"),i.appendChild(u);let f=!1,m=g=>{},b={setChecked(g){f=g,u.setAttribute("aria-checked",`${f}`),m(f)},setOnInputListener(g){m=g},addHelpText(g){n==null||n.registerTextHelpForElement(u,g)}};return u.addEventListener("click",()=>{b.setChecked(!f)}),b},a=o(this.localizationTable.inputStabilization,this.editor.icons.makeStrokeSmoothingIcon());a.setOnInputListener(l=>{this.tool.setHasStabilization(l)});let s=o(this.localizationTable.strokeAutocorrect,this.editor.icons.makeShapeAutocorrectIcon());return s.setOnInputListener(l=>{this.tool.setStrokeAutocorrectEnabled(l)}),s.addHelpText(this.localizationTable.penDropdown__autocorrectHelpText),a.addHelpText(this.localizationTable.penDropdown__stabilizationHelpText),{update:()=>{a.setChecked(!!this.tool.getInputMapper()),s.setChecked(this.tool.getStrokeAutocorrectionEnabled())},addTo:l=>{l.appendChild(i)}}}getHelpText(){return this.localizationTable.penDropdown__baseHelpText}fillDropdown(n,i){let o=document.createElement("div");o.classList.add(`${Pt}spacedList`,`${Pt}nonbutton-controls-main-list`);let{container:a,setValue:s}=WO(this.editor,b=>{this.tool.setThickness(b)}),l=document.createElement("div"),c=document.createElement("label"),u=Rv(this.editor,b=>{this.tool.setColor(b)}),{input:d,container:h}=u;d.id=`${Pt}colorInput${Sf.idCounter++}`,c.innerText=this.localizationTable.colorLabel,c.setAttribute("for",d.id),l.appendChild(c),l.appendChild(h);let f=this.createStrokeCorrectionOptions(i),m=this.createPenTypeSelector(i);return i==null||i.registerTextHelpForElement(l,this.localizationTable.penDropdown__colorHelpText),i&&u.registerWithHelpTextDisplay(i),i==null||i.registerTextHelpForElement(a,this.localizationTable.penDropdown__thicknessHelpText),this.updateInputs=()=>{u.setValue(this.tool.getColor()),s(this.tool.getThickness()),m.updateIcons(),m.setValue(this.getCurrentPenTypeIdx()),f.update()},this.updateInputs(),o.replaceChildren(l,a),m.addTo(o),n.replaceChildren(o),f.addTo(n),!0}onKeyPress(n){if(!this.isSelected())return!1;for(let[i,o]of VO.entries())if(this.editor.shortcuts.matchesShortcut(o,n)){let a=i;if(a<this.penTypes.length)return this.tool.setStrokeFactory(this.penTypes[a].factory),!0}return!!super.onKeyPress(n)}serializeState(){var n;return{...super.serializeState(),color:this.tool.getColor().toHexString(),thickness:this.tool.getThickness(),strokeFactoryId:(n=this.getCurrentPenType())==null?void 0:n.id,inputStabilization:!!this.tool.getInputMapper(),strokeAutocorrect:this.tool.getStrokeAutocorrectionEnabled(),pressureSensitivity:this.tool.getPressureSensitivityEnabled()}}deserializeFrom(n){super.deserializeFrom(n);let i=(o,a)=>{let s=typeof n[o];if(s!==a)throw new Error(`Deserializing property ${o}: Invalid type. Expected ${a}, was ${s}.`)};if(n.color&&(i("color","string"),this.tool.setColor(mt.fromHex(n.color))),n.thickness&&(i("thickness","number"),this.tool.setThickness(n.thickness)),n.strokeFactoryId){i("strokeFactoryId","string");let o=n.strokeFactoryId;for(let a of this.penTypes)if(o===a.id){this.tool.setStrokeFactory(a.factory);break}}console.log({state:n}),n.inputStabilization!==void 0&&this.tool.setHasStabilization(!!n.inputStabilization),n.strokeAutocorrect!==void 0&&this.tool.setStrokeAutocorrectEnabled(!!n.strokeAutocorrect)}},oe(Sf,"idCounter",0),Sf),OVe=class extends XO{constructor(e,n,i,o={}){super(e,"save-button",()=>o.icon??e.icons.makeSaveIcon(),o.label??n.save,i),this.setTags(["save"])}shouldAutoDisableInReadOnlyEditor(){return!1}onKeyPress(e){return this.editor.shortcuts.matchesShortcut(zue,e)?(this.clickAction(),!0):super.onKeyPress(e)}mustBeInToplevelMenu(){return!0}},PVe=OVe;function IVe(r,e){let n=document.createElement("div");n.classList.add("toolbar-button-grid"),n.style.setProperty("--column-count",`${e}`);let i=o=>{var c;let a=document.createElement("button");a.classList.add("button");let s=o.icon();s.classList.add("icon");let l=document.createElement("label");return l.textContent=o.label,l.classList.add("button-label-text"),a.addEventListener("click",o.onClick),o.enabled&&o.enabled.onUpdateAndNow(u=>{a.disabled=!u}),a.replaceChildren(s,l),n.appendChild(a),GS(a),(c=o.onCreated)==null||c.call(o,a),a};return r.map(i),{container:n}}var $Ve=IVe,yy=30,$q=class{constructor(e,n,i,o,a,s){oe(this,"element");oe(this,"snapToGrid");oe(this,"shape");oe(this,"parentSide");oe(this,"dragLastPos",null);this.presentation=e,this.parent=n,this.viewport=i,this.onDragStart=o,this.onDragUpdate=a,this.onDragEnd=s,this.element=document.createElement("div"),this.element.classList.add(`${Ss}handle`,`${Ss}${e.action}`);let l=document.createElement("div");l.classList.add(`${Ss}content`),this.element.appendChild(l),this.parentSide=e.side;let c=e.icon;switch(c&&(l.appendChild(c),c.classList.add("icon")),e.action==="rotate"?this.shape=0:this.shape=1,this.shape){case 0:this.element.classList.add(`${Ss}circle`);break;case 1:this.element.classList.add(`${Ss}square`);break;default:YHe(this.shape)}this.updatePosition()}addTo(e){e.appendChild(this.element)}remove(){this.element.remove()}getBBoxParentCoords(){let e=this.parent.getScreenRegion(),n=He.of(yy,yy),i=e.size.scale(this.parentSide).minus(n.times(1/2));return new Lt(i.x,i.y,n.x,n.y)}getBBoxCanvasCoords(){let e=this.parent.region,n=He.of(yy,yy).times(1/this.viewport.getScaleFactor()),i=e.size.scale(this.parentSide).minus(n.times(.5));return new Lt(i.x,i.y,n.x,n.y).translatedBy(e.topLeft)}updatePosition(){let e=this.getBBoxParentCoords();this.element.style.marginLeft=`${e.topLeft.x}px`,this.element.style.marginTop=`${e.topLeft.y}px`,this.element.style.width=`${e.w}px`,this.element.style.height=`${e.h}px`}containsPoint(e){let n=this.getBBoxCanvasCoords(),i=e.minus(n.center),o=n.size.x/2,a;return this.shape===0?a=i.magnitude()<=o:a=Math.abs(i.x)<=o&&Math.abs(i.y)<=o,a}handleDragStart(e){return this.onDragStart(e.canvasPos),this.dragLastPos=e.canvasPos,!0}handleDragUpdate(e){this.dragLastPos&&this.onDragUpdate(e.canvasPos)}handleDragEnd(){if(this.dragLastPos)return this.onDragEnd()}setSnapToGrid(e){this.snapToGrid=e}isSnappingToGrid(){return this.snapToGrid}},zq=40,zVe=class{constructor(e,n,i,o,a){oe(this,"element");oe(this,"button");oe(this,"onClick");oe(this,"lastDragPointer",null);this.parent=e,this.viewport=n,this.icon=i,this.localization=a,this.element=document.createElement("div"),this.element.classList.add(`${Ss}handle`,`${Ss}selection-menu`),this.element.style.setProperty("--vertical-offset",`${zq}px`),this.onClick=()=>{var l;(l=this.button)==null||l.focus({preventScroll:!0});let s=this.getBBoxCanvasCoords().center;o(s)},this.initUI(),this.updatePosition()}initUI(){let e=document.createElement("button");this.icon.classList.add("icon"),e.replaceChildren(this.icon),e.ariaLabel=this.localization.selectionMenu__show,e.title=e.ariaLabel,this.button=e,e.addEventListener("keydown",n=>{n.key==="Enter"&&(n.preventDefault(),this.onClick())}),this.element.appendChild(e),requestAnimationFrame(()=>{this.updatePosition()})}addTo(e){e.appendChild(this.element)}remove(){this.element.remove()}getElementScreenSize(){return He.of(this.element.clientWidth,this.element.clientHeight)}getBBoxParentCoords(){let e=He.of(0,-40),n=this.getElementScreenSize();return new Lt(e.x,e.y,n.x,n.y)}getBBoxCanvasCoords(){let e=this.parent.region,n=this.viewport.getSizeOfPixelOnCanvas(),i=this.getElementScreenSize().times(n),o=zq/this.viewport.getScaleFactor(),a=He.of(e.x,e.y-o),s=He.of(48,48).times(n);return new Lt(a.x,a.y,i.x,i.y).grownToSize(s)}updatePosition(){let e=this.getBBoxParentCoords();this.element.style.marginLeft=`${e.topLeft.x}px`,this.element.style.marginTop=`${e.topLeft.y}px`}containsPoint(e){return this.getBBoxCanvasCoords().containsPoint(e)}handleDragStart(e){return this.lastDragPointer=e,!0}handleDragUpdate(e){this.lastDragPointer=e}handleDragEnd(){this.lastDragPointer&&this.containsPoint(this.lastDragPointer.canvasPos)&&this.onClick(),this.lastDragPointer=null}},Sde=(r=>(r.Lasso="lasso",r.Rectangle="rect",r))(Sde||{}),LVe=class{constructor(e,n){oe(this,"dragStartPoint");this.editor=e,this.selection=n}onDragStart(e){this.selection.setTransform(ut.identity),this.dragStartPoint=e}onDragUpdate(e){let n=this.editor.viewport.roundPoint(e.minus(this.dragStartPoint));this.selection.setTransform(ut.translation(n))}onDragEnd(){return this.selection.finalizeTransform()}},UVe=class{constructor(e,n){oe(this,"mode",0);oe(this,"dragStartPoint");oe(this,"transformOrigin");oe(this,"scaleRate");this.editor=e,this.selection=n}onDragStart(e,n){this.selection.setTransform(ut.identity),this.mode=n,this.dragStartPoint=e,this.computeOriginAndScaleRate()}computeOriginAndScaleRate(){let e=this.selection.preTransformRegion,n=e.corners,i=0;for(let s of n){let l=this.dragStartPoint.minus(s).magnitudeSquared();l>i&&(i=l,this.transformOrigin=s)}let o=1,a=1;this.transformOrigin.x>e.center.x&&(o=-1),this.transformOrigin.y>e.center.y&&(a=-1),this.scaleRate=He.of(o,a)}onDragUpdate(e){let n=e.minus(this.dragStartPoint),i=this.selection.preTransformRegion.width,o=this.selection.preTransformRegion.height,a=He.of(1,1);if(this.mode===1){let s=i+n.x*this.scaleRate.x;a=He.of(s/i,a.y)}if(this.mode===2){let s=o+n.y*this.scaleRate.y;a=He.of(a.x,s/o)}if(this.mode===0){let s=Math.abs(n.x)>Math.abs(n.y)?n.x:n.y,l=i+s;a=He.of(l/i,l/i)}if(a=a.map(s=>On.roundScaleRatio(s,2)),a.x!==0&&a.y!==0){let s=this.editor.viewport.roundPoint(this.transformOrigin);this.selection.setTransform(ut.scaling2D(a,s))}}onDragEnd(){return this.selection.finalizeTransform()}},BVe=class{constructor(e,n){oe(this,"startAngle",0);oe(this,"targetRotation",0);oe(this,"maximumDistFromStart",0);oe(this,"startPoint");oe(this,"startTime");this.editor=e,this.selection=n}getAngle(e){let n=this.selection.preTransformRegion.center;return e.minus(n).angle()}roundAngle(e){let n=8/Math.PI;return Math.round(e*n)/n}onDragStart(e){this.startPoint=e,this.selection.setTransform(ut.identity),this.startAngle=this.getAngle(e),this.targetRotation=0,this.maximumDistFromStart=0,this.startTime=performance.now()}setRotationTo(e){let n=this.editor.viewport.roundPoint(this.selection.preTransformRegion.center),i=ut.zRotation(e).mapEntries(a=>On.roundScaleRatio(a)),o=ut.translation(n).rightMul(i).rightMul(ut.translation(n.times(-1)));this.selection.setTransform(o)}onDragUpdate(e){this.targetRotation=this.roundAngle(this.getAngle(e)-this.startAngle),this.setRotationTo(this.targetRotation);let n=e.minus(this.startPoint).magnitude();n>this.maximumDistFromStart&&(this.maximumDistFromStart=n)}onDragEnd(){return(performance.now()-this.startTime)/1e3<.4&&this.maximumDistFromStart<10&&this.targetRotation===0&&this.setRotationTo(-Math.PI/2),this.selection.finalizeTransform()}},x0,jVe=(x0=class extends Br{constructor(n,i){super("duplicate");oe(this,"duplicates");oe(this,"reverse");this.toDuplicate=n,this.duplicates=n.map((o,a)=>i&&i[a]?o.cloneWithId(i[a]):o.clone()),this.reverse=new ul(this.duplicates)}apply(n){this.reverse.unapply(n)}unapply(n){this.reverse.apply(n)}onDrop(n){this.reverse.onDrop(n)}description(n,i){return this.duplicates.length===0?i.duplicatedNoElements:i.duplicateAction(pde(i,this.duplicates)??i.elements,this.duplicates.length)}serializeToJSON(){return{originalIds:this.toDuplicate.map(n=>n.getId()),cloneIds:this.duplicates.map(n=>n.getId())}}},Br.register("duplicate",(n,i)=>{let o,a;Array.isArray(n)?(o=n,a=[]):(o=n.originalIds,a=n.cloneIds),u9(o),u9(a);let s=[],l=[];for(let[c,u]of o.entries()){let d=i.image.lookupElement(u);d?(l.push(a[c]),s.push(d)):console.warn("Duplicate command: Could not find element with ID",u)}return new x0(s,l)}),x0),QC=100,Lq=500,Dc,FVe=(Dc=class{constructor(e,n,i){oe(this,"childwidgets");oe(this,"originalRegion");oe(this,"selectionTightBoundingBox",null);oe(this,"transformers");oe(this,"transform",ut.identity);oe(this,"selectedElems",[]);oe(this,"outerContainer");oe(this,"innerContainer");oe(this,"backgroundElem");oe(this,"hasParent",!0);oe(this,"removedFromImage",{});oe(this,"activeHandle",null);oe(this,"backgroundDragging",!1);oe(this,"selectionDuplicatedAnimationTimeout",null);this.editor=n,e=[...e],this.selectedElems=e,this.originalRegion=Lt.empty,this.transformers={drag:new LVe(n,this),resize:new UVe(n,this),rotate:new BVe(n,this)},this.outerContainer=document.createElement("div"),this.outerContainer.classList.add(`${Ss}selection-outer-container`),this.innerContainer=document.createElement("div"),this.innerContainer.classList.add(`${Ss}selection-inner-container`),this.backgroundElem=document.createElement("div"),this.backgroundElem.classList.add(`${Ss}selection-background`),this.innerContainer.appendChild(this.backgroundElem),this.outerContainer.appendChild(this.innerContainer);let o=(d,h)=>{let f={0:"resize-xy",1:"resize-x",2:"resize-y"};return new $q({action:f[d],side:h},this,this.editor.viewport,m=>this.transformers.resize.onDragStart(m,d),m=>this.transformers.resize.onDragUpdate(m),()=>this.transformers.resize.onDragEnd())},a=[o(1,He.of(0,.5)),o(1,He.of(1,.5))],s=o(2,He.of(.5,1)),l=o(0,He.of(1,1)),c=new $q({action:"rotate",side:He.of(.5,0),icon:this.editor.icons.makeRotateIcon()},this,this.editor.viewport,d=>this.transformers.rotate.onDragStart(d),d=>this.transformers.rotate.onDragUpdate(d),()=>this.transformers.rotate.onDragEnd()),u=new zVe(this,this.editor.viewport,this.editor.icons.makeOverflowIcon(),i,this.editor.localization);this.childwidgets=[u,l,...a,s,c];for(let d of this.childwidgets)d.addTo(this.backgroundElem);this.recomputeRegion(),this.updateUI()}getBackgroundElem(){return this.backgroundElem}getTransform(){return this.transform}get preTransformRegion(){return this.originalRegion}get region(){let e=ut.zRotation(this.regionRotation,this.originalRegion.center),n=this.transform.rightMul(e.inverse());return this.originalRegion.transformedBoundingBox(n)}computeTightBoundingBox(){return this.selectedElems.reduce((e,n)=>(e??n.getBBox()).union(n.getBBox()),null)??Lt.empty}get regionRotation(){return this.transform.transformVec3(He.unitX).angle()}get preTransformedScreenRegion(){let e=n=>this.editor.viewport.canvasToScreen(n);return Lt.fromCorners(e(this.preTransformRegion.topLeft),e(this.preTransformRegion.bottomRight))}get preTransformedScreenRegionRotation(){return this.editor.viewport.getRotationAngle()}getScreenRegion(){let e=this.editor.viewport.canvasToScreenTransform,n=this.editor.viewport.getScaleFactor(),i=e.transformVec2(this.region.center);return new Lt(i.x,i.y,n*this.region.width,n*this.region.height).translatedBy(this.region.size.times(-n/2))}get screenRegionRotation(){return this.regionRotation+this.editor.viewport.getRotationAngle()}setTransform(e,n=!0){this.transform=e,n&&this.hasParent&&this.previewTransformCmds()}getDeltaZIndexToMoveSelectionToTop(){var i;if(this.selectedElems.length===0)return 0;let e=this.selectedElems[0].getZIndex(),n=this.editor.image.getComponentsIntersecting(this.region);return(((i=n[n.length-1])==null?void 0:i.getZIndex())??e)+1-e}finalizeTransform(){let e=this.transform,n=this.selectedElems;this.originalRegion=this.originalRegion.transformedBoundingBox(this.transform),this.transform=ut.identity,this.scrollTo();let i;if(this.selectedElems.length>0){let o=this.getDeltaZIndexToMoveSelectionToTop();i=this.editor.dispatch(new Dc.ApplyTransformationCommand(this,n,this.originalRegion.center,e,o))}return i}sendToBack(){var o,a;let e=((o=this.editor.image.getComponentsIntersecting(this.editor.viewport.visibleRect)[0])==null?void 0:o.getZIndex())??0,n=((a=this.selectedElems[this.selectedElems.length-1])==null?void 0:a.getZIndex())??0,i=e-1-n;if(i!==0){let s=this.selectedElems.map(l=>l.setZIndex(l.getZIndex()+i));return zd(s,QC)}return null}previewTransformCmds(){if(this.selectedElems.length===0)return;if(this.selectedElems.length>Lq){this.updateUI();return}let e=this.editor.display.getWetInkRenderer();e.clear(),e.pushTransform(this.transform);let n=this.editor.viewport.visibleRect.union(this.region).transformedBoundingBox(this.transform.inverse());for(let i of this.selectedElems)i.render(e,n);e.popTransform(),this.updateUI()}recomputeRegion(){let e=this.computeTightBoundingBox();return this.selectionTightBoundingBox=e,e?(this.originalRegion=e,this.padRegion(),!0):(this.cancelSelection(),!1)}padRegion(){let e=this.selectionTightBoundingBox??this.originalRegion,n=this.getMinCanvasSize();if(e.w<n||e.h<n){let i=n/2;this.originalRegion=Lt.bboxOf(e.corners,i),this.updateUI()}}getMinCanvasSize(){return yy/this.editor.viewport.getScaleFactor()*2}getSelectedItemCount(){return this.selectedElems.length}updateUI(){if(!this.hasParent)return;let e=this.getScreenRegion();this.backgroundElem.style.marginLeft=`${e.topLeft.x}px`,this.backgroundElem.style.marginTop=`${e.topLeft.y}px`,this.backgroundElem.style.width=`${e.width}px`,this.backgroundElem.style.height=`${e.height}px`;let n=this.screenRegionRotation*180/Math.PI;this.backgroundElem.style.transform=`rotate(${n}deg)`,this.backgroundElem.style.transformOrigin="center";let i=`${Ss}rotated-near-perpendicular`;Math.abs(Math.sin(this.screenRegionRotation))>.5?this.innerContainer.classList.add(i):this.innerContainer.classList.remove(i),e.width===0&&e.height===0?this.innerContainer.classList.add("-empty"):this.innerContainer.classList.remove("-empty");for(let o of this.childwidgets)o.updatePosition(this.getScreenRegion())}addRemoveSelectionFromImage(e){if(!(!e&&this.selectedElems.length>Lq)){for(let n of this.selectedElems){let i=this.editor.image.findParent(n);!e&&i?(this.removedFromImage[n.getId()]=!0,i.remove()):!i&&this.removedFromImage[n.getId()]&&(ca.addComponent(n).apply(this.editor),this.removedFromImage[n.getId()]=!1,delete this.removedFromImage[n.getId()])}this.editor.queueRerender().then(()=>{e?this.editor.display.getWetInkRenderer().clear():this.previewTransformCmds()})}}removeDeletedElemsFromSelection(){this.selectedElems=this.selectedElems.filter(e=>{let n=!!this.editor.image.findParent(e),i=this.removedFromImage[e.getId()];return n||i})}onDragStart(e){var i;if(this.selectedElems.length===0)return!1;(i=document.getSelection())==null||i.removeAllRanges(),this.activeHandle=null;let n=!1;this.backgroundDragging=!1,this.region.containsPoint(e.canvasPos)&&(this.backgroundDragging=!0,n=!0);for(let o of this.childwidgets)o.containsPoint(e.canvasPos)&&(this.activeHandle=o,this.backgroundDragging=!1,n=!0);return n&&(this.removeDeletedElemsFromSelection(),this.addRemoveSelectionFromImage(!1)),this.activeHandle&&this.activeHandle.handleDragStart(e),this.backgroundDragging&&this.transformers.drag.onDragStart(e.canvasPos),n}onDragUpdate(e){this.backgroundDragging&&this.transformers.drag.onDragUpdate(e.canvasPos),this.activeHandle&&this.activeHandle.handleDragUpdate(e)}onDragEnd(){this.backgroundDragging?this.transformers.drag.onDragEnd():this.activeHandle&&this.activeHandle.handleDragEnd(),this.addRemoveSelectionFromImage(!0),this.backgroundDragging=!1,this.activeHandle=null,this.updateUI()}onDragCancel(){this.backgroundDragging=!1,this.activeHandle=null,this.setTransform(ut.identity),this.addRemoveSelectionFromImage(!0),this.updateUI()}scrollTo(){if(this.selectedElems.length===0)return!1;let e=this.editor.viewport.getScreenRectSize(),n=new Lt(0,0,e.x,e.y),i=this.getScreenRegion();if(!n.containsPoint(i.center)){let o=i.center,a=n.getClosestPointOnBoundaryTo(o),s=this.editor.viewport.screenToCanvas(a),l=this.region.center,c=s.minus(l);return this.editor.dispatchNoAnnounce(On.transformBy(ut.translation(c.times(.5))),!1),this.editor.queueRerender().then(()=>{this.previewTransformCmds()}),!0}return!1}deleteSelectedObjects(){return(this.backgroundDragging||this.activeHandle)&&this.onDragEnd(),new ul(this.selectedElems)}runSelectionDuplicatedAnimation(){this.selectionDuplicatedAnimationTimeout&&clearTimeout(this.selectionDuplicatedAnimationTimeout);let e=400;this.backgroundElem.style.animation=`${e}ms ease selection-duplicated-animation`,this.selectionDuplicatedAnimationTimeout=setTimeout(()=>{this.backgroundElem.style.animation="",this.selectionDuplicatedAnimationTimeout=null},e)}async duplicateSelectedObjects(){let e=this.backgroundDragging||this.activeHandle,n=null;e||this.runSelectionDuplicatedAnimation();let i;if(e){let o=this.getDeltaZIndexToMoveSelectionToTop();n=new Dc.ApplyTransformationCommand(null,this.selectedElems,this.region.center,this.transform,o),await n.apply(this.editor),this.addRemoveSelectionFromImage(!0),i=zd(this.selectedElems.map(a=>ca.addComponent(a.clone()))),await(n==null?void 0:n.unapply(this.editor)),this.addRemoveSelectionFromImage(!1),this.previewTransformCmds(),this.updateUI()}else i=new jVe(this.selectedElems);return i}snapSelectedObjectsToGrid(){let e=this.editor.viewport,n=this.computeTightBoundingBox().topLeft,i=e.snapToGrid(n).minus(n),o=this.getTransform();this.setTransform(o.rightMul(ut.translation(i))),this.finalizeTransform()}setHandlesVisible(e){e?this.innerContainer.classList.remove("-hide-handles"):this.innerContainer.classList.add("-hide-handles")}addTo(e){this.outerContainer.parentElement&&this.outerContainer.remove(),e.appendChild(this.outerContainer),this.hasParent=!0}setToPoint(e){this.originalRegion=this.originalRegion.grownToPoint(e),this.selectionTightBoundingBox=null,this.updateUI()}cancelSelection(){this.outerContainer.parentElement&&this.outerContainer.remove(),this.originalRegion=Lt.empty,this.selectionTightBoundingBox=null,this.hasParent=!1}getSelectedObjects(){return[...this.selectedElems]}},Br.register("selection-tool-transform",(e,n)=>{let i=e.transform,o=e.selectionCenter??[0,0],a=e.elems??[];Tb(i),Tb(o),u9(a);let s=new ut(...i),l=a,c=Number.parseInt(e.deltaZIndex??0),u=He.of(o[0]??0,o[1]??0);return new Dc.ApplyTransformationCommand(null,l,u,s,c)}),oe(Dc,"ApplyTransformationCommand",class extends Br{constructor(n,i,o,a,s){super("selection-tool-transform");oe(this,"transformCommands");oe(this,"selectedElemIds");this.selection=n,this.selectionCenter=o,this.fullTransform=a,this.deltaZIndex=s,(l=>typeof l[0]=="string")(i)?this.selectedElemIds=i:(this.selectedElemIds=i.map(l=>l.getId()),this.transformCommands=i.map(l=>l.setZIndexAndTransformBy(this.fullTransform,l.getZIndex()+s)))}resolveToElems(n,i){this.transformCommands||(this.transformCommands=this.selectedElemIds.map(o=>{let a=n.image.lookupElement(o);if(!a)return console.warn(`Unable to find element with ID, ${o}.`),null;let s=a.getZIndex(),l=a.getZIndex()+this.deltaZIndex;return i&&(l=a.getZIndex(),s=a.getZIndex()-this.deltaZIndex),a.setZIndexAndTransformBy(this.fullTransform,l,s)}).filter(o=>o!==null))}async apply(n){var i,o,a,s,l;this.resolveToElems(n,!1),(i=this.selection)==null||i.setTransform(this.fullTransform,!1),(o=this.selection)==null||o.updateUI(),await n.asyncApplyCommands(this.transformCommands,QC),(a=this.selection)==null||a.setTransform(ut.identity,!1),(s=this.selection)==null||s.recomputeRegion(),(l=this.selection)==null||l.updateUI()}async unapply(n){var i,o,a,s,l;this.resolveToElems(n,!0),(i=this.selection)==null||i.setTransform(this.fullTransform.inverse(),!1),(o=this.selection)==null||o.updateUI(),await n.asyncUnapplyCommands(this.transformCommands,QC,!0),(a=this.selection)==null||a.setTransform(ut.identity,!1),(s=this.selection)==null||s.recomputeRegion(),(l=this.selection)==null||l.updateUI()}serializeToJSON(){return{elems:this.selectedElemIds,transform:this.fullTransform.toArray(),deltaZIndex:this.deltaZIndex,selectionCenter:this.selectionCenter.asArray()}}description(n,i){return i.transformedElements(this.selectedElemIds.length,jO(this.selectionCenter,this.fullTransform,!1,i))}}),Dc),kde=class{render(e,n){e.drawPath(ir(this.previewPath(),{fill:n}))}resolve(e,n){let i=this.previewPath(),o=l=>l.filter(c=>c.isSelectable()),a,s=n.getSizeOfPixelOnCanvas()*3;if(i.bbox.maxDimension<=s){let l=n.visibleRect.maxDimension/200,c=i.bbox.grownBy(l);a=e.getComponentsIntersecting(c).filter(u=>!!u),a=o(a),a.length>1&&(a=[a[0]])}else a=o(this.resolveInternal(e));return a}},HVe=class extends kde{constructor(n,i){super();oe(this,"boundaryPoints",[]);oe(this,"lastPoint");this.viewport=i,this.boundaryPoints.push(n),this.lastPoint=n}onPointerMove(n){let i=this.boundaryPoints[this.boundaryPoints.length-1],o=this.viewport.getSizeOfPixelOnCanvas()*8;i.distanceTo(n)>=o&&this.boundaryPoints.push(n),this.lastPoint=n}previewPath(){let n=this.boundaryPoints.map(i=>({kind:0,point:i}));return n.push({kind:0,point:this.lastPoint}),new Dn(this.boundaryPoints[0],n).asClosed()}resolveInternal(n){let i=this.previewPath(),o=i.polylineApproximation(),a=n.getComponentsIntersecting(i.bbox),s=l=>{if(i.closedContainsRect(l.getExactBBox()))return!0;let c=!1;for(let u of l.keyPoints())if(i.closedContainsPoint(u)){c=!0;break}if(!c)return!1;for(let u of o)if(l.intersects(u))return!1;return!0};return a.filter(s)}},WVe=class extends kde{constructor(n){super();oe(this,"rect");this.rect=Lt.fromCorners(n,n)}onPointerMove(n){this.rect=this.rect.grownToPoint(n)}previewPath(){return Dn.fromRect(this.rect)}resolveInternal(n){return n.getComponentsIntersecting(this.rect).filter(i=>i.intersectsRect(this.rect))}},VVe=class{constructor(e,n){oe(this,"started",!1);oe(this,"updateLoopId",0);oe(this,"updateLoopRunning",!1);oe(this,"targetPoint",null);oe(this,"scrollRate",1e3);this.viewport=e,this.scrollByCanvasDelta=n}getScrollForPoint(e){let n=this.viewport.getScreenRectSize(),i=new Lt(0,0,n.x,n.y),o=44,a=i.grownBy(-44);if(a.containsPoint(e))return He.zero;let s=a.getClosestPointOnBoundaryTo(e),l=s.distanceTo(e),c=s.minus(e),u=Math.min(l/o,1.25);return c.normalizedOrZero().times(u)}start(){this.started=!0}onPointerMove(e){this.started&&(this.getScrollForPoint(e)===He.zero?this.stopUpdateLoop():(this.targetPoint=e,this.startUpdateLoop()))}stop(){this.targetPoint=null,this.started=!1,this.stopUpdateLoop()}startUpdateLoop(){this.updateLoopRunning||(async()=>{this.updateLoopId++;let e=this.updateLoopId,n=performance.now();for(;this.updateLoopId===e&&this.targetPoint;){this.updateLoopRunning=!0;let i=performance.now(),o=i-n,a=this.getScrollForPoint(this.targetPoint).times(this.scrollRate*o/1e3);this.scrollByCanvasDelta(this.viewport.screenToCanvasTransform.transformVec3(a)),n=i,await Cb()}this.updateLoopRunning=!1})()}stopUpdateLoop(){this.updateLoopId++}};function qVe(r){return new Promise(e=>{setTimeout(()=>e(),r)})}var Tde=qVe;function GVe(r,e){let n=document.createElement("div"),{remove:i}=r.createHTMLOverlay(n);n.classList.add("dialog-container","message-dialog-container",...e.classNames??[]);let o=document.createElement("dialog"),a=document.createElement("div");a.classList.add("message-dialog-content",...e.contentClassNames??[]);let s=document.createElement("h1");s.textContent=e.title,s.setAttribute("autofocus","true");let l=document.createElement("button");l.innerText=r.localization.closeDialog,l.classList.add("close");let c=document.createElement("div");c.classList.add("scroll"),c.addEventListener("wheel",h=>h.stopPropagation()),a.replaceChildren(s,c,l),o.replaceChildren(a),n.replaceChildren(o);let u=300;o.style.setProperty("--close-delay",`${u}ms`);let d=async()=>{o.classList.add("-closing"),await Tde(u),o.close()};return o.addEventListener("pointerdown",h=>{h.target===o&&d()}),o.addEventListener("close",()=>{i()}),l.addEventListener("click",()=>d()),o.showModal(),{close:()=>d(),appendChild:h=>{c.appendChild(h)}}}var Ede=GVe;async function KVe(r,e={}){try{let n=new FileReader;return await new Promise((i,o)=>{n.addEventListener("load",()=>i(n.result)),n.onerror=o,n.addEventListener("abort",o),n.addEventListener("progress",a=>{var s;(s=e.onprogress)==null||s.call(e,a)}),n.readAsDataURL(r)})}catch(n){(e.onWarning??console.warn)("Unable to convert file to base64 with a FileReader: ",n);let i=await r.arrayBuffer(),o=new Uint8Array(i),a=30,s=[];for(let l=0;l<o.length;l+=a){let c=String.fromCharCode(...o.slice(l,l+a));s.push(btoa(c))}return`data:${r.type??"image/*"};base64,${s.join("")}`}}var Cde=KVe;function Uq(r){return r.endsWith("+xml")||r.startsWith("text/")}var Xb,fee,$0=(fee=class{constructor(e,n){Gn(this,Xb,!1);this.editor=e,this.callbacks=n}paste(e){let n=i=>{var o;if((o=this.callbacks)!=null&&o.onPasteError)return this.callbacks.onPasteError(i),Promise.resolve(!1);throw i};try{return this.pasteInternal(e).catch(n)}catch(i){return n(i)}}async pasteInternal(e){let n=this.editor,i=(e==null?void 0:e.dataTransfer)??(e==null?void 0:e.clipboardData)??null,o=!!i,a=(h,f)=>f&&n.toolController.dispatchInputEvent({kind:8,mime:h,data:f}),s=["image/svg+xml","text/html","image/png","image/jpeg","text/plain"],l=[],c=new Map,u=n.getCurrentSettings();if(o){l=[...i.files];for(let h of s){let f=i.getData(h);f&&c.set(h,f)}}else if(u.clipboardApi){let h=await u.clipboardApi.read();for(let[f,m]of h.entries())if(typeof m=="string")c.set(f,m);else{let b=m;b.type!==f&&(b=new Blob([b],{type:f})),l.push(b)}}else{let h=await navigator.clipboard.read();for(let f of h)for(let m of f.types)s.includes(m)&&l.push(await f.getType(m))}let d=async h=>{var m;let f=Uq(h);if(f){let b=c.get(h);if(a(h,b))return e==null||e.preventDefault(),!0}for(let b of l)if(((m=b==null?void 0:b.type)==null?void 0:m.toLowerCase())===h)if(f){let g=await b.text();if(a(h,g))return e==null||e.preventDefault(),!0}else{n.showLoadingWarning(0);let g=v=>{n.showLoadingWarning(v.loaded/v.total)};try{let v=await Cde(b,{onprogress:g});if(a(h,v))return e==null||e.preventDefault(),n.hideLoadingWarning(),!0}catch(v){console.error("Error reading image:",v)}n.hideLoadingWarning()}return!1};for(let h of s)if(await d(h))return!0;return!1}copy(e){let n=i=>{var o;if((o=this.callbacks)!=null&&o.onCopyError)return this.callbacks.onCopyError(i),Promise.resolve();throw i};try{return this.copyInternal(e).catch(n)}catch(i){return n(i)}}copyInternal(e){var u;let n=new Map;this.editor.toolController.dispatchInputEvent({kind:7,setData:(d,h)=>{n.set(d,h)}})&&(e==null||e.preventDefault());let i=[...n.keys()].some(d=>!Uq(d)),o=d=>{var h,f;if(!e)throw new Error(`Unable to copy -- no event provided${d?`. Original error: ${d}`:""}`);for(let[m,b]of n.entries())typeof b=="string"&&("clipboardData"in e?(h=e.clipboardData)==null||h.setData(m,b):(f=e.dataTransfer)==null||f.setData(m,b))},a=()=>{let d=(h=>{let f=Object.create(null);for(let[m,b]of Object.entries(h))"supports"in ClipboardItem&&typeof ClipboardItem.supports=="function"&&!ClipboardItem.supports(m)||(f[m]=b);return f})((h=>{let f=Object.create(null);for(let[m,b]of h.entries()){if(typeof b=="string"){let g=new Blob([new TextEncoder().encode(b)],{type:m});f[m]=g}else f[m]=b;m==="image/svg+xml"&&(f["text/html"]??(f["text/html"]=f[m]))}return f})(n));return navigator.clipboard.write([new ClipboardItem(d)])},s=typeof ClipboardItem<"u"&&typeof((u=navigator==null?void 0:navigator.clipboard)==null?void 0:u.write)<"u",l=!Tt(this,Xb)&&s&&(i||!e),c=this.editor.getCurrentSettings();if(l&&c.clipboardApi)return c.clipboardApi.write(n)??Promise.resolve();if(l){let d=null,h=f=>{console.warn("Unable to copy to the clipboard API. Future calls to .copy will use ClipboardEvents if possible.",f),xn(this,Xb,!0),o(f)};try{d=a()}catch(f){h(f)}if(d)return d.catch(h)}else o();return Promise.resolve()}},Xb=new WeakMap,fee);function XVe(r){let e=n=>{let i=Ede(r,{title:r.localization.copyPasteError__heading,classNames:["clipboard-error-dialog"]});i.appendChild(document.createTextNode(r.localization.copyPasteError__description));let o=document.createElement("details"),a=document.createElement("summary");return a.textContent=r.localization.copyPasteError__errorDetails,o.appendChild(a),o.appendChild(document.createTextNode(`Error: ${n}`)),i.appendChild(o),i};return{onCopyError(n){let i=e(n),o=document.createElement("label");o.textContent=r.localization.copyPasteError__copyRetry;let a=document.createElement("textarea");o.appendChild(a);let s=new $0(r),l=c=>(c.preventDefault(),s.copy(c).then(()=>{i.close()}));a.addEventListener("copy",l),a.addEventListener("dragstart",l),a.value=r.localization.copyPasteError__copyMe,i.appendChild(o),a.select(),document.execCommand("copy")},onPasteError(n){let i=e(n),o=document.createElement("label");o.textContent=r.localization.copyPasteError__pasteRetry;let a=document.createElement("textarea");o.appendChild(a);let s=new $0(r),l=c=>(c.preventDefault(),s.paste(c).then(u=>{u&&i.close()}));a.addEventListener("paste",l),a.addEventListener("drop",l),i.appendChild(o),a.focus(),document.execCommand("paste")}}}var Bq=XVe,YVe=0;async function ZVe(r,e,n){let i=document.createElement("div"),{remove:o}=r.createHTMLOverlay(i),a=document.createElement("dialog");a.classList.add("editor-popup-menu");let s=240;a.style.setProperty("--hide-menu-animation-timeout",`${s}ms`);let l=()=>{let h=r.getOutputBBoxInDOM(),f=r.viewport.canvasToScreen(e).plus(h.topLeft);a.style.setProperty("--anchor-x",`${f.x}px`),a.style.setProperty("--anchor-y",`${f.y}px`)};l();let c=r.notifier.on(7,l);i.appendChild(a);let u=!1,d=async()=>{u||(u=!0,c.remove(),a.classList.add("-hide"),await Tde(s),a.close())};return new Promise(h=>{let f=!1,m=null,b=()=>{f||(h(m),f=!0)};a.addEventListener("close",()=>{o(),b()});let g=w=>{m=w,d(),b()};r.handlePointerEventsExceptClicksFrom(a,(w,k)=>k.target===a&&w==="pointerdown"?(d(),!0):!!u,(w,k)=>k.target===a);let v=document.createElement("div");v.classList.add("content"),v.role="menu";let x=[];v.addEventListener("keydown",w=>{let k=x.indexOf(document.activeElement);if(k===-1)return;let T=k;w.key==="ArrowDown"?T++:w.key==="ArrowUp"?T--:w.key==="End"?T=x.length-1:w.key==="Home"&&(T=0),T<0&&(T+=x.length),T%=x.length,T!==k&&(w.preventDefault(),x[T].focus())});for(let w of n){let k=document.createElement("button");k.id=`menu-overlay-option-${YVe++}`,k.role="menuitem",k.classList.add("option","editor-popup-menu-option"),k.replaceChildren(w.icon(),document.createTextNode(w.text)),k.addEventListener("click",T=>{T.defaultPrevented||g(w.key)}),v.appendChild(k),x.length===0&&(k.autofocus=!0),x.push(k)}a.appendChild(v),a.showModal(),v.scrollIntoView({block:"nearest"})})}var JVe=ZVe;async function QVe(r,e,n,i,o){var c;let a=e.localization,s=(r==null?void 0:r.getSelectedItemCount())&&i,l=[{text:a.selectionMenu__paste,icon:()=>e.icons.makePasteIcon(),key:()=>{new $0(e,Bq(e)).paste()}}];(c=await JVe(e,n,s?[{text:a.selectionMenu__duplicate,icon:()=>e.icons.makeDuplicateSelectionIcon(),key:async()=>{await e.dispatch(await r.duplicateSelectedObjects())}},{text:a.selectionMenu__delete,icon:()=>e.icons.makeDeleteSelectionIcon(),key:async()=>{await e.dispatch(r.deleteSelectedObjects()),o()}},{text:a.selectionMenu__copyToClipboard,icon:()=>e.icons.makeCopyIcon(),key:()=>{new $0(e,Bq(e)).copy()}},...l]:l))==null||c()}var eqe=QVe,_de="text",tqe={fontFamily:"sans",size:12,renderingStyle:{fill:mt.black}},ur,Uc=(ur=class extends Lo{constructor(n,i,o=tqe,a=0){super(_de);oe(this,"contentBBox");oe(this,"isRestylableComponent",!0);this.textObjects=n,this.transform=i,this.style=o,this.transformMode=a,this.recomputeBBox(),!n.some(s=>typeof s=="string")&&n.length>0&&(this.style=n[0].getTextStyle())}static applyTextStyles(n,i){let o=i.fontFamily.match(/\s/),a=i.fontFamily.match(/^".*"$/),s=o&&!a?`"${i.fontFamily.replace(/"/g,String.raw`\"`)}"`:i.fontFamily;n.font=[i.fontStyle??"",i.fontWeight??"",(i.size??12)+"px",`${s}`].join(" "),n.textAlign="left"}static estimateTextDimens(n,i){let o=n.length*i.size,a=i.size;return new Lt(0,-a*2/3,o,a)}static getTextMetrics(n,i){if(ur.textMeasuringCtx??(ur.textMeasuringCtx=document.createElement("canvas").getContext("2d")??null),!ur.textMeasuringCtx)return null;let o=ur.textMeasuringCtx;return ur.applyTextStyles(o,i),o.measureText(n)}static getTextDimens(n,i){let o=this.getTextMetrics(n,i);if(!o)return this.estimateTextDimens(n,i);let a=-o.actualBoundingBoxAscent,s=o.actualBoundingBoxAscent+o.actualBoundingBoxDescent;return new Lt(0,a,o.width,s)}static getFontHeight(n){return n.size}computeUntransformedBBoxOfPart(n){return typeof n=="string"?ur.getTextDimens(n,this.style):n.contentBBox}recomputeBBox(){let n=null,i=new ur.TextCursor(this.transform,this.style);for(let o of this.textObjects){let a=i.update(o).transform,s=this.computeUntransformedBBoxOfPart(o).transformedBoundingBox(a);n??(n=s),n=n.union(s)}this.contentBBox=n??Lt.empty}renderInternal(n,i,o=ut.identity){let a=new ur.TextCursor(this.transform,this.style);for(let s of this.textObjects){let{transform:l,bbox:c}=a.update(s);i&&!i.intersects(c.transformedBoundingBox(o))||(typeof s=="string"?n.drawText(s,l,this.style):(n.pushTransform(l),s.renderInternal(n,i,o.rightMul(l)),n.popTransform()))}}render(n,i){n.startObject(this.contentBBox),this.renderInternal(n,i),n.endObject(this.getLoadSaveData())}getProportionalRenderingTime(){return this.textObjects.length}intersects(n){let i=new ur.TextCursor(this.transform,this.style);for(let o of this.textObjects){let a=i.update(o).transform.inverse(),s=n.transformedBy(a);if(typeof o=="string"){if(ur.getTextDimens(o,this.style).getEdges().some(l=>s.intersection(l)!==null))return!0}else if(o.intersects(s))return!0}return!1}getStyle(){return{color:this.style.renderingStyle.fill,textStyle:{...this.style,renderingStyle:{...this.style.renderingStyle}}}}updateStyle(n){return HO(this.getStyle(),n,this)}forceStyle(n,i){if(n.textStyle)this.style=Tq(n.textStyle);else if(n.color)this.style={...this.style,renderingStyle:{...this.style.renderingStyle,fill:n.color}};else return;for(let o of this.textObjects)o instanceof ur&&o.forceStyle(n,i);i&&(i.image.queueRerenderOf(this),i.queueRerender())}getTextStyle(){return Tq(this.style)}getBaselinePos(){return this.transform.transformVec2(He.zero)}getTransform(){return this.transform}applyTransformation(n){this.transform=n.rightMul(this.transform),this.recomputeBBox()}createClone(){let n=this.textObjects.map(i=>typeof i=="string"?i:i.createClone());return new ur(n,this.transform,this.style)}getText(){let n=[];for(let i of this.textObjects)typeof i=="string"?n.push(i):n.push(i.getText());return n.join(`
`)}description(n){return n.text(this.getText())}serializeToJSON(){let n=Cue(this.style);return{textObjects:this.textObjects.map(i=>typeof i=="string"?{text:i}:{json:i.serializeToJSON()}),transform:this.transform.toArray(),style:n}}static deserializeFromString(n){typeof n=="string"&&(n=JSON.parse(n));let i=Eue(n.style),o=n.textObjects.map(l=>(l.text??null)!==null?l.text:ur.deserializeFromString(l.json));if(n.transform=n.transform.filter(l=>typeof l=="number"),n.transform.length!==9)throw new Error(`Unable to deserialize transform, ${n.transform}.`);let a=n.transform,s=new ut(...a);return new ur(o,s,i)}static fromLines(n,i,o){let a=null,s=[],l=Math.round(this.getFontHeight(o)),c=He.zero;for(let u of n){a&&(c=c.plus(He.unitY.times(l)));let d=new ur([u],ut.translation(c),o);s.push(d),a=d}return new ur(s,i,o)}},oe(ur,"textMeasuringCtx",null),oe(ur,"TextCursor",class{constructor(n=ut.identity,i){oe(this,"transform",ut.identity);this.parentTransform=n,this.parentStyle=i}update(n){let i=ut.identity,o=ut.identity,a;typeof n=="string"?a=ur.getTextDimens(n,this.parentStyle):(o=n.transform,a=n.getBBox());let s=typeof n=="string"?1:n.transformMode;s===1?i=this.transform.rightMul(i):(s===2||s===3)&&(i=this.transform.mapEntries((u,[d,h])=>{if(s===2)return d===1&&h===2?0:u;if(s===3)return d===0&&h===2?0:u;throw new Error("Unreachable")}).rightMul(i));let l=ut.translation(He.of(a.width,0));this.transform=i.rightMul(o).rightMul(l);let c=this.parentTransform.rightMul(i);return{transform:c,bbox:a.transformedBoundingBox(c)}}}),ur);Lo.registerComponent(_de,r=>Uc.deserializeFromString(r));var QS=class{constructor(e){oe(this,"selfTransform",null);oe(this,"transformStack",[]);oe(this,"objectLevel",0);oe(this,"currentPaths",null);oe(this,"visibleRectOverride");this.viewport=e}getViewport(){return this.viewport}setDraftMode(e){}flushPath(){if(!this.currentPaths)return;let e=null;for(let n of this.currentPaths){let{startPoint:i,commands:o,style:a}=n;!e||!Sue(e,a)?(e&&this.endPath(e),this.beginPath(i),e=a):this.moveTo(i);for(let s of o)s.kind===0?this.lineTo(s.point):s.kind===1?this.moveTo(s.point):s.kind===2?this.traceCubicBezierCurve(s.controlPoint1,s.controlPoint2,s.endPoint):s.kind===3&&this.traceQuadraticBezierCurve(s.controlPoint,s.endPoint)}e&&this.endPath(e),this.currentPaths=[]}drawPath(e){this.objectLevel===0||this.currentPaths===null?(this.currentPaths=[e],this.flushPath(),this.currentPaths=null):this.currentPaths.push(e)}drawRect(e,n,i){let o=Dn.fromRect(e,n);this.drawPath(ir(o,i))}fillRect(e,n){let i=Dn.fromRect(e);this.drawPath(ir(i,{fill:n}))}startObject(e,n){this.objectLevel>0&&this.flushPath(),this.currentPaths=[],this.objectLevel++}endObject(e,n){if(this.flushPath(),this.currentPaths=null,this.objectLevel--,this.objectLevel<0)throw new Error("More objects have ended than have been started (negative object nesting level)!")}getNestingLevel(){return this.objectLevel}canRenderFromWithoutDataLoss(e){return!1}renderFromOtherOfSameType(e,n){throw new Error(`Unable to render from ${n}: Not implemented`)}setTransform(e){this.selfTransform=e}pushTransform(e){this.flushPath(),this.transformStack.push(this.selfTransform),this.setTransform(this.getCanvasToScreenTransform().rightMul(e))}popTransform(){if(this.transformStack.length===0)throw new Error("Unable to pop more transforms than have been pushed!");this.flushPath(),this.setTransform(this.transformStack.pop()??null)}getCanvasToScreenTransform(){return this.selfTransform?this.selfTransform:this.viewport.canvasToScreenTransform}canvasToScreen(e){return this.getCanvasToScreenTransform().transformVec2(e)}getSizeOfCanvasPixelOnScreen(){return this.getCanvasToScreenTransform().transformVec3(He.unitX).length()}overrideVisibleRect(e){this.visibleRectOverride=e}getVisibleRect(){return this.visibleRectOverride??this.viewport.visibleRect}},jy=class d4 extends QS{constructor(n,i){super(i);oe(this,"ignoreObjectsAboveLevel",null);oe(this,"ignoringObject",!1);oe(this,"currentObjectBBox",null);oe(this,"minSquareCurveApproxDist");oe(this,"minRenderSizeAnyDimen");oe(this,"minRenderSizeBothDimens");oe(this,"clipLevels",[]);this.ctx=n,this.setDraftMode(!1)}transformBy(n){this.ctx.transform(n.a1,n.b1,n.a2,n.b2,n.a3,n.b3)}canRenderFromWithoutDataLoss(n){return n instanceof d4}renderFromOtherOfSameType(n,i){if(!(i instanceof d4))throw new TypeError(`${i} cannot be rendered onto ${this}`);n=this.getCanvasToScreenTransform().rightMul(n),this.ctx.save(),this.transformBy(n),this.ctx.drawImage(i.ctx.canvas,0,0),this.ctx.restore()}setDraftMode(n){n?(this.minSquareCurveApproxDist=9,this.minRenderSizeBothDimens=1,this.minRenderSizeAnyDimen=.1):(this.minSquareCurveApproxDist=.5,this.minRenderSizeBothDimens=.1,this.minRenderSizeAnyDimen=1e-6)}displaySize(){return He.of(this.ctx.canvas.clientWidth,this.ctx.canvas.clientHeight)}clear(){this.ctx.save(),this.ctx.resetTransform(),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}beginPath(n){n=this.canvasToScreen(n),this.ctx.beginPath(),this.ctx.moveTo(n.x,n.y)}endPath(n){n.fill.a>0&&(this.ctx.fillStyle=n.fill.toHexString(),this.ctx.fill()),n.stroke&&(this.ctx.strokeStyle=n.stroke.color.toHexString(),this.ctx.lineWidth=this.getSizeOfCanvasPixelOnScreen()*n.stroke.width,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.stroke(),this.ctx.lineWidth=1),this.ctx.closePath()}lineTo(n){n=this.canvasToScreen(n),this.ctx.lineTo(n.x,n.y)}moveTo(n){n=this.canvasToScreen(n),this.ctx.moveTo(n.x,n.y)}traceCubicBezierCurve(n,i,o){n=this.canvasToScreen(n),i=this.canvasToScreen(i),o=this.canvasToScreen(o);let a=i.minus(n),s=o.minus(i);a.magnitudeSquared()<this.minSquareCurveApproxDist&&s.magnitudeSquared()<this.minSquareCurveApproxDist?this.ctx.lineTo(o.x,o.y):this.ctx.bezierCurveTo(n.x,n.y,i.x,i.y,o.x,o.y)}traceQuadraticBezierCurve(n,i){n=this.canvasToScreen(n),i=this.canvasToScreen(i),n.minus(i).magnitudeSquared()<this.minSquareCurveApproxDist?this.ctx.lineTo(i.x,i.y):this.ctx.quadraticCurveTo(n.x,n.y,i.x,i.y)}drawPath(n){var o;if(this.ignoringObject)return;let i=this.getVisibleRect();(o=this.currentObjectBBox)!=null&&o.containsRect(i)&&(n=qHe(n,i)),super.drawPath(n)}drawText(n,i,o){this.ctx.save(),i=this.getCanvasToScreenTransform().rightMul(i),this.transformBy(i),Uc.applyTextStyles(this.ctx,o),o.renderingStyle.fill.a!==0&&(this.ctx.fillStyle=o.renderingStyle.fill.toHexString(),this.ctx.fillText(n,0,0)),o.renderingStyle.stroke&&(this.ctx.strokeStyle=o.renderingStyle.stroke.color.toHexString(),this.ctx.lineWidth=o.renderingStyle.stroke.width,this.ctx.strokeText(n,0,0)),this.ctx.restore()}drawImage(n){if(n.image.width===0||n.image.height===0)return;this.ctx.save();let i=this.getCanvasToScreenTransform().rightMul(n.transform);this.transformBy(i),this.ctx.drawImage(n.image,0,0),this.ctx.restore()}startObject(n,i){if(this.isTooSmallToRender(n)&&(this.ignoreObjectsAboveLevel=this.getNestingLevel(),this.ignoringObject=!0),super.startObject(n),this.currentObjectBBox=n,!this.ignoringObject&&i&&!n.containsRect(this.getVisibleRect())){this.clipLevels.push(this.objectLevel),this.ctx.save(),this.ctx.beginPath();for(let o of n.corners){let a=this.canvasToScreen(o);this.ctx.lineTo(a.x,a.y)}this.ctx.clip()}}endObject(){let n=this.objectLevel;this.currentObjectBBox=null,super.endObject(),!this.ignoringObject&&this.clipLevels.length>0&&this.clipLevels[this.clipLevels.length-1]===n&&(this.ctx.restore(),this.clipLevels.pop()),this.ignoreObjectsAboveLevel!==null&&this.getNestingLevel()<=this.ignoreObjectsAboveLevel&&(this.ignoreObjectsAboveLevel=null,this.ignoringObject=!1)}drawWithRawRenderingContext(n){this.ctx.save(),this.transformBy(this.getCanvasToScreenTransform()),n(this.ctx),this.ctx.restore()}drawPoints(...n){for(let[i,o]of n.entries()){let a=this.canvasToScreen(o);this.ctx.beginPath(),this.ctx.arc(a.x,a.y,10,0,Math.PI*2),this.ctx.fillStyle=mt.ofRGBA(.5+Math.sin(i)/2,1,.5+Math.cos(i*.2)/4,.5).toHexString(),this.ctx.lineWidth=2,this.ctx.fill(),this.ctx.stroke(),this.ctx.closePath(),this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.ctx.fillText(`${i}`,a.x,a.y,10*2)}}isTooSmallToRender(n){let i=n.size.times(this.getSizeOfCanvasPixelOnScreen()),o=this.minRenderSizeBothDimens,a=Math.abs(i.x)<o&&Math.abs(i.y)<o,s=this.minRenderSizeAnyDimen,l=Math.abs(i.x)<s||Math.abs(i.y)<s;return a||l}static fromViewport(n,i={}){let o=document.createElement("canvas"),a=n.getScreenRectSize(),s=i.canvasSize??a;i.maxCanvasDimen&&s.maximumEntryMagnitude()>i.maxCanvasDimen&&(s=s.times(i.maxCanvasDimen/s.maximumEntryMagnitude())),o.width=s.x,o.height=s.y;let l=o.getContext("2d"),c=Math.min(s.x/a.x,s.y/a.y);return l.scale(c,c),{renderer:new d4(l,n),element:o}}};function nqe(r,e,n){var s,l;let i=/^([\d.e-]+)px/i,o=i.exec(((s=r.style)==null?void 0:s.fontSize)??"");!o&&r.tagName.toLowerCase()==="tspan"&&r.parentElement&&(o=i.exec(((l=r.parentElement.style)==null?void 0:l.fontSize)??"")),!o&&e&&(o=i.exec(e.fontSize));let a=12;return o&&(n.add("fontSize"),a=Number.parseFloat(o[1])),a}var rqe=nqe;async function iqe(r){r.complete||await new Promise((e,n)=>{r.addEventListener("load",i=>e(i)),r.onerror=i=>n(i),r.addEventListener("abort",i=>n(i))})}var oqe=iqe,Nv=class h4 extends Lo{constructor(n){super("image-component");oe(this,"contentBBox");oe(this,"image");this.image={...n,label:n.label??n.image.getAttribute("alt")??n.image.getAttribute("aria-label")??void 0},(i=>i.getAttribute("src")!==void 0)(n.image)&&!n.image.complete&&n.image.addEventListener("load",()=>this.recomputeBBox()),this.recomputeBBox()}getImageRect(){return new Lt(0,0,this.image.image.width,this.image.image.height)}recomputeBBox(){this.contentBBox=this.getImageRect(),this.contentBBox=this.contentBBox.transformedBoundingBox(this.image.transform)}static async fromImage(n,i){await oqe(n);let o,a;typeof n.width=="number"&&typeof n.height=="number"&&n.width!==0&&n.height!==0?(o=n.width,a=n.height):(o=n.clientWidth,a=n.clientHeight);let s,l=n.src??"";if(l.startsWith("data:image/"))s=new Image,s.src=l,s.width=o,s.height=a;else{let c=document.createElement("canvas");c.width=o,c.height=a,c.getContext("2d").drawImage(n,0,0,c.width,c.height),l=c.toDataURL(),s=c}return s.setAttribute("alt",n.getAttribute("alt")??""),s.setAttribute("aria-label",n.getAttribute("aria-label")??""),new h4({image:s,base64Url:l,transform:i})}render(n,i){n.startObject(this.contentBBox),n.drawImage(this.image),n.endObject(this.getLoadSaveData())}getProportionalRenderingTime(){return 10}intersects(n){let i=this.getImageRect().getEdges().map(o=>o.transformedBy(this.image.transform));for(let o of i)if(o.intersects(n))return!0;return!1}applyTransformation(n){this.image.transform=n.rightMul(this.image.transform),this.recomputeBBox()}description(n){return this.image.label?n.imageNode(this.image.label):n.unlabeledImageNode}getAltText(){return this.image.label}getURL(){return this.image.base64Url}getTransformation(){return this.image.transform}createClone(){return new h4({...this.image})}serializeToJSON(){return{src:this.image.base64Url,label:this.image.label,width:this.image.image.width,height:this.image.image.height,transform:this.image.transform.toArray()}}static deserializeFromJSON(n){if(typeof n.src!="string")throw new TypeError(`${n} has invalid format! Expected src property.`);Tb(n.transform),Gf(n.width),Gf(n.height);let i=new Image;i.src=n.src,i.width=n.width,i.height=n.height;let o=new ut(...n.transform);return new h4({image:i,base64Url:n.src,label:n.label,transform:o})}};Lo.registerComponent("image-component",Nv.deserializeFromJSON);var Ade="svg-global-attributes",Dde=class w9 extends Lo{constructor(n){super(Ade);oe(this,"contentBBox");oe(this,"attrs");this.contentBBox=Lt.empty;let i=["viewBox","width","height"];this.attrs=n.filter(([o,a])=>!i.includes(o))}render(n,i){if(n instanceof z0)for(let[o,a]of this.attrs)n.setRootSVGAttribute(o,a)}intersects(n){return!1}applyTransformation(n){}isSelectable(){return!1}getSizingMode(){return 2}createClone(){return new w9(this.attrs)}description(n){return n.svgObject}serializeToJSON(){return JSON.stringify(this.attrs)}static deserializeFromString(n){return new w9([])}};Lo.registerComponent(Ade,Dde.deserializeFromString);var Mde="unknown-svg-object",e7=class Rde extends Lo{constructor(n){super(Mde);oe(this,"contentBBox");this.svgObject=n,this.contentBBox=Lt.of(n.getBoundingClientRect())}render(n,i){n instanceof z0&&(n.startObject(this.contentBBox),n.drawSVGElem(this.svgObject),n.endObject(this.getLoadSaveData()))}intersects(n){return this.contentBBox.getEdges().some(i=>i.intersection(n)!==null)}applyTransformation(n){}isSelectable(){return!1}getSizingMode(){return 2}createClone(){return new Rde(this.svgObject.cloneNode(!0))}description(n){return n.svgObject}serializeToJSON(){return JSON.stringify({html:this.svgObject.outerHTML})}};Lo.registerComponent(Mde,null);var aqe=new Lt(0,0,500,500),Nde="svgAttrs",Ode="svgStyleAttrs",Pde="svgContainerID",S9="easydrawer--autoresize",t7=["stroke","fill","stroke-width"],Ide=class $de{constructor(e,n,i){oe(this,"onAddComponent",null);oe(this,"onProgress",null);oe(this,"onDetermineExportRect",null);oe(this,"processedCount",0);oe(this,"totalToProcess",0);oe(this,"rootViewBox");oe(this,"storeUnknown");oe(this,"disableUnknownObjectWarnings");oe(this,"plugins");oe(this,"containerGroupIDs",[]);oe(this,"encounteredIDs",[]);this.source=e,this.onFinish=n,this.plugins=i.plugins??[],this.storeUnknown=!(i.sanitize??!1),this.disableUnknownObjectWarnings=!!i.disableUnknownObjectWarnings}getStyle(e,n){var c,u,d;let i=mt.transparent,o,a=e.getAttribute("fill")??((n==null?void 0:n.fill)||((c=e.style)==null?void 0:c.fill));if(a)try{i=mt.fromString(a)}catch{console.error("Unknown fill color,",a)}let s=e.getAttribute("stroke")??(n==null?void 0:n.stroke)??((u=e.style)==null?void 0:u.stroke)??"",l=e.getAttribute("stroke-width")??(n==null?void 0:n.strokeWidth)??((d=e.style)==null?void 0:d.strokeWidth)??"";if(s&&l)try{let h=Number.parseFloat(l??"1");isFinite(h)||(h=0);let f=mt.fromString(s);f.a>0&&(o={width:h,color:f})}catch(h){console.error("Error parsing stroke data:",h)}return{fill:i,stroke:o}}strokeDataFromElem(e){let n=[],i=e.getAttribute("d")??"",o=this.getStyle(e),a=i.split("M"),s=!0;for(let l of a){let c=/^[\d\t\n ,.]+$/.exec(l);if(l!==""&&!c){let u=s?l:`M${l}`,d=Dn.fromString(u),h=ir(d,o);n.push(h)}s=!1}return n}attachUnrecognisedAttrs(e,n,i,o){if(this.storeUnknown){for(let a of n.getAttributeNames())i.has(a)||a==="style"&&o||e.attachLoadSaveData(Nde,[a,n.getAttribute(a)]);if(o&&n.style)for(let a=0;a<n.style.length;a++){let s=n.style[a];s===""||!s||o.has(s)||e.attachLoadSaveData(Ode,{key:s,value:n.style.getPropertyValue(s),priority:n.style.getPropertyPriority(s)})}}}async addPath(e){let n;try{let i=this.strokeDataFromElem(e);n=new Ai(i),this.attachUnrecognisedAttrs(n,e,new Set([...t7,"d"]),new Set(t7))}catch(i){if(console.error("Invalid path in node",e,`
Error:`,i,`
Adding as an unknown object.`),this.storeUnknown)n=new e7(e);else return}await this.addComponent(n)}async addBackground(e){if(e.classList.contains(bde[1])){let n,i,o;if(e.tagName.toLowerCase()==="g"){if(e.children.length!==2){await this.addUnknownNode(e);return}let d=e.children[0],h=e.children[1];i=d.getAttribute("fill"),n=h.getAttribute("stroke"),o=h.getAttribute("stroke-width")}else i=e.getAttribute("fill"),n=e.getAttribute("stroke"),o=e.getAttribute("stroke-width");if(i??(i=mt.transparent.toHexString()),!n){await this.addUnknownNode(e);return}let a;for(let d of e.classList)if(d.startsWith(b9)){let h=d.substring(b9.length);a=Number.parseFloat(h.replace(/p/g,"."))}let s;o&&(s=Number.parseFloat(o));let l=mt.fromString(i),c=mt.fromString(n);e.classList.contains(yde)||(c=void 0);let u=dl.ofGrid(l,a,c,s);await this.addComponent(u)}else if(e.tagName.toLowerCase()==="path"){let n=mt.fromString(e.getAttribute("fill")??e.style.fill??"black"),i=new dl(0,n);await this.addComponent(i)}else await this.addUnknownNode(e)}getComputedStyle(e){try{return window.getComputedStyle(e)}catch(n){console.warn("Error computing style",n);return}}getTransform(e,n,i){var l;let o="data-highp-transform",a=e.getAttribute(o),s;if(a)try{s=ut.fromCSSMatrix(a),n==null||n.push(o)}catch(c){console.warn(`Unable to parse raw transform data, ${a}. Falling back to CSS data. Error:`,c)}if(!s){i??(i=this.getComputedStyle(e));let c=i==null?void 0:i.transform;(!c||c==="none")&&(c=((l=e.style)==null?void 0:l.transform)||"none");try{s=ut.fromCSSMatrix(e.style.transform)}catch(h){console.warn("matrix parse error",h),s=ut.fromCSSMatrix(c)}let u=e.getAttribute("x"),d=e.getAttribute("y");if(u||d){let h=Number.parseFloat(u??"0"),f=Number.parseFloat(d??"0");!isNaN(h)&&!isNaN(f)&&(n==null||n.push("x","y"),s=s.rightMul(ut.translation(He.of(h,f))))}}return s}makeText(e){var f,m,b;let n=[];for(let g of e.childNodes)if(g.nodeType===Node.TEXT_NODE)n.push(g.nodeValue??"");else if(g.nodeType===Node.ELEMENT_NODE){let v=g;if(v.tagName.toLowerCase()==="tspan")n.push(this.makeText(v));else throw new Error(`Unrecognized text child element: ${v}`)}else throw new Error(`Unrecognized text child node: ${g}.`);n.length===0&&n.push("");let i=this.getComputedStyle(e),o=new Set(["fontFamily","transform",...t7]),a={size:rqe(e,i,o),fontFamily:(i==null?void 0:i.fontFamily)||((f=e.style)==null?void 0:f.fontFamily)||"sans-serif",fontWeight:(i==null?void 0:i.fontWeight)||((m=e.style)==null?void 0:m.fontWeight)||void 0,fontStyle:(i==null?void 0:i.fontStyle)||((b=e.style)==null?void 0:b.fontStyle)||void 0,renderingStyle:this.getStyle(e,i)},s=[],l=this.getTransform(e,s,i),c=0,u=e.getAttribute("dx");u&&(c=2,l=l.rightMul(ut.translation(He.of(Number.parseFloat(u),0))),s.push("dx"));let d=e.getAttribute("dy");d&&(c===2?c=1:c=3,l=l.rightMul(ut.translation(He.of(0,Number.parseFloat(d)))),s.push("dy"));let h=new Uc(n,l,a,c);return this.attachUnrecognisedAttrs(h,e,new Set(s),new Set(o)),h}async addText(e){try{let n=this.makeText(e);await this.addComponent(n)}catch(n){console.error("Invalid text object in node",e,". Continuing.... Error:",n),this.addUnknownNode(e)}}async addImage(e){let n=new Image;n.src=e.getAttribute("xlink:href")??e.href.baseVal,n.setAttribute("alt",e.getAttribute("aria-label")??"");try{let i=[],o=this.getTransform(e,i),a=await Nv.fromImage(n,o);this.attachUnrecognisedAttrs(a,e,new Set(i),new Set(["transform"])),await this.addComponent(a)}catch(i){console.error("Error loading image:",i,". Element: ",e,". Continuing..."),await this.addUnknownNode(e)}}async addUnknownNode(e){if(this.storeUnknown){let n=new e7(e);await this.addComponent(n)}}async startGroup(e){e=e.cloneNode(!1);let n=e.id||`id-${this.encounteredIDs.length}`,i=0,o="";for(;this.encounteredIDs.includes(n+o);)i++,o="--"+i;n+=o,e.replaceChildren(),e.id=n;let a=new e7(e);this.addComponent(a),this.containerGroupIDs.push(e.id),this.encounteredIDs.push(e.id)}async endGroup(){this.containerGroupIDs.pop()}async addComponent(e){var n;this.containerGroupIDs.length>0&&e.attachLoadSaveData(Pde,[...this.containerGroupIDs]),await((n=this.onAddComponent)==null?void 0:n.call(this,e))}updateViewBox(e){var u;let n=e.getAttribute("viewBox");if(this.rootViewBox||!n)return;let i=n.split(/[\t\n ,]+/),o=Number.parseFloat(i[0]),a=Number.parseFloat(i[1]),s=Number.parseFloat(i[2]),l=Number.parseFloat(i[3]);if(isNaN(o)||isNaN(a)||isNaN(s)||isNaN(l)){console.warn(`node ${e} has an unparsable viewbox. Viewbox: ${n}. Match: ${i}.`);return}let c=e.classList.contains(S9);this.rootViewBox=new Lt(o,a,s,l),(u=this.onDetermineExportRect)==null||u.call(this,this.rootViewBox,{autoresize:c})}async updateSVGAttrs(e){var n;this.storeUnknown&&await((n=this.onAddComponent)==null?void 0:n.call(this,new Dde(this.getSourceAttrs(e))))}async visit(e){var a;this.totalToProcess+=e.childElementCount;let n=!0,i=async()=>{for(let s of this.plugins)if(await s.visit(e,{addComponent:l=>{var c;return(c=this.onAddComponent)==null?void 0:c.call(this,l)}}))return n=!1,!0;return!1},o=async()=>{switch(e.tagName.toLowerCase()){case"g":e.classList.contains(_b)?(await this.addBackground(e),n=!1):await this.startGroup(e);break;case"path":e.classList.contains(_b)?await this.addBackground(e):await this.addPath(e);break;case"text":await this.addText(e),n=!1;break;case"image":await this.addImage(e),n=!1;break;case"svg":this.updateViewBox(e),this.updateSVGAttrs(e);break;case"style":e.getAttribute("id")!==f4&&await this.addUnknownNode(e);break;default:this.disableUnknownObjectWarnings||(console.warn("Unknown SVG element,",e,e.tagName),e instanceof SVGElement||console.warn("Element",e,"is not an SVGElement!",this.storeUnknown?"Continuing anyway.":"Skipping.")),await this.addUnknownNode(e);return}};if(await i()?n=!1:await o(),n){for(let s of e.children)await this.visit(s);e.tagName.toLowerCase()==="g"&&await this.endGroup()}this.processedCount++,await((a=this.onProgress)==null?void 0:a.call(this,this.processedCount,this.totalToProcess))}getSourceAttrs(e){return e.getAttributeNames().map(n=>[n,e.getAttribute(n)])}async start(e,n,i=null){var o,a;this.onAddComponent=e,this.onProgress=n,this.onDetermineExportRect=i,this.totalToProcess=this.source.childElementCount,this.processedCount=0,this.rootViewBox=null,await this.visit(this.source),this.rootViewBox||((o=this.onDetermineExportRect)==null||o.call(this,aqe)),(a=this.onFinish)==null||a.call(this),this.onFinish=null}static fromString(e,n=!1){let i=typeof n!="boolean"&&(n==null?void 0:n.loadMethod)==="domparser",{svgElem:o,cleanUp:a}=(()=>{var f;if(!i)try{let m=document.createElement("iframe");if(m.src="about:blank",m.setAttribute("sandbox","allow-same-origin"),m.setAttribute("csp","default-src 'about:blank'"),m.style.display="none",document.body.appendChild(m),!m.hasAttribute("sandbox"))throw m.remove(),new Error("SVG loading iframe is not sandboxed.");let b=((f=m.contentWindow)==null?void 0:f.document)??m.contentDocument;if(b==null)throw new Error("Unable to open a sandboxed iframe!");b.open(),b.write(`
						<!DOCTYPE html>
						<html>
							<head>
								<title>SVG Loading Sandbox</title>
								<meta name='viewport' conent='width=device-width,initial-scale=1.0'/>
								<meta charset='utf-8'/>
							</head>
							<body style='font-size: 12px;'>
								<script>
									console.error('JavaScript should not be able to run here!');
									throw new Error(
										'The SVG sandbox is broken! Please double-check the sandboxing setting.'
									);
								<\/script>
							</body>
						</html>
					`),b.close();let g=b.createElementNS("http://www.w3.org/2000/svg","svg");return g.innerHTML=e,b.body.appendChild(g),{svgElem:g,cleanUp:()=>{g.remove(),m.remove(),m.src=""}}}catch(m){console.warn("Failed loading SVG via a sandboxed iframe. Some styles may not be loaded correctly. Error: ",m)}let u=new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg">${e}</svg>`,"text/html"),d=u.querySelector("svg"),h=u.querySelector("parsererror");if(h)throw new Error("Parse error: "+h.textContent);return{svgElem:d,cleanUp:()=>{}}})(),s,l,c;return typeof n=="boolean"?(s=n,l=!1,c=[]):(s=n.sanitize??!1,l=n.disableUnknownObjectWarnings??!1,c=n.plugins),new $de(o,a,{sanitize:s,disableUnknownObjectWarnings:l,plugins:c})}};function sqe(r,e){let n=r.length<e.length?r:e,i=n===r?e:r;for(let[o,a]of n.entries())if(a!==i[o])return!1;return!0}var lqe=sqe,f4="easydrawer-style-sheet",zh="http://www.w3.org/2000/svg",n7={fontWeight:"400",fontStyle:"normal"},z0=class zde extends QS{constructor(n,i,o=!1){super(i);oe(this,"lastPathStyle",null);oe(this,"lastPathString",[]);oe(this,"lastContainerIDList",[]);oe(this,"objectElems",null);oe(this,"overwrittenAttrs",{});oe(this,"textContainer",null);oe(this,"textContainerTransform",null);oe(this,"textParentStyle",n7);this.elem=n,this.sanitize=o,this.clear(),this.addStyleSheet()}addStyleSheet(){if(!this.elem.querySelector(`#${f4}`)){let n=document.createElementNS("http://www.w3.org/2000/svg","style");n.appendChild(document.createTextNode(`
				path {
					stroke-linecap: round;
					stroke-linejoin: round;
				}

				text {
					white-space: pre;
				}
			`.replace(/\s+/g,""))),n.setAttribute("id",f4),this.elem.appendChild(n)}}setRootSVGAttribute(n,i){this.sanitize||(n in this.overwrittenAttrs||(this.overwrittenAttrs[n]=this.elem.getAttribute(n)),i!==null?this.elem.setAttribute(n,i):this.elem.removeAttribute(n))}displaySize(){return He.of(this.elem.clientWidth,this.elem.clientHeight)}clear(){if(this.lastPathString=[],this.lastContainerIDList=[],!this.sanitize){for(let n in this.overwrittenAttrs){let i=this.overwrittenAttrs[n];i?this.elem.setAttribute(n,i):this.elem.removeAttribute(n)}this.overwrittenAttrs={}}}addPathToSVG(){var o;if(!this.lastPathStyle||this.lastPathString.length===0)return null;let n=document.createElementNS(zh,"path");n.setAttribute("d",this.lastPathString.join(" "));let i=this.lastPathStyle;return i.fill.a>0?n.setAttribute("fill",i.fill.toHexString()):n.setAttribute("fill","none"),i.stroke&&(n.setAttribute("stroke",i.stroke.color.toHexString()),n.setAttribute("stroke-width",xs(i.stroke.width*this.getSizeOfCanvasPixelOnScreen()))),this.elem.appendChild(n),(o=this.objectElems)==null||o.push(n),n}drawPath(n){let i=n.style,o=qS(n).transformedBy(this.getCanvasToScreenTransform());(this.lastPathString.length===0||!this.lastPathStyle||!Sue(this.lastPathStyle,i))&&(this.addPathToSVG(),this.lastPathStyle=i,this.lastPathString=[]),this.lastPathString.push(o.toString())}transformFrom(n,i,o=!1){let a=o?n:this.getCanvasToScreenTransform().rightMul(n);if(a.eq(ut.identity))i.style.transform="";else{let s=a.toCSSMatrix();i.style.transform=s,i.setAttribute("data-highp-transform",s)}}drawText(n,i,o){var s;let a=(l,c)=>{var d,h,f,m,b;c.fontFamily!==((d=this.textParentStyle)==null?void 0:d.fontFamily)&&(l.style.fontFamily=c.fontFamily),c.fontVariant!==((h=this.textParentStyle)==null?void 0:h.fontVariant)&&(l.style.fontVariant=c.fontVariant??""),c.fontWeight!==((f=this.textParentStyle)==null?void 0:f.fontWeight)&&(l.style.fontWeight=c.fontWeight??""),c.fontStyle!==((m=this.textParentStyle)==null?void 0:m.fontStyle)&&(l.style.fontStyle=c.fontStyle??""),c.size!==((b=this.textParentStyle)==null?void 0:b.size)&&(l.style.fontSize=c.size+"px");let u=c.renderingStyle.fill.toHexString();if(l.style.fill=u,c.renderingStyle.stroke){let g=c.renderingStyle.stroke;l.style.stroke=g.color.toHexString(),l.style.strokeWidth=g.width+"px"}};if(i=this.getCanvasToScreenTransform().rightMul(i),this.textContainer){let l=document.createElementNS(zh,"tspan");l.appendChild(document.createTextNode(n)),this.textContainer.appendChild(l),i=this.textContainerTransform.inverse().rightMul(i);let c=i.transformVec2(He.zero);l.setAttribute("x",`${xs(c.x)}`),l.setAttribute("y",`${xs(c.y)}`),a(l,o)}else{let l=document.createElementNS(zh,"text");l.appendChild(document.createTextNode(n)),this.transformFrom(i,l,!0),a(l,o),this.elem.appendChild(l),(s=this.objectElems)==null||s.push(l),this.objectLevel>0&&(this.textContainer=l,this.textContainerTransform=i,this.textParentStyle={...n7,...o})}}drawImage(n){var a;let i=n.label??n.image.getAttribute("aria-label")??"";i===""&&(i=n.image.getAttribute("alt")??"");let o=document.createElementNS(zh,"image");o.setAttribute("href",n.base64Url),o.setAttribute("width",n.image.getAttribute("width")??""),o.setAttribute("height",n.image.getAttribute("height")??""),o.setAttribute("aria-label",i),this.transformFrom(n.transform,o),this.elem.appendChild(o),(a=this.objectElems)==null||a.push(o)}startObject(n){super.startObject(n),this.lastPathString=[],this.lastPathStyle=null,this.textContainer=null,this.textParentStyle=n7,this.objectElems=[]}endObject(n,i){if(super.endObject(n),this.addPathToSVG(),!!this.objectElems){if(n&&!this.sanitize){for(let s of this.objectElems){let l=n[Nde],c=n[Ode];if(l)for(let[u,d]of l)s.setAttribute(u,d);if(c)for(let u of c)s.style.setProperty(u.key,u.value,u.priority)}let o=n[Pde],a=[];if(o&&o[0]&&o[0].length>0&&(a=o[0]),a.length>0&&lqe(this.lastContainerIDList,a)&&this.lastContainerIDList.length>=a.length-1){let s=a[a.length-1],l=this.elem.querySelectorAll(`g#${s}`);if(l.length>0){let c=l[0];if(c.children.length===0||this.lastContainerIDList.length>=a.length)for(let u of this.objectElems)u.remove(),c.appendChild(u);else a=[]}}else a=[];this.lastContainerIDList=a}if(i&&this.objectElems)if(this.objectElems.length===1)this.objectElems[0].classList.add(...i);else{let o=document.createElementNS(zh,"g");o.classList.add(...i);for(let a of this.objectElems)a.remove(),o.appendChild(a);this.elem.appendChild(o)}}}unimplementedMessage(){throw new Error("Not implemenented!")}beginPath(n){this.unimplementedMessage()}endPath(n){this.unimplementedMessage()}lineTo(n){this.unimplementedMessage()}moveTo(n){this.unimplementedMessage()}traceCubicBezierCurve(n,i,o){this.unimplementedMessage()}traceQuadraticBezierCurve(n,i){this.unimplementedMessage()}drawPoints(...n){n.map(i=>{let o=document.createElementNS(zh,"circle");o.setAttribute("cx",`${i.x}`),o.setAttribute("cy",`${i.y}`),o.setAttribute("r","15"),this.elem.appendChild(o)})}drawSVGElem(n){var o;if(this.sanitize||n.tagName.toLowerCase()==="style"&&n.getAttribute("id")===f4)return;let i=n.cloneNode(!0);this.elem.appendChild(i),(o=this.objectElems)==null||o.push(i)}drawWithSVGParent(n){var o;let i=document.createElementNS(zh,"g");this.transformFrom(ut.identity,i,!0),n(i,{sanitize:this.sanitize}),this.elem.appendChild(i),(o=this.objectElems)==null||o.push(i)}isTooSmallToRender(n){return!1}static fromViewport(n,i=!0){let o,a;typeof i=="boolean"?(o=i,a=!1):(o=i.sanitize??!0,a=i.useViewBoxForPositioning??!1);let s="http://www.w3.org/2000/svg",l=document.createElementNS(s,"svg"),c=n.getScreenRectSize(),u=n.visibleRect,d;if(a){let f=n.visibleRect;d=[f.x,f.y,f.w,f.h],n=n.getTemporaryClone(),n.resetTransform(ut.identity)}else d=[0,0,c.x,c.y];l.setAttribute("viewBox",d.map(f=>xs(f)).join(" ")),l.setAttribute("width",xs(c.x)),l.setAttribute("height",xs(c.y)),l.setAttribute("version","1.1"),l.setAttribute("baseProfile","full"),l.setAttribute("xmlns",s);let h=new zde(l,n,o);return u.eq(n.visibleRect)||h.overrideVisibleRect(u),{element:l,renderer:h}}},Ss="selection-tool-",e6=class extends Uo{constructor(n,i){super(n.notifier,i);oe(this,"modeValue");oe(this,"selectionBuilder");oe(this,"handleOverlay");oe(this,"prevSelectionBox");oe(this,"selectionBox");oe(this,"removeSelectionScheduled",!1);oe(this,"startPoint",null);oe(this,"expandingSelectionBox",!1);oe(this,"shiftKeyPressed",!1);oe(this,"snapToGrid",!1);oe(this,"lastPointer",null);oe(this,"autoscroller");oe(this,"showContextMenu",async(n,i=!0)=>{await eqe(this.selectionBox,this.editor,n,i,()=>this.clearSelection())});oe(this,"selectionBoxHandlingEvt",!1);oe(this,"lastSelectedObjects",[]);oe(this,"hasUnfinalizedTransformFromKeyPress",!1);this.editor=n,this.modeValue=yp.fromInitialValue("rect"),this.modeValue.onUpdate(()=>{this.editor.notifier.dispatch(2,{kind:2,tool:this})}),this.autoscroller=new VVe(n.viewport,o=>{if(n.dispatch(On.transformBy(ut.translation(o)),!1),this.lastPointer){let a=this.lastPointer.withScreenPosition(this.lastPointer.screenPos,n.viewport);this.onMainPointerUpdated(a)}}),this.handleOverlay=document.createElement("div"),n.createHTMLOverlay(this.handleOverlay),this.handleOverlay.style.display="none",this.handleOverlay.classList.add("handleOverlay"),n.notifier.on(7,o=>{var a,s;this.editor.clearWetInk(),this.expandingSelectionBox||((a=this.selectionBox)==null||a.padRegion()),(s=this.selectionBox)==null||s.updateUI()}),this.editor.handleKeyEventsFrom(this.handleOverlay),this.editor.handlePointerEventsFrom(this.handleOverlay)}getSelectionColor(){let n=getComputedStyle(this.handleOverlay).getPropertyValue("--selection-background-color");return mt.fromString(n).withAlpha(.5)}makeSelectionBox(n){var i;this.prevSelectionBox=this.selectionBox,this.selectionBox=new FVe(n,this.editor,this.showContextMenu),this.expandingSelectionBox||((i=this.prevSelectionBox)==null||i.cancelSelection()),this.selectionBox.addTo(this.handleOverlay)}onContextMenu(n){var o,a;let i=(a=(o=this.selectionBox)==null?void 0:o.getScreenRegion())==null?void 0:a.containsPoint(n.screenPos);return this.showContextMenu(n.canvasPos,i),!0}onPointerDown({allPointers:n,current:i}){let o=this.snapToGrid;if(o&&(i=i.snappedToGrid(this.editor.viewport)),n.length===1){this.startPoint=i.canvasPos;let a=!1;return this.selectionBox&&(o&&this.selectionBox.snapSelectedObjectsToGrid(),this.selectionBox.onDragStart(i)&&(a=!0,this.selectionBoxHandlingEvt=!0,this.expandingSelectionBox=!1)),a?this.autoscroller.start():(this.expandingSelectionBox=this.shiftKeyPressed,this.removeSelectionScheduled=!this.expandingSelectionBox,this.modeValue.get()==="lasso"?this.selectionBuilder=new HVe(i.canvasPos,this.editor.viewport):this.selectionBuilder=new WVe(i.canvasPos)),!0}return!1}onPointerMove(n){this.onMainPointerUpdated(n.current)}onMainPointerUpdated(n){var i,o,a;if(this.lastPointer=n,this.removeSelectionScheduled&&(this.removeSelectionScheduled=!1,this.handleOverlay.replaceChildren(),this.prevSelectionBox=this.selectionBox,this.selectionBox=null),this.autoscroller.onPointerMove(n.screenPos),!this.expandingSelectionBox&&this.shiftKeyPressed&&this.startPoint){let s=this.editor.viewport.canvasToScreen(this.startPoint);n=n.lockedToXYAxesScreen(s,this.editor.viewport)}this.snapToGrid&&(n=n.snappedToGrid(this.editor.viewport)),this.selectionBoxHandlingEvt?(i=this.selectionBox)==null||i.onDragUpdate(n):((o=this.selectionBuilder)==null||o.onPointerMove(n.canvasPos),this.editor.clearWetInk(),(a=this.selectionBuilder)==null||a.render(this.editor.display.getWetInkRenderer(),this.getSelectionColor()))}onPointerUp(n){var i;if(this.onMainPointerUpdated(n.current),this.autoscroller.stop(),this.selectionBoxHandlingEvt)(i=this.selectionBox)==null||i.onDragEnd();else if(this.selectionBuilder){let o=this.selectionBuilder.resolve(this.editor.image,this.editor.viewport);this.selectionBuilder=null,this.editor.clearWetInk(),this.expandingSelectionBox&&this.selectionBox?this.setSelection([...this.selectionBox.getSelectedObjects(),...o]):this.setSelection(o)}this.expandingSelectionBox=!1,this.removeSelectionScheduled=!1,this.selectionBoxHandlingEvt=!1,this.lastPointer=null}onGestureCancel(){var n,i,o,a;this.selectionBuilder&&(this.selectionBuilder=null,this.editor.clearWetInk()),this.autoscroller.stop(),this.selectionBoxHandlingEvt?(n=this.selectionBox)==null||n.onDragCancel():this.removeSelectionScheduled||((i=this.selectionBox)==null||i.cancelSelection(),this.selectionBox=this.prevSelectionBox,(o=this.selectionBox)==null||o.addTo(this.handleOverlay),(a=this.selectionBox)==null||a.recomputeRegion(),this.prevSelectionBox=null),this.removeSelectionScheduled=!1,this.expandingSelectionBox=!1,this.lastPointer=null,this.selectionBoxHandlingEvt=!1}onSelectionUpdated(){var o,a;let n=((o=this.selectionBox)==null?void 0:o.getSelectedItemCount())??0,i=((a=this.selectionBox)==null?void 0:a.getSelectedObjects())??[];(this.lastSelectedObjects.length!==n||i.some((s,l)=>this.lastSelectedObjects[l]!==s))&&(this.lastSelectedObjects=i,this.editor.notifier.dispatch(2,{kind:2,tool:this}),this.editor.notifier.dispatch(9,{kind:9,selectedComponents:i,tool:this}),n>0&&this.editor.announceForAccessibility(this.editor.localization.selectedElements(n))),n===0&&this.selectionBox&&(this.selectionBox.cancelSelection(),this.prevSelectionBox=this.selectionBox,this.selectionBox=null)}zoomToSelection(){if(this.selectionBox){let n=this.selectionBox.region;this.editor.dispatchNoAnnounce(this.editor.viewport.zoomTo(n,!1),!1)}}onKeyPress(n){let i=this.editor.shortcuts;if(i.matchesShortcut(y3,n))return this.snapToGrid=!0,!0;if(this.selectionBox&&(i.matchesShortcut(m9,n)||i.matchesShortcut(g9,n)))return!0;if(i.matchesShortcut(g3,n))return this.setSelection(this.editor.image.getAllComponents()),!0;if(n.ctrlKey)return!1;if((n.shiftKey||n.key==="Shift")&&(this.shiftKeyPressed=!0,n.key==="Shift"))return!0;let o=0,a=0,s=0,l=0,c=0;i.matchesShortcut(Vue,n)?a-=1:i.matchesShortcut(que,n)?a+=1:i.matchesShortcut(Gue,n)?s-=1:i.matchesShortcut(Kue,n)?s+=1:i.matchesShortcut(Yue,n)?o+=1:i.matchesShortcut(Xue,n)?o-=1:i.matchesShortcut(Zue,n)?l-=1:i.matchesShortcut(Jue,n)?l+=1:i.matchesShortcut(Que,n)?c-=1:i.matchesShortcut(ede,n)?c+=1:i.matchesShortcut(tde,n)?(l-=1,c-=1):i.matchesShortcut(nde,n)&&(l+=1,c+=1);let u=a!==0||s!==0||o!==0||l!==0||c!==0;if(!this.selectionBox)u=!1;else if(u){let d=10*this.editor.viewport.getSizeOfPixelOnCanvas(),h=Math.PI/8,f=5/4,m=this.selectionBox.region,b=He.of(f**l,f**c),g=ut.zRotation(o*h).mapEntries(k=>On.roundScaleRatio(k)),v=this.editor.viewport.roundPoint(m.center),x=ut.scaling2D(b,this.editor.viewport.roundPoint(m.topLeft)).rightMul(ut.translation(v).rightMul(g).rightMul(ut.translation(v.times(-1)))).rightMul(ut.translation(this.editor.viewport.roundPoint(He.of(a,s).times(d)))),w=this.selectionBox.getTransform();this.selectionBox.setTransform(w.rightMul(x)),this.selectionBox.scrollTo(),this.hasUnfinalizedTransformFromKeyPress=!0}return this.selectionBox&&!u&&(n.key==="Delete"||n.key==="Backspace")&&(this.editor.dispatch(this.selectionBox.deleteSelectedObjects()),this.clearSelection(),u=!0),u}onKeyUp(n){let i=this.editor.shortcuts;if(i.matchesShortcut(y3,n))return this.snapToGrid=!1,!0;if(i.matchesShortcut(g3,n))return!0;if(this.selectionBox&&i.matchesShortcut(m9,n))return this.selectionBox.duplicateSelectedObjects().then(o=>{this.editor.dispatch(o)}),!0;if(this.selectionBox&&i.matchesShortcut(g9,n)){let o=this.selectionBox.sendToBack();return o&&this.editor.dispatch(o),!0}return n.shiftKey===!1&&(this.shiftKeyPressed=!1),n.key==="Shift"?(this.shiftKeyPressed=!1,!0):this.hasUnfinalizedTransformFromKeyPress?this.selectionBox?(this.selectionBox.finalizeTransform(),this.hasUnfinalizedTransformFromKeyPress=!1,!0):!1:!0}onCopy(n){if(!this.selectionBox)return!1;let i=this.selectionBox.getSelectedObjects(),o=this.selectionBox.region;if(i.length===0)return!1;let a=new On(()=>{}),s=this.selectionBox.getScreenRegion().size.times(this.editor.display.getDevicePixelRatio()).maximumEntryMagnitude()/(o.size.maximumEntryMagnitude()||1);s=Math.pow(2,Math.ceil(Math.log2(s))),a.updateScreenSize(o.size.times(s)),a.resetTransform(ut.scaling2D(s).rightMul(ut.translation(o.topLeft.times(-1))));let{element:l,renderer:c}=z0.fromViewport(a,{sanitize:!0,useViewBoxForPositioning:!0}),{element:u,renderer:d}=jy.fromViewport(a,{maxCanvasDimen:4096}),h=[];for(let f of i)f.render(c),f.render(d),f instanceof Uc&&h.push(f.getText());return n.setData("image/svg+xml",l.outerHTML),n.setData("text/html",l.outerHTML),n.setData("image/png",new Promise((f,m)=>{u.toBlob(b=>{b?f(b):m(new Error("Failed to convert canvas to blob."))},"image/png")})),h.length>0&&n.setData("text/plain",h.join(`
`)),!0}setEnabled(n){var o;let i=this.isEnabled();super.setEnabled(n),i!==n&&((o=this.selectionBox)==null||o.cancelSelection(),this.onSelectionUpdated(),this.handleOverlay.replaceChildren(),this.selectionBox=null,this.shiftKeyPressed=!1,this.snapToGrid=!1,this.handleOverlay.style.display=n?"block":"none",n?(this.handleOverlay.tabIndex=0,this.handleOverlay.role="group",this.handleOverlay.ariaLabel=this.editor.localization.selectionToolKeyboardShortcuts):this.handleOverlay.tabIndex=-1)}getSelection(){return this.selectionBox}isSelecting(){return!!this.selectionBuilder}getSelectedObjects(){var n;return((n=this.selectionBox)==null?void 0:n.getSelectedObjects())??[]}setSelection(n){n=n.filter(o=>o.isSelectable()),n.sort((o,a)=>o.getZIndex()-a.getZIndex()),n=n.filter((o,a)=>a>0?o!==n[a-1]:!0);let i=null;for(let o of n)i?i=i.union(o.getBBox()):i=o.getBBox();this.clearSelectionNoUpdateEvent(),i&&this.makeSelectionBox(n),this.onSelectionUpdated()}clearSelectionNoUpdateEvent(){this.handleOverlay.replaceChildren(),this.prevSelectionBox=this.selectionBox,this.selectionBox=null}clearSelection(){this.clearSelectionNoUpdateEvent(),this.onSelectionUpdated()}};function cqe(r,e,n){let i=document.createElement("div");i.classList.add("selection-format-menu",`${Pt}spacedList`,`${Pt}indentedList`);let o=document.createElement("div"),a=document.createElement("label"),s=Rv(r,d=>{let h=e.getSelection();if(h){let f=[];for(let b of h.getSelectedObjects())_q(b)&&f.push(b.updateStyle({color:d}));let m=zd(f);r.dispatch(m)}}),{input:l,container:c}=s;a.innerText=n.colorLabel;let u=()=>{let d=e.getSelection();if(d&&d.getSelectedItemCount()>0){l.disabled=!1,i.classList.remove("disabled");let h=[];for(let f of d.getSelectedObjects())if(_q(f)){let m=f.getStyle().color;m&&h.push(m)}s.setValue(mt.average(h))}else l.disabled=!0,i.classList.add("disabled"),s.setValue(mt.transparent)};return o.replaceChildren(a,c),i.replaceChildren(o),{addTo:d=>{d.appendChild(i)},update:u,registerHelpText:d=>{d.registerTextHelpForElement(o,n.selectionDropdown__changeColorHelpText),s.registerWithHelpTextDisplay(d)}}}var uqe=class extends dg{constructor(e,n,i){super(e,"selection-mode-toggle",i),this.tool=n,e.notifier.on(2,o=>{o.kind===2&&o.tool===n&&this.setSelected(n.modeValue.get()==="lasso")}),this.setSelected(!1)}shouldAutoDisableInReadOnlyEditor(){return!1}setModeFlag(e){this.tool.modeValue.set(e?"lasso":"rect")}handleClick(){this.setModeFlag(!this.isSelected())}getTitle(){return this.localizationTable.selectionTool__lassoSelect}createIcon(){return this.editor.icons.makeSelectionIcon("lasso")}fillDropdown(e){return!1}getHelpText(){return this.localizationTable.selectionTool__lassoSelect__help}},dqe=class extends hg{constructor(n,i,o){super(n,i,"selection-tool-widget",o);oe(this,"updateFormatMenu",()=>{});oe(this,"hasSelectionValue");this.tool=i,this.addSubWidget(new uqe(n,i,this.localizationTable));let a=()=>{let s=this.tool.getSelection();return!!s&&s.getSelectedItemCount()>0};this.hasSelectionValue=yp.fromInitialValue(a()),this.editor.notifier.on(2,s=>{if(s.kind!==2)throw new Error("Invalid event type!");s.tool===this.tool&&(this.hasSelectionValue.set(a()),this.updateFormatMenu())}),i.modeValue.onUpdate(()=>{this.updateIcon()})}resizeImageToSelection(){let n=this.tool.getSelection();n&&this.editor.dispatch(this.editor.setImportExportRect(n.region))}onKeyPress(n){return this.editor.shortcuts.matchesShortcut($ue,n)?(this.resizeImageToSelection(),!0):!!super.onKeyPress(n)}getTitle(){return this.localizationTable.select}createIcon(){return this.editor.icons.makeSelectionIcon(this.tool.modeValue.get())}getHelpText(){return this.localizationTable.selectionDropdown__baseHelpText}createSelectionActions(n){let i=this.editor.icons;return{container:$Ve([{icon:()=>i.makeDeleteSelectionIcon(),label:this.localizationTable.deleteSelection,onCreated:o=>{n==null||n.registerTextHelpForElement(o,this.localizationTable.selectionDropdown__deleteHelpText)},onClick:()=>{let o=this.tool.getSelection();this.editor.dispatch(o.deleteSelectedObjects()),this.tool.clearSelection()},enabled:this.hasSelectionValue},{icon:()=>i.makeDuplicateSelectionIcon(),label:this.localizationTable.duplicateSelection,onCreated:o=>{n==null||n.registerTextHelpForElement(o,this.localizationTable.selectionDropdown__duplicateHelpText)},onClick:async()=>{var a;let o=await((a=this.tool.getSelection())==null?void 0:a.duplicateSelectedObjects());o&&this.editor.dispatch(o)},enabled:this.hasSelectionValue},{icon:()=>i.makeResizeImageToSelectionIcon(),label:this.localizationTable.resizeImageToSelection,onCreated:o=>{n==null||n.registerTextHelpForElement(o,this.localizationTable.selectionDropdown__resizeToHelpText)},onClick:()=>{this.resizeImageToSelection()},enabled:this.hasSelectionValue}],3).container}}fillDropdown(n,i){super.fillDropdown(n,i);let o=document.createElement("div");o.classList.add(`${Pt}nonbutton-controls-main-list`),n.appendChild(o),v9().addTo(o);let a=this.createSelectionActions(i);o.appendChild(a.container),v9(this.localizationTable.reformatSelection).addTo(o);let s=cqe(this.editor,this.tool,this.localizationTable);return s.addTo(o),this.updateFormatMenu=()=>s.update(),i&&s.registerHelpText(i),s.update(),!0}serializeState(){return{...super.serializeState(),selectionMode:this.tool.modeValue.get()}}deserializeFrom(n){super.deserializeFrom(n),Object.values(Sde).includes(n.selectionMode)&&this.tool.modeValue.set(n.selectionMode)}},Mc,hqe=(Mc=class extends hg{constructor(n,i,o){super(n,i,"text-tool-widget",o);oe(this,"updateDropdownInputs",null);this.tool=i,n.notifier.on(2,a=>{var s;a.kind===2&&a.tool===i&&(this.updateIcon(),(s=this.updateDropdownInputs)==null||s.call(this))})}getTitle(){return this.targetTool.description}createIcon(){let n=this.tool.getTextStyle();return this.editor.icons.makeTextIcon(n)}fillDropdown(n){var w;let i=document.createElement("div");i.classList.add(`${Pt}spacedList`,`${Pt}nonbutton-controls-main-list`);let o=document.createElement("div"),a=document.createElement("div"),s=document.createElement("div"),l=document.createElement("select"),c=document.createElement("label"),u=document.createElement("input"),d=document.createElement("label"),{input:h,container:f,setValue:m}=Rv(this.editor,k=>{this.tool.setColor(k)}),b=document.createElement("label"),g=new Set,v=k=>{let T=document.createElement("option");T.value=k,T.textContent=k,l.appendChild(T),g.add(k)};u.setAttribute("type","number"),u.min="1",u.max="128",c.innerText=this.localizationTable.fontLabel,b.innerText=this.localizationTable.colorLabel,d.innerText=this.localizationTable.textSize,h.id=`${Pt}-text-color-input-${Mc.idCounter++}`,b.setAttribute("for",h.id),u.id=`${Pt}-text-size-input-${Mc.idCounter++}`,d.setAttribute("for",u.id);let x=((w=this.editor.getCurrentSettings().text)==null?void 0:w.fonts)??[];for(let k of x)v(k);return l.classList.add("font-selector"),l.id=`${Pt}-text-font-input-${Mc.idCounter++}`,c.setAttribute("for",l.id),l.addEventListener("change",()=>{this.tool.setFontFamily(l.value)}),u.addEventListener("change",()=>{let k=Number.parseInt(u.value);!isNaN(k)&&k>0&&this.tool.setFontSize(k)}),a.appendChild(b),a.appendChild(f),o.appendChild(c),o.appendChild(l),s.appendChild(d),s.appendChild(u),this.updateDropdownInputs=()=>{let k=this.tool.getTextStyle();m(k.renderingStyle.fill),g.has(k.fontFamily)||v(k.fontFamily),l.value=k.fontFamily,u.value=`${k.size}`},this.updateDropdownInputs(),i.replaceChildren(a,s,o),n.appendChild(i),!0}serializeState(){let n=this.tool.getTextStyle();return{...super.serializeState(),fontFamily:n.fontFamily,textSize:n.size,color:n.renderingStyle.fill.toHexString()}}deserializeFrom(n){n.fontFamily&&typeof n.fontFamily=="string"&&this.tool.setFontFamily(n.fontFamily),n.color&&typeof n.color=="string"&&this.tool.setColor(mt.fromHex(n.color)),n.textSize&&typeof n.textSize=="number"&&this.tool.setFontSize(n.textSize),super.deserializeFrom(n)}},oe(Mc,"idCounter",0),Mc),k9=class extends Uo{constructor(n,i,o){super(n.notifier,i);oe(this,"builder",null);oe(this,"lastPoint",null);oe(this,"startPoint",null);oe(this,"currentDeviceType",null);oe(this,"currentPointerId",null);oe(this,"styleValue");oe(this,"style");oe(this,"shapeAutocompletionEnabled",!1);oe(this,"pressureSensitivityEnabled",!0);oe(this,"autocorrectedShape",null);oe(this,"lastAutocorrectedShape",null);oe(this,"removedAutocorrectedShapeTime",0);oe(this,"stationaryDetector",null);this.editor=n,this.styleValue=po.fromInitialValue({factory:I0,color:mt.blue,thickness:1.5,...o}),this.styleValue.onUpdateAndNow(a=>{this.style=a,this.noteUpdated()})}getPressureMultiplier(){let n=this.style.thickness;return 1/this.editor.viewport.getScaleFactor()*n}toStrokePoint(n){let i=Math.max(n.pressure??1,.3);isFinite(i)||(console.warn("Non-finite pressure!",n),i=.3),console.assert(isFinite(n.canvasPos.length()),"Non-finite canvas position!"),console.assert(isFinite(n.screenPos.length()),"Non-finite screen position!"),console.assert(isFinite(n.timeStamp),"Non-finite timeStamp on pointer!");let o=n.canvasPos;return this.getPressureSensitivityEnabled()||(i=.5),{pos:o,width:i*this.getPressureMultiplier(),color:this.style.color,time:n.timeStamp}}setPressureSensitivityEnabled(n){n!==this.pressureSensitivityEnabled&&(this.pressureSensitivityEnabled=n,this.noteUpdated())}getPressureSensitivityEnabled(){return this.pressureSensitivityEnabled}previewStroke(){var i;this.editor.clearWetInk();let n=this.editor.display.getWetInkRenderer();if(this.autocorrectedShape){let o=this.editor.viewport.visibleRect;this.autocorrectedShape.render(n,o)}else(i=this.builder)==null||i.preview(n)}addPointToStroke(n){if(!this.builder)throw new Error("No stroke is currently being generated.");this.builder.addPoint(n),this.lastPoint=n,this.previewStroke()}onPointerDown(n){if(this.builder&&!this.eventCanCancelStroke(n))return!0;let{current:i,allPointers:o}=n,a=i.device===1,s=i.device===0;return o.length===1&&!a||s?(this.startPoint=this.toStrokePoint(i),this.builder=this.style.factory(this.startPoint,this.editor.viewport),this.currentDeviceType=i.device,this.currentPointerId=i.id,this.shapeAutocompletionEnabled?this.stationaryDetector=new KO(i,GO,l=>this.autocorrectShape(l)):this.stationaryDetector=null,this.lastAutocorrectedShape=null,this.removedAutocorrectedShapeTime=0,!0):!1}eventCanCancelStroke(n){var s;let i=((s=this.lastPoint)==null?void 0:s.time)??0;if(n.current.timeStamp-i>1e3)return!0;let o=this.currentDeviceType===0,a=n.current.device===2;return!(o&&a)}eventCanBeDeliveredToNonActiveTool(n){return this.eventCanCancelStroke(n)}onPointerMove({current:n}){var i;!this.builder||n.device!==this.currentDeviceType||n.id!==this.currentPointerId||(i=this.stationaryDetector)!=null&&i.onPointerMove(n)||(this.addPointToStroke(this.toStrokePoint(n)),this.autocorrectedShape&&(this.removedAutocorrectedShapeTime=performance.now(),this.autocorrectedShape=null,this.editor.announceForAccessibility(this.editor.localization.autocorrectionCanceled)))}onPointerUp({current:n}){var a,s;if(!this.builder)return!1;if(n.id!==this.currentPointerId)return!0;(a=this.stationaryDetector)==null||a.onPointerUp(n);let i=this.toStrokePoint(n),o={...i,width:((s=this.lastPoint)==null?void 0:s.width)??i.width};return this.addPointToStroke(o),this.finalizeStroke(),!1}onGestureCancel(){var n;this.builder=null,this.editor.clearWetInk(),(n=this.stationaryDetector)==null||n.destroy(),this.stationaryDetector=null}removedAutocorrectedShapeRecently(){return this.removedAutocorrectedShapeTime>performance.now()-320}async autocorrectShape(n){if(!this.builder||!this.builder.autocorrectShape||!this.shapeAutocompletionEnabled||this.autocorrectedShape)return;let i=await this.builder.autocorrectShape();if(!this.builder||!i)return;let o=i.getBBox().area;if(o===0||!isFinite(o))return;let a=i.description(this.editor.localization);this.editor.announceForAccessibility(this.editor.localization.autocorrectedTo(a)),this.autocorrectedShape=i,this.lastAutocorrectedShape=i,this.previewStroke()}finalizeStroke(){var n;if(this.builder){this.lastAutocorrectedShape&&this.removedAutocorrectedShapeRecently()&&(this.autocorrectedShape=this.lastAutocorrectedShape);let i=this.autocorrectedShape??this.builder.build();if(this.previewStroke(),i.getBBox().area>0){i===this.autocorrectedShape&&this.editor.announceForAccessibility(this.editor.localization.autocorrectedTo(i.description(this.editor.localization)));let o=ca.addComponent(i,!0);this.editor.dispatch(o)}else console.warn("Pen: Not adding empty stroke",i,"to the canvas.")}this.builder=null,this.lastPoint=null,this.autocorrectedShape=null,this.lastAutocorrectedShape=null,this.editor.clearWetInk(),(n=this.stationaryDetector)==null||n.destroy(),this.stationaryDetector=null}noteUpdated(){this.editor.notifier.dispatch(2,{kind:2,tool:this})}setColor(n){n.toHexString()!==this.style.color.toHexString()&&this.styleValue.set({...this.style,color:n})}setThickness(n){n!==this.style.thickness&&this.styleValue.set({...this.style,thickness:n})}setStrokeFactory(n){n!==this.style.factory&&this.styleValue.set({...this.style,factory:n})}setHasStabilization(n){let i=!!this.getInputMapper();n!==i&&(i?this.setInputMapper(null):this.setInputMapper(new Hue(this.editor.viewport)),this.noteUpdated())}setStrokeAutocorrectEnabled(n){n!==this.shapeAutocompletionEnabled&&(this.shapeAutocompletionEnabled=n,this.noteUpdated())}getStrokeAutocorrectionEnabled(){return this.shapeAutocompletionEnabled}getThickness(){return this.style.thickness}getColor(){return this.style.color}getStrokeFactory(){return this.style.factory}getStyleValue(){return this.styleValue}onKeyPress(n){let i=this.editor.shortcuts,o=i.matchesShortcut(YS,n);if(this.builder&&o)return this.finalizeStroke(),!1;let a;return i.matchesShortcut(JS,n)?a=this.getThickness()*2/3:i.matchesShortcut(ZS,n)&&(a=this.getThickness()*3/2),a!==void 0?(a=Math.min(Math.max(1,a),256),this.setThickness(a),!0):!1}},jq="textEditorOverlay",YO=class extends Uo{constructor(n,i,o){var s;super(n.notifier,i);oe(this,"textStyleValue");oe(this,"textStyle");oe(this,"anchorControl");oe(this,"contentTransform");oe(this,"textEditOverlay");oe(this,"textInputElem",null);oe(this,"textMeasuringCtx",null);oe(this,"removeExistingCommand",null);this.editor=n,this.localizationTable=o;let a=((s=n.getCurrentSettings().text)==null?void 0:s.fonts)??[];this.textStyleValue=po.fromInitialValue({size:32,fontFamily:a.length>0?a[0]:"sans-serif",renderingStyle:{fill:mt.black}}),this.textStyleValue.onUpdateAndNow(()=>{this.textStyle=this.textStyleValue.get(),this.updateTextInput(),this.editor.notifier.dispatch(2,{kind:2,tool:this})}),this.contentTransform=po.fromInitialValue(ut.identity),this.textEditOverlay=document.createElement("div"),this.textEditOverlay.classList.add(jq),this.editor.addStyleSheet(`
			.${jq} textarea {
				background-color: rgba(0, 0, 0, 0.1);

				white-space: pre;
				overflow: hidden;

				padding: 8px;
				margin: 0;

				min-width: 100px;
				min-height: 1.1em;
        border: 1px solid black;
        border-radius: 6px;
			}
		`),this.anchorControl=this.editor.anchorElementToCanvas(this.textEditOverlay,this.contentTransform)}initTextMeasuringCanvas(){this.textMeasuringCtx??(this.textMeasuringCtx=document.createElement("canvas").getContext("2d"))}getTextAscent(n,i){if(this.initTextMeasuringCanvas(),this.textMeasuringCtx){this.textMeasuringCtx.textBaseline="alphabetic",Uc.applyTextStyles(this.textMeasuringCtx,i);let o=this.textMeasuringCtx.measureText(n);return o.fontBoundingBoxAscent??o.actualBoundingBoxAscent}return i.size*2/3}flushInput(n=!0){if(!this.textInputElem)return;let i=this.textEditOverlay.parentElement,o=He.of((i==null?void 0:i.scrollLeft)??0,(i==null?void 0:i.scrollTop)??0),a=this.textInputElem.value.trimEnd();if(this.textInputElem.value="",n){let s=this.textInputElem;this.textInputElem=null,s.remove()}if(a!==""){let s=o.times(-1),l=this.editor.viewport.screenToCanvasTransform.transformVec3(s),c=ut.translation(l),u=Uc.fromLines(a.split(`
`),c.rightMul(this.contentTransform.get()),this.textStyle),d=ca.addComponent(u);this.removeExistingCommand?(this.removeExistingCommand.unapply(this.editor),this.editor.dispatch(zd([this.removeExistingCommand,d])),this.removeExistingCommand=null):this.editor.dispatch(d)}}updateTextInput(){if(!this.textInputElem)return;this.textInputElem.placeholder=this.localizationTable.enterTextToInsert,this.textInputElem.style.fontFamily=this.textStyle.fontFamily,this.textInputElem.style.fontStyle=this.textStyle.fontStyle??"",this.textInputElem.style.fontVariant=this.textStyle.fontVariant??"",this.textInputElem.style.fontWeight=this.textStyle.fontWeight??"",this.textInputElem.style.fontSize=`${this.textStyle.size}px`,this.textInputElem.style.color=this.textStyle.renderingStyle.fill.toHexString(),this.textInputElem.style.margin="0",this.textInputElem.style.width=`${this.textInputElem.scrollWidth}px`,this.textInputElem.style.height=`${this.textInputElem.scrollHeight}px`;let n=this.getTextAscent("Testing!",this.textStyle);this.textInputElem.style.transform=`translate(0, ${-n}px)`,this.textInputElem.style.transformOrigin="top left";let i=Math.floor(this.textStyle.size);this.textInputElem.style.lineHeight=`${i}px`}startTextInput(n,i){this.flushInput(),this.textInputElem=document.createElement("textarea"),this.textInputElem.value=i,this.textInputElem.style.display="inline-block";let o=this.editor.viewport.roundPoint(n),a=-this.editor.viewport.getRotationAngle(),s=He.of(1,1).times(this.editor.viewport.getSizeOfPixelOnCanvas());this.contentTransform.set(ut.translation(o).rightMul(ut.zRotation(a)).rightMul(ut.scaling2D(s))),this.updateTextInput(),setTimeout(()=>this.updateTextInput(),0),this.textInputElem.addEventListener("input",()=>{this.textInputElem&&(this.textInputElem.style.width=`${this.textInputElem.scrollWidth}px`,this.textInputElem.style.height=`${this.textInputElem.scrollHeight}px`)}),this.textInputElem.addEventListener("blur",()=>{let l=this.textInputElem;this.flushInput(!1),this.textInputElem=null,l&&l.classList.add("-hiding"),setTimeout(()=>{l==null||l.remove()},0)}),this.textInputElem.addEventListener("keyup",l=>{var c,u;l.isComposing||(l.key==="Enter"&&!l.shiftKey?(this.flushInput(),this.editor.focus()):l.key==="Escape"&&((c=this.textInputElem)==null||c.remove(),this.textInputElem=null,this.editor.focus(),(u=this.removeExistingCommand)==null||u.unapply(this.editor),this.removeExistingCommand=null))}),this.textEditOverlay.replaceChildren(this.textInputElem),setTimeout(()=>{var l;return(l=this.textInputElem)==null?void 0:l.focus()},0)}setEnabled(n){super.setEnabled(n),this.isEnabled()||this.flushInput(),this.textEditOverlay.style.display=n?"block":"none"}onPointerDown({current:n,allPointers:i}){if(n.device===1)return!1;if(i.length===1){let o=n.canvasPos,a=He.of(4,4).times(this.editor.viewport.getSizeOfPixelOnCanvas()),s=Lt.fromCorners(o.minus(a),o.plus(a)),l=this.editor.image.getComponentsIntersecting(s).filter(u=>u instanceof Uc),c=this.editor.viewport.visibleRect;if(l=l.filter(u=>!u.getBBox().containsRect(c)),this.flushInput(),l.length>0){let u=l[l.length-1];this.setTextStyle(u.getTextStyle()),this.removeExistingCommand=new ul([u]),this.removeExistingCommand.apply(this.editor),this.startTextInput(u.getBaselinePos(),u.getText()),this.contentTransform.set(u.getTransform()),this.updateTextInput()}else this.removeExistingCommand=null,this.startTextInput(n.canvasPos,"");return!0}return!1}onGestureCancel(){this.flushInput(),this.editor.focus()}setFontFamily(n){n!==this.textStyle.fontFamily&&this.textStyleValue.set({...this.textStyle,fontFamily:n})}setColor(n){n.eq(this.textStyle.renderingStyle.fill)||this.textStyleValue.set({...this.textStyle,renderingStyle:{...this.textStyle.renderingStyle,fill:n}})}setFontSize(n){n!==this.textStyle.size&&this.textStyleValue.set({...this.textStyle,size:n})}getTextStyle(){return this.textStyle}getStyleValue(){return this.textStyleValue}setTextStyle(n){this.textStyleValue.set(n)}onDestroy(){super.onDestroy(),this.anchorControl.remove()}},xc,ta,Ts,w0,Lde=(Ts=class{constructor(e,n){Gn(this,xc,[]);Gn(this,ta,{});oe(this,"widgetList",[]);Gn(this,w0,null);oe(this,"localizationTable");oe(this,"closeColorPickerOverlay",null);this.editor=e,this.localizationTable=n??e.localization,Ts.colorisStarted||(Ts.colorisStarted=!0),this.setupColorPickers()}setupCloseColorPickerOverlay(){this.closeColorPickerOverlay||(this.closeColorPickerOverlay=document.createElement("div"),this.closeColorPickerOverlay.className=`${Pt}closeColorPickerOverlay`,this.editor.createHTMLOverlay(this.closeColorPickerOverlay),Tt(this,xc).push(this.editor.handlePointerEventsExceptClicksFrom(this.closeColorPickerOverlay,e=>(e==="pointerup"&&this.editor.focus(),!0))))}setupColorPickers(){if(Tt(this,w0)){Tt(this,w0).call(this);return}this.setupCloseColorPickerOverlay();let e=12,n=[mt.red.toHexString(),mt.purple.toHexString(),mt.blue.toHexString(),mt.clay.toHexString(),mt.black.toHexString(),mt.white.toHexString()],i=n.length,o=()=>{};xn(this,w0,o);let a=s=>{let l=!1;for(let c of n)c===s&&(l=!0);l||(n.push(s),n.length>e&&n.splice(i,1),o())};Tt(this,xc).push(this.editor.notifier.on(11,s=>{s.kind===11&&this.closeColorPickerOverlay&&(this.closeColorPickerOverlay.style.display=s.open?"block":"none")})),Tt(this,xc).push(this.editor.notifier.on(12,s=>{s.kind===12&&a(s.color.toHexString())}))}closeColorPickers(){}getWidgetUniqueId(e){return e.getUniqueIdIn(Tt(this,ta))}getWidgetFromId(e){return Tt(this,ta)[e]}getAllWidgets(){return this.widgetList}addWidget(e){let n=e.getUniqueIdIn(Tt(this,ta));Tt(this,ta)[n]=e,this.widgetList.push(e),this.addWidgetInternal(e),this.setupColorPickers()}removeWidget(e){let n=e.getUniqueIdIn(Tt(this,ta));this.removeWidgetInternal(e),delete Tt(this,ta)[n],this.widgetList=this.widgetList.filter(i=>i!==e)}serializeState(){let e={};for(let n in Tt(this,ta))e[n]=Tt(this,ta)[n].serializeState();return e[Ts.rootToolbarId]=this.serializeInternal(),JSON.stringify(e)}deserializeState(e){let n=JSON.parse(e);xue(n),ZHe(n);let i=Ts.rootToolbarId;i in n&&typeof n[i]<"u"&&this.deserializeInternal(n[i]);for(let o in n)if(o!==i){if(!(o in Tt(this,ta))){console.warn(`Unable to deserialize widget ${o}  no such widget.`);continue}typeof n[o]=="object"&&n[o]&&Tt(this,ta)[o].deserializeFrom(n[o])}}serializeInternal(){}deserializeInternal(e){}makeActionButton(e,n,i=!0){typeof i=="boolean"&&(i={mustBeToplevel:i});let o=i.mustBeToplevel??!0,a=i.autoDisableInReadOnlyEditors??!0,s=typeof e=="string"?e:e.label,l="action-button",c=()=>typeof e=="string"?null:e.icon;return new XO(this.editor,l,c,s,n,this.editor.localization,o,a)}addActionButton(e,n,i=!0){let o=this.makeActionButton(e,n,i);return this.addWidget(o),o}addTaggedActionButton(e,n,i,o=!0){let a=this.makeActionButton(n,i,o);return a.setTags(e),this.addWidget(a),a}addSaveButton(e,n={}){let i=new PVe(this.editor,this.localizationTable,e,n);return this.addWidget(i),i}addExitButton(e,n={}){let i=new EVe(this.editor,this.localizationTable,e,n);return this.addWidget(i),i}addUndoRedoButtons(e=!0){let n=()=>this.addTaggedActionButton(["undo"],{label:this.localizationTable.undo,icon:this.editor.icons.makeUndoIcon()},()=>{this.editor.history.undo()}),i=()=>this.addTaggedActionButton(["redo"],{label:this.localizationTable.redo,icon:this.editor.icons.makeRedoIcon()},()=>{this.editor.history.redo()}),o,a;e?(o=n(),a=i()):(a=i(),o=n()),o.setDisabled(!0),a.setDisabled(!0),this.editor.notifier.on(3,s=>{if(s.kind!==3)throw new Error("Wrong event type!");o.setDisabled(s.undoStackSize===0),a.setDisabled(s.redoStackSize===0)})}addWidgetsForPrimaryTools(e){for(let n of this.editor.toolController.getPrimaryTools())if(!(e&&!(e!=null&&e(n))))if(n instanceof k9){let i=new NVe(this.editor,n,this.localizationTable);this.addWidget(i)}else if(n instanceof fde){let i=new fVe(this.editor,n,this.localizationTable);this.addWidget(i)}else n instanceof xde?this.addWidget(new kVe(this.editor,n,this.localizationTable)):n instanceof e6?this.addWidget(new dqe(this.editor,n,this.localizationTable)):n instanceof YO?this.addWidget(new hqe(this.editor,n,this.localizationTable)):n instanceof a0&&this.addWidget(new MVe(this.editor,n,this.localizationTable))}addDefaultToolWidgets(){this.addWidgetsForPrimaryTools(),this.addDefaultEditorControlWidgets()}addDefaultEditorControlWidgets(){this.addWidget(new wVe(this.editor,this.localizationTable))}addDefaultActionButtons(){this.addUndoRedoButtons()}remove(){var e;(e=this.closeColorPickerOverlay)==null||e.remove();for(let n of Tt(this,xc))n.remove();xn(this,xc,[]),this.onRemove();for(let n of this.widgetList)n.remove()}manageListener(e){Tt(this,xc).push(e)}},xc=new WeakMap,ta=new WeakMap,w0=new WeakMap,oe(Ts,"colorisStarted",!1),oe(Ts,"rootToolbarId","root-toolbar--"),Ts);function fqe(r){return r instanceof Br?new class extends Br{constructor(){super(...arguments);oe(this,"_command",r)}serializeToJSON(){return r.serialize()}apply(n){r.unapply(n)}unapply(n){r.apply(n)}onDrop(n){r.onDrop(n)}description(n,i){return i.inverseOf(r.description(n,i))}}("inverse"):new class extends Mv{apply(e){r.unapply(e)}unapply(e){r.apply(e)}onDrop(e){r.onDrop(e)}description(e,n){return n.inverseOf(r.description(e,n))}}}Br.register("inverse",(r,e)=>fqe(Br.deserialize(r,e)));var Fq="find-tool",pqe=class extends Uo{constructor(n){super(n.notifier,n.localization.findLabel);oe(this,"overlay");oe(this,"searchInput");oe(this,"currentMatchIdx",0);this.editor=n,this.overlay=document.createElement("div"),this.fillOverlay(),n.createHTMLOverlay(this.overlay),this.overlay.style.display="none",this.overlay.classList.add(`${Fq}-overlay`)}canReceiveInputInReadOnlyEditor(){return!0}getMatches(n){let i=n.toLocaleLowerCase();return this.editor.image.getAllComponents().filter(o=>{let a="";if(o instanceof Uc)a=o.getText();else if(o instanceof Nv)a=o.getAltText()??"";else return!1;let s=a.toLocaleLowerCase().includes(i),l=a.includes(n);return s||l}).map(o=>o.getBBox())}focusCurrentMatch(){let n=this.getMatches(this.searchInput.value),i=this.currentMatchIdx%n.length;i<0&&(i=n.length+i),i<n.length&&(this.editor.dispatch(this.editor.viewport.zoomTo(n[i],!0,!0),!1),this.editor.announceForAccessibility(this.editor.localization.focusedFoundText(i+1,n.length)))}toNextMatch(){this.currentMatchIdx++,this.focusCurrentMatch()}toPrevMatch(){this.currentMatchIdx--,this.focusCurrentMatch()}fillOverlay(){let n=document.createElement("label");this.searchInput=document.createElement("input");let i=document.createElement("button"),o=document.createElement("button");this.searchInput.setAttribute("id",`${Fq}-searchInput-${Math.random()}`),n.htmlFor=this.searchInput.getAttribute("id"),n.innerText=this.editor.localization.findLabel,i.innerText=this.editor.localization.toNextMatch,o.innerText=this.editor.localization.closeDialog,this.searchInput.addEventListener("keydown",a=>{a.key==="Enter"?a.shiftKey?this.toPrevMatch():this.toNextMatch():a.key==="Escape"?this.setVisible(!1):this.editor.shortcuts.matchesShortcut(y9,a)&&(a.preventDefault(),this.toggleVisible())}),i.addEventListener("click",()=>{this.toNextMatch()}),o.addEventListener("click",()=>{this.setVisible(!1)}),this.overlay.replaceChildren(n,this.searchInput,i,o)}isVisible(){return this.overlay.style.display!=="none"}setVisible(n){n!==this.isVisible()&&(this.overlay.style.display=n?"block":"none",n?(this.searchInput.focus(),this.editor.announceForAccessibility(this.editor.localization.findDialogShown)):(this.editor.focus(),this.editor.announceForAccessibility(this.editor.localization.findDialogHidden)))}toggleVisible(){this.setVisible(!this.isVisible())}onKeyPress(n){return this.editor.shortcuts.matchesShortcut(y9,n)?(this.toggleVisible(),!0):!1}setEnabled(n){super.setEnabled(n),this.isEnabled()&&this.setVisible(!1)}},kf,hd,pee,mqe=(pee=class extends XS{constructor(){super(...arguments);Gn(this,kf,null);Gn(this,hd,null)}onEvent(n){return Tt(this,kf)===null?this.emit(n):Tt(this,kf).onEvent(n)}addToTail(n){Tt(this,hd)?(Tt(this,hd).setEmitListener(n),xn(this,hd,n)):(xn(this,kf,n),xn(this,hd,Tt(this,kf))),Tt(this,hd).setEmitListener(i=>this.emit(i))}},kf=new WeakMap,hd=new WeakMap,pee),gqe=class extends Uo{constructor(e){super(e.notifier,e.localization.pasteHandler),this.editor=e}onPaste(e,n){let i=e.mime.toLowerCase(),o=(()=>{if(i==="image/svg+xml")return e.data;if(i==="text/plain"){let s=e.data.trim();if(s.startsWith("<svg")&&s.endsWith("</svg>"))return s}if(i!=="text/html"||!e.data.match(/^[^]{0,200}<svg.*/i))return!1;let a=e.data.toLowerCase().lastIndexOf("</svg>");return a===-1&&(a=e.data.length),e.data.substring(e.data.search(/<svg/i),a)})();return o?(this.doSVGPaste(o).then(n),!0):i==="text/plain"?(this.doTextPaste(e.data).then(n),!0):i==="image/png"||i==="image/jpeg"?(this.doImagePaste(e.data).then(n),!0):!1}async addComponentsFromPaste(e){await this.editor.addAndCenterComponents(e,!0,this.editor.localization.pasted(e.length))}async doSVGPaste(e){var n;this.editor.showLoadingWarning(0);try{let i=Ide.fromString(e,{sanitize:!0,plugins:((n=this.editor.getCurrentSettings().svg)==null?void 0:n.loaderPlugins)??[]}),o=[];await i.start(a=>{o.push(a)},(a,s)=>null),await this.addComponentsFromPaste(o)}finally{this.editor.hideLoadingWarning()}}async doTextPaste(e){var s;let n=this.editor.toolController.getMatchingTools(YO);n.sort((l,c)=>!l.isEnabled()&&c.isEnabled()?-1:!c.isEnabled()&&l.isEnabled()?1:0);let i={size:12,fontFamily:"sans",renderingStyle:{fill:mt.red}},o=((s=n[0])==null?void 0:s.getTextStyle())??i;if(e.trim()==="")return;let a=e.split(`
`);await this.addComponentsFromPaste([Uc.fromLines(a,ut.identity,o)])}async doImagePaste(e){let n=new Image;n.src=e;let i=await Nv.fromImage(n,ut.identity);await this.addComponentsFromPaste([i])}},yqe=class extends Uo{constructor(e){super(e.notifier,e.localization.selectAllTool),this.editor=e}canReceiveInputInReadOnlyEditor(){return!0}onKeyPress(e){if(this.editor.shortcuts.matchesShortcut(g3,e)){let n=this.editor.toolController.getMatchingTools(e6);if(n.length>0){let i=n[0];return i.setEnabled(!0),i.setSelection(this.editor.image.getAllComponents()),!0}}return!1}},Hq=class{constructor(){oe(this,"activeTool")}notifyEnabled(e){var n;e!==this.activeTool&&((n=this.activeTool)==null||n.setEnabled(!1),this.activeTool=e)}setEnabled(e){var n,i;e!==this.activeTool||!this.activeTool?((n=this.activeTool)==null||n.setEnabled(!1),e.setEnabled(!0),this.activeTool=e):((i=this.activeTool)==null||i.setEnabled(!1),e.setEnabled(!1),this.activeTool=null)}},bqe=class extends Uo{constructor(e){super(e.notifier,e.localization.changeTool),this.editor=e}canReceiveInputInReadOnlyEditor(){return!0}onKeyPress({key:e}){let n=this.editor.toolController.getPrimaryTools(),i=/^\d$/.exec(e),o;if(i){let a=Number.parseInt(i[0],10)-1;o=n[a]}return o?(o.setEnabled(!0),!0):!1}},vqe=class extends Uo{constructor(e){super(e.notifier,e.localization.undoRedoTool),this.editor=e}onKeyPress(e){return this.editor.shortcuts.matchesShortcut(YS,e)?(this.editor.history.undo(),!0):this.editor.shortcuts.matchesShortcut(rde,e)?(this.editor.history.redo(),!0):!1}},xqe=class{constructor(e,n){oe(this,"tools");oe(this,"activeTool",null);oe(this,"primaryToolGroup");oe(this,"inputPipeline");oe(this,"isEditorReadOnly");this.isEditorReadOnly=e.isReadOnlyReactiveValue(),this.inputPipeline=new mqe,this.inputPipeline.setEmitListener(h=>this.onEventInternal(h));let i=new Hq;this.primaryToolGroup=i;let o=new a0(e,6,n.touchPanTool),a=new a0(e,16,n.keyboardPanZoom),s=new k9(e,n.penTool(1),{color:mt.black,thickness:1.5}),l=new fde(e,n.penTool(3),{color:mt.black,borderColor:mt.black,thickness:0}),c=new xde(e,n.eraserTool),u=[new e6(e,n.selectionTool),new YO(e,n.textTool,n),s,new k9(e,n.penTool(2),{color:mt.blackHighlight,thickness:40,factory:m3}),c,l];l.setEnabled(!1);let d=[o,a,new a0(e,8,n.anyDevicePanning)];this.tools=[...u,new vqe(e),new Nue(e),new bqe(e),c.makeEraserSwitcherTool(),new pqe(e),new gqe(e),new yqe(e)],e.getCurrentSettings().disableZoom||this.tools.push(...d),u.forEach(h=>h.setToolGroup(i)),o.setEnabled(!0),s.setEnabled(!0),e.notifier.on(0,h=>{h.kind===0&&e.announceForAccessibility(n.toolEnabledAnnouncement(h.tool.description))}),e.notifier.on(1,h=>{h.kind===1&&e.announceForAccessibility(n.toolDisabledAnnouncement(h.tool.description))}),this.activeTool=null}setTools(e,n){this.tools=e,this.primaryToolGroup=n??new Hq}addPrimaryTool(e){e.setToolGroup(this.primaryToolGroup),e.isEnabled()&&this.primaryToolGroup.notifyEnabled(e),this.tools.includes(e)||this.addTool(e)}getPrimaryTools(){return this.tools.filter(e=>e.getToolGroup()===this.primaryToolGroup)}setToolEnabled(e){this.primaryToolGroup.setEnabled(e)}addTool(e,n){this.tools.includes(e)||(n!=null&&n.addToFront?this.tools.splice(0,0,e):this.tools.push(e))}removeAndDestroyTools(e){let n=[];for(let i of this.tools)e.includes(i)?(this.activeTool===i&&(this.activeTool=null),i.onDestroy()):n.push(i);this.tools=n}insertTools(e,n,i){this.tools=this.tools.filter(a=>!n.includes(a));let o=[];for(let a of this.tools)i==="after"&&o.push(a),a===e&&o.push(...n),i==="before"&&o.push(a);this.tools=o}insertToolsAfter(e,n){this.insertTools(e,n,"after")}insertToolsBefore(e,n){this.insertTools(e,n,"before")}onEventInternal(e){var a,s;let n=this.isEditorReadOnly.get(),i=l=>l.isEnabled()&&(!n||l.canReceiveInputInReadOnlyEditor()),o=!1;if(e.kind===0){let l=!1;this.activeTool&&!this.activeTool.eventCanBeDeliveredToNonActiveTool(e)&&(l=!0);for(let c of this.tools)if(!(l&&c!==this.activeTool)&&i(c)&&c.onEvent(e)){this.activeTool!==c&&((a=this.activeTool)==null||a.onEvent({kind:3})),this.activeTool=c,o=!0;break}}else if(e.kind===2)(s=this.activeTool)!=null&&s.onEvent(e)&&e.allPointers.length>1||(this.activeTool=null),o=!0;else if(e.kind===1)this.activeTool!==null&&(this.activeTool.onEvent(e),o=!0);else if(e.kind===3)this.activeTool!==null&&(this.activeTool.onEvent(e),this.activeTool=null);else for(let l of this.tools)if(i(l)&&(o=l.onEvent(e),o))break;return o}onEvent(e){return this.dispatchInputEvent(e)}dispatchInputEvent(e){return this.inputPipeline.onEvent(e)}addInputMapper(e){this.inputPipeline.addToTail(e)}getMatchingTools(e){return this.tools.filter(n=>n instanceof e)}onEditorDestroyed(){for(let e of this.tools)e.onDestroy()}};function wqe(r,e,n="html"){let i;if(n==="html")i=document.createElement(r);else if(n==="svg")i=document.createElementNS("http://www.w3.org/2000/svg",r);else throw new Error(`Unknown element type ${n}`);for(let[o,a]of Object.entries(e))if(o!=="children"){if(typeof a!="string"&&typeof a!="number")throw new TypeError(`Unsupported value type ${typeof a}`);i.setAttribute(o,a.toString())}if(e.children)for(let o of e.children)i.appendChild(o);return i}function bc(r,e){return wqe(r,e,"svg")}function ZO(r,e){return e.map(n=>bc(r,n))}function r7(...r){return ZO("path",r)}var qr="http://www.w3.org/2000/svg",Sqe=0;function Xw(){let r=`checkerboard-${Sqe++}`,e=bc("pattern",{id:r,viewBox:"0,0,10,10",width:"20%",height:"20%",patternUnits:"userSpaceOnUse",children:ZO("rect",[{x:0,y:0,width:10,height:10,fill:"white"},{x:0,y:0,width:5,height:5,fill:"gray"},{x:5,y:5,width:5,height:5,fill:"gray"}])}),n=`url(#${r})`;return{patternDefElement:e,get patternDef(){return e.innerHTML},patternRef:n}}function Wq(r){let e=document.createElementNS(qr,"svg");e.innerHTML=`
		<style>
			.toolbar-svg-undo-redo-icon {
				stroke: var(--icon-color);
				stroke-width: 12;
				stroke-linejoin: round;
				stroke-linecap: round;
				fill: none;

				transform-origin: center;
			}
		</style>
	`;let n=document.createElementNS(qr,"path");return n.setAttribute("d","M20,20 A15,15 0 0 1 70,80 L80,90 L60,70 L65,90 L87,90 L65,80"),n.classList.add("toolbar-svg-undo-redo-icon"),r&&(n.style.transform="scale(-1, 1)"),e.appendChild(n),e.setAttribute("viewBox","0 0 100 100"),e}var Yb,T9,mee,kqe=(mee=class{constructor(){Gn(this,Yb)}makeUndoIcon(){return Wq(!0)}makeRedoIcon(){return Wq(!1)}makeDropdownIcon(){let e=this.makeIconFromPath("M5,10 L50,90 L95,10 Z");return e.setAttribute("viewBox","-10 -10 110 110"),e}makeEraserIcon(e,n){e??(e=10);let i=e/4,o="#ff70af";return bc("svg",{viewBox:"0 0 120 120",children:[bc("defs",{children:[bc("linearGradient",{id:"dash-pattern",children:ZO("stop",[{offset:"80%","stop-color":o},{offset:"85%","stop-color":"white"},{offset:"90%","stop-color":o}])})]}),bc("path",{fill:n==="partial-stroke"?"url(#dash-pattern)":o,stroke:"black",transform:"rotate(41.35)",d:`
						M 52.5 27
						C 50 28.9 48.9 31.7 48.9 34.8
						L 48.9 39.8
						C 48.9 45.3 53.4 49.8 58.9 49.8
						L 103.9 49.8
						C 105.8 49.8 107.6 49.2 109.1 48.3
						L 110.2 ${i+49.5} L 159.7 ${i+5}
						L 157.7 ${-i+5.2} L 112.4 ${49.5-i}
						C 113.4 43.5 113.9 41.7 113.9 39.8
						L 113.9 34.8
						C 113.9 29.3 109.4 24.8 103.9 24.8
						L 58.9 24.8
						C 56.5 24.8 54.3 25.7 52.5 27
						z
					`}),bc("rect",{stroke:"#cc8077",fill:"var(--icon-color)",width:65,height:75,x:48.9,y:-38.7,transform:"rotate(41.35)"})]})}makeSelectionIcon(e="rect"){let n=document.createElementNS(qr,"svg");return e==="rect"?n.innerHTML=`
			<g>
				<rect x="10" y="10" width="70" height="70" fill="pink" stroke="black" stroke-dasharray="32 9"/>
				<rect x="75" y="75" width="10" height="10" fill="white" stroke="black"/>
			</g>
			`:n.innerHTML=`
			<g>
				<rect x="10" y="10" width="76" height="76" rx="50" stroke-dasharray="32 9" fill="pink" stroke="black"/>
				<rect x="71" y="71" width="10" height="10" fill="white" stroke="black"/>
			</g>
			`,n.setAttribute("viewBox","0 0 100 100"),n}makeRotateIcon(){let e=document.createElementNS(qr,"svg");return e.innerHTML=`
			<defs>
				<marker
					id="arrow-marker"
					viewBox="0 0 10 10"
					refX="3" refY="5"
					markerWidth="3" markerHeight="3"
					orient="auto-start-reverse"
				>
					<path
						d="M0,0 L8,5 L0,10z"
						fill="var(--icon-color)"
					/>
				</marker>
			</defs>

			<path
				marker-start="url(#arrow-marker)"
				d="
					M20,20
					A30,30 0 1 1 80 80
				"
				fill="none"
				stroke="var(--icon-color)"
				stroke-width="12"
			/>
			<path
				d="
					M80,80
					A30,30 0 1 1 20 20
				"
				fill="none"
				stroke="var(--icon-color)"
				stroke-width="12"
				stroke-dasharray="30 10 20 10 20 10 10"
				style="stroke-linecap: butt;"
			/>
		`,e.setAttribute("viewBox","-5 -5 110 110"),e}makeHandToolIcon(){return this.makeIconFromPath(`
			m 10,60
				5,30
			H 90
			V 30
			C 90,20 75,20 75,30
			V 60
				20
			C 75,10 60,10 60,20
			V 60
				15
			C 60,5 45,5 45,15
			V 60
				25
			C 45,15 30,15 30,25
			V 60
				75
			L 25,60
			C 20,45 10,50 10,60
			Z
		`,"none","var(--icon-color)","3")}makeTouchPanningIcon(){return this.makeIconFromPath(`
			M 5,5.5
			V 17.2
			L 16.25,5.46
			Z

			m 33.75,0
			L 50,17
			V 5.5
			Z

			M 5,40.7
			v 11.7
			h 11.25
			z

			M 26,19
			C 19.8,19.4 17.65,30.4 21.9,34.8
			L 50,70
			H 27.5
			c -11.25,0 -11.25,17.6 0,17.6
			H 61.25
			C 94.9,87.8 95,87.6 95,40.7 78.125,23 67,29 55.6,46.5
			L 33.1,23
			C 30.3125,20.128192 27.9,19 25.830078,19.119756
			Z
		`,"none","var(--icon-color)","3")}makeAllDevicePanningIcon(){return this.makeIconFromPath(`
			M 5 5
			L 5 17.5
				17.5 5
				5 5
			z

			M 42.5 5
			L 55 17.5
				55 5
				42.5 5
			z

			M 70 10
			L 70 21
				61 15
				55.5 23
				66 30
				56 37
				61 45
				70 39
				70 50
				80 50
				80 39
				89 45
				95 36
				84 30
				95 23
				89 15
				80 21
				80 10
				70 10
			z

			M 27.5 26.25
			L 27.5 91.25
			L 43.75 83.125
			L 52 99
			L 68 91
			L 60 75
			L 76.25 66.875
			L 27.5 26.25
			z

			M 5 42.5
			L 5 55
			L 17.5 55
			L 5 42.5
			z
		`,"none","var(--icon-color)","3")}makeZoomIcon(){let e=document.createElementNS(qr,"svg");e.setAttribute("viewBox","0 0 100 100");let n=(i,o,a)=>{let s=document.createElementNS(qr,"text");s.appendChild(document.createTextNode(i)),s.setAttribute("x",o.toString()),s.setAttribute("y",a.toString()),s.style.textAlign="center",s.style.textAnchor="middle",s.style.fontSize="55px",s.style.fill="var(--icon-color)",s.style.fontFamily="monospace",e.appendChild(s)};return n("+",40,45),n("-",70,75),e}makeRotationLockIcon(){let e=this.makeIconFromPath(`
			M 40.1 25.1
			C 32.5 25 27.9 34.1 27.9 34.1
			L 25.7 30
			L 28 44.7
			L 36.6 40.3
			L 32.3 38.3
			C 33.6 28 38.1 25.2 45.1 31.8
			L 49.4 29.6
			C 45.9 26.3 42.8 25.1 40.1 25.1
			z

			M 51.7 34.2
			L 43.5 39.1
			L 48 40.8
			C 47.4 51.1 43.1 54.3 35.7 48.2
			L 31.6 50.7
			C 45.5 62.1 52.6 44.6 52.6 44.6
			L 55.1 48.6
			L 51.7 34.2
			z

			M 56.9 49.9
			C 49.8 49.9 49.2 57.3 49.3 60.9
			L 47.6 60.9
			L 47.6 73.7
			L 66.1 73.7
			L 66.1 60.9
			L 64.4 60.9
			C 64.5 57.3 63.9 49.9 56.9 49.9
			z

			M 56.9 53.5
			C 60.8 53.5 61 58.2 60.8 60.9
			L 52.9 60.9
			C 52.7 58.2 52.9 53.5 56.9 53.5
			z
		`);return e.setAttribute("viewBox","10 10 70 70"),e}makeInsertImageIcon(){return this.makeIconFromPath(`
			M 5 10 L 5 90 L 95 90 L 95 10 L 5 10 z
			M 10 15 L 90 15 L 90 50 L 70 75 L 40 50 L 10 75 L 10 15 z
			M 22.5 25 A 7.5 7.5 0 0 0 15 32.5 A 7.5 7.5 0 0 0 22.5 40 A 7.5 7.5 0 0 0 30 32.5 A 7.5 7.5 0 0 0 22.5 25 z
		`)}makeUploadFileIcon(){return this.makeIconFromPath(`
			M 48,10 32,34 43,33 42,68
			H 54
			L 53,33 64,34 Z

			M 8,66 V 86 H 88 V 66 H 78 V 76 H 18 V 66 Z
		`)}makeTextIcon(e){let n=document.createElementNS(qr,"svg");n.setAttribute("viewBox","0 0 100 100");let i=document.createElementNS(qr,"text");return i.appendChild(document.createTextNode("T")),i.style.fontFamily=e.fontFamily,i.style.fontWeight=e.fontWeight??"",i.style.fontVariant=e.fontVariant??"",i.style.fill=e.renderingStyle.fill.toHexString(),i.style.textAnchor="middle",i.setAttribute("x","50"),i.setAttribute("y","75"),i.style.fontSize="65px",i.style.filter="drop-shadow(0px 0px 10px var(--shadow-color))",n.appendChild(i),n}makePenIcon(e){let n=Math.round(Math.sqrt(e.thickness)*4),i=e.color,o=this.isRoundedTipPen(e),a=n/2,s=`
			M ${15-a},${80-a}
			  ${15-a},${80+a}
			  30,83
			  15,65
			Z
		`,l=80+a,c=`
			m ${15-a*1.1},${l}
			c 35,10 55,15 60,30
			l ${35+a*1.2},${-10-a}
			C 80.47,98.32 50.5,${90+a} 20,${l} Z
		`,u=`
			M 72.45,35.67
			A 10,15 41.8 0 1 55,40.2 10,15 41.8 0 1 57.55,22.3 10,15 41.8 0 1 75,17.8 10,15 41.8 0 1 72.5,35.67
			Z
		`,d="M 85,-25 25,35 h 10 v 10 h 10 v 10 h 10 v 10 h 10 l -5,10 60,-60 z",h="M 25,35 H 35 L 90,-15 85,-25 Z",f="M 60,75 65,65 H 55 l 55,-55 10,5 z";o&&(d="M 85,-25 25,35 c 15,0 40,30 35,40 l 60,-60 z",h="m 25,35 c 3.92361,0.384473 7.644275,0.980572 10,3 l 55,-53 -5,-10 z",f="M 60,75 C 61,66 59,65 56,59 l 54,-54 10,10 z");let m=`M 25,35 ${10-a/4},${70-a/2} 20,75 25,85 60,75 70,55 45,25 Z`,b=mt.fromHex("#f4d7d7").mix(i,a/40-.1).toHexString(),g=Xw(),v=i.toHexString(),x=r7({fill:g.patternRef,d:s},{fill:g.patternRef,d:c},{fill:v,d:s},{fill:v,d:c}),w=r7({fill:g.patternRef,d:m},{fill:b,stroke:v,d:m}),k=r7({fill:"var(--icon-color)",stroke:"var(--icon-color)",d},{fill:"rgba(150, 150, 150, 0.3)",d:h},{fill:"rgba(100, 100, 100, 0.2)",d:f},{fill:g.patternRef,d:u},{fill:v,d:u}),T=document.createElementNS(qr,"svg");T.setAttribute("viewBox","0 0 100 100");let _=bc("g",{children:[x,w,k].flat()}),D=bc("defs",{children:[g.patternDefElement]});return T.replaceChildren(D,_),T}makeIconFromFactory(e){let n=Math.sqrt(e.thickness)*3,i=performance.now(),o={pos:He.of(10,10),width:n,color:e.color,time:i-100},a={pos:He.of(90,90),width:n,color:e.color,time:i},s=new On(()=>{}),l=e.factory(o,s);l.addPoint(a);let c=document.createElementNS(qr,"svg");c.setAttribute("viewBox","0 0 100 100"),s.updateScreenSize(He.of(100,100));let u;if(e.color.a<1){let h=Xw(),f=document.createElementNS(qr,"defs");f.appendChild(h.patternDefElement),c.appendChild(f);let m=document.createElementNS(qr,"g");c.appendChild(m),u=new class extends z0{constructor(){super(c,s)}addPathToSVG(){let b=super.addPathToSVG();if(b){let g=b.cloneNode(!0);g.style.zIndex="-1",g.hasAttribute("stroke")?g.setAttribute("stroke",h.patternRef):g.hasAttribute("fill")&&g.setAttribute("fill",h.patternRef),m.appendChild(g)}return b}}}else u=new z0(c,s);l.preview(u);let d=l.getBBox();return c.setAttribute("viewBox",`${d.x} ${d.y} ${d.w} ${d.h}`),c}makePipetteIcon(e){let n=document.createElementNS(qr,"svg"),i=document.createElementNS(qr,"g");i.style.rotate="45deg",i.style.transformOrigin="center";let o=document.createElementNS(qr,"g");if(o.innerHTML=`
		<path
			style="fill: var(--icon-color); stroke-linecap:round; stroke-linejoin:round;"
			d="
				m 32,12 v 68
				c 0,1 0.5,2 1.33,2.5 1.67,1.15 3.67,2.1 5.17,3.2 1.4,1.1 2.3,2.1 2.5,3.1 0.6,2.1 1,4.6 1,6.2 0,3.7 5.45,4.1 6,0.4 l 0.9,-6.8
				c 0.3,-0.9 1.1,-1.9 2.6,-2.9 1.5,-1.1 3.4,-2 5.1,-3.2
				C 57.5,82 58,81 58,80
				V 12 Z m 20,25 v 41.3
				c 0,1.7 -2.5,1.6 -4,2.7 -1,0.76 -2.1,1.5 -3,2.6
				C 44,82.5 43.02,81.75 42,81 40.51,79.92 38,80 38,78.34
				V 51 Z
			"
		/>
		<rect
			style="fill: var(--icon-color);"
			width="32"
			height="9"
			x="29"
			y="2"
			ry="4.5"
		/>
		<path
			style="fill: var(--icon-color);"
			d="m 45,-25 c -5.54,0 -11,4.26 -11,9 V 0 h 22 v -16 c 0,-4.74 -5.46,-9 -11,-9 z"
		/>
		`,e){let a=Xw(),s=document.createElementNS(qr,"defs");s.appendChild(a.patternDefElement),n.appendChild(s);let l=document.createElementNS(qr,"path"),c=document.createElementNS(qr,"path"),u=`
				M 35,36 H 55 V 78.678012 83 L 45,87 35,83 Z
			`;c.setAttribute("d",u),l.setAttribute("d",u),c.style.fill=e.toHexString(),l.style.fill=a.patternRef,i.appendChild(l),i.appendChild(c)}return i.appendChild(o),n.appendChild(i),n.setAttribute("viewBox","5 -40 140 140"),n}makeShapeAutocorrectIcon(){return this.makeIconFromPath(`
			m 79.129476,33.847107 9.967823,-0.03218 v 55 h -55 l 0.03218,-9.96782
			M 71.1,40.8 a 30,30 0 0 1 -30,30 30,30 0 0 1 -30,-30 30,30 0 0 1 30,-30 30,30 0 0 1 30,30 L 71.1,40.8
			M 34.1,58.8 v -25 h 25 v 0
		`,"none","var(--icon-color)","7px")}makeStrokeSmoothingIcon(){return this.makeIconFromPath(`
			m 31,83.2 c -50,0 30,-65 -20,-65
			M 75,17.3 40,59.7 38.2,77.6 55.5,72.4 90.5,30 Z
		`,"none","var(--icon-color)","7px")}makeFormatSelectionIcon(){return this.makeIconFromPath(`
			M 5 10
			L 5 20 L 10 20 L 10 15 L 20 15 L 20 40 L 15 40 L 15 45 L 35 45 L 35 40 L 30 40 L 30 15 L 40 15 L 40 20 L 45 20 L 45 15 L 45 10 L 5 10 z
			M 90 10 C 90 10 86.5 13.8 86 14 C 86 14 76.2 24.8 76 25 L 60 25 L 60 65 C 75 70 85 70 90 65 L 90 25 L 80 25 L 76.7 25 L 90 10 z
			M 60 25 L 55 25 L 50 30 L 60 25 z
			M 10 55 L 10 90 L 41 90 L 41 86 L 45 86 L 45 55 L 10 55 z
			M 42 87 L 42 93 L 48 93 L 48 87 L 42 87 z
		`)}makeResizeImageToSelectionIcon(){return this.makeIconFromPath(`
			M 75 5 75 10 90 10 90 25 95 25 95 5 75 5 z
			M 15 15 15 30 20 30 20 20 30 20 30 15 15 15 z
			M 84 15 82 17 81 16 81 20 85 20 84 19 86 17 84 15 z
			M 26 24 24 26 26 28 25 29 29 29 29 25 28 26 26 24 z
			M 25 71 26 72 24 74 26 76 28 74 29 75 29 71 25 71 z
			M 15 75 15 85 25 85 25 80 20 80 20 75 15 75 z
			M 90 75 90 90 75 90 75 95 95 95 95 75 90 75 z
			M 81 81 81 85 82 84 84 86 86 84 84 82 85 81 81 81 z
		`)}makeResizeViewportIcon(){return this.makeResizeImageToSelectionIcon()}makeDuplicateSelectionIcon(){return this.makeIconFromPath(`
			M 45,10 45,55 90,55 90,10 45,10 z
			M 10,25 10,90 70,90 70,60 40,60 40,25 10,25 z
		`)}makeCopyIcon(){return this.makeIconFromPath(`
			M 45,10 45,55 90,55 90,10 45,10 z
			M 10,25 10,90 70,90 70,60 40,60 40,25 10,25 z
		`)}makePasteIcon(){let e=this.makeIconFromPath(`
			M 50 0 L 50 5 L 35 5 L 40 24.75 L 20 25 L 20 100 L 85 100 L 100 90 L 100 24 L 75.1 24.3 L 80 5 L 65 5 L 65 0 L 50 0 z
			M 10 15 L 10 115 L 110 115 L 110 15 L 85 15 L 83 20 L 105 20 L 105 110 L 15 110 L 15 20 L 32 20 L 30 15 L 10 15 z
			M 25 35 L 90 35 L 90 40 L 25 40 L 25 35 z
			M 25 45 L 90 45 L 90 50 L 25 50 L 25 45 z
			M 25 55 L 85 55 L 85 60 L 25 60 L 25 55 z
			M 25 65 L 90 65 L 90 70 L 25 70 L 25 65 z
		`);return e.setAttribute("viewBox","0 0 120 120"),e}makeDeleteSelectionIcon(){return a8(this,Yb,T9).call(this)}makeCloseIcon(){return a8(this,Yb,T9).call(this)}makeSaveIcon(){let e=document.createElementNS("http://www.w3.org/2000/svg","svg");return e.innerHTML=`
			<style>
				.toolbar-save-icon {
					stroke: var(--icon-color);
					stroke-width: 6;
					stroke-linejoin: round;
					stroke-linecap: round;
					fill: none;
				}
			</style>
			<path
				d='
					M 15,55 30,70 85,20
				'
				class='toolbar-save-icon'
			/>
		`,e.setAttribute("viewBox","0 0 100 100"),e}makeConfigureDocumentIcon(){let e=document.createElementNS("http://www.w3.org/2000/svg","svg");return e.innerHTML=`
			<path
				d='
					M 5,5 V 95 H 95 V 5 Z m 5,5 H 90 V 90 H 10 Z
					m 5,10 V 30 H 50 V 25 H 20 v -5 z
					m 40,0 V 50 H 85 V 20 Z
					m 2,2 H 83 V 39 L 77,28 70,42 64,35 57,45 Z
					m 8.5,5 C 64.67,27 64,27.67 64,28.5 64,29.33 64.67,30 65.5,30 66.33,30 67,29.33 67,28.5 67,27.67 66.33,27 65.5,27 Z
					M 15,40 v 5 h 35 v -5 z
					m 0,15 v 5 h 70 v -5 z
					m 0,15 v 5 h 70 v -5 z
				'
				style='fill: var(--icon-color);'
			/>
		`,e.setAttribute("viewBox","0 0 100 100"),e}makeOverflowIcon(){return this.makeIconFromPath(`
			M 15 40
			A 12.5 12.5 0 0 0 2.5 52.5
			A 12.5 12.5 0 0 0 15 65
			A 12.5 12.5 0 0 0 27.5 52.5
			A 12.5 12.5 0 0 0 15 40
			z

			M 50 40
			A 12.5 12.5 0 0 0 37.5 52.5
			A 12.5 12.5 0 0 0 50 65
			A 12.5 12.5 0 0 0 62.5 52.5
			A 12.5 12.5 0 0 0 50 40
			z

			M 85 40
			A 12.5 12.5 0 0 0 72.5 52.5
			A 12.5 12.5 0 0 0 85 65
			A 12.5 12.5 0 0 0 97.5 52.5
			A 12.5 12.5 0 0 0 85 40
			z
		`)}makeHelpIcon(){let e=document.createElementNS("http://www.w3.org/2000/svg","svg");return e.innerHTML=`
			<circle
				style="stroke-width:1.587; stroke: var(--icon-color);"
				fill="none"
				cx="13.23"
				cy="13.23"
				r="11.9"
			/>
			<path
				style="stroke-width: 3; stroke-linecap: butt; stroke: var(--icon-color);"
				fill="none"
				d="M 9.26,6.61 C 18.7,3.25 19.95,10.4 14.3,13.4 c -1.15,0.61 -1.32,1.32 -1.32,2.65 v 2.12"
			/>
			<circle
				style="fill: var(--icon-color);"
				cx="13"
				cy="21.32"
				r="1.9"
			/>
		`,e.setAttribute("viewBox","0 0 26.46 26.46"),e.setAttribute("width","100"),e.setAttribute("height","100"),e}makeIconFromPath(e,n="var(--icon-color)",i="none",o="0px"){let a=document.createElementNS(qr,"svg"),s=document.createElementNS(qr,"path");return s.setAttribute("d",e),s.style.fill=n,s.style.stroke=i,s.style.strokeWidth=o,a.appendChild(s),a.setAttribute("viewBox","0 0 100 100"),a}makeCheckerboardPattern(){return Xw()}isRoundedTipPen(e){return e.factory===I0||e.factory===Eb}isPolylinePen(e){return e.factory===Eb}licenseInfo(){return null}},Yb=new WeakSet,T9=function(){return this.makeIconFromPath(`
			M 15,15 85,85
			M 15,85 85,15
		`,"none","var(--icon-color)","6px")},mee),Tqe=class extends dg{constructor(n,i){super(n,"overflow-widget",i);oe(this,"overflowChildren",[]);oe(this,"overflowContainer");this.container.classList.add("toolbar-overflow-widget"),this.container.classList.add("dropdownShowable"),this.overflowContainer??(this.overflowContainer=document.createElement("div"))}shouldAutoDisableInReadOnlyEditor(){return!1}getTitle(){return this.localizationTable.toggleOverflow}createIcon(){return this.editor.icons.makeOverflowIcon()}handleClick(){this.setDropdownVisible(!this.isDropdownVisible())}fillDropdown(n){return this.overflowContainer??(this.overflowContainer=document.createElement("div")),this.overflowContainer.parentElement&&this.overflowContainer.remove(),this.overflowContainer.classList.add("toolbar-overflow-widget-overflow-list"),n.appendChild(this.overflowContainer),!0}clearChildren(){this.overflowContainer.replaceChildren(),this.container.classList.remove("horizontal");let n=this.overflowChildren;return this.overflowChildren=[],n}getChildWidgets(){return[...this.overflowChildren]}hasAsChild(n){for(let i of this.overflowChildren)if(n===i)return!0;return!1}addToOverflow(n){this.overflowChildren.push(n),n.addTo(this.overflowContainer),n.setIsToplevel(!1),this.overflowChildren.length>2&&this.container.classList.add("horizontal")}canBeInOverflowMenu(){return!1}};function Ude(r){return new Eqe(r,r.getRootElement(),r.localization)}var Eqe=class extends Lde{constructor(n,i,o){super(n,o);oe(this,"container");oe(this,"resizeObserver");oe(this,"widgetOrderCounter",0);oe(this,"overflowWidget",null);oe(this,"reLayoutQueued",!1);this.container=document.createElement("div"),this.container.classList.add(`${Pt}root`),this.container.classList.add(`${Pt}element`),this.container.classList.add(`${Pt}dropdown-toolbar`),this.container.setAttribute("role","toolbar"),i.appendChild(this.container),"ResizeObserver"in window?(this.resizeObserver=new ResizeObserver(a=>{this.reLayout()}),this.resizeObserver.observe(this.container)):console.warn("ResizeObserver not supported. Toolbar will not resize.")}queueReLayout(){this.reLayoutQueued||(this.reLayoutQueued=!0,requestAnimationFrame(()=>this.reLayout()))}reLayout(){if(this.reLayoutQueued=!1,!this.overflowWidget)return;let n=u=>{let d=0;for(let h of u)h.isHidden()||(d+=h.getButtonWidth());return d},i=u=>{var h;let d=((h=this.overflowWidget)==null?void 0:h.getChildWidgets())??[];return d.length===0?!1:d[0].getButtonWidth()<=u},o=this.getAllWidgets(),a=n(this.overflowWidget.getChildWidgets()),s=n(o)-a,l=this.container.clientWidth*.87;window.innerHeight>l*1.75&&(l*=1.75);let c=!1;if(i(l-s)){let u=this.overflowWidget.clearChildren();for(let d of u)d.addTo(this.container),d.setIsToplevel(!0),d.isHidden()||(s+=d.getButtonWidth());a=0,c=!0}if(s>=l){for(let u=o.length-1;u>=0&&s>=l;u--){let d=o[u];this.overflowWidget.hasAsChild(d)||d.canBeInOverflowMenu()&&(s-=d.getButtonWidth(),this.overflowWidget.addToOverflow(d))}c=!0}this.overflowWidget.setHidden(this.overflowWidget.getChildWidgets().length===0),c&&this.setupColorPickers()}addWidgetInternal(n){let i=n.addTo(this.container);i.style.order=`${this.widgetOrderCounter++}`,this.queueReLayout()}removeWidgetInternal(n){n.remove(),this.queueReLayout()}addSpacer(n={}){let i=document.createElement("div");i.classList.add(`${Pt}spacer`),n.grow&&(i.style.flexGrow=`${n.grow}`),n.minSize&&(i.style.minWidth=n.minSize),n.maxSize&&(i.style.maxWidth=n.maxSize),i.style.order=`${this.widgetOrderCounter++}`,this.container.appendChild(i)}addOverflowWidget(){this.overflowWidget=new Tqe(this.editor,this.localizationTable),this.addWidget(this.overflowWidget)}addDefaults(){this.addDefaultToolWidgets(),this.addOverflowWidget(),this.addDefaultActionButtons()}onRemove(){this.container.remove(),this.resizeObserver.disconnect()}getWidgetById(n){for(let i of this.getAllWidgets())if(i.getId()===n)return i;return null}},Cqe=class{constructor(e,n,i,o,a){oe(this,"visibleWidgetContent",po.fromInitialValue(null));this.setSidebarContent=e,this.sidebarTitle=n,this.sidebarVisibility=i,this.announceForAccessibility=o,this.localization=a}createToolMenu(e){let n=document.createElement("div"),i=null,o=po.fromCallback(()=>this.visibleWidgetContent.get()===i&&this.sidebarVisibility.get(),[this.visibleWidgetContent,this.sidebarVisibility]);return i={visible:o,requestShow:()=>{this.setSidebarContent(n),this.sidebarTitle.set(e.getTitle()),this.visibleWidgetContent.set(i),this.sidebarVisibility.set(!0),this.announceForAccessibility(this.localization.dropdownShown(e.getTitle()))},onActivated:()=>{},requestHide:()=>{o.get()&&this.sidebarVisibility.set(!1)},appendChild:a=>{n.appendChild(a)},clearChildren:()=>{n.replaceChildren()},destroy:()=>{i==null||i.requestHide(),n.parentElement&&n.remove(),this.visibleWidgetContent.get()===i&&this.visibleWidgetContent.set(null)}},i}},_qe=class extends Lde{constructor(n,i,o){super(n,o);oe(this,"toolbarContainer");oe(this,"toolbarActionRow");oe(this,"toolbarToolRow");oe(this,"toolRowResizeObserver");oe(this,"menuContainer");oe(this,"sidebarContainer");oe(this,"sidebarContent");oe(this,"closeButton");oe(this,"layoutManager");oe(this,"sidebarVisible");oe(this,"sidebarY");oe(this,"sidebarTitle");oe(this,"clearDragListeners",null);this.toolbarContainer=document.createElement("div"),this.toolbarContainer.classList.add(`${Pt}root`),this.toolbarContainer.classList.add(`${Pt}element`),this.toolbarContainer.classList.add(`${Pt}edge-toolbar`),this.toolbarContainer.setAttribute("role","toolbar"),this.toolbarActionRow=document.createElement("div"),this.toolbarActionRow.classList.add("toolbar-element","toolbar-action-row"),this.toolbarToolRow=document.createElement("div"),this.toolbarToolRow.classList.add("toolbar-element","toolbar-tool-row"),Pue(this.toolbarToolRow),"ResizeObserver"in window?(this.toolRowResizeObserver=new ResizeObserver(s=>{this.onToolbarRowResize()}),this.toolRowResizeObserver.observe(this.toolbarToolRow)):console.warn("ResizeObserver not supported. Toolbar will not resize."),this.toolbarContainer.replaceChildren(this.toolbarActionRow,this.toolbarToolRow),i.appendChild(this.toolbarContainer),this.sidebarVisible=po.fromInitialValue(!1),this.sidebarY=po.fromInitialValue(0),this.menuContainer=document.createElement("div"),this.menuContainer.classList.add(`${Pt}edgemenu-container`),this.sidebarContainer=document.createElement("div"),this.sidebarContainer.classList.add(`${Pt}edgemenu`,`${Pt}element`),this.sidebarContainer.classList.add(`${Pt}tool-properties`),this.sidebarContent=document.createElement("div"),this.sidebarY.onUpdateAndNow(s=>{let l="dropdown-below-edge";s>0?(this.sidebarContainer.style.transform=`translate(0, ${s}px)`,this.sidebarContainer.style.paddingBottom="",this.menuContainer.classList.add(l)):(this.sidebarContainer.style.transform="",this.sidebarContainer.style.paddingBottom=`${-s}px`,this.menuContainer.classList.remove(l))}),this.closeButton=document.createElement("button"),this.closeButton.classList.add("drag-elem"),this.editor.handleKeyEventsFrom(this.closeButton,s=>s.code!=="Space"&&s.code!=="Enter"&&s.code!=="Tab"),this.sidebarContainer.addEventListener("keyup",s=>{!s.defaultPrevented&&s.code==="Escape"&&(this.sidebarVisible.set(!1),s.preventDefault())}),this.initDragListeners();let a=(...s)=>{this.sidebarContent.replaceChildren(...s),this.setupColorPickers()};this.sidebarTitle=yp.fromInitialValue(""),this.layoutManager=new Cqe(a,this.sidebarTitle,this.sidebarVisible,n.announceForAccessibility.bind(n),o),this.sidebarTitle.onUpdateAndNow(s=>{this.closeButton.setAttribute("aria-label",o.closeSidebar(s))}),this.listenForVisibilityChanges(),this.sidebarContainer.replaceChildren(this.closeButton,this.sidebarContent),this.menuContainer.replaceChildren(this.sidebarContainer),i.appendChild(this.menuContainer)}listenForVisibilityChanges(){var a;let n=null,i=170;this.sidebarVisible.get()||(this.menuContainer.style.display="none",this.menuContainer.style.opacity="0");let o=((a=window.matchMedia)==null?void 0:a.call(window,"(prefers-reduced-motion: reduce)"))??"";this.sidebarVisible.onUpdate(s=>{let l=`${i}ms ease`,c=o.matches?"-reduce-motion":"";s?(this.sidebarY.set(this.snappedSidebarY()),n&&(clearTimeout(n),n=null),this.menuContainer.style.display="",this.sidebarContainer.style.animation=`${l} ${Pt}-edgemenu-transition-in${c}`,this.menuContainer.style.animation=`${l} ${Pt}-edgemenu-container-transition-in${c}`,this.menuContainer.style.opacity="1",this.closeButton.focus({preventScroll:!0})):(this.closeColorPickers(),n===null&&(this.sidebarContainer.style.animation=`${l} ${Pt}-edgemenu-transition-out${c}`,this.menuContainer.style.animation=`${l} ${Pt}-edgemenu-container-transition-out${c}`,this.menuContainer.style.opacity="0",this.editor.announceForAccessibility(this.localizationTable.dropdownHidden(this.sidebarTitle.get())),n=setTimeout(()=>{this.menuContainer.style.display="none",this.menuContainer.style.overflowY="",n=null},i)))})}onToolbarRowResize(){let n=()=>{let a=this.toolbarToolRow.clientWidth,s=0,l=0,c=0;for(let d of this.toolbarToolRow.children){let h=d.clientHeight;if(s+=h,c++,s>a){l=a-s+h/2,l<0&&(l+=h);break}}let u=Math.round(l/c*10)/10;this.toolbarToolRow.style.setProperty("--extra-left-right-padding",`${u}px`)},i=this.toolbarActionRow.getBoundingClientRect(),o=this.toolbarToolRow.getBoundingClientRect();i.y+i.height<=o.y?this.toolbarContainer.classList.remove("one-row"):this.toolbarContainer.classList.add("one-row"),this.toolbarToolRow.clientWidth<this.toolbarToolRow.scrollWidth?(this.toolbarToolRow.classList.add("has-scroll"),n()):this.toolbarToolRow.classList.remove("has-scroll","extra-padding")}addSpacer(n){}addUndoRedoButtons(){super.addUndoRedoButtons(!1)}addDefaults(){this.addDefaultActionButtons(),this.addDefaultToolWidgets()}updateWidgetCSSClasses(n){let i=n.getTags();n.removeCSSClassFromContainer("label-inline"),n.removeCSSClassFromContainer("label-left"),n.removeCSSClassFromContainer("label-right"),i.includes("save")&&(n.addCSSClassToContainer("label-inline"),n.addCSSClassToContainer("label-left")),i.includes("exit")&&(n.addCSSClassToContainer("label-inline"),n.addCSSClassToContainer("label-right"))}addWidgetInternal(n){this.updateWidgetCSSClasses(n),n.setLayoutManager(this.layoutManager),n.mustBeInToplevelMenu()?n.addTo(this.toolbarActionRow):n.addTo(this.toolbarToolRow)}removeWidgetInternal(n){n.remove()}onRemove(){var n;this.toolbarContainer.remove(),this.menuContainer.remove(),this.toolRowResizeObserver.disconnect(),(n=this.clearDragListeners)==null||n.call(this)}initDragListeners(){let n=[this.closeButton,this.sidebarContainer,this.sidebarContent];this.manageListener(this.editor.handlePointerEventsExceptClicksFrom(this.menuContainer,(s,l)=>l.target===this.menuContainer?(s==="pointerdown"&&(this.sidebarVisible.set(!1),setTimeout(()=>this.editor.focus(),0)),!0):!this.sidebarVisible.get(),(s,l)=>l.target===this.menuContainer));let i=!0,o=0,a=Oue(this.sidebarContainer,{draggableChildElements:n,onDrag:(s,l)=>this.handleDrag(s,l),onDragEnd:s=>{o=s.endTimestamp,i=s.roughlyClick,this.finalizeDrag()}});this.clearDragListeners=()=>a.removeListeners(),this.closeButton.addEventListener("click",()=>{let s=performance.now()-o<100;(s&&i||!s)&&this.sidebarVisible.set(!1)})}handleDrag(n,i){this.sidebarContainer.style.transition="none",this.sidebarY.set(this.sidebarY.get()+i)}snappedSidebarY(n){let i=n??this.sidebarY.get(),o=[-100,0];this.sidebarContainer.clientHeight>window.innerHeight&&o.push(100);let a=o[0];for(let s of o)Math.abs(s-i)<Math.abs(a-i)&&(a=s);return a}finalizeDrag(){this.sidebarContainer.style.transition="",this.sidebarY.get()>this.sidebarContainer.clientHeight/2?this.sidebarVisible.set(!1):this.sidebarY.set(this.snappedSidebarY())}serializeInternal(){return{menuSizeY:this.snappedSidebarY()}}deserializeInternal(n){typeof n=="object"&&typeof n.menuSizeY=="number"&&this.sidebarY.set(this.snappedSidebarY(n.menuSizeY))}},i7=class E9 extends QS{constructor(n){super(n);oe(this,"clearedCount",0);oe(this,"renderedPathCount",0);oe(this,"lastFillStyle",null);oe(this,"lastPoint",null);oe(this,"objectNestingLevel",0);oe(this,"lastText",null);oe(this,"lastImage",null);oe(this,"pointBuffer",[])}displaySize(){let n=this.getViewport().getScreenRectSize();return n.x===0||n.y===0?He.of(640,480):n}clear(){if(this.clearedCount++,this.renderedPathCount=0,this.pointBuffer=[],this.lastText=null,this.lastImage=null,this.objectNestingLevel>0)throw new Error(`Within an object while clearing! Nesting level: ${this.objectNestingLevel}`)}beginPath(n){this.lastPoint=n,this.pointBuffer.push(n)}endPath(n){this.renderedPathCount++,this.lastFillStyle=n}lineTo(n){n=this.canvasToScreen(n),this.lastPoint=n,this.pointBuffer.push(n)}moveTo(n){n=this.canvasToScreen(n),this.lastPoint=n,this.pointBuffer.push(n)}traceCubicBezierCurve(n,i,o){n=this.canvasToScreen(n),i=this.canvasToScreen(i),o=this.canvasToScreen(o),this.lastPoint=o,this.pointBuffer.push(n,i,o)}traceQuadraticBezierCurve(n,i){n=this.canvasToScreen(n),i=this.canvasToScreen(i),this.lastPoint=i,this.pointBuffer.push(n,i)}drawPoints(...n){}drawText(n,i,o){this.lastText=n}drawImage(n){this.lastImage=n}startObject(n,i){super.startObject(n),this.objectNestingLevel+=1}endObject(){super.endObject(),this.objectNestingLevel-=1}isTooSmallToRender(n){return!1}canRenderFromWithoutDataLoss(n){return n instanceof E9}renderFromOtherOfSameType(n,i){if(!(i instanceof E9))throw new TypeError(`${i} cannot be rendered onto ${this}`);this.renderedPathCount+=i.renderedPathCount,this.lastFillStyle=i.lastFillStyle,this.lastPoint=i.lastPoint,this.pointBuffer.push(...i.pointBuffer.map(o=>n.transformVec2(o)))}toString(){return"[DummyRenderer]"}},Aqe=class{constructor(e,n){oe(this,"renderer");oe(this,"lastUsedCycle");oe(this,"allocd",!1);oe(this,"allocCount",0);this.onBeforeDeallocCallback=e,this.cacheState=n,this.renderer=n.props.createRenderer(),this.lastUsedCycle=-1,this.allocd=!0}startRender(){if(this.lastUsedCycle=this.cacheState.currentRenderingCycle,!this.allocd)throw new Error("Only alloc'd canvases can be rendered to");return this.renderer}dealloc(){var e;(e=this.onBeforeDeallocCallback)==null||e.call(this),this.allocd=!1,this.onBeforeDeallocCallback=null,this.lastUsedCycle=0}isAllocd(){return this.allocd}realloc(e){this.allocd&&this.dealloc(),this.allocd=!0,this.onBeforeDeallocCallback=e,this.lastUsedCycle=this.cacheState.currentRenderingCycle,this.allocCount++}getLastUsedCycle(){return this.lastUsedCycle}getTransform(e){return ut.scaling2D(this.cacheState.props.blockResolution.x/e.size.x).rightMul(ut.translation(e.topLeft.times(-1)))}setRenderingRegion(e){let n=this.getTransform(e);this.renderer.setTransform(n),this.renderer.overrideVisibleRect(e.grownBy(1/n.getScaleFactor()))}},Dqe=class{constructor(e){oe(this,"cacheRecords",[]);oe(this,"maxCanvases");oe(this,"cacheState");this.maxCanvases=Math.ceil(e.cacheSize/4/e.blockResolution.x/e.blockResolution.y)}setSharedState(e){this.cacheState=e}allocCanvas(e,n){if(this.cacheRecords.length<this.maxCanvases){let i=new Aqe(n,this.cacheState);return i.setRenderingRegion(e),this.cacheRecords.push(i),this.cacheState.debugMode&&console.log("[Cache] Cache spaces used: ",this.cacheRecords.length," of ",this.maxCanvases),i}else{let i=this.getLeastRecentlyUsedRecord();return this.cacheState.debugMode&&console.log("[Cache] Re-alloc. Times allocated: ",i.allocCount,`
Last used cycle: `,i.getLastUsedCycle(),`
Current cycle: `,this.cacheState.currentRenderingCycle),i.realloc(n),i.setRenderingRegion(e),this.cacheState.debugMode&&(console.log("[Cache] Now re-alloc'd. Last used cycle: ",i.getLastUsedCycle()),console.assert(i.cacheState===this.cacheState,"[Cache] Unequal cache states! cacheState should be a shared object!")),i}}getLeastRecentlyUsedRecord(){return this.cacheRecords.sort((e,n)=>e.getLastUsedCycle()-n.getLastUsedCycle()),this.cacheRecords[0]}getDebugInfo(){let e=0,n=0;for(let i of this.cacheRecords)n+=i.allocCount,i.isAllocd()&&e++;return n/=Math.max(this.cacheRecords.length,1),[`${this.cacheRecords.length} cache records (max ${this.maxCanvases})`,`${e} assigned to screen regions`,`Average number of times reassigned: ${Math.round(n*100)/100}`].join(`
`)}},sc=3,Mqe=class C9{constructor(e,n){oe(this,"instantiatedChildren",[]);oe(this,"parent",null);oe(this,"cachedRenderer",null);oe(this,"renderedIds",[]);oe(this,"renderedMaxZIndex",null);this.region=e,this.cacheState=n}generateParent(){if(this.parent)return this.parent;let e=Lt.fromCorners(this.region.topLeft.minus(this.region.size),this.region.bottomRight.plus(this.region.size)),n=new C9(e,this.cacheState);n.generateChildren();let i=this.region.maxDimension/100,o=(n.instantiatedChildren.length-1)/2;if(!n.instantiatedChildren[o].region.eq(this.region,i))throw console.error(n.instantiatedChildren[o].region,"",this.region),new Error("Logic error: [this] is not contained within its parent's center child");return n.instantiatedChildren[o]=this,this.parent=n,n}generateChildren(){if(this.instantiatedChildren.length===0){if(this.region.size.x/sc===0||this.region.size.y/sc===0){console.warn("Cache element has zero size! Not generating children.");return}let e=this.region.divideIntoGrid(sc,sc);console.assert(e.length===sc*sc,"Warning: divideIntoGrid created the wrong number of subrectangles!");for(let n of e){let i=new C9(n,this.cacheState);i.parent=this,this.instantiatedChildren.push(i)}}this.checkRep()}getChildren(){return this.checkRep(),this.generateChildren(),this.instantiatedChildren}smallestChildContaining(e){let n=e.maxDimension>this.region.maxDimension/sc;if(!this.region.containsRect(e)||n)return null;for(let i of this.getChildren())if(i.region.containsRect(e))return i.smallestChildContaining(e)??i;return null}renderingWouldBeHighEnoughResolution(e){let n=this.region.w/this.cacheState.props.blockResolution.x;return!(e.getScaleFactor()*n>this.cacheState.props.maxScale)}allChildrenCanRender(e,n){if(this.instantiatedChildren.length===0)return!1;for(let i of this.instantiatedChildren)if(i.region.intersects(e.visibleRect)&&!i.renderingIsUpToDate(this.idsOfIntersecting(n)))return!1;return!0}computeSortedByLeafIds(e){let n=e.slice();return n.sort((i,o)=>i.getId()-o.getId()),n}idsOfIntersecting(e){let n=[];for(let i of e)i.getBBox().intersects(this.region)&&n.push(i.getId());return n}allRenderedIdsIn(e){if(this.renderedIds.length>e.length)return!1;for(let n=0;n<this.renderedIds.length;n++)if(e[n]!==this.renderedIds[n])return!1;return!0}renderingIsUpToDate(e){return this.cachedRenderer===null||e.length!==this.renderedIds.length?!1:this.allRenderedIdsIn(e)}renderItems(e,n,i){var o;if(!(!i.visibleRect.intersects(this.region)||n.length===0)){if(n=(a=>{let s=[];for(let l of a){let c=l.getBBox();c.intersects(this.region)&&(c.maxDimension>=this.region.maxDimension?s.push(...l.getChildrenOrSelfIntersectingRegion(this.region)):s.push(l))}return s})(n),!this.cacheState.props.isOfCorrectType(e)){for(let a of n)a.render(e,i.visibleRect);return}if(this.cacheState.debugMode&&e.drawRect(this.region,i.getSizeOfPixelOnCanvas(),{fill:mt.yellow}),this.renderingWouldBeHighEnoughResolution(i)){let a=d=>d.w/this.region.w<1/this.cacheState.props.blockResolution.x,s=[];for(let d of n)s.push(...d.getLeavesIntersectingRegion(this.region,a));o0(s);let l=this.computeSortedByLeafIds(s);if(l.length===0)return;let c=l.map(d=>d.getId()),u;if(this.renderingIsUpToDate(c))u=this.cachedRenderer.startRender();else{if(this.allChildrenCanRender(i,l)){for(let h of this.getChildren())h.renderItems(e,n,i);return}let d=0;for(let h of l)a(h.getBBox())||(d+=h.getContent().getProportionalRenderingTime());if(d>this.cacheState.props.minProportionalRenderTimePerCache){let h=!0;if(!this.cachedRenderer)this.cachedRenderer=this.cacheState.recordManager.allocCanvas(this.region,()=>this.onRegionDealloc());else if(l.length>this.renderedIds.length&&this.allRenderedIdsIn(c)&&this.renderedMaxZIndex!==null){let f=null;for(let[m,b]of l.entries()){let g=b.getContent().getZIndex();(m>=this.renderedIds.length||b.getId()!==this.renderedIds[m])&&(f===null||g<f)&&(f=g)}if(f!==null&&f>this.renderedMaxZIndex){h=!1,u=this.cachedRenderer.startRender();for(let m of s){let b=m.getContent().getZIndex();b>this.renderedMaxZIndex&&(m.render(u,this.region),this.renderedMaxZIndex=b)}this.cacheState.debugMode&&e.drawRect(this.region,2*i.getSizeOfPixelOnCanvas(),{fill:mt.clay})}}else this.cacheState.debugMode&&console.log("Decided on a full re-render. Reason: At least one of the following is false:",`
 leafIds.length > this.renderedIds.length: `,c.length>this.renderedIds.length,`
 this.allRenderedIdsIn(leafIds): `,this.allRenderedIdsIn(c),`
 this.renderedMaxZIndex !== null: `,this.renderedMaxZIndex!==null,`

this.rerenderedIds: `,this.renderedIds,", leafIds: ",c);if(h){u=this.cachedRenderer.startRender(),u.clear(),this.renderedMaxZIndex=null;let f=wue(s,this.region);for(let m=f;m<s.length;m++){let b=s[m],g=b.getContent();this.renderedMaxZIndex??(this.renderedMaxZIndex=g.getZIndex()),this.renderedMaxZIndex=Math.max(this.renderedMaxZIndex,g.getZIndex()),b.render(u,this.region)}this.cacheState.debugMode&&e.drawRect(this.region,3*i.getSizeOfPixelOnCanvas(),{fill:mt.red})}this.renderedIds=c}else{(o=this.cachedRenderer)==null||o.dealloc();let h=i.getSizeOfPixelOnCanvas(),f=new Lt(this.region.x,this.region.y,this.region.w+h,this.region.h+h);e.startObject(f,!0);for(let m of s)m.render(e,this.region.intersection(i.visibleRect));e.endObject(),this.cacheState.debugMode&&e.drawRect(this.region,2*i.getSizeOfPixelOnCanvas(),{fill:mt.green})}}if(u){let d=this.cachedRenderer.getTransform(this.region).inverse();e.renderFromOtherOfSameType(d,u)}this.instantiatedChildren.every(d=>d.isEmpty())&&(this.instantiatedChildren=[])}else for(let a of this.getChildren())a.renderItems(e,n.filter(s=>s.getBBox().intersects(a.region)),i);this.checkRep()}}isEmpty(){return this.cachedRenderer!==null?!1:this.instantiatedChildren.every(e=>e.isEmpty())}onRegionDealloc(){this.cachedRenderer=null,this.isEmpty()&&(this.instantiatedChildren=[])}checkRep(){if(this.instantiatedChildren.length!==sc*sc&&this.instantiatedChildren.length>0)throw new Error(`Repcheck: Wrong number of children. Got ${this.instantiatedChildren.length}`);if(this.renderedIds[1]!==void 0&&this.renderedIds[0]>=this.renderedIds[1])throw console.error(this.renderedIds),new Error("Repcheck: First two ids are not in ascending order!");for(let e of this.instantiatedChildren)if(e.parent!==this)throw new Error("Children should be linked to their parents!");if(this.cachedRenderer&&!this.cachedRenderer.isAllocd())throw new Error("this' cachedRenderer != null, but is dealloc'd")}},Rqe=class{constructor(e){oe(this,"sharedState");oe(this,"recordManager");oe(this,"rootNode");this.recordManager=new Dqe(e),this.sharedState={props:e,currentRenderingCycle:0,recordManager:this.recordManager,debugMode:!1},this.recordManager.setSharedState(this.sharedState)}render(e,n,i){let o=i.visibleRect;if(this.sharedState.currentRenderingCycle++,!this.sharedState.props.isOfCorrectType(e)){n.render(e,o);return}if(!this.rootNode){let l=this.sharedState.props.blockResolution,c=o.topLeft;this.rootNode=new Mqe(new Lt(c.x,c.y,l.x,l.y),this.sharedState)}for(;!this.rootNode.region.containsRect(o);)this.rootNode=this.rootNode.generateParent();this.rootNode=this.rootNode.smallestChildContaining(o)??this.rootNode;let a=n.getLeavesIntersectingRegion(i.visibleRect,l=>e.isTooSmallToRender(l)),s=0;for(let l of a)s+=l.getContent().getProportionalRenderingTime();s>this.sharedState.props.minProportionalRenderTimeToUseCache?this.rootNode.renderItems(e,[n],i):n.render(e,o)}getDebugInfo(){return this.recordManager.getDebugInfo()}setIsDebugMode(e){this.sharedState.debugMode=e}},Nqe=class extends QS{constructor(n,i){super(n);oe(this,"descriptionBuilder",[]);oe(this,"pathCount",0);oe(this,"textNodeCount",0);oe(this,"imageNodeCount",0);this.localizationTable=i}displaySize(){return He.of(500,500)}clear(){this.descriptionBuilder=[],this.pathCount=0,this.textNodeCount=0,this.imageNodeCount=0}getDescription(){return[this.localizationTable.pathNodeCount(this.pathCount),...this.textNodeCount>0?[this.localizationTable.textNodeCount(this.textNodeCount)]:[],...this.imageNodeCount>0?[this.localizationTable.imageNodeCount(this.imageNodeCount)]:[],...this.descriptionBuilder].join(`
`)}beginPath(n){}endPath(n){this.pathCount++}lineTo(n){}moveTo(n){}traceCubicBezierCurve(n,i,o){}traceQuadraticBezierCurve(n,i){}drawText(n,i,o){this.descriptionBuilder.push(this.localizationTable.textNode(n)),this.textNodeCount++}drawImage(n){let i=n.label?this.localizationTable.imageNode(n.label):this.localizationTable.unlabeledImageNode;this.descriptionBuilder.push(i),this.imageNodeCount++}isTooSmallToRender(n){return n.maxDimension<15/this.getSizeOfCanvasPixelOnScreen()}drawPoints(...n){}},Oqe=(r=>(r[r.DummyRenderer=0]="DummyRenderer",r[r.CanvasRenderer=1]="CanvasRenderer",r))(Oqe||{}),Pqe=class{constructor(e,n,i){oe(this,"dryInkRenderer");oe(this,"wetInkRenderer");oe(this,"textRenderer");oe(this,"textRerenderOutput",null);oe(this,"cache");oe(this,"devicePixelRatio",window.devicePixelRatio??1);oe(this,"resizeSurfacesCallback");oe(this,"flattenCallback");oe(this,"getColorAt",e=>null);if(this.editor=e,this.parent=i,n===1)this.initializeCanvasRendering();else if(n===0)this.dryInkRenderer=new i7(e.viewport),this.wetInkRenderer=new i7(e.viewport);else throw new Error(`Unknown rendering mode, ${n}!`);this.textRenderer=new Nqe(e.viewport,e.localization),this.initializeTextRendering();let o=He.of(600,600);this.cache=new Rqe({createRenderer:()=>{if(n===0)return new i7(e.viewport);if(n!==1)throw new Error("Unspported rendering mode");let a=document.createElement("canvas");a.width=o.x+1,a.height=o.y+1;let s=a.getContext("2d");return new jy(s,e.viewport)},isOfCorrectType:a=>this.dryInkRenderer.canRenderFromWithoutDataLoss(a),blockResolution:o,cacheSize:600*600*4*90,maxScale:Math.max(1,1.3/window.devicePixelRatio),minProportionalRenderTimePerCache:20*4,minProportionalRenderTimeToUseCache:105*4}),this.editor.notifier.on(8,a=>{var s;if(a.kind!==8)throw new Error("Mismatched event.kinds!");(s=this.resizeSurfacesCallback)==null||s.call(this)})}get width(){return this.dryInkRenderer.displaySize().x}get height(){return this.dryInkRenderer.displaySize().y}getCache(){return this.cache}initializeCanvasRendering(){let e=document.createElement("canvas"),n=document.createElement("canvas"),i=e.getContext("2d"),o=n.getContext("2d");this.dryInkRenderer=new jy(i,this.editor.viewport),this.wetInkRenderer=new jy(o,this.editor.viewport),e.className="dryInkCanvas",n.className="wetInkCanvas",this.parent&&(this.parent.appendChild(e),this.parent.appendChild(n)),this.resizeSurfacesCallback=()=>{let a=c=>Math.ceil(c.clientWidth*this.devicePixelRatio)||c.width,s=c=>Math.ceil(c.clientHeight*this.devicePixelRatio)||c.height,l=c=>s(c)!==c.height||a(c)!==c.width;(l(e)||l(n))&&(e.width=a(e),e.height=s(e),n.width=a(n),n.height=s(n),o.resetTransform(),i.resetTransform(),i.scale(this.devicePixelRatio,this.devicePixelRatio),o.scale(this.devicePixelRatio,this.devicePixelRatio),this.editor.notifier.dispatch(8,{kind:8,newSize:He.of(this.width,this.height)}))},this.resizeSurfacesCallback(),this.flattenCallback=()=>{i.save(),i.resetTransform(),i.drawImage(n,0,0),i.restore()},this.getColorAt=a=>{var c;let s=a.times(this.devicePixelRatio),l=(c=i.getImageData(s.x,s.y,1,1))==null?void 0:c.data;return l?mt.ofRGBA(l[0]/255,l[1]/255,l[2]/255,l[3]/255):null}}initializeTextRendering(){let e=document.createElement("div");e.classList.add("textRendererOutputContainer");let n=document.createElement("button");n.classList.add("rerenderButton"),n.innerText=this.editor.localization.rerenderAsText,this.textRerenderOutput=document.createElement("div"),this.textRerenderOutput.setAttribute("aria-live","polite"),n.addEventListener("click",()=>{this.rerenderAsText()}),e.replaceChildren(n,this.textRerenderOutput),this.editor.createHTMLOverlay(e)}setDevicePixelRatio(e){var n;if(isFinite(e)&&e>=.001&&e<=10&&e!==this.devicePixelRatio)return this.devicePixelRatio=e,(n=this.resizeSurfacesCallback)==null||n.call(this),this.editor.queueRerender()}getDevicePixelRatio(){return this.devicePixelRatio}rerenderAsText(){this.textRenderer.clear(),this.editor.image.render(this.textRenderer,this.editor.viewport),this.textRerenderOutput&&(this.textRerenderOutput.innerText=this.textRenderer.getDescription())}startRerender(){var e;return(e=this.resizeSurfacesCallback)==null||e.call(this),this.dryInkRenderer.clear(),this.dryInkRenderer}setDraftMode(e){this.dryInkRenderer.setDraftMode(e)}getDryInkRenderer(){return this.dryInkRenderer}getWetInkRenderer(){return this.wetInkRenderer}flatten(){var e;(e=this.flattenCallback)==null||e.call(this)}};function Iqe(r){let e=0,n=r.map(i=>i.id);n.sort();for(let i of n)e===i&&(e=i+1);return e}var $qe=Iqe;function zqe(r,e,n,i,o=0){let a=$qe(i??[]),s=c4.ofCanvasPoint(n,e!==2,r.viewport,a,o);return r.toolController.dispatchInputEvent({kind:e,allPointers:i??[s],current:s}),s}var Lqe=zqe,Ba,ys,gee,Uqe=(gee=class{constructor(e,n,i){Gn(this,Ba);Gn(this,ys);oe(this,"maxUndoRedoStackSize",700);this.editor=e,this.announceRedoCallback=n,this.announceUndoCallback=i,xn(this,Ba,[]),xn(this,ys,[])}fireUpdateEvent(e,n){this.editor.notifier.dispatch(3,{kind:3,undoStackSize:Tt(this,Ba).length,redoStackSize:Tt(this,ys).length,command:n,stackUpdateType:e})}push(e,n=!0){n&&e.apply(this.editor),Tt(this,Ba).push(e);for(let i of Tt(this,ys))i.onDrop(this.editor);if(xn(this,ys,[]),Tt(this,Ba).length>this.maxUndoRedoStackSize){let i=Math.ceil(this.maxUndoRedoStackSize/100);Tt(this,Ba).splice(0,i).forEach(o=>o.onDrop(this.editor))}this.fireUpdateEvent(0,e),this.editor.notifier.dispatch(4,{kind:4,command:e})}undo(){let e=Tt(this,Ba).pop();if(e){Tt(this,ys).push(e);let n=e.unapply(this.editor);return this.announceUndoCallback(e),this.fireUpdateEvent(1,e),this.editor.notifier.dispatch(5,{kind:5,command:e}),n}}redo(){let e=Tt(this,ys).pop();if(e){Tt(this,Ba).push(e);let n=e.apply(this.editor);return this.announceRedoCallback(e),this.fireUpdateEvent(2,e),this.editor.notifier.dispatch(4,{kind:4,command:e}),n}}get undoStackSize(){return Tt(this,Ba).length}get redoStackSize(){return Tt(this,ys).length}clearAll(){for(;this.undoStackSize>0;)this.undo();xn(this,Ba,[]),xn(this,ys,[])}},Ba=new WeakMap,ys=new WeakMap,gee),Bqe=Uqe,o7={number:"1.28.0"};function jqe(r,e){let n=Ede(r,{title:r.localization.about,contentClassNames:["about-dialog-content"]});for(let i of e){let o=document.createElement(i.minimized?"details":"div");o.classList.add("about-entry");let a=document.createElement(i.minimized?"summary":"h2");if(typeof i.heading=="string")a.innerText=i.heading;else{let s=document.createElement("a");s.href=i.heading.href.replace(/^javascript:/i,""),s.text=i.heading.text,a.appendChild(s)}if(o.appendChild(a),i.text){let s=document.createElement("div");s.innerText=i.text,o.appendChild(s)}n.appendChild(o)}return{close:()=>n.close()}}var Fqe=jqe;function Hqe(r,e,n){let i=e.w,o=e.h;if(n!=null&&n.minDimension&&i<n.minDimension){let a=n.minDimension;o*=a/(i||1),i=a}if(n!=null&&n.minDimension&&o<n.minDimension){let a=n.minDimension;i*=a/(o||1),o=a}r.setAttribute("width",xs(i)),r.setAttribute("height",xs(o))}var Wqe=Hqe;function Bde(r,e,n){let i=r.getImportExportViewport().getTemporaryClone();if(n!=null&&n.minDimension){let s=i.visibleRect,l=s;l.w<=0&&(l=new Lt(l.x,l.y,n.minDimension,l.h)),l.h<=0&&(l=new Lt(l.x,l.y,l.w,n.minDimension)),l.eq(s)||i.updateScreenSize(l.size)}let{element:o,renderer:a}=z0.fromViewport(i,{sanitize:n.sanitize??!1,useViewBoxForPositioning:!0});return e(a,()=>{r.getAutoresizeEnabled()?o.classList.add(S9):o.classList.remove(S9);let s=i.visibleRect;return Wqe(o,s,n),o}),o}function Vqe(r,e){return Bde(r,(n,i)=>{r.renderAll(n),i()},e)}function qqe(r,e,n){return new Promise(i=>{Bde(r,async(o,a)=>{await r.renderAllAsync(o,e);let s=a();i(s)},n)})}var Gqe=class extends XS{constructor(){super();oe(this,"canShowContextMenu",!1);oe(this,"contextMenuTriggerPointer");oe(this,"contextMenuStartPoint");oe(this,"stationaryDetector",null);oe(this,"clickTolerance",12)}canMakeLongPressMenuEvent(n){let i=[2];return n.allPointers.length===1&&i.includes(n.current.device)}onEvent(n){var o,a,s;let i=()=>h9(n)&&this.canShowContextMenu&&this.emit({kind:9,screenPos:n.current.screenPos,canvasPos:n.current.canvasPos})?(this.emit({kind:3}),!0):!1;if(n.kind===0)n.allPointers.length===1?(this.canShowContextMenu=!0,this.contextMenuTriggerPointer=n.current,this.contextMenuStartPoint=n.current.screenPos,this.canMakeLongPressMenuEvent(n)&&(this.stationaryDetector=new KO(n.current,GO,i))):this.canShowContextMenu=!1;else if(n.kind===1){if(this.canShowContextMenu){(o=this.stationaryDetector)==null||o.onPointerMove(n.current);let l=n.current.screenPos.minus(this.contextMenuStartPoint),c=this.clickTolerance;l.length()>c&&(this.canShowContextMenu=!1)}}else if(n.kind===2&&((a=this.stationaryDetector)==null||a.destroy(),((s=this.contextMenuTriggerPointer)==null?void 0:s.id)===n.current.id&&this.contextMenuTriggerPointer.device===4&&i()))return!0;return this.emit(n)}},Kqe=class jde extends XS{constructor(n,i){super();oe(this,"snapToGridEnabled",!1);oe(this,"angleLockEnabled",!1);oe(this,"startPointCanvas",null);this.shortcuts=n,this.viewport=i}xyAxesSnap(n){if(!this.startPointCanvas)return n;let i=this.viewport.canvasToScreen(this.startPointCanvas);return n.lockedToXYAxesScreen(i,this.viewport)}mapPointerEvent(n){let i=o=>n.allPointers.length>1?o:this.snapToGridEnabled?o.snappedToGrid(this.viewport):this.angleLockEnabled&&this.startPointCanvas?this.xyAxesSnap(o):o;return{kind:n.kind,current:i(n.current),allPointers:n.allPointers.map(i)}}onEvent(n){let i=this.shortcuts;(n.kind===0||n.kind===1||n.kind===2)&&(n.kind===0&&(this.startPointCanvas=n.current.canvasPos),n=this.mapPointerEvent(n));let o=this.emit(n);if(n.kind===6||!o&&n.kind===5){let a=n.kind===5;i.matchesShortcut(y3,n)&&(this.snapToGridEnabled=a,o=!0),i.matchesShortcut(ide,n)&&(this.angleLockEnabled=a,o=!0)}return o}static fromEditor(n){return new jde(n.shortcuts,n.viewport)}},Vq={Control:"ControlLeft","=":"Equal","-":"Minus",";":"Semicolon"," ":"Space"};function Xqe(r){let e=r.toUpperCase();return"A"<=e&&e<="Z"?`Key${e}`:"0"<=r&&r<="9"?`Digit${r}`:r in Vq?Vq[r]:r}var Yqe=Xqe;function Zqe(r,e){let n=[],i=(c,u)=>c.key===u.key&&c.code===u.code,o=c=>n.some(u=>i(u,c)),a=c=>({code:c.code,key:c.key,ctrlKey:c.ctrlKey,altKey:c.altKey,shiftKey:c.shiftKey,metaKey:c.metaKey}),s=c=>{if(c.type==="keydown"){if(o(c)||n.push(a(c)),!e.filter(c))return;e.handleKeyDown(c)}else{if(console.assert(c.type==="keyup"),n=n.filter(u=>!i(u,c)),!e.filter(c))return;e.handleKeyUp(c)}};r.addEventListener("keydown",c=>{s(c)}),r.addEventListener("keyup",c=>{s(c)}),r.addEventListener("focusout",c=>{let u=!1;if(c.relatedTarget){let d=c.relatedTarget;u=r.contains(d)||e.getHandlesKeyEventsFrom(d)}if(!u){for(let d of n)e.handleKeyUp(new KeyboardEvent("keyup",{...d}));n=[]}});let l=c=>{let u=!1,d=!1,h=!1,f=!1;for(let g of n){let v=g.code;u||(u=!!/^Shift(Left|Right)$/.test(v)),d||(d=!!/^Control(Left|Right)$/.test(v)),h||(h=!!/^Alt(Left|Right)$/.test(v)),f||(f=!!/^Meta(Left|Right)$/.test(v))}let m=g=>g?"keydown":"keyup",b={shiftKey:c.shiftKey,altKey:c.altKey,metaKey:c.metaKey,ctrlKey:c.ctrlKey};c.shiftKey!==u&&s(new KeyboardEvent(m(c.shiftKey),{...b,key:"Shift",code:"ShiftLeft"})),c.altKey!==h&&s(new KeyboardEvent(m(c.altKey),{...b,key:"Alt",code:"AltLeft"})),c.ctrlKey!==d&&s(new KeyboardEvent(m(c.ctrlKey),{...b,key:"Control",code:"ControlLeft"})),c.metaKey!==f&&s(new KeyboardEvent(m(c.metaKey),{...b,key:"Meta",code:"MetaLeft"}))};r.addEventListener("mousedown",c=>{l(c)}),r.addEventListener("mousemove",c=>{l(c)})}var Jqe=Zqe;function Qqe(r){return(e=>e.replace(/([^\n])\n([^\n])/g,"$1 $2"))(`
MIT License

Copyright (c) ${r}

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.`)}var a7=Qqe,eGe=class{constructor(e,n={}){oe(this,"container");oe(this,"renderingRegion");oe(this,"display");oe(this,"history");oe(this,"image");oe(this,"viewport");oe(this,"localization");oe(this,"icons");oe(this,"shortcuts");oe(this,"toolController");oe(this,"notifier");oe(this,"loadingWarning");oe(this,"accessibilityAnnounceArea");oe(this,"accessibilityControlArea");oe(this,"eventListenerTargets",[]);oe(this,"readOnly");oe(this,"settings");oe(this,"previousAccessibilityAnnouncement","");oe(this,"pointers",{});oe(this,"announceUndoCallback",e=>{this.announceForAccessibility(this.localization.undoAnnouncement(e.description(this,this.localization)))});oe(this,"announceRedoCallback",e=>{this.announceForAccessibility(this.localization.redoAnnouncement(e.description(this,this.localization)))});oe(this,"nextRerenderListeners",[]);oe(this,"rerenderQueued",!1);oe(this,"closeAboutDialog",null);var i,o,a,s,l;if(this.localization={...oVe(),...n.localization},this.settings={wheelEventsEnabled:n.wheelEventsEnabled??!0,renderingMode:n.renderingMode??1,localization:this.localization,minZoom:n.minZoom??2e-10,maxZoom:n.maxZoom??1e12,keyboardShortcutOverrides:n.keyboardShortcutOverrides??{},iconProvider:n.iconProvider??new kqe,notices:n.notices??[],appInfo:n.appInfo?{...n.appInfo}:null,pens:{additionalPenTypes:((i=n.pens)==null?void 0:i.additionalPenTypes)??[],filterPenTypes:((o=n.pens)==null?void 0:o.filterPenTypes)??(()=>!0)},text:{fonts:((a=n.text)==null?void 0:a.fonts)??["sans-serif","serif","monospace"]},image:{showImagePicker:((s=n.image)==null?void 0:s.showImagePicker)??void 0},svg:{loaderPlugins:((l=n.svg)==null?void 0:l.loaderPlugins)??[]},clipboardApi:n.clipboardApi??null,disableZoom:n.disableZoom??!1},this.settings.minZoom>this.settings.maxZoom)throw new Error("Minimum zoom must be lesser than maximum zoom!");this.readOnly=yp.fromInitialValue(!1),this.icons=this.settings.iconProvider,this.shortcuts=new kn(this.settings.keyboardShortcutOverrides),this.container=document.createElement("div"),this.renderingRegion=document.createElement("div"),this.container.appendChild(this.renderingRegion),this.container.classList.add("imageEditorContainer","easydrawer"),this.loadingWarning=document.createElement("div"),this.loadingWarning.classList.add("loadingMessage"),this.loadingWarning.ariaLive="polite",this.container.appendChild(this.loadingWarning),this.accessibilityControlArea=document.createElement("textarea"),this.accessibilityControlArea.setAttribute("placeholder",this.localization.accessibilityInputInstructions),this.accessibilityControlArea.style.opacity="0",this.accessibilityControlArea.style.width="0",this.accessibilityControlArea.style.height="0",this.accessibilityControlArea.style.position="absolute",this.accessibilityAnnounceArea=document.createElement("div"),this.accessibilityAnnounceArea.setAttribute("aria-live","assertive"),this.accessibilityAnnounceArea.className="accessibilityAnnouncement",this.container.appendChild(this.accessibilityAnnounceArea),this.renderingRegion.style.touchAction="none",this.renderingRegion.className="imageEditorRenderArea",this.renderingRegion.appendChild(this.accessibilityControlArea),this.renderingRegion.setAttribute("tabIndex","0"),this.renderingRegion.setAttribute("alt",""),this.notifier=new FO,this.viewport=new On((c,u)=>{this.notifier.dispatch(7,{kind:7,newTransform:u,oldTransform:c})}),this.display=new Pqe(this,this.settings.renderingMode,this.renderingRegion),this.history=new Bqe(this,this.announceRedoCallback,this.announceUndoCallback),this.toolController=new xqe(this,this.localization),this.toolController.addInputMapper(Kqe.fromEditor(this)),this.toolController.addInputMapper(new Gqe),e.appendChild(this.container),this.image=new ca(this.display.width,this.display.height),this.viewport.updateScreenSize(He.of(this.display.width,this.display.height)),this.registerListeners(),this.queueRerender(),this.hideLoadingWarning(),this.notifier.on(7,c=>{if(c.kind!==7)return;let u=h=>h.transformVec3(He.unitX).length(),d=u(c.newTransform);if(d>this.settings.maxZoom||d<this.settings.minZoom){let h=u(c.oldTransform),f=ut.identity;h<=this.settings.maxZoom&&h>=this.settings.minZoom?f=c.oldTransform:f=ut.scaling2D((this.settings.minZoom+this.settings.maxZoom)/2),this.viewport.resetTransform(f)}else isFinite(d)||(console.warn(`Non-finite zoom (${d}) detected. Resetting the viewport. This was likely caused by division by zero.`),isFinite(u(c.oldTransform))?this.viewport.resetTransform(c.oldTransform):this.viewport.resetTransform())})}getCurrentSettings(){return{...this.settings}}getRootElement(){return this.container}getOutputBBoxInDOM(){return Lt.of(this.renderingRegion.getBoundingClientRect())}showLoadingWarning(e){let n=Math.round(e*100);this.loadingWarning.innerText=this.localization.loading(n),this.loadingWarning.style.display="block"}hideLoadingWarning(){this.loadingWarning.style.display="none",this.announceForAccessibility(this.localization.doneLoading)}announceForAccessibility(e){e===this.previousAccessibilityAnnouncement&&(e=e+". "),this.accessibilityAnnounceArea.innerText=e,this.previousAccessibilityAnnouncement=e}addToolbar(e=!0){let n=new _qe(this,this.container,this.localization);return e&&n.addDefaults(),n}registerListeners(){this.handlePointerEventsFrom(this.renderingRegion),this.handleKeyEventsFrom(this.renderingRegion),this.handlePointerEventsFrom(this.accessibilityAnnounceArea);let e=[this.renderingRegion,this.accessibilityAnnounceArea,this.accessibilityControlArea,this.loadingWarning];for(let o of e)o.addEventListener("drag",a=>(a.preventDefault(),!1)),o.addEventListener("dragstart",a=>(a.preventDefault(),!1));this.container.addEventListener("wheel",o=>{this.handleHTMLWheelEvent(o)});let n=()=>{this.viewport.updateScreenSize(He.of(this.display.width,this.display.height)),this.image.updateScreenSizeImage(this.display.width,this.display.height),this.rerender(),this.updateEditorSizeVariables()};if("ResizeObserver"in window){let o=new ResizeObserver(n);o.observe(this.renderingRegion),o.observe(this.container)}else addEventListener("resize",n);this.accessibilityControlArea.addEventListener("input",()=>{this.accessibilityControlArea.value=""});let i=new $0(this);document.addEventListener("copy",async o=>{this.isEventSink(document.querySelector(":focus"))&&i.copy(o)}),document.addEventListener("paste",o=>{this.handlePaste(o)})}updateEditorSizeVariables(){this.container.style.setProperty("--editor-current-width-px",`${this.container.clientWidth}px`),this.container.style.setProperty("--editor-current-height-px",`${this.container.clientHeight}px`),this.container.style.setProperty("--editor-current-display-width-px",`${this.renderingRegion.clientWidth}px`),this.container.style.setProperty("--editor-current-display-height-px",`${this.renderingRegion.clientHeight}px`)}handleHTMLWheelEvent(e){let n=$t.of(e.deltaX,e.deltaY,e.deltaZ);if(!e.ctrlKey&&!e.metaKey)if(this.settings.wheelEventsEnabled){if(this.settings.wheelEventsEnabled==="only-if-focused"&&!this.container.querySelector(":focus"))return}else return;e.deltaMode===WheelEvent.DOM_DELTA_LINE?n=n.times(15):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(n=n.times(100)),(e.ctrlKey||e.metaKey)&&(n=$t.of(0,0,e.deltaY));let i=this.getOutputBBoxInDOM(),o=He.of(e.clientX,e.clientY).minus(i.topLeft);return this.toolController.dispatchInputEvent({kind:4,delta:n,screenPos:o})?(e.preventDefault(),!0):!1}getPointerList(){let e=performance.now(),n=[];for(let i in this.pointers)this.pointers[i]&&e-this.pointers[i].timeStamp<2e3&&n.push(this.pointers[i]);return n}setPointerCapture(e,n){try{e.setPointerCapture(n)}catch(i){console.warn("Failed to setPointerCapture",i)}}releasePointerCapture(e,n){try{e.releasePointerCapture(n)}catch(i){console.warn("Failed to releasePointerCapture",i)}}handleHTMLPointerEvent(e,n){var a;let i=this.renderingRegion,o=n.target??this.renderingRegion;if(e==="pointerdown"){let s=c4.ofEvent(n,!0,this.viewport,i);this.pointers[s.id]=s,this.setPointerCapture(o,s.id);let l={kind:0,current:s,allPointers:this.getPointerList()};return this.toolController.dispatchInputEvent(l),!0}else if(e==="pointermove"){let s=c4.ofEvent(n,((a=this.pointers[n.pointerId])==null?void 0:a.down)??!1,this.viewport,i);if(s.down){let l=this.pointers[s.id];if(l&&s.screenPos.distanceTo(l.screenPos)<2)return!1;this.pointers[s.id]=s,this.toolController.dispatchInputEvent({kind:1,current:s,allPointers:this.getPointerList()})&&n.preventDefault()}return!0}else if(e==="pointercancel"||e==="pointerup"){let s=c4.ofEvent(n,!1,this.viewport,i);return this.pointers[s.id]?(this.pointers[s.id]=s,this.releasePointerCapture(o,s.id),this.toolController.dispatchInputEvent({kind:2,current:s,allPointers:this.getPointerList()})&&n.preventDefault(),delete this.pointers[s.id],!0):!1}return e}isEventSink(e){let n=e;for(;n!==null;){for(let i of this.eventListenerTargets)if(i===n)return!0;n=n.parentElement}return!1}async handleDrop(e){e.preventDefault(),await this.handlePaste(e)}async handlePaste(e){let n=document.querySelector(":focus")??e.target;if(this.isEventSink(n))return await new $0(this).paste(e)}handlePointerEventsFrom(e,n,i){let o={touchstart:s=>{i&&!i("touchstart",s)||s.preventDefault()},contextmenu:s=>{i&&!i("contextmenu",s)||s.preventDefault()}},a=["pointerdown","pointermove","pointerup","pointercancel"];for(let s of a)o[s]=l=>{let c=l;if(!(n&&!n(s,c)))return this.handleHTMLPointerEvent(s,c)};for(let s in o)e.addEventListener(s,o[s]);return{remove:()=>{for(let s in o)e.removeEventListener(s,o[s])}}}handlePointerEventsExceptClicksFrom(e,n,i){let o=Object.create(null);return this.handlePointerEventsFrom(e,(a,s)=>{if(n&&!n(a,s))return!1;let l=He.of(s.pageX??s.clientX,s.pageY??s.clientY),c=s.pointerId??0,u=!0;if(a==="pointerdown")o[c]={eventBuffer:[[a,s]],startPoint:l,hasMovedSignificantly:!1},this.setPointerCapture(e,s.pointerId),u=!1;else if(a==="pointermove"&&o[c]){let d=o[c].startPoint,h=o[c].eventBuffer;if(d&&l.distanceTo(d)<10&&!o[c].hasMovedSignificantly)h.push([a,s]),u=!1;else{for(let[f,m]of h)this.handleHTMLPointerEvent(f,m);o[c].eventBuffer=[],o[c].hasMovedSignificantly=!0,u=!0}}else a==="pointermove"?u=!0:(a==="pointerup"||a==="pointercancel")&&o[c]&&o[c].eventBuffer.length>0&&(this.releasePointerCapture(e,s.pointerId),u=!1,delete o[c]);return u},i)}handleHTMLKeyDownEvent(e){console.assert(e.type==="keydown",`handling a keydown event with type ${e.type}`);let n=Rue(e);return this.toolController.dispatchInputEvent(n)?(e.preventDefault(),!0):n.key==="t"||n.key==="T"?(e.preventDefault(),this.display.rerenderAsText(),!0):n.key==="Escape"?(this.renderingRegion.blur(),!0):!1}handleHTMLKeyUpEvent(e){console.assert(e.type==="keyup",`Handling a keyup event with type ${e.type}`);let n=Mue(e);return this.toolController.dispatchInputEvent(n)?(e.preventDefault(),!0):!1}handleKeyEventsFrom(e,n=()=>!0){Jqe(e,{filter:n,handleKeyDown:i=>{this.handleHTMLKeyDownEvent(i)},handleKeyUp:i=>{this.handleHTMLKeyUpEvent(i)},getHandlesKeyEventsFrom:i=>this.eventListenerTargets.includes(i)}),e.addEventListener("dragover",i=>{i.preventDefault()}),e.addEventListener("drop",i=>{this.handleDrop(i)}),this.eventListenerTargets.push(e)}setReadOnly(e){e!==this.readOnly.get()&&(this.readOnly.set(e),this.notifier.dispatch(10,{kind:10,editorIsReadOnly:e}))}isReadOnlyReactiveValue(){return this.readOnly}isReadOnly(){return this.readOnly}dispatch(e,n=!0){let i=this.dispatchNoAnnounce(e,n),o=e.description(this,this.localization);return this.announceForAccessibility(o),i}dispatchNoAnnounce(e,n=!1){let i=e.apply(this);return n&&this.history.push(e,!1),i}async asyncApplyOrUnapplyCommands(e,n,i){console.assert(i>0),this.display.setDraftMode(!0);for(let o=0;o<e.length;o+=i){this.showLoadingWarning(o/e.length);for(let a=o;a<e.length&&a<o+i;a++){let s=e[a];n?s.apply(this):s.unapply(this)}o+i<e.length&&await new Promise(a=>{this.rerender(),requestAnimationFrame(a)})}this.display.setDraftMode(!1),this.hideLoadingWarning()}asyncApplyCommands(e,n){return this.asyncApplyOrUnapplyCommands(e,!0,n)}asyncUnapplyCommands(e,n,i=!1){return i&&(e=[...e],e.reverse()),this.asyncApplyOrUnapplyCommands(e,!1,n)}queueRerender(){return this.rerenderQueued||(this.rerenderQueued=!0,requestAnimationFrame(()=>{this.rerenderQueued&&(this.rerender(),this.rerenderQueued=!1)})),new Promise(e=>{this.nextRerenderListeners.push(()=>e())})}isRerenderQueued(){return this.rerenderQueued}rerender(e=!0){if(this.display.startRerender(),this.display.width===0||this.display.height===0)return;let n=this.display.getDryInkRenderer();this.image.renderWithCache(n,this.display.getCache(),this.viewport),this.rerenderQueued=!1,this.nextRerenderListeners.forEach(i=>i()),this.nextRerenderListeners=[]}drawWetInk(...e){for(let n of e)this.display.getWetInkRenderer().drawPath(n)}clearWetInk(){this.display.getWetInkRenderer().clear()}focus(){this.renderingRegion.focus()}createHTMLOverlay(e){return e.classList.add("overlay","easydrawer-editor-overlay"),this.container.appendChild(e),{remove:()=>e.remove()}}anchorElementToCanvas(e,n){n instanceof ut&&(n=wWe.fromImmutable(n));let i=document.createElement("div");i.classList.add("anchored-element-overlay");let o=document.createElement("div");o.classList.add("content-wrapper"),e.classList.add("content");let a=()=>{let c=n.get().transformVec3(He.unitX).angle()+this.viewport.getRotationAngle(),u=this.viewport.canvasToScreenTransform.rightMul(n.get());i.style.setProperty("--full-transform",u.toCSSMatrix());let d=u.transformVec2(He.zero);i.style.setProperty("--position-x",`${d.x}px`),i.style.setProperty("--position-y",`${d.y}px`),i.style.setProperty("--rotation",`${c*180/Math.PI}deg`),i.style.setProperty("--scale",`${u.getScaleFactor()}`)};a();let s=n.onUpdate(a),l=this.notifier.on(7,a);return o.appendChild(e),i.appendChild(o),i.classList.add("overlay","easydrawer-editor-overlay"),this.renderingRegion.insertAdjacentElement("afterend",i),{remove:()=>{i.remove(),s.remove(),l.remove()}}}addStyleSheet(e){let n=document.createElement("style");return n.innerText=e,this.container.appendChild(n),n}sendKeyboardEvent(e,n,i=!1,o=!1,a=void 0){a??(a=n.toUpperCase()===n&&n.toLowerCase()!==n),this.toolController.dispatchInputEvent({kind:e,key:n,code:Yqe(n),ctrlKey:i,altKey:o,shiftKey:a})}sendPenEvent(e,n,i){Lqe(this,e,n,i)}async addAndCenterComponents(e,n=!0,i){let o=null;for(let h of e)o?o=o.union(h.getBBox()):o=h.getBBox();if(!o)return;let a=this.viewport.visibleRect,s=a.width/o.width,l=a.height/o.height,c=s;(o.width*c>a.width||o.height*c>a.height)&&(c=l),c*=2/3,c=On.roundScaleRatio(c);let u=ut.translation(a.center.minus(o.center)).rightMul(ut.scaling2D(c,o.center)),d=[];for(let h of e)d.push(ca.addComponent(h)),d.push(h.transformBy(u));if(await this.dispatch(zd(d,{applyChunkSize:100,description:i}),!0),n)for(let h of this.toolController.getMatchingTools(e6))h.setEnabled(!0),h.setSelection(e)}toDataURL(e="image/png",n){let{element:i,renderer:o}=jy.fromViewport(this.image.getImportExportViewport(),{canvasSize:n});return this.image.renderAll(o),i.toDataURL(e)}toSVG(e){return Vqe(this.image,e??{})}async toSVGAsync(e={}){let n=e.pauseAfterCount??100;return await qqe(this.image,async(i,o,a)=>e.onProgress&&await e.onProgress(o,a)===!1?!1:(o%n===0&&await Cb(),!0),{minDimension:e.minDimension})}async loadFrom(e){this.showLoadingWarning(0),this.display.setDraftMode(!0);let n=this.image.getBackgroundComponents(),i=new ul(n);await e.start(async o=>{await this.dispatchNoAnnounce(ca.addComponent(o))},(o,a)=>o%500===0?(this.showLoadingWarning(o/a),this.rerender(),Cb()):null,(o,a)=>{this.dispatchNoAnnounce(this.setImportExportRect(o),!1),this.dispatchNoAnnounce(this.viewport.zoomTo(o),!1),a&&this.dispatchNoAnnounce(this.image.setAutoresizeEnabled(a.autoresize),!1)}),this.image.getBackgroundComponents().length!==n.length&&await this.dispatchNoAnnounce(i),this.hideLoadingWarning(),this.display.setDraftMode(!1),this.queueRerender()}getTopmostBackgroundComponent(){let e=null;for(let n of this.image.getBackgroundComponents())n instanceof dl&&(e=n);return e}setBackgroundStyle(e){var h,f;let n=this.getTopmostBackgroundComponent(),i=[];n&&i.push(new ul([n]));let o=((h=n==null?void 0:n.getBackgroundType)==null?void 0:h.call(n))??2,a=((f=n==null?void 0:n.getStyle)==null?void 0:f.call(n).color)??mt.transparent,s=this.image.getAutoresizeEnabled(),l=e.color&&o===2?0:o,c=e.type??l,u=e.color??a,d=e.autoresize??s;if(c!==2){let m=new dl(c,u);i.push(ca.addComponent(m))}return d!==s&&(i.push(this.image.setAutoresizeEnabled(d)),!d&&this.image.getImportExportRect().maxDimension===0&&i.push(this.image.setImportExportRect(this.image.getImportExportRect().resizedTo(He.of(500,500))))),zd(i)}setBackgroundColor(e){let n=this.getTopmostBackgroundComponent();if(n)return n.updateStyle({color:e});{let i=e.eq(mt.transparent)?2:0;return n=new dl(i,e),this.image.addComponent(n)}}estimateBackgroundColor(){let e=[];for(let n of this.image.getBackgroundComponents())n instanceof dl&&e.push(n.getStyle().color??mt.transparent);return mt.average(e)}getImportExportRect(){return this.image.getImportExportViewport().visibleRect}setImportExportRect(e){return this.image.setImportExportRect(e)}async loadFromSVG(e,n=!1){var o;let i=Ide.fromString(e,{sanitize:n,plugins:(o=this.getCurrentSettings().svg)==null?void 0:o.loaderPlugins});await this.loadFrom(i)}showAboutDialog(){var o;let e=this.icons.licenseInfo(),n=[];if(this.settings.appInfo){let a=[];this.settings.appInfo.version&&a.push(`v${this.settings.appInfo.version}`,""),this.settings.appInfo.description?a.push(this.settings.appInfo.description+`
`):a.push(`easydrawer v${o7.number}`),n.push({heading:`${this.settings.appInfo.name}`,text:a.join(`
`)})}else n.push({heading:"easydrawer",text:`v${o7.number}`});let i=this.viewport.getScreenRectSize();n.push({heading:this.localization.developerInformation,text:["Image debug information (from when this dialog was opened):",`    ${this.viewport.getScaleFactor()}x zoom, ${180/Math.PI*this.viewport.getRotationAngle()} rotation`,`    ${this.image.estimateNumElements()} components`,`    auto-resize: ${this.image.getAutoresizeEnabled()?"enabled":"disabled"}`,`    image size: ${this.getImportExportRect().w}x${this.getImportExportRect().h}`,`    screen size: ${i.x}x${i.y}`,`    device pixel ratio: ${this.display.getDevicePixelRatio()}`,"    cache:",`        ${this.display.getCache().getDebugInfo().replace(/(\n)/g,`
        `)}`].join(`
`),minimized:!0}),n.push({heading:this.localization.softwareLibraries,text:[`This image editor is powered by easydrawer v${o7.number}.`,"","At runtime, easydrawer uses"," - The Coloris color picker: https://github.com/mdbassit/Coloris"," - The bezier.js Bzier curve library: https://github.com/Pomax/bezierjs","","Both are licensed under the MIT license:","","","== Coloris ==",a7("2021 Mohammed Bassit"),"","","== Bezier.js ==",a7('2023 Mike "Pomax" Kamermans'),"","","== easydrawer ==",a7("2023-2025 Henry Heino"),""].join(`
`),minimized:!0}),e&&n.push({heading:"Icon Pack",text:e,minimized:!0}),n.push(...this.settings.notices),(o=this.closeAboutDialog)==null||o.call(this),this.closeAboutDialog=Fqe(this,n).close}remove(){this.container.remove(),this.toolController.onEditorDestroyed()}async uploadImages(e){let n=Array.from(e);if(n.length===0)return;let i=(await Promise.all(n.map(async l=>Cde(l)))).flat(),o=[],a=ut.identity,s=null;for(let l of i){let c=new Image;c.src=l;let u;try{u=await Nv.fromImage(c,a)}catch(f){console.error("Error loading image",f);return}let d=u.getBBox();if(d.area===0)return;o.push(u),s??(s=d),s.union(d);let h=He.of(0,d.height);a=a.rightMul(ut.translation(h))}o.length>0&&this.addAndCenterComponents(o)}},Fde=eGe;const tGe="_wrapper_rraz2_1",nGe="_tool_rraz2_17",rGe="_active_rraz2_37",iGe="_pen_rraz2_41",oGe="_line_rraz2_48",aGe="_options_rraz2_56",sGe="_colorWrap_rraz2_66",lGe="_color_rraz2_66",cGe="_colorActive_rraz2_83",Ot={wrapper:tGe,tool:nGe,active:rGe,pen:iGe,line:oGe,options:aGe,colorWrap:sGe,color:lGe,colorActive:cGe};function uGe(r){return E.jsx("svg",{height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",...r,children:E.jsx("path",{color:"currentColor",d:"M2 9.2v3.6M12.8 2H9.2M7.5 20H9M20 7.5V9M2.133 4.699c.155-.727.415-1.274.854-1.712c.426-.426.954-.684 1.652-.84m15.228 2.552c-.155-.727-.415-1.274-.854-1.712c-.417-.417-.932-.673-1.608-.83M4.64 19.853c-.698-.156-1.226-.414-1.652-.84c-.43-.43-.69-.965-.845-1.673m11.638 3.626c-1.812.125-3.607-8.326-2.374-9.559s9.684.561 9.559 2.373c-.087 1.187-2.095 1.656-2.037 2.711c.018.309.408.59 1.188 1.154c.543.39 1.096.77 1.629 1.175a.66.66 0 0 1 .234.687a3.35 3.35 0 0 1-2.472 2.473a.66.66 0 0 1-.688-.235c-.404-.533-.784-1.086-1.175-1.628c-.563-.78-.844-1.17-1.153-1.188c-1.055-.059-1.524 1.95-2.71 2.037",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})})}function dGe(r){return E.jsx("svg",{height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",...r,children:E.jsx("path",{d:"M20.06 18a4 4 0 0 1-.2-.89c-.67.7-1.48 1.05-2.41 1.05c-.83 0-1.52-.24-2.05-.71c-.53-.45-.8-1.06-.8-1.79c0-.88.33-1.56 1-2.05s1.61-.73 2.83-.73h1.4v-.64q0-.735-.45-1.17c-.3-.29-.75-.43-1.33-.43c-.52 0-.95.12-1.3.36c-.35.25-.52.54-.52.89h-1.46c0-.43.15-.84.45-1.24c.28-.4.71-.71 1.22-.94c.51-.21 1.06-.35 1.69-.35c.98 0 1.74.24 2.29.73s.84 1.16.86 2.02V16c0 .8.1 1.42.3 1.88V18zm-2.4-1.12c.45 0 .88-.11 1.29-.32c.4-.21.7-.49.88-.83v-1.57H18.7c-1.77 0-2.66.47-2.66 1.41c0 .43.15.73.46.96c.3.23.68.35 1.16.35m-12.2-3.17h4.07L7.5 8.29zM6.64 6h1.72l4.71 12h-1.93l-.97-2.57H4.82L3.86 18H1.93z",fill:"currentColor"})})}function hGe(r){return E.jsx("svg",{height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",...r,children:E.jsx("path",{d:"M3 21v-4.25L16.2 3.575q.3-.275.663-.425t.762-.15t.775.15t.65.45L20.425 5q.3.275.438.65T21 6.4q0 .4-.137.763t-.438.662L7.25 21zM17.6 7.8L19 6.4L17.6 5l-1.4 1.4z",fill:"currentColor"})})}function fGe(r){return E.jsx("svg",{height:"1em",viewBox:"0 0 256 256",width:"1em",xmlns:"http://www.w3.org/2000/svg",...r,children:E.jsx("path",{d:"M253.66 106.34a8 8 0 0 0-11.32 0L192 156.69L107.31 72l50.35-50.34a8 8 0 1 0-11.32-11.32L96 60.69a16 16 0 0 0-2.82 18.81L72 100.69a16 16 0 0 0 0 22.62l4.69 4.69l-58.35 58.34a8 8 0 0 0 3.13 13.25l72 24A7.9 7.9 0 0 0 96 224a8 8 0 0 0 5.66-2.34L136 187.31l4.69 4.69a16 16 0 0 0 22.62 0l21.19-21.18a16 16 0 0 0 18.81-2.82l50.35-50.34a8 8 0 0 0 0-11.32M93.84 206.85l-55-18.35L88 139.31L124.69 176ZM152 180.69L83.31 112L104 91.31L172.69 160Z",fill:"currentColor"})})}function pGe(r){return E.jsxs("svg",{height:"1em",viewBox:"0 0 16 16",width:"1em",xmlns:"http://www.w3.org/2000/svg",...r,children:[E.jsx("path",{d:"m2.648 9.937l7.29-7.288a2.21 2.21 0 0 1 3.124 0l2.29 2.288a2.21 2.21 0 0 1 0 3.126L10.413 13H12.5a.5.5 0 0 1 0 1H4.501a2.2 2.2 0 0 1-1.563-.647l.707-.707c.227.226.535.354.856.354h4.005a1.2 1.2 0 0 0 .848-.354l1.292-1.293l-4-4l-3.29 3.291a1.21 1.21 0 0 0 0 1.712l.29.29l-.708.707l-.29-.29a2.21 2.21 0 0 1 0-3.126M8 6h6.89a1.2 1.2 0 0 0-.246-.356L14 5H9zm2-2h3l-.645-.644a1.21 1.21 0 0 0-1.71 0zm4.89 3H7.708l1 1H14l.644-.644A1.2 1.2 0 0 0 14.891 7zM9.708 9l1.646 1.646L13 9z",fill:"currentColor"}),E.jsx("path",{d:"M14 11.5a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0m1.5-.5a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1m-1 2a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1z",fill:"currentColor"})]})}function mGe(r){return E.jsx("svg",{height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",...r,children:E.jsx("path",{d:"M3 3h18v18H3zm2 2v14h14V5z",fill:"currentColor"})})}function gGe(r){return E.jsx("svg",{height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",...r,children:E.jsx("path",{d:"M2 20V4h20v16zm2-2h16V6H4zm0 0V6z",fill:"currentColor"})})}function yGe(r){return E.jsx("svg",{height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",...r,children:E.jsx("path",{d:"M12 22q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12t-2.325-5.675T12 4T6.325 6.325T4 12t2.325 5.675T12 20m0-8",fill:"currentColor"})})}function bGe(r){return E.jsx("svg",{height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",...r,children:E.jsx("path",{d:"M10.363 3.591L2.257 17.125a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636-2.87L13.637 3.59a1.914 1.914 0 0 0-3.274 0z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}function vGe(r){return E.jsx("svg",{height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",...r,children:E.jsx("path",{d:"m6.8 21l-5.2-9l5.2-9h10.4l5.2 9l-5.2 9zm1.15-2h8.1l4.025-7l-4.025-7h-8.1L3.9 12zM12 12",fill:"currentColor"})})}function xGe(r){return E.jsx("svg",{height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",...r,children:E.jsxs("g",{fill:"none",fillRule:"evenodd",children:[E.jsx("path",{d:"m12.594 23.258l-.012.002l-.071.035l-.02.004l-.014-.004l-.071-.036q-.016-.004-.024.006l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.016-.018m.264-.113l-.014.002l-.184.093l-.01.01l-.003.011l.018.43l.005.012l.008.008l.201.092q.019.005.029-.008l.004-.014l-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.003-.011l.018-.43l-.003-.012l-.01-.01z"}),E.jsx("path",{d:"M10.586 2.807a2 2 0 0 1 2.828 0l7.778 7.779a2 2 0 0 1 0 2.828l-7.778 7.778a2 2 0 0 1-2.828 0l-7.778-7.778a2 2 0 0 1 0-2.828zM12 4.222L4.222 12L12 19.778L19.778 12z",fill:"currentColor"})]})})}function wGe(r){return E.jsx("svg",{height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",...r,children:E.jsx("path",{d:"M16.01 11H4v2h12.01v3L20 12l-3.99-4z",fill:"currentColor"})})}function SGe(r){return E.jsx("svg",{height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",...r,children:E.jsx("path",{clipRule:"evenodd",d:"M7.53 3.47a.75.75 0 0 1 0 1.06L5.81 6.25H15a5.75 5.75 0 0 1 0 11.5H8a.75.75 0 0 1 0-1.5h7a4.25 4.25 0 0 0 0-8.5H5.81l1.72 1.72a.75.75 0 1 1-1.06 1.06l-3-3a.75.75 0 0 1 0-1.06l3-3a.75.75 0 0 1 1.06 0",fill:"currentColor",fillRule:"evenodd"})})}function kGe(r){return E.jsx("svg",{height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",...r,children:E.jsx("path",{clipRule:"evenodd",d:"M16.47 3.47a.75.75 0 0 1 1.06 0l3 3a.75.75 0 0 1 0 1.06l-3 3a.75.75 0 1 1-1.06-1.06l1.72-1.72H9a4.25 4.25 0 0 0 0 8.5h7a.75.75 0 0 1 0 1.5H9a5.75 5.75 0 0 1 0-11.5h9.19l-1.72-1.72a.75.75 0 0 1 0-1.06",fill:"currentColor",fillRule:"evenodd"})})}function TGe(r){return E.jsx("svg",{height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",...r,children:E.jsx("path",{d:"M7 21q-.825 0-1.412-.587T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.587 1.413T17 21zm2-4h2V8H9zm4 0h2V8h-2z",fill:"currentColor"})})}function EGe(r){return E.jsx("svg",{height:"1em",viewBox:"0 0 256 256",width:"1em",xmlns:"http://www.w3.org/2000/svg",...r,children:E.jsx("path",{d:"M211.81 83.79a28 28 0 0 1-33.12 4.83l-90.07 90.07a28 28 0 1 1-44.43-6.48a28 28 0 0 1 33.12-4.83l90.07-90.07a28 28 0 1 1 44.43 6.48",fill:"currentColor"})})}function CGe(r){return E.jsx("svg",{height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",...r,children:E.jsx("path",{d:"M12 20.325q-.35 0-.712-.125t-.638-.4l-1.725-1.575q-2.65-2.425-4.788-4.812T2 8.15Q2 5.8 3.575 4.225T7.5 2.65q1.325 0 2.5.562t2 1.538q.825-.975 2-1.537t2.5-.563q2.35 0 3.925 1.575T22 8.15q0 2.875-2.125 5.275T15.05 18.25l-1.7 1.55q-.275.275-.637.4t-.713.125M11.05 6.75q-.725-1.025-1.55-1.563t-2-.537q-1.5 0-2.5 1t-1 2.5q0 1.3.925 2.763t2.213 2.837t2.65 2.575T12 18.3q.85-.775 2.213-1.975t2.65-2.575t2.212-2.837T20 8.15q0-1.5-1-2.5t-2.5-1q-1.175 0-2 .538T12.95 6.75q-.175.25-.425.375T12 7.25t-.525-.125t-.425-.375m.95 4.725",fill:"currentColor"})})}function _Ge(r){return E.jsx("svg",{height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",...r,children:E.jsx("path",{d:"m7.625 6.4l2.8-3.625q.3-.4.713-.587T12 2t.863.188t.712.587l2.8 3.625l4.25 1.425q.65.2 1.025.738t.375 1.187q0 .3-.088.6t-.287.575l-2.75 3.9l.1 4.1q.025.875-.575 1.475t-1.4.6q-.05 0-.55-.075L12 19.675l-4.475 1.25q-.125.05-.275.063T6.975 21q-.8 0-1.4-.6T5 18.925l.1-4.125l-2.725-3.875q-.2-.275-.288-.575T2 9.75q0-.625.363-1.162t1.012-.763zM8.85 8.125L4 9.725L7.1 14.2L7 18.975l5-1.375l5 1.4l-.1-4.8L20 9.775l-4.85-1.65L12 4zM12 11.5",fill:"currentColor"})})}function AGe(r){return E.jsx("svg",{height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",...r,children:E.jsx("path",{d:"M12.01 6c2.61 0 4.89 1.86 5.4 4.43l.3 1.5l1.52.11c1.56.11 2.78 1.41 2.78 2.96c0 1.65-1.35 3-3 3h-13c-2.21 0-4-1.79-4-4c0-2.05 1.53-3.76 3.56-3.97l1.07-.11l.5-.95A5.46 5.46 0 0 1 12.01 6m0-2C9.12 4 6.6 5.64 5.35 8.04C2.35 8.36.01 10.91.01 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5c0-2.64-2.05-4.78-4.64-4.96C18.68 6.59 15.65 4 12.01 4",fill:"currentColor"})})}function DGe(r){return E.jsx("svg",{height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",...r,children:E.jsx("path",{d:"M5.586 6.45A2 2 0 0 1 7.509 5h11.84a2 2 0 0 1 1.923 2.55l-2.858 10A2 2 0 0 1 16.491 19H4.651a2 2 0 0 1-1.923-2.55z",fill:"none",stroke:"currentColor",strokeWidth:"2"})})}const MGe=[mt.blackHighlight,mt.ofRGBA(166/255,81/255,167/255,.3),mt.ofRGBA(247/255,78/255,158/255,.3),mt.ofRGBA(166/255,83/255,88/255,.3),mt.ofRGBA(246/255,130/255,28/255,.3),mt.ofRGBA(166/255,198/255,0,.3),mt.ofRGBA(98/255,186/255,70/255,.3)],qq=[mt.black,mt.fromHex("#007AFF"),mt.fromHex("#A651A7"),mt.fromHex("#F74E9E"),mt.fromHex("#FF5358"),mt.fromHex("#F6821C"),mt.fromHex("#FFC600"),mt.fromHex("#62BA46"),mt.fromHex("#E6BFE8"),mt.fromHex("#FEA3D2"),mt.fromHex("#FFA0A3"),mt.fromHex("#FBC276"),mt.fromHex("#FFFB85"),mt.fromHex("#AADC99")];function RGe({onChange:r}){const[e,n]=P.useState(mt.blackHighlight);return E.jsx("div",{className:Ot.colorWrap,children:MGe.map((i,o)=>E.jsx("button",{style:{backgroundColor:i.toHexString()},className:wt(Ot.color,{[Ot.colorActive]:e.toHexString()===i.toHexString()}),onClick:()=>{n(i),r(i)}},o))})}function _9({onChange:r}){const[e,n]=P.useState(mt.black);return E.jsxs(E.Fragment,{children:[E.jsx("div",{className:Ot.colorWrap,children:qq.slice(0,7).map((i,o)=>E.jsx("button",{style:{backgroundColor:i.toHexString()},className:wt(Ot.color,{[Ot.colorActive]:e.toHexString()===i.toHexString()}),onClick:()=>{n(i),r(i)}},o))}),E.jsx("div",{className:Ot.colorWrap,children:qq.slice(7).map((i,o)=>E.jsx("button",{style:{backgroundColor:i.toHexString()},className:wt(Ot.color,{[Ot.colorActive]:e.toHexString()===i.toHexString()}),onClick:()=>{n(i),r(i)}},o))})]})}function NGe({setColorPen:r,setThicknessPen:e}){const[n,i]=P.useState(2);return E.jsxs("div",{className:Ot.options,children:[E.jsx("div",{children:E.jsx(_9,{onChange:o=>r(o)})}),E.jsx("div",{className:Ot.line}),E.jsx("div",{children:E.jsx("input",{max:10,min:1,step:.1,type:"range",value:n,onChange:o=>{e(Number.parseFloat(o.target.value)),i(Number.parseFloat(o.target.value))}})})]})}function OGe({setColorHighlight:r}){return E.jsx("div",{className:Ot.options,children:E.jsx(RGe,{onChange:e=>r(e)})})}function PGe({changeColorShape:r,changeBorderColorShape:e,onThicknessChange:n}){return E.jsxs("div",{className:Ot.options,children:[E.jsx("div",{children:E.jsx(_9,{onChange:i=>r(i)})}),E.jsx("div",{className:Ot.line}),E.jsx("div",{children:E.jsx(_9,{onChange:i=>e(i)})}),E.jsx("div",{className:Ot.line}),E.jsx("div",{children:E.jsx("input",{defaultValue:0,max:20,min:0,step:1,type:"range",onChange:i=>{n(Number.parseFloat(i.target.value))}})})]})}function Hde(r){const{setColorPen:e,refEditor:n,setThicknessPen:i,setColorHighlight:o,changeBorderColorShape:a,onUndo:s,changeColorShape:l,changeShape:c,onThicknessChange:u,onRedo:d,onClear:h}=r,[f,m]=P.useState(null),[b,g]=P.useState(0);return E.jsx(E.Fragment,{children:E.jsxs("div",{className:Ot.wrapper,children:[E.jsxs("div",{className:Ot.pen,children:[E.jsx("button",{className:wt(Ot.tool,{[Ot.active]:f==="select"}),onClick:()=>{const v=n.current.toolController.getPrimaryTools();if(f==="select"){m(null),v[0].setEnabled(!1);return}m("select"),v[0].setEnabled(!0)},children:E.jsx(uGe,{})}),E.jsx("div",{className:Ot.line}),E.jsx("button",{className:wt(Ot.tool,{[Ot.active]:f==="text"}),onClick:()=>{const v=n.current.toolController.getPrimaryTools();if(n.current.toolController.setToolEnabled(v[1]),f==="text"){v[1].setEnabled(!1),m(null);return}m("text"),v[1].setEnabled(!0)},children:E.jsx(dGe,{})}),E.jsx("div",{className:Ot.line}),E.jsx("button",{className:wt(Ot.tool,{[Ot.active]:f==="pencil"}),onClick:()=>{const v=n.current.toolController.getPrimaryTools();if(f==="pencil"){m(null),v[2].setEnabled(!1);return}m("pencil"),v[2].setEnabled(!0)},children:E.jsx(hGe,{})}),E.jsx("button",{className:wt(Ot.tool,{[Ot.active]:f==="highlighter"}),onClick:()=>{const v=n.current.toolController.getPrimaryTools();if(f==="highlighter"){m(null),v[3].setEnabled(!1);return}m("highlighter"),v[3].setEnabled(!0)},children:E.jsx(fGe,{})}),E.jsx("div",{className:Ot.line}),E.jsx("button",{className:wt(Ot.tool,{[Ot.active]:f==="eraser"}),onClick:()=>{const v=n.current.toolController.getPrimaryTools();if(f==="eraser"){m(null),v[4].setEnabled(!1);return}m("eraser"),v[4].setEnabled(!0)},children:E.jsx(pGe,{})}),E.jsx("div",{className:Ot.line}),E.jsx("button",{className:wt(Ot.tool,{[Ot.active]:f==="shapes"&&b===0}),onClick:()=>{const v=n.current.toolController.getPrimaryTools();n.current.toolController.setToolEnabled(v[5]),m("shapes"),v[5].setEnabled(!0),c(0),g(0)},children:E.jsx(mGe,{})}),E.jsx("button",{className:wt(Ot.tool,{[Ot.active]:f==="shapes"&&b===1}),onClick:()=>{const v=n.current.toolController.getPrimaryTools();n.current.toolController.setToolEnabled(v[5]),m("shapes"),v[5].setEnabled(!0),c(1),g(1)},children:E.jsx(gGe,{})}),E.jsx("button",{className:wt(Ot.tool,{[Ot.active]:f==="shapes"&&b===2}),onClick:()=>{const v=n.current.toolController.getPrimaryTools();n.current.toolController.setToolEnabled(v[5]),m("shapes"),v[5].setEnabled(!0),c(2),g(2)},children:E.jsx(yGe,{})}),E.jsx("button",{className:wt(Ot.tool,{[Ot.active]:f==="shapes"&&b===3}),onClick:()=>{const v=n.current.toolController.getPrimaryTools();n.current.toolController.setToolEnabled(v[5]),m("shapes"),v[5].setEnabled(!0),c(3),g(3)},children:E.jsx(bGe,{})}),E.jsx("button",{className:wt(Ot.tool,{[Ot.active]:f==="shapes"&&b===4}),onClick:()=>{const v=n.current.toolController.getPrimaryTools();n.current.toolController.setToolEnabled(v[5]),m("shapes"),v[5].setEnabled(!0),c(4),g(4)},children:E.jsx(vGe,{})}),E.jsx("button",{className:wt(Ot.tool,{[Ot.active]:f==="shapes"&&b===5}),onClick:()=>{const v=n.current.toolController.getPrimaryTools();n.current.toolController.setToolEnabled(v[5]),m("shapes"),v[5].setEnabled(!0),c(5),g(5)},children:E.jsx(xGe,{})}),E.jsx("button",{className:wt(Ot.tool,{[Ot.active]:f==="shapes"&&b===6}),onClick:()=>{const v=n.current.toolController.getPrimaryTools();n.current.toolController.setToolEnabled(v[5]),m("shapes"),v[5].setEnabled(!0),c(6),g(6)},children:E.jsx(wGe,{})}),E.jsx("button",{className:wt(Ot.tool,{[Ot.active]:f==="shapes"&&b===7}),onClick:()=>{const v=n.current.toolController.getPrimaryTools();n.current.toolController.setToolEnabled(v[5]),m("shapes"),v[5].setEnabled(!0),c(7),g(7)},children:E.jsx(EGe,{})}),E.jsx("button",{className:wt(Ot.tool,{[Ot.active]:f==="shapes"&&b===8}),onClick:()=>{const v=n.current.toolController.getPrimaryTools();n.current.toolController.setToolEnabled(v[5]),m("shapes"),v[5].setEnabled(!0),c(8),g(8)},children:E.jsx(CGe,{})}),E.jsx("button",{className:wt(Ot.tool,{[Ot.active]:f==="shapes"&&b===9}),onClick:()=>{const v=n.current.toolController.getPrimaryTools();n.current.toolController.setToolEnabled(v[5]),m("shapes"),v[5].setEnabled(!0),c(9),g(9)},children:E.jsx(_Ge,{})}),E.jsx("button",{className:wt(Ot.tool,{[Ot.active]:f==="shapes"&&b===10}),onClick:()=>{const v=n.current.toolController.getPrimaryTools();n.current.toolController.setToolEnabled(v[5]),m("shapes"),v[5].setEnabled(!0),c(10),g(10)},children:E.jsx(AGe,{})}),E.jsx("button",{className:wt(Ot.tool,{[Ot.active]:f==="shapes"&&b===11}),onClick:()=>{const v=n.current.toolController.getPrimaryTools();n.current.toolController.setToolEnabled(v[5]),m("shapes"),v[5].setEnabled(!0),c(11),g(11)},children:E.jsx(DGe,{})}),E.jsx("div",{className:Ot.line}),E.jsx("button",{className:wt(Ot.tool),onClick:s,children:E.jsx(SGe,{})}),E.jsx("button",{className:wt(Ot.tool),onClick:d,children:E.jsx(kGe,{})}),E.jsx("button",{className:wt(Ot.tool),onClick:h,children:E.jsx(TGe,{})})]}),E.jsxs("div",{className:Ot.optionsWrap,children:[f==="pencil"&&E.jsx(NGe,{setColorPen:e,setThicknessPen:i}),f==="highlighter"&&E.jsx(OGe,{setColorHighlight:o}),f==="shapes"&&E.jsx(PGe,{changeBorderColorShape:a,changeColorShape:l,changeShape:c,onThicknessChange:u})]})]})})}let P1=!1;const IGe=({editor:r,upload:e})=>{const[n,i]=P.useState(!1),o=P.useRef(null),a=P.useRef(null),s=()=>{(async()=>{const v=document.querySelector("#easydrawer");v&&(o.current=new Fde(v,{wheelEventsEnabled:!1,disableZoom:!0}),a.current=Ude(o.current),a.current.addDefaultToolWidgets())})()};P.useEffect(()=>{n&&setTimeout(()=>{s()},200)},[n]);const l=async()=>{if(o.current){const v=o.current.toSVG(),x=v.outerHTML,w=`drawer-${$S()}.svg`;let k=IS(v.outerHTML);if(e){const T=Sv(k,w);k=await e(T)}r==null||r.chain().focus().setDrawer({type:"drawer",src:k,alt:encodeURIComponent(x),width:426,height:212},!!x).run()}i(!1)},c=v=>{const x=o.current.toolController.getPrimaryTools()[2],w=a.current.getWidgetById("pen-1");x&&w&&(x.setColor(v),w.serializeState())},u=v=>{const x=o.current.toolController.getPrimaryTools()[2],w=a.current.getWidgetById("pen-1");x&&w&&(x.setThickness(v),w.serializeState())},d=v=>{const x=o.current.toolController.getPrimaryTools()[3],w=a.current.getWidgetById("pen-2");x&&w&&(x.setColor(v),w.serializeState())},h=v=>{const x=a.current.getWidgetById("shape");x&&x.setShapeType(v)},f=v=>{const x=o.current.toolController.getPrimaryTools()[5],w=a.current.getWidgetById("shape");x&&w&&(x.setColor(v),w.serializeState())},m=v=>{const x=o.current.toolController.getPrimaryTools()[5],w=a.current.getWidgetById("shape");x&&w&&(x.setThickness(v),w.serializeState())},b=v=>{const x=o.current.toolController.getPrimaryTools()[5],w=a.current.getWidgetById("shape");x&&w&&(x.setBorderColor(v),w.serializeState())},g=()=>{if(P1){for(;o.current.history.redoStackSize>0;)o.current.history.redo();P1=!1;return}o.current.history.undo()};return E.jsxs(ru,{onOpenChange:i,open:n,children:[E.jsx(iu,{asChild:!0,children:E.jsx(ft,{action:()=>i(!0),icon:"PencilRuler",tooltip:"Drawer"})}),E.jsxs(Rl,{className:"richtext-z-[99999] !richtext-max-w-[1300px]",children:[E.jsx(Nl,{children:"Drawer"}),E.jsxs("div",{style:{height:"600px",width:"100%",borderWidth:1,background:"white",position:"relative"},children:[E.jsx("div",{className:"richtext-size-full",id:"easydrawer"}),E.jsx(Hde,{changeBorderColorShape:b,changeColorShape:f,changeShape:h,onClear:()=>{if(!P1){for(;o.current.history.undoStackSize>0;)g();P1=!0}},onRedo:()=>{P1||o.current.history.redo()},onThicknessChange:m,onUndo:g,refEditor:o,setColorHighlight:d,setColorPen:c,setThicknessPen:u})]}),E.jsx(eh,{children:E.jsx(Nn,{onClick:l,type:"button",children:"Save changes"})})]})]})},Yw={TOP_LEFT:"tl",TOP_RIGHT:"tr",BOTTOM_LEFT:"bl",BOTTOM_RIGHT:"br"};function $Ge({editor:r,node:e,updateAttributes:n,getPos:i,selected:o}){const[a,s]=P.useState({width:Ad,height:Ad}),[l,c]=P.useState({width:0,height:0}),[u]=P.useState([Yw.TOP_LEFT,Yw.TOP_RIGHT,Yw.BOTTOM_LEFT,Yw.BOTTOM_RIGHT]),[d,h]=P.useState(!1),[f,m]=P.useState({x:0,y:0,w:0,h:0,dir:""}),{align:b}=e==null?void 0:e.attrs,g=P.useMemo(()=>{const{src:W,alt:Z,width:$,height:F}=e==null?void 0:e.attrs,A=ib($)?`${$}px`:$,Q=ib(F)?`${F}px`:F;return{src:W||void 0,alt:Z||void 0,style:{width:A||void 0,height:Q||void 0}}},[e==null?void 0:e.attrs]),v=P.useMemo(()=>{const{style:{width:W}}=g;return{width:W==="100%"?W:void 0}},[g]);function x(W){c({width:W.target.width,height:W.target.height})}function w(){r.commands.setNodeSelection(i())}const k=P.useCallback(Gc(()=>{const{width:W}=getComputedStyle(r.view.dom);s(Z=>({...Z,width:Number.parseInt(W,10)}))},Dd),[r]);function T(W,Z){W.preventDefault(),W.stopPropagation();const $=l.width,F=l.height,A=$/F;let Q=Number(e.attrs.width),H=Number(e.attrs.height);const G=a.width;Q&&!H?(Q=Q>G?G:Q,H=Math.round(Q/A)):H&&!Q?(Q=Math.round(H*A),Q=Q>G?G:Q):!Q&&!H?(Q=$>G?G:$,H=Math.round(Q/A)):Q=Q>G?G:Q,h(!0),m({x:W.clientX,y:W.clientY,w:Q,h:H,dir:Z})}const _=P.useCallback(Gc(W=>{if(W.preventDefault(),W.stopPropagation(),!d)return;const{x:Z,w:$,dir:F}=f,A=(W.clientX-Z)*(/l/.test(F)?-1:1),{width:Q,height:H}=e==null?void 0:e.attrs,G=Q/H,ne=YN($+A,q5,a.width),J=Math.round(ne/G);n({width:ne,height:J})},Dd),[d,f,a,n,e==null?void 0:e.attrs]),D=P.useCallback(W=>{W.preventDefault(),W.stopPropagation(),d&&(m({x:0,y:0,w:0,h:0,dir:""}),h(!1),w())},[d,w]),I=P.useCallback(()=>{document==null||document.addEventListener("mousemove",_,!0),document==null||document.addEventListener("mouseup",D,!0)},[_,D]),L=P.useCallback(()=>{document==null||document.removeEventListener("mousemove",_,!0),document==null||document.removeEventListener("mouseup",D,!0)},[_,D]);P.useEffect(()=>(d?I():L(),()=>{L()}),[d,I,L]);const O=P.useMemo(()=>new ResizeObserver(()=>k()),[k]);return P.useEffect(()=>(O.observe(r.view.dom),()=>{O.disconnect()}),[r.view.dom,O]),E.jsx(ua,{className:"image-view",style:{...v,width:"100%",textAlign:b},children:E.jsxs("div",{"data-drag-handle":!0,draggable:"true",style:{...v,background:"#fff"},className:`image-view__body ${o?"image-view__body--focused":""} ${d?"image-view__body--resizing":""}`,children:[E.jsx("img",{alt:g.alt,className:"image-view__body__image block",height:"auto",onClick:w,onLoad:x,src:g.src,style:g.style}),r.view.editable&&(o||d)&&E.jsx("div",{className:"image-resizer",children:u==null?void 0:u.map(W=>E.jsx("span",{className:`image-resizer__handler image-resizer__handler--${W}`,onMouseDown:Z=>T(Z,W)},`image-dir-${W}`))})]})})}const A9=ES.extend({name:"drawer",addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),inline:!1,content:"",marks:"",group:"block",draggable:!1,selectable:!0,atom:!0,HTMLAttributes:{class:"drawer"},button:({editor:e,t:n,extension:i})=>{var o;return{component:IGe,componentProps:{action:()=>!0,isActive:()=>!1,disabled:!1,editor:e,icon:"PencilRuler",tooltip:n("editor.drawer.tooltip"),upload:(o=i==null?void 0:i.options)==null?void 0:o.upload}}}}},addAttributes(){var r;return{...(r=this.parent)==null?void 0:r.call(this),width:{default:null,parseHTML:e=>{const n=e.querySelector("img"),i=n==null?void 0:n.getAttribute("width");return i?Number.parseInt(i,10):320},renderHTML:e=>({width:e.width})},height:{default:null,parseHTML:e=>{const n=e.querySelector("img"),i=n==null?void 0:n.getAttribute("height");return i?Number.parseInt(i,10):212},renderHTML:e=>({height:e.height})},align:{default:"center",parseHTML:e=>e.getAttribute("align"),renderHTML:e=>({align:e.align})}}},addNodeView(){return Ps($Ge)},addCommands(){return{setDrawer:(r,e)=>({commands:n,editor:i})=>e?n.insertContent({type:this.name,attrs:r}):n.insertContentAt(i.state.selection.anchor,{type:this.name,attrs:r}),setAlignImageDrawer:r=>({commands:e})=>e.updateAttributes(this.name,{align:r})}},renderHTML({HTMLAttributes:r}){const{align:e}=r;return["div",{style:e?`text-align: ${e};`:"",class:"imageDrawer"},["img",en(this.options.HTMLAttributes,r)]]},parseHTML(){return[{tag:"div[class=imageDrawer]",getAttrs:r=>{const e=r.querySelector("img"),n=e==null?void 0:e.getAttribute("width"),i=e==null?void 0:e.getAttribute("height");return{src:e==null?void 0:e.getAttribute("src"),alt:e==null?void 0:e.getAttribute("alt"),width:n?Number.parseInt(n,10):null,height:i?Number.parseInt(i,10):null,align:(e==null?void 0:e.getAttribute("align"))||r.style.textAlign||null}}}]}}),Gq=`graph TB
a-->b`,zGe=({editor:r,attrs:e,extension:n})=>{const{alt:i,align:o}=e,[a,s]=P.useState(decodeURIComponent(i??Gq)),[l,c]=P.useState(""),[u,d]=P.useState(!1),h=P.useRef(null),[f,m]=P.useState(null),b=n==null?void 0:n.options.upload,g=P.useCallback(w=>{w&&PS(()=>import("./mermaid.core-CLCDGmZ4.js").then(k=>k.bz),[]).then(k=>{m(k.default)})},[]),v=async w=>{try{const{svg:k}=await f.render("mermaid-svg",w);c(k)}catch{c("")}},x=()=>{f.initialize({darkMode:!1,startOnLoad:!1,fontSize:12,theme:"base"}),v(a)};return P.useEffect(()=>{f&&u&&x()},[f,u]),P.useEffect(()=>{f&&u&&v(a)},[f,a]),E.jsxs(ru,{onOpenChange:d,open:u,children:[E.jsx(iu,{asChild:!0,children:E.jsx(ft,{action:()=>d(!0),icon:"Pencil",tooltip:"Edit Mermaid"})}),E.jsxs(Rl,{className:"richtext-z-[99999] !richtext-max-w-[1300px]",children:[E.jsx(Nl,{children:"Edit Mermaid"}),E.jsx("div",{ref:g,style:{height:"100%",border:"1px solid hsl(var(--border))"},children:E.jsxs("div",{className:"richtext-flex richtext-gap-[10px] richtext-rounded-[10px] richtext-p-[10px]",children:[E.jsx(Ev,{autoFocus:!0,className:"richtext-flex-1",defaultValue:Gq,onChange:w=>s(w.target.value),placeholder:"Text",required:!0,rows:10,value:a,style:{color:"hsl(var(--richtext-foreground))"}}),E.jsx("div",{className:"richtext-flex richtext-flex-1 richtext-items-center richtext-justify-center richtext-rounded-[10px] richtext-p-[10px]",dangerouslySetInnerHTML:{__html:l},ref:h,style:{height:"100%",border:"1px solid hsl(var(--border))",minHeight:500,background:"#fff"}})]})}),E.jsx(eh,{children:E.jsx(Nn,{onClick:async()=>{if(a!==""){if(a){const w=h.current.querySelector("svg"),{width:k,height:T}=w.getBoundingClientRect(),_=`mermaid-${$S()}.svg`;let D=IS(w.outerHTML);if(b){const I=Sv(D,_);D=await b(I)}r==null||r.chain().focus().setMermaid({type:"mermaid",src:D,alt:encodeURIComponent(a),width:k,height:T},!!a).run(),r==null||r.commands.setAlignImageMermaid(o)}d(!1)}},type:"button",children:"Save changes"})})]})]})};function Wde(r,e){const[n,i]=P.useState(void 0);return P.useEffect(()=>{const o=()=>{const a=r.extensionManager.extensions.find(s=>s.name===e);a&&i(a)};return r.on("selectionUpdate",o),r.on("transaction",o),()=>{r.off("selectionUpdate",o),r.off("transaction",o)}},[r,e]),n}const LGe={maxWidth:"auto",zIndex:20,appendTo:"parent",moveTransition:"transform 0.1s ease-out"};function UGe({item:r,disabled:e,editor:n}){var i;const o=r.component;return o?E.jsx(P.Fragment,{children:r.type==="divider"?E.jsx(Ya,{className:"!richtext-mx-1 !richtext-my-2 !richtext-h-[16px]",orientation:"vertical"}):E.jsx(o,{...r.componentProps,disabled:e||((i=r==null?void 0:r.componentProps)==null?void 0:i.disabled),editor:n})}):E.jsx(E.Fragment,{})}function BGe(r){return r.type.name==="mermaid"}function jGe(r){const{lang:e}=Cn(),n=lg(r.editor,FD.name),i=Wde(r.editor,FD.name),o=({editor:s})=>{const{selection:l}=s.view.state,{$from:c,to:u}=l;let d=!1;return s.view.state.doc.nodesBetween(c.pos,u,h=>{if(BGe(h))return d=!0,!1}),d},a=P.useMemo(()=>r.disabled?[]:ZOe(r.editor),[r.disabled,r.editor,e]);return E.jsx(E.Fragment,{children:E.jsx(va,{editor:r==null?void 0:r.editor,shouldShow:o,tippyOptions:LGe,children:a!=null&&a.length?E.jsx("div",{className:"richtext-pointer-events-auto richtext-w-auto richtext-select-none richtext-rounded-sm !richtext-border richtext-border-neutral-200 richtext-bg-background richtext-px-3 richtext-py-2 richtext-shadow-sm richtext-transition-all dark:richtext-border-neutral-800",children:E.jsx("div",{className:"richtext-relative richtext-flex richtext-h-[26px] richtext-flex-nowrap richtext-items-center richtext-justify-start richtext-whitespace-nowrap",children:a==null?void 0:a.map((s,l)=>s.type==="edit"&&n!=null&&n.src?E.jsx(zGe,{attrs:n,editor:r.editor,extension:i},`bubbleMenu-mermaid-${l}`):E.jsx(UGe,{disabled:r.disabled,editor:r.editor,item:s},`bubbleMenu-mermaid-${l}`))})}):E.jsx(E.Fragment,{})})})}const Lh=new Map;function FGe(r){const e=r.options.element;Lh.has("width")||Lh.set("width",e.clientWidth),Lh.has("width")&&Lh.get("width")<=0&&Lh.set("width",e.clientWidth);const n={attributes:!0,childList:!0,subtree:!0},i=function(){Lh.set("width",e.clientWidth)},o=new MutationObserver(i);return o.observe(e,n),r.on("destroy",()=>{o.disconnect()}),{width:Lh.get("width")}}function HGe({editor:r}){const{t:e}=Cn(),{width:n}=FGe(r),i=lg(r,ef.name,{defaultShowPicker:!1,createUser:"",width:0,height:0}),{defaultShowPicker:o,createUser:a,width:s,height:l}=i,c=P.useCallback(f=>{r.chain().updateAttributes(ef.name,f).setNodeSelection(r.state.selection.from).focus().run()},[r]),u=P.useCallback(()=>{uLe(i)},[r,i]),d=P.useCallback(()=>r.isActive(ef.name),[r]),h=P.useCallback(()=>rg(ef.name,r),[r]);return P.useEffect(()=>{o&&(u(),r.chain().updateAttributes(ef.name,{defaultShowPicker:!1}).focus().run())},[a,o,r,u]),E.jsx(va,{className:"bubble-menu",editor:r,pluginKey:"excalidraw-bubble-menu",shouldShow:d,tippyOptions:{popperOptions:{modifiers:[{name:"flip",enabled:!1}]},placement:"bottom-start",offset:[-2,16],zIndex:9999},children:E.jsxs("div",{className:"richtext-w-auto richtext-px-3 richtext-py-2 richtext-transition-all !richtext-border richtext-rounded-sm richtext-shadow-sm richtext-pointer-events-auto richtext-select-none richtext-border-neutral-200 dark:richtext-border-neutral-800 richtext-bg-background",children:[E.jsx(ft,{icon:"Pencil",action:u,tooltip:e("editor.edit")}),E.jsx(ble,{width:s,maxWidth:n,height:l,onOk:c,children:E.jsx(ft,{icon:"Settings",tooltip:e("editor.settings")})}),E.jsx(ft,{icon:"Trash2",action:h,tooltip:e("editor.delete")})]})})}function WGe({editor:r,disabled:e}){const[n,i]=P.useState(!1),{t:o}=Cn(),a=P.useCallback(({editor:c})=>c.isActive(l3.name),[]),s=c=>{r.commands.updateTweet({src:c}),i(!1)},l=P.useCallback(()=>rg(l3.name,r),[r]);return E.jsx(E.Fragment,{children:E.jsx(va,{editor:r,shouldShow:a,tippyOptions:{popperOptions:{modifiers:[{name:"flip",enabled:!1}]},placement:"bottom-start",offset:[-2,16],zIndex:9999,onHidden:()=>{i(!1)}},children:e?E.jsx(E.Fragment,{}):E.jsx(E.Fragment,{children:n?E.jsx(cce,{editor:r,onSetLink:s}):E.jsx("div",{className:"richtext-flex richtext-items-center richtext-gap-2 richtext-rounded-lg !richtext-border richtext-border-neutral-200 richtext-bg-white richtext-p-2 richtext-shadow-sm dark:richtext-border-neutral-800 dark:richtext-bg-black",children:E.jsxs("div",{className:"richtext-flex richtext-flex-nowrap",children:[E.jsx(ft,{icon:"Pencil",tooltip:o("editor.link.edit.tooltip"),tooltipOptions:{sideOffset:15},action:()=>{i(!0)}}),E.jsx(ft,{action:l,icon:"Trash",tooltip:o("editor.delete"),tooltipOptions:{sideOffset:15}})]})})})})})}function VGe({editor:r,...e}){const n=lg(r,af.name,{text:"",defaultShowPicker:!1}),{text:i,defaultShowPicker:o}=n,[a,s]=P.useState(""),[l,c]=P.useState(!1),u=P.useCallback(()=>r.isActive(af.name),[r]),d=P.useCallback(()=>rg(af.name,r),[r]),h=P.useCallback(()=>{r.chain().focus().setKatex({text:a}).run(),c(!1)},[r,a]);P.useEffect(()=>{o&&(c(!0),r.chain().updateAttributes(af.name,{defaultShowPicker:!1}).focus().run())},[r,o,c]),P.useEffect(()=>{l&&s(i||"")},[l]);const f=P.useMemo(()=>{try{return VS.renderToString(`${a}`)}catch{return a}},[a]),m=P.useMemo(()=>`${a}`.trim()?E.jsx("span",{contentEditable:!1,dangerouslySetInnerHTML:{__html:f||""}}):null,[a,f]);return E.jsx(va,{editor:r,pluginKey:"Katex-bubble-menu",shouldShow:u,tippyOptions:{popperOptions:{modifiers:[{name:"flip",enabled:!1}]},placement:"bottom-start",offset:[-2,16],zIndex:9999,onHidden:()=>{c(!1)}},children:e!=null&&e.disabled?E.jsx(E.Fragment,{}):E.jsx("div",{className:"richtext-rounded-lg !richtext-border richtext-border-neutral-200 richtext-bg-white richtext-p-2 richtext-shadow-sm dark:richtext-border-neutral-800 dark:richtext-bg-black",children:l?E.jsxs(E.Fragment,{children:[E.jsx(Ev,{autoFocus:!0,defaultValue:i,onChange:b=>s(b.target.value),placeholder:"Formula text",rows:3,style:{marginBottom:8},value:a}),m&&E.jsx("div",{className:"richtext-my-[10px] richtext-overflow-auto richtext-whitespace-nowrap richtext-rounded-[6px] !richtext-border richtext-p-[10px]",children:m}),E.jsxs("div",{className:"richtext-flex richtext-items-center richtext-justify-between richtext-gap-[6px]",children:[E.jsx(Nn,{className:"richtext-flex-1",onClick:h,children:"Submit"}),E.jsx("a",{href:"https://katex.org/docs/supported",rel:"noreferrer noopener",target:"_blank",children:E.jsx(iie,{size:16})})]})]}):E.jsxs("div",{className:"richtext-flex richtext-items-center richtext-justify-center richtext-gap-[6px]",children:[E.jsx(ft,{action:()=>c(!l),tooltip:"Edit",children:E.jsx(oie,{size:16})}),E.jsx(ft,{action:d,tooltip:"Delete",children:E.jsx(sie,{size:16})})]})})})}let I1=!1;function qGe({editor:r,attrs:e,extension:n}){const[i,o]=P.useState(!1),a=P.useRef(null),s=P.useRef(null),{alt:l,align:c}=e,u=n==null?void 0:n.options.upload,d=()=>{(async()=>{const T=document.querySelector("#easydrawer");T&&(a.current=new Fde(T,{wheelEventsEnabled:!1,disableZoom:!0}),s.current=Ude(a.current),s.current.addDefaultToolWidgets(),a.current.loadFromSVG(decodeURIComponent(l)))})()};P.useEffect(()=>{i&&setTimeout(()=>{d()},200)},[i]);const h=async()=>{if(a.current){const T=a.current.toSVG(),_=T.outerHTML,D=`drawer-${$S()}.svg`;let I=IS(T.outerHTML);if(u){const L=Sv(I,D);I=await u(L)}r==null||r.chain().focus().setDrawer({type:"drawer",src:I,alt:encodeURIComponent(_),width:426,height:212},!!_).run(),r==null||r.commands.setAlignImageDrawer(c)}o(!1)},f=T=>{const _=a.current.toolController.getPrimaryTools()[2],D=s.current.getWidgetById("pen-1");_&&D&&(_.setColor(T),D.serializeState())},m=T=>{const _=a.current.toolController.getPrimaryTools()[2],D=s.current.getWidgetById("pen-1");_&&D&&(_.setThickness(T),D.serializeState())},b=T=>{const _=a.current.toolController.getPrimaryTools()[3],D=s.current.getWidgetById("pen-2");_&&D&&(_.setColor(T),D.serializeState())},g=T=>{const _=s.current.getWidgetById("shape");_&&_.setShapeType(T)},v=T=>{const _=a.current.toolController.getPrimaryTools()[5],D=s.current.getWidgetById("shape");_&&D&&(_.setColor(T),D.serializeState())},x=T=>{const _=a.current.toolController.getPrimaryTools()[5],D=s.current.getWidgetById("shape");_&&D&&(_.setThickness(T),D.serializeState())},w=T=>{const _=a.current.toolController.getPrimaryTools()[5],D=s.current.getWidgetById("shape");_&&D&&(_.setBorderColor(T),D.serializeState())},k=()=>{if(I1){for(;a.current.history.redoStackSize>0;)a.current.history.redo();I1=!1;return}a.current.history.undo()};return E.jsxs(ru,{onOpenChange:o,open:i,children:[E.jsx(iu,{asChild:!0,children:E.jsx(ft,{action:()=>o(!0),icon:"Pencil",tooltip:"Edit Drawer"})}),E.jsxs(Rl,{className:"richtext-z-[99999] !richtext-max-w-[1300px]",children:[E.jsx(Nl,{children:"Edit Drawer"}),E.jsxs("div",{style:{height:"100%",borderWidth:1,background:"white",position:"relative"},children:[E.jsx("div",{className:"richtext-size-full",id:"easydrawer"}),E.jsx(Hde,{changeBorderColorShape:w,changeColorShape:v,changeShape:g,onClear:()=>{if(!I1){for(;a.current.history.undoStackSize>0;)k();I1=!0}},onRedo:()=>{I1||a.current.history.redo()},onThicknessChange:x,onUndo:k,refEditor:a,setColorHighlight:b,setColorPen:f,setThicknessPen:m})]}),E.jsx(eh,{children:E.jsx(Nn,{onClick:h,type:"button",children:"Save changes"})})]})]})}const GGe={maxWidth:"auto",zIndex:20,appendTo:"parent",moveTransition:"transform 0.1s ease-out"};function KGe({item:r,disabled:e,editor:n}){var i;const o=r.component;return o?E.jsx(P.Fragment,{children:r.type==="divider"?E.jsx(Ya,{className:"!richtext-mx-1 !richtext-my-2 !richtext-h-[16px]",orientation:"vertical"}):E.jsx(o,{...r.componentProps,disabled:e||((i=r==null?void 0:r.componentProps)==null?void 0:i.disabled),editor:n})}):E.jsx(E.Fragment,{})}function XGe(r){return r.type.name==="drawer"}function YGe(r){const{lang:e}=Cn(),n=lg(r.editor,A9.name),i=Wde(r.editor,A9.name),o=({editor:s})=>{const{selection:l}=s.view.state,{$from:c,to:u}=l;let d=!1;return s.view.state.doc.nodesBetween(c.pos,u,h=>{if(XGe(h))return d=!0,!1}),d},a=P.useMemo(()=>r.disabled?[]:JOe(r.editor),[r.disabled,r.editor,e]);return E.jsx(E.Fragment,{children:E.jsx(va,{editor:r==null?void 0:r.editor,shouldShow:o,tippyOptions:GGe,children:a!=null&&a.length?E.jsx("div",{className:"richtext-pointer-events-auto richtext-w-auto richtext-select-none richtext-rounded-sm !richtext-border richtext-border-neutral-200 richtext-bg-background richtext-px-3 richtext-py-2 richtext-shadow-sm richtext-transition-all dark:richtext-border-neutral-800",children:E.jsx("div",{className:"richtext-relative richtext-flex richtext-h-[26px] richtext-flex-nowrap richtext-items-center richtext-justify-start richtext-whitespace-nowrap",children:a==null?void 0:a.map((s,l)=>s.type==="edit"&&n!=null&&n.src?E.jsx(qGe,{attrs:n,editor:r.editor,extension:i},`bubbleMenu-drawer-${l}`):E.jsx(KGe,{disabled:r.disabled,editor:r.editor,item:s},`bubbleMenu-drawer-${l}`))})}):E.jsx(E.Fragment,{})})})}const ZGe={audio:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-audio-lines"><path d="M2 10v3"/><path d="M6 6v11"/><path d="M10 3v18"/><path d="M14 8v7"/><path d="M18 5v13"/><path d="M22 10v3"/></svg>',video:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-video"><path d="m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5"/><rect x="2" y="6" width="14" height="12" rx="2"/></svg>',file:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/></svg>',image:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-image"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></svg>',pdf:`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 32 32">
      <path fill="currentColor" d="M30 18v-2h-6v10h2v-4h3v-2h-3v-2zm-11 8h-4V16h4a3.003 3.003 0 0 1 3 3v4a3.003 3.003 0 0 1-3 3m-2-2h2a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-2zm-6-8H6v10h2v-3h3a2.003 2.003 0 0 0 2-2v-3a2 2 0 0 0-2-2m-3 5v-3h3l.001 3z"></path>
      <path fill="currentColor" d="M22 14v-4a.91.91 0 0 0-.3-.7l-7-7A.9.9 0 0 0 14 2H4a2.006 2.006 0 0 0-2 2v24a2 2 0 0 0 2 2h16v-2H4V4h8v6a2.006 2.006 0 0 0 2 2h6v2Zm-8-4V4.4l5.6 5.6Z"></path>
    </svg>`,word:`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="1em"
      height="1em"
      className="icon"
      viewBox="0 0 1024 1024"
    >
      <path
        fill="currentColor"
        d="M679.253 402.364 618.77 561.015l-60.348-158.651a30.04 30.04 0 0 0-30.447-18.637 29.76 29.76 0 0 0-30.447 18.637l-60.416 158.651-60.416-158.651a30.515 30.515 0 0 0-38.843-17.272 28.945 28.945 0 0 0-17.954 37.547l88.815 233.267c4.369 11.469 15.7 19.115 28.398 19.115a30.31 30.31 0 0 0 28.468-19.115l62.395-163.908 62.396 163.84c4.437 11.605 15.701 19.183 28.4 19.183a30.31 30.31 0 0 0 28.466-19.115l88.747-233.267a28.945 28.945 0 0 0-17.886-37.547 30.447 30.447 0 0 0-38.912 17.272zm219.478 395.605-51.883-29.218c-28.672-16.18-52.224-3.072-52.224 29.082v.273H643.209a29.833 29.833 0 0 0-30.31 29.354c0 16.18 13.584 29.218 30.31 29.218h151.825c1.092 30.516 24.03 43.077 52.224 27.648l51.063-27.989c29.013-15.906 29.15-42.189.41-58.368"
      />
      <path
        fill="currentColor"
        d="m810.667 913.135-.478.068H201.796c-19.865 0-36.727-11.673-36.727-25.6v-618.36h154.965c51.268 0 92.911-39.39 92.911-87.858v-87.86H810.19c19.797 0 36.522 11.742 36.522 25.669V739.26h61.987V119.262c0-46.421-44.169-84.241-98.51-84.241H328.364l-225.28 194.56v658.09c0 46.285 44.236 84.105 98.713 84.105H810.19c43.759 0 80.554-24.713 93.32-58.573h-92.842zM350.89 94.89v86.562c0 16.11-13.858 29.286-30.925 29.286H216.815L350.959 94.891z"
      />
    </svg>`,excel:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sheet"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><line x1="3" x2="21" y1="9" y2="9"/><line x1="3" x2="21" y1="15" y2="15"/><line x1="9" x2="9" y1="9" y2="21"/><line x1="15" x2="15" y1="9" y2="21"/></svg>',ppt:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-table-properties"><path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/></svg>'};function JGe(r){const e=ZGe[r],n=new DOMParser().parseFromString(e,"image/svg+xml").documentElement,i=["svg",{...Array.from(n.attributes).reduce((o,a)=>(o[a.name]=a.value,o),{})}];return Array.from(n.childNodes).forEach(o=>{if(o.nodeType===1){const a=[o.tagName.toLowerCase(),Array.from(o.attributes).reduce((s,l)=>(s[l.name]=l.value,s),{})];o.textContent&&a.push(o.textContent),i.push(a)}}),i}const QGe={audio:E.jsx(t8e,{}),video:E.jsx(lie,{}),file:E.jsx(x8e,{}),image:E.jsx(N8e,{}),pdf:E.jsx(Jse,{}),word:E.jsx(Qse,{}),excel:E.jsx(eEe,{}),ppt:E.jsx(lEe,{})};function Vde(r,e=!1){const n=FPe(r),i=QGe[n]||E.jsx(E.Fragment,{});return e?JGe(n):i}const eKe="_wrap_1x1ms_2",s7={wrap:eKe};function tKe({editor:r,node:e,updateAttributes:n,deleteNode:i,extension:o}){var a;const s=P.useRef(null),l=MS(),{hasTrigger:c,fileName:u,fileSize:d,fileExt:h,fileType:f,url:m,error:b}=e.attrs,[g,v]=P.useState(!1),{t:x}=Cn(),w=(a=o==null?void 0:o.options)==null?void 0:a.upload,k=P.useCallback(()=>{!l||m||l&&s.current.click()},[l,m]),T=P.useCallback(async D=>{const I=D.target.files&&D.target.files[0];if(!I)return;const L={fileName:BPe(I.name),fileSize:I.size,fileType:I.type,fileExt:jPe(I.name)};v(!0);try{const O=await w(I);n({...L,url:O}),v(!1)}catch(O){n({error:`File upload fail: ${O&&O.message}`||"Unknown error"}),v(!1),s.current.value=""}},[v,n]);P.useEffect(()=>{!m&&!c&&(k(),n({hasTrigger:!0}))},[m,c,k,n]);const _=P.useCallback(()=>i(),[r]);return l&&!m?E.jsx(ua,{children:E.jsxs("div",{className:pr(s7.wrap,"render-wrapper"),children:[E.jsx("p",{onClick:k,style:{cursor:"pointer"},children:g?E.jsx("span",{children:x("editor.attachment.uploading")}):E.jsx("span",{children:x("editor.attachment.please_upload")})}),E.jsx("input",{hidden:!0,onChange:T,ref:s,type:"file"})]})}):m?E.jsx(ua,{children:E.jsxs("div",{className:pr(s7.wrap,"render-wrapper"),onClick:k,children:[E.jsxs("div",{className:"richtext-flex richtext-items-center richtext-gap-[4px]",children:[E.jsx("span",{children:Vde(f)}),E.jsxs("span",{children:[u,".",h]}),E.jsxs("span",{children:["(",ile(d),")"]})]}),E.jsx(ft,{action:_,icon:"Trash2",tooltip:x("editor.delete")})]})}):b!=="null"?E.jsx(ua,{children:E.jsx("div",{className:pr(s7.wrap,"render-wrapper"),onClick:k,children:E.jsx("p",{children:b})})}):E.jsx(E.Fragment,{})}const nKe=Un.create({name:"attachment",content:"",marks:"",group:"block",selectable:!0,atom:!0,draggable:!0,addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),HTMLAttributes:{class:"attachment"},button:({editor:e,t:n})=>({component:ft,componentProps:{action:()=>e.chain().focus().setAttachment().run(),isActive:()=>!1,disabled:!1,icon:"Attachment",tooltip:n("editor.attachment.tooltip")}})}},parseHTML(){return[{tag:"div[class=attachment]"}]},renderHTML({HTMLAttributes:r}){const{url:e="",fileName:n="",fileSize:i="",fileType:o="",fileExt:a=""}=r||{};return["div",en(this.options.HTMLAttributes||{},r||{}),e?["a",{href:e||"#"},["span",{class:"attachment__icon"},Vde(o,!0)],["span",{class:"attachment__text"},`${n}.${a} (${ile(i)})`]]:["div",{class:"attachment__placeholder"}]]},addAttributes(){return{fileName:{default:null,parseHTML:ro("filename")},fileSize:{default:null,parseHTML:ro("filesize")},fileType:{default:null,parseHTML:ro("filetype")},fileExt:{default:null,parseHTML:ro("fileext")},url:{default:null,parseHTML:ro("url")},hasTrigger:{default:!1,parseHTML:r=>ro("hastrigger")(r)==="true"},error:{default:null,parseHTML:ro("error")}}},addCommands(){return{setAttachment:(r={})=>({chain:e})=>e().insertContent({type:this.name,attrs:r}).run()}},addNodeView(){return Ps(tKe)}}),rKe=/^\s*>\s$/,iKe=Un.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:r}){return["blockquote",en(this.options.HTMLAttributes,r),0]},addCommands(){return{setBlockquote:()=>({commands:r})=>r.wrapIn(this.name),toggleBlockquote:()=>({commands:r})=>r.toggleWrap(this.name),unsetBlockquote:()=>({commands:r})=>r.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[E0({find:rKe,type:this.type})]}}),oKe=iKe.extend({addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),HTMLAttributes:{class:"blockquote"},button:({editor:e,t:n})=>({component:ft,componentProps:{action:()=>e.commands.toggleBlockquote(),isActive:()=>e.isActive("blockquote")||!1,disabled:!e.can().toggleBlockquote(),icon:"TextQuote",shortcutKeys:["shift","mod","B"],tooltip:n("editor.blockquote.tooltip")}})}}}),aKe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,sKe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,lKe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,cKe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,uKe=Os.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:r=>r.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:r=>r.type.name===this.name},{style:"font-weight",getAttrs:r=>/^(bold(er)?|[5-9]\d{2,})$/.test(r)&&null}]},renderHTML({HTMLAttributes:r}){return["strong",en(this.options.HTMLAttributes,r),0]},addCommands(){return{setBold:()=>({commands:r})=>r.setMark(this.name),toggleBold:()=>({commands:r})=>r.toggleMark(this.name),unsetBold:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Bf({find:aKe,type:this.type}),Bf({find:lKe,type:this.type})]},addPasteRules(){return[Cd({find:sKe,type:this.type}),Cd({find:cKe,type:this.type})]}}),dKe=uKe.extend({addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),button:({editor:e,t:n})=>({component:ft,componentProps:{action:()=>e.commands.toggleBold(),isActive:()=>e.isActive("bold")||!1,disabled:!1,icon:"Bold",shortcutKeys:["mod","B"],tooltip:n("editor.bold.tooltip")}})}}}),hKe="listItem",Kq="textStyle",Xq=/^\s*([-+*])\s$/,fKe=Un.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:r}){return["ul",en(this.options.HTMLAttributes,r),0]},addCommands(){return{toggleBulletList:()=>({commands:r,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(hKe,this.editor.getAttributes(Kq)).run():r.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let r=E0({find:Xq,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(r=E0({find:Xq,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Kq),editor:this.editor})),[r]}}),pKe=fKe.extend({addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),button:({editor:e,t:n})=>({component:ft,componentProps:{action:()=>e.commands.toggleBulletList(),isActive:()=>e.isActive("bulletList")||!1,disabled:!1,shortcutKeys:["shift","mod","8"],icon:"List",tooltip:n("editor.bulletlist.tooltip")}})}}}),mKe=Un.create({name:"clear",addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),button:({editor:e,t:n})=>({component:ft,componentProps:{action:()=>e.chain().focus().clearNodes().unsetAllMarks().run(),disabled:!e.can().chain().focus().clearNodes().unsetAllMarks().run(),icon:"Eraser",tooltip:n("editor.clear.tooltip")}})}}}),gKe=/(^|[^`])`([^`]+)`(?!`)/,yKe=/(^|[^`])`([^`]+)`(?!`)/g,bKe=Os.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:r}){return["code",en(this.options.HTMLAttributes,r),0]},addCommands(){return{setCode:()=>({commands:r})=>r.setMark(this.name),toggleCode:()=>({commands:r})=>r.toggleMark(this.name),unsetCode:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Bf({find:gKe,type:this.type})]},addPasteRules(){return[Cd({find:yKe,type:this.type})]}}),vKe=bKe.extend({addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),button:({editor:e,t:n})=>({component:ft,componentProps:{action:()=>e.commands.toggleCode(),isActive:()=>e.isActive("code")||!1,disabled:!e.can().toggleCode(),icon:"Code",shortcutKeys:["mod","E"],tooltip:n("editor.code.tooltip")}})}}});function Yq(r,[e,n]){return Math.min(n,Math.max(e,r))}var xKe=[" ","Enter","ArrowUp","ArrowDown"],wKe=[" ","Enter"],Kf="Select",[t6,n6,SKe]=G5(Kf),[fg,jgt]=xa(Kf,[SKe,Yd]),r6=Yd(),[kKe,rh]=fg(Kf),[TKe,EKe]=fg(Kf),qde=r=>{const{__scopeSelect:e,children:n,open:i,defaultOpen:o,onOpenChange:a,value:s,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:m,form:b}=r,g=r6(e),[v,x]=P.useState(null),[w,k]=P.useState(null),[T,_]=P.useState(!1),D=dS(u),[I,L]=ma({prop:i,defaultProp:o??!1,onChange:a,caller:Kf}),[O,W]=ma({prop:s,defaultProp:l,onChange:c,caller:Kf}),Z=P.useRef(null),$=v?b||!!v.closest("form"):!0,[F,A]=P.useState(new Set),Q=Array.from(F).map(H=>H.props.value).join(";");return E.jsx(dv,{...g,children:E.jsxs(kKe,{required:m,scope:e,trigger:v,onTriggerChange:x,valueNode:w,onValueNodeChange:k,valueNodeHasChildren:T,onValueNodeHasChildrenChange:_,contentId:No(),value:O,onValueChange:W,open:I,onOpenChange:L,dir:D,triggerPointerDownPosRef:Z,disabled:f,children:[E.jsx(t6.Provider,{scope:e,children:E.jsx(TKe,{scope:r.__scopeSelect,onNativeOptionAdd:P.useCallback(H=>{A(G=>new Set(G).add(H))},[]),onNativeOptionRemove:P.useCallback(H=>{A(G=>{const ne=new Set(G);return ne.delete(H),ne})},[]),children:n})}),$?E.jsxs(ghe,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:O,onChange:H=>W(H.target.value),disabled:f,form:b,children:[O===void 0?E.jsx("option",{value:""}):null,Array.from(F)]},Q):null]})})};qde.displayName=Kf;var Gde="SelectTrigger",Kde=P.forwardRef((r,e)=>{const{__scopeSelect:n,disabled:i=!1,...o}=r,a=r6(n),s=rh(Gde,n),l=s.disabled||i,c=vn(e,s.onTriggerChange),u=n6(n),d=P.useRef("touch"),[h,f,m]=bhe(g=>{const v=u().filter(k=>!k.disabled),x=v.find(k=>k.value===s.value),w=vhe(v,g,x);w!==void 0&&s.onValueChange(w.value)}),b=g=>{l||(s.onOpenChange(!0),m()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return E.jsx(hv,{asChild:!0,...a,children:E.jsx(Bt.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":yhe(s.value)?"":void 0,...o,ref:c,onClick:gt(o.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&b(g)}),onPointerDown:gt(o.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(b(g),g.preventDefault())}),onKeyDown:gt(o.onKeyDown,g=>{const v=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(v&&g.key===" ")&&xKe.includes(g.key)&&(b(),g.preventDefault())})})})});Kde.displayName=Gde;var Xde="SelectValue",Yde=P.forwardRef((r,e)=>{const{__scopeSelect:n,className:i,style:o,children:a,placeholder:s="",...l}=r,c=rh(Xde,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,h=vn(e,c.onValueNodeChange);return _i(()=>{u(d)},[u,d]),E.jsx(Bt.span,{...l,ref:h,style:{pointerEvents:"none"},children:yhe(c.value)?E.jsx(E.Fragment,{children:s}):a})});Yde.displayName=Xde;var CKe="SelectIcon",Zde=P.forwardRef((r,e)=>{const{__scopeSelect:n,children:i,...o}=r;return E.jsx(Bt.span,{"aria-hidden":!0,...o,ref:e,children:i||""})});Zde.displayName=CKe;var _Ke="SelectPortal",Jde=r=>E.jsx(Q0,{asChild:!0,...r});Jde.displayName=_Ke;var Xf="SelectContent",Qde=P.forwardRef((r,e)=>{const n=rh(Xf,r.__scopeSelect),[i,o]=P.useState();if(_i(()=>{o(new DocumentFragment)},[]),!n.open){const a=i;return a?Wd.createPortal(E.jsx(ehe,{scope:r.__scopeSelect,children:E.jsx(t6.Slot,{scope:r.__scopeSelect,children:E.jsx("div",{children:r.children})})}),a):null}return E.jsx(the,{...r,ref:e})});Qde.displayName=Xf;var gs=10,[ehe,ih]=fg(Xf),AKe="SelectContentImpl",DKe=_d("SelectContent.RemoveScroll"),the=P.forwardRef((r,e)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:s,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:b,hideWhenDetached:g,avoidCollisions:v,...x}=r,w=rh(Xf,n),[k,T]=P.useState(null),[_,D]=P.useState(null),I=vn(e,K=>T(K)),[L,O]=P.useState(null),[W,Z]=P.useState(null),$=n6(n),[F,A]=P.useState(!1),Q=P.useRef(!1);P.useEffect(()=>{if(k)return sS(k)},[k]),aS();const H=P.useCallback(K=>{const[q,...be]=$().map(le=>le.ref.current),[pe]=be.slice(-1),ie=document.activeElement;for(const le of K)if(le===ie||(le==null||le.scrollIntoView({block:"nearest"}),le===q&&_&&(_.scrollTop=0),le===pe&&_&&(_.scrollTop=_.scrollHeight),le==null||le.focus(),document.activeElement!==ie))return},[$,_]),G=P.useCallback(()=>H([L,k]),[H,L,k]);P.useEffect(()=>{F&&G()},[F,G]);const{onOpenChange:ne,triggerPointerDownPosRef:J}=w;P.useEffect(()=>{if(k){let K={x:0,y:0};const q=pe=>{var ie,le;K={x:Math.abs(Math.round(pe.pageX)-(((ie=J.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((le=J.current)==null?void 0:le.y)??0))}},be=pe=>{K.x<=10&&K.y<=10?pe.preventDefault():k.contains(pe.target)||ne(!1),document.removeEventListener("pointermove",q),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",q),document.addEventListener("pointerup",be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",be,{capture:!0})}}},[k,ne,J]),P.useEffect(()=>{const K=()=>ne(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[ne]);const[ee,X]=bhe(K=>{const q=$().filter(ie=>!ie.disabled),be=q.find(ie=>ie.ref.current===document.activeElement),pe=vhe(q,K,be);pe&&setTimeout(()=>pe.ref.current.focus())}),j=P.useCallback((K,q,be)=>{const pe=!Q.current&&!be;(w.value!==void 0&&w.value===q||pe)&&(O(K),pe&&(Q.current=!0))},[w.value]),ae=P.useCallback(()=>k==null?void 0:k.focus(),[k]),re=P.useCallback((K,q,be)=>{const pe=!Q.current&&!be;(w.value!==void 0&&w.value===q||pe)&&Z(K)},[w.value]),de=i==="popper"?D9:nhe,me=de===D9?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:b,hideWhenDetached:g,avoidCollisions:v}:{};return E.jsx(ehe,{scope:n,content:k,viewport:_,onViewportChange:D,itemRefCallback:j,selectedItem:L,onItemLeave:ae,itemTextRefCallback:re,focusSelectedItem:G,selectedItemText:W,position:i,isPositioned:F,searchRef:ee,children:E.jsx(pv,{as:DKe,allowPinchZoom:!0,children:E.jsx(fv,{asChild:!0,trapped:w.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:gt(o,K=>{var q;(q=w.trigger)==null||q.focus({preventScroll:!0}),K.preventDefault()}),children:E.jsx(op,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:E.jsx(de,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:K=>K.preventDefault(),...x,...me,onPlaced:()=>A(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:gt(x.onKeyDown,K=>{const q=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!q&&K.key.length===1&&X(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let pe=$().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(K.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const ie=K.target,le=pe.indexOf(ie);pe=pe.slice(le+1)}setTimeout(()=>H(pe)),K.preventDefault()}})})})})})})});the.displayName=AKe;var MKe="SelectItemAlignedPosition",nhe=P.forwardRef((r,e)=>{const{__scopeSelect:n,onPlaced:i,...o}=r,a=rh(Xf,n),s=ih(Xf,n),[l,c]=P.useState(null),[u,d]=P.useState(null),h=vn(e,I=>d(I)),f=n6(n),m=P.useRef(!1),b=P.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:x,focusSelectedItem:w}=s,k=P.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&g&&v&&x){const I=a.trigger.getBoundingClientRect(),L=u.getBoundingClientRect(),O=a.valueNode.getBoundingClientRect(),W=x.getBoundingClientRect();if(a.dir!=="rtl"){const ie=W.left-L.left,le=O.left-ie,Ee=I.left-le,M=I.width+Ee,he=Math.max(M,L.width),V=window.innerWidth-gs,R=Yq(le,[gs,Math.max(gs,V-he)]);l.style.minWidth=M+"px",l.style.left=R+"px"}else{const ie=L.right-W.right,le=window.innerWidth-O.right-ie,Ee=window.innerWidth-I.right-le,M=I.width+Ee,he=Math.max(M,L.width),V=window.innerWidth-gs,R=Yq(le,[gs,Math.max(gs,V-he)]);l.style.minWidth=M+"px",l.style.right=R+"px"}const Z=f(),$=window.innerHeight-gs*2,F=g.scrollHeight,A=window.getComputedStyle(u),Q=parseInt(A.borderTopWidth,10),H=parseInt(A.paddingTop,10),G=parseInt(A.borderBottomWidth,10),ne=parseInt(A.paddingBottom,10),J=Q+H+F+ne+G,ee=Math.min(v.offsetHeight*5,J),X=window.getComputedStyle(g),j=parseInt(X.paddingTop,10),ae=parseInt(X.paddingBottom,10),re=I.top+I.height/2-gs,de=$-re,me=v.offsetHeight/2,K=v.offsetTop+me,q=Q+H+K,be=J-q;if(q<=re){const ie=Z.length>0&&v===Z[Z.length-1].ref.current;l.style.bottom="0px";const le=u.clientHeight-g.offsetTop-g.offsetHeight,Ee=Math.max(de,me+(ie?ae:0)+le+G),M=q+Ee;l.style.height=M+"px"}else{const ie=Z.length>0&&v===Z[0].ref.current;l.style.top="0px";const Ee=Math.max(re,Q+g.offsetTop+(ie?j:0)+me)+be;l.style.height=Ee+"px",g.scrollTop=q-re+g.offsetTop}l.style.margin=`${gs}px 0`,l.style.minHeight=ee+"px",l.style.maxHeight=$+"px",i==null||i(),requestAnimationFrame(()=>m.current=!0)}},[f,a.trigger,a.valueNode,l,u,g,v,x,a.dir,i]);_i(()=>k(),[k]);const[T,_]=P.useState();_i(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const D=P.useCallback(I=>{I&&b.current===!0&&(k(),w==null||w(),b.current=!1)},[k,w]);return E.jsx(NKe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:D,children:E.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:E.jsx(Bt.div,{...o,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});nhe.displayName=MKe;var RKe="SelectPopperPosition",D9=P.forwardRef((r,e)=>{const{__scopeSelect:n,align:i="start",collisionPadding:o=gs,...a}=r,s=r6(n);return E.jsx(eS,{...s,...a,ref:e,align:i,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});D9.displayName=RKe;var[NKe,JO]=fg(Xf,{}),M9="SelectViewport",rhe=P.forwardRef((r,e)=>{const{__scopeSelect:n,nonce:i,...o}=r,a=ih(M9,n),s=JO(M9,n),l=vn(e,a.onViewportChange),c=P.useRef(0);return E.jsxs(E.Fragment,{children:[E.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),E.jsx(t6.Slot,{scope:n,children:E.jsx(Bt.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:gt(o.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=s;if(f!=null&&f.current&&h){const m=Math.abs(c.current-d.scrollTop);if(m>0){const b=window.innerHeight-gs*2,g=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),x=Math.max(g,v);if(x<b){const w=x+m,k=Math.min(b,w),T=w-k;h.style.height=k+"px",h.style.bottom==="0px"&&(d.scrollTop=T>0?T:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});rhe.displayName=M9;var ihe="SelectGroup",[OKe,PKe]=fg(ihe),IKe=P.forwardRef((r,e)=>{const{__scopeSelect:n,...i}=r,o=No();return E.jsx(OKe,{scope:n,id:o,children:E.jsx(Bt.div,{role:"group","aria-labelledby":o,...i,ref:e})})});IKe.displayName=ihe;var ohe="SelectLabel",ahe=P.forwardRef((r,e)=>{const{__scopeSelect:n,...i}=r,o=PKe(ohe,n);return E.jsx(Bt.div,{id:o.id,...i,ref:e})});ahe.displayName=ohe;var b3="SelectItem",[$Ke,she]=fg(b3),lhe=P.forwardRef((r,e)=>{const{__scopeSelect:n,value:i,disabled:o=!1,textValue:a,...s}=r,l=rh(b3,n),c=ih(b3,n),u=l.value===i,[d,h]=P.useState(a??""),[f,m]=P.useState(!1),b=vn(e,w=>{var k;return(k=c.itemRefCallback)==null?void 0:k.call(c,w,i,o)}),g=No(),v=P.useRef("touch"),x=()=>{o||(l.onValueChange(i),l.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return E.jsx($Ke,{scope:n,value:i,disabled:o,textId:g,isSelected:u,onItemTextChange:P.useCallback(w=>{h(k=>k||((w==null?void 0:w.textContent)??"").trim())},[]),children:E.jsx(t6.ItemSlot,{scope:n,value:i,disabled:o,textValue:d,children:E.jsx(Bt.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...s,ref:b,onFocus:gt(s.onFocus,()=>m(!0)),onBlur:gt(s.onBlur,()=>m(!1)),onClick:gt(s.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:gt(s.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:gt(s.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:gt(s.onPointerMove,w=>{var k;v.current=w.pointerType,o?(k=c.onItemLeave)==null||k.call(c):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:gt(s.onPointerLeave,w=>{var k;w.currentTarget===document.activeElement&&((k=c.onItemLeave)==null||k.call(c))}),onKeyDown:gt(s.onKeyDown,w=>{var T;((T=c.searchRef)==null?void 0:T.current)!==""&&w.key===" "||(wKe.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});lhe.displayName=b3;var by="SelectItemText",che=P.forwardRef((r,e)=>{const{__scopeSelect:n,className:i,style:o,...a}=r,s=rh(by,n),l=ih(by,n),c=she(by,n),u=EKe(by,n),[d,h]=P.useState(null),f=vn(e,x=>h(x),c.onItemTextChange,x=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,b=P.useMemo(()=>E.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return _i(()=>(g(b),()=>v(b)),[g,v,b]),E.jsxs(E.Fragment,{children:[E.jsx(Bt.span,{id:c.textId,...a,ref:f}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Wd.createPortal(a.children,s.valueNode):null]})});che.displayName=by;var uhe="SelectItemIndicator",dhe=P.forwardRef((r,e)=>{const{__scopeSelect:n,...i}=r;return she(uhe,n).isSelected?E.jsx(Bt.span,{"aria-hidden":!0,...i,ref:e}):null});dhe.displayName=uhe;var R9="SelectScrollUpButton",hhe=P.forwardRef((r,e)=>{const n=ih(R9,r.__scopeSelect),i=JO(R9,r.__scopeSelect),[o,a]=P.useState(!1),s=vn(e,i.onScrollButtonChange);return _i(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),o?E.jsx(phe,{...r,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});hhe.displayName=R9;var N9="SelectScrollDownButton",fhe=P.forwardRef((r,e)=>{const n=ih(N9,r.__scopeSelect),i=JO(N9,r.__scopeSelect),[o,a]=P.useState(!1),s=vn(e,i.onScrollButtonChange);return _i(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),o?E.jsx(phe,{...r,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});fhe.displayName=N9;var phe=P.forwardRef((r,e)=>{const{__scopeSelect:n,onAutoScroll:i,...o}=r,a=ih("SelectScrollButton",n),s=P.useRef(null),l=n6(n),c=P.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return P.useEffect(()=>()=>c(),[c]),_i(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),E.jsx(Bt.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:gt(o.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(i,50))}),onPointerMove:gt(o.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),s.current===null&&(s.current=window.setInterval(i,50))}),onPointerLeave:gt(o.onPointerLeave,()=>{c()})})}),zKe="SelectSeparator",mhe=P.forwardRef((r,e)=>{const{__scopeSelect:n,...i}=r;return E.jsx(Bt.div,{"aria-hidden":!0,...i,ref:e})});mhe.displayName=zKe;var O9="SelectArrow",LKe=P.forwardRef((r,e)=>{const{__scopeSelect:n,...i}=r,o=r6(n),a=rh(O9,n),s=ih(O9,n);return a.open&&s.position==="popper"?E.jsx(tS,{...o,...i,ref:e}):null});LKe.displayName=O9;var UKe="SelectBubbleInput",ghe=P.forwardRef(({__scopeSelect:r,value:e,...n},i)=>{const o=P.useRef(null),a=vn(i,o),s=_N(e);return P.useEffect(()=>{const l=o.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==e&&d){const h=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(h)}},[s,e]),E.jsx(Bt.select,{...n,style:{...$re,...n.style},ref:a,defaultValue:e})});ghe.displayName=UKe;function yhe(r){return r===""||r===void 0}function bhe(r){const e=fo(r),n=P.useRef(""),i=P.useRef(0),o=P.useCallback(s=>{const l=n.current+s;e(l),function c(u){n.current=u,window.clearTimeout(i.current),u!==""&&(i.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=P.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return P.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,o,a]}function vhe(r,e,n){const o=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=n?r.indexOf(n):-1;let s=BKe(r,Math.max(a,0));o.length===1&&(s=s.filter(u=>u!==n));const c=s.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return c!==n?c:void 0}function BKe(r,e){return r.map((n,i)=>r[(e+i)%r.length])}var jKe=qde,xhe=Kde,FKe=Yde,HKe=Zde,WKe=Jde,whe=Qde,VKe=rhe,She=ahe,khe=lhe,qKe=che,GKe=dhe,The=hhe,Ehe=fhe,Che=mhe;const Zq=jKe,KKe=FKe,P9=P.forwardRef(({className:r,children:e,...n},i)=>E.jsxs(xhe,{ref:i,className:wt("richtext-flex richtext-h-10 richtext-w-full richtext-items-center richtext-justify-between richtext-rounded-md richtext-border richtext-border-input richtext-bg-background richtext-px-3 richtext-py-2 richtext-text-sm richtext-ring-offset-background placeholder:richtext-text-muted-foreground focus:richtext-outline-none focus:richtext-ring-2 focus:richtext-ring-ring focus:richtext-ring-offset-2 disabled:richtext-cursor-not-allowed disabled:richtext-opacity-50 [&>span]:richtext-line-clamp-1",r),...n,children:[e,E.jsx(HKe,{asChild:!0,children:E.jsx(Y5,{className:"richtext-h-4 richtext-w-4 richtext-opacity-50"})})]}));P9.displayName=xhe.displayName;const _he=P.forwardRef(({className:r,...e},n)=>E.jsx(The,{ref:n,className:wt("richtext-flex richtext-cursor-default richtext-items-center richtext-justify-center richtext-py-1",r),...e,children:E.jsx(rie,{className:"richtext-h-4 richtext-w-4"})}));_he.displayName=The.displayName;const Ahe=P.forwardRef(({className:r,...e},n)=>E.jsx(Ehe,{ref:n,className:wt("richtext-flex richtext-cursor-default richtext-items-center richtext-justify-center richtext-py-1",r),...e,children:E.jsx(Y5,{className:"richtext-h-4 richtext-w-4"})}));Ahe.displayName=Ehe.displayName;const I9=P.forwardRef(({className:r,children:e,position:n="popper",...i},o)=>E.jsx(WKe,{children:E.jsxs(whe,{ref:o,className:wt("richtext-relative richtext-z-50 richtext-max-h-60 richtext-overflow-y-auto richtext-min-w-[8rem] richtext-overflow-hidden richtext-rounded-md richtext-border richtext-bg-popover richtext-text-popover-foreground richtext-shadow-md data-[state=open]:richtext-animate-in data-[state=closed]:richtext-animate-out data-[state=closed]:richtext-fade-out-0 data-[state=open]:richtext-fade-in-0 data-[state=closed]:richtext-zoom-out-95 data-[state=open]:richtext-zoom-in-95 data-[side=bottom]:richtext-slide-in-from-top-2 data-[side=left]:richtext-slide-in-from-right-2 data-[side=right]:richtext-slide-in-from-left-2 data-[side=top]:richtext-slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:richtext-translate-y-1 data-[side=left]:richtext--translate-x-1 data-[side=right]:richtext-translate-x-1 data-[side=top]:richtext--translate-y-1",r),position:n,...i,children:[E.jsx(_he,{}),E.jsx(VKe,{className:wt("richtext-p-1",n==="popper"&&"richtext-h-[var(--radix-select-trigger-height)] richtext-w-full richtext-min-w-[var(--radix-select-trigger-width)]"),children:e}),E.jsx(Ahe,{})]})}));I9.displayName=whe.displayName;const XKe=P.forwardRef(({className:r,...e},n)=>E.jsx(She,{ref:n,className:wt("richtext-py-1.5 richtext-pl-8 richtext-pr-2 richtext-text-sm richtext-font-semibold",r),...e}));XKe.displayName=She.displayName;const $9=P.forwardRef(({className:r,children:e,...n},i)=>E.jsxs(khe,{ref:i,className:wt("richtext-relative richtext-flex richtext-w-full richtext-cursor-default richtext-select-none richtext-items-center richtext-rounded-sm richtext-py-1.5 richtext-pl-8 richtext-pr-2 richtext-text-sm richtext-outline-none focus:richtext-bg-accent focus:richtext-text-accent-foreground data-[disabled]:richtext-pointer-events-none data-[disabled]:richtext-opacity-50",r),...n,children:[E.jsx("span",{className:"richtext-absolute richtext-left-2 richtext-flex richtext-h-3.5 richtext-w-3.5 richtext-items-center richtext-justify-center",children:E.jsx(GKe,{children:E.jsx(uN,{className:"richtext-h-4 richtext-w-4"})})}),E.jsx(qKe,{children:e})]}));$9.displayName=khe.displayName;const YKe=P.forwardRef(({className:r,...e},n)=>E.jsx(Che,{ref:n,className:wt("richtext--mx-1 richtext-my-1 richtext-h-px richtext-bg-muted",r),...e}));YKe.displayName=Che.displayName;function ZKe({action:r,...e}){return E.jsx(ft,{action:r,disabled:e==null?void 0:e.disabled,icon:e==null?void 0:e.icon,tooltip:e==null?void 0:e.tooltip})}var Zw={},_s=Symbol(),Bc=Symbol(),QO=r=>typeof r=="string"?St[r]:r,St={plain:Zw,plaintext:Zw,text:Zw,txt:Zw},Ov=(r,e)=>(e[Bc]||Pv)(r,e),Pv=(r,e)=>{for(var n=[r],i,o=[],a=0;i=QO(e[_s]);)delete e[_s],Object.assign(e,i);for(Rhe(r,e,n,0);o[a++]=n[0],n=n[1];);return o},Jq="</span>",Jw="",$1="",Dhe=r=>{for(var e="",n=r.length,i=0;i<n;)e+=Mhe(r[i++]);return e},Mhe=r=>{if(r instanceof qm){var{type:e,alias:n,content:i}=r,o=Jw,a=$1,s=`<span class="token ${e+(n?" "+n:"")+(e=="keyword"&&typeof i=="string"?" keyword-"+i:"")}">`;$1+=Jq,Jw+=s;var l=Mhe(i);return Jw=o,$1=a,s+l+Jq}return typeof r!="string"?Dhe(r):(r=r.replace(/&/g,"&amp;").replace(/</g,"&lt;"),$1&&r.includes(`
`)?r.replace(/\n/g,$1+`
`+Jw):r)},Rhe=(r,e,n,i,o)=>{for(var a in e)if(e[a])for(var s=0,l=e[a],c=Array.isArray(l)?l:[l];s<c.length;++s){if(o&&o[0]==a&&o[1]==s)return;for(var u=c[s],d=u.pattern||u,h=QO(u.inside),f=u.lookbehind,m=u.greedy&&d.global,b=u.alias,g=n,v=i;g&&(!o||v<o[2]);v+=g[0].length,g=g[1]){var x=g[0],w=0,k,T;if(!(x instanceof qm)){if(d.lastIndex=m?v:0,k=d.exec(m?r:x),k&&f&&k[1]&&(T=k[1].length,k.index+=T,k[0]=k[0].slice(T)),m){if(!k)break;if(k[0]){for(var _=k.index,D=_+k[0].length,I;_>=v+(I=g[0].length);g=g[1],v+=I);if(g[0]instanceof qm)continue;for(var L=g,l=v;(l+=L[0].length)<D;L=L[1],w++);x=r.slice(v,l),k.index-=v}}if(k&&k[0]){for(var _=k.index,O=k[0],W=x.slice(_+O.length),Z=v+x.length,$=new qm(a,h?Ov(O,h):O,O,b),F=g,A=0,Q;F=F[1],A++<w;);W&&(!F||F[0]instanceof qm?F=[W,F]:F[0]=W+F[0]),v+=_,g[0]=_?x.slice(0,_):$,_?g=g[1]=[$,F]:g[1]=F,w&&(Rhe(r,e,g,v,Q=[a,s,Z]),Z=Q[2]),o&&Z>o[2]&&(o[2]=Z)}}}}};function qm(r,e,n,i){this.type=r,this.content=e,this.alias=i,this.length=n.length}var v3="\\b(?:BASH(?:OPTS|_ALIASES|_ARG[CV]|_CMDS|_COMPLETION_COMPAT_DIR|_LINENO|_REMATCH|_SOURCE|_VERSINFO|_VERSION)?|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|E?UID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_(?:ADDRESS|ALL|IDENTIFICATION|MEASUREMENT|MONETARY|NAME|NUMERIC|PAPER|TELEPHONE|TIME)|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS[1-4]|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_(?:CONFIG_DIRS|CURRENT_DESKTOP|DATA_DIRS|GREETER_DATA_DIR|MENU_PREFIX|RUNTIME_DIR|SEAT|SEAT_PATH|SESSION_DESKTOP|SESSION_ID|SESSION_PATH|SESSION_TYPE|VTNR)|XMODIFIERS)\\b",z9={pattern:/(^(["']?)\w+\2)[ 	]+\S.*/,lookbehind:!0,alias:"punctuation"},Nhe={variable:/^\$\(|^`|\)$|`$/},Qw={bash:z9,environment:{pattern:RegExp("\\$"+v3),alias:"constant"},variable:[{pattern:/\$?\(\([^]*?\)\)/g,greedy:!0,inside:{variable:[{pattern:/(^\$[^]+)../,lookbehind:!0},/^\$\(\(/],number:/\b0x[a-fA-F\d]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|&&|\|\||(?:\*\*|<<|>>|[%&|^!=<>/*+-])=?|[?:~]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:[^()]|\([^)]*\))*\)|`[^`]+`/g,greedy:!0,inside:Nhe},{pattern:/\$\{[^}]*\}/g,greedy:!0,inside:{operator:/:[?=+-]?|[!/]|##?|%%?|\^\^?|,,?/,punctuation:/[[\]]/,environment:{pattern:RegExp("(\\{)"+v3),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[a-fA-F\d]{8}|u[a-fA-F\d]{4}|x[a-fA-F\d]{1,2})/},JKe=z9.inside=St.sh=St.shell=St.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,lookbehind:!0,alias:"variable"},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,lookbehind:!0,alias:"variable",inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+v3),lookbehind:!0,alias:"constant"}}},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?![^\s=])/,lookbehind:!0,alias:"variable"},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[^]*?\n\2/g,lookbehind:!0,greedy:!0,inside:Qw},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[^]*?\n\3/g,lookbehind:!0,greedy:!0,inside:{bash:z9}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[^]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^\\"`$])*"/g,lookbehind:!0,greedy:!0,inside:Qw},{pattern:/(^|[^$\\])'[^']*'/g,lookbehind:!0,greedy:!0},{pattern:/\$'(?:\\[^]|[^\\'])*'/g,greedy:!0,inside:{entity:Qw.entity}}],environment:{pattern:RegExp("\\$?"+v3),alias:"constant"},variable:Qw.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|c?fdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cron|crontab|c?split|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff3?|dig|dircolors|dirname|dirs?|dmesg|docker|docker-compose|du|[ef]?grep|eject|env|ethtool|expand|expect|expr|fdformat|fg|file|find|fmt|fold|format|free|fsck|fuser|g?awk|git|g?parted|groupadd|groupdel|groupmod|groups|grub-mkconfig|halt|head|hg|history|host|hostname|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|killall|less|link|ln|logname|logrotate|look|lpc|lprint[dq]?|lprm?|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mm?v|more|most|mtools|m?tr|mutt|nano|nc|netstat|nice|nl|node|nohup|notify-send|nslookup|op|open|passwd|paste|pathchk|ping|p?kill|p?npm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ra[mr]|reboot|remsync|rename|renice|rev|rmdir|rp?m|r?sync|[sr]?cp|screen|sdiff|se[dq]|sendmail|service|s?ftp|shellcheck|shuf|shutdown|sleep|s?locate|[sz]?sh|stat|strace|sudo|sum?|suspend|swapon|sysctl|tac|tail|tar|tee|time|timeout|h?top|touch|traceroute|t?sort|tty|u?mount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vim?|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|g?zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|[ls]et|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[[\]{};\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}};["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"].forEach(r=>Nhe[r]=JKe[r]);var Ohe=/(?:"(?:\\[^]|[^\\\n"])*"|'(?:\\[^]|[^\\\n'])*')/g,e2=Ohe.source,Qq={rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^)]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}};Qq[_s]=St.css={comment:/\/\*[^]*?\*\//,atrule:{pattern:RegExp(`@[\\w-](?:[^;{\\s"']|\\s+(?!\\s)|${e2})*?(?:;|(?=\\s*\\{))`),inside:Qq},url:{pattern:RegExp(`\\burl\\((?:${e2}|(?:[^\\\\
"')=]|\\\\[^])*)\\)`,"gi"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e2+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|${e2})*(?=\\s*\\{)`),lookbehind:!0},string:{pattern:Ohe,greedy:!0},property:{pattern:/(^|[^-\w\xa0-\uffff])(?!\d)(?:(?!\s)[-\w\xa0-\uffff])+(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z\d])[-a-z\d]+(?=\()/i,lookbehind:!0},punctuation:/[(){},:;]/};var p4=(r,e)=>{if(e.has(r))return e.get(r);var n=r,i=QKe.call(r).slice(8,-1);if(i=="Object"){e.set(r,n={});for(var o in r)n[o]=p4(r[o],e);r[_s]&&(n[_s]=p4(r[_s],e)),r[Bc]&&(n[Bc]=r[Bc])}else if(i=="Array"){e.set(r,n=[]);for(var a=0,s=r.length;a<s;a++)n[a]=p4(r[a],e)}return n},i6=r=>p4(r,new Map),oh=(r,e)=>Object.assign(i6(St[r]),e),xr=(r,e,n)=>{var i={};for(var o in r)i[o]=r[o],delete r[o];for(var o in i)o==e&&Object.assign(r,n),n.hasOwnProperty(o)||(r[o]=i[o])},QKe={}.toString,x3=St.css,eG={pattern:/(\b\d+)(?:%|[a-z]+(?![\w-]))/,lookbehind:!0},tG={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0};x3.selector.inside=x3.atrule.inside["selector-function-argument"].inside={"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-\w]+/,id:/#[-\w]+/,attribute:{pattern:/\[(?:[^[\]"']|(["'])(?:\\[^]|(?!\1)[^\\\n])*\1)*\]/g,greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)(?:(?!\s)[-*\w\xa0-\uffff])*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},"attr-name":{pattern:/^(\s*)(?:(?!\s)[-\w\xa0-\uffff])+/,lookbehind:!0},"attr-value":{pattern:/(=\s*)(?:(?!\s)[-\w\xa0-\uffff])+(?=\s*$)|(["'])(?:\\[^]|(?!\2)[^\\\n])*\2/,lookbehind:!0},operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],combinator:/>|\+|~|\|\|/,punctuation:/[(),]/};xr(x3,"property",{variable:{pattern:/(^|[^-\w\xa0-\uffff])--(?!\d)(?:(?!\s)[-\w\xa0-\uffff])*/i,lookbehind:!0}});xr(x3,"function",{operator:{pattern:/(\s)[/*+-](?!\S)/,lookbehind:!0},hexcode:{pattern:/\B#[a-f\d]{3,8}\b/i,alias:"color"},color:[{pattern:/(^|[^\w-])(?:(?:alice|cadet|cornflower|deepsky|dodger|midnight|powder|royal|sky|steel)blue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blueviolet|brown|burlywood|chartreuse|chocolate|coral|cornsilk|crimson|(?:dark)?(?:blue|cyan|goldenrod|gr[ae]y|green|khaki|magenta|olivegreen|orange|orchid|red|salmon|seagreen|slateblue|slategr[ae]y|turquoise|violet)|deeppink|dimgr[ae]y|firebrick|floralwhite|(?:forest|lawn|lime|pale|spring)green|fuchsia|gainsboro|ghostwhite|gold|greenyellow|honeydew|hotpink|indianred|indigo|ivory|lavender|lavenderblush|lemonchiffon|light(?:blue|coral|cyan|goldenrodyellow|gr[ae]y|green|pink|salmon|seagreen|skyblue|slategr[ae]y|steelblue|yellow)|lime|linen|maroon|medium(?:aquamarine|blue|orchid|purple|seagreen|slateblue|springgreen|turquoise|violetred)|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orangered|palegoldenrod|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|purple|rebeccapurple|rosybrown|saddlebrown|sandybrown|seashell|sienna|silver|snow|tan|teal|thistle|tomato|transparent|wheat|white|whitesmoke|yellow|yellowgreen)(?![\w-])/i,lookbehind:!0},{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{function:/^[^(]+/,unit:eG,number:tG,punctuation:/[(),]/}}],entity:/\\[a-f\d]{1,8}/i,unit:eG,number:tG});St.ini={comment:{pattern:/(^[ \f	\v]*)[#;].*/m,lookbehind:!0},section:{pattern:/(^[ \f	\v]*)\[[^\n\]]*\]?/m,lookbehind:!0,inside:{"section-name":{pattern:/(^\[[ \f	\v]*)[^ \f	\v\]]+(?:[ \f	\v]+[^ \f	\v\]]+)*/,lookbehind:!0,alias:"selector"},punctuation:/[[\]]/}},key:{pattern:/(^[ \f	\v]*)[^ \f\n	\v=]+(?:[ \f	\v]+[^ \f\n	\v=]+)*(?=[ \f	\v]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/(=[ \f	\v]*)[^ \f\n	\v]+(?:[ \f	\v]+[^ \f\n	\v]+)*/,lookbehind:!0,alias:"attr-value",inside:{"inner-value":{pattern:/^(["']).+(?=\1$)/,lookbehind:!0}}},punctuation:/=/};var ah=()=>({pattern:/\/\/.*|\/\*[^]*?(?:\*\/|$)/g,greedy:!0}),eP=()=>({pattern:/(["'])(?:\\[^]|(?!\1)[^\\\n])*\1/g,greedy:!0}),Phe=/\b0x[a-f\d]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,Ld=/[()[\]{}.,:;]/,ga=/\b(?:false|true)\b/,l7={"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[^]+/}};l7.expression.inside=St.kts=St.kt=St.kotlin={"string-literal":[{pattern:/"""(?:[^$]|\$(?:(?!\{)|\{[^{}]*\}))*?"""/,alias:"multiline",inside:{interpolation:{pattern:/\$(?:[a-z_]\w*|\{[^{}]*\})/i,inside:l7},string:/[^]+/}},{pattern:/"(?:\\.|[^\\\n"$]|\$(?:(?!\{)|\{[^{}]*\}))*"/,alias:"singleline",inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\\\)*)\$(?:[a-z_]\w*|\{[^{}]*\})/i,lookbehind:!0,inside:l7},string:/[^]+/}}],char:{pattern:/'(?:[^\\\n']|\\(?:.|u[a-fA-F\d]{0,4}))'/g,greedy:!0},comment:ah(),annotation:{pattern:/\B@(?:\w+:)?(?:[A-Z]\w*|\[[^\]]+\])/,alias:"builtin"},keyword:{pattern:/(^|[^.])\b(?:abstract|actual|annotation|as|break|by|catch|class|companion|const|constructor|continue|crossinline|data|do|dynamic|else|enum|expect|external|final|finally|for|fun|get|if|import|in|infix|init|inline|inner|interface|internal|is|lateinit|noinline|null|object|open|operator|out|override|package|private|protected|public|reified|return|sealed|set|super|suspend|tailrec|this|throw|to|try|typealias|val|var|vararg|when|where|while)\b/,lookbehind:!0},boolean:ga,label:{pattern:/\b\w+@|@\w+/,alias:"symbol"},function:{pattern:/(?:`[^\n`]+`|\b\w+)(?=\s*\()|(\.)(?:`[^\n`]+`|\w+)(?=\s*\{)/g,lookbehind:!0,greedy:!0},number:/\b(?:0[xX][a-fA-F\d]+(?:_[a-fA-F\d]+)*|0[bB][01]+(?:_[01]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?[fFL]?)\b/,operator:/--|\+\+|&&|\|\||->|[!=]==|!!|[%!=<>/*+-]=?|[?:]:?|\.\.|\b(?:and|inv|shl|u?shr|x?or)\b/,punctuation:Ld};var Ihe=[{pattern:/&[a-z\d]{1,8};/i,alias:"named-entity"},/&#x?[a-f\d]{1,8};/i],eXe={pattern:/<\/?(?!\d)[^\s/=>$<%]+(?:\s(?:\s*[^\s/=>]+(?:\s*=\s*(?!\s)(?:"[^"]*"|'[^']*'|[^\s"'=>]+(?=[\s>]))?|(?=[\s/>])))+)?\s*\/?>/g,greedy:!0,inside:{punctuation:/^<\/?|\/?>$/,tag:{pattern:/^\S+/,inside:{namespace:/^[^:]+:/}},"attr-value":[{pattern:/(=\s*)(?:"[^"]*"|'[^']*'|[^\s"'=>]+)/g,lookbehind:!0,greedy:!0,inside:{punctuation:/^["']|["']$/,entity:Ihe}}],"attr-equals":/=/,"attr-name":{pattern:/\S+/,inside:{namespace:/^[^:]+:/}}}};St.rss=St.atom=St.ssml=St.xml={comment:{pattern:/<!--(?:(?!<!--)[^])*?-->/g,greedy:!0},prolog:{pattern:/<\?[^]+?\?>/g,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/gi,greedy:!0,inside:{"internal-subset":{pattern:/(\[)[^]+(?=\]\s*>$)/,lookbehind:!0,inside:"xml"},string:/"[^"]*"|'[^']*'/,punctuation:/^<!|[>[\]]/,"doctype-tag":/^DOCTYPE/i,name:/\S+/}},cdata:{pattern:/<!\[CDATA\[[^]*?\]\]>/gi,greedy:!0},tag:eXe,entity:Ihe,"markup-bracket":{pattern:/[()[\]{}]/,alias:"punctuation"}};var L9=(r,e)=>(r["language-"+e]={pattern:/[^]+/,inside:e},r),nG=(r,e)=>({pattern:RegExp(`(<${r}[^>]*>)(?!</${r}>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[^])+?(?=</${r}>)`,"gi"),lookbehind:!0,greedy:!0,inside:L9({"included-cdata":{pattern:/<!\[CDATA\[[^]*?\]\]>/i,inside:L9({cdata:/^<!\[CDATA\[|\]\]>$/i},e)}},e)}),rG=(r,e)=>({pattern:RegExp(`((?:^|["'\\s])(?:${r})\\s*=\\s*)(?:"[^"]*"|'[^']*'|[^\\s"'=>]+)`,"gi"),lookbehind:!0,greedy:!0,inside:L9({punctuation:/^["']|["']$/},e)}),$he=St.svg=St.mathml=St.html=St.markup=i6(St.xml);$he.tag.inside["attr-value"].unshift(rG("style","css"),rG("on[a-z]+","javascript"));xr($he,"cdata",{style:nG("style","css"),script:nG("script","javascript")});St.r={comment:/#.*/,string:{pattern:/(["'])(?:\\.|(?!\1)[^\\\n])*\1/g,greedy:!0},"percent-operator":{pattern:/%[^%\s]*%/,alias:"operator"},boolean:/\b(?:FALSE|TRUE)\b/,ellipsis:/\.\.(?:\.|\d+)/,number:[/\b(?:Inf|NaN)\b/,/(?:\b0x[a-fA-F\d]+(?:\.\d*)?|\b\d+(?:\.\d*)?|\B\.\d+)(?:[EePp][+-]?\d+)?[iL]?/],keyword:/\b(?:NA|NA_character_|NA_complex_|NA_integer_|NA_real_|NULL|break|else|for|function|if|in|next|repeat|while)\b/,operator:/->>?|<=|<<?-|[!=<>]=?|::?|&&?|\|\|?|[~^$@/*+-]/,punctuation:/[()[\]{},;]/};St.basic={comment:{pattern:/(?:!|rem\b).+/i,inside:{keyword:/^rem/i}},string:{pattern:/"(?:""|[#$%&'().,:;\w ?^!=<>/*+-])*"/g,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,keyword:/\b(?:as|beep|bload|bsave|call absolute|call|case|chain|chdir|clear|close|cls|com|common|const|data|declare|def(?: fn| seg|dbl|int|[ls]ng|str)|dim|do|double|else|elseif|environ|erase|error|exit|field|files|for|function|get|gosub|goto|if|input|integer|ioctl|key|kill|line input|locate|lock|long|loop|[lr]set|mkdir|name|next|off|on(?: com| error| key| timer)?|open|option base|[op]ut|poke|read|redim|rem|restore|resume|return|rmdir|run|select case|shared|shell|single|sleep|static|step|stop|string|sub|swap|system|then|timer|to|troff|tron|type|unlock|until|using|view print|wait|w?end|while|write)(?:\$|\b)/i,function:/\b(?:abs|access|a?cos|angle|area|arithmetic|array|a?sin|ask|atn?|base|begin|break|cause|ceil|chr|clip|collate|color|co[nst]|cosh|csc|date|datum|debug|decimal|de[fgt]|degrees|delete|device|display|dot|elapsed|eps|erasable|exline|exp|external|extype|filetype|fixed|fp|go|graph|handler|idn|image|int?|internal|ip|is|keyed|[lu]bound|[lu]case|left|le[nt]|length|lines?|log2?|log10|[lr]trim|margin|ma[tx]|maxnum|mi[dn]|missing|mod|native|nul|numeric|of|option|ord|organization|outin|output|pi|pointer|points?|pos|print|program|prompt|rad|radians|randomize|record|recsize|rectype|relative|remainder|repeat|rest|retry|rewrite|right|rnd|round|same|se[ct]|select|sequential|setter|sgn|sinh|size|skip|s[qt]r|standard|status|stream|style|tab|tanh?|template|text|there|time|timeout|trace|transform|truncate|use|val|variable|viewport|when|window|with|zer|zonewidth)(?:\$|\b)/i,operator:/<=|<>|>=|[&^=<>/*+-]|\b(?:and|eqv|imp|not|x?or)\b/i,punctuation:/[(),:;]/};St.vbnet=oh("basic",{comment:{pattern:/(?:!|'|rem\b).*/i,inside:{keyword:/^rem/i}},string:{pattern:/(^|[^"])"(?:""|[^"])*"(?!")/g,lookbehind:!0,greedy:!0},keyword:/(?:\b(?:addhandler|addressof|alias|and|andalso|as|beep|bload|boolean|bsave|byref|byval|call absolute|call|case|catch|cbool|c?byte|cc?har|c?date|cdbl|cdec|chain|chdir|cu?int|class|clear|close|cls|cobj|com|common|const|continue|c?sbyte|c?u?short|c?sng|cstr|c?type|cu?lng|data|decimal|declare|def(?: fn| seg|dbl|int|lng|sng|str)|default|delegate|dim|directcast|do|double|else|elseif|enum|environ|erase|error|event|exit|false|true|field|files|finally|for each|for|friend|function|[gls]et|gettype|getxmlnamespace|global|gosub|goto|handles|i[fns]|implements|imports|inherits|input|interface|ioctl|isnot|key|kill|lib|like|line input|locate|lock|loop|[lr]set|me|mkdir|mod|module|mustinherit|mustoverride|mybase|myclass|name|namespace|narrowing|new|next|not|nothing|notinheritable|notoverridable|object|off?|on (?:com|error|key|timer)|on|open|operator|option base|option|optional|orelse|out|overloads|overridable|overrides|paramarray|partial|poke|private|property|protected|public|put|raiseevent|read|readonly|redim|removehandler|restore|resume|return|rmdir|run|select case|select|shadows|shared|shell|single|sleep|static|step|stop|string|structure|sub|swap|synclock|system|[tw]hen|throw|timer|to|troff|tron|try|trycast|typeof|u?integer|u?long|unlock|until|using|view print|wait|w?end|while|widening|with|withevents|write|writeonly|x?or)|\B#(?:const|else|elseif|end|if))(?:\$|\b)/i,punctuation:/[(){},:;]/});var iG={pattern:/'(?:\\[^]|[^\\\n']){0,32}'/g,greedy:!0},oG={pattern:/\/\/(?:[^\\\n]|\\\n?)*|\/\*[^]*?(?:\*\/|$)/g,greedy:!0},aG={pattern:/"(?:\\[^]|[^\\\n"])*"/g,greedy:!0},sG={pattern:/\S[^]*/};sG.inside=St.c={comment:oG,char:iG,macro:{pattern:/(^[ 	]*)#\s*[a-z](?:[^\\\n/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\[^])*/img,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},aG],char:iG,comment:oG,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=\n)/,expression:sG}},string:aG,"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([^]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[a-f\d]+(?:\.[a-f\d]*)?|\.[a-f\d]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/->|([&|:+-])\1|[?:~]|>>=?|<<=?|[%&|^!=<>/*+-]=?/,punctuation:Ld};xr(St.opencl=oh("c",{keyword:/\b(?:(?:__)?(?:constant|global|kernel|local|private|read_only|read_write|write_only)|__attribute__|auto|(?:bool|u?(?:char|int|long|short)|half|quad)(?:2|3|4|8|16)?|break|case|complex|const|continue|(?:double|float)(?:16(?:x(?:1|2|4|8|16))?|1x(?:1|2|4|8|16)|2(?:x(?:1|2|4|8|16))?|3|4(?:x(?:1|2|4|8|16))?|8(?:x(?:1|2|4|8|16))?)?|default|do|else|enum|extern|for|goto|if|imaginary|inline|packed|pipe|register|restrict|return|signed|sizeof|static|struct|switch|typedef|uniform|union|unsigned|void|volatile|while)\b/,number:/(?:\b0x(?:[a-f\d]+(?:\.[a-f\d]*)?|\.[a-f\d]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[fuhl]{0,4}/i,boolean:ga,"constant-opencl-kernel":{pattern:/\b(?:CHAR_(?:BIT|MAX|MIN)|CLK_(?:ADDRESS_(?:CLAMP(?:_TO_EDGE)?|NONE|REPEAT)|FILTER_(?:LINEAR|NEAREST)|(?:GLOBAL|LOCAL)_MEM_FENCE|NORMALIZED_COORDS_(?:FALSE|TRUE))|CL_(?:BGRA|(?:HALF_)?FLOAT|INTENSITY|LUMINANCE|A?R?G?B?[Ax]?|(?:(?:UN)?SIGNED|[US]NORM)_(?:INT(?:8|16|32))|UNORM_(?:INT_101010|SHORT_(?:555|565)))|(?:DBL|FLT|HALF)_(?:DIG|EPSILON|(?:MAX|MIN)(?:(?:_10)?_EXP)?|MANT_DIG)|FLT_RADIX|HUGE_VALF?|(?:INT|LONG|SCHAR|SHRT)_(?:MAX|MIN)|INFINITY|MAXFLOAT|M_(?:[12]_PI|2_SQRTPI|E|LN2|LN10|LOG2E?|LOG10E?|PI(?:_[24])?|SQRT(?:1_2|2))(?:_F|_H)?|NAN|(?:UCHAR|UINT|ULONG|USHRT)_MAX)\b/,alias:"constant"}}),"class-name",{"builtin-type":{pattern:/\b(?:_cl_(?:command_queue|context|device_id|event|kernel|mem|platform_id|program|sampler)|cl_(?:image_format|mem_fence_flags)|clk_event_t|event_t|image(?:1d_(?:array_|buffer_)?t|2d_(?:array_(?:depth_|msaa_depth_|msaa_)?|depth_|msaa_depth_|msaa_)?t|3d_t)|ndrange_t|ptrdiff_t|queue_t|reserve_id_t|sampler_t|size_t|u?intptr_t)\b/,alias:"keyword"}});var U9={"type-opencl-host":{pattern:/\b(?:cl_(?:GLenum|GLint|GLuin|addressing_mode|bitfield|bool|buffer_create_type|build_status|channel_(?:order|type)|(?:u?(?:char|int|long|short)|double|float)(?:[2348]|16)?|command_(?:queue(?:_info|_properties)?|type)|context(?:_info|_properties)?|device_(?:exec_capabilities|fp_config|id|info|local_mem_type|mem_cache_type|type)|(?:event|sampler)(?:_info)?|filter_mode|half|image_info|kernel(?:_info|_work_group_info)?|map_flags|mem(?:_flags|_info|_object_type)?|platform_(?:id|info)|profiling_info|program(?:_build_info|_info)?))\b/,alias:"keyword"},"boolean-opencl-host":{pattern:/\bCL_(?:FALSE|TRUE)\b/,alias:"boolean"},"constant-opencl-host":{pattern:/\bCL_(?:A|ABGR|ADDRESS_(?:CLAMP(?:_TO_EDGE)?|MIRRORED_REPEAT|NONE|REPEAT)|ARGB|BLOCKING|BUFFER_CREATE_TYPE_REGION|BUILD_(?:ERROR|IN_PROGRESS|NONE|PROGRAM_FAILURE|SUCCESS)|COMMAND_(?:ACQUIRE_GL_OBJECTS|BARRIER|COPY_(?:BUFFER(?:_RECT|_TO_IMAGE)?|IMAGE(?:_TO_BUFFER)?)|FILL_(?:BUFFER|IMAGE)|MAP(?:_BUFFER|_IMAGE)|MARKER|MIGRATE(?:_SVM)?_MEM_OBJECTS|NATIVE_KERNEL|NDRANGE_KERNEL|READ_(?:BUFFER(?:_RECT)?|IMAGE)|RELEASE_GL_OBJECTS|SVM_(?:FREE|MAP|MEMCPY|MEMFILL|UNMAP)|TASK|UNMAP_MEM_OBJECT|USER|WRITE_(?:BUFFER(?:_RECT)?|IMAGE))|COMPILER_NOT_AVAILABLE|COMPILE_PROGRAM_FAILURE|COMPLETE|CONTEXT_(?:DEVICES|INTEROP_USER_SYNC|NUM_DEVICES|PLATFORM|PROPERTIES|REFERENCE_COUNT)|DEPTH(?:_STENCIL)?|DEVICE_(?:ADDRESS_BITS|AFFINITY_DOMAIN_(?:L[1-4]_CACHE|NEXT_PARTITIONABLE|NUMA)|AVAILABLE|BUILT_IN_KERNELS|COMPILER_AVAILABLE|DOUBLE_FP_CONFIG|ENDIAN_LITTLE|ERROR_CORRECTION_SUPPORT|EXECUTION_CAPABILITIES|EXTENSIONS|GLOBAL_(?:MEM_(?:CACHELINE_SIZE|CACHE_SIZE|CACHE_TYPE|SIZE)|VARIABLE_PREFERRED_TOTAL_SIZE)|HOST_UNIFIED_MEMORY|IL_VERSION|IMAGE(?:2D_MAX_(?:HEIGHT|WIDTH)|3D_MAX_(?:DEPTH|HEIGHT|WIDTH)|_BASE_ADDRESS_ALIGNMENT|_MAX_ARRAY_SIZE|_MAX_BUFFER_SIZE|_PITCH_ALIGNMENT|_SUPPORT)|LINKER_AVAILABLE|LOCAL_MEM_SIZE|LOCAL_MEM_TYPE|MAX_(?:CLOCK_FREQUENCY|COMPUTE_UNITS|CONSTANT_ARGS|CONSTANT_BUFFER_SIZE|GLOBAL_VARIABLE_SIZE|MEM_ALLOC_SIZE|NUM_SUB_GROUPS|ON_DEVICE_(?:EVENTS|QUEUES)|PARAMETER_SIZE|PIPE_ARGS|READ_IMAGE_ARGS|READ_WRITE_IMAGE_ARGS|SAMPLERS|WORK_GROUP_SIZE|WORK_ITEM_DIMENSIONS|WORK_ITEM_SIZES|WRITE_IMAGE_ARGS)|MEM_BASE_ADDR_ALIGN|MIN_DATA_TYPE_ALIGN_SIZE|NAME|NATIVE_VECTOR_WIDTH_(?:CHAR|DOUBLE|FLOAT|HALF|INT|LONG|SHORT)|NOT_(?:AVAILABLE|FOUND)|OPENCL_C_VERSION|PARENT_DEVICE|PARTITION_(?:AFFINITY_DOMAIN|BY_AFFINITY_DOMAIN|BY_COUNTS|BY_COUNTS_LIST_END|EQUALLY|FAILED|MAX_SUB_DEVICES|PROPERTIES|TYPE)|PIPE_MAX_(?:ACTIVE_RESERVATIONS|PACKET_SIZE)|PLATFORM|PREFERRED_(?:GLOBAL_ATOMIC_ALIGNMENT|INTEROP_USER_SYNC|LOCAL_ATOMIC_ALIGNMENT|PLATFORM_ATOMIC_ALIGNMENT|VECTOR_WIDTH_(?:CHAR|DOUBLE|FLOAT|HALF|INT|LONG|SHORT))|PRINTF_BUFFER_SIZE|PROFILE|PROFILING_TIMER_RESOLUTION|QUEUE_(?:ON_(?:DEVICE_(?:MAX_SIZE|PREFERRED_SIZE|PROPERTIES)|HOST_PROPERTIES)|PROPERTIES)|REFERENCE_COUNT|SINGLE_FP_CONFIG|SUB_GROUP_INDEPENDENT_FORWARD_PROGRESS|SVM_(?:ATOMICS|CAPABILITIES|COARSE_GRAIN_BUFFER|FINE_GRAIN_BUFFER|FINE_GRAIN_SYSTEM)|TYPE(?:_ACCELERATOR|_ALL|_CPU|_CUSTOM|_DEFAULT|_GPU)?|VENDOR(?:_ID)?|VERSION)|DRIVER_VERSION|EVENT_(?:COMMAND_(?:EXECUTION_STATUS|QUEUE|TYPE)|CONTEXT|REFERENCE_COUNT)|EXEC_(?:KERNEL|NATIVE_KERNEL|STATUS_ERROR_FOR_EVENTS_IN_WAIT_LIST)|FILTER_(?:LINEAR|NEAREST)|FLOAT|FP_(?:CORRECTLY_ROUNDED_DIVIDE_SQRT|DENORM|FMA|INF_NAN|ROUND_TO_INF|ROUND_TO_NEAREST|ROUND_TO_ZERO|SOFT_FLOAT)|GLOBAL|HALF_FLOAT|IMAGE_(?:ARRAY_SIZE|BUFFER|DEPTH|ELEMENT_SIZE|FORMAT|FORMAT_MISMATCH|FORMAT_NOT_SUPPORTED|HEIGHT|NUM_MIP_LEVELS|NUM_SAMPLES|ROW_PITCH|SLICE_PITCH|WIDTH)|INTENSITY|INVALID_(?:ARG_INDEX|ARG_SIZE|ARG_VALUE|BINARY|BUFFER_SIZE|BUILD_OPTIONS|COMMAND_QUEUE|COMPILER_OPTIONS|CONTEXT|DEVICE|DEVICE_PARTITION_COUNT|DEVICE_QUEUE|DEVICE_TYPE|EVENT|EVENT_WAIT_LIST|GLOBAL_OFFSET|GLOBAL_WORK_SIZE|GL_OBJECT|HOST_PTR|IMAGE_DESCRIPTOR|IMAGE_FORMAT_DESCRIPTOR|IMAGE_SIZE|KERNEL|KERNEL_ARGS|KERNEL_DEFINITION|KERNEL_NAME|LINKER_OPTIONS|MEM_OBJECT|MIP_LEVEL|OPERATION|PIPE_SIZE|PLATFORM|PROGRAM|PROGRAM_EXECUTABLE|PROPERTY|QUEUE_PROPERTIES|SAMPLER|VALUE|WORK_DIMENSION|WORK_GROUP_SIZE|WORK_ITEM_SIZE)|KERNEL_(?:ARG_(?:ACCESS_(?:NONE|QUALIFIER|READ_ONLY|READ_WRITE|WRITE_ONLY)|ADDRESS_(?:CONSTANT|GLOBAL|LOCAL|PRIVATE|QUALIFIER)|INFO_NOT_AVAILABLE|NAME|TYPE_(?:CONST|NAME|NONE|PIPE|QUALIFIER|RESTRICT|VOLATILE))|ATTRIBUTES|COMPILE_NUM_SUB_GROUPS|COMPILE_WORK_GROUP_SIZE|CONTEXT|EXEC_INFO_SVM_FINE_GRAIN_SYSTEM|EXEC_INFO_SVM_PTRS|FUNCTION_NAME|GLOBAL_WORK_SIZE|LOCAL_MEM_SIZE|LOCAL_SIZE_FOR_SUB_GROUP_COUNT|MAX_NUM_SUB_GROUPS|MAX_SUB_GROUP_SIZE_FOR_NDRANGE|NUM_ARGS|PREFERRED_WORK_GROUP_SIZE_MULTIPLE|PRIVATE_MEM_SIZE|PROGRAM|REFERENCE_COUNT|SUB_GROUP_COUNT_FOR_NDRANGE|WORK_GROUP_SIZE)|LINKER_NOT_AVAILABLE|LINK_PROGRAM_FAILURE|LOCAL|LUMINANCE|MAP_(?:FAILURE|READ|WRITE|WRITE_INVALIDATE_REGION)|MEM_(?:ALLOC_HOST_PTR|ASSOCIATED_MEMOBJECT|CONTEXT|COPY_HOST_PTR|COPY_OVERLAP|FLAGS|HOST_NO_ACCESS|HOST_PTR|HOST_READ_ONLY|HOST_WRITE_ONLY|KERNEL_READ_AND_WRITE|MAP_COUNT|OBJECT_(?:ALLOCATION_FAILURE|BUFFER|IMAGE1D|IMAGE1D_ARRAY|IMAGE1D_BUFFER|IMAGE2D|IMAGE2D_ARRAY|IMAGE3D|PIPE)|OFFSET|READ_ONLY|READ_WRITE|REFERENCE_COUNT|SIZE|SVM_ATOMICS|SVM_FINE_GRAIN_BUFFER|TYPE|USES_SVM_POINTER|USE_HOST_PTR|WRITE_ONLY)|MIGRATE_MEM_OBJECT_(?:CONTENT_UNDEFINED|HOST)|MISALIGNED_SUB_BUFFER_OFFSET|NONE|NON_BLOCKING|OUT_OF_(?:HOST_MEMORY|RESOURCES)|PIPE_(?:MAX_PACKETS|PACKET_SIZE)|PLATFORM_(?:EXTENSIONS|HOST_TIMER_RESOLUTION|NAME|PROFILE|VENDOR|VERSION)|PROFILING_(?:COMMAND_(?:COMPLETE|END|QUEUED|START|SUBMIT)|INFO_NOT_AVAILABLE)|PROGRAM_(?:BINARIES|BINARY_SIZES|BINARY_TYPE(?:_COMPILED_OBJECT|_EXECUTABLE|_LIBRARY|_NONE)?|BUILD_(?:GLOBAL_VARIABLE_TOTAL_SIZE|LOG|OPTIONS|STATUS)|CONTEXT|DEVICES|IL|KERNEL_NAMES|NUM_DEVICES|NUM_KERNELS|REFERENCE_COUNT|SOURCE)|QUEUED|QUEUE_(?:CONTEXT|DEVICE|DEVICE_DEFAULT|ON_DEVICE|ON_DEVICE_DEFAULT|OUT_OF_ORDER_EXEC_MODE_ENABLE|PROFILING_ENABLE|PROPERTIES|REFERENCE_COUNT|SIZE)|RA?|READ_(?:ONLY|WRITE)_CACHE|RG|RGB[Ax]?|RG?x|RUNNING|SAMPLER_(?:ADDRESSING_MODE|CONTEXT|FILTER_MODE|LOD_MAX|LOD_MIN|MIP_FILTER_MODE|NORMALIZED_COORDS|REFERENCE_COUNT)|(?:UN)?SIGNED_INT(?:8|16|32)|SNORM_INT(?:8|16)|SUBMITTED|SUCCESS|UNORM_INT(?:8|16|24|_101010|_101010_2)|UNORM_SHORT_5[56]5|VERSION_(?:1_[012]|2_[01])|s?BGRA|sRGB[Ax]?)\b/,alias:"constant"},"function-opencl-host":{pattern:/\bcl(?:BuildProgram|CloneKernel|CompileProgram|Create(?:Buffer|CommandQueue(?:WithProperties)?|Context|ContextFromType|Image|Image[23]D|Kernel|KernelsInProgram|Pipe|ProgramWith(?:Binary|BuiltInKernels|IL|Source)|Sampler|SamplerWithProperties|SubBuffer|SubDevices|UserEvent)|Enqueue(?:(?:Barrier|Marker)(?:WithWaitList)?|Copy(?:Buffer(?:Rect|ToImage)?|Image(?:ToBuffer)?)|(?:Fill|Map)(?:Buffer|Image)|MigrateMemObjects|NDRangeKernel|NativeKernel|(?:Read|Write)(?:Buffer(?:Rect)?|Image)|SVM(?:Free|Map|MemFill|Memcpy|MigrateMem|Unmap)|Task|UnmapMemObject|WaitForEvents)|Finish|Flush|Get(?:CommandQueueInfo|ContextInfo|Device(?:AndHostTimer|IDs|Info)|Event(?:Profiling)?Info|ExtensionFunctionAddress(?:ForPlatform)?|HostTimer|ImageInfo|Kernel(?:ArgInfo|Info|SubGroupInfo|WorkGroupInfo)|MemObjectInfo|PipeInfo|Platform(?:IDs|Info)|Program(?:Build)?Info|SamplerInfo|SupportedImageFormats)|LinkProgram|(?:Release|Retain)(?:CommandQueue|Context|Device|Event|Kernel|MemObject|Program|Sampler)|SVM(?:Alloc|Free)|Set(?:CommandQueueProperty|DefaultDeviceCommandQueue|EventCallback|Kernel|Kernel(?:Arg(?:SVMPointer)?|ExecInfo)|MemObjectDestructorCallback|UserEventStatus)|Unload(?:Platform)?Compiler|WaitForEvents)\b/,alias:"function"}};xr(St.c,"keyword",U9);St.cpp&&(U9["type-opencl-host-cpp"]={pattern:/\b(?:Buffer|BufferGL|BufferRenderGL|CommandQueue|Context|Device|DeviceCommandQueue|EnqueueArgs|Event|Image(?:[123]D|[12]DArray|1DBuffer|[23]DGL|Format|GL)?|Kernel|KernelFunctor|LocalSpaceArg|Memory|NDRange|Pipe|Platform|Program|SVMAllocator|SVMTrait(?:Atomic|Coarse|Fine|ReadOnly|ReadWrite|WriteOnly)|Sampler|UserEvent)\b/,alias:"keyword"},xr(St.cpp,"keyword",U9));var tXe=St.diff={coord:/^(?:\*{3}|-{3}|\+{3}|\d).*$|^@@.*@@$/m},c7={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};for(var wm in c7){var u7=wm.split("-")[0];tXe[wm]={pattern:RegExp("^(?:["+c7[wm]+`].*$
?)+`,"m"),alias:u7!=wm?u7:wm=="diff"?"bold":void 0,inside:{prefix:{pattern:RegExp("^["+c7[wm]+"]","mg"),greedy:!0,alias:u7}}}}var d7=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|opens?|package|permits|private|protected|provides|public|record(?!\s*[()[\]{}%~.,:;?%&|^=<>/*+-])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throws?|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,vy="(?:[a-z]\\w*\\s*\\.\\s*)*(?:[A-Z]\\w*\\s*\\.\\s*)*",B9={pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},j9={namespace:B9,punctuation:/\./},lG={pattern:RegExp(`(^|[^\\w.])${vy}[A-Z](?:[\\d_A-Z]*[a-z]\\w*)?\\b`),lookbehind:!0,inside:j9};St.java={"doc-comment":{pattern:/\/\*\*(?!\/)[^]*?(?:\*\/|$)/g,greedy:!0,alias:"comment",inside:"javadoc"},comment:ah(),"triple-quoted-string":{pattern:/"""[ 	]*\n(?:\\.|[^\\])*?"""/g,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^\\\n']){1,6}'/g,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\\n"])*"/g,lookbehind:!0,greedy:!0},annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":lG,keyword:d7,punctuation:/[().,:<>]/,operator:/[?&|]/}},import:[{pattern:RegExp(`(\\bimport\\s+)${vy}(?:[A-Z]\\w*|\\*)(?=\\s*;)`),lookbehind:!0,inside:{namespace:B9,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(`(\\bimport\\s+static\\s+)${vy}(?:\\w+|\\*)(?=\\s*;)`),lookbehind:!0,alias:"static",inside:{namespace:B9,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(`(\\b(?:exports|import(?:\\s+static)?|module|opens?|package|provides|requires|to|transitive|uses|with)\\s+)(?!${d7.source})[a-z]\\w*(?:\\.[a-z]\\w*)*\\.?`),lookbehind:!0,inside:{punctuation:/\./}},"class-name":[lG,{pattern:RegExp(`(^|[^\\w.])${vy}[A-Z]\\w*(?=\\s+\\w+\\s*[;,=()]|\\s*(?:\\[[\\s,]*\\]\\s*)?::\\s*new\\b)`),lookbehind:!0,inside:j9},{pattern:RegExp(`(\\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\\s+)${vy}[A-Z]\\w*\\b`),lookbehind:!0,inside:j9}],keyword:d7,boolean:ga,function:{pattern:/\b\w+(?=\()|(::\s*)[a-z_]\w*/,lookbehind:!0},number:/\b0b[01][01_]*l?\b|\b0x(?:\.[a-f\d_p+-]+|[a-f\d_]+(?:\.[a-f\d_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,constant:/\b[A-Z][A-Z_\d]+\b/,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[%&|^!=<>/*+-]=?)/m,lookbehind:!0},punctuation:Ld};xr(St.less=oh("css",{comment:ah(),atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[():]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/,operator:/[/*+-]/}),"property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}});St.objc=St.objectivec=oh("c",{string:{pattern:/@?"(?:\\[^]|[^\\\n"])*"/g,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int?|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|==?|>>?=?|<<?=?|&&?|\|\|?|[~^@%?/*]/});delete St.objc["class-name"];var zhe={pattern:/^(..)[^]+(?=.)/,lookbehind:!0},h7="(?:([^a-zA-Z\\d\\s{(\\[<=])(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1|\\((?:\\\\[\\s\\S]|[^\\\\()]|\\((?:\\\\[\\s\\S]|[^\\\\()])*\\))*\\)|\\{(?:\\\\[\\s\\S]|[^\\\\{}]|\\{(?:\\\\[\\s\\S]|[^\\\\{}])*\\})*\\}|\\[(?:\\\\[\\s\\S]|[^\\\\[\\]]|\\[(?:\\\\[\\s\\S]|[^\\\\[\\]])*\\])*\\]|<(?:\\\\[\\s\\S]|[^\\\\<>]|<(?:\\\\[\\s\\S]|[^\\\\<>])*>)*>)",cG=`(?:"(?:\\\\.|[^\\\\
"])*"|(?:\\b(?!\\d)\\w+|[^\\s\0-\\x7f]+)[?!]?|\\$.)`,Uh={pattern:/((?:^|[^\\])(?:\\\\)*)#\{(?:[^{}]|\{[^}]*\})*\}/,lookbehind:!0,inside:{content:zhe,delimiter:{pattern:/.+/,alias:"punctuation"}}};zhe.inside=St.rb=St.ruby={comment:{pattern:/#.*|^=begin\s[^]*?^=end/mg,greedy:!0},"string-literal":[{pattern:RegExp("%[qQiIwWs]?"+h7,"g"),greedy:!0,inside:{interpolation:Uh,string:/[^]+/}},{pattern:/(["'])(?:#\{[^}]+\}|#(?!\{)|\\[^]|(?!\1)[^\\#\n])*\1/g,greedy:!0,inside:{interpolation:Uh,string:/[^]+/}},{pattern:/<<[-~]?([a-z_]\w*)\n(?:.*\n)*?[ 	]*\1/gi,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\w+/,punctuation:/^<<[-~]?/}},interpolation:Uh,string:/[^]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'\n(?:.*\n)*?[ 	]*\1/gi,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[^]+/}}],"command-literal":[{pattern:RegExp("%x"+h7,"g"),greedy:!0,inside:{interpolation:Uh,command:{pattern:/[^]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\[^]|[^\\`#\n])*`/g,greedy:!0,inside:{interpolation:Uh,command:{pattern:/[^]+/,alias:"string"}}}],"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},"regex-literal":[{pattern:RegExp(`%r${h7}[egimnosux]{0,6}`,"g"),greedy:!0,inside:{interpolation:Uh,regex:/[^]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\n\]]+\]|\\.|[^\\\n/[])+\/[egimnosux]{0,6}(?=\s*(?:$|[\n,.;})#]))/g,lookbehind:!0,greedy:!0,inside:{interpolation:Uh,regex:/[^]+/}}],variable:/[@$]+(?!\d)\w+(?:[?!]|\b)/,symbol:[{pattern:RegExp("(^|[^:]):"+cG,"g"),lookbehind:!0,greedy:!0},{pattern:RegExp(`([
{(,][ 	]*)`+cG+"(?=:(?!:))","g"),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|f?or|if|in|include|module|new|next|nil|not|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|[tw]hen|throw|undef|unless|until|while|yield)\b/,boolean:ga,builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z\d_]*(?:[?!]|\b)/,number:Phe,"double-colon":{pattern:/::/,alias:"punctuation"},operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[%&|^!=<>/*+-])=?|[?:]/,punctuation:/[()[\]{}.,;]/};St.sql={comment:/\/\*[^]*?\*\/|(?:--|\/\/|#).*/,variable:[{pattern:/@(["'`])(?:\\[^]|(?!\1)[^\\])+\1/g,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])(["'])(?:\\[^]|(?!\2)[^\\]|\2\2)*\2/g,lookbehind:!0,greedy:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[^]|[^\\`]|``)*`/g,lookbehind:!0,greedy:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:avg|count|first|format|last|[lu]case|len|max|mi[dn]|mod|now|round|sum)(?=\s*\()/i,keyword:/\b(?:action|add|after|algorithm|alter|analyze|any|apply|asc?|authorization|auto_increment|backup|bdb|begin|berkeleydb|bigint|binary|bit|blob|bool|boolean|break|browse|[br]tree|bulk|by|c?all|cascaded?|case|chain|character|charset|check(?:point)?|close|clustered|coalesce|collate|columns?|comment|commit(?:ted)?|compute|connect|consistent|constraint|contains(?:table)?|continue|convert|create|cross|current(?:_date|_time|_timestamp|_user)?|cursor|cycle|data(?:bases?)?|date(?:time)?|day|dbcc|deallocate|dec|decimal|declare|default|definer|delayed|delete|delimiters?|deny|desc|describe|deterministic|disable|discard|disk|distinct|distinctrow|distributed|do|double|drop|dummy|dump(?:file)?|duplicate|else(?:if)?|enable|enclosed|end|engine|enum|errlvl|errors|escaped?|except|exec(?:ute)?|exists|exit|explain|extended|fetch|fields|file|fillfactor|first|fixed|float|following|for each row|for|force|foreign|freetexttable|freetext|from|full|function|geometry(?:collection)?|global|goto|grant|group|handler|hash|having|holdlock|hour|identity(?:col|_insert)?|if|ignore|import|index|infile|inner|innodb|inout|insert|integer|intersect|interval|into?|invoker|isolation|iterate|join|keys?|kill|language|last|leave|left|level|limit|lineno|lines|linestring|load|local|lock|long(?:blob|text)|loop|matched|match|(?:medium|tiny)(?:blob|int|text)|merge|middleint|minute|mode|modifies|modify|month|multi(?:linestring|point|polygon)|national|natural|n?char|next|no|nonclustered|nullif|numeric|off?|offsets?|on|open(?:datasource|query|rowset)?|optimize|option(?:ally)?|order|out(?:er|file)?|over|partial|partition|percent|pivot|plan|point|polygon|preceding|precision|prepare|prev|primary|print|privileges|proc(?:edure)?|public|purge|quick|raiserror|reads?|real|reconfigure|references|release|rename|repeat(?:able)?|replace|replication|require|resignal|restore|restrict|returning|returns?|revoke|right|rollback|routine|row(?:count|guidcol|s)?|rule|savepoint|save|schema|second|select|serializable|serial|session_user|session|setuser|set|share|show|shutdown|simple|smallint|snapshot|some|soname|sql|start(?:ing)?|statistics|status|striped|system_user|tables?|tablespace|temp(?:orary|table)?|terminated|textsize|text|[tw]hen|timestamp|time|top?|transactions?|tran|trigger|truncate|tsequal|types?|unbounded|uncommitted|undefined|union|unique|unlock|unpivot|unsigned|updatetext|update|usage|user?|using|values?|var(?:binary|char|character|ying)|view|waitfor|warnings|where|while|with(?: rollup|in)?|work|writetext|write|year)\b/i,boolean:/\b(?:false|true|null)\b/i,number:/\b0x[a-f\d]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[=%~^/*+-]|&&?|\|\|?|!=?|<<|<=?>?|>[>=]?|\b(?:and|between|div|[ir]?like|in|is|not|x?or|regexp|sounds like)\b/i,punctuation:/[()[\].,;`]/};St.wasm={comment:/\(;[^]*?;\)|;;.*/,string:{pattern:/"(?:\\[^]|[^\\"])*"/g,greedy:!0},keyword:[{pattern:/\b(?:align|offset)=/,inside:{operator:/=/}},{pattern:/\b(?:(?:[fi]32|[fi]64)(?:\.(?:abs|a[dn]d|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|neg?|nearest|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|sqrt|store(?:8|16|32)?|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|x?or))?|memory\.(?:grow|size))\b/,inside:{punctuation:/\./}},/\b(?:anyfunc|block|br(?:_if|_table)?|call(?:_indirect)?|data|drop|elem|else|end|export|func|get_(?:global|local)|global|if|import|local|loop|memory|module|mut|nop|offset|param|result|return|select|set_(?:global|local)|start|table|tee_local|then|type|unreachable)\b/],variable:/\$[\w!#$%&'*./:<=>?@\\^`|~+-]+/,number:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[a-fA-F\d](?:_?[a-fA-F\d])*(?:\.[a-fA-F\d](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[a-fA-F\d](?:_?[\da-fA-D])*)?\b/,punctuation:/[()]/};var pg=(r,e)=>{for(var n=0;n<e;n++)r=r.replace(/<self>/g,`(?:${r})`);return r.replace(/<self>/g,"[]")},Di=(r,e)=>r.replace(/<(\d+)>/g,(n,i)=>`(?:${e[+i]})`),En=(r,e,n)=>RegExp(Di(r,e),n),F9=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,L0=St.cpp=oh("c",{"class-name":[{pattern:RegExp(`(\\b(?:class|concept|enum|struct|typename)\\s+)(?!${F9.source})\\w+`),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[a-z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:F9,number:{pattern:/(?:\b0b[01']+|\b0x(?:[a-f\d']+(?:\.[a-f\d']*)?|\.[a-f\d']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/gi,greedy:!0},operator:/->|--|\+\+|&&|\|\||[?:~]|<=>|>>=?|<<=?|[%&|^!=<>/*+-]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|x?or|x?or_eq)\b/,boolean:ga});xr(L0,"string",{module:{pattern:En(`(\\b(?:import|module)\\s+)(?:"(?:\\\\[\\s\\S]|[^\\\\
"])*"|<[^<>
]*>|<0>(?:\\s*:\\s*<0>)?|:\\s*<0>)`,[`\\b(?!${F9.source})\\w+(?:\\s*\\.\\s*\\w+)*\\b`],"g"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][^]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([^]*?\)\1"/g,greedy:!0,alias:"string"}});xr(L0,"keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[^]+/,alias:"class-name",inside:L0}}}});xr(L0,"operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var Lhe=Object.assign({},L0);xr(L0,"class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/g,lookbehind:!0,greedy:!0,inside:Lhe}});xr(Lhe,"double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i});St.go={comment:ah(),char:{pattern:/'(?:\\.|[^\\\n']){0,10}'/g,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\\n"])*"|`[^`]*`/g,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|true|iota|nil)\b/,function:/\b\w+(?=\()/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/--|\+\+|&&|\|\||&\^=?|<-|<<=?|>>=?|[%&|^!=<>/*+-]=?|:=|\.{3}/,punctuation:Ld,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/};var f7={};St.js=St.javascript=Object.assign(f7,{"doc-comment":{pattern:/\/\*\*(?!\/)[^]*?(?:\*\/|$)/g,greedy:!0,alias:"comment",inside:"jsdoc"},comment:ah(),hashbang:{pattern:/^#!.*/g,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[^]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})*\}|(?!\$\{)[^\\`])*`/g,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\\\)*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})*\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},[_s]:f7}},string:/[^]+/}},"string-property":{pattern:/((?:^|[,{])[ 	]*)(["'])(?:\\[^]|(?!\2)[^\\\n])*\2(?=\s*:)/mg,lookbehind:!0,greedy:!0,alias:"property"},string:eP(),regex:{pattern:/((?:^|[^$\w\xa0-\uffff"'`.)\]\s]|\b(?:return|yield))\s*)\/(?:(?:\[(?:\\.|[^\\\n\]])*\]|\\.|[^\\\n/[])+\/[dgimyus]{0,7}|(?:\[(?:\\.|[^\\\n[\]]|\[(?:\\.|[^\\\n[\]]|\[(?:\\.|[^\\\n[\]])*\])*\])*\]|\\.|[^\\\n/[])+\/[dgimyus]{0,7}v[dgimyus]{0,7})(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?!\/\*|[^()[\]{}.,:;?`\n%&|^!=<>/*+-]))/g,lookbehind:!0,greedy:!0,inside:{"regex-flags":/\w+$/,"regex-delimiter":/^\/|\/$/,"regex-source":{pattern:/.+/,alias:"language-regex",inside:"regex"}}},"class-name":[{pattern:/(\b(?:class|extends|implements|instanceof|interface|new)\s+)(?!\d)(?:(?!\s)[$\w.\xa0-\uffff])+/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/(^|[^$\w\xa0-\uffff]|\s)(?![a-z\d])(?:(?!\s)[$\w\xa0-\uffff])+(?=\.(?:constructor|prototype)\b)/,lookbehind:!0}],"function-variable":{pattern:/#?(?!\d)(?:(?!\s)[$\w\xa0-\uffff])+(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^)]*\))*\)|(?!\d)(?:(?!\s)[$\w\xa0-\uffff])+)\s*=>))/,alias:"function",inside:{"maybe-class-name":/^[A-Z].*/}},parameter:[/(function(?:\s+(?!\d)(?:(?!\s)[$\w\xa0-\uffff])+)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,/(^|[^$\w\xa0-\uffff]|\s)(?!\d)(?:(?!\s)[$\w\xa0-\uffff])+(?=\s*=>)/,/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|continue|default|do|else|finally|for|if|return|switch|throw|try|while|yield|class|const|debugger|delete|enum|extends|function|[gs]et|export|from|import|implements|in|instanceof|interface|let|new|null|of|package|private|protected|public|static|super|this|typeof|undefined|var|void|with)(?![$\w\xa0-\uffff]))(?:(?!\d)(?:(?!\s)[$\w\xa0-\uffff])+\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/].map(r=>({pattern:r,lookbehind:!0,inside:f7})),constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/,keyword:[{pattern:/(^|[^.]|\.{3}\s*)\b(?:as|assert(?=\s*\{)|export|from(?!\s*[^\s"'])|import)\b/,alias:"module",lookbehind:!0},{pattern:/(^|[^.]|\.{3}\s*)\b(?:await|break|case|catch|continue|default|do|else|finally|for|if|return|switch|throw|try|while|yield)\b/,alias:"control-flow",lookbehind:!0},{pattern:/(^|[^.]|\.{3}\s*)\b(?:async(?!\s*[^\s($\w\xa0-\uffff])|class|const|debugger|delete|enum|extends|function|[gs]et(?!\s*[^\s#[$\w\xa0-\uffff])|implements|in|instanceof|interface|let|new|null|of|package|private|protected|public|static|super|this|typeof|undefined|var|void|with)\b/,lookbehind:!0}],boolean:ga,function:{pattern:/#?(?!\d)(?:(?!\s)[$\w\xa0-\uffff])+(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,inside:{"maybe-class-name":/^[A-Z].*/}},number:{pattern:/(^|[^$\w])(?:NaN|Infinity|0[bB][01]+(?:_[01]+)*n?|0[oO][0-7]+(?:_[0-7]+)*n?|0[xX][a-fA-F\d]+(?:_[a-fA-F\d]+)*n?|\d+(?:_\d+)*n|(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?)(?![$\w])/,lookbehind:!0},"literal-property":{pattern:/([\n,{][ 	]*)(?!\d)(?:(?!\s)[$\w\xa0-\uffff])+(?=\s*:)/,lookbehind:!0,alias:"property"},operator:[{pattern:/=>/,alias:"arrow"},/--|\+\+|(?:\*\*|&&|\|\||[!=]=|>>>?|<<|[%&|^!=<>/*+-]|\?\?)=?|\.{3}|\?(?!\.)|~|:/],"property-access":{pattern:/(\.\s*)#?(?!\d)(?:(?!\s)[$\w\xa0-\uffff])+/,lookbehind:!0,inside:{"maybe-class-name":/^[A-Z].*/}},"maybe-class-name":{pattern:/(^|[^$\w\xa0-\uffff])[A-Z][$\w\xa0-\uffff]+/,lookbehind:!0},punctuation:/\?\.|[()[\]{}.,:;]/});var Uhe=r=>(e,n)=>{for(var i=QO(r),o="",a=[],s=0,l=Pv(e,n),c=0,u=l.length,b=0;c<u;){var d=l[c++],h=d.length,f=d.type;f&&f.slice(0,6)!="ignore"?(a[s++]=[b,d],o+=" ".repeat(h)):o+=e.slice(b,b+h),b+=h}var m=0,b=0,g=x=>{for(var w=0;m<s&&w<x.length;w++){var k=x[w],T=k.content;if(Array.isArray(T))g(T);else{for(var _=k.length,D=[],I,L,O=0,W=b;[I,L]=a[m],I>=b&&I<b+_&&(W<I&&(D[O++]=o.slice(W,I)),W=I+L.length,D[O++]=L,++m!=s););b+=_,O&&(W<b&&(D[O++]=o.slice(W,b)),T?k.content=D:(x.splice(w,1,...D),w+=O-1))}}},v=i?Ov(o,i):[o];return g(v),v},Bhe=St.js,tP=Bhe["template-string"],nXe=tP.pattern.source,rXe=tP.inside.interpolation.pattern,Sm=(r,e)=>({pattern:RegExp("((?:"+e+")\\s*)"+nXe,"g"),lookbehind:!0,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},["language-"+r]:{pattern:/[^]+/,inside:{interpolation:{pattern:rXe,lookbehind:!0,alias:"language-javascript",inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},[_s]:"js"}},[Bc]:Uhe(r)}}}});Bhe["template-string"]=[Sm("css","\\b(?:styled(?:\\([^)]*\\))?(?:\\s*\\.\\s*\\w+(?:\\([^)]*\\))*)*|css(?:\\s*\\.\\s*(?:global|resolve))?|createGlobalStyle|keyframes)"),Sm("html","\\bhtml|\\.\\s*(?:inner|outer)HTML\\s*\\+?="),Sm("svg","\\bsvg"),Sm("markdown","\\b(?:markdown|md)"),Sm("graphql","\\b(?:gql|graphql(?:\\s*\\.\\s*experimental)?)"),Sm("sql","\\bsql"),tP];var m4="\\s|//.*(?!.)|/\\*(?:[^*]|\\*(?!/))*\\*/",H9="\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})*\\}",uG=Di("\\{<0>*\\.{3}(?:[^{}]|<1>)*\\}",[m4,H9]),dG=r=>r&&(!r.type||r.type=="plain-text"),iXe=(r,e,n)=>{for(var i=0,o=[],a=0;i<r.length;i++){var s=r[i],l=s.length,c=s.type,u=!c,d,h,f,m,b;c&&(b=s.content,c=="tag"?(f=b[0].length,h=b[2]?e.substr(n+f,b[1].length):"",f>1?a&&o[a-1][0]==h&&a--:b[b.length-1].length<2&&(o[a++]=[h,0])):a&&c=="punctuation"?(d=o[a-1],b=="{"?d[1]++:d[1]&&b=="}"?d[1]--:u=!"}()[]".includes(b)):u=!0),u&&a&&!o[a-1][1]&&(f=n,dG(r[i+1])&&(l+=r[i+1].length,r.splice(i+1,1)),dG(r[i-1])&&(f-=r[--i].length,r.splice(i,1)),m=e.slice(f,n+l),r[i]=new qm("plain-text",m,m)),n+=l}return r},jhe=(r,e)=>{xr(St[e]=r=i6(r),"regex",{tag:{pattern:En(`</?(?:(?!\\d)[^\\s/=><%]+(?:<0>(?:<0>*(?:[^\\s<>/={*]+(?:<0>*=<0>*(?!\\s)(?:"[^"]*"|'[^']*'|<1>)?|(?=[\\s/>]))|<2>))+)?<0>*/?)?>`,[m4,H9,uG],"g"),greedy:!0,inside:{punctuation:/^<\/?|\/?>$/,tag:{pattern:/^[^\s/]+/,inside:{namespace:/^[^:]+:/,"class-name":/^[A-Z]\w*(?:\.[A-Z]\w*)*$/}},script:{pattern:En("(=<0>*)<1>",[m4,H9]),lookbehind:!0,alias:e="language-"+e,inside:r},spread:{pattern:RegExp(uG),alias:e,inside:r},"attr-value":{pattern:En(`(=<0>*)(?:"[^"]*"|'[^']*')`,[m4]),lookbehind:!0,inside:{punctuation:/^["']|["']$/}},comment:r.comment,"attr-equals":/=/,"attr-name":{pattern:/\S+/,inside:{namespace:/^[^:]+:/}}}}}),r[Bc]=(n,i)=>iXe(Pv(n,i),n,0)};jhe(St.js,"jsx");St.lua={comment:/^#!.+|--(?:\[(=*)\[[^]*?\]\1\]|.*)/m,string:{pattern:/(["'])(?:(?!\1)[^\\\n]|\\z\s|\\[^z])*\1|\[(=*)\[[^]*?\]\2\]/g,greedy:!0},number:/\b0x[a-f\d]+(?:\.[a-f\d]*)?(?:p[+-]?\d+)?\b|\b\d+(?:\.\B|(?:\.\d*)?(?:e[+-]?\d+)?\b)|\B\.\d+(?:e[+-]?\d+)?\b/i,keyword:/\b(?:and|break|do|else|elseif|end|false|true|f?or|function|goto|if|in|local|nil|not|repeat|return|then|until|while)\b/,function:/(?!\d)\w+(?=\s*(?:[({]))/,operator:{pattern:/[%&|^#*+-]|\/\/?|<[<=]?|>[>=]?|[=~]=?|(^|[^.])\.\.(?!\.)/,lookbehind:!0},punctuation:/[()[\]{},;]|\.+|:+/};var t2="(?:\\((?:\\\\[\\s\\S]|[^\\\\()])*\\)|\\{(?:\\\\[\\s\\S]|[^\\\\{}])*\\}|\\[(?:\\\\[\\s\\S]|[^\\\\[\\]])*\\]|<(?:\\\\[\\s\\S]|[^\\\\<>])*>)",hG="(?![a-zA-Zd])\\s*(?:([^a-zA-Zd\\s{([<])(?:\\\\[^]|(?!\\1)[^\\\\])*\\1|([a-zA-Zd])(?:\\\\[^]|(?!\\2)[^\\\\])*\\2";St.perl={comment:[{pattern:/(^\s*)=\w[^]*?=cut.*/mg,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\$])#.*/g,lookbehind:!0,greedy:!0}],string:{pattern:RegExp(`\\bq[qwx]?${hG}|${t2})|("|\`)(?:\\\\[^]|(?!\\3)[^\\\\])*\\3|'(?:\\\\.|[^\\\\
'])*'`,"g"),greedy:!0},regex:[{pattern:RegExp(`\\b(?:m|qr)${hG}|${t2})[msixpodualngc]*`,"g"),greedy:!0},{pattern:RegExp(`(^|[^-])\\b(?:s|tr|y)(?![a-zA-Zd])\\s*(?:([^a-zA-Zd\\s{([<])(?:\\\\[^]|(?!\\2)[^\\\\])*\\2(?:\\\\[^]|(?!\\2)[^\\\\])*\\2|([a-zA-Zd])(?:\\\\[^]|(?!\\3)[^\\\\])*\\3(?:\\\\[^]|(?!\\3)[^\\\\])*\\3|${t2}\\s*${t2})[msixpodualngcer]*`,"g"),lookbehind:!0,greedy:!0},{pattern:/\/(?:\\.|[^\\\n/])*\/[msixpodualngc]*(?=\s*(?:$|[\n,.;})&|*~<>!?^+-]|(?:and|cmp|eq|[gl][et]|ne|not|x|x?or)\b))/g,greedy:!0}],variable:/[&*$@%](?:\{\^[A-Z]+\}|\^[A-Z_]|#?(?=\{)|#?(?:(?:::)*'?(?!\d)[$\w]+(?![$\w]))+(?:::)*|\d+)|(?!%=)[$@%][!"#$%&'*,./:;<=>?@()[\]{}||^_`|~+-]/,filehandle:{pattern:/<(?![<=])\S*?>|\b_\b/,alias:"symbol"},"v-string":{pattern:/v\d+(?:\.\d+)*|\d+(?:\.\d+){2,}/,alias:"string"},function:{pattern:/(\bsub[ 	]+)\w+/,lookbehind:!0},keyword:/\b(?:any|break|continue|default|delete|die|do|else|elsif|eval|for|foreach|given|goto|if|last|local|my|next|our|package|print|redo|require|return|say|state|sub|switch|undef|unless|until|use|when|while)\b/,number:/\b(?:0x[a-fA-F\d](?:_?[a-fA-F\d])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)\b/,operator:/-[rwxoRWXOezsfdlpSbctugkTBMAC]\b|->|=>|=~|~~|<=>?|!~|--|\+\+|(?:\*\*|\/\/|&&|\|\||<<|>>|[~%&|^!=<>/*+-])=?|\.(?:=|\.\.?)?|[\\?]|\bx(?:=|\b)|\b(?:and|cmp|eq|[gl][et]|ne|not|x?or)\b/,punctuation:/[()[\]{},:;]/};var fG={"format-spec":{pattern:/(:)[^(){}:]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"}};fG[_s]=St.py=St.python={comment:{pattern:/#.*/g,greedy:!0},"string-interpolation":{pattern:/(?:fr?|rf)(?:("""|''')[^]*?\1|(["'])(?:\\[^]|(?!\2)[^\\\n])*\2)/gi,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})*\}/,lookbehind:!0,inside:fG},string:/[^]+/}},"triple-quoted-string":{pattern:/(?:br?|rb?|u)?("""|''')[^]*?\1/gi,greedy:!0,alias:"string"},string:{pattern:/(?:br?|rb?|u)?(["'])(?:\\[^]|(?!\1)[^\\\n])*\1/gi,greedy:!0},function:{pattern:/((?:^|\s)def[ 	]+)(?!\d)\w+(?=\s*\()/,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[ 	]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:"annotation punctuation",inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|de[fl]|elif|else|except|exec|finally|f?or|from|global|i[fns]|import|lambda|match|nonlocal|not|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|ma[px]|memoryview|min|next|object|oct|open|ord|pow|property|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|x?range|zip)\b/,boolean:/\b(?:False|True|None)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f\d])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/!=|:=|\*\*=?|\/\/=?|<>|>>|<<|[%=<>/*+-]=?|[&|^~]/,punctuation:Ld};var oXe=pg("/\\*(?:[^*/]|\\*(?!/)|/(?!\\*)|<self>)*\\*/",2),pG={pattern:/b?"(?:\\[^]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/g,greedy:!0},mG={"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"}};mG[_s]=St.rust={comment:{pattern:RegExp("//.*|"+oXe,"g"),greedy:!0},string:pG,char:{pattern:/b?'(?:\\(?:x[0-7][a-fA-F\d]|u\{(?:[a-fA-F\d]_*){1,6}\}|.)|[^\\\n	'])'/g,greedy:!0},attribute:{pattern:/#!?\[(?:[^[\]"]|"(?:\\[^]|[^\\"])*")*\]/g,greedy:!0,alias:"attr-name",inside:{string:pG}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/g,lookbehind:!0,greedy:!0,inside:mG},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield|bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/,function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[a-fA-F\d](?:_?[a-fA-F\d])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:ga,punctuation:/->|\.\.=|\.{1,3}|::|[()[\]{},:;]/,operator:/&&|\|\||=>|>>=?|<<=?|[%&|^!=<>/*+-]=?|[@?]/};var gG=St.swift={comment:{pattern:/\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\//g,greedy:!0},"string-literal":[{pattern:/(^|[^"#])(?:"(?:\\(?:\((?:[^()]|\([^)]*\))*\)|[^(])|[^\\\n"])*"|"""(?:\\(?:\((?:[^()]|\([^)]*\))*\)|[^(])|[^\\"]|"(?!""))*""")(?!["#])/g,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))+(?=\))/,lookbehind:!0},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=\n)/,string:/[^]+/}},{pattern:/(^|[^"#])(#+)(?:"(?:\\(?:#+\((?:[^()]|\([^)]*\))*\)|[^#])|[^\\\n])*?"|"""(?:\\(?:#+\((?:[^()]|\([^)]*\))*\)|[^#])|[^\\])*?""")\2/g,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))+(?=\))/,lookbehind:!0},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[^]+/}}],directive:{pattern:/#(?:(?:elseif|if)\b(?:[ 	]*(?:![ 	]*)?(?:\b\w+\b(?:[ 	]*\((?:[^()]|\([^)]*\))*\))?|\((?:[^()]|\([^)]*\))*\))(?:[ 	]*(?:&&|\|\|))?)+|(?:else|endif)\b)/,alias:"property",inside:{"directive-name":/^#\w+/,boolean:ga,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b(?!\d)\w+(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|[Pp]rotocol|[Ss]elf|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|[gs]et|guard|higherThan|i[fns]|import|indirect|infix|init|inout|internal|isolated|lazy|lef?t|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|public|repeat|required|rethrows|return|right|safe|some|static|struct|subscript|super|switch|throws?|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:ga,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f\d_]+(?:\.[a-f\dp_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[~?%&|^!=<>/*+-]+|\.[.~?%&|^!=<>/*+-]+/,punctuation:/[()[\]{}.,:;\\]/};gG["string-literal"].forEach(r=>{r.inside.interpolation.inside=gG});St.clike={comment:ah(),string:eP(),"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:ga,function:/\b\w+(?=\()/,number:Phe,operator:/[!=]==|[!=<>]=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:Ld};var o6=r=>`\\b(?:${r})\\b`,Fhe="bool|char|decimal|double|dynamic|float|object|s?byte|string|u?int|u?long|u?short|var|void",a6="class|enum|interface|record|struct",Hhe="add|alias|and|ascending|async|await|by|descending|from(?!\\s*[^\\s\\w])|[gls]et|global|group|into|init(?=\\s*;)|join|nameof|not|notnull|on|or|orderby|partial|remove|select|unmanaged|value|when|where|with(?=\\s*{)",nP="abstract|as|[bc]ase|break|catch|checked|const|continue|default|delegate|do|else|event|explicit|extern|finally|fixed|for|foreach|goto|i[fns]|implicit|internal|lock|namespace|new|null|operator|out|override|params|private|protected|public|readonly|ref|return|sealed|sizeof|stackalloc|static|switch|this|throw|try|typeof|unchecked|unsafe|using|virtual|volatile|while|yield",Whe=o6(a6),w3=RegExp(o6(Fhe+"|"+a6+"|"+Hhe+"|"+nP)),aXe=o6(a6+"|"+Hhe+"|"+nP),sXe=o6(Fhe+"|"+a6+"|"+nP),S3=pg("<(?:[^<>;=*/%&|^+-]|<self>)*>",2),g4=pg("\\((?:[^()]|<self>)*\\)",2),hl="@?\\b(?!\\d)\\w+\\b",k3=Di("<0>(?:\\s*<1>)?",[hl,S3]),Yf=Di("(?!<0>)<1>(?:\\s*\\.\\s*<1>)*",[aXe,k3]),rP="\\[\\s*(?:,\\s*)*\\]",lXe=Di("<0>(?:\\s*(?:\\?\\s*)?<1>)*(?:\\s*\\?)?",[Yf,rP]),cXe=Di("[^()[\\],;%&|^=<>/*+-]|<0>|<1>|<2>",[S3,g4,rP]),uXe=Di("\\(<0>+(?:,<0>+)+\\)",[cXe]),Gm=Di("(?:<0>|<1>)(?:\\s*(?:\\?\\s*)?<2>)*(?:\\s*\\?)?",[uXe,Yf,rP]),ws={keyword:w3,punctuation:/[()[\].,:<>?]/},Vhe=`'(?:\\\\.|[^
'\\\\]|\\\\[Uux][a-fA-F\\d]{1,8})'`,qhe=`"(?:\\\\.|[^\\\\
"])*"`,dXe='@"(?:""|\\\\[\\s\\S]|[^\\\\"])*"(?!")',Ud=St.dotnet=St.cs=St.csharp=oh("clike",{string:[{pattern:En("(^|[^$\\\\])<0>",[dXe],"g"),lookbehind:!0,greedy:!0},{pattern:En("(^|[^@$\\\\])<0>",[qhe],"g"),lookbehind:!0,greedy:!0}],"class-name":[{pattern:En("(\\busing\\s+static\\s+)<0>(?=\\s*;)",[Yf]),lookbehind:!0,inside:ws},{pattern:En("(\\busing\\s+<0>\\s*=\\s*)<1>(?=\\s*;)",[hl,Gm]),lookbehind:!0,inside:ws},{pattern:En("(\\busing\\s+)<0>(?=\\s*=)",[hl]),lookbehind:!0},{pattern:En("(\\b<0>\\s+)<1>",[Whe,k3]),lookbehind:!0,inside:ws},{pattern:En("(\\bcatch\\s*\\(\\s*)<0>",[Yf]),lookbehind:!0,inside:ws},{pattern:En("(\\bwhere\\s+)<0>",[hl]),lookbehind:!0},{pattern:En("(\\b(?:is(?:\\s+not)?|as)\\s+)<0>",[lXe]),lookbehind:!0,inside:ws},{pattern:En("\\b<0>(?=\\s+(?!<1>|with\\s*\\{)<2>(?:\\s*[=,:;{)\\]]|\\s+(?:in|when)\\b))",[Gm,sXe,hl]),inside:ws}],keyword:w3,number:/(?:\b0(?:x[a-f\d_]*[a-f\d]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[+-]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/[=-]>|([&|+-])\1|~|\?\?=?|>>=?|<<=?|[%&|^!=<>/*+-]=?/,punctuation:/\?\.?|::|[()[\]{}.,:;]/});xr(Ud,"number",{range:{pattern:/\.\./,alias:"operator"}});xr(Ud,"punctuation",{"named-parameter":{pattern:En("([(,]\\s*)<0>(?=\\s*:)",[hl]),lookbehind:!0,alias:"punctuation"}});xr(Ud,"class-name",{namespace:{pattern:En("(\\b(?:namespace|using)\\s+)<0>(?:\\s*\\.\\s*<0>)*(?=\\s*[;{])",[hl]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:En("(\\b(?:default|sizeof|typeof)\\s*\\(\\s*(?!\\s))(?:[^()\\s]|\\s(?!\\s)|<0>)+(?=\\s*\\))",[g4]),lookbehind:!0,alias:"class-name",inside:ws},"return-type":{pattern:En("<0>(?=\\s+(?:<1>\\s*(?:=>|[({]|\\.\\s*this\\s*\\[)|this\\s*\\[))",[Gm,Yf]),alias:"class-name",inside:ws},"constructor-invocation":{pattern:En("(\\bnew\\s+)<0>(?=\\s*[[({])",[Gm]),lookbehind:!0,alias:"class-name",inside:ws},"generic-method":{pattern:En("<0>\\s*<1>(?=\\s*\\()",[hl,S3]),inside:{function:En("^<0>",[hl]),generic:{pattern:RegExp(S3),alias:"class-name",inside:ws}}},"type-list":{pattern:En("\\b((?:<0>\\s+<1>|record\\s+<1>\\s*<5>|where\\s+<2>)\\s*:\\s*)(?:<3>|<4>|<1>\\s*<5>|<6>)(?:\\s*,\\s*(?:<3>|<4>|<6>))*(?=\\s*(?:where|[{;]|=>|$))",[Whe,k3,hl,Gm,w3.source,g4,"\\bnew\\s*\\(\\s*\\)"]),lookbehind:!0,inside:{"record-arguments":{pattern:En("(^(?!new\\s*\\()<0>\\s*)<1>",[k3,g4],"g"),lookbehind:!0,greedy:!0,inside:Ud},keyword:w3,"class-name":{pattern:RegExp(Gm,"g"),greedy:!0,inside:ws},punctuation:/[(),]/}},preprocessor:{pattern:/(^[ 	]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var Ghe=qhe+"|"+Vhe,Khe=Di(`/(?![*/])|//[^
]*
|/\\*(?:[^*]|\\*(?!/))*\\*/|<0>`,[Ghe]),Xhe=pg(Di(`[^()"'/]|<0>|\\(<self>*\\)`,[Khe]),2),yG="\\b(?:assembly|event|field|method|module|param|property|return|type)\\b",hXe=Di("<0>(?:\\s*\\(<1>*\\))?",[Yf,Xhe]),iP=`:[^
}]+`,Yhe=pg(Di(`[^()"'/]|<0>|\\(<self>*\\)`,[Khe]),2),bG=Di("\\{(?!\\{)(?:(?![}:])<0>)*<1>?\\}",[Yhe,iP]),Zhe=pg(Di(`[^()"'/]|/(?!\\*)|/\\*(?:[^*]|\\*(?!/))*\\*/|<0>|\\(<self>*\\)`,[Ghe]),2),vG=Di("\\{(?!\\{)(?:(?![}:])<0>)*<1>?\\}",[Zhe,iP]),xG=(r,e)=>({interpolation:{pattern:En("((?:^|[^{])(?:\\{\\{)*)<0>",[r]),lookbehind:!0,inside:{"format-string":{pattern:En("(^\\{(?:(?![}:])<0>)*)<1>(?=\\}$)",[e,iP]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[^]+/,alias:"language-csharp",inside:Ud}}},string:/[^]+/});xr(Ud,"class-name",{attribute:{pattern:En("((?:^|[^\\s\\w>)?])\\s*\\[\\s*)(?:<0>\\s*:\\s*)?<1>(?:\\s*,\\s*<1>)*(?=\\s*\\])",[yG,hXe],"g"),lookbehind:!0,greedy:!0,inside:{target:{pattern:En("^<0>(?=\\s*:)",[yG]),alias:"keyword"},"attribute-arguments":{pattern:En("\\(<0>*\\)",[Xhe]),inside:Ud},"class-name":{pattern:RegExp(Yf),inside:{punctuation:/\./}},punctuation:/[,:]/}}});xr(Ud,"string",{"interpolation-string":[{pattern:En('(^|[^\\\\])(?:\\$@|@\\$)"(?:""|\\\\[\\s\\S]|\\{\\{|<0>|[^\\\\{"])*"',[bG],"g"),lookbehind:!0,greedy:!0,inside:xG(bG,Yhe)},{pattern:En('(^|[^@\\\\])\\$"(?:\\\\.|\\{\\{|<0>|[^\\\\"{])*"',[vG],"g"),lookbehind:!0,greedy:!0,inside:xG(vG,Zhe)}],char:{pattern:RegExp(Vhe,"g"),greedy:!0}});St.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|"(?!""))*"""|"(?:\\.|[^\\\n"])*")(?=\s*[a-z_])/gi,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/("(?!")|""")[^]+(?=\1)/,lookbehind:!0,inside:"md"}}},string:{pattern:/"""[^]*?"""|"(?:\\.|[^\\\n"])*"/g,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:ga,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/\b[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\\n"])*")*\))?:)/gi,greedy:!0},"atom-input":{pattern:/\b[A-Z]\w*Input\b/,alias:"class-name"},scalar:/\b(?:Boolean|Float|ID|Int|String)\b/,constant:/\b[A-Z][A-Z_\d]*\b/,"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*|:\s*|\[)[A-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))(?!\d)\w+/,lookbehind:!0,alias:"function"},"definition-mutation":{pattern:/(\bmutation\s+)(?!\d)\w+/,lookbehind:!0,alias:"function"},"definition-query":{pattern:/(\bquery\s+)(?!\d)\w+/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[&|!=]|\.{3}/,"property-query":/\w+(?=\s*\()/,object:/\w+(?=\s*\{)/,punctuation:/[()[\]{},:!=]/,property:/\w+/,[Bc](r,e){for(var n=Pv(r,e),i=n.filter(({type:g})=>g&&g!="comment"&&g!="scalar"),o=i.length,a=0,s=g=>{for(var v=0;v<g.length;v++)if(a+v==o||i[a+v].type!=g[v])return!0},l=(g,v)=>{for(var x=1,w=a;w<o;w++){var k=i[w],T=k.content;if(k.type=="punctuation"){if(g==T)x++;else if(v==T&&!--x)return w}}};a<o;){var c=i[a++];if(c.type=="keyword"&&c.content=="mutation"){var u=[];if(!s(["definition-mutation","punctuation"])&&i[a+1].content=="("){a+=2;var d=l("(",")");if(!d)continue;for(;a<d;a++){var h=i[a];h.type=="variable"&&(h.alias="variable-input",u.push(h.content))}a=d+1}if(!s(["punctuation","property-query"])&&i[a].content=="{"&&(i[++a].alias="property-mutation",u[0])){var f=l("{","}");if(f)for(var m=a;m<f;m++){var b=i[m];b.type=="variable"&&u.indexOf(b.content)>=0&&(b.alias="variable-input")}}}}return n}};St.webmanifest=St.json={property:{pattern:/"(?:\\.|[^\\\n"])*"(?=\s*:)/g,greedy:!0},string:{pattern:/"(?:\\.|[^\\\n"])*"/g,greedy:!0},comment:ah(),number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,operator:/:/,punctuation:/[[\]{},]/,boolean:ga,null:{pattern:/\bnull\b/,alias:"keyword"}};St.makefile={comment:/#(?:\\[^]|[^\\\n])*/,string:eP(),"builtin-target":{pattern:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,alias:"builtin"},target:{pattern:/^(?:[^:=\s]|[ 	]+(?![\s:]))+(?=\s*:(?!=))/m,alias:"symbol",inside:{variable:/\$+(?:(?!\$)[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:(?!\$)[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|override|private|s?include|undefine|unexport|vpath)\b/,function:{pattern:/(\()(?:abspath|addsuffix|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:list|s)?)(?=[ 	])/,lookbehind:!0},operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/};var oP=St.scss=oh("css",{comment:ah(),atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/,[_s]:"scss"}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?!\s)[^@;(){}]?(?:[^@;(){}\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}});xr(oP,"atrule",{keyword:[/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]});xr(oP,"important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/});xr(oP,"function",{"module-modifier":{pattern:/\b(?:as|hide|show|with)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:ga,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[%/*+-]|[!=]=|[<>]=?|and|not|or)(?!\S)/,lookbehind:!0}});var Jhe={pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\d)(?:(?!\s)[$\w\xa0-\uffff])+(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/g,lookbehind:!0,greedy:!0},mg=St.ts=St.typescript=oh("js",{"class-name":Jhe});xr(mg,"operator",{builtin:/\b(?:Array|Function|Promise|any|boolean|never|number|string|symbol|unknown)\b/});mg.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b|\b(?:asserts|infer|interface|module|namespace|type)\b(?!\s*[^\s{_$a-zA-Z\xa0-\uffff])|\btype(?=\s*\*)/);delete mg.parameter;delete mg["literal-property"];var aP=Jhe.inside=Object.assign({},mg);delete aP["class-name"];delete aP["maybe-class-name"];xr(mg,"function",{decorator:{pattern:/@[$\w\xa0-\uffff]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/.+/}},"generic-function":{pattern:/#?(?!\d)(?:(?!\s)[$\w\xa0-\uffff])+\s*<(?:[^<>=]|=[^<]|=?<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/g,greedy:!0,inside:{generic:{pattern:/<[^]+/,alias:"class-name",inside:aP},function:/\S+/}}});jhe(St.ts,"tsx");var W9=St.tsx.tag,Qhe="(?:^|(";try{RegExp("(?<=)"),Qhe+="?<="}catch{W9.lookbehind=!0}W9.pattern=RegExp(Qhe+`[^\\w$])|(?=</))${W9.pattern.source}`,"g");var V9=/[*&][^\s[\]{},]+/,q9=/!(?:<[\w%#;/?:@&=$,.!~*'()[\]+-]+>|(?:[a-zA-Z\d-]*!)?[\w%#;/?:@&=$.~*'()+-]+)?/,G9=`(?:${q9.source}(?:[ 	]+${V9.source})?|${V9.source}(?:[ 	]+${q9.source})?)`,fXe=Di("(?:[^\\s\0-\\x08\\x0e-\\x1f!\"#%&'*,:>?@[\\]{}`|\\x7f-\\x84\\x86-\\x9f\\ud800-\\udfff\\ufffe\\uffff-]|[?:-]<0>)(?:[ 	]*(?:(?![#:])<0>|:<0>))*",["[^\\s\0-\\x08\\x0e-\\x1f,[\\]{}\\x7f-\\x84\\x86-\\x9f\\ud800-\\udfff\\ufffe\\uffff]"]),wG=`"(?:\\\\.|[^\\\\
"])*"|'(?:\\\\.|[^\\\\
'])*'`,z1=(r,e)=>En(`([:,[{-]\\s*(?:\\s<0>[ 	]+)?)<1>(?=[ 	]*(?:$|,|\\]|\\}|(?:
\\s*)?#))`,[G9,r],e);St.yml=St.yaml={scalar:{pattern:En(`([:-]\\s*(?:\\s<0>[ 	]+)?[|>])[ 	]*(?:(
[ 	]+)\\S.*(?:\\2.+)*)`,[G9]),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:En(`((?:^|[:,[{
?-])[ 	]*(?:<0>[ 	]+)?)<1>(?=\\s*:\\s)`,[G9,"(?:"+fXe+"|"+wG+")"],"g"),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ 	]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:z1("\\d{4}-\\d\\d?-\\d\\d?(?:[tT]|[ 	]+)\\d\\d?:\\d\\d:\\d\\d(?:\\.\\d*)?(?:[ 	]*(?:Z|[+-]\\d\\d?(?::\\d\\d)?))?|\\d{4}-\\d\\d-\\d\\d|\\d\\d?:\\d\\d(?::\\d\\d(?:\\.\\d*)?)?","m"),lookbehind:!0,alias:"number"},boolean:{pattern:z1("false|true","im"),lookbehind:!0,alias:"important"},null:{pattern:z1("null|~","im"),lookbehind:!0,alias:"important"},string:{pattern:z1(wG,"mg"),lookbehind:!0,greedy:!0},number:{pattern:z1("[+-]?(?:0x[a-f\\d]+|0o[0-7]+|(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?|\\.inf|\\.nan)","im"),lookbehind:!0},tag:q9,important:V9,punctuation:/---|[:[\]{},|>?-]|\.{3}/};var SG={pattern:/\\[\\()[\]{}^$+*?|.]/,alias:"escape"},y4=/\\(?:x[a-fA-F\d]{2}|u[a-fA-F\d]{4}|u\{[a-fA-F\d]+\}|0[0-7]{0,2}|[123][0-7]{2}|c[a-zA-Z]|.)/,pXe={pattern:/\.|\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},mXe={pattern:/\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},kG="(?:[^\\\\-]|"+y4.source+")",gXe=RegExp(kG+"-"+kG),TG={pattern:/(<|')[^<>']+(?=[>']$)/,lookbehind:!0,alias:"variable"};St.regex={"char-class":{pattern:/((?:^|[^\\])(?:\\\\)*)\[(?:\\[^]|[^\\\]])*\]/,lookbehind:!0,inside:{"char-class-punctuation":{pattern:/^.|.$/g,greedy:!0,alias:"punctuation"},"char-class-negation":{pattern:/^\^/,alias:"operator"},range:{pattern:gXe,inside:{escape:y4,"range-punctuation":{pattern:/-/,alias:"operator"}}},"special-escape":SG,"char-set":mXe,escape:y4}},"special-escape":SG,"char-set":pXe,backreference:[{pattern:/\\(?![123][0-7]{2})[1-9]/,alias:"keyword"},{pattern:/\\k<[^<>']+>/,alias:"keyword",inside:{"group-name":TG}}],anchor:{pattern:/[$^]|\\[ABbGZz]/,alias:"function"},escape:y4,group:[{pattern:/(\()\?(?:<[^<>']+>|'[^<>']+'|[>:]|<?[!=]|[idmnsuxU]+(?:-[idmnsuxU]+)?:?)/,lookbehind:!0,inside:{"group-name":TG}},{pattern:/[()]/,alias:"punctuation"}],quantifier:{pattern:/(?:[+*?]|\{\d+(?:,\d*)?\})[?+]?/,alias:"number"},alternation:{pattern:/\|/,alias:"keyword"}};var EG=/\/\*[^]*?\*\/|\/\/.*|#(?!\[).*/,CG=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/gi,lookbehind:!0,greedy:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/gi,lookbehind:!0,greedy:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z\d_]*\b(?!\s*\()/],_G=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[a-f\d]+(?:_[a-f\d]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,AG=/<?=>|\?\?=?|\.{3}|\??->|[!=]==|::|--|\+\+|&&|\*\*=?|\|\||>>|<<|[?~]|[.%&|^!=<>/*+-]=?/,K9={pattern:/\{\$(?:[^{}]|\{(?:[^{}]|\{[^}]+\})*\})*\}|(^|[^\\{])\$+(?:\w+(?:\[[^\n[\]]*\]|->\w+)?)/,lookbehind:!0},DG=[{pattern:/<<<'([^']+)'\n(?:.*\n)*?\1;/g,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"\n(?:.*\n)*?\1;|([a-z_]\w*)\n(?:.*\n)*?\2;)/gi,greedy:!0,alias:"heredoc-string",inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:K9}},{pattern:/`(?:\\[^]|[^\\`])*`/g,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[^]|[^\\'])*'/g,greedy:!0,alias:"single-quoted-string"},{pattern:/"(?:\\[^]|[^\\"])*"/g,greedy:!0,alias:"double-quoted-string",inside:{interpolation:K9}}],MG=K9.inside={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},"doc-comment":{pattern:/\/\*\*(?!\/)[^]*?\*\//g,greedy:!0,alias:"comment",inside:"phpdoc"},comment:EG,string:DG,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[^]|[^\\"])*"|'(?:\\[^]|[^\\'])*')+\](?=\s*[a-z$#])/img,greedy:!0,inside:{"attribute-content":{pattern:/^(..)[^]+(?=.)/,lookbehind:!0,inside:{comment:EG,string:DG,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/gi,lookbehind:!0,greedy:!0,alias:"class-name"},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/gi,lookbehind:!0,greedy:!0,alias:"class-name class-name-fully-qualified",inside:{punctuation:/\\/}}],constant:CG,number:_G,operator:AG,punctuation:Ld}},delimiter:{pattern:/.+/,alias:"punctuation"}}},variable:/\$+(?:\w+|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/gi,lookbehind:!0,greedy:!0,alias:"type-casting"},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/gi,lookbehind:!0,greedy:!0,alias:"type-hint"},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/gi,lookbehind:!0,greedy:!0,alias:"return-type"},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/gi,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/gi,lookbehind:!0,greedy:!0,alias:"type-declaration"},{pattern:/\b(?:parent|self|static)(?=\s*::)/gi,greedy:!0,alias:"static-context"},{pattern:/(\byield\s+)from\b/gi,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|[fx]?or|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/gi,lookbehind:!0,greedy:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/gi,lookbehind:!0,greedy:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/gi,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/gi,lookbehind:!0,greedy:!0,alias:"class-name-fully-qualified",inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/gi,greedy:!0,alias:"class-name-fully-qualified",inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/gi,lookbehind:!0,greedy:!0,alias:"class-name-fully-qualified",inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/gi,greedy:!0,alias:"type-declaration"},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/gi,greedy:!0,alias:"class-name-fully-qualified type-declaration",inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/gi,greedy:!0,alias:"static-context"},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/gi,greedy:!0,alias:"class-name-fully-qualified static-context",inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/gi,lookbehind:!0,greedy:!0,alias:"type-hint"},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/gi,lookbehind:!0,greedy:!0,alias:"class-name-fully-qualified type-hint",inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/gi,alias:"return-type",lookbehind:!0,greedy:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/gi,lookbehind:!0,greedy:!0,alias:"class-name-fully-qualified return-type",inside:{punctuation:/\\/}}],constant:CG,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:_G,operator:AG,punctuation:Ld},yXe=Uhe("html");St.php={php:{pattern:/<\?(?:[^"'/#]|\/(?![*/])|(["'])(?:\\[^]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^\n?]|\?(?!>))*(?=$|\?>|\n)|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/,alias:"language-php",inside:MG},[Bc]:(r,e)=>r.includes("<?")?yXe(r,e):Ov(r,MG)};var bXe=[`(?:\\\\.|[^\\\\
]|
(?!
))`],n2=r=>En(`((?:^|[^\\\\])(?:\\\\\\\\)*)(?:${r})`,bXe,"g"),X9=/(?:\\.|``(?:[^\n`]|`(?!`))+``|`[^\n`]+`|[^\\\n|`])+/,RG=Di(`\\|?<0>(?:\\|<0>)+\\|?(?:
|(?![\\s\\S]))`,[X9.source]),vXe=`\\|?[ 	]*:?-{3,}:?[ 	]*(?:\\|[ 	]*:?-{3,}:?[ 	]*)+\\|?
`,Km=St.md=St.markdown=i6(St.html);xr(Km,"prolog",{"front-matter-block":{pattern:/(^(?:\s*\n)?)---(?!.)[^]*?\n---(?!.)/g,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S(?:[^]*\S)?/,alias:"language-yaml",inside:"yaml"}}},blockquote:{pattern:/^>(?:[ 	]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+RG+vXe+"(?:"+RG+")*","m"),inside:{"table-header-row":{pattern:/^.+/,inside:{"table-header":{pattern:X9,alias:"important",inside:Km},punctuation:/\|/}},"table-data-rows":{pattern:/(.+\n)[^]+/,lookbehind:!0,inside:{"table-data":{pattern:X9,inside:Km},punctuation:/\|/}},"table-line":{pattern:/.+/,inside:{punctuation:/\S+/}}}},code:[{pattern:/(^[ 	]*\n)(?:    |	).+(?:\n(?:    |	).+)*/m,lookbehind:!0,alias:"keyword"},{pattern:/^(```+)[^`][^]*?^\1`*$/mg,greedy:!0,inside:{punctuation:/^`+|`+$/,"code-language":/^.+/,"code-block":/(?!^)[^]+(?=\n)/,[Bc](r,e){var n=Pv(r,e),i;return n[5]&&(i=(/[a-z][\w-]*/i.exec(n[1].content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"))||[""])[0].toLowerCase(),n[3].alias="language-"+i,(e=St[i])&&(n[3].content=Ov(n[3].content,e))),n}}}],title:[{pattern:/\S.*\n(?:==+|--+)(?=[ 	]*$)/m,alias:"important",inside:{punctuation:/=+$|-+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[ 	]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[ 	].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[ 	]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[ 	]+(?:"(?:\\.|[^\\"])*"|'(?:\\.|[^\\'])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^\\"])*"|'(?:\\.|[^\\'])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[[\]!:]|<|>/},alias:"url"},bold:{pattern:n2("\\b__(?:(?!_)<0>|_(?:(?!_)<0>)+_)+__\\b|\\*\\*(?:(?!\\*)<0>|\\*(?:(?!\\*)<0>)+\\*)+\\*\\*"),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[^]+(?=..)/,lookbehind:!0,inside:{}},punctuation:/../}},italic:{pattern:n2("\\b_(?:(?!_)<0>|__(?:(?!_)<0>)+__)+_\\b|\\*(?:(?!\\*)<0>|\\*\\*(?:(?!\\*)<0>)+\\*\\*)+\\*"),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(?!^)[^]+(?=.)/,inside:{}},punctuation:/./}},strike:{pattern:n2("(~~?)(?:(?!~)<0>)+\\2"),lookbehind:!0,greedy:!0,inside:{punctuation:/^~~?|~~?$/,content:{pattern:/[^]+/,inside:{}}}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^\n`]+(?:`[^\n`]+)*``(?!`)|`[^\n`]+`(?!`))/g,lookbehind:!0,greedy:!0,alias:"code keyword"},url:{pattern:n2('!?\\[(?:(?!\\])<0>)+\\](?:\\([^\\s)]+(?:[ 	]+"(?:\\\\.|[^\\\\"])*")?\\)|[ 	]?\\[(?:(?!\\])<0>)+\\])'),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ 	]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ 	]+)"(?:\\.|[^\\"])*"(?=\)$)/,lookbehind:!0},"markup-bracket":Km["markup-bracket"]}}});["url","bold","italic","strike"].forEach(r=>{["url","bold","italic","strike","code-snippet","markup-bracket"].forEach(e=>{r!=e&&(Km[r].inside.content.inside[e]=Km[e])})});const xXe=(r,e,...n)=>{var i;let o,a,s=[],l,c="",u,d=!1,h=!1,f=!0,m=[],b,g=0;const v=SXe(),x=v.firstChild,w=x.children,k=w[0],T=k.firstChild,_={language:"text",value:c},D=new Set(n),I={},L=J=>{if(Object.assign(_,J),c=J.value??c,o=_.language,!St[o])throw Error(`Language '${o}' has no grammar.`);b=!!_.readOnly,v.style.tabSize=_.tabSize||2,T.inputMode=b?"none":"",T.setAttribute("aria-readonly",b),Z(),W(),(a!=(a=St[o])||c!=T.value)&&(Q(),T.value=c,T.selectionEnd=0,O())},O=()=>{m=Ov(c=T.value,a),H("tokenize",m,o,c);let J=Dhe(m).split(`
`),ee=0,X=g,j=g=J.length;for(;J[ee]==s[ee]&&ee<j;)++ee;for(;j&&J[--j]==s[--X];);if(ee==j&&ee==X)w[ee+1].innerHTML=J[ee]+`
`;else{let ae=X<ee?X:ee-1,re=ae,de="";for(;re<j;)de+=`<div class=pce-line aria-hidden=true>${J[++re]}
</div>`;for(re=j<ee?j:ee-1;re<X;re++)w[ee+1].remove();for(de&&w[ae+1].insertAdjacentHTML("afterend",de),re=ae+1;re<g;)w[++re].setAttribute("data-line",re);v.style.setProperty("--number-width",Math.ceil(Math.log10(g+1))+".001ch")}H("update",c),G(!0),f&&setTimeout(setTimeout,0,()=>f=!0),s=J,f=!1},W=J=>{(J||D).forEach(ee=>{typeof ee=="object"?(ee.update(ne,_),J&&D.add(ee)):(ee(ne,_),J||D.delete(ee))})},Z=([J,ee]=$())=>{v.className=`prism-code-editor language-${o}${_.lineNumbers==!1?"":" show-line-numbers"} pce-${_.wordWrap?"":"no"}wrap${_.rtl?" pce-rtl":""} pce-${J<ee?"has":"no"}-selection${h?" pce-focus":""}${b?" pce-readonly":""}`},$=()=>[T.selectionStart,T.selectionEnd,T.selectionDirection],F={Escape(){T.blur()}},A={},Q=()=>b4&&!h&&io(ne,"focus",J=>{let ee=J.relatedTarget;ee?ee.focus():T.blur()},{once:!0}),H=(J,...ee)=>{var X,j;(X=I[J])==null||X.forEach(ae=>ae.apply(ne,ee)),(j=_["on"+J[0].toUpperCase()+J.slice(1)])==null||j.apply(ne,ee)},G=J=>{if(J||f){const ee=$(),X=w[u=tfe(c,0,ee[ee[2]<"f"?0:1])];X!=l&&(l==null||l.classList.remove("active-line"),X.classList.add("active-line"),l=X),Z(ee),H("selectionChange",ee,c)}},ne={scrollContainer:v,wrapper:x,overlays:k,textarea:T,get activeLine(){return l},get activeLineNumber(){return u},get value(){return c},options:_,get focused(){return h},get removed(){return d},get tokens(){return m},inputCommandMap:A,keyCommandMap:F,extensions:{},setOptions:L,update:O,getSelection:$,setSelection(J,ee=J,X){Q(),T.setSelectionRange(J,ee,X),G(!0)},addExtensions(...J){W(J)},addListener(J,ee){(I[J]||(I[J]=new Set)).add(ee)},removeListener(J,ee){var X;(X=I[J])==null||X.delete(ee)},remove(){v.remove(),d=!0}};return io(ne,"keydown",J=>{var ee;(ee=F[J.key])!=null&&ee.call(F,J,$(),c)&&to(J)}),io(ne,"beforeinput",J=>{var ee;(b||J.inputType=="insertText"&&(ee=A[J.data])!=null&&ee.call(A,J,$(),c))&&to(J)}),io(ne,"input",O),io(ne,"blur",()=>{C3=null,h=!1,Z()}),io(ne,"focus",()=>{C3=G,h=!0,Z()}),io(ne,"selectionchange",J=>{G(),to(J)}),(i=wXe(r))==null||i.append(v),e&&L(e),ne},NG=document.createElement("div"),s6=r=>{NG.innerHTML=r;const e=NG.firstChild;return()=>e.cloneNode(!0)},io=(r,e,n,i)=>r.textarea.addEventListener(e,n,i),wXe=r=>typeof r=="string"?document.querySelector(r):r,efe=navigator.userAgent,T3=/Mac|iPhone|iPod|iPad/i.test(navigator.platform),E3=/Chrome\//.test(efe),b4=!E3&&/AppleWebKit\//.test(efe),tfe=(r,e=0,n=1/0)=>{let i=1;for(;(e=r.indexOf(`
`,e)+1)&&e<=n;i++);return i},p7={},SXe=s6("<div><div class=pce-wrapper><div class=pce-overlays><textarea spellcheck=false autocapitalize=off autocomplete=off>"),to=r=>{r.preventDefault(),r.stopImmediatePropagation()};let C3;document.addEventListener("selectionchange",()=>C3==null?void 0:C3());const kXe=(r,e,n=0)=>{const i=r.scrollContainer.style,o=document.documentElement.style;i.scrollPaddingBlock=o.scrollPaddingBlock=`${n}px ${E3&&!e.textContent?e.offsetHeight:0}px`,e.scrollIntoView({block:"nearest"}),i.scrollPaddingBlock=o.scrollPaddingBlock=""},_3=(r,e)=>e?r.lastIndexOf(`
`,e-1)+1:0,l6=(r,e)=>(e=r.indexOf(`
`,e))+1?e:r.length,TXe=(r,e,n)=>(r.addListener(e,n),()=>r.removeListener(e,n)),EXe=(r,e)=>parseFloat(getComputedStyle(r)[e]);let Xm;const L1=r=>r.replace(/[$+?|.^*()[\]{}\\]/g,"\\$&"),Y9=(r,e)=>r.slice(_3(r,e),e),Fu=(r,e,n=e)=>[r.slice(e=_3(r,e),n=l6(r,n)).split(`
`),e,n],A3=(r,e,n=0,i=n,o=r.getSelection()[0])=>{var a;const s=r.value,l=r.wrapper.children[tfe(s,0,o)],c=document.createTreeWalker(l,5);let u=c.lastChild(),d=l6(s,o)+1-o-u.length;for(;-d<=i&&(u=c.previousNode());)if(!u.lastChild&&(d-=u.length||0,d<=n)){for(;u!=l;u=u.parentNode)if((a=u.matches)!=null&&a.call(u,e))return u}},m7=(r,e)=>{var n;return((n=A3(r,'[class*="language-"]',0,0,e))==null?void 0:n.className.match(/language-(\S*)/)[1])||r.options.language},So=(r,e,n,i,o,a)=>{if(r.options.readOnly)return;Xm=r.getSelection(),i??(i=n);let s=r.textarea,l=r.value,c=E3&&!l[i??Xm[1]]&&/\n$/.test(e)&&/^$|\n$/.test(l),u;r.focused||s.focus(),n!=null&&s.setSelectionRange(n,i),o!=null&&(u=TXe(r,"update",()=>{s.setSelectionRange(o,a??o,Xm[2]),u()})),b4||s.dispatchEvent(new InputEvent("beforeinput",{data:e})),E3||b4?(c&&(s.selectionEnd--,e=e.slice(0,-1)),b4&&(e+=`
`),document.execCommand(e?"insertHTML":"delete",!1,e.replace(/&/g,"&amp;").replace(/</g,"&lt;")),c&&s.selectionStart++):document.execCommand(e?"insertText":"delete",!1,e),Xm=0},xy=r=>r.altKey+r.ctrlKey*2+r.metaKey*4+r.shiftKey*8;let Z9=!1;const OG=navigator.clipboard,sf=T3?4:2,CXe=r=>Z9=r,Bh=r=>r.search(/\S|$/),_Xe=(r=['""',"''","``","()","[]","{}"],e=/([^$\w'"`]["'`]|.[[({])[.,:;\])}>\s]|.[[({]`/s)=>(n,i)=>{let o;const{keyCommandMap:a,inputCommandMap:s,getSelection:l,scrollContainer:c}=n,u=({insertSpaces:g=!0,tabSize:v}=i)=>[g?" ":"	",g?v||2:1],d=()=>{var g;return!i.readOnly&&!((g=n.extensions.cursor)!=null&&g.scrollIntoView())},h=([g,v],[x,w],k,T)=>(g<v||!T&&e.test((k[v-1]||" ")+x+(k[v]||" ")))&&!So(n,x+k.slice(g,v)+w,null,null,g+1,v+1),f=([g,v],x,w)=>g==v&&w[v]==x&&!n.setSelection(g+1),m=(g,v,x,w,k,T)=>{let _=v.join(`
`);if(_!=g.join(`
`)){const D=g.length-1,I=v[D],L=g[D],O=L.length-I.length,W=v[0].length-g[0].length,Z=x+Bh((W<0?v:g)[0]),$=w-L.length+Bh(O>0?I:L),F=x-w+_.length+O,A=Z>k?k:Math.max(Z,k+W),Q=T+x-w+_.length;So(n,_,x,w,A,T<$?Q+O:Math.max($+F,Q))}},b=(g,v,x,w,k,T,_,D)=>{m(v,v.map(g?I=>I.slice(Bh(I)?D-Bh(I)%D:0):I=>I&&_.repeat(D-Bh(I)%D)+I),x,w,k,T)};s["<"]=(g,v,x)=>h(v,"<>",x,!0),r.forEach(([g,v])=>{const x=g==v;s[g]=(w,k,T)=>(x&&f(k,v,T)||h(k,g+v,T))&&d(),x||(s[v]=(w,k,T)=>f(k,v,T)&&d())}),s[">"]=(g,v,x)=>{var w,k;const T=(k=(w=p7[m7(n)])==null?void 0:w.autoCloseTags)==null?void 0:k.call(w,v,x,n);T&&(So(n,">"+T,null,null,v[0]+1),to(g))},a.Tab=(g,[v,x],w)=>{if(Z9||i.readOnly||xy(g)&6)return;const[k,T]=u(i),_=g.shiftKey,[D,I,L]=Fu(w,v,x);return v<x||_?b(_,D,I,L,v,x,k,T):So(n,k.repeat(T-(v-I)%T)),d()},a.Enter=(g,v,x)=>{var w,k,T;const _=xy(g)&7;if(!_||_==sf){_&&(v[0]=v[1]=Fu(x,v[1])[2]);const[D,I]=u(),[L,O]=v,W=(w=p7[m7(n)])==null?void 0:w.autoIndent,Z=Math.floor(Bh(Y9(x,L))/I)*I,$=(k=W==null?void 0:W[0])!=null&&k.call(W,v,x,n)?I:0,F=(T=W==null?void 0:W[1])==null?void 0:T.call(W,v,x,n),A=`
`+D.repeat(Z+$)+(F?`
`+D.repeat(Z):"");if(A[1]||x[O])return So(n,A,L,O,L+Z+$+1),d()}},a.Backspace=(g,[v,x],w)=>{if(v==x){const k=Y9(w,v),T=i.tabSize||2,_=r.includes(w.slice(v-1,v+1)),D=/[^ ]/.test(k)?0:(k.length-1)%T+1;if(_||D>1)return So(n,"",v-(_?1:D),v+_),d()}};for(let g=0;g<2;g++)a[g?"ArrowDown":"ArrowUp"]=(v,[x,w],k)=>{const T=xy(v);if(T==1){const _=g?x:_3(k,x)-1,D=g?k.indexOf(`
`,w)+1:w;if(_>-1&&D>0){const[I,L,O]=Fu(k,_,D),W=I[g?"pop":"shift"](),Z=(W.length+1)*(g?1:-1);I[g?"unshift":"push"](W),So(n,I.join(`
`),L,O,x+Z,w+Z)}return d()}else if(T==9){const[_,D,I]=Fu(k,x,w),L=_.join(`
`),O=g?L.length+1:0;return So(n,L+`
`+L,D,I,x+O,w+O),d()}else if(T==2&&!T3)return c.scrollBy(0,EXe(c,"lineHeight")*(g?1:-1)),!0};io(n,"keydown",g=>{var v;const x=xy(g),w=g.keyCode,[k,T,_]=l();if(x==sf&&(w==221||w==219))b(w==219,...Fu(n.value,k,T),k,T,...u()),d(),to(g);else if(x==(T3?10:2)&&w==77)CXe(!Z9),to(g);else if(w==191&&x==sf||w==65&&x==9){const D=n.value,I=x==9,L=I?k:_3(D,k),O=p7[m7(n,L)]||{},{line:W,block:Z}=((v=O.getComments)==null?void 0:v.call(O,n,L,D))||O.comments||{},[$,F,A]=Fu(D,k,T),Q=$.length-1;if(I){if(Z){const[H,G]=Z,ne=D.slice(k,T),J=D.slice(0,k).search(L1(H)+" ?$"),ee=RegExp("^ ?"+L1(G)).test(D.slice(T));J+1&&ee?So(n,ne,J,T+ +(D[T]==" ")+G.length,J,J+T-k):So(n,`${H} ${ne} ${G}`,k,T,k+H.length+1,T+H.length+1),d(),to(g)}}else if(W){const H=L1(W),G=RegExp(`^\\s*(${H} ?|$)`),ne=RegExp(H+" ?"),J=!/\S/.test(D.slice(F,A)),ee=$.map($.every(X=>G.test(X))&&!J?X=>X.replace(ne,""):X=>J||/\S/.test(X)?X.replace(/^\s*/,`$&${W} `):X);m($,ee,F,A,k,T),d(),to(g)}else if(Z){const[H,G]=Z,ne=Bh($[0]),J=$[0].startsWith(H,ne)&&$[Q].endsWith(G),ee=$.slice();ee[0]=$[0].replace(J?RegExp(L1(H)+" ?"):/(?=\S)|$/,J?"":H+" ");let X=ee[0].length-$[0].length;ee[Q]=J?ee[Q].replace(RegExp(`( ?${L1(G)})?$`),""):ee[Q]+" "+G;let j=ee.join(`
`),ae=ne+F,re=ae>k?k:Math.max(k+X,ae),de=ae>T-(k!=T)?T:Math.min(Math.max(ae,T+X),F+j.length);So(n,j,F,A,re,Math.max(re,de)),d(),to(g)}}else if(x==8+sf&&w==75){const D=n.value,[I,L,O]=Fu(D,k,T),W=_>"f"?T-O+I.pop().length:k-L,Z=l6(D,O+1)-O-1;So(n,"",L-!!L,O+!L,L+Math.min(W,Z)),d(),to(g)}}),["copy","cut","paste"].forEach(g=>io(n,g,v=>{const[x,w]=l();if(x==w&&OG){const[[k],T,_]=Fu(n.value,x,w);g=="paste"?v.clipboardData.getData("text/plain")==o&&(So(n,o+`
`,T,T,x+o.length+1),d(),to(v)):(OG.writeText(o=k),g=="cut"&&(So(n,"",T,_+1),d()),to(v))}}))},AXe=(r=999)=>{let e=0,n,i,o=!1,a,s,l,c,u,d;const h=[],f=g=>{g>=r&&(g--,h.shift()),h.splice(e=g,r,[n.value,d(),d()])},m=g=>{var v;h[g]&&(u.value=h[g][0],u.setSelectionRange(...h[g][g<e?2:1]),n.update(),(v=n.extensions.cursor)==null||v.scrollIntoView(),e=g,i=!1)},b=(g,v)=>{g.extensions.history=b,n=g,d=g.getSelection,u||f(0),u=g.textarea,g.addListener("selectionChange",()=>{i=o,o=!1}),io(g,"beforeinput",x=>{let w=x.data,k=x.inputType,T=x.timeStamp;/history/.test(k)?(m(e+(k[7]=="U"?-1:1)),to(x)):(c=i&&(a==k||T-l<99&&k.slice(-4)=="Drop")&&!Xm&&(w!=" "||s==w))||(h[e][2]=Xm||d()),o=!0,s=w,l=T,a=k}),io(g,"input",()=>f(e+!c)),io(g,"keydown",x=>{if(!v.readOnly){const w=xy(x),k=x.keyCode,T=w==sf&&k==90,_=w==sf+8&&k==90||!T3&&w==sf&&k==89;T?(m(e-1),to(x)):_&&(m(e+1),to(x))}})};return b.clear=()=>{f(0),i=!1},b.has=g=>e+g in h,b.go=g=>m(e+g),b},DXe=s6("<div style=position:absolute;top:0;opacity:0;padding:inherit> <span><span></span> "),MXe=()=>{let r,e=" ",n=" ";const i=DXe(),[o,a]=i.childNodes,[s,l]=a.childNodes,c=h=>{let{value:f,activeLine:m}=r,b=h[h[2]<"f"?0:1],g=Y9(f,b),v=f.slice(b,l6(f,b));!g&&!v&&(v=" "),e!=g&&(o.data=e=g),n!=v&&(l.data=n=v),i.parentNode!=m&&m.prepend(i)},u=()=>kXe(r,s),d=h=>{h.addListener("selectionChange",c),r=h,h.extensions.cursor=d,io(h,"input",f=>{/history/.test(f.inputType)&&u()}),h.activeLine&&c(h.getSelection())};return d.getPosition=()=>{const h=s.getBoundingClientRect(),f=r.overlays.getBoundingClientRect();return{top:h.y-f.y,bottom:f.bottom-h.bottom,left:h.x-f.x,right:f.right-h.x,height:h.height}},d.scrollIntoView=u,d.element=s,d},RXe=s6("<div class=guide-indents style=left:var(--padding-left);bottom:auto;right:auto> "),NXe=s6("<div style=width:1px;position:absolute;background:var(--bg-guide-indent)>"),OXe=()=>{let r,e=0,n,i=-1,o;const a=[],s=[],l=RXe(),c=[],u=m=>{n=[];const b=h(m.split(`
`)),g=b.length;for(let v=0,x=[],w=b[0];w;v++){const k=(a[v]||(a[v]=NXe())).style,[T,_,D]=w,I=s[v];w=b[v+1],T!=(I==null?void 0:I[0])&&(k.top=T+"00%"),_!=(I==null?void 0:I[1])&&(k.height=_+"00%"),D!=(I==null?void 0:I[2])&&(k.left=D*100+"%");const L=x[0]!=T&&(w==null?void 0:w[0])!=T,O=x[0]+x[1]!=T+_&&(w==null?void 0:w[0])+(w==null?void 0:w[1])!=T+_;for(let W=-L,Z=_+O;W<Z;W++)n[W+T]=v;x=s[v]=b[v]}for(let v=e;v>g;)a[--v].remove();l.append(...a.slice(e,e=g))},d=()=>{const m=n[o.activeLineNumber-1]??-1;m!=i&&(i>-1&&(a[i].className=""),m>-1&&(a[m].className="active")),i=m},h=m=>{const b=m.length,g=[],v=[];for(let x=0,w=-1,k=0,T=0;;k++){const _=k==b,D=_?0:c[k]=f(m[k]);if(D<0)w<0&&(w=k);else{for(let I=D;I<x;I++)g[I][1]=(w<0||I==D&&!_?k:w)-g[I][0];for(let I=x;I<D;)v[T++]=g[I]=[w<0||I>x?k:w,0,I++*r];w=-1,x=D}if(_)break}return c.length=b,v},f=m=>{let b=m.search(/\S/),g=0;if(b<0)return b;for(let v=0;v<b;)g+=m[v++]=="	"?r-g%r:1;return Math.ceil(g/r)};return{lines:l.children,indentLevels:c,update(m,b){o||(o=m,m.extensions.indentGuides=this,m.overlays.append(l),m.addListener("update",u),m.addListener("selectionChange",d)),l.style.display=b.wordWrap?"none":"",r!=(r=b.tabSize||2)&&(u(m.value),d())}}},PXe=()=>r=>{let e,n,i,o=-1,a=[],s=()=>{n||(n=r.extensions.matchBrackets);let[u,d]=r.getSelection(),h=u==d&&r.focused&&n&&l(d)||-1;if(h!=o){if(c(),h+1){let f=e[i[h]],m=e[h];a=[f,m].map(b=>A3(r,".punctuation",0,-1,b[1])),a[0]!=a[1]&&f[1]+f[3].length==m[1]&&(a[0].textContent+=a[1].textContent,a[1].textContent="",a[1]=a[0]),c(!0)}else a=[];o=h}},l=u=>{var d;({brackets:e,pairs:i}=n);for(let h=0,f;f=e[++h];)if(!f[4]&&f[5]>=u&&((d=e[i[h]])==null?void 0:d[1])<=u)return h},c=u=>a.forEach(d=>d.classList.toggle("active-bracket",!!u));io(r,"focus",s),io(r,"blur",s),r.addListener("selectionChange",s),r.addListener("update",()=>{c(),o=-1})},IXe=(r=!0,e="([{",n=")]}")=>{let i,o;const a=[],s=h=>{h.extensions.matchBrackets=s,h.addListener("tokenize",u),r&&h.tokens[0]?h.update():u(h.tokens)},l=s.brackets=[],c=s.pairs=[],u=h=>{if(c.length=l.length=o=i=0,d(h,0),r)for(let f=0,m;m=l[f];){let b=m[0].alias;m[0].alias=(b?b+" ":"")+`bracket-${f++in c?"level-"+m[2]%12:"error"}`}},d=(h,f)=>{let m,b=0;for(;m=h[b++];){let g=m.length;if(typeof m!="string"){let v=m.content;if(Array.isArray(v))d(v,f);else if((m.alias||m.type)=="punctuation"){let x=PG(v,e,g-1),w=x||PG(v,n,g-1);if(w){if(l[i]=[m,f,0,v,!!x,f+g],x)a[o++]=[i,x];else for(let k=o;k;){let[T,_]=a[--k];w==_&&(c[c[i]=T]=i,l[i][2]=l[T][2]=o=k,k=0)}i++}}}f+=g}};return s},PG=(r,e,n)=>e.indexOf(r[0])+1||n&&e.indexOf(r[n])+1,$Xe="xml,rss,atom,jsx,tsx,xquery,actionscript".split(","),zXe=/^(?:area|base|w?br|col|embed|hr|img|input|link|meta|source|track)$/i,LXe=r=>{let e=[],n,i=[],o,a,s=[],l=(u,d,h)=>{n=h,i.length=e.length=o=a=0,c(u,d,0)},c=(u,d,h)=>{let f=$Xe.includes(d),m=0,b=u.length;for(;m<b;){const g=u[m++],v=g.content,x=g.length;if(Array.isArray(v))if(g.type=="tag"&&n[h]=="<"){const w=v[0].length,k=v[2]?n.substr(h+w,v[1].length):"",T=v[v.length-1].length<2&&(f||!zXe.test(k));if(v[2]&&f&&c(v,d,h),T)if(w>1)for(let _=a;_;)k==s[--_][1]&&(e[e[o]=s[a=_][0]]=o,_=0);else s[a++]=[o,k];i[o++]=[g,h,h+x,k,w>1,T]}else{let w=g.alias||g.type;c(v,w.slice(0,9)=="language-"?w.slice(9):d,h)}h+=x}};return r.addListener("tokenize",l),l(r.tokens,r.options.language,r.value),{tags:i,pairs:e}},UXe=(r,e)=>{for(let n=0,i=e.length;n<i;n++)if(e[n][1]<=r&&e[n][2]>=r)return n},BXe=()=>r=>{var e;let n,i;const{tags:o,pairs:a}=(e=r.extensions).matchTags||(e.matchTags=LXe(r)),s=l=>[n,i].forEach(c=>{c&&c.classList.toggle("active-tagname",!l)});r.addListener("selectionChange",([l,c])=>{let u,d,h;l==c&&r.focused&&(h=UXe(l,o),h+1&&(h=a[h],h+1&&(u=A3(r,".tag>.tag"))&&(d=A3(r,".tag>.tag",2,0,o[h][1])))),n!=u&&(s(!0),n=u,i=d,s())})},jXe="_wrap_1x3wi_1",FXe="_blockInfoEditable_1x3wi_30",IG={wrap:jXe,blockInfoEditable:FXe},g7=[{value:"plaintext",label:"plaintext"},{value:"javascript",label:"JavaScript"},{value:"typescript",label:"TypeScript"},{value:"html",label:"HTML"},{value:"css",label:"CSS"},{value:"python",label:"Python"},{value:"java",label:"Java"},{value:"cpp",label:"C++"},{value:"go",label:"Go"},{value:"rust",label:"Rust"},{value:"sql",label:"SQL"},{value:"json",label:"JSON"},{value:"yaml",label:"YAML"},{value:"markdown",label:"Markdown"},{value:"bash",label:"Bash"},{value:"php",label:"PHP"}],$G=[2,4,8];function HXe(r){const e=MS(),n=P.useRef(null),i=P.useCallback(()=>rg(nfe.name,r==null?void 0:r.editor),[r==null?void 0:r.editor]),o=P.useRef(null),a=r.node.attrs.code||r.node.textContent||"",s=()=>{a&&navigator.clipboard.writeText(a).then(()=>{console.log("Copy Success")}).catch(d=>{console.error("Error:",d)})},l=()=>{r.updateAttributes({lineNumbers:!r.node.attrs.lineNumbers})},c=()=>{r.updateAttributes({wordWrap:!r.node.attrs.wordWrap})},u=d=>{const h={...d};return h.language&&!g7.some(f=>f.value===h.language)&&(h.language="plaintext",r.updateAttributes({language:"plaintext"})),h};return P.useEffect(()=>{if(n.current){const d=u(r.node.attrs);o.current=xXe(n.current,{readOnly:!r.editor.isEditable,language:d.language||"plaintext",tabSize:d.tabSize??2,lineNumbers:d.lineNumbers??!0,wordWrap:d.wordWrap??!1,value:a,rtl:!1,onUpdate(h){r.updateAttributes({code:h})}}),o.current.addExtensions(IXe(),BXe(),OXe(),PXe(),MXe(),_Xe(),AXe()),r.node.attrs.shouldFocus&&setTimeout(()=>{var h;(h=o.current)==null||h.textarea.focus(),r.updateAttributes({shouldFocus:!1})},0)}return()=>{var d,h;(d=o.current)!=null&&d.remove&&((h=o.current)==null||h.remove())}},[n]),P.useEffect(()=>{var d,h;if((d=o.current)!=null&&d.setOptions){const f=u(r.node.attrs);(h=o.current)==null||h.setOptions(f)}},[o,r.node.attrs]),E.jsx(ua,{className:pr(IG.wrap,"render-wrapper"),children:E.jsx("div",{ref:n,className:pr("richtext-node-container richtext-hover-shadow richtext-select-outline richtext-node-code-block !richtext-my-[10px]",{[IG.blockInfoEditable]:!e}),children:E.jsxs("div",{className:"richtext-code-block-toolbar",children:[E.jsx("div",{children:E.jsxs(Zq,{defaultValue:r.node.attrs.language,disabled:!e,onValueChange:d=>{r.updateAttributes({language:d})},children:[E.jsx(P9,{className:"richtext-h-7 richtext-w-[160px] richtext-border-none richtext-text-sm richtext-outline-none hover:richtext-bg-[#5a5d5e4f]",children:E.jsx(KKe,{placeholder:"Select language"})}),E.jsx(I9,{className:"richtext-border-[#3a3f4b] richtext-bg-[#21252b] richtext-text-[#ccc]",onCloseAutoFocus:d=>d.preventDefault(),children:g7==null?void 0:g7.map(d=>E.jsx($9,{value:d.value,children:d.label},d.value))})]})}),E.jsx("div",{className:"toolbar-divider"}),E.jsx("div",{className:"richtext-flex richtext-size-7 richtext-cursor-pointer richtext-items-center richtext-justify-center richtext-rounded-sm hover:richtext-bg-[#5a5d5e4f]",onClick:s,children:E.jsx(wn,{className:"richtext-size-4",name:"Copy"})}),E.jsx("div",{className:"toolbar-divider"}),E.jsx("div",{onClick:l,className:pr("richtext-flex richtext-size-7 richtext-cursor-pointer richtext-items-center richtext-justify-center richtext-rounded-sm hover:richtext-bg-[#5a5d5e4f]",{"richtext-bg-[#5a5d5e4f]":r==null?void 0:r.node.attrs.lineNumbers}),children:E.jsx(wn,{className:"richtext-size-4",name:"List"})}),E.jsx("div",{className:"toolbar-divider"}),E.jsx("div",{onClick:c,className:pr("richtext-flex richtext-size-7 richtext-cursor-pointer richtext-items-center richtext-justify-center richtext-rounded-sm hover:richtext-bg-[#5a5d5e4f]",{"richtext-bg-[#5a5d5e4f]":r==null?void 0:r.node.attrs.wordWrap}),children:E.jsx(wn,{className:"richtext-size-4",name:"WrapText"})}),E.jsx("div",{className:"toolbar-divider"}),E.jsx("div",{children:E.jsxs(Zq,{defaultValue:r.node.attrs.tabSize,disabled:!e,onValueChange:d=>{r.updateAttributes({tabSize:d})},children:[E.jsx(P9,{className:"richtext-h-7 richtext-w-[60px] richtext-border-none richtext-text-sm richtext-outline-none hover:richtext-bg-[#5a5d5e4f]",children:E.jsx(wn,{className:"richtext-size-4",name:"IndentIncrease"})}),E.jsx(I9,{className:"richtext-border-[#3a3f4b] richtext-bg-[#21252b] richtext-text-[#ccc]",onCloseAutoFocus:d=>d.preventDefault(),children:$G==null?void 0:$G.map(d=>E.jsx($9,{value:d,children:d},d))})]})}),E.jsx("div",{className:"toolbar-divider"}),E.jsx("div",{className:"richtext-flex richtext-size-7 richtext-cursor-pointer richtext-items-center richtext-justify-center richtext-rounded-sm hover:richtext-bg-[#5a5d5e4f]",onClick:i,children:E.jsx(wn,{className:"richtext-size-4",name:"Trash2"})})]})})})}const WXe=/^`{3}([a-z]+)?\s$/,VXe=/^~{3}([a-z]+)?\s$/,nfe=Un.create({name:"codeBlock",group:"block",atom:!0,content:"text*",addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),languages:[],button:({editor:e,t:n})=>({component:ZKe,componentProps:{action:()=>e.commands.setCodeBlock({}),isActive:()=>e.isActive("codeBlock")||!1,disabled:!1,icon:"Code2",tooltip:n("editor.codeblock.tooltip")}})}},addAttributes(){return{code:{default:"",parseHTML:r=>r.textContent||""},language:{default:"plaintext"},lineNumbers:{default:!0},wordWrap:{default:!1},tabSize:{default:2},shouldFocus:{default:!0,parseHTML:()=>!1,renderHTML:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full",getAttrs:r=>({code:r.textContent||""})},{tag:"pre code",preserveWhitespace:"full",getAttrs:r=>({code:r.textContent||""})}]},renderHTML({HTMLAttributes:r,node:e}){var n;const i=e.attrs.code||((n=e.content.firstChild)==null?void 0:n.text)||"";return["pre",en(this.options.HTMLAttributes,r),["code",{},i]]},addNodeView(){return Ps(HXe)},addCommands(){return{setCodeBlock:r=>({commands:e})=>e.insertContent({type:this.name,attrs:{...r,shouldFocus:!0}})}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.setCodeBlock({})}},addInputRules(){return[tD({find:WXe,type:this.type,getAttributes:r=>({language:r[1]})}),tD({find:VXe,type:this.type,getAttributes:r=>({language:r[1]})})]}}),qXe=Sn.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:r=>{var e;return(e=r.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:r=>r.color?{style:`color: ${r.color}`}:{}}}}]},addCommands(){return{setColor:r=>({chain:e})=>e().setMark("textStyle",{color:r}).run(),unsetColor:()=>({chain:r})=>r().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}});function GXe({fill:r}){return E.jsx("svg",{width:"18px",height:"18px",viewBox:"0 0 240 240",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:E.jsx("g",{stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",children:E.jsx("g",{transform:"translate(0.000000, 0.500000)",children:E.jsxs("g",{transform:"translate(39.000000, 17.353553)",children:[E.jsx("path",{d:"M11,201.146447 L167,201.146447 C173.075132,201.146447 178,206.071314 178,212.146447 C178,218.221579 173.075132,223.146447 167,223.146447 L11,223.146447 C4.92486775,223.146447 7.43989126e-16,218.221579 0,212.146447 C-7.43989126e-16,206.071314 4.92486775,201.146447 11,201.146447 Z",id:"",fill:r||"#DF2A3F",fillRule:"evenodd"}),E.jsx("path",{d:"M72.3425855,16.8295583 C75.799482,7.50883712 86.1577877,2.75526801 95.4785089,6.21216449 C100.284516,7.99463061 104.096358,11.7387855 105.968745,16.4968188 L106.112518,16.8745422 L159.385152,161.694068 C161.291848,166.877345 158.635655,172.624903 153.452378,174.531599 C148.358469,176.405421 142.719567,173.872338 140.716873,168.864661 L140.614848,168.598825 L89.211,28.86 L37.3759214,168.623816 C35.4885354,173.712715 29.8981043,176.351047 24.7909589,174.617647 L24.5226307,174.522368 C19.4337312,172.634982 16.7953993,167.044551 18.5287999,161.937406 L18.6240786,161.669077 L72.3425855,16.8295583 Z",id:"-21",fill:"currentColor",fillRule:"nonzero"}),E.jsx("path",{d:"M121,103.146447 C126.522847,103.146447 131,107.623599 131,113.146447 C131,118.575687 126.673329,122.994378 121.279905,123.142605 L121,123.146447 L55,123.146447 C49.4771525,123.146447 45,118.669294 45,113.146447 C45,107.717207 49.3266708,103.298515 54.7200952,103.150288 L55,103.146447 L121,103.146447 Z",id:"-22",fill:"currentColor",fillRule:"nonzero"})]})})})})}function KXe(r){const[e,n]=P.useState(void 0);function i(s){var l;(l=r.action)==null||l.call(r,s)}function o(){var s;(s=r.action)==null||s.call(r,e)}const a=P.useCallback(xv(s=>{n(s)},350),[]);return E.jsxs("div",{className:"richtext-flex richtext-items-center richtext-h-[32px]",children:[E.jsx(ft,{tooltip:r==null?void 0:r.tooltip,disabled:r==null?void 0:r.disabled,action:o,children:E.jsx("span",{className:"richtext-flex richtext-items-center richtext-justify-center richtext-text-sm",children:E.jsx(GXe,{fill:e||r.initialDisplayedColor})})}),E.jsx(Hle,{selectedColor:e,setSelectedColor:a,onChange:i,disabled:r==null?void 0:r.disabled,colors:r==null?void 0:r.colors,defaultColor:r==null?void 0:r.defaultColor,children:E.jsx(Nn,{variant:"ghost",size:"icon",className:"r!ichtext-h-[32px] !richtext-w-3",disabled:r==null?void 0:r.disabled,children:E.jsx(wn,{className:"!richtext-w-3 !richtext-h-3 richtext-text-zinc-500",name:"MenuDown"})})})]})}const XXe=qXe.extend({addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),button({editor:e,t:n,extension:i}){return{component:KXe,componentProps:{colors:i.options.colors,defaultColor:i.options.defaultColor,action:o=>{o===void 0&&e.chain().focus().unsetColor().run(),typeof o=="string"&&e.chain().focus().setColor(o).run()},isActive:()=>{const{color:o}=e.getAttributes("textStyle");return o&&e.isActive({color:o})||!1},editor:e,disabled:!1,tooltip:n("editor.color.tooltip")}}}}}});function YXe(r){var e;const{char:n,allowSpaces:i,allowToIncludeChar:o,allowedPrefixes:a,startOfLine:s,$position:l}=r,c=i&&!o,u=CSe(n),d=new RegExp(`\\s${u}$`),h=s?"^":"",f=o?"":u,m=c?new RegExp(`${h}${u}.*?(?=\\s${f}|$)`,"gm"):new RegExp(`${h}(?:^)?${u}[^\\s${f}]*`,"gm"),b=((e=l.nodeBefore)===null||e===void 0?void 0:e.isText)&&l.nodeBefore.text;if(!b)return null;const g=l.pos-b.length,v=Array.from(b.matchAll(m)).pop();if(!v||v.input===void 0||v.index===void 0)return null;const x=v.input.slice(Math.max(0,v.index-1),v.index),w=new RegExp(`^[${a==null?void 0:a.join("")}\0]?$`).test(x);if(a!==null&&!w)return null;const k=g+v.index;let T=k+v[0].length;return c&&d.test(b.slice(T-1,T+1))&&(v[0]+=" ",T+=1),k<l.pos&&T>=l.pos?{range:{from:k,to:T},query:v[0].slice(n.length),text:v[0]}:null}const ZXe=new Ln("suggestion");function sP({pluginKey:r=ZXe,editor:e,char:n="@",allowSpaces:i=!1,allowToIncludeChar:o=!1,allowedPrefixes:a=[" "],startOfLine:s=!1,decorationTag:l="span",decorationClass:c="suggestion",command:u=()=>null,items:d=()=>[],render:h=()=>({}),allow:f=()=>!0,findSuggestionMatch:m=YXe}){let b;const g=h==null?void 0:h(),v=new $n({key:r,view(){return{update:async(x,w)=>{var k,T,_,D,I,L,O;const W=(k=this.key)===null||k===void 0?void 0:k.getState(w),Z=(T=this.key)===null||T===void 0?void 0:T.getState(x.state),$=W.active&&Z.active&&W.range.from!==Z.range.from,F=!W.active&&Z.active,A=W.active&&!Z.active,Q=!F&&!A&&W.query!==Z.query,H=F||$&&Q,G=Q||$,ne=A||$&&Q;if(!H&&!G&&!ne)return;const J=ne&&!H?W:Z,ee=x.dom.querySelector(`[data-decoration-id="${J.decorationId}"]`);b={editor:e,range:J.range,query:J.query,text:J.text,items:[],command:X=>u({editor:e,range:J.range,props:X}),decorationNode:ee,clientRect:ee?()=>{var X;const{decorationId:j}=(X=this.key)===null||X===void 0?void 0:X.getState(e.state),ae=x.dom.querySelector(`[data-decoration-id="${j}"]`);return(ae==null?void 0:ae.getBoundingClientRect())||null}:null},H&&((_=g==null?void 0:g.onBeforeStart)===null||_===void 0||_.call(g,b)),G&&((D=g==null?void 0:g.onBeforeUpdate)===null||D===void 0||D.call(g,b)),(G||H)&&(b.items=await d({editor:e,query:J.query})),ne&&((I=g==null?void 0:g.onExit)===null||I===void 0||I.call(g,b)),G&&((L=g==null?void 0:g.onUpdate)===null||L===void 0||L.call(g,b)),H&&((O=g==null?void 0:g.onStart)===null||O===void 0||O.call(g,b))},destroy:()=>{var x;b&&((x=g==null?void 0:g.onExit)===null||x===void 0||x.call(g,b))}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply(x,w,k,T){const{isEditable:_}=e,{composing:D}=e.view,{selection:I}=x,{empty:L,from:O}=I,W={...w};if(W.composing=D,_&&(L||e.view.composing)){(O<w.range.from||O>w.range.to)&&!D&&!w.composing&&(W.active=!1);const Z=m({char:n,allowSpaces:i,allowToIncludeChar:o,allowedPrefixes:a,startOfLine:s,$position:I.$from}),$=`id_${Math.floor(Math.random()*4294967295)}`;Z&&f({editor:e,state:T,range:Z.range,isActive:w.active})?(W.active=!0,W.decorationId=w.decorationId?w.decorationId:$,W.range=Z.range,W.query=Z.query,W.text=Z.text):W.active=!1}else W.active=!1;return W.active||(W.decorationId=null,W.range={from:0,to:0},W.query=null,W.text=null),W}},props:{handleKeyDown(x,w){var k;const{active:T,range:_}=v.getState(x.state);return T&&((k=g==null?void 0:g.onKeyDown)===null||k===void 0?void 0:k.call(g,{view:x,event:w,range:_}))||!1},decorations(x){const{active:w,range:k,decorationId:T}=v.getState(x);return w?Cr.create(x.doc,[hi.inline(k.from,k.to,{nodeName:l,class:c,"data-decoration-id":T})]):null}}});return v}var JXe=Object.defineProperty,QXe=(r,e)=>{for(var n in e)JXe(r,n,{get:e[n],enumerable:!0})},gd={};QXe(gd,{ActiveEmoji:()=>Efe,Empty:()=>Tfe,List:()=>wfe,Loading:()=>kfe,Root:()=>pfe,Search:()=>mfe,SkinTone:()=>Cfe,SkinToneSelector:()=>Sfe,Viewport:()=>gfe});var rfe="'Apple Color Emoji', 'Noto Color Emoji', 'Twemoji Mozilla', 'Android Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', EmojiSymbols, sans-serif",lP=["none","light","medium-light","medium","medium-dark","dark"];function y7(r){return r.charAt(0).toUpperCase()+r.slice(1)}var fs=2,Ii=null;function zG(r){try{Ii??(Ii=document.createElement("canvas").getContext("2d",{willReadFrequently:!0}))}catch{}if(!Ii||(queueMicrotask(()=>{Ii&&(Ii=null)}),Ii.canvas.width=fs,Ii.canvas.height=fs,Ii.font=`2px ${rfe}`,Ii.textBaseline="middle",Ii.measureText(r).width>=fs*2))return!1;Ii.fillStyle="#00f",Ii.fillText(r,0,0);let e=Ii.getImageData(0,0,fs,fs).data;Ii.clearRect(0,0,fs,fs),Ii.fillStyle="#f00",Ii.fillText(r,0,0);let n=Ii.getImageData(0,0,fs,fs).data;for(let i=0;i<fs*fs*4;i+=4)if(e[i]!==n[i]||e[i+1]!==n[i+1]||e[i+2]!==n[i+2])return!1;return!0}function LG(r,e,n){try{let i=r.getItem(e);if(!i)throw new Error(`No value found for "${e}".`);let o=JSON.parse(i);return n(o)}catch{return null}}function ife(r,e,n){r.setItem(e,JSON.stringify(n))}function UG(r){return e=>e===void 0?void 0:r(e)}function BG(r){return e=>e===null?null:r(e)}function vi(r){if(typeof r!="string")throw new Error;return r}function v4(r){if(typeof r!="number")throw new Error;return r}function ofe(r){if(typeof r!="boolean")throw new Error;return r}function Qu(r){return e=>{if(typeof e!="object"||e===null)throw new Error;let n={};for(let i in r){let o=e[i];o===void 0&&r[i](void 0),n[i]=r[i](o)}return n}}function b7(r){return e=>{if(!Array.isArray(e))throw new Error;return e.length>0&&r(e[0]),e}}var eYe="latest",afe=`https://cdn.jsdelivr.net/npm/emojibase-data@${eYe}`,sfe=r=>`${afe}/${r}/data.json`,lfe=r=>`${afe}/${r}/messages.json`,tYe=["bn","da","de","en-gb","en","es-mx","es","et","fi","fr","hi","hu","it","ja","ko","lt","ms","nb","nl","pl","pt","ru","sv","th","uk","vi","zh-hant","zh"],jG="en",cfe=r=>`frimousse/data/${r}`,FG="frimousse/metadata";async function HG(r,e){try{return(await fetch(r,{method:"HEAD",signal:e})).headers.get("etag")}catch{return null}}async function nYe(r,e){let[{emojis:n,emojisEtag:i},{messages:o,messagesEtag:a}]=await Promise.all([fetch(sfe(r),{signal:e}).then(async s=>({emojis:await s.json(),emojisEtag:s.headers.get("etag")})),fetch(lfe(r),{signal:e}).then(async s=>({messages:await s.json(),messagesEtag:s.headers.get("etag")}))]);return{emojis:n,messages:o,emojisEtag:i,messagesEtag:a}}async function rYe(r,e){let[n,i]=await Promise.all([HG(sfe(r),e),HG(lfe(r),e)]);return{emojisEtag:n,messagesEtag:i}}function iYe(r){return r.skins?r.skins.filter(e=>typeof e.tone=="number").reduce((e,n)=>{let i=lP[n.tone];return e[i]=n.emoji,e},{}):void 0}async function WG(r,e){let{emojis:n,emojisEtag:i,messages:o,messagesEtag:a}=await nYe(r,e),s=o.subgroups.find(m=>m.key==="country-flag"||m.key==="subdivision-flag"),l=o.groups.filter(m=>m.key!=="component"),c=n.filter(m=>"group"in m),u=l.map(m=>({index:m.order,label:y7(m.message)})),d=o.skinTones.reduce((m,b)=>(m[b.key]=y7(b.message),m),{}),h=c.map(m=>({emoji:m.emoji,category:m.group,version:m.version,label:y7(m.label),tags:m.tags??[],countryFlag:s&&m.subgroup===s.order||void 0,skins:iYe(m)})),f={locale:r,emojis:h,categories:u,skinTones:d};return ife(localStorage,cfe(r),{data:f,metadata:{emojisEtag:i,messagesEtag:a}}),f}function oYe(r){let e=new Map;for(let a of r)e.has(a.version)||e.set(a.version,a.emoji);let n=[...e.keys()].sort((a,s)=>s-a),i=n[0]??0,o=zG("");for(let a of n){let s=e.get(a);if(zG(s))return{emojiVersion:a,countryFlags:o}}return{emojiVersion:i,countryFlags:o}}var aYe=Qu({emojiVersion:v4,countryFlags:ofe}),sYe=Qu({data:Qu({locale:vi,emojis:b7(Qu({emoji:vi,category:v4,label:vi,version:v4,tags:b7(vi),countryFlag:UG(ofe),skins:UG(Qu({light:vi,"medium-light":vi,medium:vi,"medium-dark":vi,dark:vi}))})),categories:b7(Qu({index:v4,label:vi})),skinTones:Qu({light:vi,"medium-light":vi,medium:vi,"medium-dark":vi,dark:vi})}),metadata:Qu({emojisEtag:BG(vi),messagesEtag:BG(vi)})});async function lYe(r,e=Number.POSITIVE_INFINITY,n){let i=LG(sessionStorage,FG,aYe),o=LG(localStorage,cfe(r),sYe),a;if(!o)a=await WG(r,n);else if(i)a=o.data;else try{let{emojisEtag:l,messagesEtag:c}=await rYe(r,n);a=!l||!c||l!==o.metadata.emojisEtag||c!==o.metadata.messagesEtag?await WG(r,n):o.data}catch{a=o.data}i??(i=oYe(a.emojis)),ife(sessionStorage,FG,i);let s=a.emojis.filter(l=>{let c=l.version<=i.emojiVersion&&l.version<=e;return l.countryFlag?c&&i.countryFlags:c});return{locale:r,emojis:s,categories:a.categories,skinTones:a.skinTones}}function VG(r){return tYe.includes(r)?r:(console.warn(`Locale "${r}" is not supported, using "${jG}" instead.`),jG)}function qG(r){return lP.includes(r)?r:(console.warn(`Skin tone "${r}" is not valid, using "none" instead.`),"none")}function cYe(r,e){let n=[];if(e<=0)return n;for(let i=0,o=r.length;i<o;i+=e)n.push(r.slice(i,i+e));return n}function uYe(r,e){if(!e)return r;let n=e.toLowerCase().trim(),i=new WeakMap;return r.filter(o=>{let a=0;o.label.toLowerCase().includes(n)&&(a+=10);for(let s of o.tags)s.toLowerCase().includes(n)&&(a+=1);return a>0?(i.set(o,a),!0):!1}).sort((o,a)=>(i.get(a)??0)-(i.get(o)??0))}function dYe(r,e,n,i){let o=uYe(r.emojis,i),a=[],s=[],l=[],c={},u=0,d=0;for(let h of o)c[h.category]||(c[h.category]=[]),c[h.category].push({emoji:n&&n!=="none"&&h.skins?h.skins[n]:h.emoji,label:h.label});for(let h of r.categories){let f=c[h.index];if(!f||f.length===0)continue;let m=cYe(Array.from(f),e).map(b=>({categoryIndex:u,emojis:b}));a.push(...m),s.push({label:h.label,rowsCount:m.length,startRowIndex:d}),l.push(d),u++,d+=m.length}return{count:o.length,categories:s,categoriesStartRowIndices:l,rows:a,skinTones:r.skinTones}}function hYe(r){let e={},n=null,i=null,o=new Set,a=()=>{if(n){e=n,n=null;for(let u of o)u(e)}i=null},s=()=>n??e,l=u=>{n??(n=e),Object.assign(n,typeof u=="function"?u(s()):u),i||(i=requestAnimationFrame(a))},c=u=>(o.add(u),()=>o.delete(u));return e=r(l,s),{get:s,set:l,subscribe:c}}function fYe(r){let[e]=P.useState(r);return e}function pYe(r){let e=P.createContext(null);return{useStore:()=>{let n=P.useContext(e);if(!n)throw new Error(r);return n},Provider:({store:n,children:i})=>E.jsx(e.Provider,{value:n,children:i})}}function ya(r,e,n=Object.is){let[i,o]=P.useState(()=>e(r.get()));return P.useEffect(()=>r.subscribe(()=>{let a=e(r.get());o(s=>n(s,a)?s:a)}),[r,e,n]),P.useDebugValue(i),i}function Ec(r,e,n){let i=P.useCallback(o=>o[e],[e]);return ya(r,i,n)}var GG=2;function mYe(r,e,n,i){let o=0;return hYe((a,s)=>({locale:e,columns:n,skinTone:i,onEmojiSelect:r,data:null,search:"",interaction:"none",activeColumnIndex:0,activeRowIndex:0,rowHeight:null,categoryHeaderHeight:null,viewportWidth:null,viewportHeight:null,viewportCurrentCategoryIndex:null,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0,rootRef:null,searchRef:null,viewportRef:null,listRef:null,updateViewportState:l=>{var I;let c=s(),u=(l==null?void 0:l.data)??c.data,d=(l==null?void 0:l.categoryHeaderHeight)??c.categoryHeaderHeight,h=(l==null?void 0:l.rowHeight)??c.rowHeight,f=(l==null?void 0:l.viewportHeight)??c.viewportHeight;if(!u||u.rows.length===0||!d||!h||!f)return a({...l,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0});let m=0,b=0;for(let L of u.categories)if(b++*d+L.startRowIndex*h<o)m+=d;else break;let g=u.categories.length*d+u.rows.length*h,v=Math.floor(GG*h/2),x=Math.ceil(GG*h/2),w=Math.min(o-m-v,g-f),k=w+f+x,T=Math.max(0,Math.floor(w/h)),_=Math.min(u.rows.length-1,Math.ceil(k/h)),D=(I=u.rows[T])==null?void 0:I.categoryIndex;return a(D===void 0&&l?l:{...l,viewportStartCategoryIndex:D,viewportStartRowIndex:T,viewportEndRowIndex:_})},onDataChange:l=>{s().updateViewportState({data:l,activeColumnIndex:0,activeRowIndex:0})},onSearchChange:l=>{a({search:l,interaction:l?"keyboard":"none"})},onActiveEmojiChange:(l,c,u)=>{if(a({interaction:l,activeColumnIndex:c,activeRowIndex:u}),l!=="keyboard")return;let{listRef:d,viewportRef:h,rowHeight:f,viewportHeight:m,categoryHeaderHeight:b}=s(),g=d==null?void 0:d.current,v=h==null?void 0:h.current;if(!g||!v||!f||!b||!m)return;let x=u;x===0&&v.scrollTo({top:0,behavior:"instant"});let w=g.querySelector(`[aria-rowindex="${x}"]`);if(!(w instanceof HTMLElement))return;let k=w.offsetTop,T=getComputedStyle(w),_=Number.parseFloat(T.scrollMarginTop),D=Number.parseFloat(T.scrollMarginBottom),I=o+_;k<o+m/2&&(I+=b);let L=I+m-D;(k<I||k+f>L)&&v.scrollTo({top:Math.max(k<I+b?k-Math.max(b,_):k-m+f+D,0),behavior:"instant"})},onActiveEmojiReset:()=>{a({interaction:"none",activeColumnIndex:0,activeRowIndex:0})},onRowHeightChange:l=>{s().updateViewportState({rowHeight:l})},onCategoryHeaderHeightChange:l=>{s().updateViewportState({categoryHeaderHeight:l})},onViewportSizeChange:(l,c)=>{s().updateViewportState({viewportWidth:l,viewportHeight:c})},onViewportScroll:l=>{o=l,s().updateViewportState()}}))}var{useStore:Bo,Provider:gYe}=pYe("EmojiPicker.Root is missing.");function yYe(r){return r.search}function cP(r){var e,n;return r.interaction==="none"||(n=(e=r.data)==null?void 0:e.rows[r.activeRowIndex])==null?void 0:n.emojis[r.activeColumnIndex]}function bYe(r){var e;return r.data===void 0||typeof((e=r.data)==null?void 0:e.count)=="number"&&r.data.count===0}function vYe(r){return r.data===null||r.viewportHeight===null||r.rowHeight===null||r.categoryHeaderHeight===null}function ufe(r){var e;return(e=r.data)==null?void 0:e.rows.length}function xYe(r){var e;return(e=r.data)==null?void 0:e.categories.length}function wYe(r){var e;return(e=r.data)==null?void 0:e.categoriesStartRowIndices}function SYe(r){var e;return(e=r.data)==null?void 0:e.skinTones}function dfe(r,e){return(r==null?void 0:r.emoji)===(e==null?void 0:e.emoji)}function kYe(r,e){return(r==null?void 0:r.categoryIndex)!==(e==null?void 0:e.categoryIndex)||(r==null?void 0:r.emojis.length)!==(e==null?void 0:e.emojis.length)?!1:!!(r!=null&&r.emojis.every((n,i)=>dfe(n,e==null?void 0:e.emojis[i])))}var U1="",KG=new RegExp("\\p{Emoji_Modifier_Base}","u"),TYe=/\uFE0F$/,EYe=/\u{1F3FB}|\u{1F3FC}|\u{1F3FD}|\u{1F3FE}|\u{1F3FF}/gu,CYe={light:"","medium-light":"",medium:"","medium-dark":"",dark:""};function _Ye(r,e){if(!r.split(U1).some(i=>KG.test(i)))return r;let n=r.split(U1).map(i=>i.replace(EYe,"")).join(U1);return e==="none"?n:n.split(U1).map((i,o,a)=>{let s=a.length>1;return!KG.test(i)||s&&i===""?i:i.replace(TYe,"")+CYe[e]}).join(U1)}function AYe(r){return lP.map(e=>({skinTone:e,emoji:_Ye(r,e)}))}function hfe(){let r=Bo(),e=ya(r,cP,dfe);return P.useDeferredValue(e)}function ffe(r=""){let e=Bo(),n=Ec(e,"skinTone"),i=P.useMemo(()=>AYe(r),[r]),o=P.useCallback(a=>{e.set({skinTone:a})},[]);return[n,o,i]}function uP(r,e){if(Object.is(r,e))return!0;if(typeof r!="object"||typeof e!="object"||r===null||e===null||Array.isArray(r)!==Array.isArray(e))return!1;let n=Object.keys(r),i=Object.keys(e);return n.length!==i.length?!1:n.every(o=>o in e&&r[o]===e[o])}function DYe(...r){}function MYe(r,e){let n=null;if(typeof window.requestIdleCallback=="function")n=window.requestIdleCallback(r,e);else{let i=Date.now();n=window.setTimeout(()=>{r({didTimeout:!1,timeRemaining:()=>Math.max(0,(e==null?void 0:e.timeout)-(Date.now()-i))})},10)}return()=>{typeof window.cancelIdleCallback=="function"?window.cancelIdleCallback(n):window.clearTimeout(n)}}var sl=typeof window<"u"?P.useLayoutEffect:P.useEffect;function RYe(r){let e=P.useRef(r);return sl(()=>{e.current=r}),P.useCallback((...n)=>e.current(...n),[])}function NYe({emojiVersion:r}){let[e,n]=P.useState(void 0),i=Bo(),o=Ec(i,"locale"),a=Ec(i,"columns"),s=Ec(i,"skinTone"),l=Ec(i,"search");return P.useEffect(()=>{let c=new AbortController,u=c.signal;return lYe(o,r,u).then(d=>{n(d)}).catch(d=>{u.aborted||console.error(d)}),()=>{c.abort()}},[r,o]),P.useEffect(()=>{if(e)return MYe(()=>{i.get().onDataChange(dYe(e,a,s,l))},{timeout:100})},[e,a,s,l]),null}var pfe=P.forwardRef(({locale:r="en",columns:e=9,skinTone:n="none",onEmojiSelect:i=DYe,emojiVersion:o,onFocusCapture:a,onBlurCapture:s,children:l,style:c,...u},d)=>{let h=RYe(i),f=fYe(()=>mYe(h,VG(r),e,qG(n))),[m,b]=P.useState(!1),g=P.useRef(null),v=P.useCallback(k=>{k&&(g.current=k,f.set({rootRef:g}))},[]);sl(()=>{f.set({locale:VG(r)})},[r]),sl(()=>{f.set({columns:e})},[e]),sl(()=>{f.set({skinTone:qG(n)})},[n]);let x=P.useCallback(k=>{a==null||a(k);let{searchRef:T,viewportRef:_}=f.get(),D=k.target===(T==null?void 0:T.current)||k.target.hasAttribute("frimousse-search"),I=k.target===(_==null?void 0:_.current)||k.target.hasAttribute("frimousse-viewport");k.isDefaultPrevented()||(b(D||I),k.isDefaultPrevented()||(b(D||I),I?f.get().onActiveEmojiChange("keyboard",0,0):D&&f.get().search===""&&f.set({interaction:"none"})))},[a]),w=P.useCallback(k=>{s==null||s(k),!k.isDefaultPrevented()&&!k.currentTarget.contains(k.relatedTarget)&&b(!1)},[s]);return sl(()=>{m||f.get().onActiveEmojiReset()},[m]),P.useImperativeHandle(d,()=>g.current),P.useEffect(()=>{if(!m)return;function k(T){if(T.defaultPrevented||!T.key.startsWith("Arrow")&&T.key!=="Enter")return;let{data:_,onEmojiSelect:D,onActiveEmojiChange:I,interaction:L,activeColumnIndex:O,activeRowIndex:W}=f.get();if(T.key==="Enter"){let Z=cP(f.get());Z&&(T.preventDefault(),D(Z))}if(T.key.startsWith("Arrow")){let Z=O,$=W;if(T.preventDefault(),L!=="none"){if(_!=null&&_.rows&&_.rows.length>0)switch(T.key){case"ArrowLeft":{if(Z===0){let F=$-1,A=_.rows[F];A&&($=F,Z=A.emojis.length-1)}else Z-=1;break}case"ArrowRight":{if(Z===_.rows[$].emojis.length-1){let F=$+1;_.rows[F]&&($=F,Z=0)}else Z+=1;break}case"ArrowUp":{let F=_.rows[$-1];F&&($-=1,F.emojis[Z]||(Z=F.emojis.length-1));break}case"ArrowDown":{let F=_.rows[$+1];F&&($+=1,F.emojis[Z]||(Z=F.emojis.length-1));break}}I("keyboard",Z,$)}else I("keyboard",0,0)}}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[m]),sl(()=>{let k=null,T=null,_=null,D=null,I=f.subscribe($=>{g.current&&(k!==$.viewportWidth&&(k=$.viewportWidth,g.current.style.setProperty("--frimousse-viewport-width",`${$.viewportWidth}px`)),T!==$.viewportHeight&&(T=$.viewportHeight,g.current.style.setProperty("--frimousse-viewport-height",`${$.viewportHeight}px`)),_!==$.rowHeight&&(_=$.rowHeight,g.current.style.setProperty("--frimousse-row-height",`${$.rowHeight}px`)),D!==$.categoryHeaderHeight&&(D=$.categoryHeaderHeight,g.current.style.setProperty("--frimousse-category-header-height",`${$.categoryHeaderHeight}px`)))}),{viewportWidth:L,viewportHeight:O,rowHeight:W,categoryHeaderHeight:Z}=f.get();return L&&g.current.style.setProperty("--frimousse-viewport-width",`${L}px`),O&&g.current.style.setProperty("--frimousse-viewport-height",`${O}px`),W&&g.current.style.setProperty("--frimousse-row-height",`${W}px`),Z&&g.current.style.setProperty("--frimousse-category-header-height",`${Z}px`),I},[]),E.jsx("div",{"data-focused":m?"":void 0,"frimousse-root":"",onBlurCapture:w,onFocusCapture:x,...u,ref:v,style:{"--frimousse-emoji-font":rfe,...c},children:E.jsxs(gYe,{store:f,children:[E.jsx(NYe,{emojiVersion:o}),l]})})}),mfe=P.forwardRef(({value:r,defaultValue:e,onChange:n,...i},o)=>{let a=Bo(),s=P.useRef(null),l=P.useCallback(h=>{h&&(s.current=h,a.set({searchRef:s}))},[]),c=typeof r=="string",u=P.useRef(c);P.useEffect(()=>{u.current=c},[c]),sl(()=>{a.set({search:typeof r=="string"?r:typeof e=="string"?e:""})},[]),sl(()=>{typeof r=="string"&&a.get().onSearchChange(r)},[r]);let d=P.useCallback(h=>{n==null||n(h),h.isDefaultPrevented()||a.get().onSearchChange(h.target.value)},[n]);return P.useImperativeHandle(o,()=>s.current),E.jsx("input",{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",enterKeyHint:"done","frimousse-search":"",placeholder:"Search",spellCheck:!1,type:"search",...i,defaultValue:e,onChange:d,ref:l,value:r})}),OYe=P.memo(()=>{let r=hfe();return r?E.jsx("div",{"aria-live":"polite",style:{border:0,clip:"rect(0, 0, 0, 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:1,wordWrap:"normal"},children:r.label}):null}),gfe=P.forwardRef(({children:r,onScroll:e,onKeyDown:n,style:i,...o},a)=>{let s=Bo(),l=P.useRef(null),c=P.useCallback(f=>{f&&(l.current=f,s.set({viewportRef:l}))},[]),u=ya(s,ufe),d=ya(s,xYe),h=P.useCallback(f=>{e==null||e(f),s.get().onViewportScroll(f.currentTarget.scrollTop)},[e]);return sl(()=>{if(!l.current)return;let f=new ResizeObserver(([m])=>{var k,T;let b=((k=m==null?void 0:m.borderBoxSize[0])==null?void 0:k.inlineSize)??0,g=((T=m==null?void 0:m.borderBoxSize[0])==null?void 0:T.blockSize)??0,{onViewportSizeChange:v,viewportHeight:x,viewportWidth:w}=s.get();(x!==g||w!==b)&&v(b,g)});return f.observe(l.current),s.get().onViewportSizeChange(l.current.offsetWidth,l.current.clientHeight),()=>{f.disconnect()}},[]),P.useImperativeHandle(a,()=>l.current),E.jsxs("div",{"frimousse-viewport":"",...o,onScroll:h,ref:c,style:{position:"relative",boxSizing:"border-box",contain:"layout paint",containIntrinsicSize:typeof u=="number"&&typeof d=="number"?`var(--frimousse-viewport-width, auto) calc(${u} * var(--frimousse-row-height) + ${d} * var(--frimousse-category-header-height))`:void 0,overflowY:"auto",overscrollBehavior:"contain",scrollbarGutter:"stable",willChange:"scroll-position",...i},children:[E.jsx(OYe,{}),r]})});function yfe(r,e,n){return{emoji:{...r,isActive:n},role:"gridcell","aria-colindex":e,"aria-selected":n||void 0,"aria-label":r.label,"data-active":n?"":void 0,"frimousse-emoji":"",style:{fontFamily:"var(--frimousse-emoji-font)"},tabIndex:-1}}function bfe(r,e=!1){return{role:e?void 0:"row","aria-rowindex":e?void 0:r,"frimousse-row":"",style:{contain:e?void 0:"content",height:e?void 0:"var(--frimousse-row-height)",display:"flex"}}}function vfe(r,e){return{"frimousse-category":"",style:{contain:"content",top:e?`calc(${r} * var(--frimousse-category-header-height) + ${e.startRowIndex} * var(--frimousse-row-height))`:void 0,height:e?`calc(var(--frimousse-category-header-height) + ${e.rowsCount} * var(--frimousse-row-height))`:void 0,width:"100%",pointerEvents:"none",position:"absolute"}}}function xfe(r,e=!1){return{category:r,"frimousse-category-header":"",style:{contain:e?void 0:"layout paint",height:e?void 0:"var(--frimousse-category-header-height)",pointerEvents:"auto",position:"sticky",top:0}}}function XG(r,e,n,i){return{"frimousse-list-sizer":"",style:{position:"relative",boxSizing:"border-box",height:`calc(${r} * var(--frimousse-row-height) + ${e} * var(--frimousse-category-header-height))`,paddingTop:`calc(${n} * var(--frimousse-row-height) + ${i} * var(--frimousse-category-header-height))`}}}function YG(r,e,n){return{"aria-colcount":r,"aria-rowcount":e,"frimousse-list":"",style:{"--frimousse-list-columns":r,...n},role:"grid"}}function PYe(r){r.preventDefault()}var IYe=P.memo(({Emoji:r,emoji:e,columnIndex:n,rowIndex:i})=>{let o=Bo(),a=ya(o,u=>{var d;return((d=cP(u))==null?void 0:d.emoji)===e.emoji}),s=P.useCallback(()=>{o.get().onEmojiSelect(e)},[e]),l=P.useCallback(()=>{o.get().onActiveEmojiChange("pointer",n,i)},[n,i]),c=P.useCallback(()=>{o.get().onActiveEmojiReset()},[]);return E.jsx(r,{...yfe(e,n,a),onClick:s,onPointerDown:PYe,onPointerEnter:l,onPointerLeave:c})}),$Ye=P.memo(({Row:r,Emoji:e,rowIndex:n})=>{let i=Bo(),o=ya(i,a=>{var s;return(s=a.data)==null?void 0:s.rows[n]},kYe);return o?E.jsx(r,{...bfe(n),children:o.emojis.map((a,s)=>E.jsx(IYe,{Emoji:e,columnIndex:s,emoji:a,rowIndex:n},a.label))}):null}),zYe=P.memo(({CategoryHeader:r,categoryIndex:e})=>{let n=Bo(),i=ya(n,o=>{var a;return(a=o.data)==null?void 0:a.categories[e]},uP);return i?E.jsx("div",{...vfe(e,i),children:E.jsx(r,{...xfe({label:i.label})})}):null}),ZG=P.memo(({CategoryHeader:r,Row:e,Emoji:n})=>{let i=P.useRef(null),o=Bo(),a=Ec(o,"columns"),s=P.useMemo(()=>Array(a).fill({emoji:"",label:""}),[a]),l=P.useMemo(()=>({label:"Category"}),[]),c=P.useRef(null),u=P.useRef(null);return sl(()=>{var b,g;let d=(g=(b=i.current)==null?void 0:b.parentElement)==null?void 0:g.parentElement;if(!d||!c.current||!u.current)return;let h=new ResizeObserver(v=>{for(let x of v){let w=x.contentRect.height,{onRowHeightChange:k,onCategoryHeaderHeightChange:T,rowHeight:_,categoryHeaderHeight:D}=o.get();x.target===c.current&&_!==w&&k(w),x.target===u.current&&D!==w&&T(w)}});h.observe(d),h.observe(c.current),h.observe(u.current);let{onRowHeightChange:f,onCategoryHeaderHeightChange:m}=o.get();return f(c.current.clientHeight),m(u.current.clientHeight),()=>{h.disconnect()}},[]),E.jsxs("div",{"aria-hidden":!0,ref:i,style:{height:0,visibility:"hidden"},children:[E.jsx("div",{"frimousse-row-sizer":"",ref:c,children:E.jsx(e,{...bfe(-1,!0),children:s.map((d,h)=>E.jsx(n,{...yfe(d,h,!1)},h))})}),E.jsx("div",{...vfe(-1),children:E.jsx("div",{"frimousse-category-header-sizer":"",ref:u,children:E.jsx(r,{...xfe(l,!0)})})})]})});function LYe({category:r,...e}){return E.jsx("div",{...e,children:r.label})}function UYe({emoji:r,...e}){return E.jsx("button",{type:"button",...e,children:r.emoji})}function BYe({...r}){return E.jsx("div",{...r})}var wfe=P.forwardRef(({style:r,components:e,...n},i)=>{let o=Bo(),a=P.useRef(null),s=P.useCallback(x=>{x&&(a.current=x,o.set({listRef:a}))},[]),l=(e==null?void 0:e.CategoryHeader)??LYe,c=(e==null?void 0:e.Emoji)??UYe,u=(e==null?void 0:e.Row)??BYe,d=Ec(o,"columns"),h=Ec(o,"viewportStartRowIndex"),f=Ec(o,"viewportEndRowIndex"),m=ya(o,ufe),b=ya(o,wYe,uP),g=P.useMemo(()=>(b==null?void 0:b.filter(x=>x<h).length)??0,[b,h]),v=(b==null?void 0:b.length)??0;return P.useImperativeHandle(i,()=>a.current),!m||!b||v===0?E.jsx("div",{...YG(d,0,r),...n,children:E.jsx("div",{...XG(0,0,0,0),children:E.jsx(ZG,{CategoryHeader:l,Emoji:c,Row:u})})}):E.jsx("div",{...YG(d,m,r),...n,ref:s,children:E.jsxs("div",{...XG(m,v,h,g),children:[E.jsx(ZG,{CategoryHeader:l,Emoji:c,Row:u}),Array.from({length:f-h+1},(x,w)=>{let k=h+w,T=b.indexOf(k);return E.jsxs(P.Fragment,{children:[T>=0&&E.jsx("div",{style:{height:"var(--frimousse-category-header-height)"}}),E.jsx($Ye,{Emoji:c,Row:u,rowIndex:k})]},k)}),Array.from({length:v},(x,w)=>E.jsx(zYe,{CategoryHeader:l,categoryIndex:w},w))]})})}),Sfe=P.forwardRef(({emoji:r,onClick:e,"aria-label":n="Change skin tone",...i},o)=>{let a=Bo(),s=ya(a,SYe,uP),[l,c,u]=ffe(r),d=P.useMemo(()=>Math.max(0,u.findIndex(v=>v.skinTone===l)),[l,u]),h=u[d],f=u[(d+1)%u.length].skinTone,m=l==="none"||s==null?void 0:s[l],b=f==="none"||s==null?void 0:s[f],g=P.useCallback(v=>{e==null||e(v),v.isDefaultPrevented()||c(f)},[e,c,f]);return E.jsx("button",{type:"button",...i,"aria-label":n+(b?` (${b})`:""),"aria-live":"polite","aria-valuetext":m,"frimousse-skin-tone-selector":"",onClick:g,ref:o,children:h.emoji})});function kfe({children:r,...e}){let n=Bo();return ya(n,vYe)?E.jsx("span",{"frimousse-loading":"",...e,children:r}):null}function jYe({children:r}){let e=Bo(),n=ya(e,yYe);return r({search:n})}function Tfe({children:r,...e}){let n=Bo();return ya(n,bYe)?E.jsx("span",{"frimousse-empty":"",...e,children:typeof r=="function"?E.jsx(jYe,{children:r}):r}):null}function Efe({children:r}){let e=hfe();return r({emoji:e})}function Cfe({children:r,emoji:e}){let[n,i,o]=ffe(e);return r({skinTone:n,setSkinTone:i,skinToneVariations:o})}pfe.displayName="EmojiPicker.Root";mfe.displayName="EmojiPicker.Search";gfe.displayName="EmojiPicker.Viewport";wfe.displayName="EmojiPicker.List";kfe.displayName="EmojiPicker.Loading";Tfe.displayName="EmojiPicker.Empty";Sfe.displayName="EmojiPicker.SkinToneSelector";Efe.displayName="EmojiPicker.ActiveEmoji";Cfe.displayName="EmojiPicker.SkinTone";const JG=r=>typeof r=="object"&&r!=null&&r.nodeType===1,QG=(r,e)=>(!e||r!=="hidden")&&r!=="visible"&&r!=="clip",r2=(r,e)=>{if(r.clientHeight<r.scrollHeight||r.clientWidth<r.scrollWidth){const n=getComputedStyle(r,null);return QG(n.overflowY,e)||QG(n.overflowX,e)||(i=>{const o=(a=>{if(!a.ownerDocument||!a.ownerDocument.defaultView)return null;try{return a.ownerDocument.defaultView.frameElement}catch{return null}})(i);return!!o&&(o.clientHeight<i.scrollHeight||o.clientWidth<i.scrollWidth)})(r)}return!1},i2=(r,e,n,i,o,a,s,l)=>a<r&&s>e||a>r&&s<e?0:a<=r&&l<=n||s>=e&&l>=n?a-r-i:s>e&&l<n||a<r&&l>n?s-e+o:0,FYe=r=>{const e=r.parentElement;return e??(r.getRootNode().host||null)},eK=(r,e)=>{var n,i,o,a;if(typeof document>"u")return[];const{scrollMode:s,block:l,inline:c,boundary:u,skipOverflowHiddenElements:d}=e,h=typeof u=="function"?u:H=>H!==u;if(!JG(r))throw new TypeError("Invalid target");const f=document.scrollingElement||document.documentElement,m=[];let b=r;for(;JG(b)&&h(b);){if(b=FYe(b),b===f){m.push(b);break}b!=null&&b===document.body&&r2(b)&&!r2(document.documentElement)||b!=null&&r2(b,d)&&m.push(b)}const g=(i=(n=window.visualViewport)==null?void 0:n.width)!=null?i:innerWidth,v=(a=(o=window.visualViewport)==null?void 0:o.height)!=null?a:innerHeight,{scrollX:x,scrollY:w}=window,{height:k,width:T,top:_,right:D,bottom:I,left:L}=r.getBoundingClientRect(),{top:O,right:W,bottom:Z,left:$}=(H=>{const G=window.getComputedStyle(H);return{top:parseFloat(G.scrollMarginTop)||0,right:parseFloat(G.scrollMarginRight)||0,bottom:parseFloat(G.scrollMarginBottom)||0,left:parseFloat(G.scrollMarginLeft)||0}})(r);let F=l==="start"||l==="nearest"?_-O:l==="end"?I+Z:_+k/2-O+Z,A=c==="center"?L+T/2-$+W:c==="end"?D+W:L-$;const Q=[];for(let H=0;H<m.length;H++){const G=m[H],{height:ne,width:J,top:ee,right:X,bottom:j,left:ae}=G.getBoundingClientRect();if(s==="if-needed"&&_>=0&&L>=0&&I<=v&&D<=g&&(G===f&&!r2(G)||_>=ee&&I<=j&&L>=ae&&D<=X))return Q;const re=getComputedStyle(G),de=parseInt(re.borderLeftWidth,10),me=parseInt(re.borderTopWidth,10),K=parseInt(re.borderRightWidth,10),q=parseInt(re.borderBottomWidth,10);let be=0,pe=0;const ie="offsetWidth"in G?G.offsetWidth-G.clientWidth-de-K:0,le="offsetHeight"in G?G.offsetHeight-G.clientHeight-me-q:0,Ee="offsetWidth"in G?G.offsetWidth===0?0:J/G.offsetWidth:0,M="offsetHeight"in G?G.offsetHeight===0?0:ne/G.offsetHeight:0;if(f===G)be=l==="start"?F:l==="end"?F-v:l==="nearest"?i2(w,w+v,v,me,q,w+F,w+F+k,k):F-v/2,pe=c==="start"?A:c==="center"?A-g/2:c==="end"?A-g:i2(x,x+g,g,de,K,x+A,x+A+T,T),be=Math.max(0,be+w),pe=Math.max(0,pe+x);else{be=l==="start"?F-ee-me:l==="end"?F-j+q+le:l==="nearest"?i2(ee,j,ne,me,q+le,F,F+k,k):F-(ee+ne/2)+le/2,pe=c==="start"?A-ae-de:c==="center"?A-(ae+J/2)+ie/2:c==="end"?A-X+K+ie:i2(ae,X,J,de,K+ie,A,A+T,T);const{scrollLeft:he,scrollTop:V}=G;be=M===0?0:Math.max(0,Math.min(V+be/M,G.scrollHeight-ne/M+le)),pe=Ee===0?0:Math.max(0,Math.min(he+pe/Ee,G.scrollWidth-J/Ee+ie)),F+=V-be,A+=he-pe}Q.push({el:G,top:be,left:pe})}return Q},HYe=r=>r===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(r)?r:{block:"start",inline:"nearest"};function dP(r,e){if(!r.isConnected||!(o=>{let a=o;for(;a&&a.parentNode;){if(a.parentNode===document)return!0;a=a.parentNode instanceof ShadowRoot?a.parentNode.host:a.parentNode}return!1})(r))return;const n=(o=>{const a=window.getComputedStyle(o);return{top:parseFloat(a.scrollMarginTop)||0,right:parseFloat(a.scrollMarginRight)||0,bottom:parseFloat(a.scrollMarginBottom)||0,left:parseFloat(a.scrollMarginLeft)||0}})(r);if((o=>typeof o=="object"&&typeof o.behavior=="function")(e))return e.behavior(eK(r,e));const i=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:o,top:a,left:s}of eK(r,HYe(e))){const l=a-n.top+n.bottom,c=s-n.left+n.right;o.scroll({top:l,left:c,behavior:i})}}function WYe({className:r,...e}){return E.jsx(gd.Root,{className:wt("richtext-bg-popover richtext-text-popover-foreground richtext-isolate richtext-flex richtext-h-full richtext-w-fit richtext-flex-col richtext-overflow-hidden richtext-rounded-md",r),"data-slot":"emoji-picker",...e})}function VYe({className:r,...e}){return E.jsxs("div",{className:wt("richtext-flex richtext-h-9 richtext-items-center richtext-gap-2 richtext-border-b richtext-px-3",r),"data-slot":"emoji-picker-search-wrapper",children:[E.jsx(J8e,{className:"richtext-size-4 richtext-shrink-0 richtext-opacity-50"}),E.jsx(gd.Search,{className:"richtext-outline-hidden placeholder:richtext-text-muted-foreground richtext-flex richtext-h-10 richtext-w-full richtext-rounded-md richtext-bg-transparent richtext-py-3 richtext-text-sm disabled:richtext-cursor-not-allowed disabled:richtext-opacity-50","data-slot":"emoji-picker-search",...e})]})}function qYe({children:r,...e}){return E.jsx("div",{...e,className:"richtext-scroll-my-1 richtext-px-1","data-slot":"emoji-picker-row",children:r})}function GYe({emoji:r,className:e,...n}){return E.jsx("button",{...n,className:wt("data-[active]:richtext-bg-accent richtext-flex richtext-size-7 richtext-items-center richtext-justify-center richtext-rounded-sm richtext-text-base",e),"data-slot":"emoji-picker-emoji",children:r.emoji})}function KYe({category:r,...e}){return E.jsx("div",{...e,className:"richtext-bg-popover richtext-text-muted-foreground richtext-px-3 richtext-pb-2 richtext-pt-3.5 richtext-text-xs richtext-leading-none","data-slot":"emoji-picker-category-header",children:r.label})}function XYe({className:r,...e}){return E.jsxs(gd.Viewport,{className:wt("richtext-outline-hidden richtext-relative richtext-flex-1",r),"data-slot":"emoji-picker-viewport",...e,children:[E.jsx(gd.Loading,{className:"richtext-absolute richtext-inset-0 richtext-flex richtext-items-center richtext-justify-center richtext-text-muted-foreground","data-slot":"emoji-picker-loading",children:E.jsx(j8e,{className:"richtext-size-4 richtext-animate-spin"})}),E.jsx(gd.Empty,{className:"richtext-absolute richtext-inset-0 richtext-flex richtext-items-center richtext-justify-center richtext-text-muted-foreground richtext-text-sm","data-slot":"emoji-picker-empty",children:"No emoji found."}),E.jsx(gd.List,{className:"richtext-select-none richtext-pb-1",components:{Row:qYe,Emoji:GYe,CategoryHeader:KYe},"data-slot":"emoji-picker-list"})]})}function YYe({className:r,...e}){return E.jsx("div",{className:wt("richtext-max-w-(--frimousse-viewport-width) richtext-flex richtext-w-full richtext-min-w-0 richtext-items-center richtext-gap-1 richtext-border-t richtext-p-2",r),"data-slot":"emoji-picker-footer",...e,children:E.jsx(gd.ActiveEmoji,{children:({emoji:n})=>n?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"richtext-flex richtext-size-7 richtext-flex-none richtext-items-center richtext-justify-center richtext-text-lg",children:n.emoji}),E.jsx("span",{className:"richtext-text-secondary-foreground richtext-truncate richtext-text-xs",children:n.label})]}):E.jsx("span",{className:"richtext-text-muted-foreground richtext-ml-1.5 richtext-flex richtext-h-7 richtext-items-center richtext-truncate richtext-text-xs",children:"Select an emoji"})})})}function ZYe({onSelectEmoji:r,children:e}){return E.jsxs(as,{modal:!0,children:[E.jsx(ss,{asChild:!0,children:e}),E.jsx(wa,{align:"start",className:"richtext-size-full richtext-p-2",hideWhenDetached:!0,side:"bottom",children:E.jsxs(WYe,{className:"!richtext-h-[342px]",onEmojiSelect:({emoji:n})=>{r(n)},children:[E.jsx(VYe,{}),E.jsx(XYe,{}),E.jsx(YYe,{})]})})]})}function JYe({editor:r,icon:e,...n}){const i=P.useCallback(o=>{const{selection:a}=r.state,{$anchor:s}=a;return r.chain().insertContentAt(s.pos,o).run()},[r]);return E.jsx(ZYe,{onSelectEmoji:i,children:E.jsx(ft,{icon:e,tooltip:n==null?void 0:n.tooltip})})}const _fe=P.forwardRef((r,e)=>{const n=P.useRef(null),[i,o]=P.useState(0),{t:a}=Cn(),s=d=>{const h=r.items[d];h&&r.command(h)},l=()=>{o((i+r.items.length-1)%r.items.length)},c=()=>{o((i+1)%r.items.length)},u=()=>{s(i)};return P.useEffect(()=>o(0),[r.items]),P.useEffect(()=>{if(Number.isNaN(i+1))return;const d=n.current.querySelector(`span:nth-of-type(${i+1})`);d&&dP(d,{behavior:"smooth",scrollMode:"if-needed"})},[i]),P.useImperativeHandle(e,()=>({onKeyDown:({event:d})=>d.key==="ArrowUp"?(l(),!0):d.key==="ArrowDown"?(c(),!0):d.key==="Enter"?(u(),!0):!1})),E.jsx("div",{className:"richtext-max-h-[320px] richtext-w-[200px] richtext-overflow-y-auto richtext-overflow-x-hidden richtext-rounded-sm !richtext-border richtext-bg-popover richtext-p-1 richtext-text-popover-foreground richtext-shadow-md richtext-outline-none",children:E.jsx("div",{ref:n,children:r.items.length>0?r.items.map((d,h)=>E.jsxs("span",{className:pr(" richtext-relative richtext-flex  richtext-cursor-default richtext-select-none richtext-items-center richtext-rounded-sm richtext-px-2 richtext-py-1.5 richtext-text-sm richtext-outline-none richtext-transition-colors hover:richtext-bg-accent focus:richtext-bg-accent  focus:richtext-text-accent-foreground",h===i?"bg-accent":""),onClick:()=>s(h),children:[d.fallbackImage?E.jsx("img",{className:"richtext-size-[1em]",src:d.fallbackImage}):d.emoji,":",d.name,":"]},`emoji-list-code-${h}`)):E.jsx("div",{className:"richtext-relative richtext-flex  richtext-cursor-default richtext-select-none richtext-items-center richtext-rounded-sm richtext-px-2 richtext-py-1.5 richtext-text-sm richtext-outline-none richtext-transition-colors",children:E.jsx("span",{children:a("no_result_found")})})})})});_fe.displayName="EmojiList";const U0={100:"",1234:"",grinning:"",smiley:"",smile:"",grin:"",laughing:"",satisfied:"",sweat_smile:"",rofl:"",joy:"",slightly_smiling_face:"",upside_down_face:"",wink:"",blush:"",innocent:"",smiling_face_with_three_hearts:"",heart_eyes:"",star_struck:"",kissing_heart:"",kissing:"",relaxed:"",kissing_closed_eyes:"",kissing_smiling_eyes:"",smiling_face_with_tear:"",yum:"",stuck_out_tongue:"",stuck_out_tongue_winking_eye:"",zany_face:"",stuck_out_tongue_closed_eyes:"",money_mouth_face:"",hugs:"",hand_over_mouth:"",shushing_face:"",thinking:"",zipper_mouth_face:"",raised_eyebrow:"",neutral_face:"",expressionless:"",no_mouth:"",smirk:"",unamused:"",roll_eyes:"",grimacing:"",lying_face:"",relieved:"",pensive:"",sleepy:"",drooling_face:"",sleeping:"",mask:"",face_with_thermometer:"",face_with_head_bandage:"",nauseated_face:"",vomiting_face:"",sneezing_face:"",hot_face:"",cold_face:"",woozy_face:"",dizzy_face:"",exploding_head:"",cowboy_hat_face:"",partying_face:"",disguised_face:"",sunglasses:"",nerd_face:"",monocle_face:"",confused:"",worried:"",slightly_frowning_face:"",frowning_face:"",open_mouth:"",hushed:"",astonished:"",flushed:"",pleading_face:"",frowning:"",anguished:"",fearful:"",cold_sweat:"",disappointed_relieved:"",cry:"",sob:"",scream:"",confounded:"",persevere:"",disappointed:"",sweat:"",weary:"",tired_face:"",yawning_face:"",triumph:"",rage:"",pout:"",angry:"",cursing_face:"",smiling_imp:"",imp:"",skull:"",skull_and_crossbones:"",hankey:"",poop:"",shit:"",clown_face:"",japanese_ogre:"",japanese_goblin:"",ghost:"",alien:"",space_invader:"",robot:"",smiley_cat:"",smile_cat:"",joy_cat:"",heart_eyes_cat:"",smirk_cat:"",kissing_cat:"",scream_cat:"",crying_cat_face:"",pouting_cat:"",see_no_evil:"",hear_no_evil:"",speak_no_evil:"",kiss:"",love_letter:"",cupid:"",gift_heart:"",sparkling_heart:"",heartpulse:"",heartbeat:"",revolving_hearts:"",two_hearts:"",heart_decoration:"",heavy_heart_exclamation:"",broken_heart:"",heart:"",orange_heart:"",yellow_heart:"",green_heart:"",blue_heart:"",purple_heart:"",brown_heart:"",black_heart:"",white_heart:"",anger:"",boom:"",collision:"",dizzy:"",sweat_drops:"",dash:"",hole:"",bomb:"",speech_balloon:"",eye_speech_bubble:"",left_speech_bubble:"",right_anger_bubble:"",thought_balloon:"",zzz:"",wave:"",raised_back_of_hand:"",raised_hand_with_fingers_splayed:"",hand:"",raised_hand:"",vulcan_salute:"",ok_hand:"",pinched_fingers:"",pinching_hand:"",v:"",crossed_fingers:"",love_you_gesture:"",metal:"",call_me_hand:"",point_left:"",point_right:"",point_up_2:"",middle_finger:"",fu:"",point_down:"",point_up:"","+1":"",thumbsup:"","-1":"",thumbsdown:"",fist_raised:"",fist:"",fist_oncoming:"",facepunch:"",punch:"",fist_left:"",fist_right:"",clap:"",raised_hands:"",open_hands:"",palms_up_together:"",handshake:"",pray:"",writing_hand:"",nail_care:"",selfie:"",muscle:"",mechanical_arm:"",mechanical_leg:"",leg:"",foot:"",ear:"",ear_with_hearing_aid:"",nose:"",brain:"",anatomical_heart:"",lungs:"",tooth:"",bone:"",eyes:"",eye:"",tongue:"",lips:"",baby:"",child:"",boy:"",girl:"",adult:"",blond_haired_person:"",man:"",bearded_person:"",red_haired_man:"",curly_haired_man:"",white_haired_man:"",bald_man:"",woman:"",red_haired_woman:"",person_red_hair:"",curly_haired_woman:"",person_curly_hair:"",white_haired_woman:"",person_white_hair:"",bald_woman:"",person_bald:"",blond_haired_woman:"",blonde_woman:"",blond_haired_man:"",older_adult:"",older_man:"",older_woman:"",frowning_person:"",frowning_man:"",frowning_woman:"",pouting_face:"",pouting_man:"",pouting_woman:"",no_good:"",no_good_man:"",ng_man:"",no_good_woman:"",ng_woman:"",ok_person:"",ok_man:"",ok_woman:"",tipping_hand_person:"",information_desk_person:"",tipping_hand_man:"",sassy_man:"",tipping_hand_woman:"",sassy_woman:"",raising_hand:"",raising_hand_man:"",raising_hand_woman:"",deaf_person:"",deaf_man:"",deaf_woman:"",bow:"",bowing_man:"",bowing_woman:"",facepalm:"",man_facepalming:"",woman_facepalming:"",shrug:"",man_shrugging:"",woman_shrugging:"",health_worker:"",man_health_worker:"",woman_health_worker:"",student:"",man_student:"",woman_student:"",teacher:"",man_teacher:"",woman_teacher:"",judge:"",man_judge:"",woman_judge:"",farmer:"",man_farmer:"",woman_farmer:"",cook:"",man_cook:"",woman_cook:"",mechanic:"",man_mechanic:"",woman_mechanic:"",factory_worker:"",man_factory_worker:"",woman_factory_worker:"",office_worker:"",man_office_worker:"",woman_office_worker:"",scientist:"",man_scientist:"",woman_scientist:"",technologist:"",man_technologist:"",woman_technologist:"",singer:"",man_singer:"",woman_singer:"",artist:"",man_artist:"",woman_artist:"",pilot:"",man_pilot:"",woman_pilot:"",astronaut:"",man_astronaut:"",woman_astronaut:"",firefighter:"",man_firefighter:"",woman_firefighter:"",police_officer:"",cop:"",policeman:"",policewoman:"",detective:"",male_detective:"",female_detective:"",guard:"",guardsman:"",guardswoman:"",ninja:"",construction_worker:"",construction_worker_man:"",construction_worker_woman:"",prince:"",princess:"",person_with_turban:"",man_with_turban:"",woman_with_turban:"",man_with_gua_pi_mao:"",woman_with_headscarf:"",person_in_tuxedo:"",man_in_tuxedo:"",woman_in_tuxedo:"",person_with_veil:"",man_with_veil:"",woman_with_veil:"",bride_with_veil:"",pregnant_woman:"",breast_feeding:"",woman_feeding_baby:"",man_feeding_baby:"",person_feeding_baby:"",angel:"",santa:"",mrs_claus:"",mx_claus:"",superhero:"",superhero_man:"",superhero_woman:"",supervillain:"",supervillain_man:"",supervillain_woman:"",mage:"",mage_man:"",mage_woman:"",fairy:"",fairy_man:"",fairy_woman:"",vampire:"",vampire_man:"",vampire_woman:"",merperson:"",merman:"",mermaid:"",elf:"",elf_man:"",elf_woman:"",genie:"",genie_man:"",genie_woman:"",zombie:"",zombie_man:"",zombie_woman:"",massage:"",massage_man:"",massage_woman:"",haircut:"",haircut_man:"",haircut_woman:"",walking:"",walking_man:"",walking_woman:"",standing_person:"",standing_man:"",standing_woman:"",kneeling_person:"",kneeling_man:"",kneeling_woman:"",person_with_probing_cane:"",man_with_probing_cane:"",woman_with_probing_cane:"",person_in_motorized_wheelchair:"",man_in_motorized_wheelchair:"",woman_in_motorized_wheelchair:"",person_in_manual_wheelchair:"",man_in_manual_wheelchair:"",woman_in_manual_wheelchair:"",runner:"",running:"",running_man:"",running_woman:"",woman_dancing:"",dancer:"",man_dancing:"",business_suit_levitating:"",dancers:"",dancing_men:"",dancing_women:"",sauna_person:"",sauna_man:"",sauna_woman:"",climbing:"",climbing_man:"",climbing_woman:"",person_fencing:"",horse_racing:"",skier:"",snowboarder:"",golfing:"",golfing_man:"",golfing_woman:"",surfer:"",surfing_man:"",surfing_woman:"",rowboat:"",rowing_man:"",rowing_woman:"",swimmer:"",swimming_man:"",swimming_woman:"",bouncing_ball_person:"",bouncing_ball_man:"",basketball_man:"",bouncing_ball_woman:"",basketball_woman:"",weight_lifting:"",weight_lifting_man:"",weight_lifting_woman:"",bicyclist:"",biking_man:"",biking_woman:"",mountain_bicyclist:"",mountain_biking_man:"",mountain_biking_woman:"",cartwheeling:"",man_cartwheeling:"",woman_cartwheeling:"",wrestling:"",men_wrestling:"",women_wrestling:"",water_polo:"",man_playing_water_polo:"",woman_playing_water_polo:"",handball_person:"",man_playing_handball:"",woman_playing_handball:"",juggling_person:"",man_juggling:"",woman_juggling:"",lotus_position:"",lotus_position_man:"",lotus_position_woman:"",bath:"",sleeping_bed:"",people_holding_hands:"",two_women_holding_hands:"",couple:"",two_men_holding_hands:"",couplekiss:"",couplekiss_man_woman:"",couplekiss_man_man:"",couplekiss_woman_woman:"",couple_with_heart:"",couple_with_heart_woman_man:"",couple_with_heart_man_man:"",couple_with_heart_woman_woman:"",family:"",family_man_woman_boy:"",family_man_woman_girl:"",family_man_woman_girl_boy:"",family_man_woman_boy_boy:"",family_man_woman_girl_girl:"",family_man_man_boy:"",family_man_man_girl:"",family_man_man_girl_boy:"",family_man_man_boy_boy:"",family_man_man_girl_girl:"",family_woman_woman_boy:"",family_woman_woman_girl:"",family_woman_woman_girl_boy:"",family_woman_woman_boy_boy:"",family_woman_woman_girl_girl:"",family_man_boy:"",family_man_boy_boy:"",family_man_girl:"",family_man_girl_boy:"",family_man_girl_girl:"",family_woman_boy:"",family_woman_boy_boy:"",family_woman_girl:"",family_woman_girl_boy:"",family_woman_girl_girl:"",speaking_head:"",bust_in_silhouette:"",busts_in_silhouette:"",people_hugging:"",footprints:"",monkey_face:"",monkey:"",gorilla:"",orangutan:"",dog:"",dog2:"",guide_dog:"",service_dog:"",poodle:"",wolf:"",fox_face:"",raccoon:"",cat:"",cat2:"",black_cat:"",lion:"",tiger:"",tiger2:"",leopard:"",horse:"",racehorse:"",unicorn:"",zebra:"",deer:"",bison:"",cow:"",ox:"",water_buffalo:"",cow2:"",pig:"",pig2:"",boar:"",pig_nose:"",ram:"",sheep:"",goat:"",dromedary_camel:"",camel:"",llama:"",giraffe:"",elephant:"",mammoth:"",rhinoceros:"",hippopotamus:"",mouse:"",mouse2:"",rat:"",hamster:"",rabbit:"",rabbit2:"",chipmunk:"",beaver:"",hedgehog:"",bat:"",bear:"",polar_bear:"",koala:"",panda_face:"",sloth:"",otter:"",skunk:"",kangaroo:"",badger:"",feet:"",paw_prints:"",turkey:"",chicken:"",rooster:"",hatching_chick:"",baby_chick:"",hatched_chick:"",bird:"",penguin:"",dove:"",eagle:"",duck:"",swan:"",owl:"",dodo:"",feather:"",flamingo:"",peacock:"",parrot:"",frog:"",crocodile:"",turtle:"",lizard:"",snake:"",dragon_face:"",dragon:"",sauropod:"","t-rex":"",whale:"",whale2:"",dolphin:"",flipper:"",seal:"",fish:"",tropical_fish:"",blowfish:"",shark:"",octopus:"",shell:"",snail:"",butterfly:"",bug:"",ant:"",bee:"",honeybee:"",beetle:"",lady_beetle:"",cricket:"",cockroach:"",spider:"",spider_web:"",scorpion:"",mosquito:"",fly:"",worm:"",microbe:"",bouquet:"",cherry_blossom:"",white_flower:"",rosette:"",rose:"",wilted_flower:"",hibiscus:"",sunflower:"",blossom:"",tulip:"",seedling:"",potted_plant:"",evergreen_tree:"",deciduous_tree:"",palm_tree:"",cactus:"",ear_of_rice:"",herb:"",shamrock:"",four_leaf_clover:"",maple_leaf:"",fallen_leaf:"",leaves:"",grapes:"",melon:"",watermelon:"",tangerine:"",orange:"",mandarin:"",lemon:"",banana:"",pineapple:"",mango:"",apple:"",green_apple:"",pear:"",peach:"",cherries:"",strawberry:"",blueberries:"",kiwi_fruit:"",tomato:"",olive:"",coconut:"",avocado:"",eggplant:"",potato:"",carrot:"",corn:"",hot_pepper:"",bell_pepper:"",cucumber:"",leafy_green:"",broccoli:"",garlic:"",onion:"",mushroom:"",peanuts:"",chestnut:"",bread:"",croissant:"",baguette_bread:"",flatbread:"",pretzel:"",bagel:"",pancakes:"",waffle:"",cheese:"",meat_on_bone:"",poultry_leg:"",cut_of_meat:"",bacon:"",hamburger:"",fries:"",pizza:"",hotdog:"",sandwich:"",taco:"",burrito:"",tamale:"",stuffed_flatbread:"",falafel:"",egg:"",fried_egg:"",shallow_pan_of_food:"",stew:"",fondue:"",bowl_with_spoon:"",green_salad:"",popcorn:"",butter:"",salt:"",canned_food:"",bento:"",rice_cracker:"",rice_ball:"",rice:"",curry:"",ramen:"",spaghetti:"",sweet_potato:"",oden:"",sushi:"",fried_shrimp:"",fish_cake:"",moon_cake:"",dango:"",dumpling:"",fortune_cookie:"",takeout_box:"",crab:"",lobster:"",shrimp:"",squid:"",oyster:"",icecream:"",shaved_ice:"",ice_cream:"",doughnut:"",cookie:"",birthday:"",cake:"",cupcake:"",pie:"",chocolate_bar:"",candy:"",lollipop:"",custard:"",honey_pot:"",baby_bottle:"",milk_glass:"",coffee:"",teapot:"",tea:"",sake:"",champagne:"",wine_glass:"",cocktail:"",tropical_drink:"",beer:"",beers:"",clinking_glasses:"",tumbler_glass:"",cup_with_straw:"",bubble_tea:"",beverage_box:"",mate:"",ice_cube:"",chopsticks:"",plate_with_cutlery:"",fork_and_knife:"",spoon:"",hocho:"",knife:"",amphora:"",earth_africa:"",earth_americas:"",earth_asia:"",globe_with_meridians:"",world_map:"",japan:"",compass:"",mountain_snow:"",mountain:"",volcano:"",mount_fuji:"",camping:"",beach_umbrella:"",desert:"",desert_island:"",national_park:"",stadium:"",classical_building:"",building_construction:"",bricks:"",rock:"",wood:"",hut:"",houses:"",derelict_house:"",house:"",house_with_garden:"",office:"",post_office:"",european_post_office:"",hospital:"",bank:"",hotel:"",love_hotel:"",convenience_store:"",school:"",department_store:"",factory:"",japanese_castle:"",european_castle:"",wedding:"",tokyo_tower:"",statue_of_liberty:"",church:"",mosque:"",hindu_temple:"",synagogue:"",shinto_shrine:"",kaaba:"",fountain:"",tent:"",foggy:"",night_with_stars:"",cityscape:"",sunrise_over_mountains:"",sunrise:"",city_sunset:"",city_sunrise:"",bridge_at_night:"",hotsprings:"",carousel_horse:"",ferris_wheel:"",roller_coaster:"",barber:"",circus_tent:"",steam_locomotive:"",railway_car:"",bullettrain_side:"",bullettrain_front:"",train2:"",metro:"",light_rail:"",station:"",tram:"",monorail:"",mountain_railway:"",train:"",bus:"",oncoming_bus:"",trolleybus:"",minibus:"",ambulance:"",fire_engine:"",police_car:"",oncoming_police_car:"",taxi:"",oncoming_taxi:"",car:"",red_car:"",oncoming_automobile:"",blue_car:"",pickup_truck:"",truck:"",articulated_lorry:"",tractor:"",racing_car:"",motorcycle:"",motor_scooter:"",manual_wheelchair:"",motorized_wheelchair:"",auto_rickshaw:"",bike:"",kick_scooter:"",skateboard:"",roller_skate:"",busstop:"",motorway:"",railway_track:"",oil_drum:"",fuelpump:"",rotating_light:"",traffic_light:"",vertical_traffic_light:"",stop_sign:"",construction:"",anchor:"",boat:"",sailboat:"",canoe:"",speedboat:"",passenger_ship:"",ferry:"",motor_boat:"",ship:"",airplane:"",small_airplane:"",flight_departure:"",flight_arrival:"",parachute:"",seat:"",helicopter:"",suspension_railway:"",mountain_cableway:"",aerial_tramway:"",artificial_satellite:"",rocket:"",flying_saucer:"",bellhop_bell:"",luggage:"",hourglass:"",hourglass_flowing_sand:"",watch:"",alarm_clock:"",stopwatch:"",timer_clock:"",mantelpiece_clock:"",clock12:"",clock1230:"",clock1:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",clock10:"",clock1030:"",clock11:"",clock1130:"",new_moon:"",waxing_crescent_moon:"",first_quarter_moon:"",moon:"",waxing_gibbous_moon:"",full_moon:"",waning_gibbous_moon:"",last_quarter_moon:"",waning_crescent_moon:"",crescent_moon:"",new_moon_with_face:"",first_quarter_moon_with_face:"",last_quarter_moon_with_face:"",thermometer:"",sunny:"",full_moon_with_face:"",sun_with_face:"",ringed_planet:"",star:"",star2:"",stars:"",milky_way:"",cloud:"",partly_sunny:"",cloud_with_lightning_and_rain:"",sun_behind_small_cloud:"",sun_behind_large_cloud:"",sun_behind_rain_cloud:"",cloud_with_rain:"",cloud_with_snow:"",cloud_with_lightning:"",tornado:"",fog:"",wind_face:"",cyclone:"",rainbow:"",closed_umbrella:"",open_umbrella:"",umbrella:"",parasol_on_ground:"",zap:"",snowflake:"",snowman_with_snow:"",snowman:"",comet:"",fire:"",droplet:"",ocean:"",jack_o_lantern:"",christmas_tree:"",fireworks:"",sparkler:"",firecracker:"",sparkles:"",balloon:"",tada:"",confetti_ball:"",tanabata_tree:"",bamboo:"",dolls:"",flags:"",wind_chime:"",rice_scene:"",red_envelope:"",ribbon:"",gift:"",reminder_ribbon:"",tickets:"",ticket:"",medal_military:"",trophy:"",medal_sports:"","1st_place_medal":"","2nd_place_medal":"","3rd_place_medal":"",soccer:"",baseball:"",softball:"",basketball:"",volleyball:"",football:"",rugby_football:"",tennis:"",flying_disc:"",bowling:"",cricket_game:"",field_hockey:"",ice_hockey:"",lacrosse:"",ping_pong:"",badminton:"",boxing_glove:"",martial_arts_uniform:"",goal_net:"",golf:"",ice_skate:"",fishing_pole_and_fish:"",diving_mask:"",running_shirt_with_sash:"",ski:"",sled:"",curling_stone:"",dart:"",yo_yo:"",kite:"","8ball":"",crystal_ball:"",magic_wand:"",nazar_amulet:"",video_game:"",joystick:"",slot_machine:"",game_die:"",jigsaw:"",teddy_bear:"",pinata:"",nesting_dolls:"",spades:"",hearts:"",diamonds:"",clubs:"",chess_pawn:"",black_joker:"",mahjong:"",flower_playing_cards:"",performing_arts:"",framed_picture:"",art:"",thread:"",sewing_needle:"",yarn:"",knot:"",eyeglasses:"",dark_sunglasses:"",goggles:"",lab_coat:"",safety_vest:"",necktie:"",shirt:"",tshirt:"",jeans:"",scarf:"",gloves:"",coat:"",socks:"",dress:"",kimono:"",sari:"",one_piece_swimsuit:"",swim_brief:"",shorts:"",bikini:"",womans_clothes:"",purse:"",handbag:"",pouch:"",shopping:"",school_satchel:"",thong_sandal:"",mans_shoe:"",shoe:"",athletic_shoe:"",hiking_boot:"",flat_shoe:"",high_heel:"",sandal:"",ballet_shoes:"",boot:"",crown:"",womans_hat:"",tophat:"",mortar_board:"",billed_cap:"",military_helmet:"",rescue_worker_helmet:"",prayer_beads:"",lipstick:"",ring:"",gem:"",mute:"",speaker:"",sound:"",loud_sound:"",loudspeaker:"",mega:"",postal_horn:"",bell:"",no_bell:"",musical_score:"",musical_note:"",notes:"",studio_microphone:"",level_slider:"",control_knobs:"",microphone:"",headphones:"",radio:"",saxophone:"",accordion:"",guitar:"",musical_keyboard:"",trumpet:"",violin:"",banjo:"",drum:"",long_drum:"",iphone:"",calling:"",phone:"",telephone:"",telephone_receiver:"",pager:"",fax:"",battery:"",electric_plug:"",computer:"",desktop_computer:"",printer:"",keyboard:"",computer_mouse:"",trackball:"",minidisc:"",floppy_disk:"",cd:"",dvd:"",abacus:"",movie_camera:"",film_strip:"",film_projector:"",clapper:"",tv:"",camera:"",camera_flash:"",video_camera:"",vhs:"",mag:"",mag_right:"",candle:"",bulb:"",flashlight:"",izakaya_lantern:"",lantern:"",diya_lamp:"",notebook_with_decorative_cover:"",closed_book:"",book:"",open_book:"",green_book:"",blue_book:"",orange_book:"",books:"",notebook:"",ledger:"",page_with_curl:"",scroll:"",page_facing_up:"",newspaper:"",newspaper_roll:"",bookmark_tabs:"",bookmark:"",label:"",moneybag:"",coin:"",yen:"",dollar:"",euro:"",pound:"",money_with_wings:"",credit_card:"",receipt:"",chart:"",envelope:"",email:"","e-mail":"",incoming_envelope:"",envelope_with_arrow:"",outbox_tray:"",inbox_tray:"",package:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",postbox:"",ballot_box:"",pencil2:"",black_nib:"",fountain_pen:"",pen:"",paintbrush:"",crayon:"",memo:"",pencil:"",briefcase:"",file_folder:"",open_file_folder:"",card_index_dividers:"",date:"",calendar:"",spiral_notepad:"",spiral_calendar:"",card_index:"",chart_with_upwards_trend:"",chart_with_downwards_trend:"",bar_chart:"",clipboard:"",pushpin:"",round_pushpin:"",paperclip:"",paperclips:"",straight_ruler:"",triangular_ruler:"",scissors:"",card_file_box:"",file_cabinet:"",wastebasket:"",lock:"",unlock:"",lock_with_ink_pen:"",closed_lock_with_key:"",key:"",old_key:"",hammer:"",axe:"",pick:"",hammer_and_pick:"",hammer_and_wrench:"",dagger:"",crossed_swords:"",gun:"",boomerang:"",bow_and_arrow:"",shield:"",carpentry_saw:"",wrench:"",screwdriver:"",nut_and_bolt:"",gear:"",clamp:"",balance_scale:"",probing_cane:"",link:"",chains:"",hook:"",toolbox:"",magnet:"",ladder:"",alembic:"",test_tube:"",petri_dish:"",dna:"",microscope:"",telescope:"",satellite:"",syringe:"",drop_of_blood:"",pill:"",adhesive_bandage:"",stethoscope:"",door:"",elevator:"",mirror:"",window:"",bed:"",couch_and_lamp:"",chair:"",toilet:"",plunger:"",shower:"",bathtub:"",mouse_trap:"",razor:"",lotion_bottle:"",safety_pin:"",broom:"",basket:"",roll_of_paper:"",bucket:"",soap:"",toothbrush:"",sponge:"",fire_extinguisher:"",shopping_cart:"",smoking:"",coffin:"",headstone:"",funeral_urn:"",moyai:"",placard:"",atm:"",put_litter_in_its_place:"",potable_water:"",wheelchair:"",mens:"",womens:"",restroom:"",baby_symbol:"",wc:"",passport_control:"",customs:"",baggage_claim:"",left_luggage:"",warning:"",children_crossing:"",no_entry:"",no_entry_sign:"",no_bicycles:"",no_smoking:"",do_not_litter:"","non-potable_water":"",no_pedestrians:"",no_mobile_phones:"",underage:"",radioactive:"",biohazard:"",arrow_up:"",arrow_upper_right:"",arrow_right:"",arrow_lower_right:"",arrow_down:"",arrow_lower_left:"",arrow_left:"",arrow_upper_left:"",arrow_up_down:"",left_right_arrow:"",leftwards_arrow_with_hook:"",arrow_right_hook:"",arrow_heading_up:"",arrow_heading_down:"",arrows_clockwise:"",arrows_counterclockwise:"",back:"",end:"",on:"",soon:"",top:"",place_of_worship:"",atom_symbol:"",om:"",star_of_david:"",wheel_of_dharma:"",yin_yang:"",latin_cross:"",orthodox_cross:"",star_and_crescent:"",peace_symbol:"",menorah:"",six_pointed_star:"",aries:"",taurus:"",gemini:"",cancer:"",leo:"",virgo:"",libra:"",scorpius:"",sagittarius:"",capricorn:"",aquarius:"",pisces:"",ophiuchus:"",twisted_rightwards_arrows:"",repeat:"",repeat_one:"",arrow_forward:"",fast_forward:"",next_track_button:"",play_or_pause_button:"",arrow_backward:"",rewind:"",previous_track_button:"",arrow_up_small:"",arrow_double_up:"",arrow_down_small:"",arrow_double_down:"",pause_button:"",stop_button:"",record_button:"",eject_button:"",cinema:"",low_brightness:"",high_brightness:"",signal_strength:"",vibration_mode:"",mobile_phone_off:"",female_sign:"",male_sign:"",transgender_symbol:"",heavy_multiplication_x:"",heavy_plus_sign:"",heavy_minus_sign:"",heavy_division_sign:"",infinity:"",bangbang:"",interrobang:"",question:"",grey_question:"",grey_exclamation:"",exclamation:"",heavy_exclamation_mark:"",wavy_dash:"",currency_exchange:"",heavy_dollar_sign:"",medical_symbol:"",recycle:"",fleur_de_lis:"",trident:"",name_badge:"",beginner:"",o:"",white_check_mark:"",ballot_box_with_check:"",heavy_check_mark:"",x:"",negative_squared_cross_mark:"",curly_loop:"",loop:"",part_alternation_mark:"",eight_spoked_asterisk:"",eight_pointed_black_star:"",sparkle:"",copyright:"",registered:"",tm:"",hash:"#",asterisk:"*",zero:"0",one:"1",two:"2",three:"3",four:"4",five:"5",six:"6",seven:"7",eight:"8",nine:"9",keycap_ten:"",capital_abcd:"",abcd:"",symbols:"",abc:"",a:"",ab:"",b:"",cl:"",cool:"",free:"",information_source:"",id:"",m:"",new:"",ng:"",o2:"",ok:"",parking:"",sos:"",up:"",vs:"",koko:"",sa:"",ideograph_advantage:"",accept:"",congratulations:"",secret:"",u6e80:"",red_circle:"",orange_circle:"",yellow_circle:"",green_circle:"",large_blue_circle:"",purple_circle:"",brown_circle:"",black_circle:"",white_circle:"",red_square:"",orange_square:"",yellow_square:"",green_square:"",blue_square:"",purple_square:"",brown_square:"",black_large_square:"",white_large_square:"",black_medium_square:"",white_medium_square:"",black_medium_small_square:"",white_medium_small_square:"",black_small_square:"",white_small_square:"",large_orange_diamond:"",large_blue_diamond:"",small_orange_diamond:"",small_blue_diamond:"",small_red_triangle:"",small_red_triangle_down:"",diamond_shape_with_a_dot_inside:"",radio_button:"",white_square_button:"",black_square_button:"",checkered_flag:"",triangular_flag_on_post:"",crossed_flags:"",black_flag:"",white_flag:"",rainbow_flag:"",transgender_flag:"",pirate_flag:"",ascension_island:"",andorra:"",united_arab_emirates:"",afghanistan:"",antigua_barbuda:"",anguilla:"",albania:"",armenia:"",angola:"",antarctica:"",argentina:"",american_samoa:"",austria:"",australia:"",aruba:"",aland_islands:"",azerbaijan:"",bosnia_herzegovina:"",barbados:"",bangladesh:"",belgium:"",burkina_faso:"",bulgaria:"",bahrain:"",burundi:"",benin:"",st_barthelemy:"",bermuda:"",brunei:"",bolivia:"",caribbean_netherlands:"",brazil:"",bahamas:"",bhutan:"",bouvet_island:"",botswana:"",belarus:"",belize:"",canada:"",cocos_islands:"",congo_kinshasa:"",central_african_republic:"",congo_brazzaville:"",switzerland:"",cote_divoire:"",cook_islands:"",chile:"",cameroon:"",cn:"",colombia:"",clipperton_island:"",costa_rica:"",cuba:"",cape_verde:"",curacao:"",christmas_island:"",cyprus:"",czech_republic:"",de:"",diego_garcia:"",djibouti:"",denmark:"",dominica:"",dominican_republic:"",algeria:"",ceuta_melilla:"",ecuador:"",estonia:"",egypt:"",western_sahara:"",eritrea:"",es:"",ethiopia:"",eu:"",european_union:"",finland:"",fiji:"",falkland_islands:"",micronesia:"",faroe_islands:"",fr:"",gabon:"",gb:"",uk:"",grenada:"",georgia:"",french_guiana:"",guernsey:"",ghana:"",gibraltar:"",greenland:"",gambia:"",guinea:"",guadeloupe:"",equatorial_guinea:"",greece:"",south_georgia_south_sandwich_islands:"",guatemala:"",guam:"",guinea_bissau:"",guyana:"",hong_kong:"",heard_mcdonald_islands:"",honduras:"",croatia:"",haiti:"",hungary:"",canary_islands:"",indonesia:"",ireland:"",israel:"",isle_of_man:"",india:"",british_indian_ocean_territory:"",iraq:"",iran:"",iceland:"",it:"",jersey:"",jamaica:"",jordan:"",jp:"",kenya:"",kyrgyzstan:"",cambodia:"",kiribati:"",comoros:"",st_kitts_nevis:"",north_korea:"",kr:"",kuwait:"",cayman_islands:"",kazakhstan:"",laos:"",lebanon:"",st_lucia:"",liechtenstein:"",sri_lanka:"",liberia:"",lesotho:"",lithuania:"",luxembourg:"",latvia:"",libya:"",morocco:"",monaco:"",moldova:"",montenegro:"",st_martin:"",madagascar:"",marshall_islands:"",macedonia:"",mali:"",myanmar:"",mongolia:"",macau:"",northern_mariana_islands:"",martinique:"",mauritania:"",montserrat:"",malta:"",mauritius:"",maldives:"",malawi:"",mexico:"",malaysia:"",mozambique:"",namibia:"",new_caledonia:"",niger:"",norfolk_island:"",nigeria:"",nicaragua:"",netherlands:"",norway:"",nepal:"",nauru:"",niue:"",new_zealand:"",oman:"",panama:"",peru:"",french_polynesia:"",papua_new_guinea:"",philippines:"",pakistan:"",poland:"",st_pierre_miquelon:"",pitcairn_islands:"",puerto_rico:"",palestinian_territories:"",portugal:"",palau:"",paraguay:"",qatar:"",reunion:"",romania:"",serbia:"",ru:"",rwanda:"",saudi_arabia:"",solomon_islands:"",seychelles:"",sudan:"",sweden:"",singapore:"",st_helena:"",slovenia:"",svalbard_jan_mayen:"",slovakia:"",sierra_leone:"",san_marino:"",senegal:"",somalia:"",suriname:"",south_sudan:"",sao_tome_principe:"",el_salvador:"",sint_maarten:"",syria:"",swaziland:"",tristan_da_cunha:"",turks_caicos_islands:"",chad:"",french_southern_territories:"",togo:"",thailand:"",tajikistan:"",tokelau:"",timor_leste:"",turkmenistan:"",tunisia:"",tonga:"",tr:"",trinidad_tobago:"",tuvalu:"",taiwan:"",tanzania:"",ukraine:"",uganda:"",us_outlying_islands:"",united_nations:"",us:"",uruguay:"",uzbekistan:"",vatican_city:"",st_vincent_grenadines:"",venezuela:"",british_virgin_islands:"",us_virgin_islands:"",vietnam:"",vanuatu:"",wallis_futuna:"",samoa:"",kosovo:"",yemen:"",mayotte:"",south_africa:"",zambia:"",zimbabwe:"",england:"",scotland:"",wales:""};Object.keys(U0).reduce((r,e)=>{const n=U0[e];return r[n]=e,r},{});const QYe=Object.keys(U0).map(r=>r);Object.keys(U0).map(r=>U0[r]);function eZe(r){return QYe.filter(e=>e.startsWith(r)).map(e=>({name:e,emoji:U0[e]}))}const tZe=200,nZe=new Ln("emoji"),rZe=Un.create({name:"emoji",content:"text*",priority:tZe,addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),HTMLAttributes:{},suggestion:{char:":",pluginKey:nZe,command:({editor:e,range:n,props:i})=>{e.chain().focus().insertContentAt(n,`${i.emoji} `).run()}},button:({editor:e,t:n})=>({component:JYe,componentProps:{editor:e,action:()=>{},isActive:()=>!1,disabled:!1,icon:"EmojiIcon",tooltip:n("editor.emoji.tooltip")}})}},addCommands(){return{setEmoji:r=>({commands:e})=>e.insertContent(`${r.emoji} `)}},addProseMirrorPlugins(){return[sP({editor:this.editor,...this.options.suggestion})]}}).configure({suggestion:{items:({query:r})=>eZe(r),render:()=>{let r,e,n;return{onStart:i=>{n=i.editor.isEditable,n&&(r=new W5(_fe,{props:i,editor:i.editor}),e=eu("body",{getReferenceClientRect:i.clientRect,appendTo:()=>document.body,content:r.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start"}))},onUpdate(i){n&&(r.updateProps(i),e[0].setProps({getReferenceClientRect:i.clientRect}))},onKeyDown(i){var o;if(n)return i.event.key==="Escape"?(e[0].hide(),!0):(o=r.ref)==null?void 0:o.onKeyDown(i)},onExit(){n&&(e[0].destroy(),r.destroy())}}}}});function iZe(r){const e=document.createElement("iframe");e.setAttribute("style","position: absolute; width: 0; height: 0; top: 0; left: 0;"),document.body.appendChild(e),e.textContent=`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <title>Echo Editor</title>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body class="is-print">
      <div class="tiptap ProseMirror" translate="no" aria-expanded="false">
          ${r}
      </div>
    </body>
    </html>
  `;const n=e.contentWindow,i=e.contentDocument||e.contentWindow&&e.contentWindow.document,o=document.createElement("link");o.rel="stylesheet",o.href="https://cdn.jsdelivr.net/npm/reactjs-tiptap-editor@latest/lib/style.css",i.head.appendChild(o),i&&(i.open(),i.write(r),i.close()),n&&e.addEventListener("load",function(){try{setTimeout(()=>{n.focus();try{n.document.execCommand("print",!1)||n.print()}catch{n.print()}n.close()},10)}catch(a){console.error(a)}setTimeout(()=>{document.body.removeChild(e)},100)})}function oZe(r){const e=r.getHTML();return e?(iZe(e),!0):!1}const aZe=Sn.create({name:"exportPdf",addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),button:({editor:e,t:n})=>({component:ft,componentProps:{action:()=>{oZe(e)},icon:"ExportPdf",tooltip:n("editor.exportPdf.tooltip"),isActive:()=>!1,disabled:!1}})}}});var sZe=Object.defineProperty,lZe=Object.defineProperties,cZe=Object.getOwnPropertyDescriptors,tK=Object.getOwnPropertySymbols,uZe=Object.prototype.hasOwnProperty,dZe=Object.prototype.propertyIsEnumerable,J9=(r,e,n)=>e in r?sZe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,bn=(r,e)=>{for(var n in e||(e={}))uZe.call(e,n)&&J9(r,n,e[n]);if(tK)for(var n of tK(e))dZe.call(e,n)&&J9(r,n,e[n]);return r},Bd=(r,e)=>lZe(r,cZe(e)),qe=(r,e,n)=>(J9(r,typeof e!="symbol"?e+"":e,n),n),o2=(r,e,n)=>new Promise((i,o)=>{var a=c=>{try{l(n.next(c))}catch(u){o(u)}},s=c=>{try{l(n.throw(c))}catch(u){o(u)}},l=c=>c.done?i(c.value):Promise.resolve(c.value).then(a,s);l((n=n.apply(r,e)).next())});class D3{constructor(e){qe(this,"rootKey"),this.rootKey=e}}const hZe=Object.seal({});class We extends D3{constructor(e){super(e),qe(this,"root"),this.root=new Array}prepForXml(e){var n;e.stack.push(this);const i=this.root.map(o=>o instanceof D3?o.prepForXml(e):o).filter(o=>o!==void 0);return e.stack.pop(),{[this.rootKey]:i.length?i.length===1&&((n=i[0])!=null&&n._attr)?i[0]:i:hZe}}addChildElement(e){return this.root.push(e),this}}class su extends We{prepForXml(e){const n=super.prepForXml(e);if(n&&(typeof n[this.rootKey]!="object"||Object.keys(n[this.rootKey]).length))return n}}class Ct extends D3{constructor(e){super("_attr"),qe(this,"xmlKeys"),this.root=e}prepForXml(e){const n={};return Object.keys(this.root).forEach(i=>{const o=this.root[i];if(o!==void 0){const a=this.xmlKeys&&this.xmlKeys[i]||i;n[a]=o}}),{_attr:n}}}class lu extends D3{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:i})=>i!==void 0).reduce((i,{key:o,value:a})=>Bd(bn({},i),{[o]:a}),{})}}}class Ir extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var fl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Afe(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Dfe={},hP={exports:{}},s0=typeof Reflect=="object"?Reflect:null,nK=s0&&typeof s0.apply=="function"?s0.apply:function(e,n,i){return Function.prototype.apply.call(e,n,i)},x4;s0&&typeof s0.ownKeys=="function"?x4=s0.ownKeys:Object.getOwnPropertySymbols?x4=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:x4=function(e){return Object.getOwnPropertyNames(e)};function fZe(r){console&&console.warn&&console.warn(r)}var Mfe=Number.isNaN||function(e){return e!==e};function Yn(){Yn.init.call(this)}hP.exports=Yn;hP.exports.once=yZe;Yn.EventEmitter=Yn;Yn.prototype._events=void 0;Yn.prototype._eventsCount=0;Yn.prototype._maxListeners=void 0;var rK=10;function c6(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(Yn,"defaultMaxListeners",{enumerable:!0,get:function(){return rK},set:function(r){if(typeof r!="number"||r<0||Mfe(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");rK=r}});Yn.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Yn.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Mfe(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Rfe(r){return r._maxListeners===void 0?Yn.defaultMaxListeners:r._maxListeners}Yn.prototype.getMaxListeners=function(){return Rfe(this)};Yn.prototype.emit=function(e){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);var o=e==="error",a=this._events;if(a!==void 0)o=o&&a.error===void 0;else if(!o)return!1;if(o){var s;if(n.length>0&&(s=n[0]),s instanceof Error)throw s;var l=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw l.context=s,l}var c=a[e];if(c===void 0)return!1;if(typeof c=="function")nK(c,this,n);else for(var u=c.length,d=$fe(c,u),i=0;i<u;++i)nK(d[i],this,n);return!0};function Nfe(r,e,n,i){var o,a,s;if(c6(n),a=r._events,a===void 0?(a=r._events=Object.create(null),r._eventsCount=0):(a.newListener!==void 0&&(r.emit("newListener",e,n.listener?n.listener:n),a=r._events),s=a[e]),s===void 0)s=a[e]=n,++r._eventsCount;else if(typeof s=="function"?s=a[e]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),o=Rfe(r),o>0&&s.length>o&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=r,l.type=e,l.count=s.length,fZe(l)}return r}Yn.prototype.addListener=function(e,n){return Nfe(this,e,n,!1)};Yn.prototype.on=Yn.prototype.addListener;Yn.prototype.prependListener=function(e,n){return Nfe(this,e,n,!0)};function pZe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ofe(r,e,n){var i={fired:!1,wrapFn:void 0,target:r,type:e,listener:n},o=pZe.bind(i);return o.listener=n,i.wrapFn=o,o}Yn.prototype.once=function(e,n){return c6(n),this.on(e,Ofe(this,e,n)),this};Yn.prototype.prependOnceListener=function(e,n){return c6(n),this.prependListener(e,Ofe(this,e,n)),this};Yn.prototype.removeListener=function(e,n){var i,o,a,s,l;if(c6(n),o=this._events,o===void 0)return this;if(i=o[e],i===void 0)return this;if(i===n||i.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,i.listener||n));else if(typeof i!="function"){for(a=-1,s=i.length-1;s>=0;s--)if(i[s]===n||i[s].listener===n){l=i[s].listener,a=s;break}if(a<0)return this;a===0?i.shift():mZe(i,a),i.length===1&&(o[e]=i[0]),o.removeListener!==void 0&&this.emit("removeListener",e,l||n)}return this};Yn.prototype.off=Yn.prototype.removeListener;Yn.prototype.removeAllListeners=function(e){var n,i,o;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var a=Object.keys(i),s;for(o=0;o<a.length;++o)s=a[o],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=i[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(o=n.length-1;o>=0;o--)this.removeListener(e,n[o]);return this};function Pfe(r,e,n){var i=r._events;if(i===void 0)return[];var o=i[e];return o===void 0?[]:typeof o=="function"?n?[o.listener||o]:[o]:n?gZe(o):$fe(o,o.length)}Yn.prototype.listeners=function(e){return Pfe(this,e,!0)};Yn.prototype.rawListeners=function(e){return Pfe(this,e,!1)};Yn.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):Ife.call(r,e)};Yn.prototype.listenerCount=Ife;function Ife(r){var e=this._events;if(e!==void 0){var n=e[r];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Yn.prototype.eventNames=function(){return this._eventsCount>0?x4(this._events):[]};function $fe(r,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=r[i];return n}function mZe(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function gZe(r){for(var e=new Array(r.length),n=0;n<e.length;++n)e[n]=r[n].listener||r[n];return e}function yZe(r,e){return new Promise(function(n,i){function o(s){r.removeListener(e,a),i(s)}function a(){typeof r.removeListener=="function"&&r.removeListener("error",o),n([].slice.call(arguments))}zfe(r,e,a,{once:!0}),e!=="error"&&bZe(r,o,{once:!0})})}function bZe(r,e,n){typeof r.on=="function"&&zfe(r,"error",e,n)}function zfe(r,e,n,i){if(typeof r.on=="function")i.once?r.once(e,n):r.on(e,n);else if(typeof r.addEventListener=="function")r.addEventListener(e,function o(a){i.once&&r.removeEventListener(e,o),n(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}var fP=hP.exports,Q9={exports:{}};typeof Object.create=="function"?Q9.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Q9.exports=function(e,n){if(n){e.super_=n;var i=function(){};i.prototype=n.prototype,e.prototype=new i,e.prototype.constructor=e}};var bp=Q9.exports;function vZe(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Lfe={exports:{}},jr=Lfe.exports={},Js,Qs;function eM(){throw new Error("setTimeout has not been defined")}function tM(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Js=setTimeout:Js=eM}catch{Js=eM}try{typeof clearTimeout=="function"?Qs=clearTimeout:Qs=tM}catch{Qs=tM}})();function Ufe(r){if(Js===setTimeout)return setTimeout(r,0);if((Js===eM||!Js)&&setTimeout)return Js=setTimeout,setTimeout(r,0);try{return Js(r,0)}catch{try{return Js.call(null,r,0)}catch{return Js.call(this,r,0)}}}function xZe(r){if(Qs===clearTimeout)return clearTimeout(r);if((Qs===tM||!Qs)&&clearTimeout)return Qs=clearTimeout,clearTimeout(r);try{return Qs(r)}catch{try{return Qs.call(null,r)}catch{return Qs.call(this,r)}}}var Cc=[],l0=!1,lf,w4=-1;function wZe(){!l0||!lf||(l0=!1,lf.length?Cc=lf.concat(Cc):w4=-1,Cc.length&&Bfe())}function Bfe(){if(!l0){var r=Ufe(wZe);l0=!0;for(var e=Cc.length;e;){for(lf=Cc,Cc=[];++w4<e;)lf&&lf[w4].run();w4=-1,e=Cc.length}lf=null,l0=!1,xZe(r)}}jr.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Cc.push(new jfe(r,e)),Cc.length===1&&!l0&&Ufe(Bfe)};function jfe(r,e){this.fun=r,this.array=e}jfe.prototype.run=function(){this.fun.apply(null,this.array)};jr.title="browser";jr.browser=!0;jr.env={};jr.argv=[];jr.version="";jr.versions={};function cu(){}jr.on=cu;jr.addListener=cu;jr.once=cu;jr.off=cu;jr.removeListener=cu;jr.removeAllListeners=cu;jr.emit=cu;jr.prependListener=cu;jr.prependOnceListener=cu;jr.listeners=function(r){return[]};jr.binding=function(r){throw new Error("process.binding is not supported")};jr.cwd=function(){return"/"};jr.chdir=function(r){throw new Error("process.chdir is not supported")};jr.umask=function(){return 0};var SZe=Lfe.exports;const fn=vZe(SZe);var v7,iK;function Ffe(){return iK||(iK=1,v7=fP.EventEmitter),v7}var x7={},B1={},oK;function kZe(){if(oK)return B1;oK=1,B1.byteLength=l,B1.toByteArray=u,B1.fromByteArray=f;for(var r=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=i.length;o<a;++o)r[o]=i[o],e[i.charCodeAt(o)]=o;e[45]=62,e[95]=63;function s(m){var b=m.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=m.indexOf("=");g===-1&&(g=b);var v=g===b?0:4-g%4;return[g,v]}function l(m){var b=s(m),g=b[0],v=b[1];return(g+v)*3/4-v}function c(m,b,g){return(b+g)*3/4-g}function u(m){var b,g=s(m),v=g[0],x=g[1],w=new n(c(m,v,x)),k=0,T=x>0?v-4:v,_;for(_=0;_<T;_+=4)b=e[m.charCodeAt(_)]<<18|e[m.charCodeAt(_+1)]<<12|e[m.charCodeAt(_+2)]<<6|e[m.charCodeAt(_+3)],w[k++]=b>>16&255,w[k++]=b>>8&255,w[k++]=b&255;return x===2&&(b=e[m.charCodeAt(_)]<<2|e[m.charCodeAt(_+1)]>>4,w[k++]=b&255),x===1&&(b=e[m.charCodeAt(_)]<<10|e[m.charCodeAt(_+1)]<<4|e[m.charCodeAt(_+2)]>>2,w[k++]=b>>8&255,w[k++]=b&255),w}function d(m){return r[m>>18&63]+r[m>>12&63]+r[m>>6&63]+r[m&63]}function h(m,b,g){for(var v,x=[],w=b;w<g;w+=3)v=(m[w]<<16&16711680)+(m[w+1]<<8&65280)+(m[w+2]&255),x.push(d(v));return x.join("")}function f(m){for(var b,g=m.length,v=g%3,x=[],w=16383,k=0,T=g-v;k<T;k+=w)x.push(h(m,k,k+w>T?T:k+w));return v===1?(b=m[g-1],x.push(r[b>>2]+r[b<<4&63]+"==")):v===2&&(b=(m[g-2]<<8)+m[g-1],x.push(r[b>>10]+r[b>>4&63]+r[b<<2&63]+"=")),x.join("")}return B1}var a2={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var aK;function TZe(){return aK||(aK=1,a2.read=function(r,e,n,i,o){var a,s,l=o*8-i-1,c=(1<<l)-1,u=c>>1,d=-7,h=n?o-1:0,f=n?-1:1,m=r[e+h];for(h+=f,a=m&(1<<-d)-1,m>>=-d,d+=l;d>0;a=a*256+r[e+h],h+=f,d-=8);for(s=a&(1<<-d)-1,a>>=-d,d+=i;d>0;s=s*256+r[e+h],h+=f,d-=8);if(a===0)a=1-u;else{if(a===c)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,i),a=a-u}return(m?-1:1)*s*Math.pow(2,a-i)},a2.write=function(r,e,n,i,o,a){var s,l,c,u=a*8-o-1,d=(1<<u)-1,h=d>>1,f=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=i?0:a-1,b=i?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,s=d):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+h>=1?e+=f/c:e+=f*Math.pow(2,1-h),e*c>=2&&(s++,c/=2),s+h>=d?(l=0,s=d):s+h>=1?(l=(e*c-1)*Math.pow(2,o),s=s+h):(l=e*Math.pow(2,h-1)*Math.pow(2,o),s=0));o>=8;r[n+m]=l&255,m+=b,l/=256,o-=8);for(s=s<<o|l,u+=o;u>0;r[n+m]=s&255,m+=b,s/=256,u-=8);r[n+m-b]|=g*128}),a2}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var sK;function u6(){return sK||(sK=1,function(r){var e=kZe(),n=TZe(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=l,r.SlowBuffer=w,r.INSPECT_MAX_BYTES=50;var o=2147483647;r.kMaxLength=o,l.TYPED_ARRAY_SUPPORT=a(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{var V=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(V,R),V.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function s(V){if(V>o)throw new RangeError('The value "'+V+'" is invalid for option "size"');var R=new Uint8Array(V);return Object.setPrototypeOf(R,l.prototype),R}function l(V,R,N){if(typeof V=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(V)}return c(V,R,N)}l.poolSize=8192;function c(V,R,N){if(typeof V=="string")return f(V,R);if(ArrayBuffer.isView(V))return b(V);if(V==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V);if(Ee(V,ArrayBuffer)||V&&Ee(V.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ee(V,SharedArrayBuffer)||V&&Ee(V.buffer,SharedArrayBuffer)))return g(V,R,N);if(typeof V=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var B=V.valueOf&&V.valueOf();if(B!=null&&B!==V)return l.from(B,R,N);var ue=v(V);if(ue)return ue;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof V[Symbol.toPrimitive]=="function")return l.from(V[Symbol.toPrimitive]("string"),R,N);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V)}l.from=function(V,R,N){return c(V,R,N)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function u(V){if(typeof V!="number")throw new TypeError('"size" argument must be of type number');if(V<0)throw new RangeError('The value "'+V+'" is invalid for option "size"')}function d(V,R,N){return u(V),V<=0?s(V):R!==void 0?typeof N=="string"?s(V).fill(R,N):s(V).fill(R):s(V)}l.alloc=function(V,R,N){return d(V,R,N)};function h(V){return u(V),s(V<0?0:x(V)|0)}l.allocUnsafe=function(V){return h(V)},l.allocUnsafeSlow=function(V){return h(V)};function f(V,R){if((typeof R!="string"||R==="")&&(R="utf8"),!l.isEncoding(R))throw new TypeError("Unknown encoding: "+R);var N=k(V,R)|0,B=s(N),ue=B.write(V,R);return ue!==N&&(B=B.slice(0,ue)),B}function m(V){for(var R=V.length<0?0:x(V.length)|0,N=s(R),B=0;B<R;B+=1)N[B]=V[B]&255;return N}function b(V){if(Ee(V,Uint8Array)){var R=new Uint8Array(V);return g(R.buffer,R.byteOffset,R.byteLength)}return m(V)}function g(V,R,N){if(R<0||V.byteLength<R)throw new RangeError('"offset" is outside of buffer bounds');if(V.byteLength<R+(N||0))throw new RangeError('"length" is outside of buffer bounds');var B;return R===void 0&&N===void 0?B=new Uint8Array(V):N===void 0?B=new Uint8Array(V,R):B=new Uint8Array(V,R,N),Object.setPrototypeOf(B,l.prototype),B}function v(V){if(l.isBuffer(V)){var R=x(V.length)|0,N=s(R);return N.length===0||V.copy(N,0,0,R),N}if(V.length!==void 0)return typeof V.length!="number"||M(V.length)?s(0):m(V);if(V.type==="Buffer"&&Array.isArray(V.data))return m(V.data)}function x(V){if(V>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return V|0}function w(V){return+V!=V&&(V=0),l.alloc(+V)}l.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==l.prototype},l.compare=function(R,N){if(Ee(R,Uint8Array)&&(R=l.from(R,R.offset,R.byteLength)),Ee(N,Uint8Array)&&(N=l.from(N,N.offset,N.byteLength)),!l.isBuffer(R)||!l.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===N)return 0;for(var B=R.length,ue=N.length,ve=0,se=Math.min(B,ue);ve<se;++ve)if(R[ve]!==N[ve]){B=R[ve],ue=N[ve];break}return B<ue?-1:ue<B?1:0},l.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(R,N){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return l.alloc(0);var B;if(N===void 0)for(N=0,B=0;B<R.length;++B)N+=R[B].length;var ue=l.allocUnsafe(N),ve=0;for(B=0;B<R.length;++B){var se=R[B];if(Ee(se,Uint8Array))ve+se.length>ue.length?l.from(se).copy(ue,ve):Uint8Array.prototype.set.call(ue,se,ve);else if(l.isBuffer(se))se.copy(ue,ve);else throw new TypeError('"list" argument must be an Array of Buffers');ve+=se.length}return ue};function k(V,R){if(l.isBuffer(V))return V.length;if(ArrayBuffer.isView(V)||Ee(V,ArrayBuffer))return V.byteLength;if(typeof V!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof V);var N=V.length,B=arguments.length>2&&arguments[2]===!0;if(!B&&N===0)return 0;for(var ue=!1;;)switch(R){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return q(V).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N*2;case"hex":return N>>>1;case"base64":return ie(V).length;default:if(ue)return B?-1:q(V).length;R=(""+R).toLowerCase(),ue=!0}}l.byteLength=k;function T(V,R,N){var B=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((N===void 0||N>this.length)&&(N=this.length),N<=0)||(N>>>=0,R>>>=0,N<=R))return"";for(V||(V="utf8");;)switch(V){case"hex":return J(this,R,N);case"utf8":case"utf-8":return A(this,R,N);case"ascii":return G(this,R,N);case"latin1":case"binary":return ne(this,R,N);case"base64":return F(this,R,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,R,N);default:if(B)throw new TypeError("Unknown encoding: "+V);V=(V+"").toLowerCase(),B=!0}}l.prototype._isBuffer=!0;function _(V,R,N){var B=V[R];V[R]=V[N],V[N]=B}l.prototype.swap16=function(){var R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var N=0;N<R;N+=2)_(this,N,N+1);return this},l.prototype.swap32=function(){var R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var N=0;N<R;N+=4)_(this,N,N+3),_(this,N+1,N+2);return this},l.prototype.swap64=function(){var R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var N=0;N<R;N+=8)_(this,N,N+7),_(this,N+1,N+6),_(this,N+2,N+5),_(this,N+3,N+4);return this},l.prototype.toString=function(){var R=this.length;return R===0?"":arguments.length===0?A(this,0,R):T.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(R){if(!l.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:l.compare(this,R)===0},l.prototype.inspect=function(){var R="",N=r.INSPECT_MAX_BYTES;return R=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(R+=" ... "),"<Buffer "+R+">"},i&&(l.prototype[i]=l.prototype.inspect),l.prototype.compare=function(R,N,B,ue,ve){if(Ee(R,Uint8Array)&&(R=l.from(R,R.offset,R.byteLength)),!l.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(N===void 0&&(N=0),B===void 0&&(B=R?R.length:0),ue===void 0&&(ue=0),ve===void 0&&(ve=this.length),N<0||B>R.length||ue<0||ve>this.length)throw new RangeError("out of range index");if(ue>=ve&&N>=B)return 0;if(ue>=ve)return-1;if(N>=B)return 1;if(N>>>=0,B>>>=0,ue>>>=0,ve>>>=0,this===R)return 0;for(var se=ve-ue,ge=B-N,Se=Math.min(se,ge),Te=this.slice(ue,ve),De=R.slice(N,B),Le=0;Le<Se;++Le)if(Te[Le]!==De[Le]){se=Te[Le],ge=De[Le];break}return se<ge?-1:ge<se?1:0};function D(V,R,N,B,ue){if(V.length===0)return-1;if(typeof N=="string"?(B=N,N=0):N>2147483647?N=2147483647:N<-2147483648&&(N=-2147483648),N=+N,M(N)&&(N=ue?0:V.length-1),N<0&&(N=V.length+N),N>=V.length){if(ue)return-1;N=V.length-1}else if(N<0)if(ue)N=0;else return-1;if(typeof R=="string"&&(R=l.from(R,B)),l.isBuffer(R))return R.length===0?-1:I(V,R,N,B,ue);if(typeof R=="number")return R=R&255,typeof Uint8Array.prototype.indexOf=="function"?ue?Uint8Array.prototype.indexOf.call(V,R,N):Uint8Array.prototype.lastIndexOf.call(V,R,N):I(V,[R],N,B,ue);throw new TypeError("val must be string, number or Buffer")}function I(V,R,N,B,ue){var ve=1,se=V.length,ge=R.length;if(B!==void 0&&(B=String(B).toLowerCase(),B==="ucs2"||B==="ucs-2"||B==="utf16le"||B==="utf-16le")){if(V.length<2||R.length<2)return-1;ve=2,se/=2,ge/=2,N/=2}function Se(pt,jt){return ve===1?pt[jt]:pt.readUInt16BE(jt*ve)}var Te;if(ue){var De=-1;for(Te=N;Te<se;Te++)if(Se(V,Te)===Se(R,De===-1?0:Te-De)){if(De===-1&&(De=Te),Te-De+1===ge)return De*ve}else De!==-1&&(Te-=Te-De),De=-1}else for(N+ge>se&&(N=se-ge),Te=N;Te>=0;Te--){for(var Le=!0,Ke=0;Ke<ge;Ke++)if(Se(V,Te+Ke)!==Se(R,Ke)){Le=!1;break}if(Le)return Te}return-1}l.prototype.includes=function(R,N,B){return this.indexOf(R,N,B)!==-1},l.prototype.indexOf=function(R,N,B){return D(this,R,N,B,!0)},l.prototype.lastIndexOf=function(R,N,B){return D(this,R,N,B,!1)};function L(V,R,N,B){N=Number(N)||0;var ue=V.length-N;B?(B=Number(B),B>ue&&(B=ue)):B=ue;var ve=R.length;B>ve/2&&(B=ve/2);for(var se=0;se<B;++se){var ge=parseInt(R.substr(se*2,2),16);if(M(ge))return se;V[N+se]=ge}return se}function O(V,R,N,B){return le(q(R,V.length-N),V,N,B)}function W(V,R,N,B){return le(be(R),V,N,B)}function Z(V,R,N,B){return le(ie(R),V,N,B)}function $(V,R,N,B){return le(pe(R,V.length-N),V,N,B)}l.prototype.write=function(R,N,B,ue){if(N===void 0)ue="utf8",B=this.length,N=0;else if(B===void 0&&typeof N=="string")ue=N,B=this.length,N=0;else if(isFinite(N))N=N>>>0,isFinite(B)?(B=B>>>0,ue===void 0&&(ue="utf8")):(ue=B,B=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ve=this.length-N;if((B===void 0||B>ve)&&(B=ve),R.length>0&&(B<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");ue||(ue="utf8");for(var se=!1;;)switch(ue){case"hex":return L(this,R,N,B);case"utf8":case"utf-8":return O(this,R,N,B);case"ascii":case"latin1":case"binary":return W(this,R,N,B);case"base64":return Z(this,R,N,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,R,N,B);default:if(se)throw new TypeError("Unknown encoding: "+ue);ue=(""+ue).toLowerCase(),se=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(V,R,N){return R===0&&N===V.length?e.fromByteArray(V):e.fromByteArray(V.slice(R,N))}function A(V,R,N){N=Math.min(V.length,N);for(var B=[],ue=R;ue<N;){var ve=V[ue],se=null,ge=ve>239?4:ve>223?3:ve>191?2:1;if(ue+ge<=N){var Se,Te,De,Le;switch(ge){case 1:ve<128&&(se=ve);break;case 2:Se=V[ue+1],(Se&192)===128&&(Le=(ve&31)<<6|Se&63,Le>127&&(se=Le));break;case 3:Se=V[ue+1],Te=V[ue+2],(Se&192)===128&&(Te&192)===128&&(Le=(ve&15)<<12|(Se&63)<<6|Te&63,Le>2047&&(Le<55296||Le>57343)&&(se=Le));break;case 4:Se=V[ue+1],Te=V[ue+2],De=V[ue+3],(Se&192)===128&&(Te&192)===128&&(De&192)===128&&(Le=(ve&15)<<18|(Se&63)<<12|(Te&63)<<6|De&63,Le>65535&&Le<1114112&&(se=Le))}}se===null?(se=65533,ge=1):se>65535&&(se-=65536,B.push(se>>>10&1023|55296),se=56320|se&1023),B.push(se),ue+=ge}return H(B)}var Q=4096;function H(V){var R=V.length;if(R<=Q)return String.fromCharCode.apply(String,V);for(var N="",B=0;B<R;)N+=String.fromCharCode.apply(String,V.slice(B,B+=Q));return N}function G(V,R,N){var B="";N=Math.min(V.length,N);for(var ue=R;ue<N;++ue)B+=String.fromCharCode(V[ue]&127);return B}function ne(V,R,N){var B="";N=Math.min(V.length,N);for(var ue=R;ue<N;++ue)B+=String.fromCharCode(V[ue]);return B}function J(V,R,N){var B=V.length;(!R||R<0)&&(R=0),(!N||N<0||N>B)&&(N=B);for(var ue="",ve=R;ve<N;++ve)ue+=he[V[ve]];return ue}function ee(V,R,N){for(var B=V.slice(R,N),ue="",ve=0;ve<B.length-1;ve+=2)ue+=String.fromCharCode(B[ve]+B[ve+1]*256);return ue}l.prototype.slice=function(R,N){var B=this.length;R=~~R,N=N===void 0?B:~~N,R<0?(R+=B,R<0&&(R=0)):R>B&&(R=B),N<0?(N+=B,N<0&&(N=0)):N>B&&(N=B),N<R&&(N=R);var ue=this.subarray(R,N);return Object.setPrototypeOf(ue,l.prototype),ue};function X(V,R,N){if(V%1!==0||V<0)throw new RangeError("offset is not uint");if(V+R>N)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(R,N,B){R=R>>>0,N=N>>>0,B||X(R,N,this.length);for(var ue=this[R],ve=1,se=0;++se<N&&(ve*=256);)ue+=this[R+se]*ve;return ue},l.prototype.readUintBE=l.prototype.readUIntBE=function(R,N,B){R=R>>>0,N=N>>>0,B||X(R,N,this.length);for(var ue=this[R+--N],ve=1;N>0&&(ve*=256);)ue+=this[R+--N]*ve;return ue},l.prototype.readUint8=l.prototype.readUInt8=function(R,N){return R=R>>>0,N||X(R,1,this.length),this[R]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(R,N){return R=R>>>0,N||X(R,2,this.length),this[R]|this[R+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(R,N){return R=R>>>0,N||X(R,2,this.length),this[R]<<8|this[R+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(R,N){return R=R>>>0,N||X(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(R,N){return R=R>>>0,N||X(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},l.prototype.readIntLE=function(R,N,B){R=R>>>0,N=N>>>0,B||X(R,N,this.length);for(var ue=this[R],ve=1,se=0;++se<N&&(ve*=256);)ue+=this[R+se]*ve;return ve*=128,ue>=ve&&(ue-=Math.pow(2,8*N)),ue},l.prototype.readIntBE=function(R,N,B){R=R>>>0,N=N>>>0,B||X(R,N,this.length);for(var ue=N,ve=1,se=this[R+--ue];ue>0&&(ve*=256);)se+=this[R+--ue]*ve;return ve*=128,se>=ve&&(se-=Math.pow(2,8*N)),se},l.prototype.readInt8=function(R,N){return R=R>>>0,N||X(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},l.prototype.readInt16LE=function(R,N){R=R>>>0,N||X(R,2,this.length);var B=this[R]|this[R+1]<<8;return B&32768?B|4294901760:B},l.prototype.readInt16BE=function(R,N){R=R>>>0,N||X(R,2,this.length);var B=this[R+1]|this[R]<<8;return B&32768?B|4294901760:B},l.prototype.readInt32LE=function(R,N){return R=R>>>0,N||X(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},l.prototype.readInt32BE=function(R,N){return R=R>>>0,N||X(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},l.prototype.readFloatLE=function(R,N){return R=R>>>0,N||X(R,4,this.length),n.read(this,R,!0,23,4)},l.prototype.readFloatBE=function(R,N){return R=R>>>0,N||X(R,4,this.length),n.read(this,R,!1,23,4)},l.prototype.readDoubleLE=function(R,N){return R=R>>>0,N||X(R,8,this.length),n.read(this,R,!0,52,8)},l.prototype.readDoubleBE=function(R,N){return R=R>>>0,N||X(R,8,this.length),n.read(this,R,!1,52,8)};function j(V,R,N,B,ue,ve){if(!l.isBuffer(V))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>ue||R<ve)throw new RangeError('"value" argument is out of bounds');if(N+B>V.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(R,N,B,ue){if(R=+R,N=N>>>0,B=B>>>0,!ue){var ve=Math.pow(2,8*B)-1;j(this,R,N,B,ve,0)}var se=1,ge=0;for(this[N]=R&255;++ge<B&&(se*=256);)this[N+ge]=R/se&255;return N+B},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(R,N,B,ue){if(R=+R,N=N>>>0,B=B>>>0,!ue){var ve=Math.pow(2,8*B)-1;j(this,R,N,B,ve,0)}var se=B-1,ge=1;for(this[N+se]=R&255;--se>=0&&(ge*=256);)this[N+se]=R/ge&255;return N+B},l.prototype.writeUint8=l.prototype.writeUInt8=function(R,N,B){return R=+R,N=N>>>0,B||j(this,R,N,1,255,0),this[N]=R&255,N+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(R,N,B){return R=+R,N=N>>>0,B||j(this,R,N,2,65535,0),this[N]=R&255,this[N+1]=R>>>8,N+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(R,N,B){return R=+R,N=N>>>0,B||j(this,R,N,2,65535,0),this[N]=R>>>8,this[N+1]=R&255,N+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(R,N,B){return R=+R,N=N>>>0,B||j(this,R,N,4,4294967295,0),this[N+3]=R>>>24,this[N+2]=R>>>16,this[N+1]=R>>>8,this[N]=R&255,N+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(R,N,B){return R=+R,N=N>>>0,B||j(this,R,N,4,4294967295,0),this[N]=R>>>24,this[N+1]=R>>>16,this[N+2]=R>>>8,this[N+3]=R&255,N+4},l.prototype.writeIntLE=function(R,N,B,ue){if(R=+R,N=N>>>0,!ue){var ve=Math.pow(2,8*B-1);j(this,R,N,B,ve-1,-ve)}var se=0,ge=1,Se=0;for(this[N]=R&255;++se<B&&(ge*=256);)R<0&&Se===0&&this[N+se-1]!==0&&(Se=1),this[N+se]=(R/ge>>0)-Se&255;return N+B},l.prototype.writeIntBE=function(R,N,B,ue){if(R=+R,N=N>>>0,!ue){var ve=Math.pow(2,8*B-1);j(this,R,N,B,ve-1,-ve)}var se=B-1,ge=1,Se=0;for(this[N+se]=R&255;--se>=0&&(ge*=256);)R<0&&Se===0&&this[N+se+1]!==0&&(Se=1),this[N+se]=(R/ge>>0)-Se&255;return N+B},l.prototype.writeInt8=function(R,N,B){return R=+R,N=N>>>0,B||j(this,R,N,1,127,-128),R<0&&(R=255+R+1),this[N]=R&255,N+1},l.prototype.writeInt16LE=function(R,N,B){return R=+R,N=N>>>0,B||j(this,R,N,2,32767,-32768),this[N]=R&255,this[N+1]=R>>>8,N+2},l.prototype.writeInt16BE=function(R,N,B){return R=+R,N=N>>>0,B||j(this,R,N,2,32767,-32768),this[N]=R>>>8,this[N+1]=R&255,N+2},l.prototype.writeInt32LE=function(R,N,B){return R=+R,N=N>>>0,B||j(this,R,N,4,2147483647,-2147483648),this[N]=R&255,this[N+1]=R>>>8,this[N+2]=R>>>16,this[N+3]=R>>>24,N+4},l.prototype.writeInt32BE=function(R,N,B){return R=+R,N=N>>>0,B||j(this,R,N,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[N]=R>>>24,this[N+1]=R>>>16,this[N+2]=R>>>8,this[N+3]=R&255,N+4};function ae(V,R,N,B,ue,ve){if(N+B>V.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function re(V,R,N,B,ue){return R=+R,N=N>>>0,ue||ae(V,R,N,4),n.write(V,R,N,B,23,4),N+4}l.prototype.writeFloatLE=function(R,N,B){return re(this,R,N,!0,B)},l.prototype.writeFloatBE=function(R,N,B){return re(this,R,N,!1,B)};function de(V,R,N,B,ue){return R=+R,N=N>>>0,ue||ae(V,R,N,8),n.write(V,R,N,B,52,8),N+8}l.prototype.writeDoubleLE=function(R,N,B){return de(this,R,N,!0,B)},l.prototype.writeDoubleBE=function(R,N,B){return de(this,R,N,!1,B)},l.prototype.copy=function(R,N,B,ue){if(!l.isBuffer(R))throw new TypeError("argument should be a Buffer");if(B||(B=0),!ue&&ue!==0&&(ue=this.length),N>=R.length&&(N=R.length),N||(N=0),ue>0&&ue<B&&(ue=B),ue===B||R.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(B<0||B>=this.length)throw new RangeError("Index out of range");if(ue<0)throw new RangeError("sourceEnd out of bounds");ue>this.length&&(ue=this.length),R.length-N<ue-B&&(ue=R.length-N+B);var ve=ue-B;return this===R&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(N,B,ue):Uint8Array.prototype.set.call(R,this.subarray(B,ue),N),ve},l.prototype.fill=function(R,N,B,ue){if(typeof R=="string"){if(typeof N=="string"?(ue=N,N=0,B=this.length):typeof B=="string"&&(ue=B,B=this.length),ue!==void 0&&typeof ue!="string")throw new TypeError("encoding must be a string");if(typeof ue=="string"&&!l.isEncoding(ue))throw new TypeError("Unknown encoding: "+ue);if(R.length===1){var ve=R.charCodeAt(0);(ue==="utf8"&&ve<128||ue==="latin1")&&(R=ve)}}else typeof R=="number"?R=R&255:typeof R=="boolean"&&(R=Number(R));if(N<0||this.length<N||this.length<B)throw new RangeError("Out of range index");if(B<=N)return this;N=N>>>0,B=B===void 0?this.length:B>>>0,R||(R=0);var se;if(typeof R=="number")for(se=N;se<B;++se)this[se]=R;else{var ge=l.isBuffer(R)?R:l.from(R,ue),Se=ge.length;if(Se===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(se=0;se<B-N;++se)this[se+N]=ge[se%Se]}return this};var me=/[^+/0-9A-Za-z-_]/g;function K(V){if(V=V.split("=")[0],V=V.trim().replace(me,""),V.length<2)return"";for(;V.length%4!==0;)V=V+"=";return V}function q(V,R){R=R||1/0;for(var N,B=V.length,ue=null,ve=[],se=0;se<B;++se){if(N=V.charCodeAt(se),N>55295&&N<57344){if(!ue){if(N>56319){(R-=3)>-1&&ve.push(239,191,189);continue}else if(se+1===B){(R-=3)>-1&&ve.push(239,191,189);continue}ue=N;continue}if(N<56320){(R-=3)>-1&&ve.push(239,191,189),ue=N;continue}N=(ue-55296<<10|N-56320)+65536}else ue&&(R-=3)>-1&&ve.push(239,191,189);if(ue=null,N<128){if((R-=1)<0)break;ve.push(N)}else if(N<2048){if((R-=2)<0)break;ve.push(N>>6|192,N&63|128)}else if(N<65536){if((R-=3)<0)break;ve.push(N>>12|224,N>>6&63|128,N&63|128)}else if(N<1114112){if((R-=4)<0)break;ve.push(N>>18|240,N>>12&63|128,N>>6&63|128,N&63|128)}else throw new Error("Invalid code point")}return ve}function be(V){for(var R=[],N=0;N<V.length;++N)R.push(V.charCodeAt(N)&255);return R}function pe(V,R){for(var N,B,ue,ve=[],se=0;se<V.length&&!((R-=2)<0);++se)N=V.charCodeAt(se),B=N>>8,ue=N%256,ve.push(ue),ve.push(B);return ve}function ie(V){return e.toByteArray(K(V))}function le(V,R,N,B){for(var ue=0;ue<B&&!(ue+N>=R.length||ue>=V.length);++ue)R[ue+N]=V[ue];return ue}function Ee(V,R){return V instanceof R||V!=null&&V.constructor!=null&&V.constructor.name!=null&&V.constructor.name===R.name}function M(V){return V!==V}var he=function(){for(var V="0123456789abcdef",R=new Array(256),N=0;N<16;++N)for(var B=N*16,ue=0;ue<16;++ue)R[B+ue]=V[N]+V[ue];return R}()}(x7)),x7}var w7={},S7={},k7,lK;function Hfe(){return lK||(lK=1,k7=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),i=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var o=42;e[n]=o;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,n);if(s.value!==o||s.enumerable!==!0)return!1}return!0}),k7}var T7,cK;function pP(){if(cK)return T7;cK=1;var r=Hfe();return T7=function(){return r()&&!!Symbol.toStringTag},T7}var E7,uK;function EZe(){if(uK)return E7;uK=1;var r=typeof Symbol<"u"&&Symbol,e=Hfe();return E7=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},E7}var C7,dK;function CZe(){if(dK)return C7;dK=1;var r={foo:{}},e=Object;return C7=function(){return{__proto__:r}.foo===r.foo&&!({__proto__:null}instanceof e)},C7}var _7,hK;function _Ze(){if(hK)return _7;hK=1;var r="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,i="[object Function]",o=function(c,u){for(var d=[],h=0;h<c.length;h+=1)d[h]=c[h];for(var f=0;f<u.length;f+=1)d[f+c.length]=u[f];return d},a=function(c,u){for(var d=[],h=u,f=0;h<c.length;h+=1,f+=1)d[f]=c[h];return d},s=function(l,c){for(var u="",d=0;d<l.length;d+=1)u+=l[d],d+1<l.length&&(u+=c);return u};return _7=function(c){var u=this;if(typeof u!="function"||e.apply(u)!==i)throw new TypeError(r+u);for(var d=a(arguments,1),h,f=function(){if(this instanceof h){var x=u.apply(this,o(d,arguments));return Object(x)===x?x:this}return u.apply(c,o(d,arguments))},m=n(0,u.length-d.length),b=[],g=0;g<m;g++)b[g]="$"+g;if(h=Function("binder","return function ("+s(b,",")+"){ return binder.apply(this,arguments); }")(f),u.prototype){var v=function(){};v.prototype=u.prototype,h.prototype=new v,v.prototype=null}return h},_7}var A7,fK;function mP(){if(fK)return A7;fK=1;var r=_Ze();return A7=Function.prototype.bind||r,A7}var D7,pK;function AZe(){if(pK)return D7;pK=1;var r=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=mP();return D7=n.call(r,e),D7}var M7,mK;function gg(){if(mK)return M7;mK=1;var r,e=SyntaxError,n=Function,i=TypeError,o=function($){try{return n('"use strict"; return ('+$+").constructor;")()}catch{}},a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch{a=null}var s=function(){throw new i},l=a?function(){try{return arguments.callee,s}catch{try{return a(arguments,"callee").get}catch{return s}}}():s,c=EZe()(),u=CZe()(),d=Object.getPrototypeOf||(u?function($){return $.__proto__}:null),h={},f=typeof Uint8Array>"u"||!d?r:d(Uint8Array),m={"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":c&&d?d([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":h,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c&&d?d(d([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!c||!d?r:d(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!c||!d?r:d(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c&&d?d(""[Symbol.iterator]()):r,"%Symbol%":c?Symbol:r,"%SyntaxError%":e,"%ThrowTypeError%":l,"%TypedArray%":f,"%TypeError%":i,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet};if(d)try{null.error}catch($){var b=d(d($));m["%Error.prototype%"]=b}var g=function $(F){var A;if(F==="%AsyncFunction%")A=o("async function () {}");else if(F==="%GeneratorFunction%")A=o("function* () {}");else if(F==="%AsyncGeneratorFunction%")A=o("async function* () {}");else if(F==="%AsyncGenerator%"){var Q=$("%AsyncGeneratorFunction%");Q&&(A=Q.prototype)}else if(F==="%AsyncIteratorPrototype%"){var H=$("%AsyncGenerator%");H&&d&&(A=d(H.prototype))}return m[F]=A,A},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},x=mP(),w=AZe(),k=x.call(Function.call,Array.prototype.concat),T=x.call(Function.apply,Array.prototype.splice),_=x.call(Function.call,String.prototype.replace),D=x.call(Function.call,String.prototype.slice),I=x.call(Function.call,RegExp.prototype.exec),L=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,O=/\\(\\)?/g,W=function(F){var A=D(F,0,1),Q=D(F,-1);if(A==="%"&&Q!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if(Q==="%"&&A!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var H=[];return _(F,L,function(G,ne,J,ee){H[H.length]=J?_(ee,O,"$1"):ne||G}),H},Z=function(F,A){var Q=F,H;if(w(v,Q)&&(H=v[Q],Q="%"+H[0]+"%"),w(m,Q)){var G=m[Q];if(G===h&&(G=g(Q)),typeof G>"u"&&!A)throw new i("intrinsic "+F+" exists, but is not available. Please file an issue!");return{alias:H,name:Q,value:G}}throw new e("intrinsic "+F+" does not exist!")};return M7=function(F,A){if(typeof F!="string"||F.length===0)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof A!="boolean")throw new i('"allowMissing" argument must be a boolean');if(I(/^%?[^%]*%?$/,F)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Q=W(F),H=Q.length>0?Q[0]:"",G=Z("%"+H+"%",A),ne=G.name,J=G.value,ee=!1,X=G.alias;X&&(H=X[0],T(Q,k([0,1],X)));for(var j=1,ae=!0;j<Q.length;j+=1){var re=Q[j],de=D(re,0,1),me=D(re,-1);if((de==='"'||de==="'"||de==="`"||me==='"'||me==="'"||me==="`")&&de!==me)throw new e("property names with quotes must have matching quotes");if((re==="constructor"||!ae)&&(ee=!0),H+="."+re,ne="%"+H+"%",w(m,ne))J=m[ne];else if(J!=null){if(!(re in J)){if(!A)throw new i("base intrinsic for "+F+" exists, but the property is not available.");return}if(a&&j+1>=Q.length){var K=a(J,re);ae=!!K,ae&&"get"in K&&!("originalValue"in K.get)?J=K.get:J=J[re]}else ae=w(J,re),J=J[re];ae&&!ee&&(m[ne]=J)}}return J},M7}var R7={exports:{}},N7,gK;function Wfe(){if(gK)return N7;gK=1;var r=gg(),e=r("%Object.defineProperty%",!0),n=function(){if(e)try{return e({},"a",{value:1}),!0}catch{return!1}return!1};return n.hasArrayLengthDefineBug=function(){if(!n())return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},N7=n,N7}var O7,yK;function gP(){if(yK)return O7;yK=1;var r=gg(),e=r("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return O7=e,O7}var P7,bK;function DZe(){if(bK)return P7;bK=1;var r=Wfe()(),e=gg(),n=r&&e("%Object.defineProperty%",!0);if(n)try{n({},"a",{value:1})}catch{n=!1}var i=e("%SyntaxError%"),o=e("%TypeError%"),a=gP();return P7=function(l,c,u){if(!l||typeof l!="object"&&typeof l!="function")throw new o("`obj` must be an object or a function`");if(typeof c!="string"&&typeof c!="symbol")throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new o("`loose`, if provided, must be a boolean");var d=arguments.length>3?arguments[3]:null,h=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,m=arguments.length>6?arguments[6]:!1,b=!!a&&a(l,c);if(n)n(l,c,{configurable:f===null&&b?b.configurable:!f,enumerable:d===null&&b?b.enumerable:!d,value:u,writable:h===null&&b?b.writable:!h});else if(m||!d&&!h&&!f)l[c]=u;else throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},P7}var I7,vK;function MZe(){if(vK)return I7;vK=1;var r=gg(),e=DZe(),n=Wfe()(),i=gP(),o=r("%TypeError%"),a=r("%Math.floor%");return I7=function(l,c){if(typeof l!="function")throw new o("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||a(c)!==c)throw new o("`length` must be a positive 32-bit integer");var u=arguments.length>2&&!!arguments[2],d=!0,h=!0;if("length"in l&&i){var f=i(l,"length");f&&!f.configurable&&(d=!1),f&&!f.writable&&(h=!1)}return(d||h||!u)&&(n?e(l,"length",c,!0,!0):e(l,"length",c)),l},I7}var xK;function Vfe(){return xK||(xK=1,function(r){var e=mP(),n=gg(),i=MZe(),o=n("%TypeError%"),a=n("%Function.prototype.apply%"),s=n("%Function.prototype.call%"),l=n("%Reflect.apply%",!0)||e.call(s,a),c=n("%Object.defineProperty%",!0),u=n("%Math.max%");if(c)try{c({},"a",{value:1})}catch{c=null}r.exports=function(f){if(typeof f!="function")throw new o("a function is required");var m=l(e,s,arguments);return i(m,1+u(0,f.length-(arguments.length-1)),!0)};var d=function(){return l(e,a,arguments)};c?c(r.exports,"apply",{value:d}):r.exports.apply=d}(R7)),R7.exports}var $7,wK;function qfe(){if(wK)return $7;wK=1;var r=gg(),e=Vfe(),n=e(r("String.prototype.indexOf"));return $7=function(o,a){var s=r(o,!!a);return typeof s=="function"&&n(o,".prototype.")>-1?e(s):s},$7}var z7,SK;function RZe(){if(SK)return z7;SK=1;var r=pP()(),e=qfe(),n=e("Object.prototype.toString"),i=function(l){return r&&l&&typeof l=="object"&&Symbol.toStringTag in l?!1:n(l)==="[object Arguments]"},o=function(l){return i(l)?!0:l!==null&&typeof l=="object"&&typeof l.length=="number"&&l.length>=0&&n(l)!=="[object Array]"&&n(l.callee)==="[object Function]"},a=function(){return i(arguments)}();return i.isLegacyArguments=o,z7=a?i:o,z7}var L7,kK;function NZe(){if(kK)return L7;kK=1;var r=Object.prototype.toString,e=Function.prototype.toString,n=/^\s*(?:function)?\*/,i=pP()(),o=Object.getPrototypeOf,a=function(){if(!i)return!1;try{return Function("return function*() {}")()}catch{}},s;return L7=function(c){if(typeof c!="function")return!1;if(n.test(e.call(c)))return!0;if(!i){var u=r.call(c);return u==="[object GeneratorFunction]"}if(!o)return!1;if(typeof s>"u"){var d=a();s=d?o(d):!1}return o(c)===s},L7}var U7,TK;function OZe(){if(TK)return U7;TK=1;var r=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,i;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw i}}),i={},e(function(){throw 42},null,n)}catch(w){w!==i&&(e=null)}else e=null;var o=/^\s*class\b/,a=function(k){try{var T=r.call(k);return o.test(T)}catch{return!1}},s=function(k){try{return a(k)?!1:(r.call(k),!0)}catch{return!1}},l=Object.prototype.toString,c="[object Object]",u="[object Function]",d="[object GeneratorFunction]",h="[object HTMLAllCollection]",f="[object HTML document.all class]",m="[object HTMLCollection]",b=typeof Symbol=="function"&&!!Symbol.toStringTag,g=!(0 in[,]),v=function(){return!1};if(typeof document=="object"){var x=document.all;l.call(x)===l.call(document.all)&&(v=function(k){if((g||!k)&&(typeof k>"u"||typeof k=="object"))try{var T=l.call(k);return(T===h||T===f||T===m||T===c)&&k("")==null}catch{}return!1})}return U7=e?function(k){if(v(k))return!0;if(!k||typeof k!="function"&&typeof k!="object")return!1;try{e(k,null,n)}catch(T){if(T!==i)return!1}return!a(k)&&s(k)}:function(k){if(v(k))return!0;if(!k||typeof k!="function"&&typeof k!="object")return!1;if(b)return s(k);if(a(k))return!1;var T=l.call(k);return T!==u&&T!==d&&!/^\[object HTML/.test(T)?!1:s(k)},U7}var B7,EK;function PZe(){if(EK)return B7;EK=1;var r=OZe(),e=Object.prototype.toString,n=Object.prototype.hasOwnProperty,i=function(c,u,d){for(var h=0,f=c.length;h<f;h++)n.call(c,h)&&(d==null?u(c[h],h,c):u.call(d,c[h],h,c))},o=function(c,u,d){for(var h=0,f=c.length;h<f;h++)d==null?u(c.charAt(h),h,c):u.call(d,c.charAt(h),h,c)},a=function(c,u,d){for(var h in c)n.call(c,h)&&(d==null?u(c[h],h,c):u.call(d,c[h],h,c))},s=function(c,u,d){if(!r(u))throw new TypeError("iterator must be a function");var h;arguments.length>=3&&(h=d),e.call(c)==="[object Array]"?i(c,u,h):typeof c=="string"?o(c,u,h):a(c,u,h)};return B7=s,B7}var j7,CK;function IZe(){if(CK)return j7;CK=1;var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],e=typeof globalThis>"u"?fl:globalThis;return j7=function(){for(var i=[],o=0;o<r.length;o++)typeof e[r[o]]=="function"&&(i[i.length]=r[o]);return i},j7}var F7,_K;function Gfe(){if(_K)return F7;_K=1;var r=PZe(),e=IZe(),n=Vfe(),i=qfe(),o=gP(),a=i("Object.prototype.toString"),s=pP()(),l=typeof globalThis>"u"?fl:globalThis,c=e(),u=i("String.prototype.slice"),d=Object.getPrototypeOf,h=i("Array.prototype.indexOf",!0)||function(v,x){for(var w=0;w<v.length;w+=1)if(v[w]===x)return w;return-1},f={__proto__:null};s&&o&&d?r(c,function(g){var v=new l[g];if(Symbol.toStringTag in v){var x=d(v),w=o(x,Symbol.toStringTag);if(!w){var k=d(x);w=o(k,Symbol.toStringTag)}f["$"+g]=n(w.get)}}):r(c,function(g){var v=new l[g],x=v.slice||v.set;x&&(f["$"+g]=n(x))});var m=function(v){var x=!1;return r(f,function(w,k){if(!x)try{"$"+w(v)===k&&(x=u(k,1))}catch{}}),x},b=function(v){var x=!1;return r(f,function(w,k){if(!x)try{w(v),x=u(k,1)}catch{}}),x};return F7=function(v){if(!v||typeof v!="object")return!1;if(!s){var x=u(a(v),8,-1);return h(c,x)>-1?x:x!=="Object"?!1:b(v)}return o?m(v):null},F7}var H7,AK;function $Ze(){if(AK)return H7;AK=1;var r=Gfe();return H7=function(n){return!!r(n)},H7}var DK;function zZe(){return DK||(DK=1,function(r){var e=RZe(),n=NZe(),i=Gfe(),o=$Ze();function a(B){return B.call.bind(B)}var s=typeof BigInt<"u",l=typeof Symbol<"u",c=a(Object.prototype.toString),u=a(Number.prototype.valueOf),d=a(String.prototype.valueOf),h=a(Boolean.prototype.valueOf);if(s)var f=a(BigInt.prototype.valueOf);if(l)var m=a(Symbol.prototype.valueOf);function b(B,ue){if(typeof B!="object")return!1;try{return ue(B),!0}catch{return!1}}r.isArgumentsObject=e,r.isGeneratorFunction=n,r.isTypedArray=o;function g(B){return typeof Promise<"u"&&B instanceof Promise||B!==null&&typeof B=="object"&&typeof B.then=="function"&&typeof B.catch=="function"}r.isPromise=g;function v(B){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(B):o(B)||ae(B)}r.isArrayBufferView=v;function x(B){return i(B)==="Uint8Array"}r.isUint8Array=x;function w(B){return i(B)==="Uint8ClampedArray"}r.isUint8ClampedArray=w;function k(B){return i(B)==="Uint16Array"}r.isUint16Array=k;function T(B){return i(B)==="Uint32Array"}r.isUint32Array=T;function _(B){return i(B)==="Int8Array"}r.isInt8Array=_;function D(B){return i(B)==="Int16Array"}r.isInt16Array=D;function I(B){return i(B)==="Int32Array"}r.isInt32Array=I;function L(B){return i(B)==="Float32Array"}r.isFloat32Array=L;function O(B){return i(B)==="Float64Array"}r.isFloat64Array=O;function W(B){return i(B)==="BigInt64Array"}r.isBigInt64Array=W;function Z(B){return i(B)==="BigUint64Array"}r.isBigUint64Array=Z;function $(B){return c(B)==="[object Map]"}$.working=typeof Map<"u"&&$(new Map);function F(B){return typeof Map>"u"?!1:$.working?$(B):B instanceof Map}r.isMap=F;function A(B){return c(B)==="[object Set]"}A.working=typeof Set<"u"&&A(new Set);function Q(B){return typeof Set>"u"?!1:A.working?A(B):B instanceof Set}r.isSet=Q;function H(B){return c(B)==="[object WeakMap]"}H.working=typeof WeakMap<"u"&&H(new WeakMap);function G(B){return typeof WeakMap>"u"?!1:H.working?H(B):B instanceof WeakMap}r.isWeakMap=G;function ne(B){return c(B)==="[object WeakSet]"}ne.working=typeof WeakSet<"u"&&ne(new WeakSet);function J(B){return ne(B)}r.isWeakSet=J;function ee(B){return c(B)==="[object ArrayBuffer]"}ee.working=typeof ArrayBuffer<"u"&&ee(new ArrayBuffer);function X(B){return typeof ArrayBuffer>"u"?!1:ee.working?ee(B):B instanceof ArrayBuffer}r.isArrayBuffer=X;function j(B){return c(B)==="[object DataView]"}j.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&j(new DataView(new ArrayBuffer(1),0,1));function ae(B){return typeof DataView>"u"?!1:j.working?j(B):B instanceof DataView}r.isDataView=ae;var re=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function de(B){return c(B)==="[object SharedArrayBuffer]"}function me(B){return typeof re>"u"?!1:(typeof de.working>"u"&&(de.working=de(new re)),de.working?de(B):B instanceof re)}r.isSharedArrayBuffer=me;function K(B){return c(B)==="[object AsyncFunction]"}r.isAsyncFunction=K;function q(B){return c(B)==="[object Map Iterator]"}r.isMapIterator=q;function be(B){return c(B)==="[object Set Iterator]"}r.isSetIterator=be;function pe(B){return c(B)==="[object Generator]"}r.isGeneratorObject=pe;function ie(B){return c(B)==="[object WebAssembly.Module]"}r.isWebAssemblyCompiledModule=ie;function le(B){return b(B,u)}r.isNumberObject=le;function Ee(B){return b(B,d)}r.isStringObject=Ee;function M(B){return b(B,h)}r.isBooleanObject=M;function he(B){return s&&b(B,f)}r.isBigIntObject=he;function V(B){return l&&b(B,m)}r.isSymbolObject=V;function R(B){return le(B)||Ee(B)||M(B)||he(B)||V(B)}r.isBoxedPrimitive=R;function N(B){return typeof Uint8Array<"u"&&(X(B)||me(B))}r.isAnyArrayBuffer=N,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(B){Object.defineProperty(r,B,{enumerable:!1,value:function(){throw new Error(B+" is not supported in userland")}})})}(S7)),S7}var W7,MK;function LZe(){return MK||(MK=1,W7=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),W7}var RK;function Kfe(){return RK||(RK=1,function(r){var e=Object.getOwnPropertyDescriptors||function(ae){for(var re=Object.keys(ae),de={},me=0;me<re.length;me++)de[re[me]]=Object.getOwnPropertyDescriptor(ae,re[me]);return de},n=/%[sdj%]/g;r.format=function(j){if(!_(j)){for(var ae=[],re=0;re<arguments.length;re++)ae.push(s(arguments[re]));return ae.join(" ")}for(var re=1,de=arguments,me=de.length,K=String(j).replace(n,function(be){if(be==="%%")return"%";if(re>=me)return be;switch(be){case"%s":return String(de[re++]);case"%d":return Number(de[re++]);case"%j":try{return JSON.stringify(de[re++])}catch{return"[Circular]"}default:return be}}),q=de[re];re<me;q=de[++re])w(q)||!O(q)?K+=" "+q:K+=" "+s(q);return K},r.deprecate=function(j,ae){if(typeof fn<"u"&&fn.noDeprecation===!0)return j;if(typeof fn>"u")return function(){return r.deprecate(j,ae).apply(this,arguments)};var re=!1;function de(){if(!re){if(fn.throwDeprecation)throw new Error(ae);fn.traceDeprecation?console.trace(ae):console.error(ae),re=!0}return j.apply(this,arguments)}return de};var i={},o=/^$/;if(fn.env.NODE_DEBUG){var a=fn.env.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+a+"$","i")}r.debuglog=function(j){if(j=j.toUpperCase(),!i[j])if(o.test(j)){var ae=fn.pid;i[j]=function(){var re=r.format.apply(r,arguments);console.error("%s %d: %s",j,ae,re)}}else i[j]=function(){};return i[j]};function s(j,ae){var re={seen:[],stylize:c};return arguments.length>=3&&(re.depth=arguments[2]),arguments.length>=4&&(re.colors=arguments[3]),x(ae)?re.showHidden=ae:ae&&r._extend(re,ae),I(re.showHidden)&&(re.showHidden=!1),I(re.depth)&&(re.depth=2),I(re.colors)&&(re.colors=!1),I(re.customInspect)&&(re.customInspect=!0),re.colors&&(re.stylize=l),d(re,j,re.depth)}r.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function l(j,ae){var re=s.styles[ae];return re?"\x1B["+s.colors[re][0]+"m"+j+"\x1B["+s.colors[re][1]+"m":j}function c(j,ae){return j}function u(j){var ae={};return j.forEach(function(re,de){ae[re]=!0}),ae}function d(j,ae,re){if(j.customInspect&&ae&&$(ae.inspect)&&ae.inspect!==r.inspect&&!(ae.constructor&&ae.constructor.prototype===ae)){var de=ae.inspect(re,j);return _(de)||(de=d(j,de,re)),de}var me=h(j,ae);if(me)return me;var K=Object.keys(ae),q=u(K);if(j.showHidden&&(K=Object.getOwnPropertyNames(ae)),Z(ae)&&(K.indexOf("message")>=0||K.indexOf("description")>=0))return f(ae);if(K.length===0){if($(ae)){var be=ae.name?": "+ae.name:"";return j.stylize("[Function"+be+"]","special")}if(L(ae))return j.stylize(RegExp.prototype.toString.call(ae),"regexp");if(W(ae))return j.stylize(Date.prototype.toString.call(ae),"date");if(Z(ae))return f(ae)}var pe="",ie=!1,le=["{","}"];if(v(ae)&&(ie=!0,le=["[","]"]),$(ae)){var Ee=ae.name?": "+ae.name:"";pe=" [Function"+Ee+"]"}if(L(ae)&&(pe=" "+RegExp.prototype.toString.call(ae)),W(ae)&&(pe=" "+Date.prototype.toUTCString.call(ae)),Z(ae)&&(pe=" "+f(ae)),K.length===0&&(!ie||ae.length==0))return le[0]+pe+le[1];if(re<0)return L(ae)?j.stylize(RegExp.prototype.toString.call(ae),"regexp"):j.stylize("[Object]","special");j.seen.push(ae);var M;return ie?M=m(j,ae,re,q,K):M=K.map(function(he){return b(j,ae,re,q,he,ie)}),j.seen.pop(),g(M,pe,le)}function h(j,ae){if(I(ae))return j.stylize("undefined","undefined");if(_(ae)){var re="'"+JSON.stringify(ae).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return j.stylize(re,"string")}if(T(ae))return j.stylize(""+ae,"number");if(x(ae))return j.stylize(""+ae,"boolean");if(w(ae))return j.stylize("null","null")}function f(j){return"["+Error.prototype.toString.call(j)+"]"}function m(j,ae,re,de,me){for(var K=[],q=0,be=ae.length;q<be;++q)ne(ae,String(q))?K.push(b(j,ae,re,de,String(q),!0)):K.push("");return me.forEach(function(pe){pe.match(/^\d+$/)||K.push(b(j,ae,re,de,pe,!0))}),K}function b(j,ae,re,de,me,K){var q,be,pe;if(pe=Object.getOwnPropertyDescriptor(ae,me)||{value:ae[me]},pe.get?pe.set?be=j.stylize("[Getter/Setter]","special"):be=j.stylize("[Getter]","special"):pe.set&&(be=j.stylize("[Setter]","special")),ne(de,me)||(q="["+me+"]"),be||(j.seen.indexOf(pe.value)<0?(w(re)?be=d(j,pe.value,null):be=d(j,pe.value,re-1),be.indexOf(`
`)>-1&&(K?be=be.split(`
`).map(function(ie){return"  "+ie}).join(`
`).slice(2):be=`
`+be.split(`
`).map(function(ie){return"   "+ie}).join(`
`))):be=j.stylize("[Circular]","special")),I(q)){if(K&&me.match(/^\d+$/))return be;q=JSON.stringify(""+me),q.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(q=q.slice(1,-1),q=j.stylize(q,"name")):(q=q.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),q=j.stylize(q,"string"))}return q+": "+be}function g(j,ae,re){var de=j.reduce(function(me,K){return K.indexOf(`
`)>=0,me+K.replace(/\u001b\[\d\d?m/g,"").length+1},0);return de>60?re[0]+(ae===""?"":ae+`
 `)+" "+j.join(`,
  `)+" "+re[1]:re[0]+ae+" "+j.join(", ")+" "+re[1]}r.types=zZe();function v(j){return Array.isArray(j)}r.isArray=v;function x(j){return typeof j=="boolean"}r.isBoolean=x;function w(j){return j===null}r.isNull=w;function k(j){return j==null}r.isNullOrUndefined=k;function T(j){return typeof j=="number"}r.isNumber=T;function _(j){return typeof j=="string"}r.isString=_;function D(j){return typeof j=="symbol"}r.isSymbol=D;function I(j){return j===void 0}r.isUndefined=I;function L(j){return O(j)&&A(j)==="[object RegExp]"}r.isRegExp=L,r.types.isRegExp=L;function O(j){return typeof j=="object"&&j!==null}r.isObject=O;function W(j){return O(j)&&A(j)==="[object Date]"}r.isDate=W,r.types.isDate=W;function Z(j){return O(j)&&(A(j)==="[object Error]"||j instanceof Error)}r.isError=Z,r.types.isNativeError=Z;function $(j){return typeof j=="function"}r.isFunction=$;function F(j){return j===null||typeof j=="boolean"||typeof j=="number"||typeof j=="string"||typeof j=="symbol"||typeof j>"u"}r.isPrimitive=F,r.isBuffer=LZe();function A(j){return Object.prototype.toString.call(j)}function Q(j){return j<10?"0"+j.toString(10):j.toString(10)}var H=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function G(){var j=new Date,ae=[Q(j.getHours()),Q(j.getMinutes()),Q(j.getSeconds())].join(":");return[j.getDate(),H[j.getMonth()],ae].join(" ")}r.log=function(){console.log("%s - %s",G(),r.format.apply(r,arguments))},r.inherits=bp,r._extend=function(j,ae){if(!ae||!O(ae))return j;for(var re=Object.keys(ae),de=re.length;de--;)j[re[de]]=ae[re[de]];return j};function ne(j,ae){return Object.prototype.hasOwnProperty.call(j,ae)}var J=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;r.promisify=function(ae){if(typeof ae!="function")throw new TypeError('The "original" argument must be of type Function');if(J&&ae[J]){var re=ae[J];if(typeof re!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(re,J,{value:re,enumerable:!1,writable:!1,configurable:!0}),re}function re(){for(var de,me,K=new Promise(function(pe,ie){de=pe,me=ie}),q=[],be=0;be<arguments.length;be++)q.push(arguments[be]);q.push(function(pe,ie){pe?me(pe):de(ie)});try{ae.apply(this,q)}catch(pe){me(pe)}return K}return Object.setPrototypeOf(re,Object.getPrototypeOf(ae)),J&&Object.defineProperty(re,J,{value:re,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(re,e(ae))},r.promisify.custom=J;function ee(j,ae){if(!j){var re=new Error("Promise was rejected with a falsy value");re.reason=j,j=re}return ae(j)}function X(j){if(typeof j!="function")throw new TypeError('The "original" argument must be of type Function');function ae(){for(var re=[],de=0;de<arguments.length;de++)re.push(arguments[de]);var me=re.pop();if(typeof me!="function")throw new TypeError("The last argument must be of type Function");var K=this,q=function(){return me.apply(K,arguments)};j.apply(this,re).then(function(be){fn.nextTick(q.bind(null,null,be))},function(be){fn.nextTick(ee.bind(null,be,q))})}return Object.setPrototypeOf(ae,Object.getPrototypeOf(j)),Object.defineProperties(ae,e(j)),ae}r.callbackify=X}(w7)),w7}var V7,NK;function UZe(){if(NK)return V7;NK=1;function r(f,m){var b=Object.keys(f);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(f);m&&(g=g.filter(function(v){return Object.getOwnPropertyDescriptor(f,v).enumerable})),b.push.apply(b,g)}return b}function e(f){for(var m=1;m<arguments.length;m++){var b=arguments[m]!=null?arguments[m]:{};m%2?r(Object(b),!0).forEach(function(g){n(f,g,b[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(b)):r(Object(b)).forEach(function(g){Object.defineProperty(f,g,Object.getOwnPropertyDescriptor(b,g))})}return f}function n(f,m,b){return m in f?Object.defineProperty(f,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):f[m]=b,f}function i(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}function o(f,m){for(var b=0;b<m.length;b++){var g=m[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}function a(f,m,b){return m&&o(f.prototype,m),f}var s=u6(),l=s.Buffer,c=Kfe(),u=c.inspect,d=u&&u.custom||"inspect";function h(f,m,b){l.prototype.copy.call(f,m,b)}return V7=function(){function f(){i(this,f),this.head=null,this.tail=null,this.length=0}return a(f,[{key:"push",value:function(b){var g={data:b,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(b){var g={data:b,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var b=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,b}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(b){if(this.length===0)return"";for(var g=this.head,v=""+g.data;g=g.next;)v+=b+g.data;return v}},{key:"concat",value:function(b){if(this.length===0)return l.alloc(0);for(var g=l.allocUnsafe(b>>>0),v=this.head,x=0;v;)h(v.data,g,x),x+=v.data.length,v=v.next;return g}},{key:"consume",value:function(b,g){var v;return b<this.head.data.length?(v=this.head.data.slice(0,b),this.head.data=this.head.data.slice(b)):b===this.head.data.length?v=this.shift():v=g?this._getString(b):this._getBuffer(b),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(b){var g=this.head,v=1,x=g.data;for(b-=x.length;g=g.next;){var w=g.data,k=b>w.length?w.length:b;if(k===w.length?x+=w:x+=w.slice(0,b),b-=k,b===0){k===w.length?(++v,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=w.slice(k));break}++v}return this.length-=v,x}},{key:"_getBuffer",value:function(b){var g=l.allocUnsafe(b),v=this.head,x=1;for(v.data.copy(g),b-=v.data.length;v=v.next;){var w=v.data,k=b>w.length?w.length:b;if(w.copy(g,g.length-b,0,k),b-=k,b===0){k===w.length?(++x,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=w.slice(k));break}++x}return this.length-=x,g}},{key:d,value:function(b,g){return u(this,e({},g,{depth:0,customInspect:!1}))}}]),f}(),V7}var q7,OK;function Xfe(){if(OK)return q7;OK=1;function r(s,l){var c=this,u=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return u||d?(l?l(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,fn.nextTick(o,this,s)):fn.nextTick(o,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(h){!l&&h?c._writableState?c._writableState.errorEmitted?fn.nextTick(n,c):(c._writableState.errorEmitted=!0,fn.nextTick(e,c,h)):fn.nextTick(e,c,h):l?(fn.nextTick(n,c),l(h)):fn.nextTick(n,c)}),this)}function e(s,l){o(s,l),n(s)}function n(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(s,l){s.emit("error",l)}function a(s,l){var c=s._readableState,u=s._writableState;c&&c.autoDestroy||u&&u.autoDestroy?s.destroy(l):s.emit("error",l)}return q7={destroy:r,undestroy:i,errorOrDestroy:a},q7}var G7={},PK;function yg(){if(PK)return G7;PK=1;function r(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,l.__proto__=c}var e={};function n(l,c,u){u||(u=Error);function d(f,m,b){return typeof c=="string"?c:c(f,m,b)}var h=function(f){r(m,f);function m(b,g,v){return f.call(this,d(b,g,v))||this}return m}(u);h.prototype.name=u.name,h.prototype.code=l,e[l]=h}function i(l,c){if(Array.isArray(l)){var u=l.length;return l=l.map(function(d){return String(d)}),u>2?"one of ".concat(c," ").concat(l.slice(0,u-1).join(", "),", or ")+l[u-1]:u===2?"one of ".concat(c," ").concat(l[0]," or ").concat(l[1]):"of ".concat(c," ").concat(l[0])}else return"of ".concat(c," ").concat(String(l))}function o(l,c,u){return l.substr(0,c.length)===c}function a(l,c,u){return(u===void 0||u>l.length)&&(u=l.length),l.substring(u-c.length,u)===c}function s(l,c,u){return typeof u!="number"&&(u=0),u+c.length>l.length?!1:l.indexOf(c,u)!==-1}return n("ERR_INVALID_OPT_VALUE",function(l,c){return'The value "'+c+'" is invalid for option "'+l+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(l,c,u){var d;typeof c=="string"&&o(c,"not ")?(d="must not be",c=c.replace(/^not /,"")):d="must be";var h;if(a(l," argument"))h="The ".concat(l," ").concat(d," ").concat(i(c,"type"));else{var f=s(l,".")?"property":"argument";h='The "'.concat(l,'" ').concat(f," ").concat(d," ").concat(i(c,"type"))}return h+=". Received type ".concat(typeof u),h},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),G7.codes=e,G7}var K7,IK;function Yfe(){if(IK)return K7;IK=1;var r=yg().codes.ERR_INVALID_OPT_VALUE;function e(i,o,a){return i.highWaterMark!=null?i.highWaterMark:o?i[a]:null}function n(i,o,a,s){var l=e(o,s,a);if(l!=null){if(!(isFinite(l)&&Math.floor(l)===l)||l<0){var c=s?a:"highWaterMark";throw new r(c,l)}return Math.floor(l)}return i.objectMode?16:16*1024}return K7={getHighWaterMark:n},K7}var X7,$K;function BZe(){if($K)return X7;$K=1,X7=r;function r(n,i){if(e("noDeprecation"))return n;var o=!1;function a(){if(!o){if(e("throwDeprecation"))throw new Error(i);e("traceDeprecation")?console.trace(i):console.warn(i),o=!0}return n.apply(this,arguments)}return a}function e(n){try{if(!fl.localStorage)return!1}catch{return!1}var i=fl.localStorage[n];return i==null?!1:String(i).toLowerCase()==="true"}return X7}var Y7,zK;function Zfe(){if(zK)return Y7;zK=1,Y7=L;function r(me){var K=this;this.next=null,this.entry=null,this.finish=function(){de(K,me)}}var e;L.WritableState=D;var n={deprecate:BZe()},i=Ffe(),o=u6().Buffer,a=fl.Uint8Array||function(){};function s(me){return o.from(me)}function l(me){return o.isBuffer(me)||me instanceof a}var c=Xfe(),u=Yfe(),d=u.getHighWaterMark,h=yg().codes,f=h.ERR_INVALID_ARG_TYPE,m=h.ERR_METHOD_NOT_IMPLEMENTED,b=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,v=h.ERR_STREAM_DESTROYED,x=h.ERR_STREAM_NULL_VALUES,w=h.ERR_STREAM_WRITE_AFTER_END,k=h.ERR_UNKNOWN_ENCODING,T=c.errorOrDestroy;bp(L,i);function _(){}function D(me,K,q){e=e||B0(),me=me||{},typeof q!="boolean"&&(q=K instanceof e),this.objectMode=!!me.objectMode,q&&(this.objectMode=this.objectMode||!!me.writableObjectMode),this.highWaterMark=d(this,me,"writableHighWaterMark",q),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var be=me.decodeStrings===!1;this.decodeStrings=!be,this.defaultEncoding=me.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(pe){H(K,pe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=me.emitClose!==!1,this.autoDestroy=!!me.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}D.prototype.getBuffer=function(){for(var K=this.bufferedRequest,q=[];K;)q.push(K),K=K.next;return q},function(){try{Object.defineProperty(D.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var I;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(I=Function.prototype[Symbol.hasInstance],Object.defineProperty(L,Symbol.hasInstance,{value:function(K){return I.call(this,K)?!0:this!==L?!1:K&&K._writableState instanceof D}})):I=function(K){return K instanceof this};function L(me){e=e||B0();var K=this instanceof e;if(!K&&!I.call(L,this))return new L(me);this._writableState=new D(me,this,K),this.writable=!0,me&&(typeof me.write=="function"&&(this._write=me.write),typeof me.writev=="function"&&(this._writev=me.writev),typeof me.destroy=="function"&&(this._destroy=me.destroy),typeof me.final=="function"&&(this._final=me.final)),i.call(this)}L.prototype.pipe=function(){T(this,new g)};function O(me,K){var q=new w;T(me,q),fn.nextTick(K,q)}function W(me,K,q,be){var pe;return q===null?pe=new x:typeof q!="string"&&!K.objectMode&&(pe=new f("chunk",["string","Buffer"],q)),pe?(T(me,pe),fn.nextTick(be,pe),!1):!0}L.prototype.write=function(me,K,q){var be=this._writableState,pe=!1,ie=!be.objectMode&&l(me);return ie&&!o.isBuffer(me)&&(me=s(me)),typeof K=="function"&&(q=K,K=null),ie?K="buffer":K||(K=be.defaultEncoding),typeof q!="function"&&(q=_),be.ending?O(this,q):(ie||W(this,be,me,q))&&(be.pendingcb++,pe=$(this,be,ie,me,K,q)),pe},L.prototype.cork=function(){this._writableState.corked++},L.prototype.uncork=function(){var me=this._writableState;me.corked&&(me.corked--,!me.writing&&!me.corked&&!me.bufferProcessing&&me.bufferedRequest&&J(this,me))},L.prototype.setDefaultEncoding=function(K){if(typeof K=="string"&&(K=K.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((K+"").toLowerCase())>-1))throw new k(K);return this._writableState.defaultEncoding=K,this},Object.defineProperty(L.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Z(me,K,q){return!me.objectMode&&me.decodeStrings!==!1&&typeof K=="string"&&(K=o.from(K,q)),K}Object.defineProperty(L.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function $(me,K,q,be,pe,ie){if(!q){var le=Z(K,be,pe);be!==le&&(q=!0,pe="buffer",be=le)}var Ee=K.objectMode?1:be.length;K.length+=Ee;var M=K.length<K.highWaterMark;if(M||(K.needDrain=!0),K.writing||K.corked){var he=K.lastBufferedRequest;K.lastBufferedRequest={chunk:be,encoding:pe,isBuf:q,callback:ie,next:null},he?he.next=K.lastBufferedRequest:K.bufferedRequest=K.lastBufferedRequest,K.bufferedRequestCount+=1}else F(me,K,!1,Ee,be,pe,ie);return M}function F(me,K,q,be,pe,ie,le){K.writelen=be,K.writecb=le,K.writing=!0,K.sync=!0,K.destroyed?K.onwrite(new v("write")):q?me._writev(pe,K.onwrite):me._write(pe,ie,K.onwrite),K.sync=!1}function A(me,K,q,be,pe){--K.pendingcb,q?(fn.nextTick(pe,be),fn.nextTick(ae,me,K),me._writableState.errorEmitted=!0,T(me,be)):(pe(be),me._writableState.errorEmitted=!0,T(me,be),ae(me,K))}function Q(me){me.writing=!1,me.writecb=null,me.length-=me.writelen,me.writelen=0}function H(me,K){var q=me._writableState,be=q.sync,pe=q.writecb;if(typeof pe!="function")throw new b;if(Q(q),K)A(me,q,be,K,pe);else{var ie=ee(q)||me.destroyed;!ie&&!q.corked&&!q.bufferProcessing&&q.bufferedRequest&&J(me,q),be?fn.nextTick(G,me,q,ie,pe):G(me,q,ie,pe)}}function G(me,K,q,be){q||ne(me,K),K.pendingcb--,be(),ae(me,K)}function ne(me,K){K.length===0&&K.needDrain&&(K.needDrain=!1,me.emit("drain"))}function J(me,K){K.bufferProcessing=!0;var q=K.bufferedRequest;if(me._writev&&q&&q.next){var be=K.bufferedRequestCount,pe=new Array(be),ie=K.corkedRequestsFree;ie.entry=q;for(var le=0,Ee=!0;q;)pe[le]=q,q.isBuf||(Ee=!1),q=q.next,le+=1;pe.allBuffers=Ee,F(me,K,!0,K.length,pe,"",ie.finish),K.pendingcb++,K.lastBufferedRequest=null,ie.next?(K.corkedRequestsFree=ie.next,ie.next=null):K.corkedRequestsFree=new r(K),K.bufferedRequestCount=0}else{for(;q;){var M=q.chunk,he=q.encoding,V=q.callback,R=K.objectMode?1:M.length;if(F(me,K,!1,R,M,he,V),q=q.next,K.bufferedRequestCount--,K.writing)break}q===null&&(K.lastBufferedRequest=null)}K.bufferedRequest=q,K.bufferProcessing=!1}L.prototype._write=function(me,K,q){q(new m("_write()"))},L.prototype._writev=null,L.prototype.end=function(me,K,q){var be=this._writableState;return typeof me=="function"?(q=me,me=null,K=null):typeof K=="function"&&(q=K,K=null),me!=null&&this.write(me,K),be.corked&&(be.corked=1,this.uncork()),be.ending||re(this,be,q),this},Object.defineProperty(L.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ee(me){return me.ending&&me.length===0&&me.bufferedRequest===null&&!me.finished&&!me.writing}function X(me,K){me._final(function(q){K.pendingcb--,q&&T(me,q),K.prefinished=!0,me.emit("prefinish"),ae(me,K)})}function j(me,K){!K.prefinished&&!K.finalCalled&&(typeof me._final=="function"&&!K.destroyed?(K.pendingcb++,K.finalCalled=!0,fn.nextTick(X,me,K)):(K.prefinished=!0,me.emit("prefinish")))}function ae(me,K){var q=ee(K);if(q&&(j(me,K),K.pendingcb===0&&(K.finished=!0,me.emit("finish"),K.autoDestroy))){var be=me._readableState;(!be||be.autoDestroy&&be.endEmitted)&&me.destroy()}return q}function re(me,K,q){K.ending=!0,ae(me,K),q&&(K.finished?fn.nextTick(q):me.once("finish",q)),K.ended=!0,me.writable=!1}function de(me,K,q){var be=me.entry;for(me.entry=null;be;){var pe=be.callback;K.pendingcb--,pe(q),be=be.next}K.corkedRequestsFree.next=me}return Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(K){this._writableState&&(this._writableState.destroyed=K)}}),L.prototype.destroy=c.destroy,L.prototype._undestroy=c.undestroy,L.prototype._destroy=function(me,K){K(me)},Y7}var Z7,LK;function B0(){if(LK)return Z7;LK=1;var r=Object.keys||function(u){var d=[];for(var h in u)d.push(h);return d};Z7=s;var e=Jfe(),n=Zfe();bp(s,e);for(var i=r(n.prototype),o=0;o<i.length;o++){var a=i[o];s.prototype[a]||(s.prototype[a]=n.prototype[a])}function s(u){if(!(this instanceof s))return new s(u);e.call(this,u),n.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||fn.nextTick(c,this)}function c(u){u.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),Z7}var J7={},s2={exports:{}},UK;function jZe(){return UK||(UK=1,function(r,e){var n=u6(),i=n.Buffer;function o(s,l){for(var c in s)l[c]=s[c]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?r.exports=n:(o(n,e),e.Buffer=a);function a(s,l,c){return i(s,l,c)}o(i,a),a.from=function(s,l,c){if(typeof s=="number")throw new TypeError("Argument must not be a number");return i(s,l,c)},a.alloc=function(s,l,c){if(typeof s!="number")throw new TypeError("Argument must be a number");var u=i(s);return l!==void 0?typeof c=="string"?u.fill(l,c):u.fill(l):u.fill(0),u},a.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return i(s)},a.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}}(s2,s2.exports)),s2.exports}var BK;function nM(){if(BK)return J7;BK=1;var r=jZe().Buffer,e=r.isEncoding||function(x){switch(x=""+x,x&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(x){if(!x)return"utf8";for(var w;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(w)return;x=(""+x).toLowerCase(),w=!0}}function i(x){var w=n(x);if(typeof w!="string"&&(r.isEncoding===e||!e(x)))throw new Error("Unknown encoding: "+x);return w||x}J7.StringDecoder=o;function o(x){this.encoding=i(x);var w;switch(this.encoding){case"utf16le":this.text=h,this.end=f,w=4;break;case"utf8":this.fillLast=c,w=4;break;case"base64":this.text=m,this.end=b,w=3;break;default:this.write=g,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(w)}o.prototype.write=function(x){if(x.length===0)return"";var w,k;if(this.lastNeed){if(w=this.fillLast(x),w===void 0)return"";k=this.lastNeed,this.lastNeed=0}else k=0;return k<x.length?w?w+this.text(x,k):this.text(x,k):w||""},o.prototype.end=d,o.prototype.text=u,o.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length};function a(x){return x<=127?0:x>>5===6?2:x>>4===14?3:x>>3===30?4:x>>6===2?-1:-2}function s(x,w,k){var T=w.length-1;if(T<k)return 0;var _=a(w[T]);return _>=0?(_>0&&(x.lastNeed=_-1),_):--T<k||_===-2?0:(_=a(w[T]),_>=0?(_>0&&(x.lastNeed=_-2),_):--T<k||_===-2?0:(_=a(w[T]),_>=0?(_>0&&(_===2?_=0:x.lastNeed=_-3),_):0))}function l(x,w,k){if((w[0]&192)!==128)return x.lastNeed=0,"";if(x.lastNeed>1&&w.length>1){if((w[1]&192)!==128)return x.lastNeed=1,"";if(x.lastNeed>2&&w.length>2&&(w[2]&192)!==128)return x.lastNeed=2,""}}function c(x){var w=this.lastTotal-this.lastNeed,k=l(this,x);if(k!==void 0)return k;if(this.lastNeed<=x.length)return x.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,w,0,x.length),this.lastNeed-=x.length}function u(x,w){var k=s(this,x,w);if(!this.lastNeed)return x.toString("utf8",w);this.lastTotal=k;var T=x.length-(k-this.lastNeed);return x.copy(this.lastChar,0,T),x.toString("utf8",w,T)}function d(x){var w=x&&x.length?this.write(x):"";return this.lastNeed?w+"":w}function h(x,w){if((x.length-w)%2===0){var k=x.toString("utf16le",w);if(k){var T=k.charCodeAt(k.length-1);if(T>=55296&&T<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],k.slice(0,-1)}return k}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",w,x.length-1)}function f(x){var w=x&&x.length?this.write(x):"";if(this.lastNeed){var k=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,k)}return w}function m(x,w){var k=(x.length-w)%3;return k===0?x.toString("base64",w):(this.lastNeed=3-k,this.lastTotal=3,k===1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",w,x.length-k))}function b(x){var w=x&&x.length?this.write(x):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function g(x){return x.toString(this.encoding)}function v(x){return x&&x.length?this.write(x):""}return J7}var Q7,jK;function yP(){if(jK)return Q7;jK=1;var r=yg().codes.ERR_STREAM_PREMATURE_CLOSE;function e(a){var s=!1;return function(){if(!s){s=!0;for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];a.apply(this,c)}}}function n(){}function i(a){return a.setHeader&&typeof a.abort=="function"}function o(a,s,l){if(typeof s=="function")return o(a,null,s);s||(s={}),l=e(l||n);var c=s.readable||s.readable!==!1&&a.readable,u=s.writable||s.writable!==!1&&a.writable,d=function(){a.writable||f()},h=a._writableState&&a._writableState.finished,f=function(){u=!1,h=!0,c||l.call(a)},m=a._readableState&&a._readableState.endEmitted,b=function(){c=!1,m=!0,u||l.call(a)},g=function(k){l.call(a,k)},v=function(){var k;if(c&&!m)return(!a._readableState||!a._readableState.ended)&&(k=new r),l.call(a,k);if(u&&!h)return(!a._writableState||!a._writableState.ended)&&(k=new r),l.call(a,k)},x=function(){a.req.on("finish",f)};return i(a)?(a.on("complete",f),a.on("abort",v),a.req?x():a.on("request",x)):u&&!a._writableState&&(a.on("end",d),a.on("close",d)),a.on("end",b),a.on("finish",f),s.error!==!1&&a.on("error",g),a.on("close",v),function(){a.removeListener("complete",f),a.removeListener("abort",v),a.removeListener("request",x),a.req&&a.req.removeListener("finish",f),a.removeListener("end",d),a.removeListener("close",d),a.removeListener("finish",f),a.removeListener("end",b),a.removeListener("error",g),a.removeListener("close",v)}}return Q7=o,Q7}var e_,FK;function FZe(){if(FK)return e_;FK=1;var r;function e(x,w,k){return w in x?Object.defineProperty(x,w,{value:k,enumerable:!0,configurable:!0,writable:!0}):x[w]=k,x}var n=yP(),i=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),s=Symbol("ended"),l=Symbol("lastPromise"),c=Symbol("handlePromise"),u=Symbol("stream");function d(x,w){return{value:x,done:w}}function h(x){var w=x[i];if(w!==null){var k=x[u].read();k!==null&&(x[l]=null,x[i]=null,x[o]=null,w(d(k,!1)))}}function f(x){fn.nextTick(h,x)}function m(x,w){return function(k,T){x.then(function(){if(w[s]){k(d(void 0,!0));return}w[c](k,T)},T)}}var b=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((r={get stream(){return this[u]},next:function(){var w=this,k=this[a];if(k!==null)return Promise.reject(k);if(this[s])return Promise.resolve(d(void 0,!0));if(this[u].destroyed)return new Promise(function(I,L){fn.nextTick(function(){w[a]?L(w[a]):I(d(void 0,!0))})});var T=this[l],_;if(T)_=new Promise(m(T,this));else{var D=this[u].read();if(D!==null)return Promise.resolve(d(D,!1));_=new Promise(this[c])}return this[l]=_,_}},e(r,Symbol.asyncIterator,function(){return this}),e(r,"return",function(){var w=this;return new Promise(function(k,T){w[u].destroy(null,function(_){if(_){T(_);return}k(d(void 0,!0))})})}),r),b),v=function(w){var k,T=Object.create(g,(k={},e(k,u,{value:w,writable:!0}),e(k,i,{value:null,writable:!0}),e(k,o,{value:null,writable:!0}),e(k,a,{value:null,writable:!0}),e(k,s,{value:w._readableState.endEmitted,writable:!0}),e(k,c,{value:function(D,I){var L=T[u].read();L?(T[l]=null,T[i]=null,T[o]=null,D(d(L,!1))):(T[i]=D,T[o]=I)},writable:!0}),k));return T[l]=null,n(w,function(_){if(_&&_.code!=="ERR_STREAM_PREMATURE_CLOSE"){var D=T[o];D!==null&&(T[l]=null,T[i]=null,T[o]=null,D(_)),T[a]=_;return}var I=T[i];I!==null&&(T[l]=null,T[i]=null,T[o]=null,I(d(void 0,!0))),T[s]=!0}),w.on("readable",f.bind(null,T)),T};return e_=v,e_}var t_,HK;function HZe(){return HK||(HK=1,t_=function(){throw new Error("Readable.from is not available in the browser")}),t_}var n_,WK;function Jfe(){if(WK)return n_;WK=1,n_=O;var r;O.ReadableState=L,fP.EventEmitter;var e=function(le,Ee){return le.listeners(Ee).length},n=Ffe(),i=u6().Buffer,o=fl.Uint8Array||function(){};function a(ie){return i.from(ie)}function s(ie){return i.isBuffer(ie)||ie instanceof o}var l=Kfe(),c;l&&l.debuglog?c=l.debuglog("stream"):c=function(){};var u=UZe(),d=Xfe(),h=Yfe(),f=h.getHighWaterMark,m=yg().codes,b=m.ERR_INVALID_ARG_TYPE,g=m.ERR_STREAM_PUSH_AFTER_EOF,v=m.ERR_METHOD_NOT_IMPLEMENTED,x=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,w,k,T;bp(O,n);var _=d.errorOrDestroy,D=["error","close","destroy","pause","resume"];function I(ie,le,Ee){if(typeof ie.prependListener=="function")return ie.prependListener(le,Ee);!ie._events||!ie._events[le]?ie.on(le,Ee):Array.isArray(ie._events[le])?ie._events[le].unshift(Ee):ie._events[le]=[Ee,ie._events[le]]}function L(ie,le,Ee){r=r||B0(),ie=ie||{},typeof Ee!="boolean"&&(Ee=le instanceof r),this.objectMode=!!ie.objectMode,Ee&&(this.objectMode=this.objectMode||!!ie.readableObjectMode),this.highWaterMark=f(this,ie,"readableHighWaterMark",Ee),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=ie.emitClose!==!1,this.autoDestroy=!!ie.autoDestroy,this.destroyed=!1,this.defaultEncoding=ie.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ie.encoding&&(w||(w=nM().StringDecoder),this.decoder=new w(ie.encoding),this.encoding=ie.encoding)}function O(ie){if(r=r||B0(),!(this instanceof O))return new O(ie);var le=this instanceof r;this._readableState=new L(ie,this,le),this.readable=!0,ie&&(typeof ie.read=="function"&&(this._read=ie.read),typeof ie.destroy=="function"&&(this._destroy=ie.destroy)),n.call(this)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(le){this._readableState&&(this._readableState.destroyed=le)}}),O.prototype.destroy=d.destroy,O.prototype._undestroy=d.undestroy,O.prototype._destroy=function(ie,le){le(ie)},O.prototype.push=function(ie,le){var Ee=this._readableState,M;return Ee.objectMode?M=!0:typeof ie=="string"&&(le=le||Ee.defaultEncoding,le!==Ee.encoding&&(ie=i.from(ie,le),le=""),M=!0),W(this,ie,le,!1,M)},O.prototype.unshift=function(ie){return W(this,ie,null,!0,!1)};function W(ie,le,Ee,M,he){c("readableAddChunk",le);var V=ie._readableState;if(le===null)V.reading=!1,H(ie,V);else{var R;if(he||(R=$(V,le)),R)_(ie,R);else if(V.objectMode||le&&le.length>0)if(typeof le!="string"&&!V.objectMode&&Object.getPrototypeOf(le)!==i.prototype&&(le=a(le)),M)V.endEmitted?_(ie,new x):Z(ie,V,le,!0);else if(V.ended)_(ie,new g);else{if(V.destroyed)return!1;V.reading=!1,V.decoder&&!Ee?(le=V.decoder.write(le),V.objectMode||le.length!==0?Z(ie,V,le,!1):J(ie,V)):Z(ie,V,le,!1)}else M||(V.reading=!1,J(ie,V))}return!V.ended&&(V.length<V.highWaterMark||V.length===0)}function Z(ie,le,Ee,M){le.flowing&&le.length===0&&!le.sync?(le.awaitDrain=0,ie.emit("data",Ee)):(le.length+=le.objectMode?1:Ee.length,M?le.buffer.unshift(Ee):le.buffer.push(Ee),le.needReadable&&G(ie)),J(ie,le)}function $(ie,le){var Ee;return!s(le)&&typeof le!="string"&&le!==void 0&&!ie.objectMode&&(Ee=new b("chunk",["string","Buffer","Uint8Array"],le)),Ee}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(ie){w||(w=nM().StringDecoder);var le=new w(ie);this._readableState.decoder=le,this._readableState.encoding=this._readableState.decoder.encoding;for(var Ee=this._readableState.buffer.head,M="";Ee!==null;)M+=le.write(Ee.data),Ee=Ee.next;return this._readableState.buffer.clear(),M!==""&&this._readableState.buffer.push(M),this._readableState.length=M.length,this};var F=1073741824;function A(ie){return ie>=F?ie=F:(ie--,ie|=ie>>>1,ie|=ie>>>2,ie|=ie>>>4,ie|=ie>>>8,ie|=ie>>>16,ie++),ie}function Q(ie,le){return ie<=0||le.length===0&&le.ended?0:le.objectMode?1:ie!==ie?le.flowing&&le.length?le.buffer.head.data.length:le.length:(ie>le.highWaterMark&&(le.highWaterMark=A(ie)),ie<=le.length?ie:le.ended?le.length:(le.needReadable=!0,0))}O.prototype.read=function(ie){c("read",ie),ie=parseInt(ie,10);var le=this._readableState,Ee=ie;if(ie!==0&&(le.emittedReadable=!1),ie===0&&le.needReadable&&((le.highWaterMark!==0?le.length>=le.highWaterMark:le.length>0)||le.ended))return c("read: emitReadable",le.length,le.ended),le.length===0&&le.ended?q(this):G(this),null;if(ie=Q(ie,le),ie===0&&le.ended)return le.length===0&&q(this),null;var M=le.needReadable;c("need readable",M),(le.length===0||le.length-ie<le.highWaterMark)&&(M=!0,c("length less than watermark",M)),le.ended||le.reading?(M=!1,c("reading or ended",M)):M&&(c("do read"),le.reading=!0,le.sync=!0,le.length===0&&(le.needReadable=!0),this._read(le.highWaterMark),le.sync=!1,le.reading||(ie=Q(Ee,le)));var he;return ie>0?he=K(ie,le):he=null,he===null?(le.needReadable=le.length<=le.highWaterMark,ie=0):(le.length-=ie,le.awaitDrain=0),le.length===0&&(le.ended||(le.needReadable=!0),Ee!==ie&&le.ended&&q(this)),he!==null&&this.emit("data",he),he};function H(ie,le){if(c("onEofChunk"),!le.ended){if(le.decoder){var Ee=le.decoder.end();Ee&&Ee.length&&(le.buffer.push(Ee),le.length+=le.objectMode?1:Ee.length)}le.ended=!0,le.sync?G(ie):(le.needReadable=!1,le.emittedReadable||(le.emittedReadable=!0,ne(ie)))}}function G(ie){var le=ie._readableState;c("emitReadable",le.needReadable,le.emittedReadable),le.needReadable=!1,le.emittedReadable||(c("emitReadable",le.flowing),le.emittedReadable=!0,fn.nextTick(ne,ie))}function ne(ie){var le=ie._readableState;c("emitReadable_",le.destroyed,le.length,le.ended),!le.destroyed&&(le.length||le.ended)&&(ie.emit("readable"),le.emittedReadable=!1),le.needReadable=!le.flowing&&!le.ended&&le.length<=le.highWaterMark,me(ie)}function J(ie,le){le.readingMore||(le.readingMore=!0,fn.nextTick(ee,ie,le))}function ee(ie,le){for(;!le.reading&&!le.ended&&(le.length<le.highWaterMark||le.flowing&&le.length===0);){var Ee=le.length;if(c("maybeReadMore read 0"),ie.read(0),Ee===le.length)break}le.readingMore=!1}O.prototype._read=function(ie){_(this,new v("_read()"))},O.prototype.pipe=function(ie,le){var Ee=this,M=this._readableState;switch(M.pipesCount){case 0:M.pipes=ie;break;case 1:M.pipes=[M.pipes,ie];break;default:M.pipes.push(ie);break}M.pipesCount+=1,c("pipe count=%d opts=%j",M.pipesCount,le);var he=(!le||le.end!==!1)&&ie!==fn.stdout&&ie!==fn.stderr,V=he?N:De;M.endEmitted?fn.nextTick(V):Ee.once("end",V),ie.on("unpipe",R);function R(Le,Ke){c("onunpipe"),Le===Ee&&Ke&&Ke.hasUnpiped===!1&&(Ke.hasUnpiped=!0,ve())}function N(){c("onend"),ie.end()}var B=X(Ee);ie.on("drain",B);var ue=!1;function ve(){c("cleanup"),ie.removeListener("close",Se),ie.removeListener("finish",Te),ie.removeListener("drain",B),ie.removeListener("error",ge),ie.removeListener("unpipe",R),Ee.removeListener("end",N),Ee.removeListener("end",De),Ee.removeListener("data",se),ue=!0,M.awaitDrain&&(!ie._writableState||ie._writableState.needDrain)&&B()}Ee.on("data",se);function se(Le){c("ondata");var Ke=ie.write(Le);c("dest.write",Ke),Ke===!1&&((M.pipesCount===1&&M.pipes===ie||M.pipesCount>1&&pe(M.pipes,ie)!==-1)&&!ue&&(c("false write response, pause",M.awaitDrain),M.awaitDrain++),Ee.pause())}function ge(Le){c("onerror",Le),De(),ie.removeListener("error",ge),e(ie,"error")===0&&_(ie,Le)}I(ie,"error",ge);function Se(){ie.removeListener("finish",Te),De()}ie.once("close",Se);function Te(){c("onfinish"),ie.removeListener("close",Se),De()}ie.once("finish",Te);function De(){c("unpipe"),Ee.unpipe(ie)}return ie.emit("pipe",Ee),M.flowing||(c("pipe resume"),Ee.resume()),ie};function X(ie){return function(){var Ee=ie._readableState;c("pipeOnDrain",Ee.awaitDrain),Ee.awaitDrain&&Ee.awaitDrain--,Ee.awaitDrain===0&&e(ie,"data")&&(Ee.flowing=!0,me(ie))}}O.prototype.unpipe=function(ie){var le=this._readableState,Ee={hasUnpiped:!1};if(le.pipesCount===0)return this;if(le.pipesCount===1)return ie&&ie!==le.pipes?this:(ie||(ie=le.pipes),le.pipes=null,le.pipesCount=0,le.flowing=!1,ie&&ie.emit("unpipe",this,Ee),this);if(!ie){var M=le.pipes,he=le.pipesCount;le.pipes=null,le.pipesCount=0,le.flowing=!1;for(var V=0;V<he;V++)M[V].emit("unpipe",this,{hasUnpiped:!1});return this}var R=pe(le.pipes,ie);return R===-1?this:(le.pipes.splice(R,1),le.pipesCount-=1,le.pipesCount===1&&(le.pipes=le.pipes[0]),ie.emit("unpipe",this,Ee),this)},O.prototype.on=function(ie,le){var Ee=n.prototype.on.call(this,ie,le),M=this._readableState;return ie==="data"?(M.readableListening=this.listenerCount("readable")>0,M.flowing!==!1&&this.resume()):ie==="readable"&&!M.endEmitted&&!M.readableListening&&(M.readableListening=M.needReadable=!0,M.flowing=!1,M.emittedReadable=!1,c("on readable",M.length,M.reading),M.length?G(this):M.reading||fn.nextTick(ae,this)),Ee},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(ie,le){var Ee=n.prototype.removeListener.call(this,ie,le);return ie==="readable"&&fn.nextTick(j,this),Ee},O.prototype.removeAllListeners=function(ie){var le=n.prototype.removeAllListeners.apply(this,arguments);return(ie==="readable"||ie===void 0)&&fn.nextTick(j,this),le};function j(ie){var le=ie._readableState;le.readableListening=ie.listenerCount("readable")>0,le.resumeScheduled&&!le.paused?le.flowing=!0:ie.listenerCount("data")>0&&ie.resume()}function ae(ie){c("readable nexttick read 0"),ie.read(0)}O.prototype.resume=function(){var ie=this._readableState;return ie.flowing||(c("resume"),ie.flowing=!ie.readableListening,re(this,ie)),ie.paused=!1,this};function re(ie,le){le.resumeScheduled||(le.resumeScheduled=!0,fn.nextTick(de,ie,le))}function de(ie,le){c("resume",le.reading),le.reading||ie.read(0),le.resumeScheduled=!1,ie.emit("resume"),me(ie),le.flowing&&!le.reading&&ie.read(0)}O.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function me(ie){var le=ie._readableState;for(c("flow",le.flowing);le.flowing&&ie.read()!==null;);}O.prototype.wrap=function(ie){var le=this,Ee=this._readableState,M=!1;ie.on("end",function(){if(c("wrapped end"),Ee.decoder&&!Ee.ended){var R=Ee.decoder.end();R&&R.length&&le.push(R)}le.push(null)}),ie.on("data",function(R){if(c("wrapped data"),Ee.decoder&&(R=Ee.decoder.write(R)),!(Ee.objectMode&&R==null)&&!(!Ee.objectMode&&(!R||!R.length))){var N=le.push(R);N||(M=!0,ie.pause())}});for(var he in ie)this[he]===void 0&&typeof ie[he]=="function"&&(this[he]=function(N){return function(){return ie[N].apply(ie,arguments)}}(he));for(var V=0;V<D.length;V++)ie.on(D[V],this.emit.bind(this,D[V]));return this._read=function(R){c("wrapped _read",R),M&&(M=!1,ie.resume())},this},typeof Symbol=="function"&&(O.prototype[Symbol.asyncIterator]=function(){return k===void 0&&(k=FZe()),k(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(le){this._readableState&&(this._readableState.flowing=le)}}),O._fromList=K,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function K(ie,le){if(le.length===0)return null;var Ee;return le.objectMode?Ee=le.buffer.shift():!ie||ie>=le.length?(le.decoder?Ee=le.buffer.join(""):le.buffer.length===1?Ee=le.buffer.first():Ee=le.buffer.concat(le.length),le.buffer.clear()):Ee=le.buffer.consume(ie,le.decoder),Ee}function q(ie){var le=ie._readableState;c("endReadable",le.endEmitted),le.endEmitted||(le.ended=!0,fn.nextTick(be,le,ie))}function be(ie,le){if(c("endReadableNT",ie.endEmitted,ie.length),!ie.endEmitted&&ie.length===0&&(ie.endEmitted=!0,le.readable=!1,le.emit("end"),ie.autoDestroy)){var Ee=le._writableState;(!Ee||Ee.autoDestroy&&Ee.finished)&&le.destroy()}}typeof Symbol=="function"&&(O.from=function(ie,le){return T===void 0&&(T=HZe()),T(O,ie,le)});function pe(ie,le){for(var Ee=0,M=ie.length;Ee<M;Ee++)if(ie[Ee]===le)return Ee;return-1}return n_}var r_,VK;function Qfe(){if(VK)return r_;VK=1,r_=l;var r=yg().codes,e=r.ERR_METHOD_NOT_IMPLEMENTED,n=r.ERR_MULTIPLE_CALLBACK,i=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=r.ERR_TRANSFORM_WITH_LENGTH_0,a=B0();bp(l,a);function s(d,h){var f=this._transformState;f.transforming=!1;var m=f.writecb;if(m===null)return this.emit("error",new n);f.writechunk=null,f.writecb=null,h!=null&&this.push(h),m(d);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function l(d){if(!(this instanceof l))return new l(d);a.call(this,d),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",c)}function c(){var d=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(h,f){u(d,h,f)}):u(this,null,null)}l.prototype.push=function(d,h){return this._transformState.needTransform=!1,a.prototype.push.call(this,d,h)},l.prototype._transform=function(d,h,f){f(new e("_transform()"))},l.prototype._write=function(d,h,f){var m=this._transformState;if(m.writecb=f,m.writechunk=d,m.writeencoding=h,!m.transforming){var b=this._readableState;(m.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},l.prototype._read=function(d){var h=this._transformState;h.writechunk!==null&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},l.prototype._destroy=function(d,h){a.prototype._destroy.call(this,d,function(f){h(f)})};function u(d,h,f){if(h)return d.emit("error",h);if(f!=null&&d.push(f),d._writableState.length)throw new o;if(d._transformState.transforming)throw new i;return d.push(null)}return r_}var i_,qK;function WZe(){if(qK)return i_;qK=1,i_=e;var r=Qfe();bp(e,r);function e(n){if(!(this instanceof e))return new e(n);r.call(this,n)}return e.prototype._transform=function(n,i,o){o(null,n)},i_}var o_,GK;function VZe(){if(GK)return o_;GK=1;var r;function e(f){var m=!1;return function(){m||(m=!0,f.apply(void 0,arguments))}}var n=yg().codes,i=n.ERR_MISSING_ARGS,o=n.ERR_STREAM_DESTROYED;function a(f){if(f)throw f}function s(f){return f.setHeader&&typeof f.abort=="function"}function l(f,m,b,g){g=e(g);var v=!1;f.on("close",function(){v=!0}),r===void 0&&(r=yP()),r(f,{readable:m,writable:b},function(w){if(w)return g(w);v=!0,g()});var x=!1;return function(w){if(!v&&!x){if(x=!0,s(f))return f.abort();if(typeof f.destroy=="function")return f.destroy();g(w||new o("pipe"))}}}function c(f){f()}function u(f,m){return f.pipe(m)}function d(f){return!f.length||typeof f[f.length-1]!="function"?a:f.pop()}function h(){for(var f=arguments.length,m=new Array(f),b=0;b<f;b++)m[b]=arguments[b];var g=d(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new i("streams");var v,x=m.map(function(w,k){var T=k<m.length-1,_=k>0;return l(w,T,_,function(D){v||(v=D),D&&x.forEach(c),!T&&(x.forEach(c),g(v))})});return m.reduce(u)}return o_=h,o_}var bP=rs,vP=fP.EventEmitter,qZe=bp;qZe(rs,vP);rs.Readable=Jfe();rs.Writable=Zfe();rs.Duplex=B0();rs.Transform=Qfe();rs.PassThrough=WZe();rs.finished=yP();rs.pipeline=VZe();rs.Stream=rs;function rs(){vP.call(this)}rs.prototype.pipe=function(r,e){var n=this;function i(d){r.writable&&r.write(d)===!1&&n.pause&&n.pause()}n.on("data",i);function o(){n.readable&&n.resume&&n.resume()}r.on("drain",o),!r._isStdio&&(!e||e.end!==!1)&&(n.on("end",s),n.on("close",l));var a=!1;function s(){a||(a=!0,r.end())}function l(){a||(a=!0,typeof r.destroy=="function"&&r.destroy())}function c(d){if(u(),vP.listenerCount(this,"error")===0)throw d}n.on("error",c),r.on("error",c);function u(){n.removeListener("data",i),r.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",c),r.removeListener("error",c),n.removeListener("end",u),n.removeListener("close",u),r.removeListener("close",u)}return n.on("end",u),n.on("close",u),r.on("close",u),r.emit("pipe",n),r};(function(r){(function(e){e.parser=function(K,q){return new i(K,q)},e.SAXParser=i,e.SAXStream=d,e.createStream=u,e.MAX_BUFFER_LENGTH=64*1024;var n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function i(K,q){if(!(this instanceof i))return new i(K,q);var be=this;a(be),be.q=be.c="",be.bufferCheckPosition=e.MAX_BUFFER_LENGTH,be.opt=q||{},be.opt.lowercase=be.opt.lowercase||be.opt.lowercasetags,be.looseCase=be.opt.lowercase?"toLowerCase":"toUpperCase",be.tags=[],be.closed=be.closedRoot=be.sawRoot=!1,be.tag=be.error=null,be.strict=!!K,be.noscript=!!(K||be.opt.noscript),be.state=O.BEGIN,be.strictEntities=be.opt.strictEntities,be.ENTITIES=be.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),be.attribList=[],be.opt.xmlns&&(be.ns=Object.create(g)),be.trackPosition=be.opt.position!==!1,be.trackPosition&&(be.position=be.line=be.column=0),Z(be,"onready")}Object.create||(Object.create=function(K){function q(){}q.prototype=K;var be=new q;return be}),Object.keys||(Object.keys=function(K){var q=[];for(var be in K)K.hasOwnProperty(be)&&q.push(be);return q});function o(K){for(var q=Math.max(e.MAX_BUFFER_LENGTH,10),be=0,pe=0,ie=n.length;pe<ie;pe++){var le=K[n[pe]].length;if(le>q)switch(n[pe]){case"textNode":F(K);break;case"cdata":$(K,"oncdata",K.cdata),K.cdata="";break;case"script":$(K,"onscript",K.script),K.script="";break;default:Q(K,"Max buffer length exceeded: "+n[pe])}be=Math.max(be,le)}var Ee=e.MAX_BUFFER_LENGTH-be;K.bufferCheckPosition=Ee+K.position}function a(K){for(var q=0,be=n.length;q<be;q++)K[n[q]]=""}function s(K){F(K),K.cdata!==""&&($(K,"oncdata",K.cdata),K.cdata=""),K.script!==""&&($(K,"onscript",K.script),K.script="")}i.prototype={end:function(){H(this)},write:me,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){s(this)}};var l;try{l=bP.Stream}catch{l=function(){}}var c=e.EVENTS.filter(function(K){return K!=="error"&&K!=="end"});function u(K,q){return new d(K,q)}function d(K,q){if(!(this instanceof d))return new d(K,q);l.apply(this),this._parser=new i(K,q),this.writable=!0,this.readable=!0;var be=this;this._parser.onend=function(){be.emit("end")},this._parser.onerror=function(pe){be.emit("error",pe),be._parser.error=null},this._decoder=null,c.forEach(function(pe){Object.defineProperty(be,"on"+pe,{get:function(){return be._parser["on"+pe]},set:function(ie){if(!ie)return be.removeAllListeners(pe),be._parser["on"+pe]=ie,ie;be.on(pe,ie)},enumerable:!0,configurable:!1})})}d.prototype=Object.create(l.prototype,{constructor:{value:d}}),d.prototype.write=function(K){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(K)){if(!this._decoder){var q=nM().StringDecoder;this._decoder=new q("utf8")}K=this._decoder.write(K)}return this._parser.write(K.toString()),this.emit("data",K),!0},d.prototype.end=function(K){return K&&K.length&&this.write(K),this._parser.end(),!0},d.prototype.on=function(K,q){var be=this;return!be._parser["on"+K]&&c.indexOf(K)!==-1&&(be._parser["on"+K]=function(){var pe=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);pe.splice(0,0,K),be.emit.apply(be,pe)}),l.prototype.on.call(be,K,q)};var h="[CDATA[",f="DOCTYPE",m="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",g={xml:m,xmlns:b},v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,x=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,w=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,k=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function T(K){return K===" "||K===`
`||K==="\r"||K==="	"}function _(K){return K==='"'||K==="'"}function D(K){return K===">"||T(K)}function I(K,q){return K.test(q)}function L(K,q){return!I(K,q)}var O=0;e.STATE={BEGIN:O++,BEGIN_WHITESPACE:O++,TEXT:O++,TEXT_ENTITY:O++,OPEN_WAKA:O++,SGML_DECL:O++,SGML_DECL_QUOTED:O++,DOCTYPE:O++,DOCTYPE_QUOTED:O++,DOCTYPE_DTD:O++,DOCTYPE_DTD_QUOTED:O++,COMMENT_STARTING:O++,COMMENT:O++,COMMENT_ENDING:O++,COMMENT_ENDED:O++,CDATA:O++,CDATA_ENDING:O++,CDATA_ENDING_2:O++,PROC_INST:O++,PROC_INST_BODY:O++,PROC_INST_ENDING:O++,OPEN_TAG:O++,OPEN_TAG_SLASH:O++,ATTRIB:O++,ATTRIB_NAME:O++,ATTRIB_NAME_SAW_WHITE:O++,ATTRIB_VALUE:O++,ATTRIB_VALUE_QUOTED:O++,ATTRIB_VALUE_CLOSED:O++,ATTRIB_VALUE_UNQUOTED:O++,ATTRIB_VALUE_ENTITY_Q:O++,ATTRIB_VALUE_ENTITY_U:O++,CLOSE_TAG:O++,CLOSE_TAG_SAW_WHITE:O++,SCRIPT:O++,SCRIPT_ENDING:O++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(K){var q=e.ENTITIES[K],be=typeof q=="number"?String.fromCharCode(q):q;e.ENTITIES[K]=be});for(var W in e.STATE)e.STATE[e.STATE[W]]=W;O=e.STATE;function Z(K,q,be){K[q]&&K[q](be)}function $(K,q,be){K.textNode&&F(K),Z(K,q,be)}function F(K){K.textNode=A(K.opt,K.textNode),K.textNode&&Z(K,"ontext",K.textNode),K.textNode=""}function A(K,q){return K.trim&&(q=q.trim()),K.normalize&&(q=q.replace(/\s+/g," ")),q}function Q(K,q){return F(K),K.trackPosition&&(q+=`
Line: `+K.line+`
Column: `+K.column+`
Char: `+K.c),q=new Error(q),K.error=q,Z(K,"onerror",q),K}function H(K){return K.sawRoot&&!K.closedRoot&&G(K,"Unclosed root tag"),K.state!==O.BEGIN&&K.state!==O.BEGIN_WHITESPACE&&K.state!==O.TEXT&&Q(K,"Unexpected end"),F(K),K.c="",K.closed=!0,Z(K,"onend"),i.call(K,K.strict,K.opt),K}function G(K,q){if(typeof K!="object"||!(K instanceof i))throw new Error("bad call to strictFail");K.strict&&Q(K,q)}function ne(K){K.strict||(K.tagName=K.tagName[K.looseCase]());var q=K.tags[K.tags.length-1]||K,be=K.tag={name:K.tagName,attributes:{}};K.opt.xmlns&&(be.ns=q.ns),K.attribList.length=0,$(K,"onopentagstart",be)}function J(K,q){var be=K.indexOf(":"),pe=be<0?["",K]:K.split(":"),ie=pe[0],le=pe[1];return q&&K==="xmlns"&&(ie="xmlns",le=""),{prefix:ie,local:le}}function ee(K){if(K.strict||(K.attribName=K.attribName[K.looseCase]()),K.attribList.indexOf(K.attribName)!==-1||K.tag.attributes.hasOwnProperty(K.attribName)){K.attribName=K.attribValue="";return}if(K.opt.xmlns){var q=J(K.attribName,!0),be=q.prefix,pe=q.local;if(be==="xmlns")if(pe==="xml"&&K.attribValue!==m)G(K,"xml: prefix must be bound to "+m+`
Actual: `+K.attribValue);else if(pe==="xmlns"&&K.attribValue!==b)G(K,"xmlns: prefix must be bound to "+b+`
Actual: `+K.attribValue);else{var ie=K.tag,le=K.tags[K.tags.length-1]||K;ie.ns===le.ns&&(ie.ns=Object.create(le.ns)),ie.ns[pe]=K.attribValue}K.attribList.push([K.attribName,K.attribValue])}else K.tag.attributes[K.attribName]=K.attribValue,$(K,"onattribute",{name:K.attribName,value:K.attribValue});K.attribName=K.attribValue=""}function X(K,q){if(K.opt.xmlns){var be=K.tag,pe=J(K.tagName);be.prefix=pe.prefix,be.local=pe.local,be.uri=be.ns[pe.prefix]||"",be.prefix&&!be.uri&&(G(K,"Unbound namespace prefix: "+JSON.stringify(K.tagName)),be.uri=pe.prefix);var ie=K.tags[K.tags.length-1]||K;be.ns&&ie.ns!==be.ns&&Object.keys(be.ns).forEach(function(se){$(K,"onopennamespace",{prefix:se,uri:be.ns[se]})});for(var le=0,Ee=K.attribList.length;le<Ee;le++){var M=K.attribList[le],he=M[0],V=M[1],R=J(he,!0),N=R.prefix,B=R.local,ue=N===""?"":be.ns[N]||"",ve={name:he,value:V,prefix:N,local:B,uri:ue};N&&N!=="xmlns"&&!ue&&(G(K,"Unbound namespace prefix: "+JSON.stringify(N)),ve.uri=N),K.tag.attributes[he]=ve,$(K,"onattribute",ve)}K.attribList.length=0}K.tag.isSelfClosing=!!q,K.sawRoot=!0,K.tags.push(K.tag),$(K,"onopentag",K.tag),q||(!K.noscript&&K.tagName.toLowerCase()==="script"?K.state=O.SCRIPT:K.state=O.TEXT,K.tag=null,K.tagName=""),K.attribName=K.attribValue="",K.attribList.length=0}function j(K){if(!K.tagName){G(K,"Weird empty close tag."),K.textNode+="</>",K.state=O.TEXT;return}if(K.script){if(K.tagName!=="script"){K.script+="</"+K.tagName+">",K.tagName="",K.state=O.SCRIPT;return}$(K,"onscript",K.script),K.script=""}var q=K.tags.length,be=K.tagName;K.strict||(be=be[K.looseCase]());for(var pe=be;q--;){var ie=K.tags[q];if(ie.name!==pe)G(K,"Unexpected close tag");else break}if(q<0){G(K,"Unmatched closing tag: "+K.tagName),K.textNode+="</"+K.tagName+">",K.state=O.TEXT;return}K.tagName=be;for(var le=K.tags.length;le-- >q;){var Ee=K.tag=K.tags.pop();K.tagName=K.tag.name,$(K,"onclosetag",K.tagName);var M={};for(var he in Ee.ns)M[he]=Ee.ns[he];var V=K.tags[K.tags.length-1]||K;K.opt.xmlns&&Ee.ns!==V.ns&&Object.keys(Ee.ns).forEach(function(R){var N=Ee.ns[R];$(K,"onclosenamespace",{prefix:R,uri:N})})}q===0&&(K.closedRoot=!0),K.tagName=K.attribValue=K.attribName="",K.attribList.length=0,K.state=O.TEXT}function ae(K){var q=K.entity,be=q.toLowerCase(),pe,ie="";return K.ENTITIES[q]?K.ENTITIES[q]:K.ENTITIES[be]?K.ENTITIES[be]:(q=be,q.charAt(0)==="#"&&(q.charAt(1)==="x"?(q=q.slice(2),pe=parseInt(q,16),ie=pe.toString(16)):(q=q.slice(1),pe=parseInt(q,10),ie=pe.toString(10))),q=q.replace(/^0+/,""),isNaN(pe)||ie.toLowerCase()!==q?(G(K,"Invalid character entity"),"&"+K.entity+";"):String.fromCodePoint(pe))}function re(K,q){q==="<"?(K.state=O.OPEN_WAKA,K.startTagPosition=K.position):T(q)||(G(K,"Non-whitespace before first tag."),K.textNode=q,K.state=O.TEXT)}function de(K,q){var be="";return q<K.length&&(be=K.charAt(q)),be}function me(K){var q=this;if(this.error)throw this.error;if(q.closed)return Q(q,"Cannot write after close. Assign an onready handler.");if(K===null)return H(q);typeof K=="object"&&(K=K.toString());for(var be=0,pe="";pe=de(K,be++),q.c=pe,!!pe;)switch(q.trackPosition&&(q.position++,pe===`
`?(q.line++,q.column=0):q.column++),q.state){case O.BEGIN:if(q.state=O.BEGIN_WHITESPACE,pe==="\uFEFF")continue;re(q,pe);continue;case O.BEGIN_WHITESPACE:re(q,pe);continue;case O.TEXT:if(q.sawRoot&&!q.closedRoot){for(var ie=be-1;pe&&pe!=="<"&&pe!=="&";)pe=de(K,be++),pe&&q.trackPosition&&(q.position++,pe===`
`?(q.line++,q.column=0):q.column++);q.textNode+=K.substring(ie,be-1)}pe==="<"&&!(q.sawRoot&&q.closedRoot&&!q.strict)?(q.state=O.OPEN_WAKA,q.startTagPosition=q.position):(!T(pe)&&(!q.sawRoot||q.closedRoot)&&G(q,"Text data outside of root node."),pe==="&"?q.state=O.TEXT_ENTITY:q.textNode+=pe);continue;case O.SCRIPT:pe==="<"?q.state=O.SCRIPT_ENDING:q.script+=pe;continue;case O.SCRIPT_ENDING:pe==="/"?q.state=O.CLOSE_TAG:(q.script+="<"+pe,q.state=O.SCRIPT);continue;case O.OPEN_WAKA:if(pe==="!")q.state=O.SGML_DECL,q.sgmlDecl="";else if(!T(pe))if(I(v,pe))q.state=O.OPEN_TAG,q.tagName=pe;else if(pe==="/")q.state=O.CLOSE_TAG,q.tagName="";else if(pe==="?")q.state=O.PROC_INST,q.procInstName=q.procInstBody="";else{if(G(q,"Unencoded <"),q.startTagPosition+1<q.position){var le=q.position-q.startTagPosition;pe=new Array(le).join(" ")+pe}q.textNode+="<"+pe,q.state=O.TEXT}continue;case O.SGML_DECL:(q.sgmlDecl+pe).toUpperCase()===h?($(q,"onopencdata"),q.state=O.CDATA,q.sgmlDecl="",q.cdata=""):q.sgmlDecl+pe==="--"?(q.state=O.COMMENT,q.comment="",q.sgmlDecl=""):(q.sgmlDecl+pe).toUpperCase()===f?(q.state=O.DOCTYPE,(q.doctype||q.sawRoot)&&G(q,"Inappropriately located doctype declaration"),q.doctype="",q.sgmlDecl=""):pe===">"?($(q,"onsgmldeclaration",q.sgmlDecl),q.sgmlDecl="",q.state=O.TEXT):(_(pe)&&(q.state=O.SGML_DECL_QUOTED),q.sgmlDecl+=pe);continue;case O.SGML_DECL_QUOTED:pe===q.q&&(q.state=O.SGML_DECL,q.q=""),q.sgmlDecl+=pe;continue;case O.DOCTYPE:pe===">"?(q.state=O.TEXT,$(q,"ondoctype",q.doctype),q.doctype=!0):(q.doctype+=pe,pe==="["?q.state=O.DOCTYPE_DTD:_(pe)&&(q.state=O.DOCTYPE_QUOTED,q.q=pe));continue;case O.DOCTYPE_QUOTED:q.doctype+=pe,pe===q.q&&(q.q="",q.state=O.DOCTYPE);continue;case O.DOCTYPE_DTD:q.doctype+=pe,pe==="]"?q.state=O.DOCTYPE:_(pe)&&(q.state=O.DOCTYPE_DTD_QUOTED,q.q=pe);continue;case O.DOCTYPE_DTD_QUOTED:q.doctype+=pe,pe===q.q&&(q.state=O.DOCTYPE_DTD,q.q="");continue;case O.COMMENT:pe==="-"?q.state=O.COMMENT_ENDING:q.comment+=pe;continue;case O.COMMENT_ENDING:pe==="-"?(q.state=O.COMMENT_ENDED,q.comment=A(q.opt,q.comment),q.comment&&$(q,"oncomment",q.comment),q.comment=""):(q.comment+="-"+pe,q.state=O.COMMENT);continue;case O.COMMENT_ENDED:pe!==">"?(G(q,"Malformed comment"),q.comment+="--"+pe,q.state=O.COMMENT):q.state=O.TEXT;continue;case O.CDATA:pe==="]"?q.state=O.CDATA_ENDING:q.cdata+=pe;continue;case O.CDATA_ENDING:pe==="]"?q.state=O.CDATA_ENDING_2:(q.cdata+="]"+pe,q.state=O.CDATA);continue;case O.CDATA_ENDING_2:pe===">"?(q.cdata&&$(q,"oncdata",q.cdata),$(q,"onclosecdata"),q.cdata="",q.state=O.TEXT):pe==="]"?q.cdata+="]":(q.cdata+="]]"+pe,q.state=O.CDATA);continue;case O.PROC_INST:pe==="?"?q.state=O.PROC_INST_ENDING:T(pe)?q.state=O.PROC_INST_BODY:q.procInstName+=pe;continue;case O.PROC_INST_BODY:if(!q.procInstBody&&T(pe))continue;pe==="?"?q.state=O.PROC_INST_ENDING:q.procInstBody+=pe;continue;case O.PROC_INST_ENDING:pe===">"?($(q,"onprocessinginstruction",{name:q.procInstName,body:q.procInstBody}),q.procInstName=q.procInstBody="",q.state=O.TEXT):(q.procInstBody+="?"+pe,q.state=O.PROC_INST_BODY);continue;case O.OPEN_TAG:I(x,pe)?q.tagName+=pe:(ne(q),pe===">"?X(q):pe==="/"?q.state=O.OPEN_TAG_SLASH:(T(pe)||G(q,"Invalid character in tag name"),q.state=O.ATTRIB));continue;case O.OPEN_TAG_SLASH:pe===">"?(X(q,!0),j(q)):(G(q,"Forward-slash in opening tag not followed by >"),q.state=O.ATTRIB);continue;case O.ATTRIB:if(T(pe))continue;pe===">"?X(q):pe==="/"?q.state=O.OPEN_TAG_SLASH:I(v,pe)?(q.attribName=pe,q.attribValue="",q.state=O.ATTRIB_NAME):G(q,"Invalid attribute name");continue;case O.ATTRIB_NAME:pe==="="?q.state=O.ATTRIB_VALUE:pe===">"?(G(q,"Attribute without value"),q.attribValue=q.attribName,ee(q),X(q)):T(pe)?q.state=O.ATTRIB_NAME_SAW_WHITE:I(x,pe)?q.attribName+=pe:G(q,"Invalid attribute name");continue;case O.ATTRIB_NAME_SAW_WHITE:if(pe==="=")q.state=O.ATTRIB_VALUE;else{if(T(pe))continue;G(q,"Attribute without value"),q.tag.attributes[q.attribName]="",q.attribValue="",$(q,"onattribute",{name:q.attribName,value:""}),q.attribName="",pe===">"?X(q):I(v,pe)?(q.attribName=pe,q.state=O.ATTRIB_NAME):(G(q,"Invalid attribute name"),q.state=O.ATTRIB)}continue;case O.ATTRIB_VALUE:if(T(pe))continue;_(pe)?(q.q=pe,q.state=O.ATTRIB_VALUE_QUOTED):(G(q,"Unquoted attribute value"),q.state=O.ATTRIB_VALUE_UNQUOTED,q.attribValue=pe);continue;case O.ATTRIB_VALUE_QUOTED:if(pe!==q.q){pe==="&"?q.state=O.ATTRIB_VALUE_ENTITY_Q:q.attribValue+=pe;continue}ee(q),q.q="",q.state=O.ATTRIB_VALUE_CLOSED;continue;case O.ATTRIB_VALUE_CLOSED:T(pe)?q.state=O.ATTRIB:pe===">"?X(q):pe==="/"?q.state=O.OPEN_TAG_SLASH:I(v,pe)?(G(q,"No whitespace between attributes"),q.attribName=pe,q.attribValue="",q.state=O.ATTRIB_NAME):G(q,"Invalid attribute name");continue;case O.ATTRIB_VALUE_UNQUOTED:if(!D(pe)){pe==="&"?q.state=O.ATTRIB_VALUE_ENTITY_U:q.attribValue+=pe;continue}ee(q),pe===">"?X(q):q.state=O.ATTRIB;continue;case O.CLOSE_TAG:if(q.tagName)pe===">"?j(q):I(x,pe)?q.tagName+=pe:q.script?(q.script+="</"+q.tagName,q.tagName="",q.state=O.SCRIPT):(T(pe)||G(q,"Invalid tagname in closing tag"),q.state=O.CLOSE_TAG_SAW_WHITE);else{if(T(pe))continue;L(v,pe)?q.script?(q.script+="</"+pe,q.state=O.SCRIPT):G(q,"Invalid tagname in closing tag."):q.tagName=pe}continue;case O.CLOSE_TAG_SAW_WHITE:if(T(pe))continue;pe===">"?j(q):G(q,"Invalid characters in closing tag");continue;case O.TEXT_ENTITY:case O.ATTRIB_VALUE_ENTITY_Q:case O.ATTRIB_VALUE_ENTITY_U:var Ee,M;switch(q.state){case O.TEXT_ENTITY:Ee=O.TEXT,M="textNode";break;case O.ATTRIB_VALUE_ENTITY_Q:Ee=O.ATTRIB_VALUE_QUOTED,M="attribValue";break;case O.ATTRIB_VALUE_ENTITY_U:Ee=O.ATTRIB_VALUE_UNQUOTED,M="attribValue";break}pe===";"?(q[M]+=ae(q),q.entity="",q.state=Ee):I(q.entity.length?k:w,pe)?q.entity+=pe:(G(q,"Invalid character in entity name"),q[M]+="&"+q.entity+pe,q.entity="",q.state=Ee);continue;default:throw new Error(q,"Unknown state: "+q.state)}return q.position>=q.bufferCheckPosition&&o(q),q}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var K=String.fromCharCode,q=Math.floor,be=function(){var pe=16384,ie=[],le,Ee,M=-1,he=arguments.length;if(!he)return"";for(var V="";++M<he;){var R=Number(arguments[M]);if(!isFinite(R)||R<0||R>1114111||q(R)!==R)throw RangeError("Invalid code point: "+R);R<=65535?ie.push(R):(R-=65536,le=(R>>10)+55296,Ee=R%1024+56320,ie.push(le,Ee)),(M+1===he||ie.length>pe)&&(V+=K.apply(null,ie),ie.length=0)}return V};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:be,configurable:!0,writable:!0}):String.fromCodePoint=be}()})(r)})(Dfe);var xP={isArray:function(r){return Array.isArray?Array.isArray(r):Object.prototype.toString.call(r)==="[object Array]"}},GZe=xP.isArray,wP={copyOptions:function(r){var e,n={};for(e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);return n},ensureFlagExists:function(r,e){(!(r in e)||typeof e[r]!="boolean")&&(e[r]=!1)},ensureSpacesExists:function(r){(!("spaces"in r)||typeof r.spaces!="number"&&typeof r.spaces!="string")&&(r.spaces=0)},ensureAlwaysArrayExists:function(r){(!("alwaysArray"in r)||typeof r.alwaysArray!="boolean"&&!GZe(r.alwaysArray))&&(r.alwaysArray=!1)},ensureKeyExists:function(r,e){(!(r+"Key"in e)||typeof e[r+"Key"]!="string")&&(e[r+"Key"]=e.compact?"_"+r:r)},checkFnExists:function(r,e){return r+"Fn"in e}},KZe=Dfe,Hn=wP,c0=xP.isArray,Xe,nn;function XZe(r){return Xe=Hn.copyOptions(r),Hn.ensureFlagExists("ignoreDeclaration",Xe),Hn.ensureFlagExists("ignoreInstruction",Xe),Hn.ensureFlagExists("ignoreAttributes",Xe),Hn.ensureFlagExists("ignoreText",Xe),Hn.ensureFlagExists("ignoreComment",Xe),Hn.ensureFlagExists("ignoreCdata",Xe),Hn.ensureFlagExists("ignoreDoctype",Xe),Hn.ensureFlagExists("compact",Xe),Hn.ensureFlagExists("alwaysChildren",Xe),Hn.ensureFlagExists("addParent",Xe),Hn.ensureFlagExists("trim",Xe),Hn.ensureFlagExists("nativeType",Xe),Hn.ensureFlagExists("nativeTypeAttributes",Xe),Hn.ensureFlagExists("sanitize",Xe),Hn.ensureFlagExists("instructionHasAttributes",Xe),Hn.ensureFlagExists("captureSpacesBetweenElements",Xe),Hn.ensureAlwaysArrayExists(Xe),Hn.ensureKeyExists("declaration",Xe),Hn.ensureKeyExists("instruction",Xe),Hn.ensureKeyExists("attributes",Xe),Hn.ensureKeyExists("text",Xe),Hn.ensureKeyExists("comment",Xe),Hn.ensureKeyExists("cdata",Xe),Hn.ensureKeyExists("doctype",Xe),Hn.ensureKeyExists("type",Xe),Hn.ensureKeyExists("name",Xe),Hn.ensureKeyExists("elements",Xe),Hn.ensureKeyExists("parent",Xe),Xe}function epe(r){var e=Number(r);if(!isNaN(e))return e;var n=r.toLowerCase();return n==="true"?!0:n==="false"?!1:r}function Iv(r,e){var n;if(Xe.compact){if(!nn[Xe[r+"Key"]]&&(c0(Xe.alwaysArray)?Xe.alwaysArray.indexOf(Xe[r+"Key"])!==-1:Xe.alwaysArray)&&(nn[Xe[r+"Key"]]=[]),nn[Xe[r+"Key"]]&&!c0(nn[Xe[r+"Key"]])&&(nn[Xe[r+"Key"]]=[nn[Xe[r+"Key"]]]),r+"Fn"in Xe&&typeof e=="string"&&(e=Xe[r+"Fn"](e,nn)),r==="instruction"&&("instructionFn"in Xe||"instructionNameFn"in Xe)){for(n in e)if(e.hasOwnProperty(n))if("instructionFn"in Xe)e[n]=Xe.instructionFn(e[n],n,nn);else{var i=e[n];delete e[n],e[Xe.instructionNameFn(n,i,nn)]=i}}c0(nn[Xe[r+"Key"]])?nn[Xe[r+"Key"]].push(e):nn[Xe[r+"Key"]]=e}else{nn[Xe.elementsKey]||(nn[Xe.elementsKey]=[]);var o={};if(o[Xe.typeKey]=r,r==="instruction"){for(n in e)if(e.hasOwnProperty(n))break;o[Xe.nameKey]="instructionNameFn"in Xe?Xe.instructionNameFn(n,e,nn):n,Xe.instructionHasAttributes?(o[Xe.attributesKey]=e[n][Xe.attributesKey],"instructionFn"in Xe&&(o[Xe.attributesKey]=Xe.instructionFn(o[Xe.attributesKey],n,nn))):("instructionFn"in Xe&&(e[n]=Xe.instructionFn(e[n],n,nn)),o[Xe.instructionKey]=e[n])}else r+"Fn"in Xe&&(e=Xe[r+"Fn"](e,nn)),o[Xe[r+"Key"]]=e;Xe.addParent&&(o[Xe.parentKey]=nn),nn[Xe.elementsKey].push(o)}}function tpe(r){if("attributesFn"in Xe&&r&&(r=Xe.attributesFn(r,nn)),(Xe.trim||"attributeValueFn"in Xe||"attributeNameFn"in Xe||Xe.nativeTypeAttributes)&&r){var e;for(e in r)if(r.hasOwnProperty(e)&&(Xe.trim&&(r[e]=r[e].trim()),Xe.nativeTypeAttributes&&(r[e]=epe(r[e])),"attributeValueFn"in Xe&&(r[e]=Xe.attributeValueFn(r[e],e,nn)),"attributeNameFn"in Xe)){var n=r[e];delete r[e],r[Xe.attributeNameFn(e,r[e],nn)]=n}}return r}function YZe(r){var e={};if(r.body&&(r.name.toLowerCase()==="xml"||Xe.instructionHasAttributes)){for(var n=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,i;(i=n.exec(r.body))!==null;)e[i[1]]=i[2]||i[3]||i[4];e=tpe(e)}if(r.name.toLowerCase()==="xml"){if(Xe.ignoreDeclaration)return;nn[Xe.declarationKey]={},Object.keys(e).length&&(nn[Xe.declarationKey][Xe.attributesKey]=e),Xe.addParent&&(nn[Xe.declarationKey][Xe.parentKey]=nn)}else{if(Xe.ignoreInstruction)return;Xe.trim&&(r.body=r.body.trim());var o={};Xe.instructionHasAttributes&&Object.keys(e).length?(o[r.name]={},o[r.name][Xe.attributesKey]=e):o[r.name]=r.body,Iv("instruction",o)}}function ZZe(r,e){var n;if(typeof r=="object"&&(e=r.attributes,r=r.name),e=tpe(e),"elementNameFn"in Xe&&(r=Xe.elementNameFn(r,nn)),Xe.compact){if(n={},!Xe.ignoreAttributes&&e&&Object.keys(e).length){n[Xe.attributesKey]={};var i;for(i in e)e.hasOwnProperty(i)&&(n[Xe.attributesKey][i]=e[i])}!(r in nn)&&(c0(Xe.alwaysArray)?Xe.alwaysArray.indexOf(r)!==-1:Xe.alwaysArray)&&(nn[r]=[]),nn[r]&&!c0(nn[r])&&(nn[r]=[nn[r]]),c0(nn[r])?nn[r].push(n):nn[r]=n}else nn[Xe.elementsKey]||(nn[Xe.elementsKey]=[]),n={},n[Xe.typeKey]="element",n[Xe.nameKey]=r,!Xe.ignoreAttributes&&e&&Object.keys(e).length&&(n[Xe.attributesKey]=e),Xe.alwaysChildren&&(n[Xe.elementsKey]=[]),nn[Xe.elementsKey].push(n);n[Xe.parentKey]=nn,nn=n}function JZe(r){Xe.ignoreText||!r.trim()&&!Xe.captureSpacesBetweenElements||(Xe.trim&&(r=r.trim()),Xe.nativeType&&(r=epe(r)),Xe.sanitize&&(r=r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),Iv("text",r))}function QZe(r){Xe.ignoreComment||(Xe.trim&&(r=r.trim()),Iv("comment",r))}function eJe(r){var e=nn[Xe.parentKey];Xe.addParent||delete nn[Xe.parentKey],nn=e}function tJe(r){Xe.ignoreCdata||(Xe.trim&&(r=r.trim()),Iv("cdata",r))}function nJe(r){Xe.ignoreDoctype||(r=r.replace(/^ /,""),Xe.trim&&(r=r.trim()),Iv("doctype",r))}function rJe(r){r.note=r}var npe=function(r,e){var n=KZe.parser(!0,{}),i={};if(nn=i,Xe=XZe(e),n.opt={strictEntities:!0},n.onopentag=ZZe,n.ontext=JZe,n.oncomment=QZe,n.onclosetag=eJe,n.onerror=rJe,n.oncdata=tJe,n.ondoctype=nJe,n.onprocessinginstruction=YZe,n.write(r).close(),i[Xe.elementsKey]){var o=i[Xe.elementsKey];delete i[Xe.elementsKey],i[Xe.elementsKey]=o,delete i.text}return i},KK=wP,iJe=npe;function oJe(r){var e=KK.copyOptions(r);return KK.ensureSpacesExists(e),e}var aJe=function(r,e){var n,i,o,a;return n=oJe(e),i=iJe(r,n),a="compact"in n&&n.compact?"_parent":"parent","addParent"in n&&n.addParent?o=JSON.stringify(i,function(s,l){return s===a?"_":l},n.spaces):o=JSON.stringify(i,null,n.spaces),o.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},rr=wP,sJe=xP.isArray,Ui,Bi;function lJe(r){var e=rr.copyOptions(r);return rr.ensureFlagExists("ignoreDeclaration",e),rr.ensureFlagExists("ignoreInstruction",e),rr.ensureFlagExists("ignoreAttributes",e),rr.ensureFlagExists("ignoreText",e),rr.ensureFlagExists("ignoreComment",e),rr.ensureFlagExists("ignoreCdata",e),rr.ensureFlagExists("ignoreDoctype",e),rr.ensureFlagExists("compact",e),rr.ensureFlagExists("indentText",e),rr.ensureFlagExists("indentCdata",e),rr.ensureFlagExists("indentAttributes",e),rr.ensureFlagExists("indentInstruction",e),rr.ensureFlagExists("fullTagEmptyElement",e),rr.ensureFlagExists("noQuotesForNativeAttributes",e),rr.ensureSpacesExists(e),typeof e.spaces=="number"&&(e.spaces=Array(e.spaces+1).join(" ")),rr.ensureKeyExists("declaration",e),rr.ensureKeyExists("instruction",e),rr.ensureKeyExists("attributes",e),rr.ensureKeyExists("text",e),rr.ensureKeyExists("comment",e),rr.ensureKeyExists("cdata",e),rr.ensureKeyExists("doctype",e),rr.ensureKeyExists("type",e),rr.ensureKeyExists("name",e),rr.ensureKeyExists("elements",e),e}function rl(r,e,n){return(!n&&r.spaces?`
`:"")+Array(e+1).join(r.spaces)}function d6(r,e,n){if(e.ignoreAttributes)return"";"attributesFn"in e&&(r=e.attributesFn(r,Bi,Ui));var i,o,a,s,l=[];for(i in r)r.hasOwnProperty(i)&&r[i]!==null&&r[i]!==void 0&&(s=e.noQuotesForNativeAttributes&&typeof r[i]!="string"?"":'"',o=""+r[i],o=o.replace(/"/g,"&quot;"),a="attributeNameFn"in e?e.attributeNameFn(i,o,Bi,Ui):i,l.push(e.spaces&&e.indentAttributes?rl(e,n+1,!1):" "),l.push(a+"="+s+("attributeValueFn"in e?e.attributeValueFn(o,i,Bi,Ui):o)+s));return r&&Object.keys(r).length&&e.spaces&&e.indentAttributes&&l.push(rl(e,n,!1)),l.join("")}function rpe(r,e,n){return Ui=r,Bi="xml",e.ignoreDeclaration?"":"<?xml"+d6(r[e.attributesKey],e,n)+"?>"}function ipe(r,e,n){if(e.ignoreInstruction)return"";var i;for(i in r)if(r.hasOwnProperty(i))break;var o="instructionNameFn"in e?e.instructionNameFn(i,r[i],Bi,Ui):i;if(typeof r[i]=="object")return Ui=r,Bi=o,"<?"+o+d6(r[i][e.attributesKey],e,n)+"?>";var a=r[i]?r[i]:"";return"instructionFn"in e&&(a=e.instructionFn(a,i,Bi,Ui)),"<?"+o+(a?" "+a:"")+"?>"}function ope(r,e){return e.ignoreComment?"":"<!--"+("commentFn"in e?e.commentFn(r,Bi,Ui):r)+"-->"}function ape(r,e){return e.ignoreCdata?"":"<![CDATA["+("cdataFn"in e?e.cdataFn(r,Bi,Ui):r.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function spe(r,e){return e.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in e?e.doctypeFn(r,Bi,Ui):r)+">"}function SP(r,e){return e.ignoreText?"":(r=""+r,r=r.replace(/&amp;/g,"&"),r=r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in e?e.textFn(r,Bi,Ui):r)}function cJe(r,e){var n;if(r.elements&&r.elements.length)for(n=0;n<r.elements.length;++n)switch(r.elements[n][e.typeKey]){case"text":if(e.indentText)return!0;break;case"cdata":if(e.indentCdata)return!0;break;case"instruction":if(e.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function uJe(r,e,n){Ui=r,Bi=r.name;var i=[],o="elementNameFn"in e?e.elementNameFn(r.name,r):r.name;i.push("<"+o),r[e.attributesKey]&&i.push(d6(r[e.attributesKey],e,n));var a=r[e.elementsKey]&&r[e.elementsKey].length||r[e.attributesKey]&&r[e.attributesKey]["xml:space"]==="preserve";return a||("fullTagEmptyElementFn"in e?a=e.fullTagEmptyElementFn(r.name,r):a=e.fullTagEmptyElement),a?(i.push(">"),r[e.elementsKey]&&r[e.elementsKey].length&&(i.push(lpe(r[e.elementsKey],e,n+1)),Ui=r,Bi=r.name),i.push(e.spaces&&cJe(r,e)?`
`+Array(n+1).join(e.spaces):""),i.push("</"+o+">")):i.push("/>"),i.join("")}function lpe(r,e,n,i){return r.reduce(function(o,a){var s=rl(e,n,i&&!o);switch(a.type){case"element":return o+s+uJe(a,e,n);case"comment":return o+s+ope(a[e.commentKey],e);case"doctype":return o+s+spe(a[e.doctypeKey],e);case"cdata":return o+(e.indentCdata?s:"")+ape(a[e.cdataKey],e);case"text":return o+(e.indentText?s:"")+SP(a[e.textKey],e);case"instruction":var l={};return l[a[e.nameKey]]=a[e.attributesKey]?a:a[e.instructionKey],o+(e.indentInstruction?s:"")+ipe(l,e,n)}},"")}function cpe(r,e,n){var i;for(i in r)if(r.hasOwnProperty(i))switch(i){case e.parentKey:case e.attributesKey:break;case e.textKey:if(e.indentText||n)return!0;break;case e.cdataKey:if(e.indentCdata||n)return!0;break;case e.instructionKey:if(e.indentInstruction||n)return!0;break;case e.doctypeKey:case e.commentKey:return!0;default:return!0}return!1}function dJe(r,e,n,i,o){Ui=r,Bi=e;var a="elementNameFn"in n?n.elementNameFn(e,r):e;if(typeof r>"u"||r===null||r==="")return"fullTagEmptyElementFn"in n&&n.fullTagEmptyElementFn(e,r)||n.fullTagEmptyElement?"<"+a+"></"+a+">":"<"+a+"/>";var s=[];if(e){if(s.push("<"+a),typeof r!="object")return s.push(">"+SP(r,n)+"</"+a+">"),s.join("");r[n.attributesKey]&&s.push(d6(r[n.attributesKey],n,i));var l=cpe(r,n,!0)||r[n.attributesKey]&&r[n.attributesKey]["xml:space"]==="preserve";if(l||("fullTagEmptyElementFn"in n?l=n.fullTagEmptyElementFn(e,r):l=n.fullTagEmptyElement),l)s.push(">");else return s.push("/>"),s.join("")}return s.push(upe(r,n,i+1,!1)),Ui=r,Bi=e,e&&s.push((o?rl(n,i,!1):"")+"</"+a+">"),s.join("")}function upe(r,e,n,i){var o,a,s,l=[];for(a in r)if(r.hasOwnProperty(a))for(s=sJe(r[a])?r[a]:[r[a]],o=0;o<s.length;++o){switch(a){case e.declarationKey:l.push(rpe(s[o],e,n));break;case e.instructionKey:l.push((e.indentInstruction?rl(e,n,i):"")+ipe(s[o],e,n));break;case e.attributesKey:case e.parentKey:break;case e.textKey:l.push((e.indentText?rl(e,n,i):"")+SP(s[o],e));break;case e.cdataKey:l.push((e.indentCdata?rl(e,n,i):"")+ape(s[o],e));break;case e.doctypeKey:l.push(rl(e,n,i)+spe(s[o],e));break;case e.commentKey:l.push(rl(e,n,i)+ope(s[o],e));break;default:l.push(rl(e,n,i)+dJe(s[o],a,e,n,cpe(s[o],e)))}i=i&&!l.length}return l.join("")}var dpe=function(r,e){e=lJe(e);var n=[];return Ui=r,Bi="_root_",e.compact?n.push(upe(r,e,0,!0)):(r[e.declarationKey]&&n.push(rpe(r[e.declarationKey],e,0)),r[e.elementsKey]&&r[e.elementsKey].length&&n.push(lpe(r[e.elementsKey],e,0,!n.length))),n.join("")},hJe=dpe,fJe=function(r,e){r instanceof Buffer&&(r=r.toString());var n=null;if(typeof r=="string")try{n=JSON.parse(r)}catch{throw new Error("The JSON structure is invalid")}else n=r;return hJe(n,e)},pJe=npe,mJe=aJe,gJe=dpe,yJe=fJe,hpe={xml2js:pJe,xml2json:mJe,js2xml:gJe,json2xml:yJe};const kP=r=>{switch(r.type){case void 0:case"element":const e=new vJe(r.name,r.attributes),n=r.elements||[];for(const i of n){const o=kP(i);o!==void 0&&e.push(o)}return e;case"text":return r.text;default:return}};class bJe extends Ct{}class vJe extends We{static fromXmlString(e){const n=hpe.xml2js(e,{compact:!1});return kP(n)}constructor(e,n){super(e),n&&this.root.push(new bJe(n))}push(e){this.root.push(e)}}class xJe extends We{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class fpe extends We{constructor(e,n){super(e),n&&(this.root=n.root)}}const ji=r=>{if(isNaN(r))throw new Error(`Invalid value '${r}' specified. Must be an integer.`);return Math.floor(r)},h6=r=>{const e=ji(r);if(e<0)throw new Error(`Invalid value '${r}' specified. Must be a positive integer.`);return e},ppe=(r,e)=>{const n=e*2;if(r.length!==n||isNaN(+`0x${r}`))throw new Error(`Invalid hex value '${r}'. Expected ${n} digit hex value`);return r},XK=r=>ppe(r,1),TP=r=>{const e=r.slice(-2),n=r.substring(0,r.length-2);return`${Number(n)}${e}`},mpe=r=>{const e=TP(r);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},j0=r=>{if(r==="auto")return r;const e=r.charAt(0)==="#"?r.substring(1):r;return ppe(e,3)},_c=r=>typeof r=="string"?TP(r):ji(r),wJe=r=>typeof r=="string"?mpe(r):h6(r),Ei=r=>typeof r=="string"?mpe(r):h6(r),SJe=r=>{const e=r.substring(0,r.length-1);return`${Number(e)}%`},kJe=r=>typeof r=="number"?ji(r):r.slice(-1)==="%"?SJe(r):TP(r),TJe=h6,EJe=h6,CJe=r=>r.toISOString();class it extends We{constructor(e,n=!0){super(e),n!==!0&&this.root.push(new Ir({val:n}))}}class a_ extends We{constructor(e,n){super(e),this.root.push(new Ir({val:wJe(n)}))}}class Df extends We{constructor(e,n){super(e),this.root.push(new Ir({val:n}))}}const j1=(r,e)=>new Xr({name:r,attributes:{value:{key:"w:val",value:e}}});class EP extends We{constructor(e,n){super(e),this.root.push(new Ir({val:n}))}}class _Je extends We{constructor(e,n){super(e),this.root.push(new Ir({val:n}))}}class jh extends We{constructor(e,n){super(e),this.root.push(n)}}class Xr extends We{constructor({name:e,attributes:n,children:i}){super(e),n&&this.root.push(new lu(n)),i&&this.root.push(...i)}}const Eo={START:"start",CENTER:"center",LEFT:"left",RIGHT:"right"};class AJe extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{val:"w:val"})}}class gpe extends We{constructor(e){super("w:jc"),this.root.push(new AJe({val:e}))}}class Xn extends We{constructor(e,{color:n,size:i,space:o,style:a}){super(e),this.root.push(new DJe({style:a,color:n===void 0?void 0:j0(n),size:i===void 0?void 0:TJe(i),space:o===void 0?void 0:EJe(o)}))}}class DJe extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const CP={SINGLE:"single",NONE:"none"};class MJe extends su{constructor(e){super("w:pBdr"),e.top&&this.root.push(new Xn("w:top",e.top)),e.bottom&&this.root.push(new Xn("w:bottom",e.bottom)),e.left&&this.root.push(new Xn("w:left",e.left)),e.right&&this.root.push(new Xn("w:right",e.right))}}class RJe extends We{constructor(){super("w:pBdr");const e=new Xn("w:bottom",{color:"auto",space:1,style:CP.SINGLE,size:6});this.root.push(e)}}class NJe extends We{constructor({start:e,end:n,left:i,right:o,hanging:a,firstLine:s}){super("w:ind"),this.root.push(new lu({start:{key:"w:start",value:e===void 0?void 0:_c(e)},end:{key:"w:end",value:n===void 0?void 0:_c(n)},left:{key:"w:left",value:i===void 0?void 0:_c(i)},right:{key:"w:right",value:o===void 0?void 0:_c(o)},hanging:{key:"w:hanging",value:a===void 0?void 0:Ei(a)},firstLine:{key:"w:firstLine",value:s===void 0?void 0:Ei(s)}}))}}let OJe=class extends We{constructor(){super("w:br")}};const _P={BEGIN:"begin",END:"end",SEPARATE:"separate"};class AP extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class wy extends We{constructor(e){super("w:fldChar"),this.root.push(new AP({type:_P.BEGIN,dirty:e}))}}class Sy extends We{constructor(e){super("w:fldChar"),this.root.push(new AP({type:_P.SEPARATE,dirty:e}))}}class ky extends We{constructor(e){super("w:fldChar"),this.root.push(new AP({type:_P.END,dirty:e}))}}const Zf={DEFAULT:"default",PRESERVE:"preserve"};class Jf extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{space:"xml:space"})}}class PJe extends We{constructor(){super("w:instrText"),this.root.push(new Jf({space:Zf.PRESERVE})),this.root.push("PAGE")}}class IJe extends We{constructor(){super("w:instrText"),this.root.push(new Jf({space:Zf.PRESERVE})),this.root.push("NUMPAGES")}}class $Je extends We{constructor(){super("w:instrText"),this.root.push(new Jf({space:Zf.PRESERVE})),this.root.push("SECTIONPAGES")}}class zJe extends We{constructor(){super("w:instrText"),this.root.push(new Jf({space:Zf.PRESERVE})),this.root.push("SECTION")}}class LJe extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class f6 extends We{constructor({fill:e,color:n,type:i}){super("w:shd"),this.root.push(new LJe({fill:e===void 0?void 0:j0(e),color:n===void 0?void 0:j0(n),type:i}))}}const UJe={SOLID:"solid"};class BJe extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const jJe={DOT:"dot"};class FJe extends We{constructor(e){super("w:em"),this.root.push(new Ir({val:e}))}}class HJe extends FJe{constructor(e=jJe.DOT){super(e)}}class WJe extends We{constructor(e){super("w:spacing"),this.root.push(new Ir({val:_c(e)}))}}class VJe extends We{constructor(e){super("w:color"),this.root.push(new Ir({val:j0(e)}))}}class qJe extends We{constructor(e){super("w:highlight"),this.root.push(new Ir({val:e}))}}class GJe extends We{constructor(e){super("w:highlightCs"),this.root.push(new Ir({val:e}))}}const KJe=r=>new Xr({name:"w:lang",attributes:{value:{key:"w:val",value:r.value},eastAsia:{key:"w:eastAsia",value:r.eastAsia},bidirectional:{key:"w:bidi",value:r.bidirectional}}});class YK extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class s_ extends We{constructor(e,n){if(super("w:rFonts"),typeof e=="string"){const i=e;this.root.push(new YK({ascii:i,cs:i,eastAsia:i,hAnsi:i,hint:n}))}else{const i=e;this.root.push(new YK(i))}}}let ype=class extends We{constructor(e){super("w:vertAlign"),this.root.push(new Ir({val:e}))}};class XJe extends ype{constructor(){super("superscript")}}class YJe extends ype{constructor(){super("subscript")}}const bpe={SINGLE:"single"};class ZJe extends We{constructor(e=bpe.SINGLE,n){super("w:u"),this.root.push(new Ir({val:e,color:n===void 0?void 0:j0(n)}))}}class vp extends su{constructor(e){var n,i;if(super("w:rPr"),!e)return;e.noProof!==void 0&&this.push(new it("w:noProof",e.noProof)),e.bold!==void 0&&this.push(new it("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new it("w:bCs",(n=e.boldComplexScript)!=null?n:e.bold)),e.italics!==void 0&&this.push(new it("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new it("w:iCs",(i=e.italicsComplexScript)!=null?i:e.italics)),e.underline&&this.push(new ZJe(e.underline.type,e.underline.color)),e.effect&&this.push(new Df("w:effect",e.effect)),e.emphasisMark&&this.push(new HJe(e.emphasisMark.type)),e.color&&this.push(new VJe(e.color)),e.kern&&this.push(new a_("w:kern",e.kern)),e.position&&this.push(new Df("w:position",e.position)),e.size!==void 0&&this.push(new a_("w:sz",e.size));const o=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;o&&this.push(new a_("w:szCs",o)),e.rightToLeft!==void 0&&this.push(new it("w:rtl",e.rightToLeft)),e.smallCaps!==void 0?this.push(new it("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new it("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new it("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new it("w:dstrike",e.doubleStrike)),e.subScript&&this.push(new YJe),e.superScript&&this.push(new XJe),e.style&&this.push(new Df("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new s_(e.font)):"name"in e.font?this.push(new s_(e.font.name,e.font.hint)):this.push(new s_(e.font))),e.highlight&&this.push(new qJe(e.highlight));const a=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;a&&this.push(new GJe(a)),e.characterSpacing&&this.push(new WJe(e.characterSpacing)),e.emboss!==void 0&&this.push(new it("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new it("w:imprint",e.imprint)),e.shading&&this.push(new f6(e.shading)),e.revision&&this.push(new JJe(e.revision)),e.border&&this.push(new Xn("w:bdr",e.border)),e.snapToGrid!==void 0&&this.push(new it("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new it("w:vanish",e.vanish)),e.specVanish&&this.push(new it("w:specVanish",e.vanish)),e.scale!==void 0&&this.push(new EP("w:w",e.scale)),e.language&&this.push(KJe(e.language)),e.math&&this.push(new it("w:oMath",e.math))}push(e){this.root.push(e)}}class JJe extends We{constructor(e){super("w:rPrChange"),this.root.push(new BJe({id:e.id,author:e.author,date:e.date})),this.addChildElement(new vp(e))}}class rM extends We{constructor(e){var n;super("w:t"),typeof e=="string"?(this.root.push(new Jf({space:Zf.PRESERVE})),this.root.push(e)):(this.root.push(new Jf({space:(n=e.space)!=null?n:Zf.DEFAULT})),this.root.push(e.text))}}const l2={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class xp extends We{constructor(e){if(super("w:r"),qe(this,"properties"),this.properties=new vp(e),this.root.push(this.properties),e.break)for(let n=0;n<e.break;n++)this.root.push(new OJe);if(e.children)for(const n of e.children){if(typeof n=="string"){switch(n){case l2.CURRENT:this.root.push(new wy),this.root.push(new PJe),this.root.push(new Sy),this.root.push(new ky);break;case l2.TOTAL_PAGES:this.root.push(new wy),this.root.push(new IJe),this.root.push(new Sy),this.root.push(new ky);break;case l2.TOTAL_PAGES_IN_SECTION:this.root.push(new wy),this.root.push(new $Je),this.root.push(new Sy),this.root.push(new ky);break;case l2.CURRENT_SECTION:this.root.push(new wy),this.root.push(new zJe),this.root.push(new Sy),this.root.push(new ky);break;default:this.root.push(new rM(n));break}continue}this.root.push(n)}else e.text&&this.root.push(new rM(e.text))}}class vs extends xp{constructor(e){if(typeof e=="string")return super({}),this.root.push(new rM(e)),this;super(e)}}let QJe="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",eQe=(r,e=21)=>(n=e)=>{let i="",o=n;for(;o--;)i+=r[Math.random()*r.length|0];return i},tQe=(r=21)=>{let e="",n=r;for(;n--;)e+=QJe[Math.random()*64|0];return e};const ea=r=>Math.floor(r*72*20),p6=(r=0)=>{let e=r;return()=>++e},nQe=()=>p6(),rQe=()=>p6(1),iQe=()=>p6(),oQe=()=>p6(),M3=()=>tQe().toLowerCase(),F1=r=>eQe("1234567890abcdef",r)(),aQe=()=>`${F1(8)}-${F1(4)}-${F1(4)}-${F1(4)}-${F1(12)}`,sQe={PAGE:"page"},lQe={PAGE:"page"};class cQe extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{x:"x",y:"y"})}}class uQe extends We{constructor(){super("wp:simplePos"),this.root.push(new cQe({x:0,y:0}))}}class vpe extends We{constructor(e){super("wp:align"),this.root.push(e)}}class xpe extends We{constructor(e){super("wp:posOffset"),this.root.push(e.toString())}}class dQe extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{relativeFrom:"relativeFrom"})}}class hQe extends We{constructor(e){if(super("wp:positionH"),this.root.push(new dQe({relativeFrom:e.relative||sQe.PAGE})),e.align)this.root.push(new vpe(e.align));else if(e.offset!==void 0)this.root.push(new xpe(e.offset));else throw new Error("There is no configuration provided for floating position (Align or offset)")}}class fQe extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{relativeFrom:"relativeFrom"})}}class pQe extends We{constructor(e){if(super("wp:positionV"),this.root.push(new fQe({relativeFrom:e.relative||lQe.PAGE})),e.align)this.root.push(new vpe(e.align));else if(e.offset!==void 0)this.root.push(new xpe(e.offset));else throw new Error("There is no configuration provided for floating position (Align or offset)")}}class mQe extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{uri:"uri"})}}const gQe=r=>new Xr({name:"asvg:svgBlip",attributes:{asvg:{key:"xmlns:asvg",value:"http://schemas.microsoft.com/office/drawing/2016/SVG/main"},embed:{key:"r:embed",value:`rId{${r.fileName}}`}}}),yQe=r=>new Xr({name:"a:ext",attributes:{uri:{key:"uri",value:"{96DAC541-7B7A-43D3-8B79-37D633B846F1}"}},children:[gQe(r)]}),bQe=r=>new Xr({name:"a:extLst",children:[yQe(r)]}),vQe=r=>new Xr({name:"a:blip",attributes:{embed:{key:"r:embed",value:`rId{${r.type==="svg"?r.fallback.fileName:r.fileName}}`},cstate:{key:"cstate",value:"none"}},children:r.type==="svg"?[bQe(r)]:[]});class xQe extends We{constructor(){super("a:srcRect")}}class wQe extends We{constructor(){super("a:fillRect")}}class SQe extends We{constructor(){super("a:stretch"),this.root.push(new wQe)}}class kQe extends We{constructor(e){super("pic:blipFill"),this.root.push(vQe(e)),this.root.push(new xQe),this.root.push(new SQe)}}class TQe extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"})}}class EQe extends We{constructor(){super("a:picLocks"),this.root.push(new TQe({noChangeAspect:1,noChangeArrowheads:1}))}}class CQe extends We{constructor(){super("pic:cNvPicPr"),this.root.push(new EQe)}}const wpe=(r,e)=>new Xr({name:"a:hlinkClick",attributes:Bd(bn({},e?{xmlns:{key:"xmlns:a",value:"http://schemas.openxmlformats.org/drawingml/2006/main"}}:{}),{id:{key:"r:id",value:`rId${r}`}})});class _Qe extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{id:"id",name:"name",descr:"descr"})}}class AQe extends We{constructor(){super("pic:cNvPr"),this.root.push(new _Qe({id:0,name:"",descr:""}))}prepForXml(e){for(let n=e.stack.length-1;n>=0;n--){const i=e.stack[n];if(i instanceof m6){this.root.push(wpe(i.linkId,!1));break}}return super.prepForXml(e)}}class DQe extends We{constructor(){super("pic:nvPicPr"),this.root.push(new AQe),this.root.push(new CQe)}}class MQe extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{xmlns:"xmlns:pic"})}}class RQe extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class NQe extends We{constructor(e,n){super("a:ext"),qe(this,"attributes"),this.attributes=new RQe({cx:e,cy:n}),this.root.push(this.attributes)}}class OQe extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{x:"x",y:"y"})}}class PQe extends We{constructor(){super("a:off"),this.root.push(new OQe({x:0,y:0}))}}class IQe extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{flipVertical:"flipV",flipHorizontal:"flipH",rotation:"rot"})}}class $Qe extends We{constructor(e){var n,i;super("a:xfrm"),qe(this,"extents"),this.root.push(new IQe({flipVertical:(n=e.flip)==null?void 0:n.vertical,flipHorizontal:(i=e.flip)==null?void 0:i.horizontal,rotation:e.rotation})),this.extents=new NQe(e.emus.x,e.emus.y),this.root.push(new PQe),this.root.push(this.extents)}}const Spe=()=>new Xr({name:"a:noFill"}),zQe=r=>new Xr({name:"a:schemeClr",attributes:{value:{key:"val",value:r.value}}}),LQe=r=>new Xr({name:"a:srgbClr",attributes:{value:{key:"val",value:r.value}}}),ZK=r=>new Xr({name:"a:solidFill",children:[r.type==="rgb"?LQe(r):zQe(r)]}),UQe=r=>new Xr({name:"a:ln",attributes:{width:{key:"w",value:r.width},cap:{key:"cap",value:r.cap},compoundLine:{key:"cmpd",value:r.compoundLine},align:{key:"algn",value:r.align}},children:[r.type==="noFill"?Spe():r.solidFillType==="rgb"?ZK({type:"rgb",value:r.value}):ZK({type:"scheme",value:r.value})]});class BQe extends We{constructor(){super("a:avLst")}}class jQe extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{prst:"prst"})}}class FQe extends We{constructor(){super("a:prstGeom"),this.root.push(new jQe({prst:"rect"})),this.root.push(new BQe)}}class HQe extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{bwMode:"bwMode"})}}class WQe extends We{constructor({outline:e,transform:n}){super("pic:spPr"),qe(this,"form"),this.root.push(new HQe({bwMode:"auto"})),this.form=new $Qe(n),this.root.push(this.form),this.root.push(new FQe),e&&(this.root.push(Spe()),this.root.push(UQe(e)))}}class VQe extends We{constructor({mediaData:e,transform:n,outline:i}){super("pic:pic"),this.root.push(new MQe({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.root.push(new DQe),this.root.push(new kQe(e)),this.root.push(new WQe({transform:n,outline:i}))}}class qQe extends We{constructor({mediaData:e,transform:n,outline:i}){super("a:graphicData"),qe(this,"pic"),this.root.push(new mQe({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new VQe({mediaData:e,transform:n,outline:i}),this.root.push(this.pic)}}class GQe extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{a:"xmlns:a"})}}class kpe extends We{constructor({mediaData:e,transform:n,outline:i}){super("a:graphic"),qe(this,"data"),this.root.push(new GQe({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new qQe({mediaData:e,transform:n,outline:i}),this.root.push(this.data)}}const c2={NONE:0,SQUARE:1,TIGHT:2,TOP_AND_BOTTOM:3},KQe={BOTH_SIDES:"bothSides"};class JK extends We{constructor(){super("wp:wrapNone")}}class XQe extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"})}}class YQe extends We{constructor(e,n={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new XQe({wrapText:e.side||KQe.BOTH_SIDES,distT:n.top,distB:n.bottom,distL:n.left,distR:n.right}))}}class ZQe extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class JQe extends We{constructor(e={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new ZQe({distT:e.top,distB:e.bottom}))}}class QQe extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class eet extends We{constructor(e={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new QQe({distT:e.top,distB:e.bottom}))}}class Tpe extends We{constructor({name:e,description:n,title:i}={name:"",description:"",title:""}){super("wp:docPr"),qe(this,"docPropertiesUniqueNumericId",iQe()),this.root.push(new lu({id:{key:"id",value:this.docPropertiesUniqueNumericId()},name:{key:"name",value:e},description:{key:"descr",value:n},title:{key:"title",value:i}}))}prepForXml(e){for(let n=e.stack.length-1;n>=0;n--){const i=e.stack[n];if(i instanceof m6){this.root.push(wpe(i.linkId,!0));break}}return super.prepForXml(e)}}const Epe=({top:r,right:e,bottom:n,left:i})=>new Xr({name:"wp:effectExtent",attributes:{top:{key:"t",value:r},right:{key:"r",value:e},bottom:{key:"b",value:n},left:{key:"l",value:i}}});class tet extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class Cpe extends We{constructor(e,n){super("wp:extent"),qe(this,"attributes"),this.attributes=new tet({cx:e,cy:n}),this.root.push(this.attributes)}}class net extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"})}}class ret extends We{constructor(){super("a:graphicFrameLocks"),this.root.push(new net({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}}class _pe extends We{constructor(){super("wp:cNvGraphicFramePr"),this.root.push(new ret)}}class iet extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"})}}class oet extends We{constructor({mediaData:e,transform:n,drawingOptions:i}){super("wp:anchor");const o=bn({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},i.floating);if(this.root.push(new iet({distT:o.margins&&o.margins.top||0,distB:o.margins&&o.margins.bottom||0,distL:o.margins&&o.margins.left||0,distR:o.margins&&o.margins.right||0,simplePos:"0",allowOverlap:o.allowOverlap===!0?"1":"0",behindDoc:o.behindDocument===!0?"1":"0",locked:o.lockAnchor===!0?"1":"0",layoutInCell:o.layoutInCell===!0?"1":"0",relativeHeight:o.zIndex?o.zIndex:n.emus.y})),this.root.push(new uQe),this.root.push(new hQe(o.horizontalPosition)),this.root.push(new pQe(o.verticalPosition)),this.root.push(new Cpe(n.emus.x,n.emus.y)),this.root.push(Epe({top:0,right:0,bottom:0,left:0})),i.floating!==void 0&&i.floating.wrap!==void 0)switch(i.floating.wrap.type){case c2.SQUARE:this.root.push(new YQe(i.floating.wrap,i.floating.margins));break;case c2.TIGHT:this.root.push(new JQe(i.floating.margins));break;case c2.TOP_AND_BOTTOM:this.root.push(new eet(i.floating.margins));break;case c2.NONE:default:this.root.push(new JK)}else this.root.push(new JK);this.root.push(new Tpe(i.docProperties)),this.root.push(new _pe),this.root.push(new kpe({mediaData:e,transform:n,outline:i.outline}))}}const aet=({mediaData:r,transform:e,docProperties:n,outline:i})=>{var o,a,s,l;return new Xr({name:"wp:inline",attributes:{distanceTop:{key:"distT",value:0},distanceBottom:{key:"distB",value:0},distanceLeft:{key:"distL",value:0},distanceRight:{key:"distR",value:0}},children:[new Cpe(e.emus.x,e.emus.y),Epe(i?{top:((o=i.width)!=null?o:9525)*2,right:((a=i.width)!=null?a:9525)*2,bottom:((s=i.width)!=null?s:9525)*2,left:((l=i.width)!=null?l:9525)*2}:{top:0,right:0,bottom:0,left:0}),new Tpe(n),new _pe,new kpe({mediaData:r,transform:e,outline:i})]})};class set extends We{constructor(e,n={}){super("w:drawing"),n.floating?this.root.push(new oet({mediaData:e,transform:e.transformation,drawingOptions:n})):this.root.push(aet({mediaData:e,transform:e.transformation,docProperties:n.docProperties,outline:n.outline}))}}const cet=r=>{if(typeof atob=="function"){const e=";base64,",n=r.indexOf(e),i=n===-1?0:n+e.length;return new Uint8Array(atob(r.substring(i)).split("").map(o=>o.charCodeAt(0)))}else{const e=require("buffer");return new e.Buffer(r,"base64")}},uet=r=>typeof r=="string"?cet(r):r,l_=(r,e)=>({data:uet(r.data),fileName:e,transformation:{pixels:{x:Math.round(r.transformation.width),y:Math.round(r.transformation.height)},emus:{x:Math.round(r.transformation.width*9525),y:Math.round(r.transformation.height*9525)},flip:r.transformation.flip,rotation:r.transformation.rotation?r.transformation.rotation*6e4:void 0}});class det extends xp{constructor(e){super({}),qe(this,"key"),qe(this,"fallbackKey",`${M3()}.png`),qe(this,"imageData"),this.key=`${M3()}.${e.type}`,this.imageData=e.type==="svg"?Bd(bn({type:e.type},l_(e,this.key)),{fallback:bn({type:e.fallback.type},l_(Bd(bn({},e.fallback),{transformation:e.transformation}),this.fallbackKey))}):bn({type:e.type},l_(e,this.key));const n=new set(this.imageData,{floating:e.floating,docProperties:e.altText,outline:e.outline});this.root.push(n)}prepForXml(e){return e.file.Media.addImage(this.key,this.imageData),this.imageData.type==="svg"&&e.file.Media.addImage(this.fallbackKey,this.imageData.fallback),super.prepForXml(e)}}class het extends We{constructor(e){super("w:instrText"),this.root.push(new Jf({space:Zf.PRESERVE})),this.root.push(`SEQ ${e}`)}}class fet extends xp{constructor(e){super({}),this.root.push(new wy(!0)),this.root.push(new het(e)),this.root.push(new Sy),this.root.push(new ky)}}class pet extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{instr:"w:instr"})}}class met extends We{constructor(e,n){super("w:fldSimple"),this.root.push(new pet({instr:e})),n!==void 0&&this.root.push(new vs(n))}}class get extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class yet extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class bet extends We{constructor({id:e,initials:n,author:i,date:o=new Date,children:a}){super("w:comment"),this.root.push(new get({id:e,initials:n,author:i,date:o.toISOString()}));for(const s of a)this.root.push(s)}}class vet extends We{constructor({children:e}){super("w:comments"),this.root.push(new yet({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const n of e)this.root.push(new bet(n))}}class xet extends We{constructor(){super("w:pageBreakBefore")}}const iM={AUTO:"auto"};class wet extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule"})}}class ket extends We{constructor(e){super("w:spacing"),this.root.push(new wet(e))}}const km={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3",HEADING_4:"Heading4",HEADING_5:"Heading5",HEADING_6:"Heading6"};let u2=class extends We{constructor(e){super("w:pStyle"),this.root.push(new Ir({val:e}))}};class Tet extends We{constructor(e){super("w:tabs");for(const n of e)this.root.push(new Cet(n))}}const R3={LEFT:"left",RIGHT:"right",CENTER:"center"},QK={MAX:9026};class Eet extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class Cet extends We{constructor({type:e,position:n,leader:i}){super("w:tab"),this.root.push(new Eet({val:e,pos:n,leader:i}))}}class c_ extends We{constructor(e,n){super("w:numPr"),this.root.push(new _et(n)),this.root.push(new Aet(e))}}class _et extends We{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Ir({val:e}))}}class Aet extends We{constructor(e){super("w:numId"),this.root.push(new Ir({val:typeof e=="string"?`{${e}}`:e}))}}class Ape extends We{constructor(){super(...arguments),qe(this,"fileChild",Symbol())}}class Det extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const Met={EXTERNAL:"External"};class Ret extends We{constructor(e,n,i,o){super("Relationship"),this.root.push(new Det({id:e,type:n,target:i,targetMode:o}))}}class Net extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class m6 extends We{constructor(e,n,i){super("w:hyperlink"),qe(this,"linkId"),this.linkId=n;const o={history:1,anchor:i||void 0,id:i?void 0:`rId${this.linkId}`},a=new Net(o);this.root.push(a),e.forEach(s=>{this.root.push(s)})}}class Oet extends m6{constructor(e){super(e.children,M3(),e.anchor)}}class Dpe extends We{constructor(e){super("w:externalHyperlink"),this.options=e}}class Pet extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class Iet extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{id:"w:id"})}}class Mpe{constructor(e){qe(this,"bookmarkUniqueNumericId",oQe()),qe(this,"start"),qe(this,"children"),qe(this,"end");const n=this.bookmarkUniqueNumericId();this.start=new $et(e.id,n),this.children=e.children,this.end=new zet(n)}}class $et extends We{constructor(e,n){super("w:bookmarkStart");const i=new Pet({name:e,id:n});this.root.push(i)}}class zet extends We{constructor(e){super("w:bookmarkEnd");const n=new Iet({id:e});this.root.push(n)}}class Let extends We{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new Ir({val:e}))}}class Uet extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{verticalAlign:"w:val"})}}class Rpe extends We{constructor(e){super("w:vAlign"),this.root.push(new Uet({verticalAlign:e}))}}const u0={DEFAULT:"default",FIRST:"first",EVEN:"even"};class Bet extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const eX={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class u_ extends We{constructor(e,n){super(e),this.root.push(new Bet({type:n.type||u0.DEFAULT,id:`rId${n.id}`}))}}class jet extends We{constructor({space:e,count:n,separate:i,equalWidth:o,children:a}){super("w:cols"),this.root.push(new lu({space:{key:"w:space",value:e===void 0?void 0:Ei(e)},count:{key:"w:num",value:n===void 0?void 0:ji(n)},separate:{key:"w:sep",value:i},equalWidth:{key:"w:equalWidth",value:o}})),!o&&a&&a.forEach(s=>this.addChildElement(s))}}class Fet extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{type:"w:type",linePitch:"w:linePitch",charSpace:"w:charSpace"})}}class Het extends We{constructor(e,n,i){super("w:docGrid"),this.root.push(new Fet({type:i,linePitch:ji(e),charSpace:n?ji(n):void 0}))}}const Wet=({countBy:r,start:e,restart:n,distance:i})=>new Xr({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:r===void 0?void 0:ji(r)},start:{key:"w:start",value:e===void 0?void 0:ji(e)},restart:{key:"w:restart",value:n},distance:{key:"w:distance",value:i===void 0?void 0:Ei(i)}}});class tX extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class Vet extends su{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new tX({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new tX({})),e.pageBorderTop&&this.root.push(new Xn("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new Xn("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new Xn("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new Xn("w:right",e.pageBorderRight))}}class qet extends We{constructor(e,n,i,o,a,s,l){super("w:pgMar"),this.root.push(new lu({top:{key:"w:top",value:_c(e)},right:{key:"w:right",value:Ei(n)},bottom:{key:"w:bottom",value:_c(i)},left:{key:"w:left",value:Ei(o)},header:{key:"w:header",value:Ei(a)},footer:{key:"w:footer",value:Ei(s)},gutter:{key:"w:gutter",value:Ei(l)}}))}}class Get extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class Ket extends We{constructor({start:e,formatType:n,separator:i}){super("w:pgNumType"),this.root.push(new Get({start:e===void 0?void 0:ji(e),formatType:n,separator:i}))}}const Npe={PORTRAIT:"portrait",LANDSCAPE:"landscape"};class Xet extends We{constructor(e,n,i){super("w:pgSz");const o=i===Npe.LANDSCAPE,a=Ei(e),s=Ei(n);this.root.push(new lu({width:{key:"w:w",value:o?s:a},height:{key:"w:h",value:o?a:s},orientation:{key:"w:orient",value:i}}))}}class Yet extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{val:"w:val"})}}class Zet extends We{constructor(e){super("w:textDirection"),this.root.push(new Yet({val:e}))}}const Jet={CONTINUOUS:"continuous"};class Qet extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{val:"w:val"})}}class ett extends We{constructor(e){super("w:type"),this.root.push(new Qet({val:e}))}}const Fh={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},d_={WIDTH:11906,HEIGHT:16838,ORIENTATION:Npe.PORTRAIT};class ttt extends We{constructor({page:{size:{width:e=d_.WIDTH,height:n=d_.HEIGHT,orientation:i=d_.ORIENTATION}={},margin:{top:o=Fh.TOP,right:a=Fh.RIGHT,bottom:s=Fh.BOTTOM,left:l=Fh.LEFT,header:c=Fh.HEADER,footer:u=Fh.FOOTER,gutter:d=Fh.GUTTER}={},pageNumbers:h={},borders:f,textDirection:m}={},grid:{linePitch:b=360,charSpace:g,type:v}={},headerWrapperGroup:x={},footerWrapperGroup:w={},lineNumbers:k,titlePage:T,verticalAlign:_,column:D,type:I}={}){super("w:sectPr"),this.addHeaderFooterGroup(eX.HEADER,x),this.addHeaderFooterGroup(eX.FOOTER,w),I&&this.root.push(new ett(I)),this.root.push(new Xet(e,n,i)),this.root.push(new qet(o,a,s,l,c,u,d)),f&&this.root.push(new Vet(f)),k&&this.root.push(Wet(k)),this.root.push(new Ket(h)),D&&this.root.push(new jet(D)),_&&this.root.push(new Rpe(_)),T!==void 0&&this.root.push(new it("w:titlePg",T)),m&&this.root.push(new Zet(m)),this.root.push(new Het(b,g,v))}addHeaderFooterGroup(e,n){n.default&&this.root.push(new u_(e,{type:u0.DEFAULT,id:n.default.View.ReferenceId})),n.first&&this.root.push(new u_(e,{type:u0.FIRST,id:n.first.View.ReferenceId})),n.even&&this.root.push(new u_(e,{type:u0.EVEN,id:n.even.View.ReferenceId}))}}class ntt extends We{constructor(){super("w:body"),qe(this,"sections",[])}addSection(e){const n=this.sections.pop();this.root.push(this.createSectionParagraph(n)),this.sections.push(new ttt(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const n=new kd({}),i=new F0({});return i.push(e),n.addChildElement(i),n}}class $v extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",aink:"xmlns:aink",am3d:"xmlns:am3d",w16cex:"xmlns:w16cex",w16cid:"xmlns:w16cid",w16:"xmlns:w16",w16sdtdh:"xmlns:w16sdtdh",w16se:"xmlns:w16se"})}}class rtt extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class itt extends We{constructor(e){super("w:background"),this.root.push(new rtt({color:e.color===void 0?void 0:j0(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:XK(e.themeShade),themeTint:e.themeTint===void 0?void 0:XK(e.themeTint)}))}}class ott extends We{constructor(e){super("w:document"),qe(this,"body"),this.root.push(new $v({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex",Ignorable:"w14 w15 wp14"})),this.body=new ntt,e.background&&this.root.push(new itt(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class att extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{xmlns:"xmlns"})}}class bg extends We{constructor(){super("Relationships"),this.root.push(new att({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,n,i,o){const a=new Ret(`rId${e}`,n,i,o);return this.root.push(a),a}get RelationshipCount(){return this.root.length-1}}class Ope{constructor(e){qe(this,"document"),qe(this,"relationships"),this.document=new ott(e),this.relationships=new bg}get View(){return this.document}get Relationships(){return this.relationships}}class stt extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{val:"w:val"})}}class ltt extends We{constructor(){super("w:wordWrap"),this.root.push(new stt({val:0}))}}const ctt=r=>{var e,n;return new Xr({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:r.anchorLock},dropCap:{key:"w:dropCap",value:r.dropCap},width:{key:"w:w",value:r.width},height:{key:"w:h",value:r.height},x:{key:"w:x",value:r.position?r.position.x:void 0},y:{key:"w:y",value:r.position?r.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:r.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:r.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=r.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(n=r.space)==null?void 0:n.vertical},rule:{key:"w:hRule",value:r.rule},alignmentX:{key:"w:xAlign",value:r.alignment?r.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:r.alignment?r.alignment.y:void 0},lines:{key:"w:lines",value:r.lines},wrap:{key:"w:wrap",value:r.wrap}}})};class F0 extends su{constructor(e){var n,i;if(super("w:pPr"),qe(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new u2(e.heading)),e.bullet&&this.push(new u2("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new u2("ListParagraph"))),e.style&&this.push(new u2(e.style)),e.keepNext!==void 0&&this.push(new it("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new it("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new xet),e.frame&&this.push(ctt(e.frame)),e.widowControl!==void 0&&this.push(new it("w:widowControl",e.widowControl)),e.bullet&&this.push(new c_(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(n=e.numbering.instance)!=null?n:0}),this.push(new c_(`${e.numbering.reference}-${(i=e.numbering.instance)!=null?i:0}`,e.numbering.level))):e.numbering===!1&&this.push(new c_(0,0)),e.border&&this.push(new MJe(e.border)),e.thematicBreak&&this.push(new RJe),e.shading&&this.push(new f6(e.shading)),e.wordWrap&&this.push(new ltt),e.overflowPunctuation&&this.push(new it("w:overflowPunct",e.overflowPunctuation));const o=[...e.rightTabStop!==void 0?[{type:R3.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:R3.LEFT,position:e.leftTabStop}]:[]];o.length>0&&this.push(new Tet(o)),e.bidirectional!==void 0&&this.push(new it("w:bidi",e.bidirectional)),e.spacing&&this.push(new ket(e.spacing)),e.indent&&this.push(new NJe(e.indent)),e.contextualSpacing!==void 0&&this.push(new it("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new gpe(e.alignment)),e.outlineLevel!==void 0&&this.push(new Let(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new it("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new it("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new vp(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof Ope)for(const n of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(n.reference,n.instance);return super.prepForXml(e)}}class kd extends Ape{constructor(e){if(super("w:p"),qe(this,"properties"),typeof e=="string")return this.properties=new F0({}),this.root.push(this.properties),this.root.push(new vs(e)),this;if(this.properties=new F0(e),this.root.push(this.properties),e.text&&this.root.push(new vs(e.text)),e.children)for(const n of e.children){if(n instanceof Mpe){this.root.push(n.start);for(const i of n.children)this.root.push(i);this.root.push(n.end);continue}this.root.push(n)}}prepForXml(e){for(const n of this.root)if(n instanceof Dpe){const i=this.root.indexOf(n),o=new m6(n.options.children,M3());e.viewWrapper.Relationships.createRelationship(o.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",n.options.link,Met.EXTERNAL),this.root[i]=o}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}let nX=class extends We{constructor(e){super("m:oMath");for(const n of e.children)this.root.push(n)}};class utt extends We{constructor(e){super("m:t"),this.root.push(e)}}class rX extends We{constructor(e){super("m:r"),this.root.push(new utt(e))}}class dtt extends We{constructor(e){super("w:tblGrid");for(const n of e)this.root.push(new htt(n))}}class htt extends We{constructor(e){super("w:gridCol"),e!==void 0&&this.root.push(new lu({width:{key:"w:w",value:Ei(e)}}))}}const Ppe={TABLE:"w:tblCellMar",TABLE_CELL:"w:tcMar"};class Ipe extends su{constructor(e,{marginUnitType:n=N3.DXA,top:i,left:o,bottom:a,right:s}){super(e),i!==void 0&&this.root.push(new cf("w:top",{type:n,size:i})),o!==void 0&&this.root.push(new cf("w:left",{type:n,size:o})),a!==void 0&&this.root.push(new cf("w:bottom",{type:n,size:a})),s!==void 0&&this.root.push(new cf("w:right",{type:n,size:s}))}}const N3={AUTO:"auto",DXA:"dxa",PERCENTAGE:"pct"};class cf extends We{constructor(e,{type:n=N3.AUTO,size:i}){super(e);let o=i;n===N3.PERCENTAGE&&typeof i=="number"&&(o=`${i}%`),this.root.push(new lu({type:{key:"w:type",value:n},size:{key:"w:w",value:kJe(o)}}))}}class ftt extends su{constructor(e){super("w:tcBorders"),e.top&&this.root.push(new Xn("w:top",e.top)),e.start&&this.root.push(new Xn("w:start",e.start)),e.left&&this.root.push(new Xn("w:left",e.left)),e.bottom&&this.root.push(new Xn("w:bottom",e.bottom)),e.end&&this.root.push(new Xn("w:end",e.end)),e.right&&this.root.push(new Xn("w:right",e.right))}}class ptt extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{val:"w:val"})}}class mtt extends We{constructor(e){super("w:gridSpan"),this.root.push(new ptt({val:ji(e)}))}}const $pe={CONTINUE:"continue",RESTART:"restart"};class gtt extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{val:"w:val"})}}class iX extends We{constructor(e){super("w:vMerge"),this.root.push(new gtt({val:e}))}}class ytt extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{val:"w:val"})}}class btt extends We{constructor(e){super("w:textDirection"),this.root.push(new ytt({val:e}))}}class vtt extends su{constructor(e){super("w:tcPr"),e.width&&this.root.push(new cf("w:tcW",e.width)),e.columnSpan&&this.root.push(new mtt(e.columnSpan)),e.verticalMerge?this.root.push(new iX(e.verticalMerge)):e.rowSpan&&e.rowSpan>1&&this.root.push(new iX($pe.RESTART)),e.borders&&this.root.push(new ftt(e.borders)),e.shading&&this.root.push(new f6(e.shading)),e.margins&&this.root.push(new Ipe(Ppe.TABLE_CELL,e.margins)),e.textDirection&&this.root.push(new btt(e.textDirection)),e.verticalAlign&&this.root.push(new Rpe(e.verticalAlign))}}let DP=class extends We{constructor(e){super("w:tc"),this.options=e,this.root.push(new vtt(e));for(const n of e.children)this.root.push(n)}prepForXml(e){return this.root[this.root.length-1]instanceof kd||this.root.push(new kd({})),super.prepForXml(e)}};const Tm={style:CP.NONE,size:0,color:"auto"},Em={style:CP.SINGLE,size:4,color:"auto"};class zpe extends We{constructor(e){super("w:tblBorders"),e.top?this.root.push(new Xn("w:top",e.top)):this.root.push(new Xn("w:top",Em)),e.left?this.root.push(new Xn("w:left",e.left)):this.root.push(new Xn("w:left",Em)),e.bottom?this.root.push(new Xn("w:bottom",e.bottom)):this.root.push(new Xn("w:bottom",Em)),e.right?this.root.push(new Xn("w:right",e.right)):this.root.push(new Xn("w:right",Em)),e.insideHorizontal?this.root.push(new Xn("w:insideH",e.insideHorizontal)):this.root.push(new Xn("w:insideH",Em)),e.insideVertical?this.root.push(new Xn("w:insideV",e.insideVertical)):this.root.push(new Xn("w:insideV",Em))}}qe(zpe,"NONE",{top:Tm,bottom:Tm,left:Tm,right:Tm,insideHorizontal:Tm,insideVertical:Tm});class xtt extends We{constructor({horizontalAnchor:e,verticalAnchor:n,absoluteHorizontalPosition:i,relativeHorizontalPosition:o,absoluteVerticalPosition:a,relativeVerticalPosition:s,bottomFromText:l,topFromText:c,leftFromText:u,rightFromText:d,overlap:h}){super("w:tblpPr"),this.root.push(new lu({leftFromText:{key:"w:leftFromText",value:u===void 0?void 0:Ei(u)},rightFromText:{key:"w:rightFromText",value:d===void 0?void 0:Ei(d)},topFromText:{key:"w:topFromText",value:c===void 0?void 0:Ei(c)},bottomFromText:{key:"w:bottomFromText",value:l===void 0?void 0:Ei(l)},absoluteHorizontalPosition:{key:"w:tblpX",value:i===void 0?void 0:_c(i)},absoluteVerticalPosition:{key:"w:tblpY",value:a===void 0?void 0:_c(a)},horizontalAnchor:{key:"w:horzAnchor",value:e===void 0?void 0:e},relativeHorizontalPosition:{key:"w:tblpXSpec",value:o},relativeVerticalPosition:{key:"w:tblpYSpec",value:s},verticalAnchor:{key:"w:vertAnchor",value:n}})),h&&this.root.push(new _Je("w:tblOverlap",h))}}class wtt extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{type:"w:type"})}}class Stt extends We{constructor(e){super("w:tblLayout"),this.root.push(new wtt({type:e}))}}class ktt extends su{constructor(e){super("w:tblPr"),e.style&&this.root.push(new Df("w:tblStyle",e.style)),e.float&&this.root.push(new xtt(e.float)),e.visuallyRightToLeft!==void 0&&this.root.push(new it("w:bidiVisual",e.visuallyRightToLeft)),e.width&&this.root.push(new cf("w:tblW",e.width)),e.alignment&&this.root.push(new gpe(e.alignment)),e.indent&&this.root.push(new cf("w:tblInd",e.indent)),e.borders&&this.root.push(new zpe(e.borders)),e.shading&&this.root.push(new f6(e.shading)),e.layout&&this.root.push(new Stt(e.layout)),e.cellMargin&&this.root.push(new Ipe(Ppe.TABLE,e.cellMargin))}}let Ttt=class extends Ape{constructor({rows:e,width:n,columnWidths:i=Array(Math.max(...e.map(f=>f.CellCount))).fill(100),margins:o,indent:a,float:s,layout:l,style:c,borders:u,alignment:d,visuallyRightToLeft:h}){super("w:tbl"),this.root.push(new ktt({borders:u??{},width:n??{size:100},indent:a,float:s,layout:l,style:c,alignment:d,cellMargin:o,visuallyRightToLeft:h})),this.root.push(new dtt(i));for(const f of e)this.root.push(f);e.forEach((f,m)=>{if(m===e.length-1)return;let b=0;f.cells.forEach(g=>{if(g.options.rowSpan&&g.options.rowSpan>1){const v=new DP({rowSpan:g.options.rowSpan-1,columnSpan:g.options.columnSpan,borders:g.options.borders,children:[],verticalMerge:$pe.CONTINUE});e[m+1].addCellToColumnIndex(v,b)}b+=g.options.columnSpan||1})})}};class Ett extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{value:"w:val",rule:"w:hRule"})}}class Ctt extends We{constructor(e,n){super("w:trHeight"),this.root.push(new Ett({value:Ei(e),rule:n}))}}class _tt extends su{constructor(e){super("w:trPr"),e.cantSplit!==void 0&&this.root.push(new it("w:cantSplit",e.cantSplit)),e.tableHeader!==void 0&&this.root.push(new it("w:tblHeader",e.tableHeader)),e.height&&this.root.push(new Ctt(e.height.value,e.height.rule))}}let Att=class extends We{constructor(e){super("w:tr"),this.options=e,this.root.push(new _tt(e));for(const n of e.children)this.root.push(n)}get CellCount(){return this.options.children.length}get cells(){return this.root.filter(e=>e instanceof DP)}addCellToIndex(e,n){this.root.splice(n+1,0,e)}addCellToColumnIndex(e,n){const i=this.columnIndexToRootIndex(n,!0);this.addCellToIndex(e,i-1)}rootIndexToColumnIndex(e){if(e<1||e>=this.root.length)throw new Error(`cell 'rootIndex' should between 1 to ${this.root.length-1}`);let n=0;for(let i=1;i<e;i++){const o=this.root[i];n+=o.options.columnSpan||1}return n}columnIndexToRootIndex(e,n=!1){if(e<0)throw new Error("cell 'columnIndex' should not less than zero");let i=0,o=1;for(;i<=e;){if(o>=this.root.length){if(n)return this.root.length;throw new Error(`cell 'columnIndex' should not great than ${i-1}`)}const a=this.root[o];o+=1,i+=a&&a.options.columnSpan||1}return o-1}};class Dtt extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class Mtt extends We{constructor(){super("Properties"),this.root.push(new Dtt({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class Rtt extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{xmlns:"xmlns"})}}class Ntt extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class lc extends We{constructor(e,n){super("Default"),this.root.push(new Ntt({contentType:e,extension:n}))}}class Ott extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class Pa extends We{constructor(e,n){super("Override"),this.root.push(new Ott({contentType:e,partName:n}))}}class Ptt extends We{constructor(){super("Types"),this.root.push(new Rtt({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new lc("image/png","png")),this.root.push(new lc("image/jpeg","jpeg")),this.root.push(new lc("image/jpeg","jpg")),this.root.push(new lc("image/bmp","bmp")),this.root.push(new lc("image/gif","gif")),this.root.push(new lc("image/svg+xml","svg")),this.root.push(new lc("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new lc("application/xml","xml")),this.root.push(new lc("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new Pa("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new Pa("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new Pa("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new Pa("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new Pa("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new Pa("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new Pa("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new Pa("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new Pa("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new Pa("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new Pa("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new Pa("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class Itt extends We{constructor(e){super("cp:coreProperties"),this.root.push(new $v({cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"})),e.title&&this.root.push(new jh("dc:title",e.title)),e.subject&&this.root.push(new jh("dc:subject",e.subject)),e.creator&&this.root.push(new jh("dc:creator",e.creator)),e.keywords&&this.root.push(new jh("cp:keywords",e.keywords)),e.description&&this.root.push(new jh("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new jh("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new jh("cp:revision",String(e.revision))),this.root.push(new oX("dcterms:created")),this.root.push(new oX("dcterms:modified"))}}class oX extends We{constructor(e){super(e),this.root.push(new $v({type:"dcterms:W3CDTF"})),this.root.push(CJe(new Date))}}class $tt extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class ztt extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class Ltt extends We{constructor(e,n){super("property"),this.root.push(new ztt({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:n.name})),this.root.push(new Utt(n.value))}}class Utt extends We{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class Btt extends We{constructor(e){super("Properties"),qe(this,"nextId"),qe(this,"properties",[]),this.root.push(new $tt({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const n of e)this.addCustomProperty(n)}prepForXml(e){return this.properties.forEach(n=>this.root.push(n)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new Ltt(this.nextId++,e))}}class jtt extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let Ftt=class extends fpe{constructor(e,n){super("w:ftr",n),qe(this,"refId"),this.refId=e,n||this.root.push(new jtt({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class Htt{constructor(e,n,i){qe(this,"footer"),qe(this,"relationships"),this.media=e,this.footer=new Ftt(n,i),this.relationships=new bg}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class Wtt extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class Vtt extends We{constructor(){super("w:footnoteRef")}}class qtt extends xp{constructor(){super({style:"FootnoteReference"}),this.root.push(new Vtt)}}const aX={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class h_ extends We{constructor(e){super("w:footnote"),this.root.push(new Wtt({type:e.type,id:e.id}));for(let n=0;n<e.children.length;n++){const i=e.children[n];n===0&&i.addRunToFront(new qtt),this.root.push(i)}}}class Gtt extends We{constructor(){super("w:continuationSeparator")}}class Ktt extends xp{constructor(){super({}),this.root.push(new Gtt)}}class Xtt extends We{constructor(){super("w:separator")}}class Ytt extends xp{constructor(){super({}),this.root.push(new Xtt)}}class Ztt extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class Jtt extends We{constructor(){super("w:footnotes"),this.root.push(new Ztt({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new h_({id:-1,type:aX.SEPERATOR,children:[new kd({spacing:{after:0,line:240,lineRule:iM.AUTO},children:[new Ytt]})]});this.root.push(e);const n=new h_({id:0,type:aX.CONTINUATION_SEPERATOR,children:[new kd({spacing:{after:0,line:240,lineRule:iM.AUTO},children:[new Ktt]})]});this.root.push(n)}createFootNote(e,n){const i=new h_({id:e,children:n});this.root.push(i)}}class Qtt{constructor(){qe(this,"footnotess"),qe(this,"relationships"),this.footnotess=new Jtt,this.relationships=new bg}get View(){return this.footnotess}get Relationships(){return this.relationships}}class ent extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let tnt=class extends fpe{constructor(e,n){super("w:hdr",n),qe(this,"refId"),this.refId=e,n||this.root.push(new ent({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class nnt{constructor(e,n,i){qe(this,"header"),qe(this,"relationships"),this.media=e,this.header=new tnt(n,i),this.relationships=new bg}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class rnt{constructor(){qe(this,"map"),this.map=new Map}addImage(e,n){this.map.set(e,n)}get Array(){return Array.from(this.map.values())}}const na={DECIMAL:"decimal",LOWER_ROMAN:"lowerRoman",LOWER_LETTER:"lowerLetter",BULLET:"bullet"};class int extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class ont extends We{constructor(e){super("w:numFmt"),this.root.push(new Ir({val:e}))}}class ant extends We{constructor(e){super("w:lvlText"),this.root.push(new Ir({val:e}))}}class snt extends We{constructor(e){super("w:lvlJc"),this.root.push(new Ir({val:e}))}}class lnt extends We{constructor(e){super("w:suff"),this.root.push(new Ir({val:e}))}}class cnt extends We{constructor(){super("w:isLgl")}}class unt extends We{constructor({level:e,format:n,text:i,alignment:o=Eo.START,start:a=1,style:s,suffix:l,isLegalNumberingStyle:c}){if(super("w:lvl"),qe(this,"paragraphProperties"),qe(this,"runProperties"),this.root.push(new EP("w:start",ji(a))),n&&this.root.push(new ont(n)),l&&this.root.push(new lnt(l)),c&&this.root.push(new cnt),i&&this.root.push(new ant(i)),this.root.push(new snt(o)),this.paragraphProperties=new F0(s&&s.paragraph),this.runProperties=new vp(s&&s.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new int({ilvl:ji(e),tentative:1}))}}class dnt extends unt{}class hnt extends We{constructor(e){super("w:multiLevelType"),this.root.push(new Ir({val:e}))}}class fnt extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class sX extends We{constructor(e,n){super("w:abstractNum"),qe(this,"id"),this.root.push(new fnt({abstractNumId:ji(e),restartNumberingAfterBreak:0})),this.root.push(new hnt("hybridMultilevel")),this.id=e;for(const i of n)this.root.push(new dnt(i))}}class pnt extends We{constructor(e){super("w:abstractNumId"),this.root.push(new Ir({val:e}))}}class mnt extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{numId:"w:numId"})}}class lX extends We{constructor(e){if(super("w:num"),qe(this,"numId"),qe(this,"reference"),qe(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new mnt({numId:ji(e.numId)})),this.root.push(new pnt(ji(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const n of e.overrideLevels)this.root.push(new ynt(n.num,n.start))}}class gnt extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{ilvl:"w:ilvl"})}}class ynt extends We{constructor(e,n){super("w:lvlOverride"),this.root.push(new gnt({ilvl:e})),n!==void 0&&this.root.push(new vnt(n))}}class bnt extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{val:"w:val"})}}class vnt extends We{constructor(e){super("w:startOverride"),this.root.push(new bnt({val:e}))}}class xnt extends We{constructor(e){super("w:numbering"),qe(this,"abstractNumberingMap",new Map),qe(this,"concreteNumberingMap",new Map),qe(this,"referenceConfigMap",new Map),qe(this,"abstractNumUniqueNumericId",nQe()),qe(this,"concreteNumUniqueNumericId",rQe()),this.root.push(new $v({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const n=new sX(this.abstractNumUniqueNumericId(),[{level:0,format:na.BULLET,text:"",alignment:Eo.LEFT,style:{paragraph:{indent:{left:ea(.5),hanging:ea(.25)}}}},{level:1,format:na.BULLET,text:"",alignment:Eo.LEFT,style:{paragraph:{indent:{left:ea(1),hanging:ea(.25)}}}},{level:2,format:na.BULLET,text:"",alignment:Eo.LEFT,style:{paragraph:{indent:{left:2160,hanging:ea(.25)}}}},{level:3,format:na.BULLET,text:"",alignment:Eo.LEFT,style:{paragraph:{indent:{left:2880,hanging:ea(.25)}}}},{level:4,format:na.BULLET,text:"",alignment:Eo.LEFT,style:{paragraph:{indent:{left:3600,hanging:ea(.25)}}}},{level:5,format:na.BULLET,text:"",alignment:Eo.LEFT,style:{paragraph:{indent:{left:4320,hanging:ea(.25)}}}},{level:6,format:na.BULLET,text:"",alignment:Eo.LEFT,style:{paragraph:{indent:{left:5040,hanging:ea(.25)}}}},{level:7,format:na.BULLET,text:"",alignment:Eo.LEFT,style:{paragraph:{indent:{left:5760,hanging:ea(.25)}}}},{level:8,format:na.BULLET,text:"",alignment:Eo.LEFT,style:{paragraph:{indent:{left:6480,hanging:ea(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new lX({numId:1,abstractNumId:n.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",n);for(const i of e.config)this.abstractNumberingMap.set(i.reference,new sX(this.abstractNumUniqueNumericId(),i.levels)),this.referenceConfigMap.set(i.reference,i.levels)}prepForXml(e){for(const n of this.abstractNumberingMap.values())this.root.push(n);for(const n of this.concreteNumberingMap.values())this.root.push(n);return super.prepForXml(e)}createConcreteNumberingInstance(e,n){const i=this.abstractNumberingMap.get(e);if(!i)return;const o=`${e}-${n}`;if(this.concreteNumberingMap.has(o))return;const a=this.referenceConfigMap.get(e),s=a&&a[0].start,l={numId:this.concreteNumUniqueNumericId(),abstractNumId:i.id,reference:e,instance:n,overrideLevels:[s&&Number.isInteger(s)?{num:0,start:s}:{num:0,start:1}]};this.concreteNumberingMap.set(o,new lX(l))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class wnt extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class Snt extends We{constructor(e){super("w:compatSetting"),this.root.push(new wnt({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class knt extends We{constructor(e){super("w:compat"),e.version&&this.root.push(new Snt(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new it("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new it("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new it("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new it("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new it("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new it("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new it("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new it("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new it("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new it("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new it("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new it("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new it("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new it("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new it("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new it("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new it("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new it("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new it("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new it("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new it("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new it("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new it("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new it("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new it("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new it("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new it("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new it("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new it("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new it("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new it("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new it("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new it("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new it("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new it("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new it("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new it("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new it("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new it("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new it("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new it("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new it("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new it("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new it("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new it("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new it("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new it("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new it("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new it("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new it("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new it("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new it("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new it("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new it("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new it("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new it("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new it("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new it("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new it("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new it("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new it("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new it("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new it("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new it("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new it("w:cachedColBalance",e.cachedColumnBalance))}}class Tnt extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class Ent extends We{constructor(e){var n,i,o,a;super("w:settings"),this.root.push(new Tnt({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new it("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new it("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new it("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new it("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new EP("w:defaultTabStop",e.defaultTabStop)),this.root.push(new knt(Bd(bn({},(n=e.compatibility)!=null?n:{}),{version:(a=(o=(i=e.compatibility)==null?void 0:i.version)!=null?o:e.compatibilityModeVersion)!=null?a:15})))}}class Lpe extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{val:"w:val"})}}class Cnt extends We{constructor(e){super("w:name"),this.root.push(new Lpe({val:e}))}}class _nt extends We{constructor(e){super("w:uiPriority"),this.root.push(new Lpe({val:ji(e)}))}}class Ant extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class Upe extends We{constructor(e,n){super("w:style"),this.root.push(new Ant(e)),n.name&&this.root.push(new Cnt(n.name)),n.basedOn&&this.root.push(new Df("w:basedOn",n.basedOn)),n.next&&this.root.push(new Df("w:next",n.next)),n.link&&this.root.push(new Df("w:link",n.link)),n.uiPriority!==void 0&&this.root.push(new _nt(n.uiPriority)),n.semiHidden!==void 0&&this.root.push(new it("w:semiHidden",n.semiHidden)),n.unhideWhenUsed!==void 0&&this.root.push(new it("w:unhideWhenUsed",n.unhideWhenUsed)),n.quickFormat!==void 0&&this.root.push(new it("w:qFormat",n.quickFormat))}}class g6 extends Upe{constructor(e){super({type:"paragraph",styleId:e.id},e),qe(this,"paragraphProperties"),qe(this,"runProperties"),this.paragraphProperties=new F0(e.paragraph),this.runProperties=new vp(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class y6 extends Upe{constructor(e){super({type:"character",styleId:e.id},bn({uiPriority:99,unhideWhenUsed:!0},e)),qe(this,"runProperties"),this.runProperties=new vp(e.run),this.root.push(this.runProperties)}}class sh extends g6{constructor(e){super(bn({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class Dnt extends sh{constructor(e){super(bn({id:"Title",name:"Title"},e))}}class Mnt extends sh{constructor(e){super(bn({id:"Heading1",name:"Heading 1"},e))}}class Rnt extends sh{constructor(e){super(bn({id:"Heading2",name:"Heading 2"},e))}}class Nnt extends sh{constructor(e){super(bn({id:"Heading3",name:"Heading 3"},e))}}class Ont extends sh{constructor(e){super(bn({id:"Heading4",name:"Heading 4"},e))}}class Pnt extends sh{constructor(e){super(bn({id:"Heading5",name:"Heading 5"},e))}}class Int extends sh{constructor(e){super(bn({id:"Heading6",name:"Heading 6"},e))}}class $nt extends sh{constructor(e){super(bn({id:"Strong",name:"Strong"},e))}}class znt extends g6{constructor(e){super(bn({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class Lnt extends g6{constructor(e){super(bn({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:iM.AUTO}},run:{size:20}},e))}}class Unt extends y6{constructor(e){super(bn({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class Bnt extends y6{constructor(e){super(bn({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class jnt extends y6{constructor(e){super(bn({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:bpe.SINGLE}}},e))}}class oM extends We{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const n of e.importedStyles)this.root.push(n);if(e.paragraphStyles)for(const n of e.paragraphStyles)this.root.push(new g6(n));if(e.characterStyles)for(const n of e.characterStyles)this.root.push(new y6(n))}}class Fnt extends We{constructor(e){super("w:pPrDefault"),this.root.push(new F0(e))}}class Hnt extends We{constructor(e){super("w:rPrDefault"),this.root.push(new vp(e))}}class Wnt extends We{constructor(e){super("w:docDefaults"),qe(this,"runPropertiesDefaults"),qe(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new Hnt(e.run),this.paragraphPropertiesDefaults=new Fnt(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class Vnt{newInstance(e){const n=hpe.xml2js(e,{compact:!1});let i;for(const s of n.elements||[])s.name==="w:styles"&&(i=s);if(i===void 0)throw new Error("can not find styles element");const o=i.elements||[];return new oM({initialStyles:new xJe(i.attributes),importedStyles:o.map(s=>kP(s))})}}class cX{newInstance(e={}){var n;return{initialStyles:new $v({mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",Ignorable:"w14 w15"}),importedStyles:[new Wnt((n=e.document)!=null?n:{}),new Dnt(bn({run:{size:56}},e.title)),new Mnt(bn({run:{color:"2E74B5",size:32}},e.heading1)),new Rnt(bn({run:{color:"2E74B5",size:26}},e.heading2)),new Nnt(bn({run:{color:"1F4D78",size:24}},e.heading3)),new Ont(bn({run:{color:"2E74B5",italics:!0}},e.heading4)),new Pnt(bn({run:{color:"2E74B5"}},e.heading5)),new Int(bn({run:{color:"1F4D78"}},e.heading6)),new $nt(bn({run:{bold:!0}},e.strong)),new znt(e.listParagraph||{}),new jnt(e.hyperlink||{}),new Unt(e.footnoteReference||{}),new Lnt(e.footnoteText||{}),new Bnt(e.footnoteTextChar||{})]}}}const d2=({id:r,fontKey:e,subsetted:n},i)=>new Xr({name:i,attributes:bn({id:{key:"r:id",value:r}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...n?[new it("w:subsetted",n)]:[]]}),qnt=({name:r,altName:e,panose1:n,charset:i,family:o,notTrueType:a,pitch:s,sig:l,embedRegular:c,embedBold:u,embedItalic:d,embedBoldItalic:h})=>new Xr({name:"w:font",attributes:{name:{key:"w:name",value:r}},children:[...e?[j1("w:altName",e)]:[],...n?[j1("w:panose1",n)]:[],...i?[j1("w:charset",i)]:[],j1("w:family",o),...a?[new it("w:notTrueType",a)]:[],j1("w:pitch",s),...l?[new Xr({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:l.usb0},usb1:{key:"w:usb1",value:l.usb1},usb2:{key:"w:usb2",value:l.usb2},usb3:{key:"w:usb3",value:l.usb3},csb0:{key:"w:csb0",value:l.csb0},csb1:{key:"w:csb1",value:l.csb1}}})]:[],...c?[d2(c,"w:embedRegular")]:[],...u?[d2(u,"w:embedBold")]:[],...d?[d2(d,"w:embedItalic")]:[],...h?[d2(h,"w:embedBoldItalic")]:[]]}),Gnt=({name:r,index:e,fontKey:n,characterSet:i})=>qnt({name:r,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:i,family:"auto",pitch:"variable",embedRegular:{fontKey:n,id:`rId${e}`}}),Knt=r=>new Xr({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:r.map((e,n)=>Gnt({name:e.name,index:n+1,fontKey:e.fontKey}))});class Xnt{constructor(e){qe(this,"fontTable"),qe(this,"relationships"),qe(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(n=>Bd(bn({},n),{fontKey:aQe()})),this.fontTable=Knt(this.fontOptionsWithKey),this.relationships=new bg;for(let n=0;n<e.length;n++)this.relationships.createRelationship(n+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[n].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}let Ynt=class{constructor(e){qe(this,"currentRelationshipId",1),qe(this,"documentWrapper"),qe(this,"headers",[]),qe(this,"footers",[]),qe(this,"coreProperties"),qe(this,"numbering"),qe(this,"media"),qe(this,"fileRelationships"),qe(this,"footnotesWrapper"),qe(this,"settings"),qe(this,"contentTypes"),qe(this,"customProperties"),qe(this,"appProperties"),qe(this,"styles"),qe(this,"comments"),qe(this,"fontWrapper");var n,i,o,a,s,l,c,u;if(this.coreProperties=new Itt(Bd(bn({},e),{creator:(n=e.creator)!=null?n:"Un-named",revision:(i=e.revision)!=null?i:1,lastModifiedBy:(o=e.lastModifiedBy)!=null?o:"Un-named"})),this.numbering=new xnt(e.numbering?e.numbering:{config:[]}),this.comments=new vet((a=e.comments)!=null?a:{children:[]}),this.fileRelationships=new bg,this.customProperties=new Btt((s=e.customProperties)!=null?s:[]),this.appProperties=new Mtt,this.footnotesWrapper=new Qtt,this.contentTypes=new Ptt,this.documentWrapper=new Ope({background:e.background}),this.settings=new Ent({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(l=e.features)==null?void 0:l.trackRevisions,updateFields:(c=e.features)==null?void 0:c.updateFields,defaultTabStop:e.defaultTabStop}),this.media=new rnt,e.externalStyles!==void 0){const d=new Vnt;this.styles=d.newInstance(e.externalStyles)}else if(e.styles){const h=new cX().newInstance(e.styles.default);this.styles=new oM(bn(bn({},h),e.styles))}else{const d=new cX;this.styles=new oM(d.newInstance())}this.addDefaultRelationships();for(const d of e.sections)this.addSection(d);if(e.footnotes)for(const d in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(d),e.footnotes[d].children);this.fontWrapper=new Xnt((u=e.fonts)!=null?u:[])}addSection({headers:e={},footers:n={},children:i,properties:o}){this.documentWrapper.View.Body.addSection(Bd(bn({},o),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:n.default?this.createFooter(n.default):void 0,first:n.first?this.createFooter(n.first):void 0,even:n.even?this.createFooter(n.even):void 0}}));for(const a of i)this.documentWrapper.View.add(a)}createHeader(e){const n=new nnt(this.media,this.currentRelationshipId++);for(const i of e.options.children)n.add(i);return this.addHeaderToDocument(n),n}createFooter(e){const n=new Htt(this.media,this.currentRelationshipId++);for(const i of e.options.children)n.add(i);return this.addFooterToDocument(n),n}addHeaderToDocument(e,n=u0.DEFAULT){this.headers.push({header:e,type:n}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,n=u0.DEFAULT){this.footers.push({footer:e,type:n}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}};class Znt extends Ct{constructor(){super(...arguments),qe(this,"xmlKeys",{id:"w:id"})}}class Jnt extends We{constructor(e){super("w:footnoteReference"),this.root.push(new Znt({id:e}))}}class Qnt extends xp{constructor(e){super({style:"FootnoteReference"}),this.root.push(new Jnt(e))}}function h2(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Bpe={exports:{}};(function(r,e){(function(n){r.exports=n()})(function(){return function n(i,o,a){function s(u,d){if(!o[u]){if(!i[u]){var h=typeof h2=="function"&&h2;if(!d&&h)return h(u,!0);if(l)return l(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var m=o[u]={exports:{}};i[u][0].call(m.exports,function(b){var g=i[u][1][b];return s(g||b)},m,m.exports,n,i,o,a)}return o[u].exports}for(var l=typeof h2=="function"&&h2,c=0;c<a.length;c++)s(a[c]);return s}({1:[function(n,i,o){var a=n("./utils"),s=n("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(c){for(var u,d,h,f,m,b,g,v=[],x=0,w=c.length,k=w,T=a.getTypeOf(c)!=="string";x<c.length;)k=w-x,h=T?(u=c[x++],d=x<w?c[x++]:0,x<w?c[x++]:0):(u=c.charCodeAt(x++),d=x<w?c.charCodeAt(x++):0,x<w?c.charCodeAt(x++):0),f=u>>2,m=(3&u)<<4|d>>4,b=1<k?(15&d)<<2|h>>6:64,g=2<k?63&h:64,v.push(l.charAt(f)+l.charAt(m)+l.charAt(b)+l.charAt(g));return v.join("")},o.decode=function(c){var u,d,h,f,m,b,g=0,v=0,x="data:";if(c.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var w,k=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&k--,c.charAt(c.length-2)===l.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=s.uint8array?new Uint8Array(0|k):new Array(0|k);g<c.length;)u=l.indexOf(c.charAt(g++))<<2|(f=l.indexOf(c.charAt(g++)))>>4,d=(15&f)<<4|(m=l.indexOf(c.charAt(g++)))>>2,h=(3&m)<<6|(b=l.indexOf(c.charAt(g++))),w[v++]=u,m!==64&&(w[v++]=d),b!==64&&(w[v++]=h);return w}},{"./support":30,"./utils":32}],2:[function(n,i,o){var a=n("./external"),s=n("./stream/DataWorker"),l=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function u(d,h,f,m,b){this.compressedSize=d,this.uncompressedSize=h,this.crc32=f,this.compression=m,this.compressedContent=b}u.prototype={getContentWorker:function(){var d=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),h=this;return d.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(d,h,f){return d.pipe(new l).pipe(new c("uncompressedSize")).pipe(h.compressWorker(f)).pipe(new c("compressedSize")).withStreamInfo("compression",h)},i.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,i,o){var a=n("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},o.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,i,o){var a=n("./utils"),s=function(){for(var l,c=[],u=0;u<256;u++){l=u;for(var d=0;d<8;d++)l=1&l?3988292384^l>>>1:l>>>1;c[u]=l}return c}();i.exports=function(l,c){return l!==void 0&&l.length?a.getTypeOf(l)!=="string"?function(u,d,h,f){var m=s,b=f+h;u^=-1;for(var g=f;g<b;g++)u=u>>>8^m[255&(u^d[g])];return-1^u}(0|c,l,l.length,0):function(u,d,h,f){var m=s,b=f+h;u^=-1;for(var g=f;g<b;g++)u=u>>>8^m[255&(u^d.charCodeAt(g))];return-1^u}(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(n,i,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(n,i,o){var a=null;a=typeof Promise<"u"?Promise:n("lie"),i.exports={Promise:a}},{lie:37}],7:[function(n,i,o){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),l=n("./utils"),c=n("./stream/GenericWorker"),u=a?"uint8array":"array";function d(h,f){c.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=f,this.meta={}}o.magic="\b\0",l.inherits(d,c),d.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(u,h.data),!1)},d.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(f){h.push({data:f,meta:h.meta})}},o.compressWorker=function(h){return new d("Deflate",h)},o.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,i,o){function a(m,b){var g,v="";for(g=0;g<b;g++)v+=String.fromCharCode(255&m),m>>>=8;return v}function s(m,b,g,v,x,w){var k,T,_=m.file,D=m.compression,I=w!==u.utf8encode,L=l.transformTo("string",w(_.name)),O=l.transformTo("string",u.utf8encode(_.name)),W=_.comment,Z=l.transformTo("string",w(W)),$=l.transformTo("string",u.utf8encode(W)),F=O.length!==_.name.length,A=$.length!==W.length,Q="",H="",G="",ne=_.dir,J=_.date,ee={crc32:0,compressedSize:0,uncompressedSize:0};b&&!g||(ee.crc32=m.crc32,ee.compressedSize=m.compressedSize,ee.uncompressedSize=m.uncompressedSize);var X=0;b&&(X|=8),I||!F&&!A||(X|=2048);var j=0,ae=0;ne&&(j|=16),x==="UNIX"?(ae=798,j|=function(de,me){var K=de;return de||(K=me?16893:33204),(65535&K)<<16}(_.unixPermissions,ne)):(ae=20,j|=function(de){return 63&(de||0)}(_.dosPermissions)),k=J.getUTCHours(),k<<=6,k|=J.getUTCMinutes(),k<<=5,k|=J.getUTCSeconds()/2,T=J.getUTCFullYear()-1980,T<<=4,T|=J.getUTCMonth()+1,T<<=5,T|=J.getUTCDate(),F&&(H=a(1,1)+a(d(L),4)+O,Q+="up"+a(H.length,2)+H),A&&(G=a(1,1)+a(d(Z),4)+$,Q+="uc"+a(G.length,2)+G);var re="";return re+=`
\0`,re+=a(X,2),re+=D.magic,re+=a(k,2),re+=a(T,2),re+=a(ee.crc32,4),re+=a(ee.compressedSize,4),re+=a(ee.uncompressedSize,4),re+=a(L.length,2),re+=a(Q.length,2),{fileRecord:h.LOCAL_FILE_HEADER+re+L+Q,dirRecord:h.CENTRAL_FILE_HEADER+a(ae,2)+re+a(Z.length,2)+"\0\0\0\0"+a(j,4)+a(v,4)+L+Q+Z}}var l=n("../utils"),c=n("../stream/GenericWorker"),u=n("../utf8"),d=n("../crc32"),h=n("../signature");function f(m,b,g,v){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=g,this.encodeFileName=v,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(f,c),f.prototype.push=function(m){var b=m.meta.percent||0,g=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,c.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:g?(b+100*(g-v-1))/g:100}}))},f.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var b=this.streamFiles&&!m.file.dir;if(b){var g=s(m,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(m){this.accumulate=!1;var b=this.streamFiles&&!m.file.dir,g=s(m,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),b)this.push({data:function(v){return h.DATA_DESCRIPTOR+a(v.crc32,4)+a(v.compressedSize,4)+a(v.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var m=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var g=this.bytesWritten-m,v=function(x,w,k,T,_){var D=l.transformTo("string",_(T));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(x,2)+a(x,2)+a(w,4)+a(k,4)+a(D.length,2)+D}(this.dirRecords.length,g,m,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(m){this._sources.push(m);var b=this;return m.on("data",function(g){b.processChunk(g)}),m.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),m.on("error",function(g){b.error(g)}),this},f.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(m){var b=this._sources;if(!c.prototype.error.call(this,m))return!1;for(var g=0;g<b.length;g++)try{b[g].error(m)}catch{}return!0},f.prototype.lock=function(){c.prototype.lock.call(this);for(var m=this._sources,b=0;b<m.length;b++)m[b].lock()},i.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,i,o){var a=n("../compressions"),s=n("./ZipFileWorker");o.generateWorker=function(l,c,u){var d=new s(c.streamFiles,u,c.platform,c.encodeFileName),h=0;try{l.forEach(function(f,m){h++;var b=function(w,k){var T=w||k,_=a[T];if(!_)throw new Error(T+" is not a valid compression method !");return _}(m.options.compression,c.compression),g=m.options.compressionOptions||c.compressionOptions||{},v=m.dir,x=m.date;m._compressWorker(b,g).withStreamInfo("file",{name:f,dir:v,date:x,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(d)}),d.entriesCount=h}catch(f){d.error(f)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,i,o){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var l in this)typeof this[l]!="function"&&(s[l]=this[l]);return s}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(s,l){return new a().loadAsync(s,l)},a.external=n("./external"),i.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,i,o){var a=n("./utils"),s=n("./external"),l=n("./utf8"),c=n("./zipEntries"),u=n("./stream/Crc32Probe"),d=n("./nodejsUtils");function h(f){return new s.Promise(function(m,b){var g=f.decompressed.getContentWorker().pipe(new u);g.on("error",function(v){b(v)}).on("end",function(){g.streamInfo.crc32!==f.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}i.exports=function(f,m){var b=this;return m=a.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),d.isNode&&d.isStream(f)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",f,!0,m.optimizedBinaryString,m.base64).then(function(g){var v=new c(m);return v.load(g),v}).then(function(g){var v=[s.Promise.resolve(g)],x=g.files;if(m.checkCRC32)for(var w=0;w<x.length;w++)v.push(h(x[w]));return s.Promise.all(v)}).then(function(g){for(var v=g.shift(),x=v.files,w=0;w<x.length;w++){var k=x[w],T=k.fileNameStr,_=a.resolve(k.fileNameStr);b.file(_,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:m.createFolders}),k.dir||(b.file(_).unsafeOriginalName=T)}return v.zipComment.length&&(b.comment=v.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,i,o){var a=n("../utils"),s=n("../stream/GenericWorker");function l(c,u){s.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(l,s),l.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(d){u.push({data:d,meta:{percent:0}})}).on("error",function(d){u.isPaused?this.generatedError=d:u.error(d)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},l.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,i,o){var a=n("readable-stream").Readable;function s(l,c,u){a.call(this,c),this._helper=l;var d=this;l.on("data",function(h,f){d.push(h)||d._helper.pause(),u&&u(f)}).on("error",function(h){d.emit("error",h)}).on("end",function(){d.push(null)})}n("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},i.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,i,o){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,i,o){function a(_,D,I){var L,O=l.getTypeOf(D),W=l.extend(I||{},d);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(_=x(_)),W.createFolders&&(L=v(_))&&w.call(this,L,!0);var Z=O==="string"&&W.binary===!1&&W.base64===!1;I&&I.binary!==void 0||(W.binary=!Z),(D instanceof h&&D.uncompressedSize===0||W.dir||!D||D.length===0)&&(W.base64=!1,W.binary=!0,D="",W.compression="STORE",O="string");var $=null;$=D instanceof h||D instanceof c?D:b.isNode&&b.isStream(D)?new g(_,D):l.prepareContent(_,D,W.binary,W.optimizedBinaryString,W.base64);var F=new f(_,$,W);this.files[_]=F}var s=n("./utf8"),l=n("./utils"),c=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),d=n("./defaults"),h=n("./compressedObject"),f=n("./zipObject"),m=n("./generate"),b=n("./nodejsUtils"),g=n("./nodejs/NodejsStreamInputAdapter"),v=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var D=_.lastIndexOf("/");return 0<D?_.substring(0,D):""},x=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},w=function(_,D){return D=D!==void 0?D:d.createFolders,_=x(_),this.files[_]||a.call(this,_,null,{dir:!0,createFolders:D}),this.files[_]};function k(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var D,I,L;for(D in this.files)L=this.files[D],(I=D.slice(this.root.length,D.length))&&D.slice(0,this.root.length)===this.root&&_(I,L)},filter:function(_){var D=[];return this.forEach(function(I,L){_(I,L)&&D.push(L)}),D},file:function(_,D,I){if(arguments.length!==1)return _=this.root+_,a.call(this,_,D,I),this;if(k(_)){var L=_;return this.filter(function(W,Z){return!Z.dir&&L.test(W)})}var O=this.files[this.root+_];return O&&!O.dir?O:null},folder:function(_){if(!_)return this;if(k(_))return this.filter(function(O,W){return W.dir&&_.test(O)});var D=this.root+_,I=w.call(this,D),L=this.clone();return L.root=I.name,L},remove:function(_){_=this.root+_;var D=this.files[_];if(D||(_.slice(-1)!=="/"&&(_+="/"),D=this.files[_]),D&&!D.dir)delete this.files[_];else for(var I=this.filter(function(O,W){return W.name.slice(0,_.length)===_}),L=0;L<I.length;L++)delete this.files[I[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var D,I={};try{if((I=l.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),I.type==="binarystring"&&(I.type="string"),!I.type)throw new Error("No output type specified.");l.checkSupport(I.type),I.platform!=="darwin"&&I.platform!=="freebsd"&&I.platform!=="linux"&&I.platform!=="sunos"||(I.platform="UNIX"),I.platform==="win32"&&(I.platform="DOS");var L=I.comment||this.comment||"";D=m.generateWorker(this,I,L)}catch(O){(D=new c("error")).error(O)}return new u(D,I.type||"string",I.mimeType)},generateAsync:function(_,D){return this.generateInternalStream(_).accumulate(D)},generateNodeStream:function(_,D){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(D)}};i.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,i,o){i.exports=n("stream")},{stream:void 0}],17:[function(n,i,o){var a=n("./DataReader");function s(l){a.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}n("../utils").inherits(s,a),s.prototype.byteAt=function(l){return this.data[this.zero+l]},s.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),u=l.charCodeAt(1),d=l.charCodeAt(2),h=l.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===c&&this.data[f+1]===u&&this.data[f+2]===d&&this.data[f+3]===h)return f-this.zero;return-1},s.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),u=l.charCodeAt(1),d=l.charCodeAt(2),h=l.charCodeAt(3),f=this.readData(4);return c===f[0]&&u===f[1]&&d===f[2]&&h===f[3]},s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},i.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,i,o){var a=n("../utils");function s(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,u=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=l,u},readString:function(l){return a.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},i.exports=s},{"../utils":32}],19:[function(n,i,o){var a=n("./Uint8ArrayReader");function s(l){a.call(this,l)}n("../utils").inherits(s,a),s.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},i.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,i,o){var a=n("./DataReader");function s(l){a.call(this,l)}n("../utils").inherits(s,a),s.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},s.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},s.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},s.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},i.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,i,o){var a=n("./ArrayReader");function s(l){a.call(this,l)}n("../utils").inherits(s,a),s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},i.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,i,o){var a=n("../utils"),s=n("../support"),l=n("./ArrayReader"),c=n("./StringReader"),u=n("./NodeBufferReader"),d=n("./Uint8ArrayReader");i.exports=function(h){var f=a.getTypeOf(h);return a.checkSupport(f),f!=="string"||s.uint8array?f==="nodebuffer"?new u(h):s.uint8array?new d(a.transformTo("uint8array",h)):new l(a.transformTo("array",h)):new c(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,i,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,i,o){var a=n("./GenericWorker"),s=n("../utils");function l(c){a.call(this,"ConvertWorker to "+c),this.destType=c}s.inherits(l,a),l.prototype.processChunk=function(c){this.push({data:s.transformTo(this.destType,c.data),meta:c.meta})},i.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(n,i,o){var a=n("./GenericWorker"),s=n("../crc32");function l(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(l,a),l.prototype.processChunk=function(c){this.streamInfo.crc32=s(c.data,this.streamInfo.crc32||0),this.push(c)},i.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,i,o){var a=n("../utils"),s=n("./GenericWorker");function l(c){s.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}a.inherits(l,s),l.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}s.prototype.processChunk.call(this,c)},i.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(n,i,o){var a=n("../utils"),s=n("./GenericWorker");function l(c){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(d){u.dataIsReady=!0,u.data=d,u.max=d&&d.length||0,u.type=a.getTypeOf(d),u.isPaused||u._tickAndRepeat()},function(d){u.error(d)})}a.inherits(l,s),l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(n,i,o){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,l){return this._listeners[s].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,l){if(this._listeners[s])for(var c=0;c<this._listeners[s].length;c++)this._listeners[s][c].call(this,l)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var l=this;return s.on("data",function(c){l.processChunk(c)}),s.on("end",function(){l.end()}),s.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,l){return this.extraStreamInfo[s]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},i.exports=a},{}],29:[function(n,i,o){var a=n("../utils"),s=n("./ConvertWorker"),l=n("./GenericWorker"),c=n("../base64"),u=n("../support"),d=n("../external"),h=null;if(u.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(b,g){return new d.Promise(function(v,x){var w=[],k=b._internalType,T=b._outputType,_=b._mimeType;b.on("data",function(D,I){w.push(D),g&&g(I)}).on("error",function(D){w=[],x(D)}).on("end",function(){try{var D=function(I,L,O){switch(I){case"blob":return a.newBlob(a.transformTo("arraybuffer",L),O);case"base64":return c.encode(L);default:return a.transformTo(I,L)}}(T,function(I,L){var O,W=0,Z=null,$=0;for(O=0;O<L.length;O++)$+=L[O].length;switch(I){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(Z=new Uint8Array($),O=0;O<L.length;O++)Z.set(L[O],W),W+=L[O].length;return Z;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+I+"'")}}(k,w),_);v(D)}catch(I){x(I)}w=[]}).resume()})}function m(b,g,v){var x=g;switch(g){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=g,this._mimeType=v,a.checkSupport(x),this._worker=b.pipe(new s(x)),b.lock()}catch(w){this._worker=new l("error"),this._worker.error(w)}}m.prototype={accumulate:function(b){return f(this,b)},on:function(b,g){var v=this;return b==="data"?this._worker.on(b,function(x){g.call(v,x.data,x.meta)}):this._worker.on(b,function(){a.delay(g,arguments,v)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},b)}},i.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,i,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var a=new ArrayBuffer(0);try{o.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),o.blob=s.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!n("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(n,i,o){for(var a=n("./utils"),s=n("./support"),l=n("./nodejsUtils"),c=n("./stream/GenericWorker"),u=new Array(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;u[254]=u[254]=1;function h(){c.call(this,"utf-8 decode"),this.leftOver=null}function f(){c.call(this,"utf-8 encode")}o.utf8encode=function(m){return s.nodebuffer?l.newBufferFrom(m,"utf-8"):function(b){var g,v,x,w,k,T=b.length,_=0;for(w=0;w<T;w++)(64512&(v=b.charCodeAt(w)))==55296&&w+1<T&&(64512&(x=b.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(x-56320),w++),_+=v<128?1:v<2048?2:v<65536?3:4;for(g=s.uint8array?new Uint8Array(_):new Array(_),w=k=0;k<_;w++)(64512&(v=b.charCodeAt(w)))==55296&&w+1<T&&(64512&(x=b.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(x-56320),w++),v<128?g[k++]=v:(v<2048?g[k++]=192|v>>>6:(v<65536?g[k++]=224|v>>>12:(g[k++]=240|v>>>18,g[k++]=128|v>>>12&63),g[k++]=128|v>>>6&63),g[k++]=128|63&v);return g}(m)},o.utf8decode=function(m){return s.nodebuffer?a.transformTo("nodebuffer",m).toString("utf-8"):function(b){var g,v,x,w,k=b.length,T=new Array(2*k);for(g=v=0;g<k;)if((x=b[g++])<128)T[v++]=x;else if(4<(w=u[x]))T[v++]=65533,g+=w-1;else{for(x&=w===2?31:w===3?15:7;1<w&&g<k;)x=x<<6|63&b[g++],w--;1<w?T[v++]=65533:x<65536?T[v++]=x:(x-=65536,T[v++]=55296|x>>10&1023,T[v++]=56320|1023&x)}return T.length!==v&&(T.subarray?T=T.subarray(0,v):T.length=v),a.applyFromCharCode(T)}(m=a.transformTo(s.uint8array?"uint8array":"array",m))},a.inherits(h,c),h.prototype.processChunk=function(m){var b=a.transformTo(s.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var g=b;(b=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),b.set(g,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var v=function(w,k){var T;for((k=k||w.length)>w.length&&(k=w.length),T=k-1;0<=T&&(192&w[T])==128;)T--;return T<0||T===0?k:T+u[w[T]]>k?T:k}(b),x=b;v!==b.length&&(s.uint8array?(x=b.subarray(0,v),this.leftOver=b.subarray(v,b.length)):(x=b.slice(0,v),this.leftOver=b.slice(v,b.length))),this.push({data:o.utf8decode(x),meta:m.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=h,a.inherits(f,c),f.prototype.processChunk=function(m){this.push({data:o.utf8encode(m.data),meta:m.meta})},o.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,i,o){var a=n("./support"),s=n("./base64"),l=n("./nodejsUtils"),c=n("./external");function u(g){return g}function d(g,v){for(var x=0;x<g.length;++x)v[x]=255&g.charCodeAt(x);return v}n("setimmediate"),o.newBlob=function(g,v){o.checkSupport("blob");try{return new Blob([g],{type:v})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(g),x.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(g,v,x){var w=[],k=0,T=g.length;if(T<=x)return String.fromCharCode.apply(null,g);for(;k<T;)v==="array"||v==="nodebuffer"?w.push(String.fromCharCode.apply(null,g.slice(k,Math.min(k+x,T)))):w.push(String.fromCharCode.apply(null,g.subarray(k,Math.min(k+x,T)))),k+=x;return w.join("")},stringifyByChar:function(g){for(var v="",x=0;x<g.length;x++)v+=String.fromCharCode(g[x]);return v},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function f(g){var v=65536,x=o.getTypeOf(g),w=!0;if(x==="uint8array"?w=h.applyCanBeUsed.uint8array:x==="nodebuffer"&&(w=h.applyCanBeUsed.nodebuffer),w)for(;1<v;)try{return h.stringifyByChunk(g,x,v)}catch{v=Math.floor(v/2)}return h.stringifyByChar(g)}function m(g,v){for(var x=0;x<g.length;x++)v[x]=g[x];return v}o.applyFromCharCode=f;var b={};b.string={string:u,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return b.string.uint8array(g).buffer},uint8array:function(g){return d(g,new Uint8Array(g.length))},nodebuffer:function(g){return d(g,l.allocBuffer(g.length))}},b.array={string:f,array:u,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return l.newBufferFrom(g)}},b.arraybuffer={string:function(g){return f(new Uint8Array(g))},array:function(g){return m(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:u,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return l.newBufferFrom(new Uint8Array(g))}},b.uint8array={string:f,array:function(g){return m(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:u,nodebuffer:function(g){return l.newBufferFrom(g)}},b.nodebuffer={string:f,array:function(g){return m(g,new Array(g.length))},arraybuffer:function(g){return b.nodebuffer.uint8array(g).buffer},uint8array:function(g){return m(g,new Uint8Array(g.length))},nodebuffer:u},o.transformTo=function(g,v){if(v=v||"",!g)return v;o.checkSupport(g);var x=o.getTypeOf(v);return b[x][g](v)},o.resolve=function(g){for(var v=g.split("/"),x=[],w=0;w<v.length;w++){var k=v[w];k==="."||k===""&&w!==0&&w!==v.length-1||(k===".."?x.pop():x.push(k))}return x.join("/")},o.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":a.nodebuffer&&l.isBuffer(g)?"nodebuffer":a.uint8array&&g instanceof Uint8Array?"uint8array":a.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(g){if(!a[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(g){var v,x,w="";for(x=0;x<(g||"").length;x++)w+="\\x"+((v=g.charCodeAt(x))<16?"0":"")+v.toString(16).toUpperCase();return w},o.delay=function(g,v,x){setImmediate(function(){g.apply(x||null,v||[])})},o.inherits=function(g,v){function x(){}x.prototype=v.prototype,g.prototype=new x},o.extend=function(){var g,v,x={};for(g=0;g<arguments.length;g++)for(v in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],v)&&x[v]===void 0&&(x[v]=arguments[g][v]);return x},o.prepareContent=function(g,v,x,w,k){return c.Promise.resolve(v).then(function(T){return a.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new c.Promise(function(_,D){var I=new FileReader;I.onload=function(L){_(L.target.result)},I.onerror=function(L){D(L.target.error)},I.readAsArrayBuffer(T)}):T}).then(function(T){var _=o.getTypeOf(T);return _?(_==="arraybuffer"?T=o.transformTo("uint8array",T):_==="string"&&(k?T=s.decode(T):x&&w!==!0&&(T=function(D){return d(D,a.uint8array?new Uint8Array(D.length):new Array(D.length))}(T))),T):c.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,i,o){var a=n("./reader/readerFor"),s=n("./utils"),l=n("./signature"),c=n("./zipEntry"),u=n("./support");function d(h){this.files=[],this.loadOptions=h}d.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(f)+", expected "+s.pretty(h)+")")}},isSignature:function(h,f){var m=this.reader.index;this.reader.setIndex(h);var b=this.reader.readString(4)===f;return this.reader.setIndex(m),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),f=u.uint8array?"uint8array":"array",m=s.transformTo(f,h);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,f,m,b=this.zip64EndOfCentralSize-44;0<b;)h=this.reader.readInt(2),f=this.reader.readInt(4),m=this.reader.readData(f),this.zip64ExtensibleData[h]={id:h,length:f,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,f;for(h=0;h<this.files.length;h++)f=this.files[h],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(h=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var f=h;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var b=f-m;if(0<b)this.isSignature(f,l.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(h){this.reader=a(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,i,o){var a=n("./reader/readerFor"),s=n("./utils"),l=n("./compressedObject"),c=n("./crc32"),u=n("./utf8"),d=n("./compressions"),h=n("./support");function f(m,b){this.options=m,this.loadOptions=b}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var b,g;if(m.skip(22),this.fileNameLength=m.readInt(2),g=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(v){for(var x in d)if(Object.prototype.hasOwnProperty.call(d,x)&&d[x].magic===v)return d[x];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,b,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var b=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(b),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var b,g,v,x=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<x;)b=m.readInt(2),g=m.readInt(2),v=m.readData(g),this.extraFields[b]={id:b,length:g,value:v};m.setIndex(x)},handleUTF8:function(){var m=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var g=s.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var x=s.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var b=a(m.value);return b.readInt(1)!==1||c(this.fileName)!==b.readInt(4)?null:u.utf8decode(b.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var b=a(m.value);return b.readInt(1)!==1||c(this.fileComment)!==b.readInt(4)?null:u.utf8decode(b.readData(m.length-5))}return null}},i.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,i,o){function a(b,g,v){this.name=b,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=g,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var s=n("./stream/StreamHelper"),l=n("./stream/DataWorker"),c=n("./utf8"),u=n("./compressedObject"),d=n("./stream/GenericWorker");a.prototype={internalStream:function(b){var g=null,v="string";try{if(!b)throw new Error("No output type specified.");var x=(v=b.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),g=this._decompressWorker();var w=!this._dataBinary;w&&!x&&(g=g.pipe(new c.Utf8EncodeWorker)),!w&&x&&(g=g.pipe(new c.Utf8DecodeWorker))}catch(k){(g=new d("error")).error(k)}return new s(g,v,"")},async:function(b,g){return this.internalStream(b).accumulate(g)},nodeStream:function(b,g){return this.internalStream(b||"nodebuffer").toNodejsStream(g)},_compressWorker:function(b,g){if(this._data instanceof u&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(v,b,g)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof d?this._data:new l(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<h.length;m++)a.prototype[h[m]]=f;i.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,i,o){(function(a){var s,l,c=a.MutationObserver||a.WebKitMutationObserver;if(c){var u=0,d=new c(b),h=a.document.createTextNode("");d.observe(h,{characterData:!0}),s=function(){h.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var g=a.document.createElement("script");g.onreadystatechange=function(){b(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},a.document.documentElement.appendChild(g)}:function(){setTimeout(b,0)};else{var f=new a.MessageChannel;f.port1.onmessage=b,s=function(){f.port2.postMessage(0)}}var m=[];function b(){var g,v;l=!0;for(var x=m.length;x;){for(v=m,m=[],g=-1;++g<x;)v[g]();x=m.length}l=!1}i.exports=function(g){m.push(g)!==1||l||s()}}).call(this,typeof fl<"u"?fl:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,i,o){var a=n("immediate");function s(){}var l={},c=["REJECTED"],u=["FULFILLED"],d=["PENDING"];function h(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,x!==s&&g(this,x)}function f(x,w,k){this.promise=x,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function m(x,w,k){a(function(){var T;try{T=w(k)}catch(_){return l.reject(x,_)}T===x?l.reject(x,new TypeError("Cannot resolve promise with itself")):l.resolve(x,T)})}function b(x){var w=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof w=="function")return function(){w.apply(x,arguments)}}function g(x,w){var k=!1;function T(I){k||(k=!0,l.reject(x,I))}function _(I){k||(k=!0,l.resolve(x,I))}var D=v(function(){w(_,T)});D.status==="error"&&T(D.value)}function v(x,w){var k={};try{k.value=x(w),k.status="success"}catch(T){k.status="error",k.value=T}return k}(i.exports=h).prototype.finally=function(x){if(typeof x!="function")return this;var w=this.constructor;return this.then(function(k){return w.resolve(x()).then(function(){return k})},function(k){return w.resolve(x()).then(function(){throw k})})},h.prototype.catch=function(x){return this.then(null,x)},h.prototype.then=function(x,w){if(typeof x!="function"&&this.state===u||typeof w!="function"&&this.state===c)return this;var k=new this.constructor(s);return this.state!==d?m(k,this.state===u?x:w,this.outcome):this.queue.push(new f(k,x,w)),k},f.prototype.callFulfilled=function(x){l.resolve(this.promise,x)},f.prototype.otherCallFulfilled=function(x){m(this.promise,this.onFulfilled,x)},f.prototype.callRejected=function(x){l.reject(this.promise,x)},f.prototype.otherCallRejected=function(x){m(this.promise,this.onRejected,x)},l.resolve=function(x,w){var k=v(b,w);if(k.status==="error")return l.reject(x,k.value);var T=k.value;if(T)g(x,T);else{x.state=u,x.outcome=w;for(var _=-1,D=x.queue.length;++_<D;)x.queue[_].callFulfilled(w)}return x},l.reject=function(x,w){x.state=c,x.outcome=w;for(var k=-1,T=x.queue.length;++k<T;)x.queue[k].callRejected(w);return x},h.resolve=function(x){return x instanceof this?x:l.resolve(new this(s),x)},h.reject=function(x){var w=new this(s);return l.reject(w,x)},h.all=function(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=x.length,T=!1;if(!k)return this.resolve([]);for(var _=new Array(k),D=0,I=-1,L=new this(s);++I<k;)O(x[I],I);return L;function O(W,Z){w.resolve(W).then(function($){_[Z]=$,++D!==k||T||(T=!0,l.resolve(L,_))},function($){T||(T=!0,l.reject(L,$))})}},h.race=function(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=x.length,T=!1;if(!k)return this.resolve([]);for(var _=-1,D=new this(s);++_<k;)I=x[_],w.resolve(I).then(function(L){T||(T=!0,l.resolve(D,L))},function(L){T||(T=!0,l.reject(D,L))});var I;return D}},{immediate:36}],38:[function(n,i,o){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),i.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,i,o){var a=n("./zlib/deflate"),s=n("./utils/common"),l=n("./utils/strings"),c=n("./zlib/messages"),u=n("./zlib/zstream"),d=Object.prototype.toString,h=0,f=-1,m=0,b=8;function g(x){if(!(this instanceof g))return new g(x);this.options=s.assign({level:f,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},x||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var k=a.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(k!==h)throw new Error(c[k]);if(w.header&&a.deflateSetHeader(this.strm,w.header),w.dictionary){var T;if(T=typeof w.dictionary=="string"?l.string2buf(w.dictionary):d.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(k=a.deflateSetDictionary(this.strm,T))!==h)throw new Error(c[k]);this._dict_set=!0}}function v(x,w){var k=new g(w);if(k.push(x,!0),k.err)throw k.msg||c[k.err];return k.result}g.prototype.push=function(x,w){var k,T,_=this.strm,D=this.options.chunkSize;if(this.ended)return!1;T=w===~~w?w:w===!0?4:0,typeof x=="string"?_.input=l.string2buf(x):d.call(x)==="[object ArrayBuffer]"?_.input=new Uint8Array(x):_.input=x,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new s.Buf8(D),_.next_out=0,_.avail_out=D),(k=a.deflate(_,T))!==1&&k!==h)return this.onEnd(k),!(this.ended=!0);_.avail_out!==0&&(_.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(s.shrinkBuf(_.output,_.next_out))):this.onData(s.shrinkBuf(_.output,_.next_out)))}while((0<_.avail_in||_.avail_out===0)&&k!==1);return T===4?(k=a.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===h):T!==2||(this.onEnd(h),!(_.avail_out=0))},g.prototype.onData=function(x){this.chunks.push(x)},g.prototype.onEnd=function(x){x===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},o.Deflate=g,o.deflate=v,o.deflateRaw=function(x,w){return(w=w||{}).raw=!0,v(x,w)},o.gzip=function(x,w){return(w=w||{}).gzip=!0,v(x,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,i,o){var a=n("./zlib/inflate"),s=n("./utils/common"),l=n("./utils/strings"),c=n("./zlib/constants"),u=n("./zlib/messages"),d=n("./zlib/zstream"),h=n("./zlib/gzheader"),f=Object.prototype.toString;function m(g){if(!(this instanceof m))return new m(g);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},g||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||g&&g.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&(15&v.windowBits)==0&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var x=a.inflateInit2(this.strm,v.windowBits);if(x!==c.Z_OK)throw new Error(u[x]);this.header=new h,a.inflateGetHeader(this.strm,this.header)}function b(g,v){var x=new m(v);if(x.push(g,!0),x.err)throw x.msg||u[x.err];return x.result}m.prototype.push=function(g,v){var x,w,k,T,_,D,I=this.strm,L=this.options.chunkSize,O=this.options.dictionary,W=!1;if(this.ended)return!1;w=v===~~v?v:v===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof g=="string"?I.input=l.binstring2buf(g):f.call(g)==="[object ArrayBuffer]"?I.input=new Uint8Array(g):I.input=g,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new s.Buf8(L),I.next_out=0,I.avail_out=L),(x=a.inflate(I,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&O&&(D=typeof O=="string"?l.string2buf(O):f.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,x=a.inflateSetDictionary(this.strm,D)),x===c.Z_BUF_ERROR&&W===!0&&(x=c.Z_OK,W=!1),x!==c.Z_STREAM_END&&x!==c.Z_OK)return this.onEnd(x),!(this.ended=!0);I.next_out&&(I.avail_out!==0&&x!==c.Z_STREAM_END&&(I.avail_in!==0||w!==c.Z_FINISH&&w!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=l.utf8border(I.output,I.next_out),T=I.next_out-k,_=l.buf2string(I.output,k),I.next_out=T,I.avail_out=L-T,T&&s.arraySet(I.output,I.output,k,T,0),this.onData(_)):this.onData(s.shrinkBuf(I.output,I.next_out)))),I.avail_in===0&&I.avail_out===0&&(W=!0)}while((0<I.avail_in||I.avail_out===0)&&x!==c.Z_STREAM_END);return x===c.Z_STREAM_END&&(w=c.Z_FINISH),w===c.Z_FINISH?(x=a.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===c.Z_OK):w!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(I.avail_out=0))},m.prototype.onData=function(g){this.chunks.push(g)},m.prototype.onEnd=function(g){g===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},o.Inflate=m,o.inflate=b,o.inflateRaw=function(g,v){return(v=v||{}).raw=!0,b(g,v)},o.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,i,o){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var d=u.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])}}return c},o.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var s={arraySet:function(c,u,d,h,f){if(u.subarray&&c.subarray)c.set(u.subarray(d,d+h),f);else for(var m=0;m<h;m++)c[f+m]=u[d+m]},flattenChunks:function(c){var u,d,h,f,m,b;for(u=h=0,d=c.length;u<d;u++)h+=c[u].length;for(b=new Uint8Array(h),u=f=0,d=c.length;u<d;u++)m=c[u],b.set(m,f),f+=m.length;return b}},l={arraySet:function(c,u,d,h,f){for(var m=0;m<h;m++)c[f+m]=u[d+m]},flattenChunks:function(c){return[].concat.apply([],c)}};o.setTyped=function(c){c?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,s)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,l))},o.setTyped(a)},{}],42:[function(n,i,o){var a=n("./common"),s=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new a.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function d(h,f){if(f<65537&&(h.subarray&&l||!h.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(h,f));for(var m="",b=0;b<f;b++)m+=String.fromCharCode(h[b]);return m}c[254]=c[254]=1,o.string2buf=function(h){var f,m,b,g,v,x=h.length,w=0;for(g=0;g<x;g++)(64512&(m=h.charCodeAt(g)))==55296&&g+1<x&&(64512&(b=h.charCodeAt(g+1)))==56320&&(m=65536+(m-55296<<10)+(b-56320),g++),w+=m<128?1:m<2048?2:m<65536?3:4;for(f=new a.Buf8(w),g=v=0;v<w;g++)(64512&(m=h.charCodeAt(g)))==55296&&g+1<x&&(64512&(b=h.charCodeAt(g+1)))==56320&&(m=65536+(m-55296<<10)+(b-56320),g++),m<128?f[v++]=m:(m<2048?f[v++]=192|m>>>6:(m<65536?f[v++]=224|m>>>12:(f[v++]=240|m>>>18,f[v++]=128|m>>>12&63),f[v++]=128|m>>>6&63),f[v++]=128|63&m);return f},o.buf2binstring=function(h){return d(h,h.length)},o.binstring2buf=function(h){for(var f=new a.Buf8(h.length),m=0,b=f.length;m<b;m++)f[m]=h.charCodeAt(m);return f},o.buf2string=function(h,f){var m,b,g,v,x=f||h.length,w=new Array(2*x);for(m=b=0;m<x;)if((g=h[m++])<128)w[b++]=g;else if(4<(v=c[g]))w[b++]=65533,m+=v-1;else{for(g&=v===2?31:v===3?15:7;1<v&&m<x;)g=g<<6|63&h[m++],v--;1<v?w[b++]=65533:g<65536?w[b++]=g:(g-=65536,w[b++]=55296|g>>10&1023,w[b++]=56320|1023&g)}return d(w,b)},o.utf8border=function(h,f){var m;for((f=f||h.length)>h.length&&(f=h.length),m=f-1;0<=m&&(192&h[m])==128;)m--;return m<0||m===0?f:m+c[h[m]]>f?m:f}},{"./common":41}],43:[function(n,i,o){i.exports=function(a,s,l,c){for(var u=65535&a|0,d=a>>>16&65535|0,h=0;l!==0;){for(l-=h=2e3<l?2e3:l;d=d+(u=u+s[c++]|0)|0,--h;);u%=65521,d%=65521}return u|d<<16|0}},{}],44:[function(n,i,o){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,i,o){var a=function(){for(var s,l=[],c=0;c<256;c++){s=c;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;l[c]=s}return l}();i.exports=function(s,l,c,u){var d=a,h=u+c;s^=-1;for(var f=u;f<h;f++)s=s>>>8^d[255&(s^l[f])];return-1^s}},{}],46:[function(n,i,o){var a,s=n("../utils/common"),l=n("./trees"),c=n("./adler32"),u=n("./crc32"),d=n("./messages"),h=0,f=4,m=0,b=-2,g=-1,v=4,x=2,w=8,k=9,T=286,_=30,D=19,I=2*T+1,L=15,O=3,W=258,Z=W+O+1,$=42,F=113,A=1,Q=2,H=3,G=4;function ne(M,he){return M.msg=d[he],he}function J(M){return(M<<1)-(4<M?9:0)}function ee(M){for(var he=M.length;0<=--he;)M[he]=0}function X(M){var he=M.state,V=he.pending;V>M.avail_out&&(V=M.avail_out),V!==0&&(s.arraySet(M.output,he.pending_buf,he.pending_out,V,M.next_out),M.next_out+=V,he.pending_out+=V,M.total_out+=V,M.avail_out-=V,he.pending-=V,he.pending===0&&(he.pending_out=0))}function j(M,he){l._tr_flush_block(M,0<=M.block_start?M.block_start:-1,M.strstart-M.block_start,he),M.block_start=M.strstart,X(M.strm)}function ae(M,he){M.pending_buf[M.pending++]=he}function re(M,he){M.pending_buf[M.pending++]=he>>>8&255,M.pending_buf[M.pending++]=255&he}function de(M,he){var V,R,N=M.max_chain_length,B=M.strstart,ue=M.prev_length,ve=M.nice_match,se=M.strstart>M.w_size-Z?M.strstart-(M.w_size-Z):0,ge=M.window,Se=M.w_mask,Te=M.prev,De=M.strstart+W,Le=ge[B+ue-1],Ke=ge[B+ue];M.prev_length>=M.good_match&&(N>>=2),ve>M.lookahead&&(ve=M.lookahead);do if(ge[(V=he)+ue]===Ke&&ge[V+ue-1]===Le&&ge[V]===ge[B]&&ge[++V]===ge[B+1]){B+=2,V++;do;while(ge[++B]===ge[++V]&&ge[++B]===ge[++V]&&ge[++B]===ge[++V]&&ge[++B]===ge[++V]&&ge[++B]===ge[++V]&&ge[++B]===ge[++V]&&ge[++B]===ge[++V]&&ge[++B]===ge[++V]&&B<De);if(R=W-(De-B),B=De-W,ue<R){if(M.match_start=he,ve<=(ue=R))break;Le=ge[B+ue-1],Ke=ge[B+ue]}}while((he=Te[he&Se])>se&&--N!=0);return ue<=M.lookahead?ue:M.lookahead}function me(M){var he,V,R,N,B,ue,ve,se,ge,Se,Te=M.w_size;do{if(N=M.window_size-M.lookahead-M.strstart,M.strstart>=Te+(Te-Z)){for(s.arraySet(M.window,M.window,Te,Te,0),M.match_start-=Te,M.strstart-=Te,M.block_start-=Te,he=V=M.hash_size;R=M.head[--he],M.head[he]=Te<=R?R-Te:0,--V;);for(he=V=Te;R=M.prev[--he],M.prev[he]=Te<=R?R-Te:0,--V;);N+=Te}if(M.strm.avail_in===0)break;if(ue=M.strm,ve=M.window,se=M.strstart+M.lookahead,ge=N,Se=void 0,Se=ue.avail_in,ge<Se&&(Se=ge),V=Se===0?0:(ue.avail_in-=Se,s.arraySet(ve,ue.input,ue.next_in,Se,se),ue.state.wrap===1?ue.adler=c(ue.adler,ve,Se,se):ue.state.wrap===2&&(ue.adler=u(ue.adler,ve,Se,se)),ue.next_in+=Se,ue.total_in+=Se,Se),M.lookahead+=V,M.lookahead+M.insert>=O)for(B=M.strstart-M.insert,M.ins_h=M.window[B],M.ins_h=(M.ins_h<<M.hash_shift^M.window[B+1])&M.hash_mask;M.insert&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[B+O-1])&M.hash_mask,M.prev[B&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=B,B++,M.insert--,!(M.lookahead+M.insert<O)););}while(M.lookahead<Z&&M.strm.avail_in!==0)}function K(M,he){for(var V,R;;){if(M.lookahead<Z){if(me(M),M.lookahead<Z&&he===h)return A;if(M.lookahead===0)break}if(V=0,M.lookahead>=O&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+O-1])&M.hash_mask,V=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),V!==0&&M.strstart-V<=M.w_size-Z&&(M.match_length=de(M,V)),M.match_length>=O)if(R=l._tr_tally(M,M.strstart-M.match_start,M.match_length-O),M.lookahead-=M.match_length,M.match_length<=M.max_lazy_match&&M.lookahead>=O){for(M.match_length--;M.strstart++,M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+O-1])&M.hash_mask,V=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart,--M.match_length!=0;);M.strstart++}else M.strstart+=M.match_length,M.match_length=0,M.ins_h=M.window[M.strstart],M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+1])&M.hash_mask;else R=l._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++;if(R&&(j(M,!1),M.strm.avail_out===0))return A}return M.insert=M.strstart<O-1?M.strstart:O-1,he===f?(j(M,!0),M.strm.avail_out===0?H:G):M.last_lit&&(j(M,!1),M.strm.avail_out===0)?A:Q}function q(M,he){for(var V,R,N;;){if(M.lookahead<Z){if(me(M),M.lookahead<Z&&he===h)return A;if(M.lookahead===0)break}if(V=0,M.lookahead>=O&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+O-1])&M.hash_mask,V=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),M.prev_length=M.match_length,M.prev_match=M.match_start,M.match_length=O-1,V!==0&&M.prev_length<M.max_lazy_match&&M.strstart-V<=M.w_size-Z&&(M.match_length=de(M,V),M.match_length<=5&&(M.strategy===1||M.match_length===O&&4096<M.strstart-M.match_start)&&(M.match_length=O-1)),M.prev_length>=O&&M.match_length<=M.prev_length){for(N=M.strstart+M.lookahead-O,R=l._tr_tally(M,M.strstart-1-M.prev_match,M.prev_length-O),M.lookahead-=M.prev_length-1,M.prev_length-=2;++M.strstart<=N&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+O-1])&M.hash_mask,V=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),--M.prev_length!=0;);if(M.match_available=0,M.match_length=O-1,M.strstart++,R&&(j(M,!1),M.strm.avail_out===0))return A}else if(M.match_available){if((R=l._tr_tally(M,0,M.window[M.strstart-1]))&&j(M,!1),M.strstart++,M.lookahead--,M.strm.avail_out===0)return A}else M.match_available=1,M.strstart++,M.lookahead--}return M.match_available&&(R=l._tr_tally(M,0,M.window[M.strstart-1]),M.match_available=0),M.insert=M.strstart<O-1?M.strstart:O-1,he===f?(j(M,!0),M.strm.avail_out===0?H:G):M.last_lit&&(j(M,!1),M.strm.avail_out===0)?A:Q}function be(M,he,V,R,N){this.good_length=M,this.max_lazy=he,this.nice_length=V,this.max_chain=R,this.func=N}function pe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*I),this.dyn_dtree=new s.Buf16(2*(2*_+1)),this.bl_tree=new s.Buf16(2*(2*D+1)),ee(this.dyn_ltree),ee(this.dyn_dtree),ee(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(L+1),this.heap=new s.Buf16(2*T+1),ee(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*T+1),ee(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ie(M){var he;return M&&M.state?(M.total_in=M.total_out=0,M.data_type=x,(he=M.state).pending=0,he.pending_out=0,he.wrap<0&&(he.wrap=-he.wrap),he.status=he.wrap?$:F,M.adler=he.wrap===2?0:1,he.last_flush=h,l._tr_init(he),m):ne(M,b)}function le(M){var he=ie(M);return he===m&&function(V){V.window_size=2*V.w_size,ee(V.head),V.max_lazy_match=a[V.level].max_lazy,V.good_match=a[V.level].good_length,V.nice_match=a[V.level].nice_length,V.max_chain_length=a[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=O-1,V.match_available=0,V.ins_h=0}(M.state),he}function Ee(M,he,V,R,N,B){if(!M)return b;var ue=1;if(he===g&&(he=6),R<0?(ue=0,R=-R):15<R&&(ue=2,R-=16),N<1||k<N||V!==w||R<8||15<R||he<0||9<he||B<0||v<B)return ne(M,b);R===8&&(R=9);var ve=new pe;return(M.state=ve).strm=M,ve.wrap=ue,ve.gzhead=null,ve.w_bits=R,ve.w_size=1<<ve.w_bits,ve.w_mask=ve.w_size-1,ve.hash_bits=N+7,ve.hash_size=1<<ve.hash_bits,ve.hash_mask=ve.hash_size-1,ve.hash_shift=~~((ve.hash_bits+O-1)/O),ve.window=new s.Buf8(2*ve.w_size),ve.head=new s.Buf16(ve.hash_size),ve.prev=new s.Buf16(ve.w_size),ve.lit_bufsize=1<<N+6,ve.pending_buf_size=4*ve.lit_bufsize,ve.pending_buf=new s.Buf8(ve.pending_buf_size),ve.d_buf=1*ve.lit_bufsize,ve.l_buf=3*ve.lit_bufsize,ve.level=he,ve.strategy=B,ve.method=V,le(M)}a=[new be(0,0,0,0,function(M,he){var V=65535;for(V>M.pending_buf_size-5&&(V=M.pending_buf_size-5);;){if(M.lookahead<=1){if(me(M),M.lookahead===0&&he===h)return A;if(M.lookahead===0)break}M.strstart+=M.lookahead,M.lookahead=0;var R=M.block_start+V;if((M.strstart===0||M.strstart>=R)&&(M.lookahead=M.strstart-R,M.strstart=R,j(M,!1),M.strm.avail_out===0)||M.strstart-M.block_start>=M.w_size-Z&&(j(M,!1),M.strm.avail_out===0))return A}return M.insert=0,he===f?(j(M,!0),M.strm.avail_out===0?H:G):(M.strstart>M.block_start&&(j(M,!1),M.strm.avail_out),A)}),new be(4,4,8,4,K),new be(4,5,16,8,K),new be(4,6,32,32,K),new be(4,4,16,16,q),new be(8,16,32,32,q),new be(8,16,128,128,q),new be(8,32,128,256,q),new be(32,128,258,1024,q),new be(32,258,258,4096,q)],o.deflateInit=function(M,he){return Ee(M,he,w,15,8,0)},o.deflateInit2=Ee,o.deflateReset=le,o.deflateResetKeep=ie,o.deflateSetHeader=function(M,he){return M&&M.state?M.state.wrap!==2?b:(M.state.gzhead=he,m):b},o.deflate=function(M,he){var V,R,N,B;if(!M||!M.state||5<he||he<0)return M?ne(M,b):b;if(R=M.state,!M.output||!M.input&&M.avail_in!==0||R.status===666&&he!==f)return ne(M,M.avail_out===0?-5:b);if(R.strm=M,V=R.last_flush,R.last_flush=he,R.status===$)if(R.wrap===2)M.adler=0,ae(R,31),ae(R,139),ae(R,8),R.gzhead?(ae(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),ae(R,255&R.gzhead.time),ae(R,R.gzhead.time>>8&255),ae(R,R.gzhead.time>>16&255),ae(R,R.gzhead.time>>24&255),ae(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),ae(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(ae(R,255&R.gzhead.extra.length),ae(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(M.adler=u(M.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(ae(R,0),ae(R,0),ae(R,0),ae(R,0),ae(R,0),ae(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),ae(R,3),R.status=F);else{var ue=w+(R.w_bits-8<<4)<<8;ue|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(ue|=32),ue+=31-ue%31,R.status=F,re(R,ue),R.strstart!==0&&(re(R,M.adler>>>16),re(R,65535&M.adler)),M.adler=1}if(R.status===69)if(R.gzhead.extra){for(N=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>N&&(M.adler=u(M.adler,R.pending_buf,R.pending-N,N)),X(M),N=R.pending,R.pending!==R.pending_buf_size));)ae(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>N&&(M.adler=u(M.adler,R.pending_buf,R.pending-N,N)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){N=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>N&&(M.adler=u(M.adler,R.pending_buf,R.pending-N,N)),X(M),N=R.pending,R.pending===R.pending_buf_size)){B=1;break}B=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,ae(R,B)}while(B!==0);R.gzhead.hcrc&&R.pending>N&&(M.adler=u(M.adler,R.pending_buf,R.pending-N,N)),B===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){N=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>N&&(M.adler=u(M.adler,R.pending_buf,R.pending-N,N)),X(M),N=R.pending,R.pending===R.pending_buf_size)){B=1;break}B=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,ae(R,B)}while(B!==0);R.gzhead.hcrc&&R.pending>N&&(M.adler=u(M.adler,R.pending_buf,R.pending-N,N)),B===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&X(M),R.pending+2<=R.pending_buf_size&&(ae(R,255&M.adler),ae(R,M.adler>>8&255),M.adler=0,R.status=F)):R.status=F),R.pending!==0){if(X(M),M.avail_out===0)return R.last_flush=-1,m}else if(M.avail_in===0&&J(he)<=J(V)&&he!==f)return ne(M,-5);if(R.status===666&&M.avail_in!==0)return ne(M,-5);if(M.avail_in!==0||R.lookahead!==0||he!==h&&R.status!==666){var ve=R.strategy===2?function(se,ge){for(var Se;;){if(se.lookahead===0&&(me(se),se.lookahead===0)){if(ge===h)return A;break}if(se.match_length=0,Se=l._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++,Se&&(j(se,!1),se.strm.avail_out===0))return A}return se.insert=0,ge===f?(j(se,!0),se.strm.avail_out===0?H:G):se.last_lit&&(j(se,!1),se.strm.avail_out===0)?A:Q}(R,he):R.strategy===3?function(se,ge){for(var Se,Te,De,Le,Ke=se.window;;){if(se.lookahead<=W){if(me(se),se.lookahead<=W&&ge===h)return A;if(se.lookahead===0)break}if(se.match_length=0,se.lookahead>=O&&0<se.strstart&&(Te=Ke[De=se.strstart-1])===Ke[++De]&&Te===Ke[++De]&&Te===Ke[++De]){Le=se.strstart+W;do;while(Te===Ke[++De]&&Te===Ke[++De]&&Te===Ke[++De]&&Te===Ke[++De]&&Te===Ke[++De]&&Te===Ke[++De]&&Te===Ke[++De]&&Te===Ke[++De]&&De<Le);se.match_length=W-(Le-De),se.match_length>se.lookahead&&(se.match_length=se.lookahead)}if(se.match_length>=O?(Se=l._tr_tally(se,1,se.match_length-O),se.lookahead-=se.match_length,se.strstart+=se.match_length,se.match_length=0):(Se=l._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++),Se&&(j(se,!1),se.strm.avail_out===0))return A}return se.insert=0,ge===f?(j(se,!0),se.strm.avail_out===0?H:G):se.last_lit&&(j(se,!1),se.strm.avail_out===0)?A:Q}(R,he):a[R.level].func(R,he);if(ve!==H&&ve!==G||(R.status=666),ve===A||ve===H)return M.avail_out===0&&(R.last_flush=-1),m;if(ve===Q&&(he===1?l._tr_align(R):he!==5&&(l._tr_stored_block(R,0,0,!1),he===3&&(ee(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),X(M),M.avail_out===0))return R.last_flush=-1,m}return he!==f?m:R.wrap<=0?1:(R.wrap===2?(ae(R,255&M.adler),ae(R,M.adler>>8&255),ae(R,M.adler>>16&255),ae(R,M.adler>>24&255),ae(R,255&M.total_in),ae(R,M.total_in>>8&255),ae(R,M.total_in>>16&255),ae(R,M.total_in>>24&255)):(re(R,M.adler>>>16),re(R,65535&M.adler)),X(M),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?m:1)},o.deflateEnd=function(M){var he;return M&&M.state?(he=M.state.status)!==$&&he!==69&&he!==73&&he!==91&&he!==103&&he!==F&&he!==666?ne(M,b):(M.state=null,he===F?ne(M,-3):m):b},o.deflateSetDictionary=function(M,he){var V,R,N,B,ue,ve,se,ge,Se=he.length;if(!M||!M.state||(B=(V=M.state).wrap)===2||B===1&&V.status!==$||V.lookahead)return b;for(B===1&&(M.adler=c(M.adler,he,Se,0)),V.wrap=0,Se>=V.w_size&&(B===0&&(ee(V.head),V.strstart=0,V.block_start=0,V.insert=0),ge=new s.Buf8(V.w_size),s.arraySet(ge,he,Se-V.w_size,V.w_size,0),he=ge,Se=V.w_size),ue=M.avail_in,ve=M.next_in,se=M.input,M.avail_in=Se,M.next_in=0,M.input=he,me(V);V.lookahead>=O;){for(R=V.strstart,N=V.lookahead-(O-1);V.ins_h=(V.ins_h<<V.hash_shift^V.window[R+O-1])&V.hash_mask,V.prev[R&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=R,R++,--N;);V.strstart=R,V.lookahead=O-1,me(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=O-1,V.match_available=0,M.next_in=ve,M.input=se,M.avail_in=ue,V.wrap=B,m},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,i,o){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,i,o){i.exports=function(a,s){var l,c,u,d,h,f,m,b,g,v,x,w,k,T,_,D,I,L,O,W,Z,$,F,A,Q;l=a.state,c=a.next_in,A=a.input,u=c+(a.avail_in-5),d=a.next_out,Q=a.output,h=d-(s-a.avail_out),f=d+(a.avail_out-257),m=l.dmax,b=l.wsize,g=l.whave,v=l.wnext,x=l.window,w=l.hold,k=l.bits,T=l.lencode,_=l.distcode,D=(1<<l.lenbits)-1,I=(1<<l.distbits)-1;e:do{k<15&&(w+=A[c++]<<k,k+=8,w+=A[c++]<<k,k+=8),L=T[w&D];t:for(;;){if(w>>>=O=L>>>24,k-=O,(O=L>>>16&255)===0)Q[d++]=65535&L;else{if(!(16&O)){if((64&O)==0){L=T[(65535&L)+(w&(1<<O)-1)];continue t}if(32&O){l.mode=12;break e}a.msg="invalid literal/length code",l.mode=30;break e}W=65535&L,(O&=15)&&(k<O&&(w+=A[c++]<<k,k+=8),W+=w&(1<<O)-1,w>>>=O,k-=O),k<15&&(w+=A[c++]<<k,k+=8,w+=A[c++]<<k,k+=8),L=_[w&I];n:for(;;){if(w>>>=O=L>>>24,k-=O,!(16&(O=L>>>16&255))){if((64&O)==0){L=_[(65535&L)+(w&(1<<O)-1)];continue n}a.msg="invalid distance code",l.mode=30;break e}if(Z=65535&L,k<(O&=15)&&(w+=A[c++]<<k,(k+=8)<O&&(w+=A[c++]<<k,k+=8)),m<(Z+=w&(1<<O)-1)){a.msg="invalid distance too far back",l.mode=30;break e}if(w>>>=O,k-=O,(O=d-h)<Z){if(g<(O=Z-O)&&l.sane){a.msg="invalid distance too far back",l.mode=30;break e}if(F=x,($=0)===v){if($+=b-O,O<W){for(W-=O;Q[d++]=x[$++],--O;);$=d-Z,F=Q}}else if(v<O){if($+=b+v-O,(O-=v)<W){for(W-=O;Q[d++]=x[$++],--O;);if($=0,v<W){for(W-=O=v;Q[d++]=x[$++],--O;);$=d-Z,F=Q}}}else if($+=v-O,O<W){for(W-=O;Q[d++]=x[$++],--O;);$=d-Z,F=Q}for(;2<W;)Q[d++]=F[$++],Q[d++]=F[$++],Q[d++]=F[$++],W-=3;W&&(Q[d++]=F[$++],1<W&&(Q[d++]=F[$++]))}else{for($=d-Z;Q[d++]=Q[$++],Q[d++]=Q[$++],Q[d++]=Q[$++],2<(W-=3););W&&(Q[d++]=Q[$++],1<W&&(Q[d++]=Q[$++]))}break}}break}}while(c<u&&d<f);c-=W=k>>3,w&=(1<<(k-=W<<3))-1,a.next_in=c,a.next_out=d,a.avail_in=c<u?u-c+5:5-(c-u),a.avail_out=d<f?f-d+257:257-(d-f),l.hold=w,l.bits=k}},{}],49:[function(n,i,o){var a=n("../utils/common"),s=n("./adler32"),l=n("./crc32"),c=n("./inffast"),u=n("./inftrees"),d=1,h=2,f=0,m=-2,b=1,g=852,v=592;function x($){return($>>>24&255)+($>>>8&65280)+((65280&$)<<8)+((255&$)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k($){var F;return $&&$.state?(F=$.state,$.total_in=$.total_out=F.total=0,$.msg="",F.wrap&&($.adler=1&F.wrap),F.mode=b,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new a.Buf32(g),F.distcode=F.distdyn=new a.Buf32(v),F.sane=1,F.back=-1,f):m}function T($){var F;return $&&$.state?((F=$.state).wsize=0,F.whave=0,F.wnext=0,k($)):m}function _($,F){var A,Q;return $&&$.state?(Q=$.state,F<0?(A=0,F=-F):(A=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?m:(Q.window!==null&&Q.wbits!==F&&(Q.window=null),Q.wrap=A,Q.wbits=F,T($))):m}function D($,F){var A,Q;return $?(Q=new w,($.state=Q).window=null,(A=_($,F))!==f&&($.state=null),A):m}var I,L,O=!0;function W($){if(O){var F;for(I=new a.Buf32(512),L=new a.Buf32(32),F=0;F<144;)$.lens[F++]=8;for(;F<256;)$.lens[F++]=9;for(;F<280;)$.lens[F++]=7;for(;F<288;)$.lens[F++]=8;for(u(d,$.lens,0,288,I,0,$.work,{bits:9}),F=0;F<32;)$.lens[F++]=5;u(h,$.lens,0,32,L,0,$.work,{bits:5}),O=!1}$.lencode=I,$.lenbits=9,$.distcode=L,$.distbits=5}function Z($,F,A,Q){var H,G=$.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new a.Buf8(G.wsize)),Q>=G.wsize?(a.arraySet(G.window,F,A-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(Q<(H=G.wsize-G.wnext)&&(H=Q),a.arraySet(G.window,F,A-Q,H,G.wnext),(Q-=H)?(a.arraySet(G.window,F,A-Q,Q,0),G.wnext=Q,G.whave=G.wsize):(G.wnext+=H,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=H))),0}o.inflateReset=T,o.inflateReset2=_,o.inflateResetKeep=k,o.inflateInit=function($){return D($,15)},o.inflateInit2=D,o.inflate=function($,F){var A,Q,H,G,ne,J,ee,X,j,ae,re,de,me,K,q,be,pe,ie,le,Ee,M,he,V,R,N=0,B=new a.Buf8(4),ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!$||!$.state||!$.output||!$.input&&$.avail_in!==0)return m;(A=$.state).mode===12&&(A.mode=13),ne=$.next_out,H=$.output,ee=$.avail_out,G=$.next_in,Q=$.input,J=$.avail_in,X=A.hold,j=A.bits,ae=J,re=ee,he=f;e:for(;;)switch(A.mode){case b:if(A.wrap===0){A.mode=13;break}for(;j<16;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}if(2&A.wrap&&X===35615){B[A.check=0]=255&X,B[1]=X>>>8&255,A.check=l(A.check,B,2,0),j=X=0,A.mode=2;break}if(A.flags=0,A.head&&(A.head.done=!1),!(1&A.wrap)||(((255&X)<<8)+(X>>8))%31){$.msg="incorrect header check",A.mode=30;break}if((15&X)!=8){$.msg="unknown compression method",A.mode=30;break}if(j-=4,M=8+(15&(X>>>=4)),A.wbits===0)A.wbits=M;else if(M>A.wbits){$.msg="invalid window size",A.mode=30;break}A.dmax=1<<M,$.adler=A.check=1,A.mode=512&X?10:12,j=X=0;break;case 2:for(;j<16;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}if(A.flags=X,(255&A.flags)!=8){$.msg="unknown compression method",A.mode=30;break}if(57344&A.flags){$.msg="unknown header flags set",A.mode=30;break}A.head&&(A.head.text=X>>8&1),512&A.flags&&(B[0]=255&X,B[1]=X>>>8&255,A.check=l(A.check,B,2,0)),j=X=0,A.mode=3;case 3:for(;j<32;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}A.head&&(A.head.time=X),512&A.flags&&(B[0]=255&X,B[1]=X>>>8&255,B[2]=X>>>16&255,B[3]=X>>>24&255,A.check=l(A.check,B,4,0)),j=X=0,A.mode=4;case 4:for(;j<16;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}A.head&&(A.head.xflags=255&X,A.head.os=X>>8),512&A.flags&&(B[0]=255&X,B[1]=X>>>8&255,A.check=l(A.check,B,2,0)),j=X=0,A.mode=5;case 5:if(1024&A.flags){for(;j<16;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}A.length=X,A.head&&(A.head.extra_len=X),512&A.flags&&(B[0]=255&X,B[1]=X>>>8&255,A.check=l(A.check,B,2,0)),j=X=0}else A.head&&(A.head.extra=null);A.mode=6;case 6:if(1024&A.flags&&(J<(de=A.length)&&(de=J),de&&(A.head&&(M=A.head.extra_len-A.length,A.head.extra||(A.head.extra=new Array(A.head.extra_len)),a.arraySet(A.head.extra,Q,G,de,M)),512&A.flags&&(A.check=l(A.check,Q,de,G)),J-=de,G+=de,A.length-=de),A.length))break e;A.length=0,A.mode=7;case 7:if(2048&A.flags){if(J===0)break e;for(de=0;M=Q[G+de++],A.head&&M&&A.length<65536&&(A.head.name+=String.fromCharCode(M)),M&&de<J;);if(512&A.flags&&(A.check=l(A.check,Q,de,G)),J-=de,G+=de,M)break e}else A.head&&(A.head.name=null);A.length=0,A.mode=8;case 8:if(4096&A.flags){if(J===0)break e;for(de=0;M=Q[G+de++],A.head&&M&&A.length<65536&&(A.head.comment+=String.fromCharCode(M)),M&&de<J;);if(512&A.flags&&(A.check=l(A.check,Q,de,G)),J-=de,G+=de,M)break e}else A.head&&(A.head.comment=null);A.mode=9;case 9:if(512&A.flags){for(;j<16;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}if(X!==(65535&A.check)){$.msg="header crc mismatch",A.mode=30;break}j=X=0}A.head&&(A.head.hcrc=A.flags>>9&1,A.head.done=!0),$.adler=A.check=0,A.mode=12;break;case 10:for(;j<32;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}$.adler=A.check=x(X),j=X=0,A.mode=11;case 11:if(A.havedict===0)return $.next_out=ne,$.avail_out=ee,$.next_in=G,$.avail_in=J,A.hold=X,A.bits=j,2;$.adler=A.check=1,A.mode=12;case 12:if(F===5||F===6)break e;case 13:if(A.last){X>>>=7&j,j-=7&j,A.mode=27;break}for(;j<3;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}switch(A.last=1&X,j-=1,3&(X>>>=1)){case 0:A.mode=14;break;case 1:if(W(A),A.mode=20,F!==6)break;X>>>=2,j-=2;break e;case 2:A.mode=17;break;case 3:$.msg="invalid block type",A.mode=30}X>>>=2,j-=2;break;case 14:for(X>>>=7&j,j-=7&j;j<32;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}if((65535&X)!=(X>>>16^65535)){$.msg="invalid stored block lengths",A.mode=30;break}if(A.length=65535&X,j=X=0,A.mode=15,F===6)break e;case 15:A.mode=16;case 16:if(de=A.length){if(J<de&&(de=J),ee<de&&(de=ee),de===0)break e;a.arraySet(H,Q,G,de,ne),J-=de,G+=de,ee-=de,ne+=de,A.length-=de;break}A.mode=12;break;case 17:for(;j<14;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}if(A.nlen=257+(31&X),X>>>=5,j-=5,A.ndist=1+(31&X),X>>>=5,j-=5,A.ncode=4+(15&X),X>>>=4,j-=4,286<A.nlen||30<A.ndist){$.msg="too many length or distance symbols",A.mode=30;break}A.have=0,A.mode=18;case 18:for(;A.have<A.ncode;){for(;j<3;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}A.lens[ue[A.have++]]=7&X,X>>>=3,j-=3}for(;A.have<19;)A.lens[ue[A.have++]]=0;if(A.lencode=A.lendyn,A.lenbits=7,V={bits:A.lenbits},he=u(0,A.lens,0,19,A.lencode,0,A.work,V),A.lenbits=V.bits,he){$.msg="invalid code lengths set",A.mode=30;break}A.have=0,A.mode=19;case 19:for(;A.have<A.nlen+A.ndist;){for(;be=(N=A.lencode[X&(1<<A.lenbits)-1])>>>16&255,pe=65535&N,!((q=N>>>24)<=j);){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}if(pe<16)X>>>=q,j-=q,A.lens[A.have++]=pe;else{if(pe===16){for(R=q+2;j<R;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}if(X>>>=q,j-=q,A.have===0){$.msg="invalid bit length repeat",A.mode=30;break}M=A.lens[A.have-1],de=3+(3&X),X>>>=2,j-=2}else if(pe===17){for(R=q+3;j<R;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}j-=q,M=0,de=3+(7&(X>>>=q)),X>>>=3,j-=3}else{for(R=q+7;j<R;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}j-=q,M=0,de=11+(127&(X>>>=q)),X>>>=7,j-=7}if(A.have+de>A.nlen+A.ndist){$.msg="invalid bit length repeat",A.mode=30;break}for(;de--;)A.lens[A.have++]=M}}if(A.mode===30)break;if(A.lens[256]===0){$.msg="invalid code -- missing end-of-block",A.mode=30;break}if(A.lenbits=9,V={bits:A.lenbits},he=u(d,A.lens,0,A.nlen,A.lencode,0,A.work,V),A.lenbits=V.bits,he){$.msg="invalid literal/lengths set",A.mode=30;break}if(A.distbits=6,A.distcode=A.distdyn,V={bits:A.distbits},he=u(h,A.lens,A.nlen,A.ndist,A.distcode,0,A.work,V),A.distbits=V.bits,he){$.msg="invalid distances set",A.mode=30;break}if(A.mode=20,F===6)break e;case 20:A.mode=21;case 21:if(6<=J&&258<=ee){$.next_out=ne,$.avail_out=ee,$.next_in=G,$.avail_in=J,A.hold=X,A.bits=j,c($,re),ne=$.next_out,H=$.output,ee=$.avail_out,G=$.next_in,Q=$.input,J=$.avail_in,X=A.hold,j=A.bits,A.mode===12&&(A.back=-1);break}for(A.back=0;be=(N=A.lencode[X&(1<<A.lenbits)-1])>>>16&255,pe=65535&N,!((q=N>>>24)<=j);){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}if(be&&(240&be)==0){for(ie=q,le=be,Ee=pe;be=(N=A.lencode[Ee+((X&(1<<ie+le)-1)>>ie)])>>>16&255,pe=65535&N,!(ie+(q=N>>>24)<=j);){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}X>>>=ie,j-=ie,A.back+=ie}if(X>>>=q,j-=q,A.back+=q,A.length=pe,be===0){A.mode=26;break}if(32&be){A.back=-1,A.mode=12;break}if(64&be){$.msg="invalid literal/length code",A.mode=30;break}A.extra=15&be,A.mode=22;case 22:if(A.extra){for(R=A.extra;j<R;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}A.length+=X&(1<<A.extra)-1,X>>>=A.extra,j-=A.extra,A.back+=A.extra}A.was=A.length,A.mode=23;case 23:for(;be=(N=A.distcode[X&(1<<A.distbits)-1])>>>16&255,pe=65535&N,!((q=N>>>24)<=j);){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}if((240&be)==0){for(ie=q,le=be,Ee=pe;be=(N=A.distcode[Ee+((X&(1<<ie+le)-1)>>ie)])>>>16&255,pe=65535&N,!(ie+(q=N>>>24)<=j);){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}X>>>=ie,j-=ie,A.back+=ie}if(X>>>=q,j-=q,A.back+=q,64&be){$.msg="invalid distance code",A.mode=30;break}A.offset=pe,A.extra=15&be,A.mode=24;case 24:if(A.extra){for(R=A.extra;j<R;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}A.offset+=X&(1<<A.extra)-1,X>>>=A.extra,j-=A.extra,A.back+=A.extra}if(A.offset>A.dmax){$.msg="invalid distance too far back",A.mode=30;break}A.mode=25;case 25:if(ee===0)break e;if(de=re-ee,A.offset>de){if((de=A.offset-de)>A.whave&&A.sane){$.msg="invalid distance too far back",A.mode=30;break}me=de>A.wnext?(de-=A.wnext,A.wsize-de):A.wnext-de,de>A.length&&(de=A.length),K=A.window}else K=H,me=ne-A.offset,de=A.length;for(ee<de&&(de=ee),ee-=de,A.length-=de;H[ne++]=K[me++],--de;);A.length===0&&(A.mode=21);break;case 26:if(ee===0)break e;H[ne++]=A.length,ee--,A.mode=21;break;case 27:if(A.wrap){for(;j<32;){if(J===0)break e;J--,X|=Q[G++]<<j,j+=8}if(re-=ee,$.total_out+=re,A.total+=re,re&&($.adler=A.check=A.flags?l(A.check,H,re,ne-re):s(A.check,H,re,ne-re)),re=ee,(A.flags?X:x(X))!==A.check){$.msg="incorrect data check",A.mode=30;break}j=X=0}A.mode=28;case 28:if(A.wrap&&A.flags){for(;j<32;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}if(X!==(4294967295&A.total)){$.msg="incorrect length check",A.mode=30;break}j=X=0}A.mode=29;case 29:he=1;break e;case 30:he=-3;break e;case 31:return-4;case 32:default:return m}return $.next_out=ne,$.avail_out=ee,$.next_in=G,$.avail_in=J,A.hold=X,A.bits=j,(A.wsize||re!==$.avail_out&&A.mode<30&&(A.mode<27||F!==4))&&Z($,$.output,$.next_out,re-$.avail_out)?(A.mode=31,-4):(ae-=$.avail_in,re-=$.avail_out,$.total_in+=ae,$.total_out+=re,A.total+=re,A.wrap&&re&&($.adler=A.check=A.flags?l(A.check,H,re,$.next_out-re):s(A.check,H,re,$.next_out-re)),$.data_type=A.bits+(A.last?64:0)+(A.mode===12?128:0)+(A.mode===20||A.mode===15?256:0),(ae==0&&re===0||F===4)&&he===f&&(he=-5),he)},o.inflateEnd=function($){if(!$||!$.state)return m;var F=$.state;return F.window&&(F.window=null),$.state=null,f},o.inflateGetHeader=function($,F){var A;return $&&$.state?(2&(A=$.state).wrap)==0?m:((A.head=F).done=!1,f):m},o.inflateSetDictionary=function($,F){var A,Q=F.length;return $&&$.state?(A=$.state).wrap!==0&&A.mode!==11?m:A.mode===11&&s(1,F,Q,0)!==A.check?-3:Z($,F,Q,Q)?(A.mode=31,-4):(A.havedict=1,f):m},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,i,o){var a=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(d,h,f,m,b,g,v,x){var w,k,T,_,D,I,L,O,W,Z=x.bits,$=0,F=0,A=0,Q=0,H=0,G=0,ne=0,J=0,ee=0,X=0,j=null,ae=0,re=new a.Buf16(16),de=new a.Buf16(16),me=null,K=0;for($=0;$<=15;$++)re[$]=0;for(F=0;F<m;F++)re[h[f+F]]++;for(H=Z,Q=15;1<=Q&&re[Q]===0;Q--);if(Q<H&&(H=Q),Q===0)return b[g++]=20971520,b[g++]=20971520,x.bits=1,0;for(A=1;A<Q&&re[A]===0;A++);for(H<A&&(H=A),$=J=1;$<=15;$++)if(J<<=1,(J-=re[$])<0)return-1;if(0<J&&(d===0||Q!==1))return-1;for(de[1]=0,$=1;$<15;$++)de[$+1]=de[$]+re[$];for(F=0;F<m;F++)h[f+F]!==0&&(v[de[h[f+F]]++]=F);if(I=d===0?(j=me=v,19):d===1?(j=s,ae-=257,me=l,K-=257,256):(j=c,me=u,-1),$=A,D=g,ne=F=X=0,T=-1,_=(ee=1<<(G=H))-1,d===1&&852<ee||d===2&&592<ee)return 1;for(;;){for(L=$-ne,W=v[F]<I?(O=0,v[F]):v[F]>I?(O=me[K+v[F]],j[ae+v[F]]):(O=96,0),w=1<<$-ne,A=k=1<<G;b[D+(X>>ne)+(k-=w)]=L<<24|O<<16|W|0,k!==0;);for(w=1<<$-1;X&w;)w>>=1;if(w!==0?(X&=w-1,X+=w):X=0,F++,--re[$]==0){if($===Q)break;$=h[f+v[F]]}if(H<$&&(X&_)!==T){for(ne===0&&(ne=H),D+=A,J=1<<(G=$-ne);G+ne<Q&&!((J-=re[G+ne])<=0);)G++,J<<=1;if(ee+=1<<G,d===1&&852<ee||d===2&&592<ee)return 1;b[T=X&_]=H<<24|G<<16|D-g|0}}return X!==0&&(b[D+X]=$-ne<<24|64<<16|0),x.bits=H,0}},{"../utils/common":41}],51:[function(n,i,o){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,i,o){var a=n("../utils/common"),s=0,l=1;function c(N){for(var B=N.length;0<=--B;)N[B]=0}var u=0,d=29,h=256,f=h+1+d,m=30,b=19,g=2*f+1,v=15,x=16,w=7,k=256,T=16,_=17,D=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=new Array(2*(f+2));c(Z);var $=new Array(2*m);c($);var F=new Array(512);c(F);var A=new Array(256);c(A);var Q=new Array(d);c(Q);var H,G,ne,J=new Array(m);function ee(N,B,ue,ve,se){this.static_tree=N,this.extra_bits=B,this.extra_base=ue,this.elems=ve,this.max_length=se,this.has_stree=N&&N.length}function X(N,B){this.dyn_tree=N,this.max_code=0,this.stat_desc=B}function j(N){return N<256?F[N]:F[256+(N>>>7)]}function ae(N,B){N.pending_buf[N.pending++]=255&B,N.pending_buf[N.pending++]=B>>>8&255}function re(N,B,ue){N.bi_valid>x-ue?(N.bi_buf|=B<<N.bi_valid&65535,ae(N,N.bi_buf),N.bi_buf=B>>x-N.bi_valid,N.bi_valid+=ue-x):(N.bi_buf|=B<<N.bi_valid&65535,N.bi_valid+=ue)}function de(N,B,ue){re(N,ue[2*B],ue[2*B+1])}function me(N,B){for(var ue=0;ue|=1&N,N>>>=1,ue<<=1,0<--B;);return ue>>>1}function K(N,B,ue){var ve,se,ge=new Array(v+1),Se=0;for(ve=1;ve<=v;ve++)ge[ve]=Se=Se+ue[ve-1]<<1;for(se=0;se<=B;se++){var Te=N[2*se+1];Te!==0&&(N[2*se]=me(ge[Te]++,Te))}}function q(N){var B;for(B=0;B<f;B++)N.dyn_ltree[2*B]=0;for(B=0;B<m;B++)N.dyn_dtree[2*B]=0;for(B=0;B<b;B++)N.bl_tree[2*B]=0;N.dyn_ltree[2*k]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function be(N){8<N.bi_valid?ae(N,N.bi_buf):0<N.bi_valid&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function pe(N,B,ue,ve){var se=2*B,ge=2*ue;return N[se]<N[ge]||N[se]===N[ge]&&ve[B]<=ve[ue]}function ie(N,B,ue){for(var ve=N.heap[ue],se=ue<<1;se<=N.heap_len&&(se<N.heap_len&&pe(B,N.heap[se+1],N.heap[se],N.depth)&&se++,!pe(B,ve,N.heap[se],N.depth));)N.heap[ue]=N.heap[se],ue=se,se<<=1;N.heap[ue]=ve}function le(N,B,ue){var ve,se,ge,Se,Te=0;if(N.last_lit!==0)for(;ve=N.pending_buf[N.d_buf+2*Te]<<8|N.pending_buf[N.d_buf+2*Te+1],se=N.pending_buf[N.l_buf+Te],Te++,ve===0?de(N,se,B):(de(N,(ge=A[se])+h+1,B),(Se=I[ge])!==0&&re(N,se-=Q[ge],Se),de(N,ge=j(--ve),ue),(Se=L[ge])!==0&&re(N,ve-=J[ge],Se)),Te<N.last_lit;);de(N,k,B)}function Ee(N,B){var ue,ve,se,ge=B.dyn_tree,Se=B.stat_desc.static_tree,Te=B.stat_desc.has_stree,De=B.stat_desc.elems,Le=-1;for(N.heap_len=0,N.heap_max=g,ue=0;ue<De;ue++)ge[2*ue]!==0?(N.heap[++N.heap_len]=Le=ue,N.depth[ue]=0):ge[2*ue+1]=0;for(;N.heap_len<2;)ge[2*(se=N.heap[++N.heap_len]=Le<2?++Le:0)]=1,N.depth[se]=0,N.opt_len--,Te&&(N.static_len-=Se[2*se+1]);for(B.max_code=Le,ue=N.heap_len>>1;1<=ue;ue--)ie(N,ge,ue);for(se=De;ue=N.heap[1],N.heap[1]=N.heap[N.heap_len--],ie(N,ge,1),ve=N.heap[1],N.heap[--N.heap_max]=ue,N.heap[--N.heap_max]=ve,ge[2*se]=ge[2*ue]+ge[2*ve],N.depth[se]=(N.depth[ue]>=N.depth[ve]?N.depth[ue]:N.depth[ve])+1,ge[2*ue+1]=ge[2*ve+1]=se,N.heap[1]=se++,ie(N,ge,1),2<=N.heap_len;);N.heap[--N.heap_max]=N.heap[1],function(Ke,pt){var jt,Ne,Ye,Ze,Pe,Qe,Ce=pt.dyn_tree,$e=pt.max_code,vt=pt.stat_desc.static_tree,zt=pt.stat_desc.has_stree,Yt=pt.stat_desc.extra_bits,fe=pt.stat_desc.extra_base,xe=pt.stat_desc.max_length,_e=0;for(Ze=0;Ze<=v;Ze++)Ke.bl_count[Ze]=0;for(Ce[2*Ke.heap[Ke.heap_max]+1]=0,jt=Ke.heap_max+1;jt<g;jt++)xe<(Ze=Ce[2*Ce[2*(Ne=Ke.heap[jt])+1]+1]+1)&&(Ze=xe,_e++),Ce[2*Ne+1]=Ze,$e<Ne||(Ke.bl_count[Ze]++,Pe=0,fe<=Ne&&(Pe=Yt[Ne-fe]),Qe=Ce[2*Ne],Ke.opt_len+=Qe*(Ze+Pe),zt&&(Ke.static_len+=Qe*(vt[2*Ne+1]+Pe)));if(_e!==0){do{for(Ze=xe-1;Ke.bl_count[Ze]===0;)Ze--;Ke.bl_count[Ze]--,Ke.bl_count[Ze+1]+=2,Ke.bl_count[xe]--,_e-=2}while(0<_e);for(Ze=xe;Ze!==0;Ze--)for(Ne=Ke.bl_count[Ze];Ne!==0;)$e<(Ye=Ke.heap[--jt])||(Ce[2*Ye+1]!==Ze&&(Ke.opt_len+=(Ze-Ce[2*Ye+1])*Ce[2*Ye],Ce[2*Ye+1]=Ze),Ne--)}}(N,B),K(ge,Le,N.bl_count)}function M(N,B,ue){var ve,se,ge=-1,Se=B[1],Te=0,De=7,Le=4;for(Se===0&&(De=138,Le=3),B[2*(ue+1)+1]=65535,ve=0;ve<=ue;ve++)se=Se,Se=B[2*(ve+1)+1],++Te<De&&se===Se||(Te<Le?N.bl_tree[2*se]+=Te:se!==0?(se!==ge&&N.bl_tree[2*se]++,N.bl_tree[2*T]++):Te<=10?N.bl_tree[2*_]++:N.bl_tree[2*D]++,ge=se,Le=(Te=0)===Se?(De=138,3):se===Se?(De=6,3):(De=7,4))}function he(N,B,ue){var ve,se,ge=-1,Se=B[1],Te=0,De=7,Le=4;for(Se===0&&(De=138,Le=3),ve=0;ve<=ue;ve++)if(se=Se,Se=B[2*(ve+1)+1],!(++Te<De&&se===Se)){if(Te<Le)for(;de(N,se,N.bl_tree),--Te!=0;);else se!==0?(se!==ge&&(de(N,se,N.bl_tree),Te--),de(N,T,N.bl_tree),re(N,Te-3,2)):Te<=10?(de(N,_,N.bl_tree),re(N,Te-3,3)):(de(N,D,N.bl_tree),re(N,Te-11,7));ge=se,Le=(Te=0)===Se?(De=138,3):se===Se?(De=6,3):(De=7,4)}}c(J);var V=!1;function R(N,B,ue,ve){re(N,(u<<1)+(ve?1:0),3),function(se,ge,Se,Te){be(se),ae(se,Se),ae(se,~Se),a.arraySet(se.pending_buf,se.window,ge,Se,se.pending),se.pending+=Se}(N,B,ue)}o._tr_init=function(N){V||(function(){var B,ue,ve,se,ge,Se=new Array(v+1);for(se=ve=0;se<d-1;se++)for(Q[se]=ve,B=0;B<1<<I[se];B++)A[ve++]=se;for(A[ve-1]=se,se=ge=0;se<16;se++)for(J[se]=ge,B=0;B<1<<L[se];B++)F[ge++]=se;for(ge>>=7;se<m;se++)for(J[se]=ge<<7,B=0;B<1<<L[se]-7;B++)F[256+ge++]=se;for(ue=0;ue<=v;ue++)Se[ue]=0;for(B=0;B<=143;)Z[2*B+1]=8,B++,Se[8]++;for(;B<=255;)Z[2*B+1]=9,B++,Se[9]++;for(;B<=279;)Z[2*B+1]=7,B++,Se[7]++;for(;B<=287;)Z[2*B+1]=8,B++,Se[8]++;for(K(Z,f+1,Se),B=0;B<m;B++)$[2*B+1]=5,$[2*B]=me(B,5);H=new ee(Z,I,h+1,f,v),G=new ee($,L,0,m,v),ne=new ee(new Array(0),O,0,b,w)}(),V=!0),N.l_desc=new X(N.dyn_ltree,H),N.d_desc=new X(N.dyn_dtree,G),N.bl_desc=new X(N.bl_tree,ne),N.bi_buf=0,N.bi_valid=0,q(N)},o._tr_stored_block=R,o._tr_flush_block=function(N,B,ue,ve){var se,ge,Se=0;0<N.level?(N.strm.data_type===2&&(N.strm.data_type=function(Te){var De,Le=4093624447;for(De=0;De<=31;De++,Le>>>=1)if(1&Le&&Te.dyn_ltree[2*De]!==0)return s;if(Te.dyn_ltree[18]!==0||Te.dyn_ltree[20]!==0||Te.dyn_ltree[26]!==0)return l;for(De=32;De<h;De++)if(Te.dyn_ltree[2*De]!==0)return l;return s}(N)),Ee(N,N.l_desc),Ee(N,N.d_desc),Se=function(Te){var De;for(M(Te,Te.dyn_ltree,Te.l_desc.max_code),M(Te,Te.dyn_dtree,Te.d_desc.max_code),Ee(Te,Te.bl_desc),De=b-1;3<=De&&Te.bl_tree[2*W[De]+1]===0;De--);return Te.opt_len+=3*(De+1)+5+5+4,De}(N),se=N.opt_len+3+7>>>3,(ge=N.static_len+3+7>>>3)<=se&&(se=ge)):se=ge=ue+5,ue+4<=se&&B!==-1?R(N,B,ue,ve):N.strategy===4||ge===se?(re(N,2+(ve?1:0),3),le(N,Z,$)):(re(N,4+(ve?1:0),3),function(Te,De,Le,Ke){var pt;for(re(Te,De-257,5),re(Te,Le-1,5),re(Te,Ke-4,4),pt=0;pt<Ke;pt++)re(Te,Te.bl_tree[2*W[pt]+1],3);he(Te,Te.dyn_ltree,De-1),he(Te,Te.dyn_dtree,Le-1)}(N,N.l_desc.max_code+1,N.d_desc.max_code+1,Se+1),le(N,N.dyn_ltree,N.dyn_dtree)),q(N),ve&&be(N)},o._tr_tally=function(N,B,ue){return N.pending_buf[N.d_buf+2*N.last_lit]=B>>>8&255,N.pending_buf[N.d_buf+2*N.last_lit+1]=255&B,N.pending_buf[N.l_buf+N.last_lit]=255&ue,N.last_lit++,B===0?N.dyn_ltree[2*ue]++:(N.matches++,B--,N.dyn_ltree[2*(A[ue]+h+1)]++,N.dyn_dtree[2*j(B)]++),N.last_lit===N.lit_bufsize-1},o._tr_align=function(N){re(N,2,3),de(N,k,Z),function(B){B.bi_valid===16?(ae(B,B.bi_buf),B.bi_buf=0,B.bi_valid=0):8<=B.bi_valid&&(B.pending_buf[B.pending++]=255&B.bi_buf,B.bi_buf>>=8,B.bi_valid-=8)}(N)}},{"../utils/common":41}],53:[function(n,i,o){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,i,o){(function(a){(function(s,l){if(!s.setImmediate){var c,u,d,h,f=1,m={},b=!1,g=s.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(s);v=v&&v.setTimeout?v:s,c={}.toString.call(s.process)==="[object process]"?function(T){fn.nextTick(function(){w(T)})}:function(){if(s.postMessage&&!s.importScripts){var T=!0,_=s.onmessage;return s.onmessage=function(){T=!1},s.postMessage("","*"),s.onmessage=_,T}}()?(h="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",k,!1):s.attachEvent("onmessage",k),function(T){s.postMessage(h+T,"*")}):s.MessageChannel?((d=new MessageChannel).port1.onmessage=function(T){w(T.data)},function(T){d.port2.postMessage(T)}):g&&"onreadystatechange"in g.createElement("script")?(u=g.documentElement,function(T){var _=g.createElement("script");_.onreadystatechange=function(){w(T),_.onreadystatechange=null,u.removeChild(_),_=null},u.appendChild(_)}):function(T){setTimeout(w,0,T)},v.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var _=new Array(arguments.length-1),D=0;D<_.length;D++)_[D]=arguments[D+1];var I={callback:T,args:_};return m[f]=I,c(f),f++},v.clearImmediate=x}function x(T){delete m[T]}function w(T){if(b)setTimeout(w,0,T);else{var _=m[T];if(_){b=!0;try{(function(D){var I=D.callback,L=D.args;switch(L.length){case 0:I();break;case 1:I(L[0]);break;case 2:I(L[0],L[1]);break;case 3:I(L[0],L[1],L[2]);break;default:I.apply(l,L)}})(_)}finally{x(T),b=!1}}}}function k(T){T.source===s&&typeof T.data=="string"&&T.data.indexOf(h)===0&&w(+T.data.slice(h.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof fl<"u"?fl:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Bpe);var ert=Bpe.exports;const trt=Afe(ert);var O3={exports:{}},nrt={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function rrt(r){return r&&r.replace?r.replace(/([&"<>'])/g,function(e,n){return nrt[n]}):r}var irt=rrt,aM=irt,uX=bP.Stream,ort="    ";function art(r,e){typeof e!="object"&&(e={indent:e});var n=e.stream?new uX:null,i="",o=!1,a=e.indent?e.indent===!0?ort:e.indent:"",s=!0;function l(f){s?fn.nextTick(f):f()}function c(f,m){if(m!==void 0&&(i+=m),f&&!o&&(n=n||new uX,o=!0),f&&o){var b=i;l(function(){n.emit("data",b)}),i=""}}function u(f,m){MP(c,P3(f,a,a?1:0),m)}function d(){if(n){var f=i;l(function(){n.emit("data",f),n.emit("end"),n.readable=!1,n.emit("close")})}}function h(f){var m=f.encoding||"UTF-8",b={version:"1.0",encoding:m};f.standalone&&(b.standalone=f.standalone),u({"?xml":{_attr:b}}),i=i.replace("/>","?>")}return l(function(){s=!1}),e.declaration&&h(e.declaration),r&&r.forEach?r.forEach(function(f,m){var b;m+1===r.length&&(b=d),u(f,b)}):u(r,d),n?(n.readable=!0,n):i}function srt(){var r=Array.prototype.slice.call(arguments),e={_elem:P3(r)};return e.push=function(n){if(!this.append)throw new Error("not assigned to a parent!");var i=this,o=this._elem.indent;MP(this.append,P3(n,o,this._elem.icount+(o?1:0)),function(){i.append(!0)})},e.close=function(n){n!==void 0&&this.push(n),this.end&&this.end()},e}function lrt(r,e){return new Array(e||0).join(r||"")}function P3(r,e,n){n=n||0;var i=lrt(e,n),o,a=r,s=!1;if(typeof r=="object"){var l=Object.keys(r);if(o=l[0],a=r[o],a&&a._elem)return a._elem.name=o,a._elem.icount=n,a._elem.indent=e,a._elem.indents=i,a._elem.interrupt=a,a._elem}var c=[],u=[],d;function h(f){var m=Object.keys(f);m.forEach(function(b){c.push(crt(b,f[b]))})}switch(typeof a){case"object":if(a===null)break;a._attr&&h(a._attr),a._cdata&&u.push(("<![CDATA["+a._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),a.forEach&&(d=!1,u.push(""),a.forEach(function(f){if(typeof f=="object"){var m=Object.keys(f)[0];m=="_attr"?h(f._attr):u.push(P3(f,e,n+1))}else u.pop(),d=!0,u.push(aM(f))}),d||u.push(""));break;default:u.push(aM(a))}return{name:o,interrupt:s,attributes:c,content:u,icount:n,indents:i,indent:e}}function MP(r,e,n){if(typeof e!="object")return r(!1,e);var i=e.interrupt?1:e.content.length;function o(){for(;e.content.length;){var s=e.content.shift();if(s!==void 0){if(a(s))return;MP(r,s)}}r(!1,(i>1?e.indents:"")+(e.name?"</"+e.name+">":"")+(e.indent&&!n?`
`:"")),n&&n()}function a(s){return s.interrupt?(s.interrupt.append=r,s.interrupt.end=o,s.interrupt=!1,r(!0),!0):!1}if(r(!1,e.indents+(e.name?"<"+e.name:"")+(e.attributes.length?" "+e.attributes.join(" "):"")+(i?e.name?">":"":e.name?"/>":"")+(e.indent&&i>1?`
`:"")),!i)return r(!1,e.indent?`
`:"");a(e)||o()}function crt(r,e){return r+'="'+aM(e)+'"'}O3.exports=art;O3.exports.element=O3.exports.Element=srt;var urt=O3.exports;const Lr=Afe(urt),dX=0,hX=32,drt=32,hrt=(r,e)=>{const n=e.replace(/-/g,"");if(n.length!==drt)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const o=n.replace(/(..)/g,"$1 ").trim().split(" ").map(c=>parseInt(c,16));o.reverse();const s=r.slice(dX,hX).map((c,u)=>c^o[u%o.length]);return Buffer.concat([r.slice(0,dX),s,r.slice(hX)])};class frt{format(e,n={stack:[]}){const i=e.prepForXml(n);if(i)return i;throw Error("XMLComponent did not format correctly")}}class prt{replace(e,n,i){let o=e;return n.forEach((a,s)=>{o=o.replace(new RegExp(`{${a.fileName}}`,"g"),(i+s).toString())}),o}getMediaData(e,n){return n.Array.filter(i=>e.search(`{${i.fileName}}`)>0)}}class mrt{replace(e,n){let i=e;for(const o of n)i=i.replace(new RegExp(`{${o.reference}-${o.instance}}`,"g"),o.numId.toString());return i}}class grt{constructor(){qe(this,"formatter"),qe(this,"imageReplacer"),qe(this,"numberingReplacer"),this.formatter=new frt,this.imageReplacer=new prt,this.numberingReplacer=new mrt}compile(e,n){const i=new trt,o=this.xmlifyFile(e,n),a=new Map(Object.entries(o));for(const[,s]of a)if(Array.isArray(s))for(const l of s)i.file(l.path,l.data);else i.file(s.path,s.data);for(const s of e.Media.Array)s.type!=="svg"?i.file(`word/media/${s.fileName}`,s.data):(i.file(`word/media/${s.fileName}`,s.data),i.file(`word/media/${s.fallback.fileName}`,s.fallback.data));for(const{data:s,name:l,fontKey:c}of e.FontTable.fontOptionsWithKey){const[u]=l.split(".");i.file(`word/fonts/${u}.odttf`,hrt(s,c))}return i}xmlifyFile(e,n){const i=e.Document.Relationships.RelationshipCount+1,o=Lr(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),a=this.imageReplacer.getMediaData(o,e.Media);return{Relationships:{data:(a.forEach((s,l)=>{e.Document.Relationships.createRelationship(i+l,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${s.fileName}`)}),Lr(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const s=this.imageReplacer.replace(o,a,i);return this.numberingReplacer.replace(s,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const s=Lr(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(s,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Lr(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Lr(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Lr(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((s,l)=>{const c=Lr(this.formatter.format(s.View,{viewWrapper:s,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(c,e.Media).forEach((d,h)=>{s.Relationships.createRelationship(h,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${d.fileName}`)}),{data:Lr(this.formatter.format(s.Relationships,{viewWrapper:s,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${l+1}.xml.rels`}}),FooterRelationships:e.Footers.map((s,l)=>{const c=Lr(this.formatter.format(s.View,{viewWrapper:s,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(c,e.Media).forEach((d,h)=>{s.Relationships.createRelationship(h,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${d.fileName}`)}),{data:Lr(this.formatter.format(s.Relationships,{viewWrapper:s,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${l+1}.xml.rels`}}),Headers:e.Headers.map((s,l)=>{const c=Lr(this.formatter.format(s.View,{viewWrapper:s,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),u=this.imageReplacer.getMediaData(c,e.Media),d=this.imageReplacer.replace(c,u,0);return{data:this.numberingReplacer.replace(d,e.Numbering.ConcreteNumbering),path:`word/header${l+1}.xml`}}),Footers:e.Footers.map((s,l)=>{const c=Lr(this.formatter.format(s.View,{viewWrapper:s,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),u=this.imageReplacer.getMediaData(c,e.Media),d=this.imageReplacer.replace(c,u,0);return{data:this.numberingReplacer.replace(d,e.Numbering.ConcreteNumbering),path:`word/footer${l+1}.xml`}}),ContentTypes:{data:Lr(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Lr(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Lr(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Lr(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Lr(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Lr(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:Lr(this.formatter.format(e.Comments,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/comments.xml"},FontTable:{data:Lr(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Lr(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const yrt={WITH_2_BLANKS:"  "},H1=r=>r===!0?yrt.WITH_2_BLANKS:r===!1?void 0:r;class jpe{static toString(e,n){return o2(this,null,function*(){return yield this.compiler.compile(e,H1(n)).generateAsync({type:"string",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBuffer(e,n){return o2(this,null,function*(){return yield this.compiler.compile(e,H1(n)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBase64String(e,n){return o2(this,null,function*(){return yield this.compiler.compile(e,H1(n)).generateAsync({type:"base64",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBlob(e,n){return o2(this,null,function*(){return yield this.compiler.compile(e,H1(n)).generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toStream(e,n){const i=new bP.Stream;return this.compiler.compile(e,H1(n)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(a=>{i.emit("data",a),i.emit("end")}),i}}qe(jpe,"compiler",new grt);var f2={exports:{}},f_,fX;function brt(){if(fX)return f_;fX=1;function r(n){return n.toString("ascii",0,2)==="BM"}function e(n){return{width:n.readUInt32LE(18),height:Math.abs(n.readInt32LE(22))}}return f_={detect:r,calculate:e},f_}var p_,pX;function Fpe(){if(pX)return p_;pX=1;var r=1,e=6,n=16;function i(l){var c;return l.readUInt16LE(0)!==0?!1:(c=l.readUInt16LE(2),c===r)}function o(l,c){var u=l.readUInt8(c);return u===0?256:u}function a(l,c){var u=e+c*n;return{width:o(l,u),height:o(l,u+1)}}function s(l){var c=l.readUInt16LE(4),u=a(l,0),d;if(c===1)return u;for(u.images=[{width:u.width,height:u.height}],d=1;d<c;d+=1)u.images.push(a(l,d));return u}return p_={detect:i,calculate:s},p_}var m_,mX;function vrt(){if(mX)return m_;mX=1;var r=2;function e(n){var i;return n.readUInt16LE(0)!==0?!1:(i=n.readUInt16LE(2),i===r)}return m_={detect:e,calculate:Fpe().calculate},m_}var g_,gX;function xrt(){if(gX)return g_;gX=1;function r(n){return n.readUInt32LE(0)===542327876}function e(n){return{height:n.readUInt32LE(12),width:n.readUInt32LE(16)}}return g_={detect:r,calculate:e},g_}var y_,yX;function wrt(){if(yX)return y_;yX=1;var r=/^GIF8[79]a/;function e(i){var o=i.toString("ascii",0,6);return r.test(o)}function n(i){return{width:i.readUInt16LE(6),height:i.readUInt16LE(8)}}return y_={detect:e,calculate:n},y_}var b_,bX;function Srt(){if(bX)return b_;bX=1;function r(o){var a=o.toString("hex",0,2);return a==="ffd8"}function e(o,a){return{height:o.readUInt16BE(a),width:o.readUInt16BE(a+2)}}function n(o,a){if(a>o.length)throw new TypeError("Corrupt JPG, exceeded buffer limits");if(o[a]!==255)throw new TypeError("Invalid JPG, marker table corrupted")}function i(o){o=o.slice(4);for(var a,s;o.length;){if(a=o.readUInt16BE(0),n(o,a),s=o[a+1],s===192||s===193||s===194)return e(o,a+5);o=o.slice(a+2)}throw new TypeError("Invalid JPG, no size found")}return b_={detect:r,calculate:i},b_}var v_,vX;function krt(){if(vX)return v_;vX=1;var r=`PNG\r

`,e="IHDR",n="CgBI";function i(a){if(r===a.toString("ascii",1,8)){var s=a.toString("ascii",12,16);if(s===n&&(s=a.toString("ascii",28,32)),s!==e)throw new TypeError("invalid png");return!0}}function o(a){return a.toString("ascii",12,16)===n?{width:a.readUInt32BE(32),height:a.readUInt32BE(36)}:{width:a.readUInt32BE(16),height:a.readUInt32BE(20)}}return v_={detect:i,calculate:o},v_}var x_,xX;function Trt(){if(xX)return x_;xX=1;function r(n){return n.toString("ascii",0,4)==="8BPS"}function e(n){return{width:n.readUInt32BE(18),height:n.readUInt32BE(14)}}return x_={detect:r,calculate:e},x_}var w_,wX;function Ert(){if(wX)return w_;wX=1;var r=/<svg[^>]+[^>]*>/;function e(c){return r.test(c)}var n={root:/<svg\s[^>]+>/,width:/\bwidth=(['"])([^%]+?)\1/,height:/\bheight=(['"])([^%]+?)\1/,viewbox:/\bviewBox=(['"])(.+?)\1/};function i(c){var u=c.split(" ");return{width:parseInt(u[2],10),height:parseInt(u[3],10)}}function o(c){var u=c.match(n.width),d=c.match(n.height),h=c.match(n.viewbox);return{width:u&&parseInt(u[2],10),height:d&&parseInt(d[2],10),viewbox:h&&i(h[2])}}function a(c){return{width:c.width,height:c.height}}function s(c){var u=c.viewbox.width/c.viewbox.height;return c.width?{width:c.width,height:Math.floor(c.width/u)}:c.height?{width:Math.floor(c.height*u),height:c.height}:{width:c.viewbox.width,height:c.viewbox.height}}function l(c){var u=c.toString("utf8").match(n.root);if(u){var d=o(u[0]);if(d.width&&d.height)return a(d);if(d.viewbox)return s(d)}throw new TypeError("invalid svg")}return w_={detect:e,calculate:l},w_}var S_,SX;function Crt(){if(SX)return S_;SX=1;function r(a){var s=a.toString("ascii",0,4)==="RIFF",l=a.toString("ascii",8,12)==="WEBP",c=a.toString("ascii",12,15)==="VP8";return s&&l&&c}function e(a){var s=a.toString("ascii",12,16);if(a=a.slice(20,30),s==="VP8X"){var l=a[0],c=(l&192)===0,u=(l&1)===0;return c&&u?n(a):!1}if(s==="VP8 "&&a[0]!==47)return o(a);var d=a.toString("hex",3,6);return s==="VP8L"&&d!=="9d012a"?i(a):!1}function n(a){return{width:1+a.readUIntLE(4,3),height:1+a.readUIntLE(7,3)}}function i(a){return{width:1+((a[2]&63)<<8|a[1]),height:1+((a[4]&15)<<10|a[3]<<2|(a[2]&192)>>6)}}function o(a){return{width:a.readInt16LE(6)&16383,height:a.readInt16LE(8)&16383}}return S_={detect:r,calculate:e},S_}var k_,kX;function Hpe(){if(kX)return k_;kX=1;var r={bmp:brt(),cur:vrt(),dds:xrt(),gif:wrt(),ico:Fpe(),jpg:Srt(),png:krt(),psd:Trt(),svg:Ert(),webp:Crt()};return k_=r,k_}var T_,TX;function _rt(){if(TX)return T_;TX=1;var r=Hpe();return T_=function(e){var n,i;for(n in r)if(i=r[n].detect(e),i)return n},T_}var EX;function Art(){if(EX)return f2.exports;EX=1;var r=Hpe(),e=_rt();function n(i){var o=e(i);if(o in r){var a=r[o].calculate(i);if(a!==!1)return a.type=o,a}throw new TypeError("unsupported file type: "+o)}return f2.exports=function(i){if(Buffer.isBuffer(i))return n(i);throw new TypeError("expecting only a buffer as input")},f2.exports.types=Object.keys(r),f2.exports}var Drt=Art();const Mrt=pR(Drt);function Wpe(r){return{alignment:Eo.START,style:{paragraph:{indent:{left:ea(r),hanging:ea(.18)}}}}}const Rrt=Array(3).fill([na.DECIMAL,na.LOWER_LETTER,na.LOWER_ROMAN]).flat().map((r,e)=>Object.assign({level:e,format:r,text:`%${e+1}.`},Wpe((e+1)/2))),Nrt=Array(3).fill(["","",""]).flat().map((r,e)=>Object.assign({level:e,format:na.BULLET,text:r},Wpe((e+1)/2))),Ort={numbered:Rrt,bullets:Nrt};function Prt(r,e){return{reference:r,levels:Ort[e]}}function CX(){return Math.random().toString(36).substr(2,9)}function Irt(r){return new Ynt({footnotes:r.footnotes,numbering:{config:r.numbering},sections:[{properties:{type:Jet.CONTINUOUS},children:r.children}]})}function _X(r){let e="";return r.forEach(n=>{n.isText&&(e+=n.text)}),e}const E_=600;function AX(r,e,n,i){const o=n?[new vs(n)]:[],a=[];return new Mpe({id:r,children:[...o,new fet(e),...a]})}class $rt{constructor(e,n,i){this.footnotes={},this.current=[],this.maxImageWidth=E_,this.$footnoteCounter=0,this.nodes=e,this.marks=n,this.options=i??{},this.children=[],this.numbering=[]}renderContent(e,n){e.forEach((i,o,a)=>{n&&this.addParagraphOptions(n),this.render(i,e,a)})}render(e,n,i){if(typeof n=="number")throw new Error("!");if(!this.nodes[e.type.name])throw new Error(`Token type \`${e.type.name}\` not supported by Word renderer`);this.nodes[e.type.name](this,e,n,i)}renderMarks(e,n){return n.map(i=>{var o,a;return(a=(o=this.marks)[i.type.name])===null||a===void 0?void 0:a.call(o,this,e,i)}).reduce((i,o)=>Object.assign(Object.assign({},i),o),{})}renderInline(e){let n;const i=()=>{if(!n)return;const s=new Dpe({link:n.link,children:this.current});this.current=[...n.stack,s],n=void 0},o=s=>{const l=s===(n==null?void 0:n.link);this.addRunOptions({style:"Hyperlink"});{if(n&&l)return;n&&!l&&i()}n={link:s,stack:this.current},this.current=[]},a=(s,l,c)=>{const u=s.marks.filter(h=>h.type.name==="link"),d=u.length>0;d?o(u[0].attrs.href):!d&&n&&i(),s.isText?this.text(s.text,this.renderMarks(s,[...s.marks])):this.render(s,e,c)};e.forEach(a),i()}renderList(e,n){if(this.currentNumbering){const{reference:i,level:o}=this.currentNumbering;this.currentNumbering={reference:i,level:o+1}}else{const i=CX();this.numbering.push(Prt(i,n)),this.currentNumbering={reference:i,level:0}}if(this.renderContent(e),this.currentNumbering.level===0)delete this.currentNumbering;else{const{reference:i,level:o}=this.currentNumbering;this.currentNumbering={reference:i,level:o-1}}}renderListItem(e){if(!this.currentNumbering)throw new Error("Trying to create a list item without a list?");this.addParagraphOptions({numbering:this.currentNumbering}),this.renderContent(e)}addParagraphOptions(e){this.nextParentParagraphOpts=Object.assign(Object.assign({},this.nextParentParagraphOpts),e)}addRunOptions(e){this.nextRunOpts=Object.assign(Object.assign({},this.nextRunOpts),e)}text(e,n){e&&(this.current.push(new vs(Object.assign(Object.assign({text:e},this.nextRunOpts),n))),delete this.nextRunOpts)}math(e,n={inline:!0}){var i;if(n.inline||!n.numbered){this.current.push(new nX({children:[new rX(e)]}));return}const o=(i=n.id)!==null&&i!==void 0?i:CX();this.current=[new vs("	"),new nX({children:[new rX(e)]}),new vs("	("),AX(o,"Equation"),new vs(")")],this.addParagraphOptions({tabStops:[{type:R3.CENTER,position:QK.MAX/2},{type:R3.RIGHT,position:QK.MAX}]})}image(e,n=70,i="center",o){const a=this.options.getImageBuffer(e),s=Mrt(a),l=s.height/s.width,c=this.maxImageWidth*(n/100);this.current.push(new det(Object.assign(Object.assign({},o),{data:a,type:e.replace(/.*\./,"").toLowerCase(),transformation:Object.assign(Object.assign({},(o==null?void 0:o.transformation)||{}),{width:c,height:c*l})})));let u;switch(i){case"right":u=Eo.RIGHT;break;case"left":u=Eo.LEFT;break;default:u=Eo.CENTER}this.addParagraphOptions({alignment:u})}table(e,n={}){const{getCellOptions:i,getRowOptions:o,tableOptions:a}=n,s=this.children,l=[];e.content.forEach(u=>{const d=[];let h=!0;u.content.forEach(f=>{f.type.name!=="table_header"&&(h=!1)}),this.maxImageWidth=E_/u.content.childCount,u.content.forEach(f=>{var m,b;this.children=[],this.renderContent(f);const g={children:this.children},v=(m=f.attrs.colspan)!==null&&m!==void 0?m:1,x=(b=f.attrs.rowspan)!==null&&b!==void 0?b:1;v>1&&(g.columnSpan=v),x>1&&(g.rowSpan=x),d.push(new DP(Object.assign(Object.assign({},g),(i==null?void 0:i(f))||{})))}),l.push(new Att(Object.assign(Object.assign({},(o==null?void 0:o(u))||{}),{children:d,tableHeader:h})))}),this.maxImageWidth=E_;const c=new Ttt(Object.assign(Object.assign({},a),{rows:l}));s.push(c),s.push(new kd("")),this.children=s}captionLabel(e,n,{suffix:i}={suffix:": "}){this.current.push(AX(e,n,`${n} `),new vs(i))}footnote(e){const{current:n,nextRunOpts:i}=this;this.current=[],delete this.nextRunOpts,this.$footnoteCounter+=1,this.renderInline(e),this.footnotes[this.$footnoteCounter]={children:[new kd({children:this.current})]},this.current=n,this.nextRunOpts=i,this.current.push(new Qnt(this.$footnoteCounter))}closeBlock(e,n){const i=new kd(Object.assign(Object.assign({children:this.current},this.nextParentParagraphOpts),n));this.current=[],delete this.nextParentParagraphOpts,this.children.push(i)}createReference(e,n,i){const o=[];n&&o.push(new vs(n)),o.push(new met(`REF ${e} \\h`)),i&&o.push(new vs(i));const a=new Oet({anchor:e,children:o});this.current.push(a)}}class zrt{constructor(e,n){this.nodes=e,this.marks=n}serialize(e,n){const i=new $rt(this.nodes,this.marks,n);return i.renderContent(e),Irt(i)}}const Hh={text(r,e){var n;r.text((n=e.text)!==null&&n!==void 0?n:"")},paragraph(r,e){r.renderInline(e),r.closeBlock(e)},heading(r,e){r.renderInline(e);const n=[km.HEADING_1,km.HEADING_2,km.HEADING_3,km.HEADING_4,km.HEADING_5,km.HEADING_6][e.attrs.level-1];r.closeBlock(e,{heading:n})},blockquote(r,e){r.renderContent(e,{style:"IntenseQuote"})},code_block(r,e){r.renderContent(e),r.closeBlock(e)},horizontal_rule(r,e){r.closeBlock(e,{thematicBreak:!0}),r.closeBlock(e)},hard_break(r){r.addRunOptions({break:1})},ordered_list(r,e){r.renderList(e,"numbered")},bullet_list(r,e){r.renderList(e,"bullets")},list_item(r,e){r.renderListItem(e)},image(r,e){const{src:n}=e.attrs;r.image(n),r.closeBlock(e)},math(r,e){r.math(_X(e),{inline:!0})},equation(r,e){const{id:n,numbered:i}=e.attrs;r.math(_X(e),{inline:!1,numbered:i,id:n}),r.closeBlock(e)},table(r,e){r.table(e)}},Lrt={em(){return{italics:!0}},strong(){return{bold:!0}},italic(){return{italics:!0}},bold(){return{bold:!0}},link(){return{}},code(){return{font:{name:"Monospace"},color:"000000",shading:{type:UJe.SOLID,color:"D2D3D2",fill:"D2D3D2"}}},abbr(){return{}},subscript(){return{subScript:!0}},superscript(){return{superScript:!0}},strikethrough(){return{strike:!0}},underline(){return{underline:{}}},smallcaps(){return{smallCaps:!0}},allcaps(){return{allCaps:!0}}},Urt=typeof window<"u";function Brt(r,e){if(Urt){const n=window.URL.createObjectURL(r),i=document.createElement("a");return i.href=n,i.download=e,i.click(),window.URL.revokeObjectURL(n),Promise.resolve()}return console.error("Download is not supported in Node.js"),Promise.resolve()}const jrt={...Hh,hardBreak:Hh.hard_break,codeBlock:Hh.code_block,orderedList:Hh.ordered_list,listItem:Hh.list_item,bulletList:Hh.bullet_list,horizontalRule:Hh.horizontal_rule,image(r,e){r.renderInline(e),r.closeBlock(e)},table(r,e){r.table(e,{tableOptions:{width:{size:100,type:N3.PERCENTAGE}}})}},Frt=new zrt(jrt,Lrt),Hrt=Sn.create({name:"exportWord",addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),button:({editor:e,t:n})=>({component:ft,componentProps:{icon:"ExportWord",action:()=>{e==null||e.commands.exportToWord()},tooltip:n("editor.exportWord.tooltip"),isActive:()=>!1,disabled:!1}})}},addCommands(){return{exportToWord:()=>async({editor:r})=>{const e={getImageBuffer:async i=>{const o=await(await fetch(i)).arrayBuffer();return new Uint8Array(o)}},n=Frt.serialize(r.state.doc,e);return jpe.toBlob(n).then(i=>Brt(new Blob([i]),"export-document.docx")),!0}}}}),RP=dt.forwardRef(({asChild:r,...e},n)=>{var i;const o=wv[e.icon];return E.jsxs(ig,{children:[E.jsx(og,{asChild:!0,children:E.jsx(r?rN:Nn,{className:"richtext-h-[32px] richtext-min-w-24 richtext-overflow-hidden richtext-px-[5px]  richtext-py-0",disabled:e==null?void 0:e.disabled,ref:n,variant:"ghost",...e,children:E.jsxs("div",{className:"richtext-flex richtext-h-full richtext-items-center richtext-font-normal",children:[(e==null?void 0:e.title)&&E.jsx("div",{className:"richtext-grow richtext-truncate richtext-text-left richtext-text-sm",children:e==null?void 0:e.title}),o&&E.jsx(o,{className:"richtext-ml-1 richtext-size-3 richtext-shrink-0 richtext-text-zinc-500"})]})})}),E.jsx(hp,{children:E.jsxs("div",{className:"richtext-flex richtext-max-w-24 richtext-flex-col richtext-items-center richtext-text-center",children:[(e==null?void 0:e.tooltip)&&E.jsx("div",{children:e==null?void 0:e.tooltip}),E.jsx("div",{className:"richtext-flex",children:!!((i=e==null?void 0:e.shortcutKeys)!=null&&i.length)&&E.jsx("span",{children:TS(e==null?void 0:e.shortcutKeys)})})]})})]})}),Wrt=Sn.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:r=>r.style.fontFamily,renderHTML:r=>r.fontFamily?{style:`font-family: ${r.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:r=>({chain:e})=>e().setMark("textStyle",{fontFamily:r}).run(),unsetFontFamily:()=>({chain:r})=>r().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}});function Vrt(r){var e,n,i;const{t:o,lang:a}=Cn(),s=P.useMemo(()=>{var l;const c=(l=r==null?void 0:r.items)==null?void 0:l.find(u=>u.isActive());return c&&!c.default?{...c}:{title:r.tooltip,font:o("editor.fontFamily.default.tooltip"),isActive:()=>!1,disabled:!1,action:()=>r.editor.chain().focus().unsetFontFamily().run()}},[o,a,r]);return E.jsxs(cp,{children:[E.jsx(up,{asChild:!0,disabled:r==null?void 0:r.disabled,children:E.jsx(RP,{disabled:r==null?void 0:r.disabled,icon:"MenuDown",title:((e=s==null?void 0:s.font)==null?void 0:e.length)>7?`${(n=s==null?void 0:s.font)==null?void 0:n.slice(0,6)}...`:s==null?void 0:s.font,tooltip:r==null?void 0:r.tooltip})}),E.jsx(th,{className:"richtext-w-full",children:(i=r==null?void 0:r.items)==null?void 0:i.map((l,c)=>{const u=l.font===o("editor.fontFamily.default.tooltip")?{}:{fontFamily:l.font};return E.jsxs(P.Fragment,{children:[E.jsx(dp,{checked:(s==null?void 0:s.font)===l.font,onClick:l.action,children:E.jsx("div",{className:"richtext-ml-1 richtext-h-full",style:u,children:l.font})}),l.font===o("editor.fontFamily.default.tooltip")&&E.jsx(DS,{})]},`font-family-${c}`)})})]})}const qrt=Wrt.extend({addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),fontFamilyList:Hke,button({editor:e,extension:n,t:i}){var o;const{extensions:a=[]}=e.extensionManager??[],s=LD(((o=n==null?void 0:n.options)==null?void 0:o.fontFamilyList)||[]),l=a.find(d=>d.name==="base-kit"),c=s.map(d=>({action:()=>{e.chain().focus().setFontFamily(d.value).run()},isActive:()=>e.isActive("textStyle",{fontFamily:d.value})||!1,disabled:!e.can().setFontFamily(d.value),title:d.name,font:d.value}));l&&l.options.textStyle!==!1&&c.unshift({action:()=>e.chain().focus().unsetFontFamily().run(),isActive:()=>!1,disabled:!1,font:i("editor.fontFamily.default.tooltip"),title:i("editor.fontFamily.tooltip")});const u=c.filter(d=>d.disabled).length===c.length;return{component:Vrt,componentProps:{tooltip:i("editor.fontFamily.tooltip"),disabled:u,items:c,editor:e}}}}}});function Grt(r){var e;const{t:n}=Cn(),i=P.useMemo(()=>(r.items||[]).find(a=>a.isActive())||{title:n("editor.fontSize.default.tooltip"),isActive:()=>!1},[r]);return E.jsxs(cp,{children:[E.jsx(up,{asChild:!0,disabled:r==null?void 0:r.disabled,children:E.jsx(RP,{disabled:r==null?void 0:r.disabled,icon:"MenuDown",title:i==null?void 0:i.title,tooltip:`${r==null?void 0:r.tooltip}`})}),E.jsx(th,{className:"richtext-max-h-96 richtext-w-32 richtext-overflow-y-auto",children:(e=r==null?void 0:r.items)==null?void 0:e.map((o,a)=>E.jsx(dp,{checked:i.title===o.title,onClick:o.action,children:E.jsx("div",{className:"richtext-ml-1 richtext-h-full",children:o.title})},`font-size-${a}`))})]})}const Krt=Sn.create({name:"fontSize",addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),types:["textStyle"],fontSizes:[...Wke],button({editor:e,extension:n,t:i}){var o;const a=LD(((o=n.options)==null?void 0:o.fontSizes)||Ij),s=LD([Ij])[0],l=a.map(c=>({title:c.value===s.value?i("editor.fontSize.default.tooltip"):String(c.name),isActive:()=>{const{fontSize:u}=e.getAttributes("textStyle");return c.value===s.value&&u===void 0?!0:e.isActive({fontSize:String(c.value)})||!1},action:()=>{if(c.value===s.value){e.commands.unsetFontSize();return}e.commands.setFontSize(String(c.value))},disabled:!e.can().setFontSize(String(c.value)),divider:c.value===s.value||!1,default:c.value===s.value||!1}));return{component:Grt,componentProps:{editor:e,tooltip:i("editor.fontSize.tooltip"),disabled:!1,items:l,maxHeight:280}}}}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:r=>r.style.fontSize.replaceAll(/["']+/g,""),renderHTML:r=>r.fontSize?{style:`font-size: ${r.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:r=>({chain:e})=>e().setMark("textStyle",{fontSize:r}).run(),unsetFontSize:()=>({chain:r})=>r().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),Xrt=Sn.create({name:"painter",addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),button:({editor:e,t:n})=>({component:ft,componentProps:{action:()=>{e.commands.setPainter(e==null?void 0:e.state.selection.$head.marks())},icon:"PaintRoller",tooltip:n("editor.format")}})}},addCommands(){return{setPainter:r=>({view:{dispatch:e,state:{tr:n},dom:i}})=>{const o=`url("data:image/svg+xml;utf8,${encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#000" d="M9 22v-6H4V7q0-1.65 1.175-2.825T8 3h12v13h-5v6zM6 10h12V5h-1v4h-2V5h-1v2h-2V5H8q-.825 0-1.412.588T6 7zm0 4h12v-2H6zm0 0v-2z"/></svg>')}"), auto`;return i.style.cursor=o,e(n.setMeta("painterAction",{type:"start",marks:r})),!0}}},addProseMirrorPlugins(){return[new $n({key:new Ln("format-painter"),state:{init:()=>[],apply:(r,e)=>{const n=r.getMeta("painterAction");return n&&n.type==="start"?e=n.marks:n&&n.type==="end"&&(e=[]),e}},props:{handleDOMEvents:{mousedown(r){const e=this.getState(r.state);if(!e||e.length===0)return r.dom.style.cursor="",!1;const n=()=>{document.removeEventListener("mouseup",n);let{dispatch:i,state:{tr:o,selection:a},dom:s}=r;s.style.cursor="",o=o.removeMark(a.from,a.to);for(const l of e)l.type.name!=="link"&&(o=o.addMark(a.from,a.to,l));i(o.setMeta("painterAction",{type:"end"}))};return document.addEventListener("mouseup",n),!0}}}})]}}),Yrt=Un.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(r=>({tag:`h${r}`,attrs:{level:r}}))},renderHTML({node:r,HTMLAttributes:e}){return[`h${this.options.levels.includes(r.attrs.level)?r.attrs.level:this.options.levels[0]}`,en(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:r=>({commands:e})=>this.options.levels.includes(r.level)?e.setNode(this.name,r):!1,toggleHeading:r=>({commands:e})=>this.options.levels.includes(r.level)?e.toggleNode(this.name,"paragraph",r):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((r,e)=>({...r,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(r=>tD({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${r}})\\s$`),type:this.type,getAttributes:{level:r}}))}});function Zrt(r){var e;const n=P.useMemo(()=>{var i;const o=(i=r==null?void 0:r.items)==null?void 0:i.find(a=>a.isActive());return o&&!o.default?{...o}:{title:r.tooltip,level:0,isActive:()=>!1}},[r]);return E.jsxs(cp,{children:[E.jsx(up,{asChild:!0,disabled:r==null?void 0:r.disabled,children:E.jsx(RP,{disabled:r==null?void 0:r.disabled,icon:"MenuDown",title:n==null?void 0:n.title,tooltip:r==null?void 0:r.tooltip})}),E.jsx(th,{className:"richtext-w-full",children:(e=r==null?void 0:r.items)==null?void 0:e.map((i,o)=>{var a,s;return E.jsxs(P.Fragment,{children:[E.jsxs(dp,{checked:(n==null?void 0:n.title)===i.title,onClick:i.action,children:[E.jsx("div",{className:`heading- richtext-ml-1 richtext-h-full${i.level}`,children:i.title}),!!((a=i==null?void 0:i.shortcutKeys)!=null&&a.length)&&E.jsx(cle,{className:"richtext-pl-4",children:(s=i==null?void 0:i.shortcutKeys)==null?void 0:s.map(l=>kS(l)).join(" ")})]}),i.level===0&&E.jsx(DS,{})]},`heading-k-${o}`)})})]})}const Jrt=Yrt.extend({addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),levels:[1,2,3,4,5,6],button({editor:e,extension:n,t:i}){var o;const{extensions:a=[]}=e.extensionManager??[],s=((o=n.options)==null?void 0:o.levels)||[],l=a.find(d=>d.name==="base-kit"),c=s.map(d=>({action:()=>e.commands.toggleHeading({level:d}),isActive:()=>e.isActive("heading",{level:d})||!1,disabled:!e.can().toggleHeading({level:d}),title:i(`editor.heading.h${d}.tooltip`),level:d,shortcutKeys:["alt","mod",`${d}`]}));l&&l.options.paragraph!==!1&&c.unshift({action:()=>e.commands.setParagraph(),isActive:()=>e.isActive("paragraph")||!1,disabled:!e.can().setParagraph(),level:0,title:i("editor.paragraph.tooltip"),shortcutKeys:["alt","mod","0"]});const u=c.filter(d=>d.disabled).length===c.length;return{component:Zrt,componentProps:{tooltip:i("editor.heading.tooltip"),disabled:u,items:c,editor:e}}}}}}),Qrt=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,eit=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,tit=Os.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:r=>r.getAttribute("data-color")||r.style.backgroundColor,renderHTML:r=>r.color?{"data-color":r.color,style:`background-color: ${r.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:r}){return["mark",en(this.options.HTMLAttributes,r),0]},addCommands(){return{setHighlight:r=>({commands:e})=>e.setMark(this.name,r),toggleHighlight:r=>({commands:e})=>e.toggleMark(this.name,r),unsetHighlight:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Bf({find:Qrt,type:this.type})]},addPasteRules(){return[Cd({find:eit,type:this.type})]}}),nit=tit.extend({addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),multicolor:!0,button:({editor:e,t:n})=>({component:ele,componentProps:{action:i=>{typeof i=="string"&&e.chain().focus().setHighlight({color:i}).run(),i===void 0&&e.chain().focus().unsetHighlight().run()},editor:e,isActive:()=>e.isActive("highlight")||!1,disabled:!1,shortcutKeys:["","mod","H"],tooltip:n("editor.highlight.tooltip")}})}}});var I3=200,ui=function(){};ui.prototype.append=function(r){return r.length?(r=ui.from(r),!this.length&&r||r.length<I3&&this.leafAppend(r)||this.length<I3&&r.leafPrepend(this)||this.appendInner(r)):this};ui.prototype.prepend=function(r){return r.length?ui.from(r).append(this):this};ui.prototype.appendInner=function(r){return new rit(this,r)};ui.prototype.slice=function(r,e){return r===void 0&&(r=0),e===void 0&&(e=this.length),r>=e?ui.empty:this.sliceInner(Math.max(0,r),Math.min(this.length,e))};ui.prototype.get=function(r){if(!(r<0||r>=this.length))return this.getInner(r)};ui.prototype.forEach=function(r,e,n){e===void 0&&(e=0),n===void 0&&(n=this.length),e<=n?this.forEachInner(r,e,n,0):this.forEachInvertedInner(r,e,n,0)};ui.prototype.map=function(r,e,n){e===void 0&&(e=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(o,a){return i.push(r(o,a))},e,n),i};ui.from=function(r){return r instanceof ui?r:r&&r.length?new Vpe(r):ui.empty};var Vpe=function(r){function e(i){r.call(this),this.values=i}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,a,s){for(var l=o;l<a;l++)if(i(this.values[l],s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,a,s){for(var l=o-1;l>=a;l--)if(i(this.values[l],s+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=I3)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=I3)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(ui);ui.empty=new Vpe([]);var rit=function(r){function e(n,i){r.call(this),this.left=n,this.right=i,this.length=n.length+i.length,this.depth=Math.max(n.depth,i.depth)+1}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,i,o,a){var s=this.left.length;if(i<s&&this.left.forEachInner(n,i,Math.min(o,s),a)===!1||o>s&&this.right.forEachInner(n,Math.max(i-s,0),Math.min(this.length,o)-s,a+s)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,o,a){var s=this.left.length;if(i>s&&this.right.forEachInvertedInner(n,i-s,Math.max(o,s)-s,a+s)===!1||o<s&&this.left.forEachInvertedInner(n,Math.min(i,s),o,a)===!1)return!1},e.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(n,i):n>=o?this.right.slice(n-o,i-o):this.left.slice(n,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(ui);const iit=500;let Ab=class Fm{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let o,a;n&&(o=this.remapping(i,this.items.length),a=o.maps.length);let s=e.tr,l,c,u=[],d=[];return this.items.forEach((h,f)=>{if(!h.step){o||(o=this.remapping(i,f+1),a=o.maps.length),a--,d.push(h);return}if(o){d.push(new Hu(h.map));let m=h.step.map(o.slice(a)),b;m&&s.maybeStep(m).doc&&(b=s.mapping.maps[s.mapping.maps.length-1],u.push(new Hu(b,void 0,void 0,u.length+d.length))),a--,b&&o.appendMap(b,a)}else s.maybeStep(h.step);if(h.selection)return l=o?h.selection.map(o.slice(a)):h.selection,c=new Fm(this.items.slice(0,i).append(d.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:s,selection:l}}addTransform(e,n,i,o){let a=[],s=this.eventCount,l=this.items,c=!o&&l.length?l.get(l.length-1):null;for(let d=0;d<e.steps.length;d++){let h=e.steps[d].invert(e.docs[d]),f=new Hu(e.mapping.maps[d],h,n),m;(m=c&&c.merge(f))&&(f=m,d?a.pop():l=l.slice(0,l.length-1)),a.push(f),n&&(s++,n=void 0),o||(c=f)}let u=s-i.depth;return u>ait&&(l=oit(l,u),s-=u),new Fm(l.append(a),s)}remapping(e,n){let i=new Tte;return this.items.forEach((o,a)=>{let s=o.mirrorOffset!=null&&a-o.mirrorOffset>=e?i.maps.length-o.mirrorOffset:void 0;i.appendMap(o.map,s)},e,n),i}addMaps(e){return this.eventCount==0?this:new Fm(this.items.append(e.map(n=>new Hu(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let i=[],o=Math.max(0,this.items.length-n),a=e.mapping,s=e.steps.length,l=this.eventCount;this.items.forEach(f=>{f.selection&&l--},o);let c=n;this.items.forEach(f=>{let m=a.getMirror(--c);if(m==null)return;s=Math.min(s,m);let b=a.maps[m];if(f.step){let g=e.steps[m].invert(e.docs[m]),v=f.selection&&f.selection.map(a.slice(c+1,m));v&&l++,i.push(new Hu(b,g,v))}else i.push(new Hu(b))},o);let u=[];for(let f=n;f<s;f++)u.push(new Hu(a.maps[f]));let d=this.items.slice(0,o).append(u).append(i),h=new Fm(d,l);return h.emptyItemCount()>iit&&(h=h.compress(this.items.length-i.length)),h}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),i=n.maps.length,o=[],a=0;return this.items.forEach((s,l)=>{if(l>=e)o.push(s),s.selection&&a++;else if(s.step){let c=s.step.map(n.slice(i)),u=c&&c.getMap();if(i--,u&&n.appendMap(u,i),c){let d=s.selection&&s.selection.map(n.slice(i));d&&a++;let h=new Hu(u.invert(),c,d),f,m=o.length-1;(f=o.length&&o[m].merge(h))?o[m]=f:o.push(h)}}else s.map&&i--},this.items.length,0),new Fm(ui.from(o.reverse()),a)}};Ab.empty=new Ab(ui.empty,0);function oit(r,e){let n;return r.forEach((i,o)=>{if(i.selection&&e--==0)return n=o,!1}),r.slice(n)}let Hu=class qpe{constructor(e,n,i,o){this.map=e,this.step=n,this.selection=i,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new qpe(n.getMap().invert(),n,this.selection)}}},nd=class{constructor(e,n,i,o,a){this.done=e,this.undone=n,this.prevRanges=i,this.prevTime=o,this.prevComposition=a}};const ait=20;function sit(r,e,n,i){let o=n.getMeta(Mf),a;if(o)return o.historyState;n.getMeta(uit)&&(r=new nd(r.done,r.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return r;if(s&&s.getMeta(Mf))return s.getMeta(Mf).redo?new nd(r.done.addTransform(n,void 0,i,S4(e)),r.undone,DX(n.mapping.maps),r.prevTime,r.prevComposition):new nd(r.done,r.undone.addTransform(n,void 0,i,S4(e)),null,r.prevTime,r.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),c=r.prevTime==0||!s&&r.prevComposition!=l&&(r.prevTime<(n.time||0)-i.newGroupDelay||!lit(n,r.prevRanges)),u=s?C_(r.prevRanges,n.mapping):DX(n.mapping.maps);return new nd(r.done.addTransform(n,c?e.selection.getBookmark():void 0,i,S4(e)),Ab.empty,u,n.time,l??r.prevComposition)}else return(a=n.getMeta("rebased"))?new nd(r.done.rebased(n,a),r.undone.rebased(n,a),C_(r.prevRanges,n.mapping),r.prevTime,r.prevComposition):new nd(r.done.addMaps(n.mapping.maps),r.undone.addMaps(n.mapping.maps),C_(r.prevRanges,n.mapping),r.prevTime,r.prevComposition)}function lit(r,e){if(!e)return!1;if(!r.docChanged)return!0;let n=!1;return r.mapping.maps[0].forEach((i,o)=>{for(let a=0;a<e.length;a+=2)i<=e[a+1]&&o>=e[a]&&(n=!0)}),n}function DX(r){let e=[];for(let n=r.length-1;n>=0&&e.length==0;n--)r[n].forEach((i,o,a,s)=>e.push(a,s));return e}function C_(r,e){if(!r)return null;let n=[];for(let i=0;i<r.length;i+=2){let o=e.map(r[i],1),a=e.map(r[i+1],-1);o<=a&&n.push(o,a)}return n}function cit(r,e,n){let i=S4(e),o=Mf.get(e).spec.config,a=(n?r.undone:r.done).popEvent(e,i);if(!a)return null;let s=a.selection.resolve(a.transform.doc),l=(n?r.done:r.undone).addTransform(a.transform,e.selection.getBookmark(),o,i),c=new nd(n?l:a.remaining,n?a.remaining:l,null,0,-1);return a.transform.setSelection(s).setMeta(Mf,{redo:n,historyState:c})}let __=!1,MX=null;function S4(r){let e=r.plugins;if(MX!=e){__=!1,MX=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){__=!0;break}}return __}const Mf=new Ln("history"),uit=new Ln("closeHistory");function dit(r={}){return r={depth:r.depth||100,newGroupDelay:r.newGroupDelay||500},new $n({key:Mf,state:{init(){return new nd(Ab.empty,Ab.empty,null,0,-1)},apply(e,n,i){return sit(n,i,e,r)}},config:r,props:{handleDOMEvents:{beforeinput(e,n){let i=n.inputType,o=i=="historyUndo"?Kpe:i=="historyRedo"?Xpe:null;return o?(n.preventDefault(),o(e.state,e.dispatch)):!1}}}})}function Gpe(r,e){return(n,i)=>{let o=Mf.getState(n);if(!o||(r?o.undone:o.done).eventCount==0)return!1;if(i){let a=cit(o,n,r);a&&i(a.scrollIntoView())}return!0}}const Kpe=Gpe(!1),Xpe=Gpe(!0),hit=Sn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:r,dispatch:e})=>Kpe(r,e),redo:()=>({state:r,dispatch:e})=>Xpe(r,e)}},addProseMirrorPlugins(){return[dit(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}});function fit(r){var e;const{icon:n=void 0,tooltip:i=void 0,customClass:o="",tooltipOptions:a={},action:s=void 0,isActive:l=void 0,children:c}=r,u=wv[n];return E.jsxs(ig,{children:[E.jsx(og,{asChild:!0,children:E.jsxs(kv,{size:"sm",className:`richtext-w-[32px] richtext-h-[32px] ${o}`,disabled:l==null?void 0:l(),onClick:s,children:[u&&E.jsx(u,{className:"richtext-w-4 richtext-h-4"}),c&&E.jsx(E.Fragment,{children:c})]})}),i&&E.jsx(hp,{...a,children:E.jsxs("div",{className:"richtext-flex richtext-flex-col richtext-items-center richtext-text-center richtext-max-w-24",children:[E.jsx("div",{children:i}),!!((e=r==null?void 0:r.shortcutKeys)!=null&&e.length)&&E.jsx("span",{children:TS(r==null?void 0:r.shortcutKeys)})]})})]})}const pit=["undo","redo"],mit=hit.extend({addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),depth:100,newGroupDelay:500,button:({editor:e,t:n})=>pit.map(i=>({component:fit,componentProps:{action:()=>{i==="undo"&&e.chain().focus().undo().run(),i==="redo"&&e.chain().focus().redo().run()},shortcutKeys:i==="undo"?["mod","Z"]:["shift","mod","Z"],disabled:i==="undo"?!e.can().undo():!e.can().redo(),isActive:()=>i==="undo"?!e.can().undo():!e.can().redo(),icon:i==="undo"?"Undo2":"Redo2",tooltip:n(`editor.${i}.tooltip`)}}))}}}),git=Un.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:r}){return["hr",en(this.options.HTMLAttributes,r)]},addCommands(){return{setHorizontalRule:()=>({chain:r,state:e})=>{const{selection:n}=e,{$from:i,$to:o}=n,a=r();return i.parentOffset===0?a.insertContentAt({from:Math.max(i.pos-1,0),to:o.pos},{type:this.name}):Zne(n)?a.insertContentAt(o.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(({tr:s,dispatch:l})=>{var c;if(l){const{$to:u}=s.selection,d=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?s.setSelection(Ht.create(s.doc,u.pos+1)):u.nodeAfter.isBlock?s.setSelection(Gt.create(s.doc,u.pos)):s.setSelection(Ht.create(s.doc,u.pos));else{const h=(c=u.parent.type.contentMatch.defaultType)===null||c===void 0?void 0:c.create();h&&(s.insert(d,h),s.setSelection(Ht.create(s.doc,d+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[av({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),yit=git.extend({renderHTML(){return["div",en(this.options.HTMLAttributes,{"data-type":this.name}),["hr"]]},addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),button:({editor:e,t:n})=>({component:ft,componentProps:{action:()=>e.commands.setHorizontalRule(),disabled:!e.can().setHorizontalRule(),icon:"Minus",shortcutKeys:["mod","alt","S"],tooltip:n("editor.horizontalrule.tooltip")}})}},addKeyboardShortcuts(){return{"Mod-Alt-s":()=>this.editor.commands.setHorizontalRule()}}});var RX={},Ia={},NP="1.13.7",NX=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},b6=Array.prototype,OP=Object.prototype,OX=typeof Symbol<"u"?Symbol.prototype:null,bit=b6.push,zv=b6.slice,Db=OP.toString,vit=OP.hasOwnProperty,Ype=typeof ArrayBuffer<"u",xit=typeof DataView<"u",wit=Array.isArray,PX=Object.keys,IX=Object.create,$X=Ype&&ArrayBuffer.isView,Sit=isNaN,kit=isFinite,Zpe=!{toString:null}.propertyIsEnumerable("toString"),zX=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Tit=Math.pow(2,53)-1;function mo(r,e){return e=e==null?r.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),i=Array(n),o=0;o<n;o++)i[o]=arguments[o+e];switch(e){case 0:return r.call(this,i);case 1:return r.call(this,arguments[0],i);case 2:return r.call(this,arguments[0],arguments[1],i)}var a=Array(e+1);for(o=0;o<e;o++)a[o]=arguments[o];return a[e]=i,r.apply(this,a)}}function lh(r){var e=typeof r;return e==="function"||e==="object"&&!!r}function Jpe(r){return r===null}function PP(r){return r===void 0}function IP(r){return r===!0||r===!1||Db.call(r)==="[object Boolean]"}function Qpe(r){return!!(r&&r.nodeType===1)}function Xi(r){var e="[object "+r+"]";return function(n){return Db.call(n)===e}}const v6=Xi("String"),$P=Xi("Number"),eme=Xi("Date"),tme=Xi("RegExp"),nme=Xi("Error"),zP=Xi("Symbol"),LP=Xi("ArrayBuffer");var rme=Xi("Function"),Eit=NX.document&&NX.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof Eit!="function"&&(rme=function(r){return typeof r=="function"||!1});const Fi=rme,ime=Xi("Object");var ome=xit&&(!/\[native code\]/.test(String(DataView))||ime(new DataView(new ArrayBuffer(8)))),UP=typeof Map<"u"&&ime(new Map),Cit=Xi("DataView");function _it(r){return r!=null&&Fi(r.getInt8)&&LP(r.buffer)}const Mb=ome?_it:Cit,ch=wit||Xi("Array");function uh(r,e){return r!=null&&vit.call(r,e)}var sM=Xi("Arguments");(function(){sM(arguments)||(sM=function(r){return uh(r,"callee")})})();const x6=sM;function ame(r){return!zP(r)&&kit(r)&&!isNaN(parseFloat(r))}function BP(r){return $P(r)&&Sit(r)}function jP(r){return function(){return r}}function sme(r){return function(e){var n=r(e);return typeof n=="number"&&n>=0&&n<=Tit}}function lme(r){return function(e){return e==null?void 0:e[r]}}const $3=lme("byteLength"),Ait=sme($3);var Dit=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function Mit(r){return $X?$X(r)&&!Mb(r):Ait(r)&&Dit.test(Db.call(r))}const FP=Ype?Mit:jP(!1),Io=lme("length");function Rit(r){for(var e={},n=r.length,i=0;i<n;++i)e[r[i]]=!0;return{contains:function(o){return e[o]===!0},push:function(o){return e[o]=!0,r.push(o)}}}function cme(r,e){e=Rit(e);var n=zX.length,i=r.constructor,o=Fi(i)&&i.prototype||OP,a="constructor";for(uh(r,a)&&!e.contains(a)&&e.push(a);n--;)a=zX[n],a in r&&r[a]!==o[a]&&!e.contains(a)&&e.push(a)}function ni(r){if(!lh(r))return[];if(PX)return PX(r);var e=[];for(var n in r)uh(r,n)&&e.push(n);return Zpe&&cme(r,e),e}function ume(r){if(r==null)return!0;var e=Io(r);return typeof e=="number"&&(ch(r)||v6(r)||x6(r))?e===0:Io(ni(r))===0}function HP(r,e){var n=ni(e),i=n.length;if(r==null)return!i;for(var o=Object(r),a=0;a<i;a++){var s=n[a];if(e[s]!==o[s]||!(s in o))return!1}return!0}function zn(r){if(r instanceof zn)return r;if(!(this instanceof zn))return new zn(r);this._wrapped=r}zn.VERSION=NP;zn.prototype.value=function(){return this._wrapped};zn.prototype.valueOf=zn.prototype.toJSON=zn.prototype.value;zn.prototype.toString=function(){return String(this._wrapped)};function LX(r){return new Uint8Array(r.buffer||r,r.byteOffset||0,$3(r))}var UX="[object DataView]";function lM(r,e,n,i){if(r===e)return r!==0||1/r===1/e;if(r==null||e==null)return!1;if(r!==r)return e!==e;var o=typeof r;return o!=="function"&&o!=="object"&&typeof e!="object"?!1:dme(r,e,n,i)}function dme(r,e,n,i){r instanceof zn&&(r=r._wrapped),e instanceof zn&&(e=e._wrapped);var o=Db.call(r);if(o!==Db.call(e))return!1;if(ome&&o=="[object Object]"&&Mb(r)){if(!Mb(e))return!1;o=UX}switch(o){case"[object RegExp]":case"[object String]":return""+r==""+e;case"[object Number]":return+r!=+r?+e!=+e:+r==0?1/+r===1/e:+r==+e;case"[object Date]":case"[object Boolean]":return+r==+e;case"[object Symbol]":return OX.valueOf.call(r)===OX.valueOf.call(e);case"[object ArrayBuffer]":case UX:return dme(LX(r),LX(e),n,i)}var a=o==="[object Array]";if(!a&&FP(r)){var s=$3(r);if(s!==$3(e))return!1;if(r.buffer===e.buffer&&r.byteOffset===e.byteOffset)return!0;a=!0}if(!a){if(typeof r!="object"||typeof e!="object")return!1;var l=r.constructor,c=e.constructor;if(l!==c&&!(Fi(l)&&l instanceof l&&Fi(c)&&c instanceof c)&&"constructor"in r&&"constructor"in e)return!1}n=n||[],i=i||[];for(var u=n.length;u--;)if(n[u]===r)return i[u]===e;if(n.push(r),i.push(e),a){if(u=r.length,u!==e.length)return!1;for(;u--;)if(!lM(r[u],e[u],n,i))return!1}else{var d=ni(r),h;if(u=d.length,ni(e).length!==u)return!1;for(;u--;)if(h=d[u],!(uh(e,h)&&lM(r[h],e[h],n,i)))return!1}return n.pop(),i.pop(),!0}function hme(r,e){return lM(r,e)}function vg(r){if(!lh(r))return[];var e=[];for(var n in r)e.push(n);return Zpe&&cme(r,e),e}function WP(r){var e=Io(r);return function(n){if(n==null)return!1;var i=vg(n);if(Io(i))return!1;for(var o=0;o<e;o++)if(!Fi(n[r[o]]))return!1;return r!==mme||!Fi(n[VP])}}var VP="forEach",fme="has",qP=["clear","delete"],pme=["get",fme,"set"],Nit=qP.concat(VP,pme),mme=qP.concat(pme),Oit=["add"].concat(qP,VP,fme);const gme=UP?WP(Nit):Xi("Map"),yme=UP?WP(mme):Xi("WeakMap"),bme=UP?WP(Oit):Xi("Set"),vme=Xi("WeakSet");function wp(r){for(var e=ni(r),n=e.length,i=Array(n),o=0;o<n;o++)i[o]=r[e[o]];return i}function xme(r){for(var e=ni(r),n=e.length,i=Array(n),o=0;o<n;o++)i[o]=[e[o],r[e[o]]];return i}function GP(r){for(var e={},n=ni(r),i=0,o=n.length;i<o;i++)e[r[n[i]]]=n[i];return e}function Rb(r){var e=[];for(var n in r)Fi(r[n])&&e.push(n);return e.sort()}function KP(r,e){return function(n){var i=arguments.length;if(e&&(n=Object(n)),i<2||n==null)return n;for(var o=1;o<i;o++)for(var a=arguments[o],s=r(a),l=s.length,c=0;c<l;c++){var u=s[c];(!e||n[u]===void 0)&&(n[u]=a[u])}return n}}const XP=KP(vg),H0=KP(ni),YP=KP(vg,!0);function Pit(){return function(){}}function wme(r){if(!lh(r))return{};if(IX)return IX(r);var e=Pit();e.prototype=r;var n=new e;return e.prototype=null,n}function Sme(r,e){var n=wme(r);return e&&H0(n,e),n}function kme(r){return lh(r)?ch(r)?r.slice():XP({},r):r}function Tme(r,e){return e(r),r}function ZP(r){return ch(r)?r:[r]}zn.toPath=ZP;function Lv(r){return zn.toPath(r)}function JP(r,e){for(var n=e.length,i=0;i<n;i++){if(r==null)return;r=r[e[i]]}return n?r:void 0}function QP(r,e,n){var i=JP(r,Lv(e));return PP(i)?n:i}function Eme(r,e){e=Lv(e);for(var n=e.length,i=0;i<n;i++){var o=e[i];if(!uh(r,o))return!1;r=r[o]}return!!n}function w6(r){return r}function Qf(r){return r=H0({},r),function(e){return HP(e,r)}}function S6(r){return r=Lv(r),function(e){return JP(e,r)}}function Uv(r,e,n){if(e===void 0)return r;switch(n??3){case 1:return function(i){return r.call(e,i)};case 3:return function(i,o,a){return r.call(e,i,o,a)};case 4:return function(i,o,a,s){return r.call(e,i,o,a,s)}}return function(){return r.apply(e,arguments)}}function Cme(r,e,n){return r==null?w6:Fi(r)?Uv(r,e,n):lh(r)&&!ch(r)?Qf(r):S6(r)}function k6(r,e){return Cme(r,e,1/0)}zn.iteratee=k6;function jo(r,e,n){return zn.iteratee!==k6?zn.iteratee(r,e):Cme(r,e,n)}function _me(r,e,n){e=jo(e,n);for(var i=ni(r),o=i.length,a={},s=0;s<o;s++){var l=i[s];a[l]=e(r[l],l,r)}return a}function eI(){}function Ame(r){return r==null?eI:function(e){return QP(r,e)}}function Dme(r,e,n){var i=Array(Math.max(0,r));e=Uv(e,n,1);for(var o=0;o<r;o++)i[o]=e(o);return i}function z3(r,e){return e==null&&(e=r,r=0),r+Math.floor(Math.random()*(e-r+1))}const W0=Date.now||function(){return new Date().getTime()};function Mme(r){var e=function(a){return r[a]},n="(?:"+ni(r).join("|")+")",i=RegExp(n),o=RegExp(n,"g");return function(a){return a=a==null?"":""+a,i.test(a)?a.replace(o,e):a}}const Rme={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Nme=Mme(Rme),Iit=GP(Rme),Ome=Mme(Iit),Pme=zn.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A_=/(.)^/,$it={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},zit=/\\|'|\r|\n|\u2028|\u2029/g;function Lit(r){return"\\"+$it[r]}var Uit=/^\s*(\w|\$)+\s*$/;function Ime(r,e,n){!e&&n&&(e=n),e=YP({},e,zn.templateSettings);var i=RegExp([(e.escape||A_).source,(e.interpolate||A_).source,(e.evaluate||A_).source].join("|")+"|$","g"),o=0,a="__p+='";r.replace(i,function(u,d,h,f,m){return a+=r.slice(o,m).replace(zit,Lit),o=m+u.length,d?a+=`'+
((__t=(`+d+`))==null?'':_.escape(__t))+
'`:h?a+=`'+
((__t=(`+h+`))==null?'':__t)+
'`:f&&(a+=`';
`+f+`
__p+='`),u}),a+=`';
`;var s=e.variable;if(s){if(!Uit.test(s))throw new Error("variable is not a bare identifier: "+s)}else a=`with(obj||{}){
`+a+`}
`,s="obj";a=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+a+`return __p;
`;var l;try{l=new Function(s,"_",a)}catch(u){throw u.source=a,u}var c=function(u){return l.call(this,u,zn)};return c.source="function("+s+`){
`+a+"}",c}function $me(r,e,n){e=Lv(e);var i=e.length;if(!i)return Fi(n)?n.call(r):n;for(var o=0;o<i;o++){var a=r==null?void 0:r[e[o]];a===void 0&&(a=n,o=i),r=Fi(a)?a.call(r):a}return r}var Bit=0;function zme(r){var e=++Bit+"";return r?r+e:e}function Lme(r){var e=zn(r);return e._chain=!0,e}function Ume(r,e,n,i,o){if(!(i instanceof e))return r.apply(n,o);var a=wme(r.prototype),s=r.apply(a,o);return lh(s)?s:a}var Sp=mo(function(r,e){var n=Sp.placeholder,i=function(){for(var o=0,a=e.length,s=Array(a),l=0;l<a;l++)s[l]=e[l]===n?arguments[o++]:e[l];for(;o<arguments.length;)s.push(arguments[o++]);return Ume(r,i,this,this,s)};return i});Sp.placeholder=zn;const tI=mo(function(r,e,n){if(!Fi(r))throw new TypeError("Bind must be called on a function");var i=mo(function(o){return Ume(r,i,e,this,n.concat(o))});return i}),Ta=sme(Io);function kp(r,e,n,i){if(i=i||[],!e&&e!==0)e=1/0;else if(e<=0)return i.concat(r);for(var o=i.length,a=0,s=Io(r);a<s;a++){var l=r[a];if(Ta(l)&&(ch(l)||x6(l)))if(e>1)kp(l,e-1,n,i),o=i.length;else for(var c=0,u=l.length;c<u;)i[o++]=l[c++];else n||(i[o++]=l)}return i}const Bme=mo(function(r,e){e=kp(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=e[n];r[i]=tI(r[i],r)}return r});function jme(r,e){var n=function(i){var o=n.cache,a=""+(e?e.apply(this,arguments):i);return uh(o,a)||(o[a]=r.apply(this,arguments)),o[a]};return n.cache={},n}const nI=mo(function(r,e,n){return setTimeout(function(){return r.apply(null,n)},e)}),Fme=Sp(nI,zn,1);function Hme(r,e,n){var i,o,a,s,l=0;n||(n={});var c=function(){l=n.leading===!1?0:W0(),i=null,s=r.apply(o,a),i||(o=a=null)},u=function(){var d=W0();!l&&n.leading===!1&&(l=d);var h=e-(d-l);return o=this,a=arguments,h<=0||h>e?(i&&(clearTimeout(i),i=null),l=d,s=r.apply(o,a),i||(o=a=null)):!i&&n.trailing!==!1&&(i=setTimeout(c,h)),s};return u.cancel=function(){clearTimeout(i),l=0,i=o=a=null},u}function Wme(r,e,n){var i,o,a,s,l,c=function(){var d=W0()-o;e>d?i=setTimeout(c,e-d):(i=null,n||(s=r.apply(l,a)),i||(a=l=null))},u=mo(function(d){return l=this,a=d,o=W0(),i||(i=setTimeout(c,e),n&&(s=r.apply(l,a))),s});return u.cancel=function(){clearTimeout(i),i=a=l=null},u}function Vme(r,e){return Sp(e,r)}function T6(r){return function(){return!r.apply(this,arguments)}}function qme(){var r=arguments,e=r.length-1;return function(){for(var n=e,i=r[e].apply(this,arguments);n--;)i=r[n].call(this,i);return i}}function Gme(r,e){return function(){if(--r<1)return e.apply(this,arguments)}}function rI(r,e){var n;return function(){return--r>0&&(n=e.apply(this,arguments)),r<=1&&(e=null),n}}const Kme=Sp(rI,2);function iI(r,e,n){e=jo(e,n);for(var i=ni(r),o,a=0,s=i.length;a<s;a++)if(o=i[a],e(r[o],o,r))return o}function Xme(r){return function(e,n,i){n=jo(n,i);for(var o=Io(e),a=r>0?0:o-1;a>=0&&a<o;a+=r)if(n(e[a],a,e))return a;return-1}}const E6=Xme(1),oI=Xme(-1);function aI(r,e,n,i){n=jo(n,i,1);for(var o=n(e),a=0,s=Io(r);a<s;){var l=Math.floor((a+s)/2);n(r[l])<o?a=l+1:s=l}return a}function Yme(r,e,n){return function(i,o,a){var s=0,l=Io(i);if(typeof a=="number")r>0?s=a>=0?a:Math.max(a+l,s):l=a>=0?Math.min(a+1,l):a+l+1;else if(n&&a&&l)return a=n(i,o),i[a]===o?a:-1;if(o!==o)return a=e(zv.call(i,s,l),BP),a>=0?a+s:-1;for(a=r>0?s:l-1;a>=0&&a<l;a+=r)if(i[a]===o)return a;return-1}}const sI=Yme(1,E6,aI),Zme=Yme(-1,oI);function Nb(r,e,n){var i=Ta(r)?E6:iI,o=i(r,e,n);if(o!==void 0&&o!==-1)return r[o]}function Jme(r,e){return Nb(r,Qf(e))}function Ns(r,e,n){e=Uv(e,n);var i,o;if(Ta(r))for(i=0,o=r.length;i<o;i++)e(r[i],i,r);else{var a=ni(r);for(i=0,o=a.length;i<o;i++)e(r[a[i]],a[i],r)}return r}function Zc(r,e,n){e=jo(e,n);for(var i=!Ta(r)&&ni(r),o=(i||r).length,a=Array(o),s=0;s<o;s++){var l=i?i[s]:s;a[s]=e(r[l],l,r)}return a}function Qme(r){var e=function(n,i,o,a){var s=!Ta(n)&&ni(n),l=(s||n).length,c=r>0?0:l-1;for(a||(o=n[s?s[c]:c],c+=r);c>=0&&c<l;c+=r){var u=s?s[c]:c;o=i(o,n[u],u,n)}return o};return function(n,i,o,a){var s=arguments.length>=3;return e(n,Uv(i,a,4),o,s)}}const d0=Qme(1),L3=Qme(-1);function jd(r,e,n){var i=[];return e=jo(e,n),Ns(r,function(o,a,s){e(o,a,s)&&i.push(o)}),i}function e0e(r,e,n){return jd(r,T6(jo(e)),n)}function U3(r,e,n){e=jo(e,n);for(var i=!Ta(r)&&ni(r),o=(i||r).length,a=0;a<o;a++){var s=i?i[a]:a;if(!e(r[s],s,r))return!1}return!0}function B3(r,e,n){e=jo(e,n);for(var i=!Ta(r)&&ni(r),o=(i||r).length,a=0;a<o;a++){var s=i?i[a]:a;if(e(r[s],s,r))return!0}return!1}function Ja(r,e,n,i){return Ta(r)||(r=wp(r)),(typeof n!="number"||i)&&(n=0),sI(r,e,n)>=0}const t0e=mo(function(r,e,n){var i,o;return Fi(e)?o=e:(e=Lv(e),i=e.slice(0,-1),e=e[e.length-1]),Zc(r,function(a){var s=o;if(!s){if(i&&i.length&&(a=JP(a,i)),a==null)return;s=a[e]}return s==null?s:s.apply(a,n)})});function C6(r,e){return Zc(r,S6(e))}function n0e(r,e){return jd(r,Qf(e))}function lI(r,e,n){var i=-1/0,o=-1/0,a,s;if(e==null||typeof e=="number"&&typeof r[0]!="object"&&r!=null){r=Ta(r)?r:wp(r);for(var l=0,c=r.length;l<c;l++)a=r[l],a!=null&&a>i&&(i=a)}else e=jo(e,n),Ns(r,function(u,d,h){s=e(u,d,h),(s>o||s===-1/0&&i===-1/0)&&(i=u,o=s)});return i}function r0e(r,e,n){var i=1/0,o=1/0,a,s;if(e==null||typeof e=="number"&&typeof r[0]!="object"&&r!=null){r=Ta(r)?r:wp(r);for(var l=0,c=r.length;l<c;l++)a=r[l],a!=null&&a<i&&(i=a)}else e=jo(e,n),Ns(r,function(u,d,h){s=e(u,d,h),(s<o||s===1/0&&i===1/0)&&(i=u,o=s)});return i}var jit=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function cI(r){return r?ch(r)?zv.call(r):v6(r)?r.match(jit):Ta(r)?Zc(r,w6):wp(r):[]}function uI(r,e,n){if(e==null||n)return Ta(r)||(r=wp(r)),r[z3(r.length-1)];var i=cI(r),o=Io(i);e=Math.max(Math.min(e,o),0);for(var a=o-1,s=0;s<e;s++){var l=z3(s,a),c=i[s];i[s]=i[l],i[l]=c}return i.slice(0,e)}function i0e(r){return uI(r,1/0)}function o0e(r,e,n){var i=0;return e=jo(e,n),C6(Zc(r,function(o,a,s){return{value:o,index:i++,criteria:e(o,a,s)}}).sort(function(o,a){var s=o.criteria,l=a.criteria;if(s!==l){if(s>l||s===void 0)return 1;if(s<l||l===void 0)return-1}return o.index-a.index}),"value")}function _6(r,e){return function(n,i,o){var a=e?[[],[]]:{};return i=jo(i,o),Ns(n,function(s,l){var c=i(s,l,n);r(a,s,c)}),a}}const a0e=_6(function(r,e,n){uh(r,n)?r[n].push(e):r[n]=[e]}),s0e=_6(function(r,e,n){r[n]=e}),l0e=_6(function(r,e,n){uh(r,n)?r[n]++:r[n]=1}),c0e=_6(function(r,e,n){r[n?0:1].push(e)},!0);function u0e(r){return r==null?0:Ta(r)?r.length:ni(r).length}function Fit(r,e,n){return e in n}const dI=mo(function(r,e){var n={},i=e[0];if(r==null)return n;Fi(i)?(e.length>1&&(i=Uv(i,e[1])),e=vg(r)):(i=Fit,e=kp(e,!1,!1),r=Object(r));for(var o=0,a=e.length;o<a;o++){var s=e[o],l=r[s];i(l,s,r)&&(n[s]=l)}return n}),d0e=mo(function(r,e){var n=e[0],i;return Fi(n)?(n=T6(n),e.length>1&&(i=e[1])):(e=Zc(kp(e,!1,!1),String),n=function(o,a){return!Ja(e,a)}),dI(r,n,i)});function hI(r,e,n){return zv.call(r,0,Math.max(0,r.length-(e==null||n?1:e)))}function h0(r,e,n){return r==null||r.length<1?e==null||n?void 0:[]:e==null||n?r[0]:hI(r,r.length-e)}function Rf(r,e,n){return zv.call(r,e==null||n?1:e)}function h0e(r,e,n){return r==null||r.length<1?e==null||n?void 0:[]:e==null||n?r[r.length-1]:Rf(r,Math.max(0,r.length-e))}function f0e(r){return jd(r,Boolean)}function p0e(r,e){return kp(r,e,!1)}const fI=mo(function(r,e){return e=kp(e,!0,!0),jd(r,function(n){return!Ja(e,n)})}),m0e=mo(function(r,e){return fI(r,e)});function Ob(r,e,n,i){IP(e)||(i=n,n=e,e=!1),n!=null&&(n=jo(n,i));for(var o=[],a=[],s=0,l=Io(r);s<l;s++){var c=r[s],u=n?n(c,s,r):c;e&&!n?((!s||a!==u)&&o.push(c),a=u):n?Ja(a,u)||(a.push(u),o.push(c)):Ja(o,c)||o.push(c)}return o}const g0e=mo(function(r){return Ob(kp(r,!0,!0))});function y0e(r){for(var e=[],n=arguments.length,i=0,o=Io(r);i<o;i++){var a=r[i];if(!Ja(e,a)){var s;for(s=1;s<n&&Ja(arguments[s],a);s++);s===n&&e.push(a)}}return e}function Pb(r){for(var e=r&&lI(r,Io).length||0,n=Array(e),i=0;i<e;i++)n[i]=C6(r,i);return n}const b0e=mo(Pb);function v0e(r,e){for(var n={},i=0,o=Io(r);i<o;i++)e?n[r[i]]=e[i]:n[r[i][0]]=r[i][1];return n}function x0e(r,e,n){e==null&&(e=r||0,r=0),n||(n=e<r?-1:1);for(var i=Math.max(Math.ceil((e-r)/n),0),o=Array(i),a=0;a<i;a++,r+=n)o[a]=r;return o}function w0e(r,e){if(e==null||e<1)return[];for(var n=[],i=0,o=r.length;i<o;)n.push(zv.call(r,i,i+=e));return n}function pI(r,e){return r._chain?zn(e).chain():e}function mI(r){return Ns(Rb(r),function(e){var n=zn[e]=r[e];zn.prototype[e]=function(){var i=[this._wrapped];return bit.apply(i,arguments),pI(this,n.apply(zn,i))}}),zn}Ns(["pop","push","reverse","shift","sort","splice","unshift"],function(r){var e=b6[r];zn.prototype[r]=function(){var n=this._wrapped;return n!=null&&(e.apply(n,arguments),(r==="shift"||r==="splice")&&n.length===0&&delete n[0]),pI(this,n)}});Ns(["concat","join","slice"],function(r){var e=b6[r];zn.prototype[r]=function(){var n=this._wrapped;return n!=null&&(n=e.apply(n,arguments)),pI(this,n)}});const Hit=Object.freeze(Object.defineProperty({__proto__:null,VERSION:NP,after:Gme,all:U3,allKeys:vg,any:B3,assign:H0,before:rI,bind:tI,bindAll:Bme,chain:Lme,chunk:w0e,clone:kme,collect:Zc,compact:f0e,compose:qme,constant:jP,contains:Ja,countBy:l0e,create:Sme,debounce:Wme,default:zn,defaults:YP,defer:Fme,delay:nI,detect:Nb,difference:fI,drop:Rf,each:Ns,escape:Nme,every:U3,extend:XP,extendOwn:H0,filter:jd,find:Nb,findIndex:E6,findKey:iI,findLastIndex:oI,findWhere:Jme,first:h0,flatten:p0e,foldl:d0,foldr:L3,forEach:Ns,functions:Rb,get:QP,groupBy:a0e,has:Eme,head:h0,identity:w6,include:Ja,includes:Ja,indexBy:s0e,indexOf:sI,initial:hI,inject:d0,intersection:y0e,invert:GP,invoke:t0e,isArguments:x6,isArray:ch,isArrayBuffer:LP,isBoolean:IP,isDataView:Mb,isDate:eme,isElement:Qpe,isEmpty:ume,isEqual:hme,isError:nme,isFinite:ame,isFunction:Fi,isMap:gme,isMatch:HP,isNaN:BP,isNull:Jpe,isNumber:$P,isObject:lh,isRegExp:tme,isSet:bme,isString:v6,isSymbol:zP,isTypedArray:FP,isUndefined:PP,isWeakMap:yme,isWeakSet:vme,iteratee:k6,keys:ni,last:h0e,lastIndexOf:Zme,map:Zc,mapObject:_me,matcher:Qf,matches:Qf,max:lI,memoize:jme,methods:Rb,min:r0e,mixin:mI,negate:T6,noop:eI,now:W0,object:v0e,omit:d0e,once:Kme,pairs:xme,partial:Sp,partition:c0e,pick:dI,pluck:C6,property:S6,propertyOf:Ame,random:z3,range:x0e,reduce:d0,reduceRight:L3,reject:e0e,rest:Rf,restArguments:mo,result:$me,sample:uI,select:jd,shuffle:i0e,size:u0e,some:B3,sortBy:o0e,sortedIndex:aI,tail:Rf,take:h0,tap:Tme,template:Ime,templateSettings:Pme,throttle:Hme,times:Dme,toArray:cI,toPath:ZP,transpose:Pb,unescape:Ome,union:g0e,uniq:Ob,unique:Ob,uniqueId:zme,unzip:Pb,values:wp,where:n0e,without:m0e,wrap:Vme,zip:b0e},Symbol.toStringTag,{value:"Module"}));var cM=mI(Hit);cM._=cM;const Wit=Object.freeze(Object.defineProperty({__proto__:null,VERSION:NP,after:Gme,all:U3,allKeys:vg,any:B3,assign:H0,before:rI,bind:tI,bindAll:Bme,chain:Lme,chunk:w0e,clone:kme,collect:Zc,compact:f0e,compose:qme,constant:jP,contains:Ja,countBy:l0e,create:Sme,debounce:Wme,default:cM,defaults:YP,defer:Fme,delay:nI,detect:Nb,difference:fI,drop:Rf,each:Ns,escape:Nme,every:U3,extend:XP,extendOwn:H0,filter:jd,find:Nb,findIndex:E6,findKey:iI,findLastIndex:oI,findWhere:Jme,first:h0,flatten:p0e,foldl:d0,foldr:L3,forEach:Ns,functions:Rb,get:QP,groupBy:a0e,has:Eme,head:h0,identity:w6,include:Ja,includes:Ja,indexBy:s0e,indexOf:sI,initial:hI,inject:d0,intersection:y0e,invert:GP,invoke:t0e,isArguments:x6,isArray:ch,isArrayBuffer:LP,isBoolean:IP,isDataView:Mb,isDate:eme,isElement:Qpe,isEmpty:ume,isEqual:hme,isError:nme,isFinite:ame,isFunction:Fi,isMap:gme,isMatch:HP,isNaN:BP,isNull:Jpe,isNumber:$P,isObject:lh,isRegExp:tme,isSet:bme,isString:v6,isSymbol:zP,isTypedArray:FP,isUndefined:PP,isWeakMap:yme,isWeakSet:vme,iteratee:k6,keys:ni,last:h0e,lastIndexOf:Zme,map:Zc,mapObject:_me,matcher:Qf,matches:Qf,max:lI,memoize:jme,methods:Rb,min:r0e,mixin:mI,negate:T6,noop:eI,now:W0,object:v0e,omit:d0e,once:Kme,pairs:xme,partial:Sp,partition:c0e,pick:dI,pluck:C6,property:S6,propertyOf:Ame,random:z3,range:x0e,reduce:d0,reduceRight:L3,reject:e0e,rest:Rf,restArguments:mo,result:$me,sample:uI,select:jd,shuffle:i0e,size:u0e,some:B3,sortBy:o0e,sortedIndex:aI,tail:Rf,take:h0,tap:Tme,template:Ime,templateSettings:Pme,throttle:Hme,times:Dme,toArray:cI,toPath:ZP,transpose:Pb,unescape:Ome,union:g0e,uniq:Ob,unique:Ob,uniqueId:zme,unzip:Pb,values:wp,where:n0e,without:m0e,wrap:Vme,zip:b0e},Symbol.toStringTag,{value:"Module"})),Fr=xle(Wit);var p2={},$a={},BX={exports:{}},m2={exports:{}},jX;function xg(){if(jX)return m2.exports;jX=1;var r=function(){return this===void 0}();if(r)m2.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(d,h){var f=Object.getOwnPropertyDescriptor(d,h);return!!(!f||f.writable||f.set)}};else{var e={}.hasOwnProperty,n={}.toString,i={}.constructor.prototype,o=function(d){var h=[];for(var f in d)e.call(d,f)&&h.push(f);return h},a=function(d,h){return{value:d[h]}},s=function(d,h,f){return d[h]=f.value,d},l=function(d){return d},c=function(d){try{return Object(d).constructor.prototype}catch{return i}},u=function(d){try{return n.call(d)==="[object Array]"}catch{return!1}};m2.exports={isArray:u,keys:o,names:o,defineProperty:s,getDescriptor:a,freeze:l,getPrototypeOf:c,isES5:r,propertyIsWritable:function(){return!0}}}return m2.exports}var W1,FX;function sr(){if(FX)return W1;FX=1;var r=xg(),e=typeof navigator>"u",n={e:{}},i,o=typeof self<"u"?self:typeof window<"u"?window:typeof Wa<"u"?Wa:W1!==void 0?W1:null;function a(){try{var j=i;return i=null,j.apply(this,arguments)}catch(ae){return n.e=ae,n}}function s(j){return i=j,a}var l=function(j,ae){var re={}.hasOwnProperty;function de(){this.constructor=j,this.constructor$=ae;for(var me in ae.prototype)re.call(ae.prototype,me)&&me.charAt(me.length-1)!=="$"&&(this[me+"$"]=ae.prototype[me])}return de.prototype=ae.prototype,j.prototype=new de,j.prototype};function c(j){return j==null||j===!0||j===!1||typeof j=="string"||typeof j=="number"}function u(j){return typeof j=="function"||typeof j=="object"&&j!==null}function d(j){return c(j)?new Error(D(j)):j}function h(j,ae){var re=j.length,de=new Array(re+1),me;for(me=0;me<re;++me)de[me]=j[me];return de[me]=ae,de}function f(j,ae,re){if(r.isES5){var de=Object.getOwnPropertyDescriptor(j,ae);if(de!=null)return de.get==null&&de.set==null?de.value:re}else return{}.hasOwnProperty.call(j,ae)?j[ae]:void 0}function m(j,ae,re){if(c(j))return j;var de={value:re,configurable:!0,enumerable:!1,writable:!0};return r.defineProperty(j,ae,de),j}function b(j){throw j}var g=function(){var j=[Array.prototype,Object.prototype,Function.prototype],ae=function(me){for(var K=0;K<j.length;++K)if(j[K]===me)return!0;return!1};if(r.isES5){var re=Object.getOwnPropertyNames;return function(me){for(var K=[],q=Object.create(null);me!=null&&!ae(me);){var be;try{be=re(me)}catch{return K}for(var pe=0;pe<be.length;++pe){var ie=be[pe];if(!q[ie]){q[ie]=!0;var le=Object.getOwnPropertyDescriptor(me,ie);le!=null&&le.get==null&&le.set==null&&K.push(ie)}}me=r.getPrototypeOf(me)}return K}}else{var de={}.hasOwnProperty;return function(me){if(ae(me))return[];var K=[];e:for(var q in me)if(de.call(me,q))K.push(q);else{for(var be=0;be<j.length;++be)if(de.call(j[be],q))continue e;K.push(q)}return K}}}(),v=/this\s*\.\s*\S+\s*=/;function x(j){try{if(typeof j=="function"){var ae=r.names(j.prototype),re=r.isES5&&ae.length>1,de=ae.length>0&&!(ae.length===1&&ae[0]==="constructor"),me=v.test(j+"")&&r.names(j).length>0;if(re||de||me)return!0}return!1}catch{return!1}}function w(j){return j}var k=/^[a-z$_][a-z$_0-9]*$/i;function T(j){return k.test(j)}function _(j,ae,re){for(var de=new Array(j),me=0;me<j;++me)de[me]=ae+me+re;return de}function D(j){try{return j+""}catch{return"[no string representation]"}}function I(j){return j!==null&&typeof j=="object"&&typeof j.message=="string"&&typeof j.name=="string"}function L(j){try{m(j,"isOperational",!0)}catch{}}function O(j){return j==null?!1:j instanceof Error.__BluebirdErrorTypes__.OperationalError||j.isOperational===!0}function W(j){return I(j)&&r.propertyIsWritable(j,"stack")}var Z=function(){return"stack"in new Error?function(j){return W(j)?j:new Error(D(j))}:function(j){if(W(j))return j;try{throw new Error(D(j))}catch(ae){return ae}}}();function $(j){return{}.toString.call(j)}function F(j,ae,re){for(var de=r.names(j),me=0;me<de.length;++me){var K=de[me];if(re(K))try{r.defineProperty(ae,K,r.getDescriptor(j,K))}catch{}}}var A=function(j){return r.isArray(j)?j:null};if(typeof Symbol<"u"&&Symbol.iterator){var Q=typeof Array.from=="function"?function(j){return Array.from(j)}:function(j){for(var ae=[],re=j[Symbol.iterator](),de;!(de=re.next()).done;)ae.push(de.value);return ae};A=function(j){return r.isArray(j)?j:j!=null&&typeof j[Symbol.iterator]=="function"?Q(j):null}}var H=typeof process<"u"&&$(process).toLowerCase()==="[object process]",G=typeof process<"u"&&typeof RX<"u";function ne(j){return G?RX[j]:void 0}function J(){if(typeof Promise=="function")try{var j=new Promise(function(){});if({}.toString.call(j)==="[object Promise]")return Promise}catch{}}function ee(j,ae){return j.bind(ae)}var X={isClass:x,isIdentifier:T,inheritedDataKeys:g,getDataPropertyOrDefault:f,thrower:b,isArray:r.isArray,asArray:A,notEnumerableProp:m,isPrimitive:c,isObject:u,isError:I,canEvaluate:e,errorObj:n,tryCatch:s,inherits:l,withAppended:h,maybeWrapAsError:d,toFastProperties:w,filledRange:_,toString:D,canAttachTrace:W,ensureErrorObject:Z,originatesFromRejection:O,markAsOriginatingFromRejection:L,classString:$,copyDescriptors:F,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:H,hasEnvVariables:G,env:ne,global:o,getNativePromise:J,domainBind:ee};X.isRecentNode=X.isNode&&function(){var j=process.versions.node.split(".").map(Number);return j[0]===0&&j[1]>10||j[0]>0}(),X.isNode&&X.toFastProperties(process);try{throw new Error}catch(j){X.lastLineError=j}return W1=X,W1}var g2={exports:{}},D_,HX;function Vit(){if(HX)return D_;HX=1;var r=sr(),e,n=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},i=r.getNativePromise();if(r.isNode&&typeof MutationObserver>"u"){var o=Wa.setImmediate,a=process.nextTick;e=r.isRecentNode?function(l){o.call(Wa,l)}:function(l){a.call(process,l)}}else if(typeof i=="function"&&typeof i.resolve=="function"){var s=i.resolve();e=function(l){s.then(l)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=function(){var l=document.createElement("div"),c={attributes:!0},u=!1,d=document.createElement("div"),h=new MutationObserver(function(){l.classList.toggle("foo"),u=!1});h.observe(d,c);var f=function(){u||(u=!0,d.classList.toggle("foo"))};return function(m){var b=new MutationObserver(function(){b.disconnect(),m()});b.observe(l,c),f()}}():typeof setImmediate<"u"?e=function(l){setImmediate(l)}:typeof setTimeout<"u"?e=function(l){setTimeout(l,0)}:e=n;return D_=e,D_}var M_,WX;function qit(){if(WX)return M_;WX=1;function r(n,i,o,a,s){for(var l=0;l<s;++l)o[l+a]=n[l+i],n[l+i]=void 0}function e(n){this._capacity=n,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(n){return this._capacity<n},e.prototype._pushOne=function(n){var i=this.length();this._checkCapacity(i+1);var o=this._front+i&this._capacity-1;this[o]=n,this._length=i+1},e.prototype.push=function(n,i,o){var a=this.length()+3;if(this._willBeOverCapacity(a)){this._pushOne(n),this._pushOne(i),this._pushOne(o);return}var s=this._front+a-3;this._checkCapacity(a);var l=this._capacity-1;this[s+0&l]=n,this[s+1&l]=i,this[s+2&l]=o,this._length=a},e.prototype.shift=function(){var n=this._front,i=this[n];return this[n]=void 0,this._front=n+1&this._capacity-1,this._length--,i},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(n){this._capacity<n&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(n){var i=this._capacity;this._capacity=n;var o=this._front,a=this._length,s=o+a&i-1;r(this,0,this,i,s)},M_=e,M_}var VX;function Git(){if(VX)return g2.exports;VX=1;var r;try{throw new Error}catch(c){r=c}var e=Vit(),n=qit(),i=sr();function o(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new n(16),this._normalQueue=new n(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var c=this;this.drainQueues=function(){c._drainQueues()},this._schedule=e}o.prototype.setScheduler=function(c){var u=this._schedule;return this._schedule=c,this._customScheduler=!0,u},o.prototype.hasCustomScheduler=function(){return this._customScheduler},o.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},o.prototype.disableTrampolineIfNecessary=function(){i.hasDevTools&&(this._trampolineEnabled=!1)},o.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},o.prototype.fatalError=function(c,u){u?(process.stderr.write("Fatal "+(c instanceof Error?c.stack:c)+`
`),process.exit(2)):this.throwLater(c)},o.prototype.throwLater=function(c,u){if(arguments.length===1&&(u=c,c=function(){throw u}),typeof setTimeout<"u")setTimeout(function(){c(u)},0);else try{this._schedule(function(){c(u)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function a(c,u,d){this._lateQueue.push(c,u,d),this._queueTick()}function s(c,u,d){this._normalQueue.push(c,u,d),this._queueTick()}function l(c){this._normalQueue._pushOne(c),this._queueTick()}return i.hasDevTools?(o.prototype.invokeLater=function(c,u,d){this._trampolineEnabled?a.call(this,c,u,d):this._schedule(function(){setTimeout(function(){c.call(u,d)},100)})},o.prototype.invoke=function(c,u,d){this._trampolineEnabled?s.call(this,c,u,d):this._schedule(function(){c.call(u,d)})},o.prototype.settlePromises=function(c){this._trampolineEnabled?l.call(this,c):this._schedule(function(){c._settlePromises()})}):(o.prototype.invokeLater=a,o.prototype.invoke=s,o.prototype.settlePromises=l),o.prototype._drainQueue=function(c){for(;c.length()>0;){var u=c.shift();if(typeof u!="function"){u._settlePromises();continue}var d=c.shift(),h=c.shift();u.call(d,h)}},o.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},o.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},o.prototype._reset=function(){this._isTickUsed=!1},g2.exports=o,g2.exports.firstLineError=r,g2.exports}var R_,qX;function Fd(){if(qX)return R_;qX=1;var r=xg(),e=r.freeze,n=sr(),i=n.inherits,o=n.notEnumerableProp;function a(x,w){function k(T){if(!(this instanceof k))return new k(T);o(this,"message",typeof T=="string"?T:w),o(this,"name",x),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return i(k,Error),k}var s,l,c=a("Warning","warning"),u=a("CancellationError","cancellation error"),d=a("TimeoutError","timeout error"),h=a("AggregateError","aggregate error");try{s=TypeError,l=RangeError}catch{s=a("TypeError","type error"),l=a("RangeError","range error")}for(var f="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<f.length;++m)typeof Array.prototype[f[m]]=="function"&&(h.prototype[f[m]]=Array.prototype[f[m]]);r.defineProperty(h.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),h.prototype.isOperational=!0;var b=0;h.prototype.toString=function(){var x=Array(b*4+1).join(" "),w=`
`+x+`AggregateError of:
`;b++,x=Array(b*4+1).join(" ");for(var k=0;k<this.length;++k){for(var T=this[k]===this?"[Circular AggregateError]":this[k]+"",_=T.split(`
`),D=0;D<_.length;++D)_[D]=x+_[D];T=_.join(`
`),w+=T+`
`}return b--,w};function g(x){if(!(this instanceof g))return new g(x);o(this,"name","OperationalError"),o(this,"message",x),this.cause=x,this.isOperational=!0,x instanceof Error?(o(this,"message",x.message),o(this,"stack",x.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}i(g,Error);var v=Error.__BluebirdErrorTypes__;return v||(v=e({CancellationError:u,TimeoutError:d,OperationalError:g,RejectionError:g,AggregateError:h}),r.defineProperty(Error,"__BluebirdErrorTypes__",{value:v,writable:!1,enumerable:!1,configurable:!1})),R_={Error,TypeError:s,RangeError:l,CancellationError:v.CancellationError,OperationalError:v.OperationalError,TimeoutError:v.TimeoutError,AggregateError:v.AggregateError,Warning:c},R_}var GX,KX;function Kit(){return KX||(KX=1,GX=function(r,e){var n=sr(),i=n.errorObj,o=n.isObject;function a(h,f){if(o(h)){if(h instanceof r)return h;var m=l(h);if(m===i){f&&f._pushContext();var b=r.reject(m.e);return f&&f._popContext(),b}else if(typeof m=="function"){if(u(h)){var b=new r(e);return h._then(b._fulfill,b._reject,void 0,b,null),b}return d(h,m,f)}}return h}function s(h){return h.then}function l(h){try{return s(h)}catch(f){return i.e=f,i}}var c={}.hasOwnProperty;function u(h){try{return c.call(h,"_promise0")}catch{return!1}}function d(h,f,m){var b=new r(e),g=b;m&&m._pushContext(),b._captureStackTrace(),m&&m._popContext();var v=!0,x=n.tryCatch(f).call(h,w,k);v=!1,b&&x===i&&(b._rejectCallback(x.e,!0,!0),b=null);function w(T){b&&(b._resolveCallback(T),b=null)}function k(T){b&&(b._rejectCallback(T,v,!0),b=null)}return g}return a}),GX}var XX,YX;function Xit(){return YX||(YX=1,XX=function(r,e,n,i,o){var a=sr();a.isArray;function s(c){switch(c){case-2:return[];case-3:return{}}}function l(c){var u=this._promise=new r(e);c instanceof r&&u._propagateFrom(c,3),u._setOnCancel(this),this._values=c,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return a.inherits(l,o),l.prototype.length=function(){return this._length},l.prototype.promise=function(){return this._promise},l.prototype._init=function c(u,d){var h=n(this._values,this._promise);if(h instanceof r){h=h._target();var f=h._bitField;if(this._values=h,(f&50397184)===0)return this._promise._setAsyncGuaranteed(),h._then(c,this._reject,void 0,this,d);if((f&33554432)!==0)h=h._value();else return(f&16777216)!==0?this._reject(h._reason()):this._cancel()}if(h=a.asArray(h),h===null){var m=i("expecting an array or an iterable object but got "+a.classString(h)).reason();this._promise._rejectCallback(m,!1);return}if(h.length===0){d===-5?this._resolveEmptyArray():this._resolve(s(d));return}this._iterate(h)},l.prototype._iterate=function(c){var u=this.getActualLength(c.length);this._length=u,this._values=this.shouldCopyValues()?new Array(u):this._values;for(var d=this._promise,h=!1,f=null,m=0;m<u;++m){var b=n(c[m],d);b instanceof r?(b=b._target(),f=b._bitField):f=null,h?f!==null&&b.suppressUnhandledRejections():f!==null?(f&50397184)===0?(b._proxy(this,m),this._values[m]=b):(f&33554432)!==0?h=this._promiseFulfilled(b._value(),m):(f&16777216)!==0?h=this._promiseRejected(b._reason(),m):h=this._promiseCancelled(m):h=this._promiseFulfilled(b,m)}h||d._setAsyncGuaranteed()},l.prototype._isResolved=function(){return this._values===null},l.prototype._resolve=function(c){this._values=null,this._promise._fulfill(c)},l.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},l.prototype._reject=function(c){this._values=null,this._promise._rejectCallback(c,!1)},l.prototype._promiseFulfilled=function(c,u){this._values[u]=c;var d=++this._totalResolved;return d>=this._length?(this._resolve(this._values),!0):!1},l.prototype._promiseCancelled=function(){return this._cancel(),!0},l.prototype._promiseRejected=function(c){return this._totalResolved++,this._reject(c),!0},l.prototype._resultCancelled=function(){if(!this._isResolved()){var c=this._values;if(this._cancel(),c instanceof r)c.cancel();else for(var u=0;u<c.length;++u)c[u]instanceof r&&c[u].cancel()}},l.prototype.shouldCopyValues=function(){return!0},l.prototype.getActualLength=function(c){return c},l}),XX}var ZX,JX;function Yit(){return JX||(JX=1,ZX=function(r){var e=!1,n=[];r.prototype._promiseCreated=function(){},r.prototype._pushContext=function(){},r.prototype._popContext=function(){return null},r._peekContext=r.prototype._peekContext=function(){};function i(){this._trace=new i.CapturedTrace(a())}i.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,n.push(this._trace))},i.prototype._popContext=function(){if(this._trace!==void 0){var s=n.pop(),l=s._promiseCreated;return s._promiseCreated=null,l}return null};function o(){if(e)return new i}function a(){var s=n.length-1;if(s>=0)return n[s]}return i.CapturedTrace=null,i.create=o,i.deactivateLongStackTraces=function(){},i.activateLongStackTraces=function(){var s=r.prototype._pushContext,l=r.prototype._popContext,c=r._peekContext,u=r.prototype._peekContext,d=r.prototype._promiseCreated;i.deactivateLongStackTraces=function(){r.prototype._pushContext=s,r.prototype._popContext=l,r._peekContext=c,r.prototype._peekContext=u,r.prototype._promiseCreated=d,e=!1},e=!0,r.prototype._pushContext=i.prototype._pushContext,r.prototype._popContext=i.prototype._popContext,r._peekContext=r.prototype._peekContext=a,r.prototype._promiseCreated=function(){var h=this._peekContext();h&&h._promiseCreated==null&&(h._promiseCreated=this)}},i}),ZX}var QX,eY;function Zit(){return eY||(eY=1,QX=function(r,e){var n=r._getDomain,i=r._async,o=Fd().Warning,a=sr(),s=a.canAttachTrace,l,c,u=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,d=/\((?:timers\.js):\d+:\d+\)/,h=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,f=null,m=null,b=!1,g,v=!!(a.env("BLUEBIRD_DEBUG")!=0&&(a.env("BLUEBIRD_DEBUG")||a.env("NODE_ENV")==="development")),x=!!(a.env("BLUEBIRD_WARNINGS")!=0&&(v||a.env("BLUEBIRD_WARNINGS"))),w=!!(a.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(v||a.env("BLUEBIRD_LONG_STACK_TRACES"))),k=a.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(x||!!a.env("BLUEBIRD_W_FORGOTTEN_RETURN"));r.prototype.suppressUnhandledRejections=function(){var ge=this._target();ge._bitField=ge._bitField&-1048577|524288},r.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)===0&&(this._setRejectionIsUnhandled(),i.invokeLater(this._notifyUnhandledRejection,this,void 0))},r.prototype._notifyUnhandledRejectionIsHandled=function(){le("rejectionHandled",l,void 0,this)},r.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},r.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},r.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var ge=this._settledValue();this._setUnhandledRejectionIsNotified(),le("unhandledRejection",c,ge,this)}},r.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},r.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},r.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},r.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},r.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},r.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},r.prototype._warn=function(ge,Se,Te){return re(ge,Se,Te||this)},r.onPossiblyUnhandledRejection=function(ge){var Se=n();c=typeof ge=="function"?Se===null?ge:a.domainBind(Se,ge):void 0},r.onUnhandledRejectionHandled=function(ge){var Se=n();l=typeof ge=="function"?Se===null?ge:a.domainBind(Se,ge):void 0};var T=function(){};r.longStackTraces=function(){if(i.haveItemsQueued()&&!se.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!se.longStackTraces&&he()){var ge=r.prototype._captureStackTrace,Se=r.prototype._attachExtraTrace;se.longStackTraces=!0,T=function(){if(i.haveItemsQueued()&&!se.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);r.prototype._captureStackTrace=ge,r.prototype._attachExtraTrace=Se,e.deactivateLongStackTraces(),i.enableTrampoline(),se.longStackTraces=!1},r.prototype._captureStackTrace=ee,r.prototype._attachExtraTrace=X,e.activateLongStackTraces(),i.disableTrampolineIfNecessary()}},r.hasLongStackTraces=function(){return se.longStackTraces&&he()};var _=function(){try{if(typeof CustomEvent=="function"){var ge=new CustomEvent("CustomEvent");return a.global.dispatchEvent(ge),function(Se,Te){var De=new CustomEvent(Se.toLowerCase(),{detail:Te,cancelable:!0});return!a.global.dispatchEvent(De)}}else if(typeof Event=="function"){var ge=new Event("CustomEvent");return a.global.dispatchEvent(ge),function(Te,De){var Le=new Event(Te.toLowerCase(),{cancelable:!0});return Le.detail=De,!a.global.dispatchEvent(Le)}}else{var ge=document.createEvent("CustomEvent");return ge.initCustomEvent("testingtheevent",!1,!0,{}),a.global.dispatchEvent(ge),function(Te,De){var Le=document.createEvent("CustomEvent");return Le.initCustomEvent(Te.toLowerCase(),!1,!0,De),!a.global.dispatchEvent(Le)}}}catch{}return function(){return!1}}(),D=function(){return a.isNode?function(){return process.emit.apply(process,arguments)}:a.global?function(ge){var Se="on"+ge.toLowerCase(),Te=a.global[Se];return Te?(Te.apply(a.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}();function I(ge,Se){return{promise:Se}}var L={promiseCreated:I,promiseFulfilled:I,promiseRejected:I,promiseResolved:I,promiseCancelled:I,promiseChained:function(ge,Se,Te){return{promise:Se,child:Te}},warning:function(ge,Se){return{warning:Se}},unhandledRejection:function(ge,Se,Te){return{reason:Se,promise:Te}},rejectionHandled:I},O=function(ge){var Se=!1;try{Se=D.apply(null,arguments)}catch(De){i.throwLater(De),Se=!0}var Te=!1;try{Te=_(ge,L[ge].apply(null,arguments))}catch(De){i.throwLater(De),Te=!0}return Te||Se};r.config=function(ge){if(ge=Object(ge),"longStackTraces"in ge&&(ge.longStackTraces?r.longStackTraces():!ge.longStackTraces&&r.hasLongStackTraces()&&T()),"warnings"in ge){var Se=ge.warnings;se.warnings=!!Se,k=se.warnings,a.isObject(Se)&&"wForgottenReturn"in Se&&(k=!!Se.wForgottenReturn)}if("cancellation"in ge&&ge.cancellation&&!se.cancellation){if(i.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");r.prototype._clearCancellationData=Q,r.prototype._propagateFrom=H,r.prototype._onCancel=F,r.prototype._setOnCancel=A,r.prototype._attachCancellationCallback=$,r.prototype._execute=Z,ne=H,se.cancellation=!0}return"monitoring"in ge&&(ge.monitoring&&!se.monitoring?(se.monitoring=!0,r.prototype._fireEvent=O):!ge.monitoring&&se.monitoring&&(se.monitoring=!1,r.prototype._fireEvent=W)),r};function W(){return!1}r.prototype._fireEvent=W,r.prototype._execute=function(ge,Se,Te){try{ge(Se,Te)}catch(De){return De}},r.prototype._onCancel=function(){},r.prototype._setOnCancel=function(ge){},r.prototype._attachCancellationCallback=function(ge){},r.prototype._captureStackTrace=function(){},r.prototype._attachExtraTrace=function(){},r.prototype._clearCancellationData=function(){},r.prototype._propagateFrom=function(ge,Se){};function Z(ge,Se,Te){var De=this;try{ge(Se,Te,function(Le){if(typeof Le!="function")throw new TypeError("onCancel must be a function, got: "+a.toString(Le));De._attachCancellationCallback(Le)})}catch(Le){return Le}}function $(ge){if(!this._isCancellable())return this;var Se=this._onCancel();Se!==void 0?a.isArray(Se)?Se.push(ge):this._setOnCancel([Se,ge]):this._setOnCancel(ge)}function F(){return this._onCancelField}function A(ge){this._onCancelField=ge}function Q(){this._cancellationParent=void 0,this._onCancelField=void 0}function H(ge,Se){if((Se&1)!==0){this._cancellationParent=ge;var Te=ge._branchesRemainingToCancel;Te===void 0&&(Te=0),ge._branchesRemainingToCancel=Te+1}(Se&2)!==0&&ge._isBound()&&this._setBoundTo(ge._boundTo)}function G(ge,Se){(Se&2)!==0&&ge._isBound()&&this._setBoundTo(ge._boundTo)}var ne=G;function J(){var ge=this._boundTo;return ge!==void 0&&ge instanceof r?ge.isFulfilled()?ge.value():void 0:ge}function ee(){this._trace=new ue(this._peekContext())}function X(ge,Se){if(s(ge)){var Te=this._trace;if(Te!==void 0&&Se&&(Te=Te._parent),Te!==void 0)Te.attachExtraTrace(ge);else if(!ge.__stackCleaned__){var De=pe(ge);a.notEnumerableProp(ge,"stack",De.message+`
`+De.stack.join(`
`)),a.notEnumerableProp(ge,"__stackCleaned__",!0)}}}function j(ge,Se,Te,De,Le){if(ge===void 0&&Se!==null&&k){if(Le!==void 0&&Le._returnedNonUndefined()||(De._bitField&65535)===0)return;Te&&(Te=Te+" ");var Ke="",pt="";if(Se._trace){for(var jt=Se._trace.stack.split(`
`),Ne=q(jt),Ye=Ne.length-1;Ye>=0;--Ye){var Ze=Ne[Ye];if(!d.test(Ze)){var Pe=Ze.match(h);Pe&&(Ke="at "+Pe[1]+":"+Pe[2]+":"+Pe[3]+" ");break}}if(Ne.length>0){for(var Qe=Ne[0],Ye=0;Ye<jt.length;++Ye)if(jt[Ye]===Qe){Ye>0&&(pt=`
`+jt[Ye-1]);break}}}var Ce="a promise was created in a "+Te+"handler "+Ke+"but was not returned from it, see http://goo.gl/rRqMUw"+pt;De._warn(Ce,!0,Se)}}function ae(ge,Se){var Te=ge+" is deprecated and will be removed in a future version.";return Se&&(Te+=" Use "+Se+" instead."),re(Te)}function re(ge,Se,Te){if(se.warnings){var De=new o(ge),Le;if(Se)Te._attachExtraTrace(De);else if(se.longStackTraces&&(Le=r._peekContext()))Le.attachExtraTrace(De);else{var Ke=pe(De);De.stack=Ke.message+`
`+Ke.stack.join(`
`)}O("warning",De)||ie(De,"",!0)}}function de(ge,Se){for(var Te=0;Te<Se.length-1;++Te)Se[Te].push("From previous event:"),Se[Te]=Se[Te].join(`
`);return Te<Se.length&&(Se[Te]=Se[Te].join(`
`)),ge+`
`+Se.join(`
`)}function me(ge){for(var Se=0;Se<ge.length;++Se)(ge[Se].length===0||Se+1<ge.length&&ge[Se][0]===ge[Se+1][0])&&(ge.splice(Se,1),Se--)}function K(ge){for(var Se=ge[0],Te=1;Te<ge.length;++Te){for(var De=ge[Te],Le=Se.length-1,Ke=Se[Le],pt=-1,jt=De.length-1;jt>=0;--jt)if(De[jt]===Ke){pt=jt;break}for(var jt=pt;jt>=0;--jt){var Ne=De[jt];if(Se[Le]===Ne)Se.pop(),Le--;else break}Se=De}}function q(ge){for(var Se=[],Te=0;Te<ge.length;++Te){var De=ge[Te],Le=De==="    (No stack trace)"||f.test(De),Ke=Le&&V(De);Le&&!Ke&&(b&&De.charAt(0)!==" "&&(De="    "+De),Se.push(De))}return Se}function be(ge){for(var Se=ge.stack.replace(/\s+$/g,"").split(`
`),Te=0;Te<Se.length;++Te){var De=Se[Te];if(De==="    (No stack trace)"||f.test(De))break}return Te>0&&ge.name!="SyntaxError"&&(Se=Se.slice(Te)),Se}function pe(ge){var Se=ge.stack,Te=ge.toString();return Se=typeof Se=="string"&&Se.length>0?be(ge):["    (No stack trace)"],{message:Te,stack:ge.name=="SyntaxError"?Se:q(Se)}}function ie(ge,Se,Te){if(typeof console<"u"){var De;if(a.isObject(ge)){var Le=ge.stack;De=Se+m(Le,ge)}else De=Se+String(ge);typeof g=="function"?g(De,Te):(typeof console.log=="function"||typeof console.log=="object")&&console.log(De)}}function le(ge,Se,Te,De){var Le=!1;try{typeof Se=="function"&&(Le=!0,ge==="rejectionHandled"?Se(De):Se(Te,De))}catch(Ke){i.throwLater(Ke)}ge==="unhandledRejection"?!O(ge,Te,De)&&!Le&&ie(Te,"Unhandled rejection "):O(ge,De)}function Ee(ge){var Se;if(typeof ge=="function")Se="[function "+(ge.name||"anonymous")+"]";else{Se=ge&&typeof ge.toString=="function"?ge.toString():a.toString(ge);var Te=/\[object [a-zA-Z0-9$_]+\]/;if(Te.test(Se))try{var De=JSON.stringify(ge);Se=De}catch{}Se.length===0&&(Se="(empty array)")}return"(<"+M(Se)+">, no stack trace)"}function M(ge){var Se=41;return ge.length<Se?ge:ge.substr(0,Se-3)+"..."}function he(){return typeof ve=="function"}var V=function(){return!1},R=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function N(ge){var Se=ge.match(R);if(Se)return{fileName:Se[1],line:parseInt(Se[2],10)}}function B(ge,Se){if(he()){for(var Te=ge.stack.split(`
`),De=Se.stack.split(`
`),Le=-1,Ke=-1,pt,jt,Ne=0;Ne<Te.length;++Ne){var Ye=N(Te[Ne]);if(Ye){pt=Ye.fileName,Le=Ye.line;break}}for(var Ne=0;Ne<De.length;++Ne){var Ye=N(De[Ne]);if(Ye){jt=Ye.fileName,Ke=Ye.line;break}}Le<0||Ke<0||!pt||!jt||pt!==jt||Le>=Ke||(V=function(Ze){if(u.test(Ze))return!0;var Pe=N(Ze);return!!(Pe&&Pe.fileName===pt&&Le<=Pe.line&&Pe.line<=Ke)})}}function ue(ge){this._parent=ge,this._promisesCreated=0;var Se=this._length=1+(ge===void 0?0:ge._length);ve(this,ue),Se>32&&this.uncycle()}a.inherits(ue,Error),e.CapturedTrace=ue,ue.prototype.uncycle=function(){var ge=this._length;if(!(ge<2)){for(var Se=[],Te={},De=0,Le=this;Le!==void 0;++De)Se.push(Le),Le=Le._parent;ge=this._length=De;for(var De=ge-1;De>=0;--De){var Ke=Se[De].stack;Te[Ke]===void 0&&(Te[Ke]=De)}for(var De=0;De<ge;++De){var pt=Se[De].stack,jt=Te[pt];if(jt!==void 0&&jt!==De){jt>0&&(Se[jt-1]._parent=void 0,Se[jt-1]._length=1),Se[De]._parent=void 0,Se[De]._length=1;var Ne=De>0?Se[De-1]:this;jt<ge-1?(Ne._parent=Se[jt+1],Ne._parent.uncycle(),Ne._length=Ne._parent._length+1):(Ne._parent=void 0,Ne._length=1);for(var Ye=Ne._length+1,Ze=De-2;Ze>=0;--Ze)Se[Ze]._length=Ye,Ye++;return}}}},ue.prototype.attachExtraTrace=function(ge){if(!ge.__stackCleaned__){this.uncycle();for(var Se=pe(ge),Te=Se.message,De=[Se.stack],Le=this;Le!==void 0;)De.push(q(Le.stack.split(`
`))),Le=Le._parent;K(De),me(De),a.notEnumerableProp(ge,"stack",de(Te,De)),a.notEnumerableProp(ge,"__stackCleaned__",!0)}};var ve=function(){var ge=/^\s*at\s*/,Se=function(Ke,pt){return typeof Ke=="string"?Ke:pt.name!==void 0&&pt.message!==void 0?pt.toString():Ee(pt)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,f=ge,m=Se;var Te=Error.captureStackTrace;return V=function(Ke){return u.test(Ke)},function(Ke,pt){Error.stackTraceLimit+=6,Te(Ke,pt),Error.stackTraceLimit-=6}}var De=new Error;if(typeof De.stack=="string"&&De.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return f=/@/,m=Se,b=!0,function(Ke){Ke.stack=new Error().stack};var Le;try{throw new Error}catch(Ke){Le="stack"in Ke}return!("stack"in De)&&Le&&typeof Error.stackTraceLimit=="number"?(f=ge,m=Se,function(Ke){Error.stackTraceLimit+=6;try{throw new Error}catch(pt){Ke.stack=pt.stack}Error.stackTraceLimit-=6}):(m=function(Ke,pt){return typeof Ke=="string"?Ke:(typeof pt=="object"||typeof pt=="function")&&pt.name!==void 0&&pt.message!==void 0?pt.toString():Ee(pt)},null)}();typeof console<"u"&&typeof console.warn<"u"&&(g=function(ge){console.warn(ge)},a.isNode&&process.stderr.isTTY?g=function(ge,Se){var Te=Se?"\x1B[33m":"\x1B[31m";console.warn(Te+ge+`\x1B[0m
`)}:!a.isNode&&typeof new Error().stack=="string"&&(g=function(ge,Se){console.warn("%c"+ge,Se?"color: darkorange":"color: red")}));var se={warnings:x,longStackTraces:!1,cancellation:!1,monitoring:!1};return w&&r.longStackTraces(),{longStackTraces:function(){return se.longStackTraces},warnings:function(){return se.warnings},cancellation:function(){return se.cancellation},monitoring:function(){return se.monitoring},propagateFromFunction:function(){return ne},boundValueFunction:function(){return J},checkForgottenReturns:j,setBounds:B,warn:re,deprecated:ae,CapturedTrace:ue,fireDomEvent:_,fireGlobalEvent:D}}),QX}var tY,nY;function Jit(){return nY||(nY=1,tY=function(r,e){var n=sr(),i=r.CancellationError,o=n.errorObj;function a(h,f,m){this.promise=h,this.type=f,this.handler=m,this.called=!1,this.cancelPromise=null}a.prototype.isFinallyHandler=function(){return this.type===0};function s(h){this.finallyHandler=h}s.prototype._resultCancelled=function(){l(this.finallyHandler)};function l(h,f){return h.cancelPromise!=null?(arguments.length>1?h.cancelPromise._reject(f):h.cancelPromise._cancel(),h.cancelPromise=null,!0):!1}function c(){return d.call(this,this.promise._target()._settledValue())}function u(h){if(!l(this,h))return o.e=h,o}function d(h){var f=this.promise,m=this.handler;if(!this.called){this.called=!0;var b=this.isFinallyHandler()?m.call(f._boundValue()):m.call(f._boundValue(),h);if(b!==void 0){f._setReturnedNonUndefined();var g=e(b,f);if(g instanceof r){if(this.cancelPromise!=null)if(g._isCancelled()){var v=new i("late cancellation observer");return f._attachExtraTrace(v),o.e=v,o}else g.isPending()&&g._attachCancellationCallback(new s(this));return g._then(c,u,void 0,this,void 0)}}}return f.isRejected()?(l(this),o.e=h,o):(l(this),h)}return r.prototype._passThrough=function(h,f,m,b){return typeof h!="function"?this.then():this._then(m,b,void 0,new a(this,f,h),void 0)},r.prototype.lastly=r.prototype.finally=function(h){return this._passThrough(h,0,d,d)},r.prototype.tap=function(h){return this._passThrough(h,1,d)},a}),tY}var rY,iY;function Qit(){return iY||(iY=1,rY=function(r){var e=sr(),n=xg().keys,i=e.tryCatch,o=e.errorObj;function a(s,l,c){return function(u){var d=c._boundValue();e:for(var h=0;h<s.length;++h){var f=s[h];if(f===Error||f!=null&&f.prototype instanceof Error){if(u instanceof f)return i(l).call(d,u)}else if(typeof f=="function"){var m=i(f).call(d,u);if(m===o)return m;if(m)return i(l).call(d,u)}else if(e.isObject(u)){for(var b=n(f),g=0;g<b.length;++g){var v=b[g];if(f[v]!=u[v])continue e}return i(l).call(d,u)}}return r}}return a}),rY}var N_,oY;function S0e(){if(oY)return N_;oY=1;var r=sr(),e=r.maybeWrapAsError,n=Fd(),i=n.OperationalError,o=xg();function a(u){return u instanceof Error&&o.getPrototypeOf(u)===Error.prototype}var s=/^(?:name|message|stack|cause)$/;function l(u){var d;if(a(u)){d=new i(u),d.name=u.name,d.message=u.message,d.stack=u.stack;for(var h=o.keys(u),f=0;f<h.length;++f){var m=h[f];s.test(m)||(d[m]=u[m])}return d}return r.markAsOriginatingFromRejection(u),u}function c(u,d){return function(h,f){if(u!==null){if(h){var m=l(e(h));u._attachExtraTrace(m),u._reject(m)}else if(!d)u._fulfill(f);else{for(var b=arguments.length,g=new Array(Math.max(b-1,0)),v=1;v<b;++v)g[v-1]=arguments[v];u._fulfill(g)}u=null}}}return N_=c,N_}var aY,sY;function eot(){return sY||(sY=1,aY=function(r,e,n,i,o){var a=sr(),s=a.tryCatch;r.method=function(l){if(typeof l!="function")throw new r.TypeError("expecting a function but got "+a.classString(l));return function(){var c=new r(e);c._captureStackTrace(),c._pushContext();var u=s(l).apply(this,arguments),d=c._popContext();return o.checkForgottenReturns(u,d,"Promise.method",c),c._resolveFromSyncValue(u),c}},r.attempt=r.try=function(l){if(typeof l!="function")return i("expecting a function but got "+a.classString(l));var c=new r(e);c._captureStackTrace(),c._pushContext();var u;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var d=arguments[1],h=arguments[2];u=a.isArray(d)?s(l).apply(h,d):s(l).call(h,d)}else u=s(l)();var f=c._popContext();return o.checkForgottenReturns(u,f,"Promise.try",c),c._resolveFromSyncValue(u),c},r.prototype._resolveFromSyncValue=function(l){l===a.errorObj?this._rejectCallback(l.e,!1):this._resolveCallback(l,!0)}}),aY}var lY,cY;function tot(){return cY||(cY=1,lY=function(r,e,n,i){var o=!1,a=function(u,d){this._reject(d)},s=function(u,d){d.promiseRejectionQueued=!0,d.bindingPromise._then(a,a,null,this,u)},l=function(u,d){(this._bitField&50397184)===0&&this._resolveCallback(d.target)},c=function(u,d){d.promiseRejectionQueued||this._reject(u)};r.prototype.bind=function(u){o||(o=!0,r.prototype._propagateFrom=i.propagateFromFunction(),r.prototype._boundValue=i.boundValueFunction());var d=n(u),h=new r(e);h._propagateFrom(this,1);var f=this._target();if(h._setBoundTo(d),d instanceof r){var m={promiseRejectionQueued:!1,promise:h,target:f,bindingPromise:d};f._then(e,s,void 0,h,m),d._then(l,c,void 0,h,m),h._setOnCancel(d)}else h._resolveCallback(f);return h},r.prototype._setBoundTo=function(u){u!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=u):this._bitField=this._bitField&-2097153},r.prototype._isBound=function(){return(this._bitField&2097152)===2097152},r.bind=function(u,d){return r.resolve(d).bind(u)}}),lY}var uY,dY;function not(){return dY||(dY=1,uY=function(r,e,n,i){var o=sr(),a=o.tryCatch,s=o.errorObj,l=r._async;r.prototype.break=r.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var c=this,u=c;c._isCancellable();){if(!c._cancelBy(u)){u._isFollowing()?u._followee().cancel():u._cancelBranched();break}var d=c._cancellationParent;if(d==null||!d._isCancellable()){c._isFollowing()?c._followee().cancel():c._cancelBranched();break}else c._isFollowing()&&c._followee().cancel(),c._setWillBeCancelled(),u=c,c=d}},r.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},r.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},r.prototype._cancelBy=function(c){return c===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},r.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},r.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),l.invoke(this._cancelPromises,this,void 0))},r.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},r.prototype._unsetOnCancel=function(){this._onCancelField=void 0},r.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},r.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},r.prototype._doInvokeOnCancel=function(c,u){if(o.isArray(c))for(var d=0;d<c.length;++d)this._doInvokeOnCancel(c[d],u);else if(c!==void 0)if(typeof c=="function"){if(!u){var h=a(c).call(this._boundValue());h===s&&(this._attachExtraTrace(h.e),l.throwLater(h.e))}}else c._resultCancelled(this)},r.prototype._invokeOnCancel=function(){var c=this._onCancel();this._unsetOnCancel(),l.invoke(this._doInvokeOnCancel,this,c)},r.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},r.prototype._resultCancelled=function(){this.cancel()}}),uY}var hY,fY;function rot(){return fY||(fY=1,hY=function(r){function e(){return this.value}function n(){throw this.reason}r.prototype.return=r.prototype.thenReturn=function(i){return i instanceof r&&i.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:i},void 0)},r.prototype.throw=r.prototype.thenThrow=function(i){return this._then(n,void 0,void 0,{reason:i},void 0)},r.prototype.catchThrow=function(i){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:i},void 0);var o=arguments[1],a=function(){throw o};return this.caught(i,a)},r.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof r&&i.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:i},void 0);var o=arguments[1];o instanceof r&&o.suppressUnhandledRejections();var a=function(){return o};return this.caught(i,a)}}),hY}var pY,mY;function iot(){return mY||(mY=1,pY=function(r){function e(c){c!==void 0?(c=c._target(),this._bitField=c._bitField,this._settledValueField=c._isFateSealed()?c._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},o=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},a=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},s=e.prototype.isPending=function(){return(this._bitField&50397184)===0},l=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},r.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},r.prototype._isCancelled=function(){return this._target().__isCancelled()},r.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},r.prototype.isPending=function(){return s.call(this._target())},r.prototype.isRejected=function(){return a.call(this._target())},r.prototype.isFulfilled=function(){return o.call(this._target())},r.prototype.isResolved=function(){return l.call(this._target())},r.prototype.value=function(){return n.call(this._target())},r.prototype.reason=function(){var c=this._target();return c._unsetRejectionIsUnhandled(),i.call(c)},r.prototype._value=function(){return this._settledValue()},r.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},r.PromiseInspection=e}),pY}var gY,yY;function oot(){return yY||(yY=1,gY=function(r,e,n,i,o,a){var s=sr(),l=s.canEvaluate,c=s.tryCatch,u=s.errorObj,d;if(l){for(var h=function(w){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,w))},f=function(w){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,w))},m=function(w){for(var k=new Array(w),T=0;T<k.length;++T)k[T]="this.p"+(T+1);var _=k.join(" = ")+" = null;",D=`var promise;
`+k.map(function(W){return`                                                         
	                promise = `+W+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),I=k.join(", "),L="Holder$"+w,O=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return O=O.replace(/\[TheName\]/g,L).replace(/\[TheTotal\]/g,w).replace(/\[ThePassedArguments\]/g,I).replace(/\[TheProperties\]/g,_).replace(/\[CancellationCode\]/g,D),new Function("tryCatch","errorObj","Promise","async",O)(c,u,r,o)},b=[],g=[],v=[],x=0;x<8;++x)b.push(m(x+1)),g.push(h(x+1)),v.push(f(x+1));d=function(w){this._reject(w)}}r.join=function(){var w=arguments.length-1,k;if(w>0&&typeof arguments[w]=="function"&&(k=arguments[w],w<=8&&l)){var A=new r(i);A._captureStackTrace();for(var T=b[w-1],_=new T(k),D=g,I=0;I<w;++I){var L=n(arguments[I],A);if(L instanceof r){L=L._target();var O=L._bitField;(O&50397184)===0?(L._then(D[I],d,void 0,A,_),v[I](L,_),_.asyncNeeded=!1):(O&33554432)!==0?D[I].call(A,L._value(),_):(O&16777216)!==0?A._reject(L._reason()):A._cancel()}else D[I].call(A,L,_)}if(!A._isFateSealed()){if(_.asyncNeeded){var W=a();W!==null&&(_.fn=s.domainBind(W,_.fn))}A._setAsyncGuaranteed(),A._setOnCancel(_)}return A}for(var Z=arguments.length,$=new Array(Z),F=0;F<Z;++F)$[F]=arguments[F];k&&$.pop();var A=new e($).promise();return k!==void 0?A.spread(k):A}}),gY}var bY,vY;function aot(){return vY||(vY=1,bY=function(r,e,n,i,o,a){var s=r._getDomain,l=sr(),c=l.tryCatch,u=l.errorObj,d=r._async;function h(m,b,g,v){this.constructor$(m),this._promise._captureStackTrace();var x=s();this._callback=x===null?b:l.domainBind(x,b),this._preservedValues=v===o?new Array(this.length()):null,this._limit=g,this._inFlight=0,this._queue=[],d.invoke(this._asyncInit,this,void 0)}l.inherits(h,e),h.prototype._asyncInit=function(){this._init$(void 0,-2)},h.prototype._init=function(){},h.prototype._promiseFulfilled=function(m,b){var g=this._values,v=this.length(),x=this._preservedValues,w=this._limit;if(b<0){if(b=b*-1-1,g[b]=m,w>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(w>=1&&this._inFlight>=w)return g[b]=m,this._queue.push(b),!1;x!==null&&(x[b]=m);var k=this._promise,T=this._callback,_=k._boundValue();k._pushContext();var D=c(T).call(_,m,b,v),I=k._popContext();if(a.checkForgottenReturns(D,I,x!==null?"Promise.filter":"Promise.map",k),D===u)return this._reject(D.e),!0;var L=i(D,this._promise);if(L instanceof r){L=L._target();var O=L._bitField;if((O&50397184)===0)return w>=1&&this._inFlight++,g[b]=L,L._proxy(this,(b+1)*-1),!1;if((O&33554432)!==0)D=L._value();else return(O&16777216)!==0?(this._reject(L._reason()),!0):(this._cancel(),!0)}g[b]=D}var W=++this._totalResolved;return W>=v?(x!==null?this._filter(g,x):this._resolve(g),!0):!1},h.prototype._drainQueue=function(){for(var m=this._queue,b=this._limit,g=this._values;m.length>0&&this._inFlight<b;){if(this._isResolved())return;var v=m.pop();this._promiseFulfilled(g[v],v)}},h.prototype._filter=function(m,b){for(var g=b.length,v=new Array(g),x=0,w=0;w<g;++w)m[w]&&(v[x++]=b[w]);v.length=x,this._resolve(v)},h.prototype.preservedValues=function(){return this._preservedValues};function f(m,b,g,v){if(typeof b!="function")return n("expecting a function but got "+l.classString(b));var x=0;if(g!==void 0)if(typeof g=="object"&&g!==null){if(typeof g.concurrency!="number")return r.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(g.concurrency)));x=g.concurrency}else return r.reject(new TypeError("options argument must be an object but it is "+l.classString(g)));return x=typeof x=="number"&&isFinite(x)&&x>=1?x:0,new h(m,b,x,v).promise()}r.prototype.map=function(m,b){return f(this,m,b,null)},r.map=function(m,b,g,v){return f(m,b,g,v)}}),bY}var O_,xY;function sot(){if(xY)return O_;xY=1;var r=Object.create;if(r){var e=r(null),n=r(null);e[" size"]=n[" size"]=0}return O_=function(i){var o=sr(),a=o.canEvaluate,s=o.isIdentifier,l,c;{var u=function(v){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,v))(f)},d=function(v){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",v))},h=function(v,x,w){var k=w[v];if(typeof k!="function"){if(!s(v))return null;if(k=x(v),w[v]=k,w[" size"]++,w[" size"]>512){for(var T=Object.keys(w),_=0;_<256;++_)delete w[T[_]];w[" size"]=T.length-256}}return k};l=function(v){return h(v,u,e)},c=function(v){return h(v,d,n)}}function f(v,x){var w;if(v!=null&&(w=v[x]),typeof w!="function"){var k="Object "+o.classString(v)+" has no method '"+o.toString(x)+"'";throw new i.TypeError(k)}return w}function m(v){var x=this.pop(),w=f(v,x);return w.apply(v,this)}i.prototype.call=function(v){for(var x=arguments.length,w=new Array(Math.max(x-1,0)),k=1;k<x;++k)w[k-1]=arguments[k];if(a){var T=l(v);if(T!==null)return this._then(T,void 0,void 0,w,void 0)}return w.push(v),this._then(m,void 0,void 0,w,void 0)};function b(v){return v[this]}function g(v){var x=+this;return x<0&&(x=Math.max(0,x+v.length)),v[x]}i.prototype.get=function(v){var x=typeof v=="number",w;if(x)w=g;else if(a){var k=c(v);w=k!==null?k:b}else w=b;return this._then(w,void 0,void 0,v,void 0)}},O_}var wY,SY;function lot(){return SY||(SY=1,wY=function(r,e,n,i,o,a){var s=sr(),l=Fd().TypeError,c=sr().inherits,u=s.errorObj,d=s.tryCatch,h={};function f(k){setTimeout(function(){throw k},0)}function m(k){var T=n(k);return T!==k&&typeof k._isDisposable=="function"&&typeof k._getDisposer=="function"&&k._isDisposable()&&T._setDisposable(k._getDisposer()),T}function b(k,T){var _=0,D=k.length,I=new r(o);function L(){if(_>=D)return I._fulfill();var O=m(k[_++]);if(O instanceof r&&O._isDisposable()){try{O=n(O._getDisposer().tryDispose(T),k.promise)}catch(W){return f(W)}if(O instanceof r)return O._then(L,f,null,null,null)}L()}return L(),I}function g(k,T,_){this._data=k,this._promise=T,this._context=_}g.prototype.data=function(){return this._data},g.prototype.promise=function(){return this._promise},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():h},g.prototype.tryDispose=function(k){var T=this.resource(),_=this._context;_!==void 0&&_._pushContext();var D=T!==h?this.doDispose(T,k):null;return _!==void 0&&_._popContext(),this._promise._unsetDisposable(),this._data=null,D},g.isDisposer=function(k){return k!=null&&typeof k.resource=="function"&&typeof k.tryDispose=="function"};function v(k,T,_){this.constructor$(k,T,_)}c(v,g),v.prototype.doDispose=function(k,T){var _=this.data();return _.call(k,k,T)};function x(k){return g.isDisposer(k)?(this.resources[this.index]._setDisposable(k),k.promise()):k}function w(k){this.length=k,this.promise=null,this[k-1]=null}w.prototype._resultCancelled=function(){for(var k=this.length,T=0;T<k;++T){var _=this[T];_ instanceof r&&_.cancel()}},r.using=function(){var k=arguments.length;if(k<2)return e("you must pass at least 2 arguments to Promise.using");var T=arguments[k-1];if(typeof T!="function")return e("expecting a function but got "+s.classString(T));var _,D=!0;k===2&&Array.isArray(arguments[0])?(_=arguments[0],k=_.length,D=!1):(_=arguments,k--);for(var I=new w(k),L=0;L<k;++L){var O=_[L];if(g.isDisposer(O)){var W=O;O=O.promise(),O._setDisposable(W)}else{var Z=n(O);Z instanceof r&&(O=Z._then(x,null,null,{resources:I,index:L},void 0))}I[L]=O}for(var $=new Array(I.length),L=0;L<$.length;++L)$[L]=r.resolve(I[L]).reflect();var F=r.all($).then(function(Q){for(var H=0;H<Q.length;++H){var G=Q[H];if(G.isRejected())return u.e=G.error(),u;if(!G.isFulfilled()){F.cancel();return}Q[H]=G.value()}A._pushContext(),T=d(T);var ne=D?T.apply(void 0,Q):T(Q),J=A._popContext();return a.checkForgottenReturns(ne,J,"Promise.using",A),ne}),A=F.lastly(function(){var Q=new r.PromiseInspection(F);return b(I,Q)});return I.promise=A,A._setOnCancel(I),A},r.prototype._setDisposable=function(k){this._bitField=this._bitField|131072,this._disposer=k},r.prototype._isDisposable=function(){return(this._bitField&131072)>0},r.prototype._getDisposer=function(){return this._disposer},r.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},r.prototype.disposer=function(k){if(typeof k=="function")return new v(k,this,i());throw new l}}),wY}var kY,TY;function cot(){return TY||(TY=1,kY=function(r,e,n){var i=sr(),o=r.TimeoutError;function a(h){this.handle=h}a.prototype._resultCancelled=function(){clearTimeout(this.handle)};var s=function(h){return l(+this).thenReturn(h)},l=r.delay=function(h,f){var m,b;return f!==void 0?(m=r.resolve(f)._then(s,null,null,h,void 0),n.cancellation()&&f instanceof r&&m._setOnCancel(f)):(m=new r(e),b=setTimeout(function(){m._fulfill()},+h),n.cancellation()&&m._setOnCancel(new a(b)),m._captureStackTrace()),m._setAsyncGuaranteed(),m};r.prototype.delay=function(h){return l(h,this)};var c=function(h,f,m){var b;typeof f!="string"?f instanceof Error?b=f:b=new o("operation timed out"):b=new o(f),i.markAsOriginatingFromRejection(b),h._attachExtraTrace(b),h._reject(b),m!=null&&m.cancel()};function u(h){return clearTimeout(this.handle),h}function d(h){throw clearTimeout(this.handle),h}r.prototype.timeout=function(h,f){h=+h;var m,b,g=new a(setTimeout(function(){m.isPending()&&c(m,f,b)},h));return n.cancellation()?(b=this.then(),m=b._then(u,d,void 0,g,void 0),m._setOnCancel(g)):m=this._then(u,d,void 0,g,void 0),m}}),kY}var EY,CY;function uot(){return CY||(CY=1,EY=function(r,e,n,i,o,a){var s=Fd(),l=s.TypeError,c=sr(),u=c.errorObj,d=c.tryCatch,h=[];function f(b,g,v){for(var x=0;x<g.length;++x){v._pushContext();var w=d(g[x])(b);if(v._popContext(),w===u){v._pushContext();var k=r.reject(u.e);return v._popContext(),k}var T=i(w,v);if(T instanceof r)return T}return null}function m(b,g,v,x){if(a.cancellation()){var w=new r(n),k=this._finallyPromise=new r(n);this._promise=w.lastly(function(){return k}),w._captureStackTrace(),w._setOnCancel(this)}else{var T=this._promise=new r(n);T._captureStackTrace()}this._stack=x,this._generatorFunction=b,this._receiver=g,this._generator=void 0,this._yieldHandlers=typeof v=="function"?[v].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}c.inherits(m,o),m.prototype._isResolved=function(){return this._promise===null},m.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},m.prototype._promiseCancelled=function(){if(!this._isResolved()){var b=typeof this._generator.return<"u",g;if(b)this._promise._pushContext(),g=d(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var v=new r.CancellationError("generator .return() sentinel");r.coroutine.returnSentinel=v,this._promise._attachExtraTrace(v),this._promise._pushContext(),g=d(this._generator.throw).call(this._generator,v),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(g)}},m.prototype._promiseFulfilled=function(b){this._yieldedPromise=null,this._promise._pushContext();var g=d(this._generator.next).call(this._generator,b);this._promise._popContext(),this._continue(g)},m.prototype._promiseRejected=function(b){this._yieldedPromise=null,this._promise._attachExtraTrace(b),this._promise._pushContext();var g=d(this._generator.throw).call(this._generator,b);this._promise._popContext(),this._continue(g)},m.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof r){var b=this._yieldedPromise;this._yieldedPromise=null,b.cancel()}},m.prototype.promise=function(){return this._promise},m.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},m.prototype._continue=function(b){var g=this._promise;if(b===u)return this._cleanup(),this._cancellationPhase?g.cancel():g._rejectCallback(b.e,!1);var v=b.value;if(b.done===!0)return this._cleanup(),this._cancellationPhase?g.cancel():g._resolveCallback(v);var x=i(v,this._promise);if(!(x instanceof r)&&(x=f(x,this._yieldHandlers,this._promise),x===null)){this._promiseRejected(new l(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",v)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}x=x._target();var w=x._bitField;(w&50397184)===0?(this._yieldedPromise=x,x._proxy(this,null)):(w&33554432)!==0?r._async.invoke(this._promiseFulfilled,this,x._value()):(w&16777216)!==0?r._async.invoke(this._promiseRejected,this,x._reason()):this._promiseCancelled()},r.coroutine=function(b,g){if(typeof b!="function")throw new l(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var v=Object(g).yieldHandler,x=m,w=new Error().stack;return function(){var k=b.apply(this,arguments),T=new x(void 0,void 0,v,w),_=T.promise();return T._generator=k,T._promiseFulfilled(void 0),_}},r.coroutine.addYieldHandler=function(b){if(typeof b!="function")throw new l("expecting a function but got "+c.classString(b));h.push(b)},r.spawn=function(b){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),typeof b!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var g=new m(b,this),v=g.promise();return g._run(r.spawn),v}}),EY}var _Y,AY;function dot(){return AY||(AY=1,_Y=function(r){var e=sr(),n=r._async,i=e.tryCatch,o=e.errorObj;function a(c,u){var d=this;if(!e.isArray(c))return s.call(d,c,u);var h=i(u).apply(d._boundValue(),[null].concat(c));h===o&&n.throwLater(h.e)}function s(c,u){var d=this,h=d._boundValue(),f=c===void 0?i(u).call(h,null):i(u).call(h,null,c);f===o&&n.throwLater(f.e)}function l(c,u){var d=this;if(!c){var h=new Error(c+"");h.cause=c,c=h}var f=i(u).call(d._boundValue(),c);f===o&&n.throwLater(f.e)}r.prototype.asCallback=r.prototype.nodeify=function(c,u){if(typeof c=="function"){var d=s;u!==void 0&&Object(u).spread&&(d=a),this._then(d,l,void 0,this,c)}return this}}),_Y}var DY,MY;function hot(){return MY||(MY=1,DY=function(r,e){var n={},i=sr(),o=S0e(),a=i.withAppended,s=i.maybeWrapAsError,l=i.canEvaluate,c=Fd().TypeError,u="Async",d={__isPromisified__:!0},h=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],f=new RegExp("^(?:"+h.join("|")+")$"),m=function(F){return i.isIdentifier(F)&&F.charAt(0)!=="_"&&F!=="constructor"};function b(F){return!f.test(F)}function g(F){try{return F.__isPromisified__===!0}catch{return!1}}function v(F,A,Q){var H=i.getDataPropertyOrDefault(F,A+Q,d);return H?g(H):!1}function x(F,A,Q){for(var H=0;H<F.length;H+=2){var G=F[H];if(Q.test(G)){for(var ne=G.replace(Q,""),J=0;J<F.length;J+=2)if(F[J]===ne)throw new c(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",A))}}}function w(F,A,Q,H){for(var G=i.inheritedDataKeys(F),ne=[],J=0;J<G.length;++J){var ee=G[J],X=F[ee],j=H===m?!0:m(ee);typeof X=="function"&&!g(X)&&!v(F,ee,A)&&H(ee,X,F,j)&&ne.push(ee,X)}return x(ne,A,Q),ne}var k=function(F){return F.replace(/([$])/,"\\$")},T;{var _=function(F){for(var A=[F],Q=Math.max(0,F-1-3),H=F-1;H>=Q;--H)A.push(H);for(var H=F+1;H<=3;++H)A.push(H);return A},D=function(F){return i.filledRange(F,"_arg","")},I=function(F){return i.filledRange(Math.max(F,3),"_arg","")},L=function(F){return typeof F.length=="number"?Math.max(Math.min(F.length,1024),0):0};T=function(F,A,Q,H,G,ne){var J=Math.max(0,L(H)-1),ee=_(J),X=typeof F=="string"||A===n;function j(me){var K=D(me).join(", "),q=me>0?", ":"",be;return X?be=`ret = callback.call(this, {{args}}, nodeback); break;
`:be=A===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,be.replace("{{args}}",K).replace(", ",q)}function ae(){for(var me="",K=0;K<ee.length;++K)me+="case "+ee[K]+":"+j(ee[K]);return me+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",X?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),me}var re=typeof F=="string"?"this != null ? this['"+F+"'] : fn":"fn",de=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+ne+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",ae()).replace("[GetFunctionCode]",re);return de=de.replace("Parameters",I(J)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",de)(r,H,A,a,s,o,i.tryCatch,i.errorObj,i.notEnumerableProp,e)}}function O(F,A,Q,H,G,ne){var J=function(){return this}(),ee=F;typeof ee=="string"&&(F=H);function X(){var j=A;A===n&&(j=this);var ae=new r(e);ae._captureStackTrace();var re=typeof ee=="string"&&this!==J?this[ee]:F,de=o(ae,ne);try{re.apply(j,a(arguments,de))}catch(me){ae._rejectCallback(s(me),!0,!0)}return ae._isFateSealed()||ae._setAsyncGuaranteed(),ae}return i.notEnumerableProp(X,"__isPromisified__",!0),X}var W=l?T:O;function Z(F,A,Q,H,G){for(var ne=new RegExp(k(A)+"$"),J=w(F,A,ne,Q),ee=0,X=J.length;ee<X;ee+=2){var j=J[ee],ae=J[ee+1],re=j+A;if(H===W)F[re]=W(j,n,j,ae,A,G);else{var de=H(ae,function(){return W(j,n,j,ae,A,G)});i.notEnumerableProp(de,"__isPromisified__",!0),F[re]=de}}return i.toFastProperties(F),F}function $(F,A,Q){return W(F,A,void 0,F,null,Q)}r.promisify=function(F,A){if(typeof F!="function")throw new c("expecting a function but got "+i.classString(F));if(g(F))return F;A=Object(A);var Q=A.context===void 0?n:A.context,H=!!A.multiArgs,G=$(F,Q,H);return i.copyDescriptors(F,G,b),G},r.promisifyAll=function(F,A){if(typeof F!="function"&&typeof F!="object")throw new c(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);A=Object(A);var Q=!!A.multiArgs,H=A.suffix;typeof H!="string"&&(H=u);var G=A.filter;typeof G!="function"&&(G=m);var ne=A.promisifier;if(typeof ne!="function"&&(ne=W),!i.isIdentifier(H))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var J=i.inheritedDataKeys(F),ee=0;ee<J.length;++ee){var X=F[J[ee]];J[ee]!=="constructor"&&i.isClass(X)&&(Z(X.prototype,H,G,ne,Q),Z(X,H,G,ne,Q))}return Z(F,H,G,ne,Q)}}),DY}var RY,NY;function fot(){return NY||(NY=1,RY=function(r,e,n,i){var o=sr(),a=o.isObject,s=xg(),l;typeof Map=="function"&&(l=Map);var c=function(){var f=0,m=0;function b(g,v){this[f]=g,this[f+m]=v,f++}return function(g){m=g.size,f=0;var v=new Array(g.size*2);return g.forEach(b,v),v}}(),u=function(f){for(var m=new l,b=f.length/2|0,g=0;g<b;++g){var v=f[b+g],x=f[g];m.set(v,x)}return m};function d(f){var m=!1,b;if(l!==void 0&&f instanceof l)b=c(f),m=!0;else{var g=s.keys(f),v=g.length;b=new Array(v*2);for(var x=0;x<v;++x){var w=g[x];b[x]=f[w],b[x+v]=w}}this.constructor$(b),this._isMap=m,this._init$(void 0,-3)}o.inherits(d,e),d.prototype._init=function(){},d.prototype._promiseFulfilled=function(f,m){this._values[m]=f;var b=++this._totalResolved;if(b>=this._length){var g;if(this._isMap)g=u(this._values);else{g={};for(var v=this.length(),x=0,w=this.length();x<w;++x)g[this._values[x+v]]=this._values[x]}return this._resolve(g),!0}return!1},d.prototype.shouldCopyValues=function(){return!1},d.prototype.getActualLength=function(f){return f>>1};function h(f){var m,b=n(f);if(a(b))b instanceof r?m=b._then(r.props,void 0,void 0,void 0,void 0):m=new d(b).promise();else return i(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return b instanceof r&&m._propagateFrom(b,2),m}r.prototype.props=function(){return h(this)},r.props=function(f){return h(f)}}),RY}var OY,PY;function pot(){return PY||(PY=1,OY=function(r,e,n,i){var o=sr(),a=function(l){return l.then(function(c){return s(c,l)})};function s(l,c){var u=n(l);if(u instanceof r)return a(u);if(l=o.asArray(l),l===null)return i("expecting an array or an iterable object but got "+o.classString(l));var d=new r(e);c!==void 0&&d._propagateFrom(c,3);for(var h=d._fulfill,f=d._reject,m=0,b=l.length;m<b;++m){var g=l[m];g===void 0&&!(m in l)||r.cast(g)._then(h,f,void 0,d,null)}return d}r.race=function(l){return s(l,void 0)},r.prototype.race=function(){return s(this,void 0)}}),OY}var IY,$Y;function mot(){return $Y||($Y=1,IY=function(r,e,n,i,o,a){var s=r._getDomain,l=sr(),c=l.tryCatch;function u(b,g,v,x){this.constructor$(b);var w=s();this._fn=w===null?g:l.domainBind(w,g),v!==void 0&&(v=r.resolve(v),v._attachCancellationCallback(this)),this._initialValue=v,this._currentCancellable=null,x===o?this._eachValues=Array(this._length):x===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}l.inherits(u,e),u.prototype._gotAccum=function(b){this._eachValues!==void 0&&this._eachValues!==null&&b!==o&&this._eachValues.push(b)},u.prototype._eachComplete=function(b){return this._eachValues!==null&&this._eachValues.push(b),this._eachValues},u.prototype._init=function(){},u.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},u.prototype.shouldCopyValues=function(){return!1},u.prototype._resolve=function(b){this._promise._resolveCallback(b),this._values=null},u.prototype._resultCancelled=function(b){if(b===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof r&&this._currentCancellable.cancel(),this._initialValue instanceof r&&this._initialValue.cancel())},u.prototype._iterate=function(b){this._values=b;var g,v,x=b.length;if(this._initialValue!==void 0?(g=this._initialValue,v=0):(g=r.resolve(b[0]),v=1),this._currentCancellable=g,!g.isRejected())for(;v<x;++v){var w={accum:null,value:b[v],index:v,length:x,array:this};g=g._then(f,void 0,void 0,w,void 0)}this._eachValues!==void 0&&(g=g._then(this._eachComplete,void 0,void 0,this,void 0)),g._then(d,d,void 0,g,this)},r.prototype.reduce=function(b,g){return h(this,b,g,null)},r.reduce=function(b,g,v,x){return h(b,g,v,x)};function d(b,g){this.isFulfilled()?g._resolve(b):g._reject(b)}function h(b,g,v,x){if(typeof g!="function")return n("expecting a function but got "+l.classString(g));var w=new u(b,g,v,x);return w.promise()}function f(b){this.accum=b,this.array._gotAccum(b);var g=i(this.value,this.array._promise);return g instanceof r?(this.array._currentCancellable=g,g._then(m,void 0,void 0,this,void 0)):m.call(this,g)}function m(b){var g=this.array,v=g._promise,x=c(g._fn);v._pushContext();var w;g._eachValues!==void 0?w=x.call(v._boundValue(),b,this.index,this.length):w=x.call(v._boundValue(),this.accum,b,this.index,this.length),w instanceof r&&(g._currentCancellable=w);var k=v._popContext();return a.checkForgottenReturns(w,k,g._eachValues!==void 0?"Promise.each":"Promise.reduce",v),w}}),IY}var zY,LY;function got(){return LY||(LY=1,zY=function(r,e,n){var i=r.PromiseInspection,o=sr();function a(s){this.constructor$(s)}o.inherits(a,e),a.prototype._promiseResolved=function(s,l){this._values[s]=l;var c=++this._totalResolved;return c>=this._length?(this._resolve(this._values),!0):!1},a.prototype._promiseFulfilled=function(s,l){var c=new i;return c._bitField=33554432,c._settledValueField=s,this._promiseResolved(l,c)},a.prototype._promiseRejected=function(s,l){var c=new i;return c._bitField=16777216,c._settledValueField=s,this._promiseResolved(l,c)},r.settle=function(s){return n.deprecated(".settle()",".reflect()"),new a(s).promise()},r.prototype.settle=function(){return r.settle(this)}}),zY}var UY,BY;function yot(){return BY||(BY=1,UY=function(r,e,n){var i=sr(),o=Fd().RangeError,a=Fd().AggregateError,s=i.isArray,l={};function c(d){this.constructor$(d),this._howMany=0,this._unwrap=!1,this._initialized=!1}i.inherits(c,e),c.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var d=s(this._values);!this._isResolved()&&d&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},c.prototype.init=function(){this._initialized=!0,this._init()},c.prototype.setUnwrap=function(){this._unwrap=!0},c.prototype.howMany=function(){return this._howMany},c.prototype.setHowMany=function(d){this._howMany=d},c.prototype._promiseFulfilled=function(d){return this._addFulfilled(d),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},c.prototype._promiseRejected=function(d){return this._addRejected(d),this._checkOutcome()},c.prototype._promiseCancelled=function(){return this._values instanceof r||this._values==null?this._cancel():(this._addRejected(l),this._checkOutcome())},c.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var d=new a,h=this.length();h<this._values.length;++h)this._values[h]!==l&&d.push(this._values[h]);return d.length>0?this._reject(d):this._cancel(),!0}return!1},c.prototype._fulfilled=function(){return this._totalResolved},c.prototype._rejected=function(){return this._values.length-this.length()},c.prototype._addRejected=function(d){this._values.push(d)},c.prototype._addFulfilled=function(d){this._values[this._totalResolved++]=d},c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},c.prototype._getRangeError=function(d){var h="Input array must contain at least "+this._howMany+" items but contains only "+d+" items";return new o(h)},c.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function u(d,h){if((h|0)!==h||h<0)return n(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var f=new c(d),m=f.promise();return f.setHowMany(h),f.init(),m}r.some=function(d,h){return u(d,h)},r.prototype.some=function(d){return u(this,d)},r._SomePromiseArray=c}),UY}var jY,FY;function bot(){return FY||(FY=1,jY=function(r,e){var n=r.map;r.prototype.filter=function(i,o){return n(this,i,o,e)},r.filter=function(i,o,a){return n(i,o,a,e)}}),jY}var HY,WY;function vot(){return WY||(WY=1,HY=function(r,e){var n=r.reduce,i=r.all;function o(){return i(this)}function a(s,l){return n(s,l,e,e)}r.prototype.each=function(s){return n(this,s,e,0)._then(o,void 0,void 0,this,void 0)},r.prototype.mapSeries=function(s){return n(this,s,e,e)},r.each=function(s,l){return n(s,l,e,0)._then(o,void 0,void 0,s,void 0)},r.mapSeries=a}),HY}var VY,qY;function xot(){return qY||(qY=1,VY=function(r){var e=r._SomePromiseArray;function n(i){var o=new e(i),a=o.promise();return o.setHowMany(1),o.setUnwrap(),o.init(),a}r.any=function(i){return n(i)},r.prototype.any=function(){return n(this)}}),VY}var GY;function wot(){return GY||(GY=1,function(r){r.exports=function(){var e=function(){return new f(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},n=function(){return new $.PromiseInspection(this._target())},i=function(H){return $.reject(new f(H))};function o(){}var a={},s=sr(),l;s.isNode?l=function(){var H=process.domain;return H===void 0&&(H=null),H}:l=function(){return null},s.notEnumerableProp($,"_getDomain",l);var c=xg(),u=Git(),d=new u;c.defineProperty($,"_async",{value:d});var h=Fd(),f=$.TypeError=h.TypeError;$.RangeError=h.RangeError;var m=$.CancellationError=h.CancellationError;$.TimeoutError=h.TimeoutError,$.OperationalError=h.OperationalError,$.RejectionError=h.OperationalError,$.AggregateError=h.AggregateError;var b=function(){},g={},v={},x=Kit()($,b),w=Xit()($,b,x,i,o),k=Yit()($),T=k.create,_=Zit()($,k);_.CapturedTrace;var D=Jit()($,x),I=Qit()(v),L=S0e(),O=s.errorObj,W=s.tryCatch;function Z(H,G){if(typeof G!="function")throw new f("expecting a function but got "+s.classString(G));if(H.constructor!==$)throw new f(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function $(H){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,H!==b&&(Z(this,H),this._resolveFromExecutor(H)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}$.prototype.toString=function(){return"[object Promise]"},$.prototype.caught=$.prototype.catch=function(H){var G=arguments.length;if(G>1){var ne=new Array(G-1),J=0,ee;for(ee=0;ee<G-1;++ee){var X=arguments[ee];if(s.isObject(X))ne[J++]=X;else return i("expecting an object but got A catch statement predicate "+s.classString(X))}return ne.length=J,H=arguments[ee],this.then(void 0,I(ne,H,this))}return this.then(void 0,H)},$.prototype.reflect=function(){return this._then(n,n,void 0,this,void 0)},$.prototype.then=function(H,G){if(_.warnings()&&arguments.length>0&&typeof H!="function"&&typeof G!="function"){var ne=".then() only accepts functions but was passed: "+s.classString(H);arguments.length>1&&(ne+=", "+s.classString(G)),this._warn(ne)}return this._then(H,G,void 0,void 0,void 0)},$.prototype.done=function(H,G){var ne=this._then(H,G,void 0,void 0,void 0);ne._setIsFinal()},$.prototype.spread=function(H){return typeof H!="function"?i("expecting a function but got "+s.classString(H)):this.all()._then(H,void 0,void 0,g,void 0)},$.prototype.toJSON=function(){var H={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(H.fulfillmentValue=this.value(),H.isFulfilled=!0):this.isRejected()&&(H.rejectionReason=this.reason(),H.isRejected=!0),H},$.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new w(this).promise()},$.prototype.error=function(H){return this.caught(s.originatesFromRejection,H)},$.getNewLibraryCopy=r.exports,$.is=function(H){return H instanceof $},$.fromNode=$.fromCallback=function(H){var G=new $(b);G._captureStackTrace();var ne=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,J=W(H)(L(G,ne));return J===O&&G._rejectCallback(J.e,!0),G._isFateSealed()||G._setAsyncGuaranteed(),G},$.all=function(H){return new w(H).promise()},$.cast=function(H){var G=x(H);return G instanceof $||(G=new $(b),G._captureStackTrace(),G._setFulfilled(),G._rejectionHandler0=H),G},$.resolve=$.fulfilled=$.cast,$.reject=$.rejected=function(H){var G=new $(b);return G._captureStackTrace(),G._rejectCallback(H,!0),G},$.setScheduler=function(H){if(typeof H!="function")throw new f("expecting a function but got "+s.classString(H));return d.setScheduler(H)},$.prototype._then=function(H,G,ne,J,ee){var X=ee!==void 0,j=X?ee:new $(b),ae=this._target(),re=ae._bitField;X||(j._propagateFrom(this,3),j._captureStackTrace(),J===void 0&&(this._bitField&2097152)!==0&&((re&50397184)!==0?J=this._boundValue():J=ae===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,j));var de=l();if((re&50397184)!==0){var me,K,q=ae._settlePromiseCtx;(re&33554432)!==0?(K=ae._rejectionHandler0,me=H):(re&16777216)!==0?(K=ae._fulfillmentHandler0,me=G,ae._unsetRejectionIsUnhandled()):(q=ae._settlePromiseLateCancellationObserver,K=new m("late cancellation observer"),ae._attachExtraTrace(K),me=G),d.invoke(q,ae,{handler:de===null?me:typeof me=="function"&&s.domainBind(de,me),promise:j,receiver:J,value:K})}else ae._addCallbacks(H,G,j,J,de);return j},$.prototype._length=function(){return this._bitField&65535},$.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},$.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},$.prototype._setLength=function(H){this._bitField=this._bitField&-65536|H&65535},$.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},$.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},$.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},$.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},$.prototype._isFinal=function(){return(this._bitField&4194304)>0},$.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},$.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},$.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},$.prototype._setAsyncGuaranteed=function(){d.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},$.prototype._receiverAt=function(H){var G=H===0?this._receiver0:this[H*4-4+3];if(G!==a)return G===void 0&&this._isBound()?this._boundValue():G},$.prototype._promiseAt=function(H){return this[H*4-4+2]},$.prototype._fulfillmentHandlerAt=function(H){return this[H*4-4+0]},$.prototype._rejectionHandlerAt=function(H){return this[H*4-4+1]},$.prototype._boundValue=function(){},$.prototype._migrateCallback0=function(H){H._bitField;var G=H._fulfillmentHandler0,ne=H._rejectionHandler0,J=H._promise0,ee=H._receiverAt(0);ee===void 0&&(ee=a),this._addCallbacks(G,ne,J,ee,null)},$.prototype._migrateCallbackAt=function(H,G){var ne=H._fulfillmentHandlerAt(G),J=H._rejectionHandlerAt(G),ee=H._promiseAt(G),X=H._receiverAt(G);X===void 0&&(X=a),this._addCallbacks(ne,J,ee,X,null)},$.prototype._addCallbacks=function(H,G,ne,J,ee){var X=this._length();if(X>=65531&&(X=0,this._setLength(0)),X===0)this._promise0=ne,this._receiver0=J,typeof H=="function"&&(this._fulfillmentHandler0=ee===null?H:s.domainBind(ee,H)),typeof G=="function"&&(this._rejectionHandler0=ee===null?G:s.domainBind(ee,G));else{var j=X*4-4;this[j+2]=ne,this[j+3]=J,typeof H=="function"&&(this[j+0]=ee===null?H:s.domainBind(ee,H)),typeof G=="function"&&(this[j+1]=ee===null?G:s.domainBind(ee,G))}return this._setLength(X+1),X},$.prototype._proxy=function(H,G){this._addCallbacks(void 0,void 0,G,H,null)},$.prototype._resolveCallback=function(H,G){if((this._bitField&117506048)===0){if(H===this)return this._rejectCallback(e(),!1);var ne=x(H,this);if(!(ne instanceof $))return this._fulfill(H);G&&this._propagateFrom(ne,2);var J=ne._target();if(J===this){this._reject(e());return}var ee=J._bitField;if((ee&50397184)===0){var X=this._length();X>0&&J._migrateCallback0(this);for(var j=1;j<X;++j)J._migrateCallbackAt(this,j);this._setFollowing(),this._setLength(0),this._setFollowee(J)}else if((ee&33554432)!==0)this._fulfill(J._value());else if((ee&16777216)!==0)this._reject(J._reason());else{var ae=new m("late cancellation observer");J._attachExtraTrace(ae),this._reject(ae)}}},$.prototype._rejectCallback=function(H,G,ne){var J=s.ensureErrorObject(H),ee=J===H;if(!ee&&!ne&&_.warnings()){var X="a promise was rejected with a non-error: "+s.classString(H);this._warn(X,!0)}this._attachExtraTrace(J,G?ee:!1),this._reject(H)},$.prototype._resolveFromExecutor=function(H){var G=this;this._captureStackTrace(),this._pushContext();var ne=!0,J=this._execute(H,function(ee){G._resolveCallback(ee)},function(ee){G._rejectCallback(ee,ne)});ne=!1,this._popContext(),J!==void 0&&G._rejectCallback(J,!0)},$.prototype._settlePromiseFromHandler=function(H,G,ne,J){var ee=J._bitField;if((ee&65536)===0){J._pushContext();var X;G===g?!ne||typeof ne.length!="number"?(X=O,X.e=new f("cannot .spread() a non-array: "+s.classString(ne))):X=W(H).apply(this._boundValue(),ne):X=W(H).call(G,ne);var j=J._popContext();ee=J._bitField,(ee&65536)===0&&(X===v?J._reject(ne):X===O?J._rejectCallback(X.e,!1):(_.checkForgottenReturns(X,j,"",J,this),J._resolveCallback(X)))}},$.prototype._target=function(){for(var H=this;H._isFollowing();)H=H._followee();return H},$.prototype._followee=function(){return this._rejectionHandler0},$.prototype._setFollowee=function(H){this._rejectionHandler0=H},$.prototype._settlePromise=function(H,G,ne,J){var ee=H instanceof $,X=this._bitField,j=(X&134217728)!==0;(X&65536)!==0?(ee&&H._invokeInternalOnCancel(),ne instanceof D&&ne.isFinallyHandler()?(ne.cancelPromise=H,W(G).call(ne,J)===O&&H._reject(O.e)):G===n?H._fulfill(n.call(ne)):ne instanceof o?ne._promiseCancelled(H):ee||H instanceof w?H._cancel():ne.cancel()):typeof G=="function"?ee?(j&&H._setAsyncGuaranteed(),this._settlePromiseFromHandler(G,ne,J,H)):G.call(ne,J,H):ne instanceof o?ne._isResolved()||((X&33554432)!==0?ne._promiseFulfilled(J,H):ne._promiseRejected(J,H)):ee&&(j&&H._setAsyncGuaranteed(),(X&33554432)!==0?H._fulfill(J):H._reject(J))},$.prototype._settlePromiseLateCancellationObserver=function(H){var G=H.handler,ne=H.promise,J=H.receiver,ee=H.value;typeof G=="function"?ne instanceof $?this._settlePromiseFromHandler(G,J,ee,ne):G.call(J,ee,ne):ne instanceof $&&ne._reject(ee)},$.prototype._settlePromiseCtx=function(H){this._settlePromise(H.promise,H.handler,H.receiver,H.value)},$.prototype._settlePromise0=function(H,G,ne){var J=this._promise0,ee=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(J,H,ee,G)},$.prototype._clearCallbackDataAtIndex=function(H){var G=H*4-4;this[G+2]=this[G+3]=this[G+0]=this[G+1]=void 0},$.prototype._fulfill=function(H){var G=this._bitField;if(!((G&117506048)>>>16)){if(H===this){var ne=e();return this._attachExtraTrace(ne),this._reject(ne)}this._setFulfilled(),this._rejectionHandler0=H,(G&65535)>0&&((G&134217728)!==0?this._settlePromises():d.settlePromises(this))}},$.prototype._reject=function(H){var G=this._bitField;if(!((G&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=H,this._isFinal())return d.fatalError(H,s.isNode);(G&65535)>0?d.settlePromises(this):this._ensurePossibleRejectionHandled()}},$.prototype._fulfillPromises=function(H,G){for(var ne=1;ne<H;ne++){var J=this._fulfillmentHandlerAt(ne),ee=this._promiseAt(ne),X=this._receiverAt(ne);this._clearCallbackDataAtIndex(ne),this._settlePromise(ee,J,X,G)}},$.prototype._rejectPromises=function(H,G){for(var ne=1;ne<H;ne++){var J=this._rejectionHandlerAt(ne),ee=this._promiseAt(ne),X=this._receiverAt(ne);this._clearCallbackDataAtIndex(ne),this._settlePromise(ee,J,X,G)}},$.prototype._settlePromises=function(){var H=this._bitField,G=H&65535;if(G>0){if((H&16842752)!==0){var ne=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,ne,H),this._rejectPromises(G,ne)}else{var J=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,J,H),this._fulfillPromises(G,J)}this._setLength(0)}this._clearCancellationData()},$.prototype._settledValue=function(){var H=this._bitField;if((H&33554432)!==0)return this._rejectionHandler0;if((H&16777216)!==0)return this._fulfillmentHandler0};function F(H){this.promise._resolveCallback(H)}function A(H){this.promise._rejectCallback(H,!1)}$.defer=$.pending=function(){_.deprecated("Promise.defer","new Promise");var H=new $(b);return{promise:H,resolve:F,reject:A}},s.notEnumerableProp($,"_makeSelfResolutionError",e),eot()($,b,x,i,_),tot()($,b,x,_),not()($,w,i,_),rot()($),iot()($),oot()($,w,x,b,d,l),$.Promise=$,$.version="3.4.7",aot()($,w,i,x,b,_),sot()($),lot()($,i,x,T,b,_),cot()($,b,_),uot()($,i,b,x,o,_),dot()($),hot()($,b),fot()($,w,x,i),pot()($,b,x,i),mot()($,w,i,x,b,_),got()($,w,_),yot()($,w,i),bot()($,b),vot()($,b),xot()($),s.toFastProperties($),s.toFastProperties($.prototype);function Q(H){var G=new $(b);G._fulfillmentHandler0=H,G._rejectionHandler0=H,G._promise0=H,G._receiver0=H}return Q({a:1}),Q({b:2}),Q({c:3}),Q(1),Q(function(){}),Q(void 0),Q(!1),Q(new $(b)),_.setBounds(u.firstLineError,s.lastLineError),$}}(BX)),BX.exports}var KY;function dh(){if(KY)return $a;KY=1;var r=Fr,e=wot()();$a.defer=n,$a.when=e.resolve,$a.resolve=e.resolve,$a.all=e.all,$a.props=e.props,$a.reject=e.reject,$a.promisify=e.promisify,$a.mapSeries=e.mapSeries,$a.attempt=e.attempt,$a.nfcall=function(i){var o=Array.prototype.slice.call(arguments,1),a=e.promisify(i);return a.apply(null,o)},e.prototype.fail=e.prototype.caught,e.prototype.also=function(i){return this.then(function(o){var a=r.extend({},o,i(o));return e.props(a)})};function n(){var i,o,a=new e.Promise(function(s,l){i=s,o=l});return{resolve:i,reject:o,promise:a}}return $a}var In={},XY;function Tp(){if(XY)return In;XY=1;var r=Fr,e=In.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",checkbox:"checkbox",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function n(D,I){return I=I||{},{type:e.document,children:D,notes:I.notes||new h({}),comments:I.comments||[]}}function i(D,I){I=I||{};var L=I.indent||{};return{type:e.paragraph,children:D,styleId:I.styleId||null,styleName:I.styleName||null,numbering:I.numbering||null,alignment:I.alignment||null,indent:{start:L.start||null,end:L.end||null,firstLine:L.firstLine||null,hanging:L.hanging||null}}}function o(D,I){return I=I||{},{type:e.run,children:D,styleId:I.styleId||null,styleName:I.styleName||null,isBold:!!I.isBold,isUnderline:!!I.isUnderline,isItalic:!!I.isItalic,isStrikethrough:!!I.isStrikethrough,isAllCaps:!!I.isAllCaps,isSmallCaps:!!I.isSmallCaps,verticalAlignment:I.verticalAlignment||a.baseline,font:I.font||null,fontSize:I.fontSize||null,highlight:I.highlight||null}}var a={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function s(D){return{type:e.text,value:D}}function l(){return{type:e.tab}}function c(D){return{type:e.checkbox,checked:D.checked}}function u(D,I){return{type:e.hyperlink,children:D,href:I.href,anchor:I.anchor,targetFrame:I.targetFrame}}function d(D){return{type:e.noteReference,noteType:D.noteType,noteId:D.noteId}}function h(D){this._notes=r.indexBy(D,function(I){return g(I.noteType,I.noteId)})}h.prototype.resolve=function(D){return this.findNoteByKey(g(D.noteType,D.noteId))},h.prototype.findNoteByKey=function(D){return this._notes[D]||null};function f(D){return{type:e.note,noteType:D.noteType,noteId:D.noteId,body:D.body}}function m(D){return{type:e.commentReference,commentId:D.commentId}}function b(D){return{type:e.comment,commentId:D.commentId,body:D.body,authorName:D.authorName,authorInitials:D.authorInitials}}function g(D,I){return D+"-"+I}function v(D){return{type:e.image,read:function(I){return I?D.readImage(I):D.readImage().then(function(L){return Buffer.from(L)})},readAsArrayBuffer:function(){return D.readImage()},readAsBase64String:function(){return D.readImage("base64")},readAsBuffer:function(){return D.readImage().then(function(I){return Buffer.from(I)})},altText:D.altText,contentType:D.contentType}}function x(D,I){return I=I||{},{type:e.table,children:D,styleId:I.styleId||null,styleName:I.styleName||null}}function w(D,I){return I=I||{},{type:e.tableRow,children:D,isHeader:I.isHeader||!1}}function k(D,I){return I=I||{},{type:e.tableCell,children:D,colSpan:I.colSpan==null?1:I.colSpan,rowSpan:I.rowSpan==null?1:I.rowSpan}}function T(D){return{type:e.break,breakType:D}}function _(D){return{type:e.bookmarkStart,name:D.name}}return In.document=In.Document=n,In.paragraph=In.Paragraph=i,In.run=In.Run=o,In.text=In.Text=s,In.tab=In.Tab=l,In.checkbox=In.Checkbox=c,In.Hyperlink=u,In.noteReference=In.NoteReference=d,In.Notes=h,In.Note=f,In.commentReference=m,In.comment=b,In.Image=v,In.Table=x,In.TableRow=w,In.TableCell=k,In.lineBreak=T("line"),In.pageBreak=T("page"),In.columnBreak=T("column"),In.BookmarkStart=_,In.verticalAlignment=a,In}var Cm={},YY;function Jc(){if(YY)return Cm;YY=1;var r=Fr;Cm.Result=e,Cm.success=n,Cm.warning=i,Cm.error=o;function e(c,u){this.value=c,this.messages=u||[]}e.prototype.map=function(c){return new e(c(this.value),this.messages)},e.prototype.flatMap=function(c){var u=c(this.value);return new e(u.value,a([this,u]))},e.prototype.flatMapThen=function(c){var u=this;return c(this.value).then(function(d){return new e(d.value,a([u,d]))})},e.combine=function(c){var u=r.flatten(r.pluck(c,"value")),d=a(c);return new e(u,d)};function n(c){return new e(c,[])}function i(c){return{type:"warning",message:c}}function o(c){return{type:"error",message:c.message,error:c}}function a(c){var u=[];return r.flatten(r.pluck(c,"messages"),!0).forEach(function(d){s(u,d)||u.push(d)}),u}function s(c,u){return r.find(c,l.bind(null,u))!==void 0}function l(c,u){return c.type===u.type&&c.message===u.message}return Cm}var V1={},q1={},ZY;function Sot(){if(ZY)return q1;ZY=1,q1.byteLength=l,q1.toByteArray=u,q1.fromByteArray=f;for(var r=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=i.length;o<a;++o)r[o]=i[o],e[i.charCodeAt(o)]=o;e[45]=62,e[95]=63;function s(m){var b=m.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=m.indexOf("=");g===-1&&(g=b);var v=g===b?0:4-g%4;return[g,v]}function l(m){var b=s(m),g=b[0],v=b[1];return(g+v)*3/4-v}function c(m,b,g){return(b+g)*3/4-g}function u(m){var b,g=s(m),v=g[0],x=g[1],w=new n(c(m,v,x)),k=0,T=x>0?v-4:v,_;for(_=0;_<T;_+=4)b=e[m.charCodeAt(_)]<<18|e[m.charCodeAt(_+1)]<<12|e[m.charCodeAt(_+2)]<<6|e[m.charCodeAt(_+3)],w[k++]=b>>16&255,w[k++]=b>>8&255,w[k++]=b&255;return x===2&&(b=e[m.charCodeAt(_)]<<2|e[m.charCodeAt(_+1)]>>4,w[k++]=b&255),x===1&&(b=e[m.charCodeAt(_)]<<10|e[m.charCodeAt(_+1)]<<4|e[m.charCodeAt(_+2)]>>2,w[k++]=b>>8&255,w[k++]=b&255),w}function d(m){return r[m>>18&63]+r[m>>12&63]+r[m>>6&63]+r[m&63]}function h(m,b,g){for(var v,x=[],w=b;w<g;w+=3)v=(m[w]<<16&16711680)+(m[w+1]<<8&65280)+(m[w+2]&255),x.push(d(v));return x.join("")}function f(m){for(var b,g=m.length,v=g%3,x=[],w=16383,k=0,T=g-v;k<T;k+=w)x.push(h(m,k,k+w>T?T:k+w));return v===1?(b=m[g-1],x.push(r[b>>2]+r[b<<4&63]+"==")):v===2&&(b=(m[g-2]<<8)+m[g-1],x.push(r[b>>10]+r[b>>4&63]+r[b<<2&63]+"=")),x.join("")}return q1}function y2(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var JY={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var QY;function kot(){return QY||(QY=1,function(r,e){(function(n){r.exports=n()})(function(){return function n(i,o,a){function s(u,d){if(!o[u]){if(!i[u]){var h=typeof y2=="function"&&y2;if(!d&&h)return h(u,!0);if(l)return l(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var m=o[u]={exports:{}};i[u][0].call(m.exports,function(b){var g=i[u][1][b];return s(g||b)},m,m.exports,n,i,o,a)}return o[u].exports}for(var l=typeof y2=="function"&&y2,c=0;c<a.length;c++)s(a[c]);return s}({1:[function(n,i,o){var a=n("./utils"),s=n("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(c){for(var u,d,h,f,m,b,g,v=[],x=0,w=c.length,k=w,T=a.getTypeOf(c)!=="string";x<c.length;)k=w-x,h=T?(u=c[x++],d=x<w?c[x++]:0,x<w?c[x++]:0):(u=c.charCodeAt(x++),d=x<w?c.charCodeAt(x++):0,x<w?c.charCodeAt(x++):0),f=u>>2,m=(3&u)<<4|d>>4,b=1<k?(15&d)<<2|h>>6:64,g=2<k?63&h:64,v.push(l.charAt(f)+l.charAt(m)+l.charAt(b)+l.charAt(g));return v.join("")},o.decode=function(c){var u,d,h,f,m,b,g=0,v=0,x="data:";if(c.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var w,k=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&k--,c.charAt(c.length-2)===l.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=s.uint8array?new Uint8Array(0|k):new Array(0|k);g<c.length;)u=l.indexOf(c.charAt(g++))<<2|(f=l.indexOf(c.charAt(g++)))>>4,d=(15&f)<<4|(m=l.indexOf(c.charAt(g++)))>>2,h=(3&m)<<6|(b=l.indexOf(c.charAt(g++))),w[v++]=u,m!==64&&(w[v++]=d),b!==64&&(w[v++]=h);return w}},{"./support":30,"./utils":32}],2:[function(n,i,o){var a=n("./external"),s=n("./stream/DataWorker"),l=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function u(d,h,f,m,b){this.compressedSize=d,this.uncompressedSize=h,this.crc32=f,this.compression=m,this.compressedContent=b}u.prototype={getContentWorker:function(){var d=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),h=this;return d.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(d,h,f){return d.pipe(new l).pipe(new c("uncompressedSize")).pipe(h.compressWorker(f)).pipe(new c("compressedSize")).withStreamInfo("compression",h)},i.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,i,o){var a=n("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},o.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,i,o){var a=n("./utils"),s=function(){for(var l,c=[],u=0;u<256;u++){l=u;for(var d=0;d<8;d++)l=1&l?3988292384^l>>>1:l>>>1;c[u]=l}return c}();i.exports=function(l,c){return l!==void 0&&l.length?a.getTypeOf(l)!=="string"?function(u,d,h,f){var m=s,b=f+h;u^=-1;for(var g=f;g<b;g++)u=u>>>8^m[255&(u^d[g])];return-1^u}(0|c,l,l.length,0):function(u,d,h,f){var m=s,b=f+h;u^=-1;for(var g=f;g<b;g++)u=u>>>8^m[255&(u^d.charCodeAt(g))];return-1^u}(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(n,i,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(n,i,o){var a=null;a=typeof Promise<"u"?Promise:n("lie"),i.exports={Promise:a}},{lie:37}],7:[function(n,i,o){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),l=n("./utils"),c=n("./stream/GenericWorker"),u=a?"uint8array":"array";function d(h,f){c.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=f,this.meta={}}o.magic="\b\0",l.inherits(d,c),d.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(u,h.data),!1)},d.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(f){h.push({data:f,meta:h.meta})}},o.compressWorker=function(h){return new d("Deflate",h)},o.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,i,o){function a(m,b){var g,v="";for(g=0;g<b;g++)v+=String.fromCharCode(255&m),m>>>=8;return v}function s(m,b,g,v,x,w){var k,T,_=m.file,D=m.compression,I=w!==u.utf8encode,L=l.transformTo("string",w(_.name)),O=l.transformTo("string",u.utf8encode(_.name)),W=_.comment,Z=l.transformTo("string",w(W)),$=l.transformTo("string",u.utf8encode(W)),F=O.length!==_.name.length,A=$.length!==W.length,Q="",H="",G="",ne=_.dir,J=_.date,ee={crc32:0,compressedSize:0,uncompressedSize:0};b&&!g||(ee.crc32=m.crc32,ee.compressedSize=m.compressedSize,ee.uncompressedSize=m.uncompressedSize);var X=0;b&&(X|=8),I||!F&&!A||(X|=2048);var j=0,ae=0;ne&&(j|=16),x==="UNIX"?(ae=798,j|=function(de,me){var K=de;return de||(K=me?16893:33204),(65535&K)<<16}(_.unixPermissions,ne)):(ae=20,j|=function(de){return 63&(de||0)}(_.dosPermissions)),k=J.getUTCHours(),k<<=6,k|=J.getUTCMinutes(),k<<=5,k|=J.getUTCSeconds()/2,T=J.getUTCFullYear()-1980,T<<=4,T|=J.getUTCMonth()+1,T<<=5,T|=J.getUTCDate(),F&&(H=a(1,1)+a(d(L),4)+O,Q+="up"+a(H.length,2)+H),A&&(G=a(1,1)+a(d(Z),4)+$,Q+="uc"+a(G.length,2)+G);var re="";return re+=`
\0`,re+=a(X,2),re+=D.magic,re+=a(k,2),re+=a(T,2),re+=a(ee.crc32,4),re+=a(ee.compressedSize,4),re+=a(ee.uncompressedSize,4),re+=a(L.length,2),re+=a(Q.length,2),{fileRecord:h.LOCAL_FILE_HEADER+re+L+Q,dirRecord:h.CENTRAL_FILE_HEADER+a(ae,2)+re+a(Z.length,2)+"\0\0\0\0"+a(j,4)+a(v,4)+L+Q+Z}}var l=n("../utils"),c=n("../stream/GenericWorker"),u=n("../utf8"),d=n("../crc32"),h=n("../signature");function f(m,b,g,v){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=g,this.encodeFileName=v,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(f,c),f.prototype.push=function(m){var b=m.meta.percent||0,g=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,c.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:g?(b+100*(g-v-1))/g:100}}))},f.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var b=this.streamFiles&&!m.file.dir;if(b){var g=s(m,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(m){this.accumulate=!1;var b=this.streamFiles&&!m.file.dir,g=s(m,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),b)this.push({data:function(v){return h.DATA_DESCRIPTOR+a(v.crc32,4)+a(v.compressedSize,4)+a(v.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var m=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var g=this.bytesWritten-m,v=function(x,w,k,T,_){var D=l.transformTo("string",_(T));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(x,2)+a(x,2)+a(w,4)+a(k,4)+a(D.length,2)+D}(this.dirRecords.length,g,m,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(m){this._sources.push(m);var b=this;return m.on("data",function(g){b.processChunk(g)}),m.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),m.on("error",function(g){b.error(g)}),this},f.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(m){var b=this._sources;if(!c.prototype.error.call(this,m))return!1;for(var g=0;g<b.length;g++)try{b[g].error(m)}catch{}return!0},f.prototype.lock=function(){c.prototype.lock.call(this);for(var m=this._sources,b=0;b<m.length;b++)m[b].lock()},i.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,i,o){var a=n("../compressions"),s=n("./ZipFileWorker");o.generateWorker=function(l,c,u){var d=new s(c.streamFiles,u,c.platform,c.encodeFileName),h=0;try{l.forEach(function(f,m){h++;var b=function(w,k){var T=w||k,_=a[T];if(!_)throw new Error(T+" is not a valid compression method !");return _}(m.options.compression,c.compression),g=m.options.compressionOptions||c.compressionOptions||{},v=m.dir,x=m.date;m._compressWorker(b,g).withStreamInfo("file",{name:f,dir:v,date:x,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(d)}),d.entriesCount=h}catch(f){d.error(f)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,i,o){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var l in this)typeof this[l]!="function"&&(s[l]=this[l]);return s}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(s,l){return new a().loadAsync(s,l)},a.external=n("./external"),i.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,i,o){var a=n("./utils"),s=n("./external"),l=n("./utf8"),c=n("./zipEntries"),u=n("./stream/Crc32Probe"),d=n("./nodejsUtils");function h(f){return new s.Promise(function(m,b){var g=f.decompressed.getContentWorker().pipe(new u);g.on("error",function(v){b(v)}).on("end",function(){g.streamInfo.crc32!==f.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}i.exports=function(f,m){var b=this;return m=a.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),d.isNode&&d.isStream(f)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",f,!0,m.optimizedBinaryString,m.base64).then(function(g){var v=new c(m);return v.load(g),v}).then(function(g){var v=[s.Promise.resolve(g)],x=g.files;if(m.checkCRC32)for(var w=0;w<x.length;w++)v.push(h(x[w]));return s.Promise.all(v)}).then(function(g){for(var v=g.shift(),x=v.files,w=0;w<x.length;w++){var k=x[w],T=k.fileNameStr,_=a.resolve(k.fileNameStr);b.file(_,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:m.createFolders}),k.dir||(b.file(_).unsafeOriginalName=T)}return v.zipComment.length&&(b.comment=v.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,i,o){var a=n("../utils"),s=n("../stream/GenericWorker");function l(c,u){s.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(l,s),l.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(d){u.push({data:d,meta:{percent:0}})}).on("error",function(d){u.isPaused?this.generatedError=d:u.error(d)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},l.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,i,o){var a=n("readable-stream").Readable;function s(l,c,u){a.call(this,c),this._helper=l;var d=this;l.on("data",function(h,f){d.push(h)||d._helper.pause(),u&&u(f)}).on("error",function(h){d.emit("error",h)}).on("end",function(){d.push(null)})}n("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},i.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,i,o){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,i,o){function a(_,D,I){var L,O=l.getTypeOf(D),W=l.extend(I||{},d);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(_=x(_)),W.createFolders&&(L=v(_))&&w.call(this,L,!0);var Z=O==="string"&&W.binary===!1&&W.base64===!1;I&&I.binary!==void 0||(W.binary=!Z),(D instanceof h&&D.uncompressedSize===0||W.dir||!D||D.length===0)&&(W.base64=!1,W.binary=!0,D="",W.compression="STORE",O="string");var $=null;$=D instanceof h||D instanceof c?D:b.isNode&&b.isStream(D)?new g(_,D):l.prepareContent(_,D,W.binary,W.optimizedBinaryString,W.base64);var F=new f(_,$,W);this.files[_]=F}var s=n("./utf8"),l=n("./utils"),c=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),d=n("./defaults"),h=n("./compressedObject"),f=n("./zipObject"),m=n("./generate"),b=n("./nodejsUtils"),g=n("./nodejs/NodejsStreamInputAdapter"),v=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var D=_.lastIndexOf("/");return 0<D?_.substring(0,D):""},x=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},w=function(_,D){return D=D!==void 0?D:d.createFolders,_=x(_),this.files[_]||a.call(this,_,null,{dir:!0,createFolders:D}),this.files[_]};function k(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var D,I,L;for(D in this.files)L=this.files[D],(I=D.slice(this.root.length,D.length))&&D.slice(0,this.root.length)===this.root&&_(I,L)},filter:function(_){var D=[];return this.forEach(function(I,L){_(I,L)&&D.push(L)}),D},file:function(_,D,I){if(arguments.length!==1)return _=this.root+_,a.call(this,_,D,I),this;if(k(_)){var L=_;return this.filter(function(W,Z){return!Z.dir&&L.test(W)})}var O=this.files[this.root+_];return O&&!O.dir?O:null},folder:function(_){if(!_)return this;if(k(_))return this.filter(function(O,W){return W.dir&&_.test(O)});var D=this.root+_,I=w.call(this,D),L=this.clone();return L.root=I.name,L},remove:function(_){_=this.root+_;var D=this.files[_];if(D||(_.slice(-1)!=="/"&&(_+="/"),D=this.files[_]),D&&!D.dir)delete this.files[_];else for(var I=this.filter(function(O,W){return W.name.slice(0,_.length)===_}),L=0;L<I.length;L++)delete this.files[I[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var D,I={};try{if((I=l.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),I.type==="binarystring"&&(I.type="string"),!I.type)throw new Error("No output type specified.");l.checkSupport(I.type),I.platform!=="darwin"&&I.platform!=="freebsd"&&I.platform!=="linux"&&I.platform!=="sunos"||(I.platform="UNIX"),I.platform==="win32"&&(I.platform="DOS");var L=I.comment||this.comment||"";D=m.generateWorker(this,I,L)}catch(O){(D=new c("error")).error(O)}return new u(D,I.type||"string",I.mimeType)},generateAsync:function(_,D){return this.generateInternalStream(_).accumulate(D)},generateNodeStream:function(_,D){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(D)}};i.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,i,o){i.exports=n("stream")},{stream:void 0}],17:[function(n,i,o){var a=n("./DataReader");function s(l){a.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}n("../utils").inherits(s,a),s.prototype.byteAt=function(l){return this.data[this.zero+l]},s.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),u=l.charCodeAt(1),d=l.charCodeAt(2),h=l.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===c&&this.data[f+1]===u&&this.data[f+2]===d&&this.data[f+3]===h)return f-this.zero;return-1},s.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),u=l.charCodeAt(1),d=l.charCodeAt(2),h=l.charCodeAt(3),f=this.readData(4);return c===f[0]&&u===f[1]&&d===f[2]&&h===f[3]},s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},i.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,i,o){var a=n("../utils");function s(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,u=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=l,u},readString:function(l){return a.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},i.exports=s},{"../utils":32}],19:[function(n,i,o){var a=n("./Uint8ArrayReader");function s(l){a.call(this,l)}n("../utils").inherits(s,a),s.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},i.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,i,o){var a=n("./DataReader");function s(l){a.call(this,l)}n("../utils").inherits(s,a),s.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},s.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},s.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},s.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},i.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,i,o){var a=n("./ArrayReader");function s(l){a.call(this,l)}n("../utils").inherits(s,a),s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},i.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,i,o){var a=n("../utils"),s=n("../support"),l=n("./ArrayReader"),c=n("./StringReader"),u=n("./NodeBufferReader"),d=n("./Uint8ArrayReader");i.exports=function(h){var f=a.getTypeOf(h);return a.checkSupport(f),f!=="string"||s.uint8array?f==="nodebuffer"?new u(h):s.uint8array?new d(a.transformTo("uint8array",h)):new l(a.transformTo("array",h)):new c(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,i,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,i,o){var a=n("./GenericWorker"),s=n("../utils");function l(c){a.call(this,"ConvertWorker to "+c),this.destType=c}s.inherits(l,a),l.prototype.processChunk=function(c){this.push({data:s.transformTo(this.destType,c.data),meta:c.meta})},i.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(n,i,o){var a=n("./GenericWorker"),s=n("../crc32");function l(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(l,a),l.prototype.processChunk=function(c){this.streamInfo.crc32=s(c.data,this.streamInfo.crc32||0),this.push(c)},i.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,i,o){var a=n("../utils"),s=n("./GenericWorker");function l(c){s.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}a.inherits(l,s),l.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}s.prototype.processChunk.call(this,c)},i.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(n,i,o){var a=n("../utils"),s=n("./GenericWorker");function l(c){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(d){u.dataIsReady=!0,u.data=d,u.max=d&&d.length||0,u.type=a.getTypeOf(d),u.isPaused||u._tickAndRepeat()},function(d){u.error(d)})}a.inherits(l,s),l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(n,i,o){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,l){return this._listeners[s].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,l){if(this._listeners[s])for(var c=0;c<this._listeners[s].length;c++)this._listeners[s][c].call(this,l)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var l=this;return s.on("data",function(c){l.processChunk(c)}),s.on("end",function(){l.end()}),s.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,l){return this.extraStreamInfo[s]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},i.exports=a},{}],29:[function(n,i,o){var a=n("../utils"),s=n("./ConvertWorker"),l=n("./GenericWorker"),c=n("../base64"),u=n("../support"),d=n("../external"),h=null;if(u.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(b,g){return new d.Promise(function(v,x){var w=[],k=b._internalType,T=b._outputType,_=b._mimeType;b.on("data",function(D,I){w.push(D),g&&g(I)}).on("error",function(D){w=[],x(D)}).on("end",function(){try{var D=function(I,L,O){switch(I){case"blob":return a.newBlob(a.transformTo("arraybuffer",L),O);case"base64":return c.encode(L);default:return a.transformTo(I,L)}}(T,function(I,L){var O,W=0,Z=null,$=0;for(O=0;O<L.length;O++)$+=L[O].length;switch(I){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(Z=new Uint8Array($),O=0;O<L.length;O++)Z.set(L[O],W),W+=L[O].length;return Z;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+I+"'")}}(k,w),_);v(D)}catch(I){x(I)}w=[]}).resume()})}function m(b,g,v){var x=g;switch(g){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=g,this._mimeType=v,a.checkSupport(x),this._worker=b.pipe(new s(x)),b.lock()}catch(w){this._worker=new l("error"),this._worker.error(w)}}m.prototype={accumulate:function(b){return f(this,b)},on:function(b,g){var v=this;return b==="data"?this._worker.on(b,function(x){g.call(v,x.data,x.meta)}):this._worker.on(b,function(){a.delay(g,arguments,v)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},b)}},i.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,i,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var a=new ArrayBuffer(0);try{o.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),o.blob=s.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!n("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(n,i,o){for(var a=n("./utils"),s=n("./support"),l=n("./nodejsUtils"),c=n("./stream/GenericWorker"),u=new Array(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;u[254]=u[254]=1;function h(){c.call(this,"utf-8 decode"),this.leftOver=null}function f(){c.call(this,"utf-8 encode")}o.utf8encode=function(m){return s.nodebuffer?l.newBufferFrom(m,"utf-8"):function(b){var g,v,x,w,k,T=b.length,_=0;for(w=0;w<T;w++)(64512&(v=b.charCodeAt(w)))==55296&&w+1<T&&(64512&(x=b.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(x-56320),w++),_+=v<128?1:v<2048?2:v<65536?3:4;for(g=s.uint8array?new Uint8Array(_):new Array(_),w=k=0;k<_;w++)(64512&(v=b.charCodeAt(w)))==55296&&w+1<T&&(64512&(x=b.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(x-56320),w++),v<128?g[k++]=v:(v<2048?g[k++]=192|v>>>6:(v<65536?g[k++]=224|v>>>12:(g[k++]=240|v>>>18,g[k++]=128|v>>>12&63),g[k++]=128|v>>>6&63),g[k++]=128|63&v);return g}(m)},o.utf8decode=function(m){return s.nodebuffer?a.transformTo("nodebuffer",m).toString("utf-8"):function(b){var g,v,x,w,k=b.length,T=new Array(2*k);for(g=v=0;g<k;)if((x=b[g++])<128)T[v++]=x;else if(4<(w=u[x]))T[v++]=65533,g+=w-1;else{for(x&=w===2?31:w===3?15:7;1<w&&g<k;)x=x<<6|63&b[g++],w--;1<w?T[v++]=65533:x<65536?T[v++]=x:(x-=65536,T[v++]=55296|x>>10&1023,T[v++]=56320|1023&x)}return T.length!==v&&(T.subarray?T=T.subarray(0,v):T.length=v),a.applyFromCharCode(T)}(m=a.transformTo(s.uint8array?"uint8array":"array",m))},a.inherits(h,c),h.prototype.processChunk=function(m){var b=a.transformTo(s.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var g=b;(b=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),b.set(g,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var v=function(w,k){var T;for((k=k||w.length)>w.length&&(k=w.length),T=k-1;0<=T&&(192&w[T])==128;)T--;return T<0||T===0?k:T+u[w[T]]>k?T:k}(b),x=b;v!==b.length&&(s.uint8array?(x=b.subarray(0,v),this.leftOver=b.subarray(v,b.length)):(x=b.slice(0,v),this.leftOver=b.slice(v,b.length))),this.push({data:o.utf8decode(x),meta:m.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=h,a.inherits(f,c),f.prototype.processChunk=function(m){this.push({data:o.utf8encode(m.data),meta:m.meta})},o.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,i,o){var a=n("./support"),s=n("./base64"),l=n("./nodejsUtils"),c=n("./external");function u(g){return g}function d(g,v){for(var x=0;x<g.length;++x)v[x]=255&g.charCodeAt(x);return v}n("setimmediate"),o.newBlob=function(g,v){o.checkSupport("blob");try{return new Blob([g],{type:v})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(g),x.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(g,v,x){var w=[],k=0,T=g.length;if(T<=x)return String.fromCharCode.apply(null,g);for(;k<T;)v==="array"||v==="nodebuffer"?w.push(String.fromCharCode.apply(null,g.slice(k,Math.min(k+x,T)))):w.push(String.fromCharCode.apply(null,g.subarray(k,Math.min(k+x,T)))),k+=x;return w.join("")},stringifyByChar:function(g){for(var v="",x=0;x<g.length;x++)v+=String.fromCharCode(g[x]);return v},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function f(g){var v=65536,x=o.getTypeOf(g),w=!0;if(x==="uint8array"?w=h.applyCanBeUsed.uint8array:x==="nodebuffer"&&(w=h.applyCanBeUsed.nodebuffer),w)for(;1<v;)try{return h.stringifyByChunk(g,x,v)}catch{v=Math.floor(v/2)}return h.stringifyByChar(g)}function m(g,v){for(var x=0;x<g.length;x++)v[x]=g[x];return v}o.applyFromCharCode=f;var b={};b.string={string:u,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return b.string.uint8array(g).buffer},uint8array:function(g){return d(g,new Uint8Array(g.length))},nodebuffer:function(g){return d(g,l.allocBuffer(g.length))}},b.array={string:f,array:u,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return l.newBufferFrom(g)}},b.arraybuffer={string:function(g){return f(new Uint8Array(g))},array:function(g){return m(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:u,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return l.newBufferFrom(new Uint8Array(g))}},b.uint8array={string:f,array:function(g){return m(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:u,nodebuffer:function(g){return l.newBufferFrom(g)}},b.nodebuffer={string:f,array:function(g){return m(g,new Array(g.length))},arraybuffer:function(g){return b.nodebuffer.uint8array(g).buffer},uint8array:function(g){return m(g,new Uint8Array(g.length))},nodebuffer:u},o.transformTo=function(g,v){if(v=v||"",!g)return v;o.checkSupport(g);var x=o.getTypeOf(v);return b[x][g](v)},o.resolve=function(g){for(var v=g.split("/"),x=[],w=0;w<v.length;w++){var k=v[w];k==="."||k===""&&w!==0&&w!==v.length-1||(k===".."?x.pop():x.push(k))}return x.join("/")},o.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":a.nodebuffer&&l.isBuffer(g)?"nodebuffer":a.uint8array&&g instanceof Uint8Array?"uint8array":a.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(g){if(!a[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(g){var v,x,w="";for(x=0;x<(g||"").length;x++)w+="\\x"+((v=g.charCodeAt(x))<16?"0":"")+v.toString(16).toUpperCase();return w},o.delay=function(g,v,x){setImmediate(function(){g.apply(x||null,v||[])})},o.inherits=function(g,v){function x(){}x.prototype=v.prototype,g.prototype=new x},o.extend=function(){var g,v,x={};for(g=0;g<arguments.length;g++)for(v in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],v)&&x[v]===void 0&&(x[v]=arguments[g][v]);return x},o.prepareContent=function(g,v,x,w,k){return c.Promise.resolve(v).then(function(T){return a.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new c.Promise(function(_,D){var I=new FileReader;I.onload=function(L){_(L.target.result)},I.onerror=function(L){D(L.target.error)},I.readAsArrayBuffer(T)}):T}).then(function(T){var _=o.getTypeOf(T);return _?(_==="arraybuffer"?T=o.transformTo("uint8array",T):_==="string"&&(k?T=s.decode(T):x&&w!==!0&&(T=function(D){return d(D,a.uint8array?new Uint8Array(D.length):new Array(D.length))}(T))),T):c.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,i,o){var a=n("./reader/readerFor"),s=n("./utils"),l=n("./signature"),c=n("./zipEntry"),u=n("./support");function d(h){this.files=[],this.loadOptions=h}d.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(f)+", expected "+s.pretty(h)+")")}},isSignature:function(h,f){var m=this.reader.index;this.reader.setIndex(h);var b=this.reader.readString(4)===f;return this.reader.setIndex(m),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),f=u.uint8array?"uint8array":"array",m=s.transformTo(f,h);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,f,m,b=this.zip64EndOfCentralSize-44;0<b;)h=this.reader.readInt(2),f=this.reader.readInt(4),m=this.reader.readData(f),this.zip64ExtensibleData[h]={id:h,length:f,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,f;for(h=0;h<this.files.length;h++)f=this.files[h],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(h=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var f=h;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var b=f-m;if(0<b)this.isSignature(f,l.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(h){this.reader=a(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,i,o){var a=n("./reader/readerFor"),s=n("./utils"),l=n("./compressedObject"),c=n("./crc32"),u=n("./utf8"),d=n("./compressions"),h=n("./support");function f(m,b){this.options=m,this.loadOptions=b}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var b,g;if(m.skip(22),this.fileNameLength=m.readInt(2),g=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(v){for(var x in d)if(Object.prototype.hasOwnProperty.call(d,x)&&d[x].magic===v)return d[x];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,b,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var b=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(b),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var b,g,v,x=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<x;)b=m.readInt(2),g=m.readInt(2),v=m.readData(g),this.extraFields[b]={id:b,length:g,value:v};m.setIndex(x)},handleUTF8:function(){var m=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var g=s.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var x=s.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var b=a(m.value);return b.readInt(1)!==1||c(this.fileName)!==b.readInt(4)?null:u.utf8decode(b.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var b=a(m.value);return b.readInt(1)!==1||c(this.fileComment)!==b.readInt(4)?null:u.utf8decode(b.readData(m.length-5))}return null}},i.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,i,o){function a(b,g,v){this.name=b,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=g,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var s=n("./stream/StreamHelper"),l=n("./stream/DataWorker"),c=n("./utf8"),u=n("./compressedObject"),d=n("./stream/GenericWorker");a.prototype={internalStream:function(b){var g=null,v="string";try{if(!b)throw new Error("No output type specified.");var x=(v=b.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),g=this._decompressWorker();var w=!this._dataBinary;w&&!x&&(g=g.pipe(new c.Utf8EncodeWorker)),!w&&x&&(g=g.pipe(new c.Utf8DecodeWorker))}catch(k){(g=new d("error")).error(k)}return new s(g,v,"")},async:function(b,g){return this.internalStream(b).accumulate(g)},nodeStream:function(b,g){return this.internalStream(b||"nodebuffer").toNodejsStream(g)},_compressWorker:function(b,g){if(this._data instanceof u&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(v,b,g)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof d?this._data:new l(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<h.length;m++)a.prototype[h[m]]=f;i.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,i,o){(function(a){var s,l,c=a.MutationObserver||a.WebKitMutationObserver;if(c){var u=0,d=new c(b),h=a.document.createTextNode("");d.observe(h,{characterData:!0}),s=function(){h.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var g=a.document.createElement("script");g.onreadystatechange=function(){b(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},a.document.documentElement.appendChild(g)}:function(){setTimeout(b,0)};else{var f=new a.MessageChannel;f.port1.onmessage=b,s=function(){f.port2.postMessage(0)}}var m=[];function b(){var g,v;l=!0;for(var x=m.length;x;){for(v=m,m=[],g=-1;++g<x;)v[g]();x=m.length}l=!1}i.exports=function(g){m.push(g)!==1||l||s()}}).call(this,typeof Wa<"u"?Wa:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,i,o){var a=n("immediate");function s(){}var l={},c=["REJECTED"],u=["FULFILLED"],d=["PENDING"];function h(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,x!==s&&g(this,x)}function f(x,w,k){this.promise=x,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function m(x,w,k){a(function(){var T;try{T=w(k)}catch(_){return l.reject(x,_)}T===x?l.reject(x,new TypeError("Cannot resolve promise with itself")):l.resolve(x,T)})}function b(x){var w=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof w=="function")return function(){w.apply(x,arguments)}}function g(x,w){var k=!1;function T(I){k||(k=!0,l.reject(x,I))}function _(I){k||(k=!0,l.resolve(x,I))}var D=v(function(){w(_,T)});D.status==="error"&&T(D.value)}function v(x,w){var k={};try{k.value=x(w),k.status="success"}catch(T){k.status="error",k.value=T}return k}(i.exports=h).prototype.finally=function(x){if(typeof x!="function")return this;var w=this.constructor;return this.then(function(k){return w.resolve(x()).then(function(){return k})},function(k){return w.resolve(x()).then(function(){throw k})})},h.prototype.catch=function(x){return this.then(null,x)},h.prototype.then=function(x,w){if(typeof x!="function"&&this.state===u||typeof w!="function"&&this.state===c)return this;var k=new this.constructor(s);return this.state!==d?m(k,this.state===u?x:w,this.outcome):this.queue.push(new f(k,x,w)),k},f.prototype.callFulfilled=function(x){l.resolve(this.promise,x)},f.prototype.otherCallFulfilled=function(x){m(this.promise,this.onFulfilled,x)},f.prototype.callRejected=function(x){l.reject(this.promise,x)},f.prototype.otherCallRejected=function(x){m(this.promise,this.onRejected,x)},l.resolve=function(x,w){var k=v(b,w);if(k.status==="error")return l.reject(x,k.value);var T=k.value;if(T)g(x,T);else{x.state=u,x.outcome=w;for(var _=-1,D=x.queue.length;++_<D;)x.queue[_].callFulfilled(w)}return x},l.reject=function(x,w){x.state=c,x.outcome=w;for(var k=-1,T=x.queue.length;++k<T;)x.queue[k].callRejected(w);return x},h.resolve=function(x){return x instanceof this?x:l.resolve(new this(s),x)},h.reject=function(x){var w=new this(s);return l.reject(w,x)},h.all=function(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=x.length,T=!1;if(!k)return this.resolve([]);for(var _=new Array(k),D=0,I=-1,L=new this(s);++I<k;)O(x[I],I);return L;function O(W,Z){w.resolve(W).then(function($){_[Z]=$,++D!==k||T||(T=!0,l.resolve(L,_))},function($){T||(T=!0,l.reject(L,$))})}},h.race=function(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=x.length,T=!1;if(!k)return this.resolve([]);for(var _=-1,D=new this(s);++_<k;)I=x[_],w.resolve(I).then(function(L){T||(T=!0,l.resolve(D,L))},function(L){T||(T=!0,l.reject(D,L))});var I;return D}},{immediate:36}],38:[function(n,i,o){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),i.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,i,o){var a=n("./zlib/deflate"),s=n("./utils/common"),l=n("./utils/strings"),c=n("./zlib/messages"),u=n("./zlib/zstream"),d=Object.prototype.toString,h=0,f=-1,m=0,b=8;function g(x){if(!(this instanceof g))return new g(x);this.options=s.assign({level:f,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},x||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var k=a.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(k!==h)throw new Error(c[k]);if(w.header&&a.deflateSetHeader(this.strm,w.header),w.dictionary){var T;if(T=typeof w.dictionary=="string"?l.string2buf(w.dictionary):d.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(k=a.deflateSetDictionary(this.strm,T))!==h)throw new Error(c[k]);this._dict_set=!0}}function v(x,w){var k=new g(w);if(k.push(x,!0),k.err)throw k.msg||c[k.err];return k.result}g.prototype.push=function(x,w){var k,T,_=this.strm,D=this.options.chunkSize;if(this.ended)return!1;T=w===~~w?w:w===!0?4:0,typeof x=="string"?_.input=l.string2buf(x):d.call(x)==="[object ArrayBuffer]"?_.input=new Uint8Array(x):_.input=x,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new s.Buf8(D),_.next_out=0,_.avail_out=D),(k=a.deflate(_,T))!==1&&k!==h)return this.onEnd(k),!(this.ended=!0);_.avail_out!==0&&(_.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(s.shrinkBuf(_.output,_.next_out))):this.onData(s.shrinkBuf(_.output,_.next_out)))}while((0<_.avail_in||_.avail_out===0)&&k!==1);return T===4?(k=a.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===h):T!==2||(this.onEnd(h),!(_.avail_out=0))},g.prototype.onData=function(x){this.chunks.push(x)},g.prototype.onEnd=function(x){x===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},o.Deflate=g,o.deflate=v,o.deflateRaw=function(x,w){return(w=w||{}).raw=!0,v(x,w)},o.gzip=function(x,w){return(w=w||{}).gzip=!0,v(x,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,i,o){var a=n("./zlib/inflate"),s=n("./utils/common"),l=n("./utils/strings"),c=n("./zlib/constants"),u=n("./zlib/messages"),d=n("./zlib/zstream"),h=n("./zlib/gzheader"),f=Object.prototype.toString;function m(g){if(!(this instanceof m))return new m(g);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},g||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||g&&g.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&(15&v.windowBits)==0&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var x=a.inflateInit2(this.strm,v.windowBits);if(x!==c.Z_OK)throw new Error(u[x]);this.header=new h,a.inflateGetHeader(this.strm,this.header)}function b(g,v){var x=new m(v);if(x.push(g,!0),x.err)throw x.msg||u[x.err];return x.result}m.prototype.push=function(g,v){var x,w,k,T,_,D,I=this.strm,L=this.options.chunkSize,O=this.options.dictionary,W=!1;if(this.ended)return!1;w=v===~~v?v:v===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof g=="string"?I.input=l.binstring2buf(g):f.call(g)==="[object ArrayBuffer]"?I.input=new Uint8Array(g):I.input=g,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new s.Buf8(L),I.next_out=0,I.avail_out=L),(x=a.inflate(I,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&O&&(D=typeof O=="string"?l.string2buf(O):f.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,x=a.inflateSetDictionary(this.strm,D)),x===c.Z_BUF_ERROR&&W===!0&&(x=c.Z_OK,W=!1),x!==c.Z_STREAM_END&&x!==c.Z_OK)return this.onEnd(x),!(this.ended=!0);I.next_out&&(I.avail_out!==0&&x!==c.Z_STREAM_END&&(I.avail_in!==0||w!==c.Z_FINISH&&w!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=l.utf8border(I.output,I.next_out),T=I.next_out-k,_=l.buf2string(I.output,k),I.next_out=T,I.avail_out=L-T,T&&s.arraySet(I.output,I.output,k,T,0),this.onData(_)):this.onData(s.shrinkBuf(I.output,I.next_out)))),I.avail_in===0&&I.avail_out===0&&(W=!0)}while((0<I.avail_in||I.avail_out===0)&&x!==c.Z_STREAM_END);return x===c.Z_STREAM_END&&(w=c.Z_FINISH),w===c.Z_FINISH?(x=a.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===c.Z_OK):w!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(I.avail_out=0))},m.prototype.onData=function(g){this.chunks.push(g)},m.prototype.onEnd=function(g){g===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},o.Inflate=m,o.inflate=b,o.inflateRaw=function(g,v){return(v=v||{}).raw=!0,b(g,v)},o.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,i,o){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var d=u.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])}}return c},o.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var s={arraySet:function(c,u,d,h,f){if(u.subarray&&c.subarray)c.set(u.subarray(d,d+h),f);else for(var m=0;m<h;m++)c[f+m]=u[d+m]},flattenChunks:function(c){var u,d,h,f,m,b;for(u=h=0,d=c.length;u<d;u++)h+=c[u].length;for(b=new Uint8Array(h),u=f=0,d=c.length;u<d;u++)m=c[u],b.set(m,f),f+=m.length;return b}},l={arraySet:function(c,u,d,h,f){for(var m=0;m<h;m++)c[f+m]=u[d+m]},flattenChunks:function(c){return[].concat.apply([],c)}};o.setTyped=function(c){c?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,s)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,l))},o.setTyped(a)},{}],42:[function(n,i,o){var a=n("./common"),s=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new a.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function d(h,f){if(f<65537&&(h.subarray&&l||!h.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(h,f));for(var m="",b=0;b<f;b++)m+=String.fromCharCode(h[b]);return m}c[254]=c[254]=1,o.string2buf=function(h){var f,m,b,g,v,x=h.length,w=0;for(g=0;g<x;g++)(64512&(m=h.charCodeAt(g)))==55296&&g+1<x&&(64512&(b=h.charCodeAt(g+1)))==56320&&(m=65536+(m-55296<<10)+(b-56320),g++),w+=m<128?1:m<2048?2:m<65536?3:4;for(f=new a.Buf8(w),g=v=0;v<w;g++)(64512&(m=h.charCodeAt(g)))==55296&&g+1<x&&(64512&(b=h.charCodeAt(g+1)))==56320&&(m=65536+(m-55296<<10)+(b-56320),g++),m<128?f[v++]=m:(m<2048?f[v++]=192|m>>>6:(m<65536?f[v++]=224|m>>>12:(f[v++]=240|m>>>18,f[v++]=128|m>>>12&63),f[v++]=128|m>>>6&63),f[v++]=128|63&m);return f},o.buf2binstring=function(h){return d(h,h.length)},o.binstring2buf=function(h){for(var f=new a.Buf8(h.length),m=0,b=f.length;m<b;m++)f[m]=h.charCodeAt(m);return f},o.buf2string=function(h,f){var m,b,g,v,x=f||h.length,w=new Array(2*x);for(m=b=0;m<x;)if((g=h[m++])<128)w[b++]=g;else if(4<(v=c[g]))w[b++]=65533,m+=v-1;else{for(g&=v===2?31:v===3?15:7;1<v&&m<x;)g=g<<6|63&h[m++],v--;1<v?w[b++]=65533:g<65536?w[b++]=g:(g-=65536,w[b++]=55296|g>>10&1023,w[b++]=56320|1023&g)}return d(w,b)},o.utf8border=function(h,f){var m;for((f=f||h.length)>h.length&&(f=h.length),m=f-1;0<=m&&(192&h[m])==128;)m--;return m<0||m===0?f:m+c[h[m]]>f?m:f}},{"./common":41}],43:[function(n,i,o){i.exports=function(a,s,l,c){for(var u=65535&a|0,d=a>>>16&65535|0,h=0;l!==0;){for(l-=h=2e3<l?2e3:l;d=d+(u=u+s[c++]|0)|0,--h;);u%=65521,d%=65521}return u|d<<16|0}},{}],44:[function(n,i,o){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,i,o){var a=function(){for(var s,l=[],c=0;c<256;c++){s=c;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;l[c]=s}return l}();i.exports=function(s,l,c,u){var d=a,h=u+c;s^=-1;for(var f=u;f<h;f++)s=s>>>8^d[255&(s^l[f])];return-1^s}},{}],46:[function(n,i,o){var a,s=n("../utils/common"),l=n("./trees"),c=n("./adler32"),u=n("./crc32"),d=n("./messages"),h=0,f=4,m=0,b=-2,g=-1,v=4,x=2,w=8,k=9,T=286,_=30,D=19,I=2*T+1,L=15,O=3,W=258,Z=W+O+1,$=42,F=113,A=1,Q=2,H=3,G=4;function ne(M,he){return M.msg=d[he],he}function J(M){return(M<<1)-(4<M?9:0)}function ee(M){for(var he=M.length;0<=--he;)M[he]=0}function X(M){var he=M.state,V=he.pending;V>M.avail_out&&(V=M.avail_out),V!==0&&(s.arraySet(M.output,he.pending_buf,he.pending_out,V,M.next_out),M.next_out+=V,he.pending_out+=V,M.total_out+=V,M.avail_out-=V,he.pending-=V,he.pending===0&&(he.pending_out=0))}function j(M,he){l._tr_flush_block(M,0<=M.block_start?M.block_start:-1,M.strstart-M.block_start,he),M.block_start=M.strstart,X(M.strm)}function ae(M,he){M.pending_buf[M.pending++]=he}function re(M,he){M.pending_buf[M.pending++]=he>>>8&255,M.pending_buf[M.pending++]=255&he}function de(M,he){var V,R,N=M.max_chain_length,B=M.strstart,ue=M.prev_length,ve=M.nice_match,se=M.strstart>M.w_size-Z?M.strstart-(M.w_size-Z):0,ge=M.window,Se=M.w_mask,Te=M.prev,De=M.strstart+W,Le=ge[B+ue-1],Ke=ge[B+ue];M.prev_length>=M.good_match&&(N>>=2),ve>M.lookahead&&(ve=M.lookahead);do if(ge[(V=he)+ue]===Ke&&ge[V+ue-1]===Le&&ge[V]===ge[B]&&ge[++V]===ge[B+1]){B+=2,V++;do;while(ge[++B]===ge[++V]&&ge[++B]===ge[++V]&&ge[++B]===ge[++V]&&ge[++B]===ge[++V]&&ge[++B]===ge[++V]&&ge[++B]===ge[++V]&&ge[++B]===ge[++V]&&ge[++B]===ge[++V]&&B<De);if(R=W-(De-B),B=De-W,ue<R){if(M.match_start=he,ve<=(ue=R))break;Le=ge[B+ue-1],Ke=ge[B+ue]}}while((he=Te[he&Se])>se&&--N!=0);return ue<=M.lookahead?ue:M.lookahead}function me(M){var he,V,R,N,B,ue,ve,se,ge,Se,Te=M.w_size;do{if(N=M.window_size-M.lookahead-M.strstart,M.strstart>=Te+(Te-Z)){for(s.arraySet(M.window,M.window,Te,Te,0),M.match_start-=Te,M.strstart-=Te,M.block_start-=Te,he=V=M.hash_size;R=M.head[--he],M.head[he]=Te<=R?R-Te:0,--V;);for(he=V=Te;R=M.prev[--he],M.prev[he]=Te<=R?R-Te:0,--V;);N+=Te}if(M.strm.avail_in===0)break;if(ue=M.strm,ve=M.window,se=M.strstart+M.lookahead,ge=N,Se=void 0,Se=ue.avail_in,ge<Se&&(Se=ge),V=Se===0?0:(ue.avail_in-=Se,s.arraySet(ve,ue.input,ue.next_in,Se,se),ue.state.wrap===1?ue.adler=c(ue.adler,ve,Se,se):ue.state.wrap===2&&(ue.adler=u(ue.adler,ve,Se,se)),ue.next_in+=Se,ue.total_in+=Se,Se),M.lookahead+=V,M.lookahead+M.insert>=O)for(B=M.strstart-M.insert,M.ins_h=M.window[B],M.ins_h=(M.ins_h<<M.hash_shift^M.window[B+1])&M.hash_mask;M.insert&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[B+O-1])&M.hash_mask,M.prev[B&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=B,B++,M.insert--,!(M.lookahead+M.insert<O)););}while(M.lookahead<Z&&M.strm.avail_in!==0)}function K(M,he){for(var V,R;;){if(M.lookahead<Z){if(me(M),M.lookahead<Z&&he===h)return A;if(M.lookahead===0)break}if(V=0,M.lookahead>=O&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+O-1])&M.hash_mask,V=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),V!==0&&M.strstart-V<=M.w_size-Z&&(M.match_length=de(M,V)),M.match_length>=O)if(R=l._tr_tally(M,M.strstart-M.match_start,M.match_length-O),M.lookahead-=M.match_length,M.match_length<=M.max_lazy_match&&M.lookahead>=O){for(M.match_length--;M.strstart++,M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+O-1])&M.hash_mask,V=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart,--M.match_length!=0;);M.strstart++}else M.strstart+=M.match_length,M.match_length=0,M.ins_h=M.window[M.strstart],M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+1])&M.hash_mask;else R=l._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++;if(R&&(j(M,!1),M.strm.avail_out===0))return A}return M.insert=M.strstart<O-1?M.strstart:O-1,he===f?(j(M,!0),M.strm.avail_out===0?H:G):M.last_lit&&(j(M,!1),M.strm.avail_out===0)?A:Q}function q(M,he){for(var V,R,N;;){if(M.lookahead<Z){if(me(M),M.lookahead<Z&&he===h)return A;if(M.lookahead===0)break}if(V=0,M.lookahead>=O&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+O-1])&M.hash_mask,V=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),M.prev_length=M.match_length,M.prev_match=M.match_start,M.match_length=O-1,V!==0&&M.prev_length<M.max_lazy_match&&M.strstart-V<=M.w_size-Z&&(M.match_length=de(M,V),M.match_length<=5&&(M.strategy===1||M.match_length===O&&4096<M.strstart-M.match_start)&&(M.match_length=O-1)),M.prev_length>=O&&M.match_length<=M.prev_length){for(N=M.strstart+M.lookahead-O,R=l._tr_tally(M,M.strstart-1-M.prev_match,M.prev_length-O),M.lookahead-=M.prev_length-1,M.prev_length-=2;++M.strstart<=N&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+O-1])&M.hash_mask,V=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),--M.prev_length!=0;);if(M.match_available=0,M.match_length=O-1,M.strstart++,R&&(j(M,!1),M.strm.avail_out===0))return A}else if(M.match_available){if((R=l._tr_tally(M,0,M.window[M.strstart-1]))&&j(M,!1),M.strstart++,M.lookahead--,M.strm.avail_out===0)return A}else M.match_available=1,M.strstart++,M.lookahead--}return M.match_available&&(R=l._tr_tally(M,0,M.window[M.strstart-1]),M.match_available=0),M.insert=M.strstart<O-1?M.strstart:O-1,he===f?(j(M,!0),M.strm.avail_out===0?H:G):M.last_lit&&(j(M,!1),M.strm.avail_out===0)?A:Q}function be(M,he,V,R,N){this.good_length=M,this.max_lazy=he,this.nice_length=V,this.max_chain=R,this.func=N}function pe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*I),this.dyn_dtree=new s.Buf16(2*(2*_+1)),this.bl_tree=new s.Buf16(2*(2*D+1)),ee(this.dyn_ltree),ee(this.dyn_dtree),ee(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(L+1),this.heap=new s.Buf16(2*T+1),ee(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*T+1),ee(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ie(M){var he;return M&&M.state?(M.total_in=M.total_out=0,M.data_type=x,(he=M.state).pending=0,he.pending_out=0,he.wrap<0&&(he.wrap=-he.wrap),he.status=he.wrap?$:F,M.adler=he.wrap===2?0:1,he.last_flush=h,l._tr_init(he),m):ne(M,b)}function le(M){var he=ie(M);return he===m&&function(V){V.window_size=2*V.w_size,ee(V.head),V.max_lazy_match=a[V.level].max_lazy,V.good_match=a[V.level].good_length,V.nice_match=a[V.level].nice_length,V.max_chain_length=a[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=O-1,V.match_available=0,V.ins_h=0}(M.state),he}function Ee(M,he,V,R,N,B){if(!M)return b;var ue=1;if(he===g&&(he=6),R<0?(ue=0,R=-R):15<R&&(ue=2,R-=16),N<1||k<N||V!==w||R<8||15<R||he<0||9<he||B<0||v<B)return ne(M,b);R===8&&(R=9);var ve=new pe;return(M.state=ve).strm=M,ve.wrap=ue,ve.gzhead=null,ve.w_bits=R,ve.w_size=1<<ve.w_bits,ve.w_mask=ve.w_size-1,ve.hash_bits=N+7,ve.hash_size=1<<ve.hash_bits,ve.hash_mask=ve.hash_size-1,ve.hash_shift=~~((ve.hash_bits+O-1)/O),ve.window=new s.Buf8(2*ve.w_size),ve.head=new s.Buf16(ve.hash_size),ve.prev=new s.Buf16(ve.w_size),ve.lit_bufsize=1<<N+6,ve.pending_buf_size=4*ve.lit_bufsize,ve.pending_buf=new s.Buf8(ve.pending_buf_size),ve.d_buf=1*ve.lit_bufsize,ve.l_buf=3*ve.lit_bufsize,ve.level=he,ve.strategy=B,ve.method=V,le(M)}a=[new be(0,0,0,0,function(M,he){var V=65535;for(V>M.pending_buf_size-5&&(V=M.pending_buf_size-5);;){if(M.lookahead<=1){if(me(M),M.lookahead===0&&he===h)return A;if(M.lookahead===0)break}M.strstart+=M.lookahead,M.lookahead=0;var R=M.block_start+V;if((M.strstart===0||M.strstart>=R)&&(M.lookahead=M.strstart-R,M.strstart=R,j(M,!1),M.strm.avail_out===0)||M.strstart-M.block_start>=M.w_size-Z&&(j(M,!1),M.strm.avail_out===0))return A}return M.insert=0,he===f?(j(M,!0),M.strm.avail_out===0?H:G):(M.strstart>M.block_start&&(j(M,!1),M.strm.avail_out),A)}),new be(4,4,8,4,K),new be(4,5,16,8,K),new be(4,6,32,32,K),new be(4,4,16,16,q),new be(8,16,32,32,q),new be(8,16,128,128,q),new be(8,32,128,256,q),new be(32,128,258,1024,q),new be(32,258,258,4096,q)],o.deflateInit=function(M,he){return Ee(M,he,w,15,8,0)},o.deflateInit2=Ee,o.deflateReset=le,o.deflateResetKeep=ie,o.deflateSetHeader=function(M,he){return M&&M.state?M.state.wrap!==2?b:(M.state.gzhead=he,m):b},o.deflate=function(M,he){var V,R,N,B;if(!M||!M.state||5<he||he<0)return M?ne(M,b):b;if(R=M.state,!M.output||!M.input&&M.avail_in!==0||R.status===666&&he!==f)return ne(M,M.avail_out===0?-5:b);if(R.strm=M,V=R.last_flush,R.last_flush=he,R.status===$)if(R.wrap===2)M.adler=0,ae(R,31),ae(R,139),ae(R,8),R.gzhead?(ae(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),ae(R,255&R.gzhead.time),ae(R,R.gzhead.time>>8&255),ae(R,R.gzhead.time>>16&255),ae(R,R.gzhead.time>>24&255),ae(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),ae(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(ae(R,255&R.gzhead.extra.length),ae(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(M.adler=u(M.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(ae(R,0),ae(R,0),ae(R,0),ae(R,0),ae(R,0),ae(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),ae(R,3),R.status=F);else{var ue=w+(R.w_bits-8<<4)<<8;ue|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(ue|=32),ue+=31-ue%31,R.status=F,re(R,ue),R.strstart!==0&&(re(R,M.adler>>>16),re(R,65535&M.adler)),M.adler=1}if(R.status===69)if(R.gzhead.extra){for(N=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>N&&(M.adler=u(M.adler,R.pending_buf,R.pending-N,N)),X(M),N=R.pending,R.pending!==R.pending_buf_size));)ae(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>N&&(M.adler=u(M.adler,R.pending_buf,R.pending-N,N)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){N=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>N&&(M.adler=u(M.adler,R.pending_buf,R.pending-N,N)),X(M),N=R.pending,R.pending===R.pending_buf_size)){B=1;break}B=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,ae(R,B)}while(B!==0);R.gzhead.hcrc&&R.pending>N&&(M.adler=u(M.adler,R.pending_buf,R.pending-N,N)),B===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){N=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>N&&(M.adler=u(M.adler,R.pending_buf,R.pending-N,N)),X(M),N=R.pending,R.pending===R.pending_buf_size)){B=1;break}B=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,ae(R,B)}while(B!==0);R.gzhead.hcrc&&R.pending>N&&(M.adler=u(M.adler,R.pending_buf,R.pending-N,N)),B===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&X(M),R.pending+2<=R.pending_buf_size&&(ae(R,255&M.adler),ae(R,M.adler>>8&255),M.adler=0,R.status=F)):R.status=F),R.pending!==0){if(X(M),M.avail_out===0)return R.last_flush=-1,m}else if(M.avail_in===0&&J(he)<=J(V)&&he!==f)return ne(M,-5);if(R.status===666&&M.avail_in!==0)return ne(M,-5);if(M.avail_in!==0||R.lookahead!==0||he!==h&&R.status!==666){var ve=R.strategy===2?function(se,ge){for(var Se;;){if(se.lookahead===0&&(me(se),se.lookahead===0)){if(ge===h)return A;break}if(se.match_length=0,Se=l._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++,Se&&(j(se,!1),se.strm.avail_out===0))return A}return se.insert=0,ge===f?(j(se,!0),se.strm.avail_out===0?H:G):se.last_lit&&(j(se,!1),se.strm.avail_out===0)?A:Q}(R,he):R.strategy===3?function(se,ge){for(var Se,Te,De,Le,Ke=se.window;;){if(se.lookahead<=W){if(me(se),se.lookahead<=W&&ge===h)return A;if(se.lookahead===0)break}if(se.match_length=0,se.lookahead>=O&&0<se.strstart&&(Te=Ke[De=se.strstart-1])===Ke[++De]&&Te===Ke[++De]&&Te===Ke[++De]){Le=se.strstart+W;do;while(Te===Ke[++De]&&Te===Ke[++De]&&Te===Ke[++De]&&Te===Ke[++De]&&Te===Ke[++De]&&Te===Ke[++De]&&Te===Ke[++De]&&Te===Ke[++De]&&De<Le);se.match_length=W-(Le-De),se.match_length>se.lookahead&&(se.match_length=se.lookahead)}if(se.match_length>=O?(Se=l._tr_tally(se,1,se.match_length-O),se.lookahead-=se.match_length,se.strstart+=se.match_length,se.match_length=0):(Se=l._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++),Se&&(j(se,!1),se.strm.avail_out===0))return A}return se.insert=0,ge===f?(j(se,!0),se.strm.avail_out===0?H:G):se.last_lit&&(j(se,!1),se.strm.avail_out===0)?A:Q}(R,he):a[R.level].func(R,he);if(ve!==H&&ve!==G||(R.status=666),ve===A||ve===H)return M.avail_out===0&&(R.last_flush=-1),m;if(ve===Q&&(he===1?l._tr_align(R):he!==5&&(l._tr_stored_block(R,0,0,!1),he===3&&(ee(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),X(M),M.avail_out===0))return R.last_flush=-1,m}return he!==f?m:R.wrap<=0?1:(R.wrap===2?(ae(R,255&M.adler),ae(R,M.adler>>8&255),ae(R,M.adler>>16&255),ae(R,M.adler>>24&255),ae(R,255&M.total_in),ae(R,M.total_in>>8&255),ae(R,M.total_in>>16&255),ae(R,M.total_in>>24&255)):(re(R,M.adler>>>16),re(R,65535&M.adler)),X(M),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?m:1)},o.deflateEnd=function(M){var he;return M&&M.state?(he=M.state.status)!==$&&he!==69&&he!==73&&he!==91&&he!==103&&he!==F&&he!==666?ne(M,b):(M.state=null,he===F?ne(M,-3):m):b},o.deflateSetDictionary=function(M,he){var V,R,N,B,ue,ve,se,ge,Se=he.length;if(!M||!M.state||(B=(V=M.state).wrap)===2||B===1&&V.status!==$||V.lookahead)return b;for(B===1&&(M.adler=c(M.adler,he,Se,0)),V.wrap=0,Se>=V.w_size&&(B===0&&(ee(V.head),V.strstart=0,V.block_start=0,V.insert=0),ge=new s.Buf8(V.w_size),s.arraySet(ge,he,Se-V.w_size,V.w_size,0),he=ge,Se=V.w_size),ue=M.avail_in,ve=M.next_in,se=M.input,M.avail_in=Se,M.next_in=0,M.input=he,me(V);V.lookahead>=O;){for(R=V.strstart,N=V.lookahead-(O-1);V.ins_h=(V.ins_h<<V.hash_shift^V.window[R+O-1])&V.hash_mask,V.prev[R&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=R,R++,--N;);V.strstart=R,V.lookahead=O-1,me(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=O-1,V.match_available=0,M.next_in=ve,M.input=se,M.avail_in=ue,V.wrap=B,m},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,i,o){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,i,o){i.exports=function(a,s){var l,c,u,d,h,f,m,b,g,v,x,w,k,T,_,D,I,L,O,W,Z,$,F,A,Q;l=a.state,c=a.next_in,A=a.input,u=c+(a.avail_in-5),d=a.next_out,Q=a.output,h=d-(s-a.avail_out),f=d+(a.avail_out-257),m=l.dmax,b=l.wsize,g=l.whave,v=l.wnext,x=l.window,w=l.hold,k=l.bits,T=l.lencode,_=l.distcode,D=(1<<l.lenbits)-1,I=(1<<l.distbits)-1;e:do{k<15&&(w+=A[c++]<<k,k+=8,w+=A[c++]<<k,k+=8),L=T[w&D];t:for(;;){if(w>>>=O=L>>>24,k-=O,(O=L>>>16&255)===0)Q[d++]=65535&L;else{if(!(16&O)){if((64&O)==0){L=T[(65535&L)+(w&(1<<O)-1)];continue t}if(32&O){l.mode=12;break e}a.msg="invalid literal/length code",l.mode=30;break e}W=65535&L,(O&=15)&&(k<O&&(w+=A[c++]<<k,k+=8),W+=w&(1<<O)-1,w>>>=O,k-=O),k<15&&(w+=A[c++]<<k,k+=8,w+=A[c++]<<k,k+=8),L=_[w&I];n:for(;;){if(w>>>=O=L>>>24,k-=O,!(16&(O=L>>>16&255))){if((64&O)==0){L=_[(65535&L)+(w&(1<<O)-1)];continue n}a.msg="invalid distance code",l.mode=30;break e}if(Z=65535&L,k<(O&=15)&&(w+=A[c++]<<k,(k+=8)<O&&(w+=A[c++]<<k,k+=8)),m<(Z+=w&(1<<O)-1)){a.msg="invalid distance too far back",l.mode=30;break e}if(w>>>=O,k-=O,(O=d-h)<Z){if(g<(O=Z-O)&&l.sane){a.msg="invalid distance too far back",l.mode=30;break e}if(F=x,($=0)===v){if($+=b-O,O<W){for(W-=O;Q[d++]=x[$++],--O;);$=d-Z,F=Q}}else if(v<O){if($+=b+v-O,(O-=v)<W){for(W-=O;Q[d++]=x[$++],--O;);if($=0,v<W){for(W-=O=v;Q[d++]=x[$++],--O;);$=d-Z,F=Q}}}else if($+=v-O,O<W){for(W-=O;Q[d++]=x[$++],--O;);$=d-Z,F=Q}for(;2<W;)Q[d++]=F[$++],Q[d++]=F[$++],Q[d++]=F[$++],W-=3;W&&(Q[d++]=F[$++],1<W&&(Q[d++]=F[$++]))}else{for($=d-Z;Q[d++]=Q[$++],Q[d++]=Q[$++],Q[d++]=Q[$++],2<(W-=3););W&&(Q[d++]=Q[$++],1<W&&(Q[d++]=Q[$++]))}break}}break}}while(c<u&&d<f);c-=W=k>>3,w&=(1<<(k-=W<<3))-1,a.next_in=c,a.next_out=d,a.avail_in=c<u?u-c+5:5-(c-u),a.avail_out=d<f?f-d+257:257-(d-f),l.hold=w,l.bits=k}},{}],49:[function(n,i,o){var a=n("../utils/common"),s=n("./adler32"),l=n("./crc32"),c=n("./inffast"),u=n("./inftrees"),d=1,h=2,f=0,m=-2,b=1,g=852,v=592;function x($){return($>>>24&255)+($>>>8&65280)+((65280&$)<<8)+((255&$)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k($){var F;return $&&$.state?(F=$.state,$.total_in=$.total_out=F.total=0,$.msg="",F.wrap&&($.adler=1&F.wrap),F.mode=b,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new a.Buf32(g),F.distcode=F.distdyn=new a.Buf32(v),F.sane=1,F.back=-1,f):m}function T($){var F;return $&&$.state?((F=$.state).wsize=0,F.whave=0,F.wnext=0,k($)):m}function _($,F){var A,Q;return $&&$.state?(Q=$.state,F<0?(A=0,F=-F):(A=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?m:(Q.window!==null&&Q.wbits!==F&&(Q.window=null),Q.wrap=A,Q.wbits=F,T($))):m}function D($,F){var A,Q;return $?(Q=new w,($.state=Q).window=null,(A=_($,F))!==f&&($.state=null),A):m}var I,L,O=!0;function W($){if(O){var F;for(I=new a.Buf32(512),L=new a.Buf32(32),F=0;F<144;)$.lens[F++]=8;for(;F<256;)$.lens[F++]=9;for(;F<280;)$.lens[F++]=7;for(;F<288;)$.lens[F++]=8;for(u(d,$.lens,0,288,I,0,$.work,{bits:9}),F=0;F<32;)$.lens[F++]=5;u(h,$.lens,0,32,L,0,$.work,{bits:5}),O=!1}$.lencode=I,$.lenbits=9,$.distcode=L,$.distbits=5}function Z($,F,A,Q){var H,G=$.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new a.Buf8(G.wsize)),Q>=G.wsize?(a.arraySet(G.window,F,A-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(Q<(H=G.wsize-G.wnext)&&(H=Q),a.arraySet(G.window,F,A-Q,H,G.wnext),(Q-=H)?(a.arraySet(G.window,F,A-Q,Q,0),G.wnext=Q,G.whave=G.wsize):(G.wnext+=H,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=H))),0}o.inflateReset=T,o.inflateReset2=_,o.inflateResetKeep=k,o.inflateInit=function($){return D($,15)},o.inflateInit2=D,o.inflate=function($,F){var A,Q,H,G,ne,J,ee,X,j,ae,re,de,me,K,q,be,pe,ie,le,Ee,M,he,V,R,N=0,B=new a.Buf8(4),ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!$||!$.state||!$.output||!$.input&&$.avail_in!==0)return m;(A=$.state).mode===12&&(A.mode=13),ne=$.next_out,H=$.output,ee=$.avail_out,G=$.next_in,Q=$.input,J=$.avail_in,X=A.hold,j=A.bits,ae=J,re=ee,he=f;e:for(;;)switch(A.mode){case b:if(A.wrap===0){A.mode=13;break}for(;j<16;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}if(2&A.wrap&&X===35615){B[A.check=0]=255&X,B[1]=X>>>8&255,A.check=l(A.check,B,2,0),j=X=0,A.mode=2;break}if(A.flags=0,A.head&&(A.head.done=!1),!(1&A.wrap)||(((255&X)<<8)+(X>>8))%31){$.msg="incorrect header check",A.mode=30;break}if((15&X)!=8){$.msg="unknown compression method",A.mode=30;break}if(j-=4,M=8+(15&(X>>>=4)),A.wbits===0)A.wbits=M;else if(M>A.wbits){$.msg="invalid window size",A.mode=30;break}A.dmax=1<<M,$.adler=A.check=1,A.mode=512&X?10:12,j=X=0;break;case 2:for(;j<16;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}if(A.flags=X,(255&A.flags)!=8){$.msg="unknown compression method",A.mode=30;break}if(57344&A.flags){$.msg="unknown header flags set",A.mode=30;break}A.head&&(A.head.text=X>>8&1),512&A.flags&&(B[0]=255&X,B[1]=X>>>8&255,A.check=l(A.check,B,2,0)),j=X=0,A.mode=3;case 3:for(;j<32;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}A.head&&(A.head.time=X),512&A.flags&&(B[0]=255&X,B[1]=X>>>8&255,B[2]=X>>>16&255,B[3]=X>>>24&255,A.check=l(A.check,B,4,0)),j=X=0,A.mode=4;case 4:for(;j<16;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}A.head&&(A.head.xflags=255&X,A.head.os=X>>8),512&A.flags&&(B[0]=255&X,B[1]=X>>>8&255,A.check=l(A.check,B,2,0)),j=X=0,A.mode=5;case 5:if(1024&A.flags){for(;j<16;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}A.length=X,A.head&&(A.head.extra_len=X),512&A.flags&&(B[0]=255&X,B[1]=X>>>8&255,A.check=l(A.check,B,2,0)),j=X=0}else A.head&&(A.head.extra=null);A.mode=6;case 6:if(1024&A.flags&&(J<(de=A.length)&&(de=J),de&&(A.head&&(M=A.head.extra_len-A.length,A.head.extra||(A.head.extra=new Array(A.head.extra_len)),a.arraySet(A.head.extra,Q,G,de,M)),512&A.flags&&(A.check=l(A.check,Q,de,G)),J-=de,G+=de,A.length-=de),A.length))break e;A.length=0,A.mode=7;case 7:if(2048&A.flags){if(J===0)break e;for(de=0;M=Q[G+de++],A.head&&M&&A.length<65536&&(A.head.name+=String.fromCharCode(M)),M&&de<J;);if(512&A.flags&&(A.check=l(A.check,Q,de,G)),J-=de,G+=de,M)break e}else A.head&&(A.head.name=null);A.length=0,A.mode=8;case 8:if(4096&A.flags){if(J===0)break e;for(de=0;M=Q[G+de++],A.head&&M&&A.length<65536&&(A.head.comment+=String.fromCharCode(M)),M&&de<J;);if(512&A.flags&&(A.check=l(A.check,Q,de,G)),J-=de,G+=de,M)break e}else A.head&&(A.head.comment=null);A.mode=9;case 9:if(512&A.flags){for(;j<16;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}if(X!==(65535&A.check)){$.msg="header crc mismatch",A.mode=30;break}j=X=0}A.head&&(A.head.hcrc=A.flags>>9&1,A.head.done=!0),$.adler=A.check=0,A.mode=12;break;case 10:for(;j<32;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}$.adler=A.check=x(X),j=X=0,A.mode=11;case 11:if(A.havedict===0)return $.next_out=ne,$.avail_out=ee,$.next_in=G,$.avail_in=J,A.hold=X,A.bits=j,2;$.adler=A.check=1,A.mode=12;case 12:if(F===5||F===6)break e;case 13:if(A.last){X>>>=7&j,j-=7&j,A.mode=27;break}for(;j<3;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}switch(A.last=1&X,j-=1,3&(X>>>=1)){case 0:A.mode=14;break;case 1:if(W(A),A.mode=20,F!==6)break;X>>>=2,j-=2;break e;case 2:A.mode=17;break;case 3:$.msg="invalid block type",A.mode=30}X>>>=2,j-=2;break;case 14:for(X>>>=7&j,j-=7&j;j<32;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}if((65535&X)!=(X>>>16^65535)){$.msg="invalid stored block lengths",A.mode=30;break}if(A.length=65535&X,j=X=0,A.mode=15,F===6)break e;case 15:A.mode=16;case 16:if(de=A.length){if(J<de&&(de=J),ee<de&&(de=ee),de===0)break e;a.arraySet(H,Q,G,de,ne),J-=de,G+=de,ee-=de,ne+=de,A.length-=de;break}A.mode=12;break;case 17:for(;j<14;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}if(A.nlen=257+(31&X),X>>>=5,j-=5,A.ndist=1+(31&X),X>>>=5,j-=5,A.ncode=4+(15&X),X>>>=4,j-=4,286<A.nlen||30<A.ndist){$.msg="too many length or distance symbols",A.mode=30;break}A.have=0,A.mode=18;case 18:for(;A.have<A.ncode;){for(;j<3;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}A.lens[ue[A.have++]]=7&X,X>>>=3,j-=3}for(;A.have<19;)A.lens[ue[A.have++]]=0;if(A.lencode=A.lendyn,A.lenbits=7,V={bits:A.lenbits},he=u(0,A.lens,0,19,A.lencode,0,A.work,V),A.lenbits=V.bits,he){$.msg="invalid code lengths set",A.mode=30;break}A.have=0,A.mode=19;case 19:for(;A.have<A.nlen+A.ndist;){for(;be=(N=A.lencode[X&(1<<A.lenbits)-1])>>>16&255,pe=65535&N,!((q=N>>>24)<=j);){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}if(pe<16)X>>>=q,j-=q,A.lens[A.have++]=pe;else{if(pe===16){for(R=q+2;j<R;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}if(X>>>=q,j-=q,A.have===0){$.msg="invalid bit length repeat",A.mode=30;break}M=A.lens[A.have-1],de=3+(3&X),X>>>=2,j-=2}else if(pe===17){for(R=q+3;j<R;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}j-=q,M=0,de=3+(7&(X>>>=q)),X>>>=3,j-=3}else{for(R=q+7;j<R;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}j-=q,M=0,de=11+(127&(X>>>=q)),X>>>=7,j-=7}if(A.have+de>A.nlen+A.ndist){$.msg="invalid bit length repeat",A.mode=30;break}for(;de--;)A.lens[A.have++]=M}}if(A.mode===30)break;if(A.lens[256]===0){$.msg="invalid code -- missing end-of-block",A.mode=30;break}if(A.lenbits=9,V={bits:A.lenbits},he=u(d,A.lens,0,A.nlen,A.lencode,0,A.work,V),A.lenbits=V.bits,he){$.msg="invalid literal/lengths set",A.mode=30;break}if(A.distbits=6,A.distcode=A.distdyn,V={bits:A.distbits},he=u(h,A.lens,A.nlen,A.ndist,A.distcode,0,A.work,V),A.distbits=V.bits,he){$.msg="invalid distances set",A.mode=30;break}if(A.mode=20,F===6)break e;case 20:A.mode=21;case 21:if(6<=J&&258<=ee){$.next_out=ne,$.avail_out=ee,$.next_in=G,$.avail_in=J,A.hold=X,A.bits=j,c($,re),ne=$.next_out,H=$.output,ee=$.avail_out,G=$.next_in,Q=$.input,J=$.avail_in,X=A.hold,j=A.bits,A.mode===12&&(A.back=-1);break}for(A.back=0;be=(N=A.lencode[X&(1<<A.lenbits)-1])>>>16&255,pe=65535&N,!((q=N>>>24)<=j);){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}if(be&&(240&be)==0){for(ie=q,le=be,Ee=pe;be=(N=A.lencode[Ee+((X&(1<<ie+le)-1)>>ie)])>>>16&255,pe=65535&N,!(ie+(q=N>>>24)<=j);){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}X>>>=ie,j-=ie,A.back+=ie}if(X>>>=q,j-=q,A.back+=q,A.length=pe,be===0){A.mode=26;break}if(32&be){A.back=-1,A.mode=12;break}if(64&be){$.msg="invalid literal/length code",A.mode=30;break}A.extra=15&be,A.mode=22;case 22:if(A.extra){for(R=A.extra;j<R;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}A.length+=X&(1<<A.extra)-1,X>>>=A.extra,j-=A.extra,A.back+=A.extra}A.was=A.length,A.mode=23;case 23:for(;be=(N=A.distcode[X&(1<<A.distbits)-1])>>>16&255,pe=65535&N,!((q=N>>>24)<=j);){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}if((240&be)==0){for(ie=q,le=be,Ee=pe;be=(N=A.distcode[Ee+((X&(1<<ie+le)-1)>>ie)])>>>16&255,pe=65535&N,!(ie+(q=N>>>24)<=j);){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}X>>>=ie,j-=ie,A.back+=ie}if(X>>>=q,j-=q,A.back+=q,64&be){$.msg="invalid distance code",A.mode=30;break}A.offset=pe,A.extra=15&be,A.mode=24;case 24:if(A.extra){for(R=A.extra;j<R;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}A.offset+=X&(1<<A.extra)-1,X>>>=A.extra,j-=A.extra,A.back+=A.extra}if(A.offset>A.dmax){$.msg="invalid distance too far back",A.mode=30;break}A.mode=25;case 25:if(ee===0)break e;if(de=re-ee,A.offset>de){if((de=A.offset-de)>A.whave&&A.sane){$.msg="invalid distance too far back",A.mode=30;break}me=de>A.wnext?(de-=A.wnext,A.wsize-de):A.wnext-de,de>A.length&&(de=A.length),K=A.window}else K=H,me=ne-A.offset,de=A.length;for(ee<de&&(de=ee),ee-=de,A.length-=de;H[ne++]=K[me++],--de;);A.length===0&&(A.mode=21);break;case 26:if(ee===0)break e;H[ne++]=A.length,ee--,A.mode=21;break;case 27:if(A.wrap){for(;j<32;){if(J===0)break e;J--,X|=Q[G++]<<j,j+=8}if(re-=ee,$.total_out+=re,A.total+=re,re&&($.adler=A.check=A.flags?l(A.check,H,re,ne-re):s(A.check,H,re,ne-re)),re=ee,(A.flags?X:x(X))!==A.check){$.msg="incorrect data check",A.mode=30;break}j=X=0}A.mode=28;case 28:if(A.wrap&&A.flags){for(;j<32;){if(J===0)break e;J--,X+=Q[G++]<<j,j+=8}if(X!==(4294967295&A.total)){$.msg="incorrect length check",A.mode=30;break}j=X=0}A.mode=29;case 29:he=1;break e;case 30:he=-3;break e;case 31:return-4;case 32:default:return m}return $.next_out=ne,$.avail_out=ee,$.next_in=G,$.avail_in=J,A.hold=X,A.bits=j,(A.wsize||re!==$.avail_out&&A.mode<30&&(A.mode<27||F!==4))&&Z($,$.output,$.next_out,re-$.avail_out)?(A.mode=31,-4):(ae-=$.avail_in,re-=$.avail_out,$.total_in+=ae,$.total_out+=re,A.total+=re,A.wrap&&re&&($.adler=A.check=A.flags?l(A.check,H,re,$.next_out-re):s(A.check,H,re,$.next_out-re)),$.data_type=A.bits+(A.last?64:0)+(A.mode===12?128:0)+(A.mode===20||A.mode===15?256:0),(ae==0&&re===0||F===4)&&he===f&&(he=-5),he)},o.inflateEnd=function($){if(!$||!$.state)return m;var F=$.state;return F.window&&(F.window=null),$.state=null,f},o.inflateGetHeader=function($,F){var A;return $&&$.state?(2&(A=$.state).wrap)==0?m:((A.head=F).done=!1,f):m},o.inflateSetDictionary=function($,F){var A,Q=F.length;return $&&$.state?(A=$.state).wrap!==0&&A.mode!==11?m:A.mode===11&&s(1,F,Q,0)!==A.check?-3:Z($,F,Q,Q)?(A.mode=31,-4):(A.havedict=1,f):m},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,i,o){var a=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(d,h,f,m,b,g,v,x){var w,k,T,_,D,I,L,O,W,Z=x.bits,$=0,F=0,A=0,Q=0,H=0,G=0,ne=0,J=0,ee=0,X=0,j=null,ae=0,re=new a.Buf16(16),de=new a.Buf16(16),me=null,K=0;for($=0;$<=15;$++)re[$]=0;for(F=0;F<m;F++)re[h[f+F]]++;for(H=Z,Q=15;1<=Q&&re[Q]===0;Q--);if(Q<H&&(H=Q),Q===0)return b[g++]=20971520,b[g++]=20971520,x.bits=1,0;for(A=1;A<Q&&re[A]===0;A++);for(H<A&&(H=A),$=J=1;$<=15;$++)if(J<<=1,(J-=re[$])<0)return-1;if(0<J&&(d===0||Q!==1))return-1;for(de[1]=0,$=1;$<15;$++)de[$+1]=de[$]+re[$];for(F=0;F<m;F++)h[f+F]!==0&&(v[de[h[f+F]]++]=F);if(I=d===0?(j=me=v,19):d===1?(j=s,ae-=257,me=l,K-=257,256):(j=c,me=u,-1),$=A,D=g,ne=F=X=0,T=-1,_=(ee=1<<(G=H))-1,d===1&&852<ee||d===2&&592<ee)return 1;for(;;){for(L=$-ne,W=v[F]<I?(O=0,v[F]):v[F]>I?(O=me[K+v[F]],j[ae+v[F]]):(O=96,0),w=1<<$-ne,A=k=1<<G;b[D+(X>>ne)+(k-=w)]=L<<24|O<<16|W|0,k!==0;);for(w=1<<$-1;X&w;)w>>=1;if(w!==0?(X&=w-1,X+=w):X=0,F++,--re[$]==0){if($===Q)break;$=h[f+v[F]]}if(H<$&&(X&_)!==T){for(ne===0&&(ne=H),D+=A,J=1<<(G=$-ne);G+ne<Q&&!((J-=re[G+ne])<=0);)G++,J<<=1;if(ee+=1<<G,d===1&&852<ee||d===2&&592<ee)return 1;b[T=X&_]=H<<24|G<<16|D-g|0}}return X!==0&&(b[D+X]=$-ne<<24|64<<16|0),x.bits=H,0}},{"../utils/common":41}],51:[function(n,i,o){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,i,o){var a=n("../utils/common"),s=0,l=1;function c(N){for(var B=N.length;0<=--B;)N[B]=0}var u=0,d=29,h=256,f=h+1+d,m=30,b=19,g=2*f+1,v=15,x=16,w=7,k=256,T=16,_=17,D=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=new Array(2*(f+2));c(Z);var $=new Array(2*m);c($);var F=new Array(512);c(F);var A=new Array(256);c(A);var Q=new Array(d);c(Q);var H,G,ne,J=new Array(m);function ee(N,B,ue,ve,se){this.static_tree=N,this.extra_bits=B,this.extra_base=ue,this.elems=ve,this.max_length=se,this.has_stree=N&&N.length}function X(N,B){this.dyn_tree=N,this.max_code=0,this.stat_desc=B}function j(N){return N<256?F[N]:F[256+(N>>>7)]}function ae(N,B){N.pending_buf[N.pending++]=255&B,N.pending_buf[N.pending++]=B>>>8&255}function re(N,B,ue){N.bi_valid>x-ue?(N.bi_buf|=B<<N.bi_valid&65535,ae(N,N.bi_buf),N.bi_buf=B>>x-N.bi_valid,N.bi_valid+=ue-x):(N.bi_buf|=B<<N.bi_valid&65535,N.bi_valid+=ue)}function de(N,B,ue){re(N,ue[2*B],ue[2*B+1])}function me(N,B){for(var ue=0;ue|=1&N,N>>>=1,ue<<=1,0<--B;);return ue>>>1}function K(N,B,ue){var ve,se,ge=new Array(v+1),Se=0;for(ve=1;ve<=v;ve++)ge[ve]=Se=Se+ue[ve-1]<<1;for(se=0;se<=B;se++){var Te=N[2*se+1];Te!==0&&(N[2*se]=me(ge[Te]++,Te))}}function q(N){var B;for(B=0;B<f;B++)N.dyn_ltree[2*B]=0;for(B=0;B<m;B++)N.dyn_dtree[2*B]=0;for(B=0;B<b;B++)N.bl_tree[2*B]=0;N.dyn_ltree[2*k]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function be(N){8<N.bi_valid?ae(N,N.bi_buf):0<N.bi_valid&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function pe(N,B,ue,ve){var se=2*B,ge=2*ue;return N[se]<N[ge]||N[se]===N[ge]&&ve[B]<=ve[ue]}function ie(N,B,ue){for(var ve=N.heap[ue],se=ue<<1;se<=N.heap_len&&(se<N.heap_len&&pe(B,N.heap[se+1],N.heap[se],N.depth)&&se++,!pe(B,ve,N.heap[se],N.depth));)N.heap[ue]=N.heap[se],ue=se,se<<=1;N.heap[ue]=ve}function le(N,B,ue){var ve,se,ge,Se,Te=0;if(N.last_lit!==0)for(;ve=N.pending_buf[N.d_buf+2*Te]<<8|N.pending_buf[N.d_buf+2*Te+1],se=N.pending_buf[N.l_buf+Te],Te++,ve===0?de(N,se,B):(de(N,(ge=A[se])+h+1,B),(Se=I[ge])!==0&&re(N,se-=Q[ge],Se),de(N,ge=j(--ve),ue),(Se=L[ge])!==0&&re(N,ve-=J[ge],Se)),Te<N.last_lit;);de(N,k,B)}function Ee(N,B){var ue,ve,se,ge=B.dyn_tree,Se=B.stat_desc.static_tree,Te=B.stat_desc.has_stree,De=B.stat_desc.elems,Le=-1;for(N.heap_len=0,N.heap_max=g,ue=0;ue<De;ue++)ge[2*ue]!==0?(N.heap[++N.heap_len]=Le=ue,N.depth[ue]=0):ge[2*ue+1]=0;for(;N.heap_len<2;)ge[2*(se=N.heap[++N.heap_len]=Le<2?++Le:0)]=1,N.depth[se]=0,N.opt_len--,Te&&(N.static_len-=Se[2*se+1]);for(B.max_code=Le,ue=N.heap_len>>1;1<=ue;ue--)ie(N,ge,ue);for(se=De;ue=N.heap[1],N.heap[1]=N.heap[N.heap_len--],ie(N,ge,1),ve=N.heap[1],N.heap[--N.heap_max]=ue,N.heap[--N.heap_max]=ve,ge[2*se]=ge[2*ue]+ge[2*ve],N.depth[se]=(N.depth[ue]>=N.depth[ve]?N.depth[ue]:N.depth[ve])+1,ge[2*ue+1]=ge[2*ve+1]=se,N.heap[1]=se++,ie(N,ge,1),2<=N.heap_len;);N.heap[--N.heap_max]=N.heap[1],function(Ke,pt){var jt,Ne,Ye,Ze,Pe,Qe,Ce=pt.dyn_tree,$e=pt.max_code,vt=pt.stat_desc.static_tree,zt=pt.stat_desc.has_stree,Yt=pt.stat_desc.extra_bits,fe=pt.stat_desc.extra_base,xe=pt.stat_desc.max_length,_e=0;for(Ze=0;Ze<=v;Ze++)Ke.bl_count[Ze]=0;for(Ce[2*Ke.heap[Ke.heap_max]+1]=0,jt=Ke.heap_max+1;jt<g;jt++)xe<(Ze=Ce[2*Ce[2*(Ne=Ke.heap[jt])+1]+1]+1)&&(Ze=xe,_e++),Ce[2*Ne+1]=Ze,$e<Ne||(Ke.bl_count[Ze]++,Pe=0,fe<=Ne&&(Pe=Yt[Ne-fe]),Qe=Ce[2*Ne],Ke.opt_len+=Qe*(Ze+Pe),zt&&(Ke.static_len+=Qe*(vt[2*Ne+1]+Pe)));if(_e!==0){do{for(Ze=xe-1;Ke.bl_count[Ze]===0;)Ze--;Ke.bl_count[Ze]--,Ke.bl_count[Ze+1]+=2,Ke.bl_count[xe]--,_e-=2}while(0<_e);for(Ze=xe;Ze!==0;Ze--)for(Ne=Ke.bl_count[Ze];Ne!==0;)$e<(Ye=Ke.heap[--jt])||(Ce[2*Ye+1]!==Ze&&(Ke.opt_len+=(Ze-Ce[2*Ye+1])*Ce[2*Ye],Ce[2*Ye+1]=Ze),Ne--)}}(N,B),K(ge,Le,N.bl_count)}function M(N,B,ue){var ve,se,ge=-1,Se=B[1],Te=0,De=7,Le=4;for(Se===0&&(De=138,Le=3),B[2*(ue+1)+1]=65535,ve=0;ve<=ue;ve++)se=Se,Se=B[2*(ve+1)+1],++Te<De&&se===Se||(Te<Le?N.bl_tree[2*se]+=Te:se!==0?(se!==ge&&N.bl_tree[2*se]++,N.bl_tree[2*T]++):Te<=10?N.bl_tree[2*_]++:N.bl_tree[2*D]++,ge=se,Le=(Te=0)===Se?(De=138,3):se===Se?(De=6,3):(De=7,4))}function he(N,B,ue){var ve,se,ge=-1,Se=B[1],Te=0,De=7,Le=4;for(Se===0&&(De=138,Le=3),ve=0;ve<=ue;ve++)if(se=Se,Se=B[2*(ve+1)+1],!(++Te<De&&se===Se)){if(Te<Le)for(;de(N,se,N.bl_tree),--Te!=0;);else se!==0?(se!==ge&&(de(N,se,N.bl_tree),Te--),de(N,T,N.bl_tree),re(N,Te-3,2)):Te<=10?(de(N,_,N.bl_tree),re(N,Te-3,3)):(de(N,D,N.bl_tree),re(N,Te-11,7));ge=se,Le=(Te=0)===Se?(De=138,3):se===Se?(De=6,3):(De=7,4)}}c(J);var V=!1;function R(N,B,ue,ve){re(N,(u<<1)+(ve?1:0),3),function(se,ge,Se,Te){be(se),ae(se,Se),ae(se,~Se),a.arraySet(se.pending_buf,se.window,ge,Se,se.pending),se.pending+=Se}(N,B,ue)}o._tr_init=function(N){V||(function(){var B,ue,ve,se,ge,Se=new Array(v+1);for(se=ve=0;se<d-1;se++)for(Q[se]=ve,B=0;B<1<<I[se];B++)A[ve++]=se;for(A[ve-1]=se,se=ge=0;se<16;se++)for(J[se]=ge,B=0;B<1<<L[se];B++)F[ge++]=se;for(ge>>=7;se<m;se++)for(J[se]=ge<<7,B=0;B<1<<L[se]-7;B++)F[256+ge++]=se;for(ue=0;ue<=v;ue++)Se[ue]=0;for(B=0;B<=143;)Z[2*B+1]=8,B++,Se[8]++;for(;B<=255;)Z[2*B+1]=9,B++,Se[9]++;for(;B<=279;)Z[2*B+1]=7,B++,Se[7]++;for(;B<=287;)Z[2*B+1]=8,B++,Se[8]++;for(K(Z,f+1,Se),B=0;B<m;B++)$[2*B+1]=5,$[2*B]=me(B,5);H=new ee(Z,I,h+1,f,v),G=new ee($,L,0,m,v),ne=new ee(new Array(0),O,0,b,w)}(),V=!0),N.l_desc=new X(N.dyn_ltree,H),N.d_desc=new X(N.dyn_dtree,G),N.bl_desc=new X(N.bl_tree,ne),N.bi_buf=0,N.bi_valid=0,q(N)},o._tr_stored_block=R,o._tr_flush_block=function(N,B,ue,ve){var se,ge,Se=0;0<N.level?(N.strm.data_type===2&&(N.strm.data_type=function(Te){var De,Le=4093624447;for(De=0;De<=31;De++,Le>>>=1)if(1&Le&&Te.dyn_ltree[2*De]!==0)return s;if(Te.dyn_ltree[18]!==0||Te.dyn_ltree[20]!==0||Te.dyn_ltree[26]!==0)return l;for(De=32;De<h;De++)if(Te.dyn_ltree[2*De]!==0)return l;return s}(N)),Ee(N,N.l_desc),Ee(N,N.d_desc),Se=function(Te){var De;for(M(Te,Te.dyn_ltree,Te.l_desc.max_code),M(Te,Te.dyn_dtree,Te.d_desc.max_code),Ee(Te,Te.bl_desc),De=b-1;3<=De&&Te.bl_tree[2*W[De]+1]===0;De--);return Te.opt_len+=3*(De+1)+5+5+4,De}(N),se=N.opt_len+3+7>>>3,(ge=N.static_len+3+7>>>3)<=se&&(se=ge)):se=ge=ue+5,ue+4<=se&&B!==-1?R(N,B,ue,ve):N.strategy===4||ge===se?(re(N,2+(ve?1:0),3),le(N,Z,$)):(re(N,4+(ve?1:0),3),function(Te,De,Le,Ke){var pt;for(re(Te,De-257,5),re(Te,Le-1,5),re(Te,Ke-4,4),pt=0;pt<Ke;pt++)re(Te,Te.bl_tree[2*W[pt]+1],3);he(Te,Te.dyn_ltree,De-1),he(Te,Te.dyn_dtree,Le-1)}(N,N.l_desc.max_code+1,N.d_desc.max_code+1,Se+1),le(N,N.dyn_ltree,N.dyn_dtree)),q(N),ve&&be(N)},o._tr_tally=function(N,B,ue){return N.pending_buf[N.d_buf+2*N.last_lit]=B>>>8&255,N.pending_buf[N.d_buf+2*N.last_lit+1]=255&B,N.pending_buf[N.l_buf+N.last_lit]=255&ue,N.last_lit++,B===0?N.dyn_ltree[2*ue]++:(N.matches++,B--,N.dyn_ltree[2*(A[ue]+h+1)]++,N.dyn_dtree[2*j(B)]++),N.last_lit===N.lit_bufsize-1},o._tr_align=function(N){re(N,2,3),de(N,k,Z),function(B){B.bi_valid===16?(ae(B,B.bi_buf),B.bi_buf=0,B.bi_valid=0):8<=B.bi_valid&&(B.pending_buf[B.pending++]=255&B.bi_buf,B.bi_buf>>=8,B.bi_valid-=8)}(N)}},{"../utils/common":41}],53:[function(n,i,o){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,i,o){(function(a){(function(s,l){if(!s.setImmediate){var c,u,d,h,f=1,m={},b=!1,g=s.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(s);v=v&&v.setTimeout?v:s,c={}.toString.call(s.process)==="[object process]"?function(T){process.nextTick(function(){w(T)})}:function(){if(s.postMessage&&!s.importScripts){var T=!0,_=s.onmessage;return s.onmessage=function(){T=!1},s.postMessage("","*"),s.onmessage=_,T}}()?(h="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",k,!1):s.attachEvent("onmessage",k),function(T){s.postMessage(h+T,"*")}):s.MessageChannel?((d=new MessageChannel).port1.onmessage=function(T){w(T.data)},function(T){d.port2.postMessage(T)}):g&&"onreadystatechange"in g.createElement("script")?(u=g.documentElement,function(T){var _=g.createElement("script");_.onreadystatechange=function(){w(T),_.onreadystatechange=null,u.removeChild(_),_=null},u.appendChild(_)}):function(T){setTimeout(w,0,T)},v.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var _=new Array(arguments.length-1),D=0;D<_.length;D++)_[D]=arguments[D+1];var I={callback:T,args:_};return m[f]=I,c(f),f++},v.clearImmediate=x}function x(T){delete m[T]}function w(T){if(b)setTimeout(w,0,T);else{var _=m[T];if(_){b=!0;try{(function(D){var I=D.callback,L=D.args;switch(L.length){case 0:I();break;case 1:I(L[0]);break;case 2:I(L[0],L[1]);break;case 3:I(L[0],L[1],L[2]);break;default:I.apply(l,L)}})(_)}finally{x(T),b=!1}}}}function k(T){T.source===s&&typeof T.data=="string"&&T.data.indexOf(h)===0&&w(+T.data.slice(h.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof Wa<"u"?Wa:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(JY)),JY.exports}var eZ;function k0e(){if(eZ)return V1;eZ=1;var r=Sot(),e=kot();V1.openArrayBuffer=n,V1.splitPath=i,V1.joinPath=o;function n(a){return e.loadAsync(a).then(function(s){function l(h){return s.file(h)!==null}function c(h,f){return s.file(h).async("uint8array").then(function(m){if(f==="base64")return r.fromByteArray(m);if(f){var b=new TextDecoder(f);return b.decode(m)}else return m})}function u(h,f){s.file(h,f)}function d(){return s.generateAsync({type:"arraybuffer"})}return{exists:l,read:c,write:u,toArrayBuffer:d}})}function i(a){var s=a.lastIndexOf("/");return s===-1?{dirname:"",basename:a}:{dirname:a.substring(0,s),basename:a.substring(s+1)}}function o(){var a=Array.prototype.filter.call(arguments,function(l){return l}),s=[];return a.forEach(function(l){/^\//.test(l)?s=[l]:s.push(l)}),s.join("/")}return V1}var b2={},Wu={},_m={},tZ;function T0e(){if(tZ)return _m;tZ=1;var r=Fr;_m.Element=n,_m.element=function(a,s,l){return new n(a,s,l)},_m.text=function(a){return{type:"text",value:a}};var e=_m.emptyElement={first:function(){return null},firstOrEmpty:function(){return e},attributes:{},children:[]};function n(a,s,l){this.type="element",this.name=a,this.attributes=s||{},this.children=l||[]}n.prototype.first=function(a){return r.find(this.children,function(s){return s.name===a})},n.prototype.firstOrEmpty=function(a){return this.first(a)||e},n.prototype.getElementsByTagName=function(a){var s=r.filter(this.children,function(l){return l.name===a});return o(s)},n.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var i={getElementsByTagName:function(a){return o(r.flatten(this.map(function(s){return s.getElementsByTagName(a)},!0)))}};function o(a){return r.extend(a,i)}return _m}var P_={},v2={},G1={},cc={},Wh={},nZ;function A6(){if(nZ)return Wh;nZ=1;function r(a,s,l){if(l===void 0&&(l=Array.prototype),a&&typeof l.find=="function")return l.find.call(a,s);for(var c=0;c<a.length;c++)if(Object.prototype.hasOwnProperty.call(a,c)){var u=a[c];if(s.call(void 0,u,c,a))return u}}function e(a,s){return s===void 0&&(s=Object),s&&typeof s.freeze=="function"?s.freeze(a):a}function n(a,s){if(a===null||typeof a!="object")throw new TypeError("target is not an object");for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(a[l]=s[l]);return a}var i=e({HTML:"text/html",isHTML:function(a){return a===i.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),o=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(a){return a===o.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Wh.assign=n,Wh.find=r,Wh.freeze=e,Wh.MIME_TYPE=i,Wh.NAMESPACE=o,Wh}var rZ;function gI(){if(rZ)return cc;rZ=1;var r=A6(),e=r.find,n=r.NAMESPACE;function i(fe){return fe!==""}function o(fe){return fe?fe.split(/[\t\n\f\r ]+/).filter(i):[]}function a(fe,xe){return fe.hasOwnProperty(xe)||(fe[xe]=!0),fe}function s(fe){if(!fe)return[];var xe=o(fe);return Object.keys(xe.reduce(a,{}))}function l(fe){return function(xe){return fe&&fe.indexOf(xe)!==-1}}function c(fe,xe){for(var _e in fe)Object.prototype.hasOwnProperty.call(fe,_e)&&(xe[_e]=fe[_e])}function u(fe,xe){var _e=fe.prototype;if(!(_e instanceof xe)){let Ue=function(){};Ue.prototype=xe.prototype,Ue=new Ue,c(_e,Ue),fe.prototype=_e=Ue}_e.constructor!=fe&&(typeof fe!="function"&&console.error("unknown Class:"+fe),_e.constructor=fe)}var d={},h=d.ELEMENT_NODE=1,f=d.ATTRIBUTE_NODE=2,m=d.TEXT_NODE=3,b=d.CDATA_SECTION_NODE=4,g=d.ENTITY_REFERENCE_NODE=5,v=d.ENTITY_NODE=6,x=d.PROCESSING_INSTRUCTION_NODE=7,w=d.COMMENT_NODE=8,k=d.DOCUMENT_NODE=9,T=d.DOCUMENT_TYPE_NODE=10,_=d.DOCUMENT_FRAGMENT_NODE=11,D=d.NOTATION_NODE=12,I={},L={};I.INDEX_SIZE_ERR=(L[1]="Index size error",1),I.DOMSTRING_SIZE_ERR=(L[2]="DOMString size error",2);var O=I.HIERARCHY_REQUEST_ERR=(L[3]="Hierarchy request error",3);I.WRONG_DOCUMENT_ERR=(L[4]="Wrong document",4),I.INVALID_CHARACTER_ERR=(L[5]="Invalid character",5),I.NO_DATA_ALLOWED_ERR=(L[6]="No data allowed",6),I.NO_MODIFICATION_ALLOWED_ERR=(L[7]="No modification allowed",7);var W=I.NOT_FOUND_ERR=(L[8]="Not found",8);I.NOT_SUPPORTED_ERR=(L[9]="Not supported",9);var Z=I.INUSE_ATTRIBUTE_ERR=(L[10]="Attribute in use",10);I.INVALID_STATE_ERR=(L[11]="Invalid state",11),I.SYNTAX_ERR=(L[12]="Syntax error",12),I.INVALID_MODIFICATION_ERR=(L[13]="Invalid modification",13),I.NAMESPACE_ERR=(L[14]="Invalid namespace",14),I.INVALID_ACCESS_ERR=(L[15]="Invalid access",15);function $(fe,xe){if(xe instanceof Error)var _e=xe;else _e=this,Error.call(this,L[fe]),this.message=L[fe],Error.captureStackTrace&&Error.captureStackTrace(this,$);return _e.code=fe,xe&&(this.message=this.message+": "+xe),_e}$.prototype=Error.prototype,c(I,$);function F(){}F.prototype={length:0,item:function(fe){return fe>=0&&fe<this.length?this[fe]:null},toString:function(fe,xe){for(var _e=[],Ue=0;Ue<this.length;Ue++)$e(this[Ue],_e,fe,xe);return _e.join("")},filter:function(fe){return Array.prototype.filter.call(this,fe)},indexOf:function(fe){return Array.prototype.indexOf.call(this,fe)}};function A(fe,xe){this._node=fe,this._refresh=xe,Q(this)}function Q(fe){var xe=fe._node._inc||fe._node.ownerDocument._inc;if(fe._inc!==xe){var _e=fe._refresh(fe._node);if(Yt(fe,"length",_e.length),!fe.$$length||_e.length<fe.$$length)for(var Ue=_e.length;Ue in fe;Ue++)Object.prototype.hasOwnProperty.call(fe,Ue)&&delete fe[Ue];c(_e,fe),fe._inc=xe}}A.prototype.item=function(fe){return Q(this),this[fe]||null},u(A,F);function H(){}function G(fe,xe){for(var _e=fe.length;_e--;)if(fe[_e]===xe)return _e}function ne(fe,xe,_e,Ue){if(Ue?xe[G(xe,Ue)]=_e:xe[xe.length++]=_e,fe){_e.ownerElement=fe;var at=fe.ownerDocument;at&&(Ue&&me(at,fe,Ue),de(at,fe,_e))}}function J(fe,xe,_e){var Ue=G(xe,_e);if(Ue>=0){for(var at=xe.length-1;Ue<at;)xe[Ue]=xe[++Ue];if(xe.length=at,fe){var Nt=fe.ownerDocument;Nt&&(me(Nt,fe,_e),_e.ownerElement=null)}}else throw new $(W,new Error(fe.tagName+"@"+_e))}H.prototype={length:0,item:F.prototype.item,getNamedItem:function(fe){for(var xe=this.length;xe--;){var _e=this[xe];if(_e.nodeName==fe)return _e}},setNamedItem:function(fe){var xe=fe.ownerElement;if(xe&&xe!=this._ownerElement)throw new $(Z);var _e=this.getNamedItem(fe.nodeName);return ne(this._ownerElement,this,fe,_e),_e},setNamedItemNS:function(fe){var xe=fe.ownerElement,_e;if(xe&&xe!=this._ownerElement)throw new $(Z);return _e=this.getNamedItemNS(fe.namespaceURI,fe.localName),ne(this._ownerElement,this,fe,_e),_e},removeNamedItem:function(fe){var xe=this.getNamedItem(fe);return J(this._ownerElement,this,xe),xe},removeNamedItemNS:function(fe,xe){var _e=this.getNamedItemNS(fe,xe);return J(this._ownerElement,this,_e),_e},getNamedItemNS:function(fe,xe){for(var _e=this.length;_e--;){var Ue=this[_e];if(Ue.localName==xe&&Ue.namespaceURI==fe)return Ue}return null}};function ee(){}ee.prototype={hasFeature:function(fe,xe){return!0},createDocument:function(fe,xe,_e){var Ue=new re;if(Ue.implementation=this,Ue.childNodes=new F,Ue.doctype=_e||null,_e&&Ue.appendChild(_e),xe){var at=Ue.createElementNS(fe,xe);Ue.appendChild(at)}return Ue},createDocumentType:function(fe,xe,_e){var Ue=new Le;return Ue.name=fe,Ue.nodeName=fe,Ue.publicId=xe||"",Ue.systemId=_e||"",Ue}};function X(){}X.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(fe,xe){return B(this,fe,xe)},replaceChild:function(fe,xe){B(this,fe,xe,N),xe&&this.removeChild(xe)},removeChild:function(fe){return q(this,fe)},appendChild:function(fe){return this.insertBefore(fe,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(fe){return zt(this.ownerDocument||this,this,fe)},normalize:function(){for(var fe=this.firstChild;fe;){var xe=fe.nextSibling;xe&&xe.nodeType==m&&fe.nodeType==m?(this.removeChild(xe),fe.appendData(xe.data)):(fe.normalize(),fe=xe)}},isSupported:function(fe,xe){return this.ownerDocument.implementation.hasFeature(fe,xe)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(fe){for(var xe=this;xe;){var _e=xe._nsMap;if(_e){for(var Ue in _e)if(Object.prototype.hasOwnProperty.call(_e,Ue)&&_e[Ue]===fe)return Ue}xe=xe.nodeType==f?xe.ownerDocument:xe.parentNode}return null},lookupNamespaceURI:function(fe){for(var xe=this;xe;){var _e=xe._nsMap;if(_e&&Object.prototype.hasOwnProperty.call(_e,fe))return _e[fe];xe=xe.nodeType==f?xe.ownerDocument:xe.parentNode}return null},isDefaultNamespace:function(fe){var xe=this.lookupPrefix(fe);return xe==null}};function j(fe){return fe=="<"&&"&lt;"||fe==">"&&"&gt;"||fe=="&"&&"&amp;"||fe=='"'&&"&quot;"||"&#"+fe.charCodeAt()+";"}c(d,X),c(d,X.prototype);function ae(fe,xe){if(xe(fe))return!0;if(fe=fe.firstChild)do if(ae(fe,xe))return!0;while(fe=fe.nextSibling)}function re(){this.ownerDocument=this}function de(fe,xe,_e){fe&&fe._inc++;var Ue=_e.namespaceURI;Ue===n.XMLNS&&(xe._nsMap[_e.prefix?_e.localName:""]=_e.value)}function me(fe,xe,_e,Ue){fe&&fe._inc++;var at=_e.namespaceURI;at===n.XMLNS&&delete xe._nsMap[_e.prefix?_e.localName:""]}function K(fe,xe,_e){if(fe&&fe._inc){fe._inc++;var Ue=xe.childNodes;if(_e)Ue[Ue.length++]=_e;else{for(var at=xe.firstChild,Nt=0;at;)Ue[Nt++]=at,at=at.nextSibling;Ue.length=Nt,delete Ue[Ue.length]}}}function q(fe,xe){var _e=xe.previousSibling,Ue=xe.nextSibling;return _e?_e.nextSibling=Ue:fe.firstChild=Ue,Ue?Ue.previousSibling=_e:fe.lastChild=_e,xe.parentNode=null,xe.previousSibling=null,xe.nextSibling=null,K(fe.ownerDocument,fe),xe}function be(fe){return fe&&(fe.nodeType===X.DOCUMENT_NODE||fe.nodeType===X.DOCUMENT_FRAGMENT_NODE||fe.nodeType===X.ELEMENT_NODE)}function pe(fe){return fe&&(le(fe)||Ee(fe)||ie(fe)||fe.nodeType===X.DOCUMENT_FRAGMENT_NODE||fe.nodeType===X.COMMENT_NODE||fe.nodeType===X.PROCESSING_INSTRUCTION_NODE)}function ie(fe){return fe&&fe.nodeType===X.DOCUMENT_TYPE_NODE}function le(fe){return fe&&fe.nodeType===X.ELEMENT_NODE}function Ee(fe){return fe&&fe.nodeType===X.TEXT_NODE}function M(fe,xe){var _e=fe.childNodes||[];if(e(_e,le)||ie(xe))return!1;var Ue=e(_e,ie);return!(xe&&Ue&&_e.indexOf(Ue)>_e.indexOf(xe))}function he(fe,xe){var _e=fe.childNodes||[];function Ue(Nt){return le(Nt)&&Nt!==xe}if(e(_e,Ue))return!1;var at=e(_e,ie);return!(xe&&at&&_e.indexOf(at)>_e.indexOf(xe))}function V(fe,xe,_e){if(!be(fe))throw new $(O,"Unexpected parent node type "+fe.nodeType);if(_e&&_e.parentNode!==fe)throw new $(W,"child not in parent");if(!pe(xe)||ie(xe)&&fe.nodeType!==X.DOCUMENT_NODE)throw new $(O,"Unexpected node type "+xe.nodeType+" for parent node type "+fe.nodeType)}function R(fe,xe,_e){var Ue=fe.childNodes||[],at=xe.childNodes||[];if(xe.nodeType===X.DOCUMENT_FRAGMENT_NODE){var Nt=at.filter(le);if(Nt.length>1||e(at,Ee))throw new $(O,"More than one element or text in fragment");if(Nt.length===1&&!M(fe,_e))throw new $(O,"Element in fragment can not be inserted before doctype")}if(le(xe)&&!M(fe,_e))throw new $(O,"Only one element can be added and only after doctype");if(ie(xe)){if(e(Ue,ie))throw new $(O,"Only one doctype is allowed");var pn=e(Ue,le);if(_e&&Ue.indexOf(pn)<Ue.indexOf(_e))throw new $(O,"Doctype can only be inserted before an element");if(!_e&&pn)throw new $(O,"Doctype can not be appended since element is present")}}function N(fe,xe,_e){var Ue=fe.childNodes||[],at=xe.childNodes||[];if(xe.nodeType===X.DOCUMENT_FRAGMENT_NODE){var Nt=at.filter(le);if(Nt.length>1||e(at,Ee))throw new $(O,"More than one element or text in fragment");if(Nt.length===1&&!he(fe,_e))throw new $(O,"Element in fragment can not be inserted before doctype")}if(le(xe)&&!he(fe,_e))throw new $(O,"Only one element can be added and only after doctype");if(ie(xe)){if(e(Ue,function(tn){return ie(tn)&&tn!==_e}))throw new $(O,"Only one doctype is allowed");var pn=e(Ue,le);if(_e&&Ue.indexOf(pn)<Ue.indexOf(_e))throw new $(O,"Doctype can only be inserted before an element")}}function B(fe,xe,_e,Ue){V(fe,xe,_e),fe.nodeType===X.DOCUMENT_NODE&&(Ue||R)(fe,xe,_e);var at=xe.parentNode;if(at&&at.removeChild(xe),xe.nodeType===_){var Nt=xe.firstChild;if(Nt==null)return xe;var pn=xe.lastChild}else Nt=pn=xe;var tn=_e?_e.previousSibling:fe.lastChild;Nt.previousSibling=tn,pn.nextSibling=_e,tn?tn.nextSibling=Nt:fe.firstChild=Nt,_e==null?fe.lastChild=pn:_e.previousSibling=pn;do Nt.parentNode=fe;while(Nt!==pn&&(Nt=Nt.nextSibling));return K(fe.ownerDocument||fe,fe),xe.nodeType==_&&(xe.firstChild=xe.lastChild=null),xe}function ue(fe,xe){return xe.parentNode&&xe.parentNode.removeChild(xe),xe.parentNode=fe,xe.previousSibling=fe.lastChild,xe.nextSibling=null,xe.previousSibling?xe.previousSibling.nextSibling=xe:fe.firstChild=xe,fe.lastChild=xe,K(fe.ownerDocument,fe,xe),xe}re.prototype={nodeName:"#document",nodeType:k,doctype:null,documentElement:null,_inc:1,insertBefore:function(fe,xe){if(fe.nodeType==_){for(var _e=fe.firstChild;_e;){var Ue=_e.nextSibling;this.insertBefore(_e,xe),_e=Ue}return fe}return B(this,fe,xe),fe.ownerDocument=this,this.documentElement===null&&fe.nodeType===h&&(this.documentElement=fe),fe},removeChild:function(fe){return this.documentElement==fe&&(this.documentElement=null),q(this,fe)},replaceChild:function(fe,xe){B(this,fe,xe,N),fe.ownerDocument=this,xe&&this.removeChild(xe),le(fe)&&(this.documentElement=fe)},importNode:function(fe,xe){return vt(this,fe,xe)},getElementById:function(fe){var xe=null;return ae(this.documentElement,function(_e){if(_e.nodeType==h&&_e.getAttribute("id")==fe)return xe=_e,!0}),xe},getElementsByClassName:function(fe){var xe=s(fe);return new A(this,function(_e){var Ue=[];return xe.length>0&&ae(_e.documentElement,function(at){if(at!==_e&&at.nodeType===h){var Nt=at.getAttribute("class");if(Nt){var pn=fe===Nt;if(!pn){var tn=s(Nt);pn=xe.every(l(tn))}pn&&Ue.push(at)}}}),Ue})},createElement:function(fe){var xe=new ve;xe.ownerDocument=this,xe.nodeName=fe,xe.tagName=fe,xe.localName=fe,xe.childNodes=new F;var _e=xe.attributes=new H;return _e._ownerElement=xe,xe},createDocumentFragment:function(){var fe=new Ne;return fe.ownerDocument=this,fe.childNodes=new F,fe},createTextNode:function(fe){var xe=new Se;return xe.ownerDocument=this,xe.appendData(fe),xe},createComment:function(fe){var xe=new Te;return xe.ownerDocument=this,xe.appendData(fe),xe},createCDATASection:function(fe){var xe=new De;return xe.ownerDocument=this,xe.appendData(fe),xe},createProcessingInstruction:function(fe,xe){var _e=new Ye;return _e.ownerDocument=this,_e.tagName=_e.nodeName=_e.target=fe,_e.nodeValue=_e.data=xe,_e},createAttribute:function(fe){var xe=new se;return xe.ownerDocument=this,xe.name=fe,xe.nodeName=fe,xe.localName=fe,xe.specified=!0,xe},createEntityReference:function(fe){var xe=new jt;return xe.ownerDocument=this,xe.nodeName=fe,xe},createElementNS:function(fe,xe){var _e=new ve,Ue=xe.split(":"),at=_e.attributes=new H;return _e.childNodes=new F,_e.ownerDocument=this,_e.nodeName=xe,_e.tagName=xe,_e.namespaceURI=fe,Ue.length==2?(_e.prefix=Ue[0],_e.localName=Ue[1]):_e.localName=xe,at._ownerElement=_e,_e},createAttributeNS:function(fe,xe){var _e=new se,Ue=xe.split(":");return _e.ownerDocument=this,_e.nodeName=xe,_e.name=xe,_e.namespaceURI=fe,_e.specified=!0,Ue.length==2?(_e.prefix=Ue[0],_e.localName=Ue[1]):_e.localName=xe,_e}},u(re,X);function ve(){this._nsMap={}}ve.prototype={nodeType:h,hasAttribute:function(fe){return this.getAttributeNode(fe)!=null},getAttribute:function(fe){var xe=this.getAttributeNode(fe);return xe&&xe.value||""},getAttributeNode:function(fe){return this.attributes.getNamedItem(fe)},setAttribute:function(fe,xe){var _e=this.ownerDocument.createAttribute(fe);_e.value=_e.nodeValue=""+xe,this.setAttributeNode(_e)},removeAttribute:function(fe){var xe=this.getAttributeNode(fe);xe&&this.removeAttributeNode(xe)},appendChild:function(fe){return fe.nodeType===_?this.insertBefore(fe,null):ue(this,fe)},setAttributeNode:function(fe){return this.attributes.setNamedItem(fe)},setAttributeNodeNS:function(fe){return this.attributes.setNamedItemNS(fe)},removeAttributeNode:function(fe){return this.attributes.removeNamedItem(fe.nodeName)},removeAttributeNS:function(fe,xe){var _e=this.getAttributeNodeNS(fe,xe);_e&&this.removeAttributeNode(_e)},hasAttributeNS:function(fe,xe){return this.getAttributeNodeNS(fe,xe)!=null},getAttributeNS:function(fe,xe){var _e=this.getAttributeNodeNS(fe,xe);return _e&&_e.value||""},setAttributeNS:function(fe,xe,_e){var Ue=this.ownerDocument.createAttributeNS(fe,xe);Ue.value=Ue.nodeValue=""+_e,this.setAttributeNode(Ue)},getAttributeNodeNS:function(fe,xe){return this.attributes.getNamedItemNS(fe,xe)},getElementsByTagName:function(fe){return new A(this,function(xe){var _e=[];return ae(xe,function(Ue){Ue!==xe&&Ue.nodeType==h&&(fe==="*"||Ue.tagName==fe)&&_e.push(Ue)}),_e})},getElementsByTagNameNS:function(fe,xe){return new A(this,function(_e){var Ue=[];return ae(_e,function(at){at!==_e&&at.nodeType===h&&(fe==="*"||at.namespaceURI===fe)&&(xe==="*"||at.localName==xe)&&Ue.push(at)}),Ue})}},re.prototype.getElementsByTagName=ve.prototype.getElementsByTagName,re.prototype.getElementsByTagNameNS=ve.prototype.getElementsByTagNameNS,u(ve,X);function se(){}se.prototype.nodeType=f,u(se,X);function ge(){}ge.prototype={data:"",substringData:function(fe,xe){return this.data.substring(fe,fe+xe)},appendData:function(fe){fe=this.data+fe,this.nodeValue=this.data=fe,this.length=fe.length},insertData:function(fe,xe){this.replaceData(fe,0,xe)},appendChild:function(fe){throw new Error(L[O])},deleteData:function(fe,xe){this.replaceData(fe,xe,"")},replaceData:function(fe,xe,_e){var Ue=this.data.substring(0,fe),at=this.data.substring(fe+xe);_e=Ue+_e+at,this.nodeValue=this.data=_e,this.length=_e.length}},u(ge,X);function Se(){}Se.prototype={nodeName:"#text",nodeType:m,splitText:function(fe){var xe=this.data,_e=xe.substring(fe);xe=xe.substring(0,fe),this.data=this.nodeValue=xe,this.length=xe.length;var Ue=this.ownerDocument.createTextNode(_e);return this.parentNode&&this.parentNode.insertBefore(Ue,this.nextSibling),Ue}},u(Se,ge);function Te(){}Te.prototype={nodeName:"#comment",nodeType:w},u(Te,ge);function De(){}De.prototype={nodeName:"#cdata-section",nodeType:b},u(De,ge);function Le(){}Le.prototype.nodeType=T,u(Le,X);function Ke(){}Ke.prototype.nodeType=D,u(Ke,X);function pt(){}pt.prototype.nodeType=v,u(pt,X);function jt(){}jt.prototype.nodeType=g,u(jt,X);function Ne(){}Ne.prototype.nodeName="#document-fragment",Ne.prototype.nodeType=_,u(Ne,X);function Ye(){}Ye.prototype.nodeType=x,u(Ye,X);function Ze(){}Ze.prototype.serializeToString=function(fe,xe,_e){return Pe.call(fe,xe,_e)},X.prototype.toString=Pe;function Pe(fe,xe){var _e=[],Ue=this.nodeType==9&&this.documentElement||this,at=Ue.prefix,Nt=Ue.namespaceURI;if(Nt&&at==null){var at=Ue.lookupPrefix(Nt);if(at==null)var pn=[{namespace:Nt,prefix:null}]}return $e(this,_e,fe,xe,pn),_e.join("")}function Qe(fe,xe,_e){var Ue=fe.prefix||"",at=fe.namespaceURI;if(!at||Ue==="xml"&&at===n.XML||at===n.XMLNS)return!1;for(var Nt=_e.length;Nt--;){var pn=_e[Nt];if(pn.prefix===Ue)return pn.namespace!==at}return!0}function Ce(fe,xe,_e){fe.push(" ",xe,'="',_e.replace(/[<>&"\t\n\r]/g,j),'"')}function $e(fe,xe,_e,Ue,at){if(at||(at=[]),Ue)if(fe=Ue(fe),fe){if(typeof fe=="string"){xe.push(fe);return}}else return;switch(fe.nodeType){case h:var Nt=fe.attributes,pn=Nt.length,tn=fe.firstChild,pi=fe.tagName;_e=n.isHTML(fe.namespaceURI)||_e;var Hr=pi;if(!_e&&!fe.prefix&&fe.namespaceURI){for(var Bn,lr=0;lr<Nt.length;lr++)if(Nt.item(lr).name==="xmlns"){Bn=Nt.item(lr).value;break}if(!Bn)for(var ri=at.length-1;ri>=0;ri--){var Mi=at[ri];if(Mi.prefix===""&&Mi.namespace===fe.namespaceURI){Bn=Mi.namespace;break}}if(Bn!==fe.namespaceURI)for(var ri=at.length-1;ri>=0;ri--){var Mi=at[ri];if(Mi.namespace===fe.namespaceURI){Mi.prefix&&(Hr=Mi.prefix+":"+pi);break}}}xe.push("<",Hr);for(var Ho=0;Ho<pn;Ho++){var Ri=Nt.item(Ho);Ri.prefix=="xmlns"?at.push({prefix:Ri.localName,namespace:Ri.value}):Ri.nodeName=="xmlns"&&at.push({prefix:"",namespace:Ri.value})}for(var Ho=0;Ho<pn;Ho++){var Ri=Nt.item(Ho);if(Qe(Ri,_e,at)){var Wo=Ri.prefix||"",yo=Ri.namespaceURI;Ce(xe,Wo?"xmlns:"+Wo:"xmlns",yo),at.push({prefix:Wo,namespace:yo})}$e(Ri,xe,_e,Ue,at)}if(pi===Hr&&Qe(fe,_e,at)){var Wo=fe.prefix||"",yo=fe.namespaceURI;Ce(xe,Wo?"xmlns:"+Wo:"xmlns",yo),at.push({prefix:Wo,namespace:yo})}if(tn||_e&&!/^(?:meta|link|img|br|hr|input)$/i.test(pi)){if(xe.push(">"),_e&&/^script$/i.test(pi))for(;tn;)tn.data?xe.push(tn.data):$e(tn,xe,_e,Ue,at.slice()),tn=tn.nextSibling;else for(;tn;)$e(tn,xe,_e,Ue,at.slice()),tn=tn.nextSibling;xe.push("</",Hr,">")}else xe.push("/>");return;case k:case _:for(var tn=fe.firstChild;tn;)$e(tn,xe,_e,Ue,at.slice()),tn=tn.nextSibling;return;case f:return Ce(xe,fe.name,fe.value);case m:return xe.push(fe.data.replace(/[<&>]/g,j));case b:return xe.push("<![CDATA[",fe.data,"]]>");case w:return xe.push("<!--",fe.data,"-->");case T:var Bs=fe.publicId,Ni=fe.systemId;if(xe.push("<!DOCTYPE ",fe.name),Bs)xe.push(" PUBLIC ",Bs),Ni&&Ni!="."&&xe.push(" ",Ni),xe.push(">");else if(Ni&&Ni!=".")xe.push(" SYSTEM ",Ni,">");else{var Vo=fe.internalSubset;Vo&&xe.push(" [",Vo,"]"),xe.push(">")}return;case x:return xe.push("<?",fe.target," ",fe.data,"?>");case g:return xe.push("&",fe.nodeName,";");default:xe.push("??",fe.nodeName)}}function vt(fe,xe,_e){var Ue;switch(xe.nodeType){case h:Ue=xe.cloneNode(!1),Ue.ownerDocument=fe;case _:break;case f:_e=!0;break}if(Ue||(Ue=xe.cloneNode(!1)),Ue.ownerDocument=fe,Ue.parentNode=null,_e)for(var at=xe.firstChild;at;)Ue.appendChild(vt(fe,at,_e)),at=at.nextSibling;return Ue}function zt(fe,xe,_e){var Ue=new xe.constructor;for(var at in xe)if(Object.prototype.hasOwnProperty.call(xe,at)){var Nt=xe[at];typeof Nt!="object"&&Nt!=Ue[at]&&(Ue[at]=Nt)}switch(xe.childNodes&&(Ue.childNodes=new F),Ue.ownerDocument=fe,Ue.nodeType){case h:var pn=xe.attributes,tn=Ue.attributes=new H,pi=pn.length;tn._ownerElement=Ue;for(var Hr=0;Hr<pi;Hr++)Ue.setAttributeNode(zt(fe,pn.item(Hr),!0));break;case f:_e=!0}if(_e)for(var Bn=xe.firstChild;Bn;)Ue.appendChild(zt(fe,Bn,_e)),Bn=Bn.nextSibling;return Ue}function Yt(fe,xe,_e){fe[xe]=_e}try{if(Object.defineProperty){let fe=function(xe){switch(xe.nodeType){case h:case _:var _e=[];for(xe=xe.firstChild;xe;)xe.nodeType!==7&&xe.nodeType!==8&&_e.push(fe(xe)),xe=xe.nextSibling;return _e.join("");default:return xe.nodeValue}};Object.defineProperty(A.prototype,"length",{get:function(){return Q(this),this.$$length}}),Object.defineProperty(X.prototype,"textContent",{get:function(){return fe(this)},set:function(xe){switch(this.nodeType){case h:case _:for(;this.firstChild;)this.removeChild(this.firstChild);(xe||String(xe))&&this.appendChild(this.ownerDocument.createTextNode(xe));break;default:this.data=xe,this.value=xe,this.nodeValue=xe}}}),Yt=function(xe,_e,Ue){xe["$$"+_e]=Ue}}}catch{}return cc.DocumentType=Le,cc.DOMException=$,cc.DOMImplementation=ee,cc.Element=ve,cc.Node=X,cc.NodeList=F,cc.XMLSerializer=Ze,cc}var K1={},iZ={},oZ;function Tot(){return oZ||(oZ=1,function(r){var e=A6().freeze;r.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),r.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),r.entityMap=r.HTML_ENTITIES}(iZ)),iZ}var x2={},aZ;function Eot(){if(aZ)return x2;aZ=1;var r=A6().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+e.source+n.source+"*(?::"+e.source+n.source+"*)?$"),o=0,a=1,s=2,l=3,c=4,u=5,d=6,h=7;function f(O,W){this.message=O,this.locator=W,Error.captureStackTrace&&Error.captureStackTrace(this,f)}f.prototype=new Error,f.prototype.name=f.name;function m(){}m.prototype={parse:function(O,W,Z){var $=this.domBuilder;$.startDocument(),T(W,W={}),b(O,W,Z,$,this.errorHandler),$.endDocument()}};function b(O,W,Z,$,F){function A(ve){if(ve>65535){ve-=65536;var se=55296+(ve>>10),ge=56320+(ve&1023);return String.fromCharCode(se,ge)}else return String.fromCharCode(ve)}function Q(ve){var se=ve.slice(1,-1);return Object.hasOwnProperty.call(Z,se)?Z[se]:se.charAt(0)==="#"?A(parseInt(se.substr(1).replace("x","0x"))):(F.error("entity not found:"+ve),ve)}function H(ve){if(ve>re){var se=O.substring(re,ve).replace(/&#?\w+;/g,Q);X&&G(re),$.characters(se,0,ve-re),re=ve}}function G(ve,se){for(;ve>=J&&(se=ee.exec(O));)ne=se.index,J=ne+se[0].length,X.lineNumber++;X.columnNumber=ve-ne+1}for(var ne=0,J=0,ee=/.*(?:\r\n?|\n)|.*$/g,X=$.locator,j=[{currentNSMap:W}],ae={},re=0;;){try{var de=O.indexOf("<",re);if(de<0){if(!O.substr(re).match(/^\s*$/)){var me=$.doc,K=me.createTextNode(O.substr(re));me.appendChild(K),$.currentElement=K}return}switch(de>re&&H(de),O.charAt(de+1)){case"/":var V=O.indexOf(">",de+3),q=O.substring(de+2,V).replace(/[ \t\n\r]+$/g,""),be=j.pop();V<0?(q=O.substring(de+2).replace(/[\s<].*/,""),F.error("end tag name: "+q+" is not complete:"+be.tagName),V=de+1+q.length):q.match(/\s</)&&(q=q.replace(/[\s<].*/,""),F.error("end tag name: "+q+" maybe not complete"),V=de+1+q.length);var pe=be.localNSMap,ie=be.tagName==q,le=ie||be.tagName&&be.tagName.toLowerCase()==q.toLowerCase();if(le){if($.endElement(be.uri,be.localName,q),pe)for(var Ee in pe)Object.prototype.hasOwnProperty.call(pe,Ee)&&$.endPrefixMapping(Ee);ie||F.fatalError("end tag name: "+q+" is not match the current start tagName:"+be.tagName)}else j.push(be);V++;break;case"?":X&&G(de),V=D(O,de,$);break;case"!":X&&G(de),V=_(O,de,$,F);break;default:X&&G(de);var M=new I,he=j[j.length-1].currentNSMap,V=v(O,de,M,he,Q,F),R=M.length;if(!M.closed&&k(O,V,M.tagName,ae)&&(M.closed=!0,Z.nbsp||F.warning("unclosed xml attribute")),X&&R){for(var N=g(X,{}),B=0;B<R;B++){var ue=M[B];G(ue.offset),ue.locator=g(X,{})}$.locator=N,x(M,$,he)&&j.push(M),$.locator=X}else x(M,$,he)&&j.push(M);r.isHTML(M.uri)&&!M.closed?V=w(O,V,M.tagName,Q,$):V++}}catch(ve){if(ve instanceof f)throw ve;F.error("element parse error: "+ve),V=-1}V>re?re=V:H(Math.max(de,re)+1)}}function g(O,W){return W.lineNumber=O.lineNumber,W.columnNumber=O.columnNumber,W}function v(O,W,Z,$,F,A){function Q(X,j,ae){Z.attributeNames.hasOwnProperty(X)&&A.fatalError("Attribute "+X+" redefined"),Z.addValue(X,j.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,F),ae)}for(var H,G,ne=++W,J=o;;){var ee=O.charAt(ne);switch(ee){case"=":if(J===a)H=O.slice(W,ne),J=l;else if(J===s)J=l;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(J===l||J===a)if(J===a&&(A.warning('attribute value must after "="'),H=O.slice(W,ne)),W=ne+1,ne=O.indexOf(ee,W),ne>0)G=O.slice(W,ne),Q(H,G,W-1),J=u;else throw new Error("attribute value no end '"+ee+"' match");else if(J==c)G=O.slice(W,ne),Q(H,G,W),A.warning('attribute "'+H+'" missed start quot('+ee+")!!"),W=ne+1,J=u;else throw new Error('attribute value must after "="');break;case"/":switch(J){case o:Z.setTagName(O.slice(W,ne));case u:case d:case h:J=h,Z.closed=!0;case c:case a:break;case s:Z.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return A.error("unexpected end of input"),J==o&&Z.setTagName(O.slice(W,ne)),ne;case">":switch(J){case o:Z.setTagName(O.slice(W,ne));case u:case d:case h:break;case c:case a:G=O.slice(W,ne),G.slice(-1)==="/"&&(Z.closed=!0,G=G.slice(0,-1));case s:J===s&&(G=H),J==c?(A.warning('attribute "'+G+'" missed quot(")!'),Q(H,G,W)):((!r.isHTML($[""])||!G.match(/^(?:disabled|checked|selected)$/i))&&A.warning('attribute "'+G+'" missed value!! "'+G+'" instead!!'),Q(G,G,W));break;case l:throw new Error("attribute value missed!!")}return ne;case"":ee=" ";default:if(ee<=" ")switch(J){case o:Z.setTagName(O.slice(W,ne)),J=d;break;case a:H=O.slice(W,ne),J=s;break;case c:var G=O.slice(W,ne);A.warning('attribute "'+G+'" missed quot(")!!'),Q(H,G,W);case u:J=d;break}else switch(J){case s:Z.tagName,(!r.isHTML($[""])||!H.match(/^(?:disabled|checked|selected)$/i))&&A.warning('attribute "'+H+'" missed value!! "'+H+'" instead2!!'),Q(H,H,W),W=ne,J=a;break;case u:A.warning('attribute space is required"'+H+'"!!');case d:J=a,W=ne;break;case l:J=c,W=ne;break;case h:throw new Error("elements closed character '/' and '>' must be connected to")}}ne++}}function x(O,W,Z){for(var $=O.tagName,F=null,A=O.length;A--;){var Q=O[A],H=Q.qName,G=Q.value,X=H.indexOf(":");if(X>0)var ne=Q.prefix=H.slice(0,X),J=H.slice(X+1),ee=ne==="xmlns"&&J;else J=H,ne=null,ee=H==="xmlns"&&"";Q.localName=J,ee!==!1&&(F==null&&(F={},T(Z,Z={})),Z[ee]=F[ee]=G,Q.uri=r.XMLNS,W.startPrefixMapping(ee,G))}for(var A=O.length;A--;){Q=O[A];var ne=Q.prefix;ne&&(ne==="xml"&&(Q.uri=r.XML),ne!=="xmlns"&&(Q.uri=Z[ne||""]))}var X=$.indexOf(":");X>0?(ne=O.prefix=$.slice(0,X),J=O.localName=$.slice(X+1)):(ne=null,J=O.localName=$);var j=O.uri=Z[ne||""];if(W.startElement(j,J,$,O),O.closed){if(W.endElement(j,J,$),F)for(ne in F)Object.prototype.hasOwnProperty.call(F,ne)&&W.endPrefixMapping(ne)}else return O.currentNSMap=Z,O.localNSMap=F,!0}function w(O,W,Z,$,F){if(/^(?:script|textarea)$/i.test(Z)){var A=O.indexOf("</"+Z+">",W),Q=O.substring(W+1,A);if(/[&<]/.test(Q))return/^script$/i.test(Z)?(F.characters(Q,0,Q.length),A):(Q=Q.replace(/&#?\w+;/g,$),F.characters(Q,0,Q.length),A)}return W+1}function k(O,W,Z,$){var F=$[Z];return F==null&&(F=O.lastIndexOf("</"+Z+">"),F<W&&(F=O.lastIndexOf("</"+Z)),$[Z]=F),F<W}function T(O,W){for(var Z in O)Object.prototype.hasOwnProperty.call(O,Z)&&(W[Z]=O[Z])}function _(O,W,Z,$){var F=O.charAt(W+2);switch(F){case"-":if(O.charAt(W+3)==="-"){var A=O.indexOf("-->",W+4);return A>W?(Z.comment(O,W+4,A-W-4),A+3):($.error("Unclosed comment"),-1)}else return-1;default:if(O.substr(W+3,6)=="CDATA["){var A=O.indexOf("]]>",W+9);return Z.startCDATA(),Z.characters(O,W+9,A-W-9),Z.endCDATA(),A+3}var Q=L(O,W),H=Q.length;if(H>1&&/!doctype/i.test(Q[0][0])){var G=Q[1][0],ne=!1,J=!1;H>3&&(/^public$/i.test(Q[2][0])?(ne=Q[3][0],J=H>4&&Q[4][0]):/^system$/i.test(Q[2][0])&&(J=Q[3][0]));var ee=Q[H-1];return Z.startDTD(G,ne,J),Z.endDTD(),ee.index+ee[0].length}}return-1}function D(O,W,Z){var $=O.indexOf("?>",W);if($){var F=O.substring(W,$).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return F?(F[0].length,Z.processingInstruction(F[1],F[2]),$+2):-1}return-1}function I(){this.attributeNames={}}I.prototype={setTagName:function(O){if(!i.test(O))throw new Error("invalid tagName:"+O);this.tagName=O},addValue:function(O,W,Z){if(!i.test(O))throw new Error("invalid attribute:"+O);this.attributeNames[O]=this.length,this[this.length++]={qName:O,value:W,offset:Z}},length:0,getLocalName:function(O){return this[O].localName},getLocator:function(O){return this[O].locator},getQName:function(O){return this[O].qName},getURI:function(O){return this[O].uri},getValue:function(O){return this[O].value}};function L(O,W){var Z,$=[],F=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(F.lastIndex=W,F.exec(O);Z=F.exec(O);)if($.push(Z),Z[1])return $}return x2.XMLReader=m,x2.ParseError=f,x2}var sZ;function Cot(){if(sZ)return K1;sZ=1;var r=A6(),e=gI(),n=Tot(),i=Eot(),o=e.DOMImplementation,a=r.NAMESPACE,s=i.ParseError,l=i.XMLReader;function c(v){return v.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function u(v){this.options=v||{locator:{}}}u.prototype.parseFromString=function(v,x){var w=this.options,k=new l,T=w.domBuilder||new h,_=w.errorHandler,D=w.locator,I=w.xmlns||{},L=/\/x?html?$/.test(x),O=L?n.HTML_ENTITIES:n.XML_ENTITIES;D&&T.setDocumentLocator(D),k.errorHandler=d(_,T,D),k.domBuilder=w.domBuilder||T,L&&(I[""]=a.HTML),I.xml=I.xml||a.XML;var W=w.normalizeLineEndings||c;return v&&typeof v=="string"?k.parse(W(v),I,O):k.errorHandler.error("invalid doc source"),T.doc};function d(v,x,w){if(!v){if(x instanceof h)return x;v=x}var k={},T=v instanceof Function;w=w||{};function _(D){var I=v[D];!I&&T&&(I=v.length==2?function(L){v(D,L)}:v),k[D]=I&&function(L){I("[xmldom "+D+"]	"+L+m(w))}||function(){}}return _("warning"),_("error"),_("fatalError"),k}function h(){this.cdata=!1}function f(v,x){x.lineNumber=v.lineNumber,x.columnNumber=v.columnNumber}h.prototype={startDocument:function(){this.doc=new o().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(v,x,w,k){var T=this.doc,_=T.createElementNS(v,w||x),D=k.length;g(this,_),this.currentElement=_,this.locator&&f(this.locator,_);for(var I=0;I<D;I++){var v=k.getURI(I),L=k.getValue(I),w=k.getQName(I),O=T.createAttributeNS(v,w);this.locator&&f(k.getLocator(I),O),O.value=O.nodeValue=L,_.setAttributeNode(O)}},endElement:function(v,x,w){var k=this.currentElement;k.tagName,this.currentElement=k.parentNode},startPrefixMapping:function(v,x){},endPrefixMapping:function(v){},processingInstruction:function(v,x){var w=this.doc.createProcessingInstruction(v,x);this.locator&&f(this.locator,w),g(this,w)},ignorableWhitespace:function(v,x,w){},characters:function(v,x,w){if(v=b.apply(this,arguments),v){if(this.cdata)var k=this.doc.createCDATASection(v);else var k=this.doc.createTextNode(v);this.currentElement?this.currentElement.appendChild(k):/^\s*$/.test(v)&&this.doc.appendChild(k),this.locator&&f(this.locator,k)}},skippedEntity:function(v){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(v){(this.locator=v)&&(v.lineNumber=0)},comment:function(v,x,w){v=b.apply(this,arguments);var k=this.doc.createComment(v);this.locator&&f(this.locator,k),g(this,k)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(v,x,w){var k=this.doc.implementation;if(k&&k.createDocumentType){var T=k.createDocumentType(v,x,w);this.locator&&f(this.locator,T),g(this,T),this.doc.doctype=T}},warning:function(v){console.warn("[xmldom warning]	"+v,m(this.locator))},error:function(v){console.error("[xmldom error]	"+v,m(this.locator))},fatalError:function(v){throw new s(v,this.locator)}};function m(v){if(v)return`
@`+(v.systemId||"")+"#[line:"+v.lineNumber+",col:"+v.columnNumber+"]"}function b(v,x,w){return typeof v=="string"?v.substr(x,w):v.length>=x+w||x?new java.lang.String(v,x,w)+"":v}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(v){h.prototype[v]=function(){return null}});function g(v,x){v.currentElement?v.currentElement.appendChild(x):v.doc.appendChild(x)}return K1.__DOMHandler=h,K1.normalizeLineEndings=c,K1.DOMParser=u,K1}var lZ;function _ot(){if(lZ)return G1;lZ=1;var r=gI();return G1.DOMImplementation=r.DOMImplementation,G1.XMLSerializer=r.XMLSerializer,G1.DOMParser=Cot().DOMParser,G1}var cZ;function Aot(){if(cZ)return v2;cZ=1;var r=_ot(),e=gI();function n(i){var o=null,a=new r.DOMParser({errorHandler:function(l,c){o={level:l,message:c}}}),s=a.parseFromString(i);if(o===null)return s;throw new Error(o.level+": "+o.message)}return v2.parseFromString=n,v2.Node=e.Node,v2}var uZ;function Dot(){if(uZ)return P_;uZ=1;var r=dh(),e=Fr,n=Aot(),i=T0e(),o=i.Element;P_.readString=s;var a=n.Node;function s(l,c){c=c||{};try{var u=n.parseFromString(l,"text/xml")}catch(m){return r.reject(m)}if(u.documentElement.tagName==="parsererror")return r.resolve(new Error(u.documentElement.textContent));function d(m){switch(m.nodeType){case a.ELEMENT_NODE:return h(m);case a.TEXT_NODE:return i.text(m.nodeValue)}}function h(m){var b=f(m),g=[];e.forEach(m.childNodes,function(x){var w=d(x);w&&g.push(w)});var v={};return e.forEach(m.attributes,function(x){v[f(x)]=x.value}),new o(b,v,g)}function f(m){if(m.namespaceURI){var b=c[m.namespaceURI],g;return b?g=b+":":g="{"+m.namespaceURI+"}",g+m.localName}else return m.localName}return r.resolve(d(u.documentElement))}return P_}var I_={},Am={},uc={},dZ;function hh(){return dZ||(dZ=1,(function(){var r,e,n,i,o,a,s,l=[].slice,c={}.hasOwnProperty;r=function(){var u,d,h,f,m,b;if(b=arguments[0],m=2<=arguments.length?l.call(arguments,1):[],o(Object.assign))Object.assign.apply(null,arguments);else for(u=0,h=m.length;u<h;u++)if(f=m[u],f!=null)for(d in f)c.call(f,d)&&(b[d]=f[d]);return b},o=function(u){return!!u&&Object.prototype.toString.call(u)==="[object Function]"},a=function(u){var d;return!!u&&((d=typeof u)=="function"||d==="object")},n=function(u){return o(Array.isArray)?Array.isArray(u):Object.prototype.toString.call(u)==="[object Array]"},i=function(u){var d;if(n(u))return!u.length;for(d in u)if(c.call(u,d))return!1;return!0},s=function(u){var d,h;return a(u)&&(h=Object.getPrototypeOf(u))&&(d=h.constructor)&&typeof d=="function"&&d instanceof d&&Function.prototype.toString.call(d)===Function.prototype.toString.call(Object)},e=function(u){return o(u.valueOf)?u.valueOf():u},uc.assign=r,uc.isFunction=o,uc.isObject=a,uc.isArray=n,uc.isEmpty=i,uc.isPlainObject=s,uc.getValue=e}).call(uc)),uc}var uM={exports:{}},dM={exports:{}},hM={exports:{}},fM={exports:{}},Mot=fM.exports,hZ;function E0e(){return hZ||(hZ=1,(function(){fM.exports=function(){function r(e,n,i){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,n==null)throw new Error("Missing attribute name. "+this.debugInfo(n));if(i==null)throw new Error("Missing attribute value. "+this.debugInfo(n));this.name=this.stringify.attName(n),this.value=this.stringify.attValue(i)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},r.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},r}()}).call(Mot)),fM.exports}var Rot=hM.exports,fZ;function D6(){return fZ||(fZ=1,(function(){var r,e,n,i,o,a,s=function(c,u){for(var d in u)l.call(u,d)&&(c[d]=u[d]);function h(){this.constructor=c}return h.prototype=u.prototype,c.prototype=new h,c.__super__=u.prototype,c},l={}.hasOwnProperty;a=hh(),o=a.isObject,i=a.isFunction,n=a.getValue,e=Fo(),r=E0e(),hM.exports=function(c){s(u,c);function u(d,h,f){if(u.__super__.constructor.call(this,d),h==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(h),this.attributes={},f!=null&&this.attribute(f),d.isDocument&&(this.isRoot=!0,this.documentObject=d,d.rootObject=this)}return u.prototype.clone=function(){var d,h,f,m;f=Object.create(this),f.isRoot&&(f.documentObject=null),f.attributes={},m=this.attributes;for(h in m)l.call(m,h)&&(d=m[h],f.attributes[h]=d.clone());return f.children=[],this.children.forEach(function(b){var g;return g=b.clone(),g.parent=f,f.children.push(g)}),f},u.prototype.attribute=function(d,h){var f,m;if(d!=null&&(d=n(d)),o(d))for(f in d)l.call(d,f)&&(m=d[f],this.attribute(f,m));else i(h)&&(h=h.apply()),(!this.options.skipNullAttributes||h!=null)&&(this.attributes[d]=new r(this,d,h));return this},u.prototype.removeAttribute=function(d){var h,f,m;if(d==null)throw new Error("Missing attribute name. "+this.debugInfo());if(d=n(d),Array.isArray(d))for(f=0,m=d.length;f<m;f++)h=d[f],delete this.attributes[h];else delete this.attributes[d];return this},u.prototype.toString=function(d){return this.options.writer.set(d).element(this)},u.prototype.att=function(d,h){return this.attribute(d,h)},u.prototype.a=function(d,h){return this.attribute(d,h)},u}(e)}).call(Rot)),hM.exports}var pM={exports:{}},Not=pM.exports,pZ;function M6(){return pZ||(pZ=1,(function(){var r,e=function(i,o){for(var a in o)n.call(o,a)&&(i[a]=o[a]);function s(){this.constructor=i}return s.prototype=o.prototype,i.prototype=new s,i.__super__=o.prototype,i},n={}.hasOwnProperty;r=Fo(),pM.exports=function(i){e(o,i);function o(a,s){if(o.__super__.constructor.call(this,a),s==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(s)}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(a){return this.options.writer.set(a).cdata(this)},o}(r)}).call(Not)),pM.exports}var mM={exports:{}},Oot=mM.exports,mZ;function R6(){return mZ||(mZ=1,(function(){var r,e=function(i,o){for(var a in o)n.call(o,a)&&(i[a]=o[a]);function s(){this.constructor=i}return s.prototype=o.prototype,i.prototype=new s,i.__super__=o.prototype,i},n={}.hasOwnProperty;r=Fo(),mM.exports=function(i){e(o,i);function o(a,s){if(o.__super__.constructor.call(this,a),s==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(s)}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(a){return this.options.writer.set(a).comment(this)},o}(r)}).call(Oot)),mM.exports}var gM={exports:{}},Pot=gM.exports,gZ;function N6(){return gZ||(gZ=1,(function(){var r,e,n=function(o,a){for(var s in a)i.call(a,s)&&(o[s]=a[s]);function l(){this.constructor=o}return l.prototype=a.prototype,o.prototype=new l,o.__super__=a.prototype,o},i={}.hasOwnProperty;e=hh().isObject,r=Fo(),gM.exports=function(o){n(a,o);function a(s,l,c,u){var d;a.__super__.constructor.call(this,s),e(l)&&(d=l,l=d.version,c=d.encoding,u=d.standalone),l||(l="1.0"),this.version=this.stringify.xmlVersion(l),c!=null&&(this.encoding=this.stringify.xmlEncoding(c)),u!=null&&(this.standalone=this.stringify.xmlStandalone(u))}return a.prototype.toString=function(s){return this.options.writer.set(s).declaration(this)},a}(r)}).call(Pot)),gM.exports}var yM={exports:{}},bM={exports:{}},Iot=bM.exports,yZ;function O6(){return yZ||(yZ=1,(function(){var r,e=function(i,o){for(var a in o)n.call(o,a)&&(i[a]=o[a]);function s(){this.constructor=i}return s.prototype=o.prototype,i.prototype=new s,i.__super__=o.prototype,i},n={}.hasOwnProperty;r=Fo(),bM.exports=function(i){e(o,i);function o(a,s,l,c,u,d){if(o.__super__.constructor.call(this,a),s==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(l==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(s));if(!c)throw new Error("Missing DTD attribute type. "+this.debugInfo(s));if(!u)throw new Error("Missing DTD attribute default. "+this.debugInfo(s));if(u.indexOf("#")!==0&&(u="#"+u),!u.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(s));if(d&&!u.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(s));this.elementName=this.stringify.eleName(s),this.attributeName=this.stringify.attName(l),this.attributeType=this.stringify.dtdAttType(c),this.defaultValue=this.stringify.dtdAttDefault(d),this.defaultValueType=u}return o.prototype.toString=function(a){return this.options.writer.set(a).dtdAttList(this)},o}(r)}).call(Iot)),bM.exports}var vM={exports:{}},$ot=vM.exports,bZ;function P6(){return bZ||(bZ=1,(function(){var r,e,n=function(o,a){for(var s in a)i.call(a,s)&&(o[s]=a[s]);function l(){this.constructor=o}return l.prototype=a.prototype,o.prototype=new l,o.__super__=a.prototype,o},i={}.hasOwnProperty;e=hh().isObject,r=Fo(),vM.exports=function(o){n(a,o);function a(s,l,c,u){if(a.__super__.constructor.call(this,s),c==null)throw new Error("Missing DTD entity name. "+this.debugInfo(c));if(u==null)throw new Error("Missing DTD entity value. "+this.debugInfo(c));if(this.pe=!!l,this.name=this.stringify.eleName(c),!e(u))this.value=this.stringify.dtdEntityValue(u);else{if(!u.pubID&&!u.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(c));if(u.pubID&&!u.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(c));if(u.pubID!=null&&(this.pubID=this.stringify.dtdPubID(u.pubID)),u.sysID!=null&&(this.sysID=this.stringify.dtdSysID(u.sysID)),u.nData!=null&&(this.nData=this.stringify.dtdNData(u.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(c))}}return a.prototype.toString=function(s){return this.options.writer.set(s).dtdEntity(this)},a}(r)}).call($ot)),vM.exports}var xM={exports:{}},zot=xM.exports,vZ;function I6(){return vZ||(vZ=1,(function(){var r,e=function(i,o){for(var a in o)n.call(o,a)&&(i[a]=o[a]);function s(){this.constructor=i}return s.prototype=o.prototype,i.prototype=new s,i.__super__=o.prototype,i},n={}.hasOwnProperty;r=Fo(),xM.exports=function(i){e(o,i);function o(a,s,l){if(o.__super__.constructor.call(this,a),s==null)throw new Error("Missing DTD element name. "+this.debugInfo());l||(l="(#PCDATA)"),Array.isArray(l)&&(l="("+l.join(",")+")"),this.name=this.stringify.eleName(s),this.value=this.stringify.dtdElementValue(l)}return o.prototype.toString=function(a){return this.options.writer.set(a).dtdElement(this)},o}(r)}).call(zot)),xM.exports}var wM={exports:{}},Lot=wM.exports,xZ;function $6(){return xZ||(xZ=1,(function(){var r,e=function(i,o){for(var a in o)n.call(o,a)&&(i[a]=o[a]);function s(){this.constructor=i}return s.prototype=o.prototype,i.prototype=new s,i.__super__=o.prototype,i},n={}.hasOwnProperty;r=Fo(),wM.exports=function(i){e(o,i);function o(a,s,l){if(o.__super__.constructor.call(this,a),s==null)throw new Error("Missing DTD notation name. "+this.debugInfo(s));if(!l.pubID&&!l.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(s));this.name=this.stringify.eleName(s),l.pubID!=null&&(this.pubID=this.stringify.dtdPubID(l.pubID)),l.sysID!=null&&(this.sysID=this.stringify.dtdSysID(l.sysID))}return o.prototype.toString=function(a){return this.options.writer.set(a).dtdNotation(this)},o}(r)}).call(Lot)),wM.exports}var Uot=yM.exports,wZ;function z6(){return wZ||(wZ=1,(function(){var r,e,n,i,o,a,s=function(c,u){for(var d in u)l.call(u,d)&&(c[d]=u[d]);function h(){this.constructor=c}return h.prototype=u.prototype,c.prototype=new h,c.__super__=u.prototype,c},l={}.hasOwnProperty;a=hh().isObject,o=Fo(),r=O6(),n=P6(),e=I6(),i=$6(),yM.exports=function(c){s(u,c);function u(d,h,f){var m,b;u.__super__.constructor.call(this,d),this.name="!DOCTYPE",this.documentObject=d,a(h)&&(m=h,h=m.pubID,f=m.sysID),f==null&&(b=[h,f],f=b[0],h=b[1]),h!=null&&(this.pubID=this.stringify.dtdPubID(h)),f!=null&&(this.sysID=this.stringify.dtdSysID(f))}return u.prototype.element=function(d,h){var f;return f=new e(this,d,h),this.children.push(f),this},u.prototype.attList=function(d,h,f,m,b){var g;return g=new r(this,d,h,f,m,b),this.children.push(g),this},u.prototype.entity=function(d,h){var f;return f=new n(this,!1,d,h),this.children.push(f),this},u.prototype.pEntity=function(d,h){var f;return f=new n(this,!0,d,h),this.children.push(f),this},u.prototype.notation=function(d,h){var f;return f=new i(this,d,h),this.children.push(f),this},u.prototype.toString=function(d){return this.options.writer.set(d).docType(this)},u.prototype.ele=function(d,h){return this.element(d,h)},u.prototype.att=function(d,h,f,m,b){return this.attList(d,h,f,m,b)},u.prototype.ent=function(d,h){return this.entity(d,h)},u.prototype.pent=function(d,h){return this.pEntity(d,h)},u.prototype.not=function(d,h){return this.notation(d,h)},u.prototype.up=function(){return this.root()||this.documentObject},u}(o)}).call(Uot)),yM.exports}var SM={exports:{}},Bot=SM.exports,SZ;function L6(){return SZ||(SZ=1,(function(){var r,e=function(i,o){for(var a in o)n.call(o,a)&&(i[a]=o[a]);function s(){this.constructor=i}return s.prototype=o.prototype,i.prototype=new s,i.__super__=o.prototype,i},n={}.hasOwnProperty;r=Fo(),SM.exports=function(i){e(o,i);function o(a,s){if(o.__super__.constructor.call(this,a),s==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(s)}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(a){return this.options.writer.set(a).raw(this)},o}(r)}).call(Bot)),SM.exports}var kM={exports:{}},jot=kM.exports,kZ;function U6(){return kZ||(kZ=1,(function(){var r,e=function(i,o){for(var a in o)n.call(o,a)&&(i[a]=o[a]);function s(){this.constructor=i}return s.prototype=o.prototype,i.prototype=new s,i.__super__=o.prototype,i},n={}.hasOwnProperty;r=Fo(),kM.exports=function(i){e(o,i);function o(a,s){if(o.__super__.constructor.call(this,a),s==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(s)}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(a){return this.options.writer.set(a).text(this)},o}(r)}).call(jot)),kM.exports}var TM={exports:{}},Fot=TM.exports,TZ;function B6(){return TZ||(TZ=1,(function(){var r,e=function(i,o){for(var a in o)n.call(o,a)&&(i[a]=o[a]);function s(){this.constructor=i}return s.prototype=o.prototype,i.prototype=new s,i.__super__=o.prototype,i},n={}.hasOwnProperty;r=Fo(),TM.exports=function(i){e(o,i);function o(a,s,l){if(o.__super__.constructor.call(this,a),s==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(s),l&&(this.value=this.stringify.insValue(l))}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(a){return this.options.writer.set(a).processingInstruction(this)},o}(r)}).call(Fot)),TM.exports}var EM={exports:{}},Hot=EM.exports,EZ;function yI(){return EZ||(EZ=1,(function(){var r,e=function(i,o){for(var a in o)n.call(o,a)&&(i[a]=o[a]);function s(){this.constructor=i}return s.prototype=o.prototype,i.prototype=new s,i.__super__=o.prototype,i},n={}.hasOwnProperty;r=Fo(),EM.exports=function(i){e(o,i);function o(a){o.__super__.constructor.call(this,a),this.isDummy=!0}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(a){return""},o}(r)}).call(Hot)),EM.exports}var Wot=dM.exports,CZ;function Fo(){return CZ||(CZ=1,(function(){var r,e,n,i,o,a,s,l,c,u,d,h,f,m,b={}.hasOwnProperty;m=hh(),f=m.isObject,h=m.isFunction,d=m.isEmpty,u=m.getValue,a=null,r=null,e=null,n=null,i=null,l=null,c=null,s=null,o=null,dM.exports=function(){function g(v){this.parent=v,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],a||(a=D6(),r=M6(),e=R6(),n=N6(),i=z6(),l=L6(),c=U6(),s=B6(),o=yI())}return g.prototype.element=function(v,x,w){var k,T,_,D,I,L,O,W,Z,$,F;if(L=null,x===null&&w==null&&(Z=[{},null],x=Z[0],w=Z[1]),x==null&&(x={}),x=u(x),f(x)||($=[x,w],w=$[0],x=$[1]),v!=null&&(v=u(v)),Array.isArray(v))for(_=0,O=v.length;_<O;_++)T=v[_],L=this.element(T);else if(h(v))L=this.element(v.apply());else if(f(v)){for(I in v)if(b.call(v,I))if(F=v[I],h(F)&&(F=F.apply()),f(F)&&d(F)&&(F=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&I.indexOf(this.stringify.convertAttKey)===0)L=this.attribute(I.substr(this.stringify.convertAttKey.length),F);else if(!this.options.separateArrayItems&&Array.isArray(F))for(D=0,W=F.length;D<W;D++)T=F[D],k={},k[I]=T,L=this.element(k);else f(F)?(L=this.element(I),L.element(F)):L=this.element(I,F)}else this.options.skipNullNodes&&w===null?L=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&v.indexOf(this.stringify.convertTextKey)===0?L=this.text(w):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&v.indexOf(this.stringify.convertCDataKey)===0?L=this.cdata(w):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&v.indexOf(this.stringify.convertCommentKey)===0?L=this.comment(w):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&v.indexOf(this.stringify.convertRawKey)===0?L=this.raw(w):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&v.indexOf(this.stringify.convertPIKey)===0?L=this.instruction(v.substr(this.stringify.convertPIKey.length),w):L=this.node(v,x,w);if(L==null)throw new Error("Could not create any elements with: "+v+". "+this.debugInfo());return L},g.prototype.insertBefore=function(v,x,w){var k,T,_;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(v));return T=this.parent.children.indexOf(this),_=this.parent.children.splice(T),k=this.parent.element(v,x,w),Array.prototype.push.apply(this.parent.children,_),k},g.prototype.insertAfter=function(v,x,w){var k,T,_;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(v));return T=this.parent.children.indexOf(this),_=this.parent.children.splice(T+1),k=this.parent.element(v,x,w),Array.prototype.push.apply(this.parent.children,_),k},g.prototype.remove=function(){var v;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return v=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[v,v-v+1].concat([])),this.parent},g.prototype.node=function(v,x,w){var k,T;return v!=null&&(v=u(v)),x||(x={}),x=u(x),f(x)||(T=[x,w],w=T[0],x=T[1]),k=new a(this,v,x),w!=null&&k.text(w),this.children.push(k),k},g.prototype.text=function(v){var x;return x=new c(this,v),this.children.push(x),this},g.prototype.cdata=function(v){var x;return x=new r(this,v),this.children.push(x),this},g.prototype.comment=function(v){var x;return x=new e(this,v),this.children.push(x),this},g.prototype.commentBefore=function(v){var x,w;return x=this.parent.children.indexOf(this),w=this.parent.children.splice(x),this.parent.comment(v),Array.prototype.push.apply(this.parent.children,w),this},g.prototype.commentAfter=function(v){var x,w;return x=this.parent.children.indexOf(this),w=this.parent.children.splice(x+1),this.parent.comment(v),Array.prototype.push.apply(this.parent.children,w),this},g.prototype.raw=function(v){var x;return x=new l(this,v),this.children.push(x),this},g.prototype.dummy=function(){var v;return v=new o(this),this.children.push(v),v},g.prototype.instruction=function(v,x){var w,k,T,_,D;if(v!=null&&(v=u(v)),x!=null&&(x=u(x)),Array.isArray(v))for(_=0,D=v.length;_<D;_++)w=v[_],this.instruction(w);else if(f(v))for(w in v)b.call(v,w)&&(k=v[w],this.instruction(w,k));else h(x)&&(x=x.apply()),T=new s(this,v,x),this.children.push(T);return this},g.prototype.instructionBefore=function(v,x){var w,k;return w=this.parent.children.indexOf(this),k=this.parent.children.splice(w),this.parent.instruction(v,x),Array.prototype.push.apply(this.parent.children,k),this},g.prototype.instructionAfter=function(v,x){var w,k;return w=this.parent.children.indexOf(this),k=this.parent.children.splice(w+1),this.parent.instruction(v,x),Array.prototype.push.apply(this.parent.children,k),this},g.prototype.declaration=function(v,x,w){var k,T;return k=this.document(),T=new n(k,v,x,w),k.children[0]instanceof n?k.children[0]=T:k.children.unshift(T),k.root()||k},g.prototype.doctype=function(v,x){var w,k,T,_,D,I,L,O,W,Z;for(k=this.document(),T=new i(k,v,x),W=k.children,_=D=0,L=W.length;D<L;_=++D)if(w=W[_],w instanceof i)return k.children[_]=T,T;for(Z=k.children,_=I=0,O=Z.length;I<O;_=++I)if(w=Z[_],w.isRoot)return k.children.splice(_,0,T),T;return k.children.push(T),T},g.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},g.prototype.root=function(){var v;for(v=this;v;){if(v.isDocument)return v.rootObject;if(v.isRoot)return v;v=v.parent}},g.prototype.document=function(){var v;for(v=this;v;){if(v.isDocument)return v;v=v.parent}},g.prototype.end=function(v){return this.document().end(v)},g.prototype.prev=function(){var v;for(v=this.parent.children.indexOf(this);v>0&&this.parent.children[v-1].isDummy;)v=v-1;if(v<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[v-1]},g.prototype.next=function(){var v;for(v=this.parent.children.indexOf(this);v<this.parent.children.length-1&&this.parent.children[v+1].isDummy;)v=v+1;if(v===-1||v===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[v+1]},g.prototype.importDocument=function(v){var x;return x=v.root().clone(),x.parent=this,x.isRoot=!1,this.children.push(x),this},g.prototype.debugInfo=function(v){var x,w;return v=v||this.name,v==null&&!((x=this.parent)!=null&&x.name)?"":v==null?"parent: <"+this.parent.name+">":(w=this.parent)!=null&&w.name?"node: <"+v+">, parent: <"+this.parent.name+">":"node: <"+v+">"},g.prototype.ele=function(v,x,w){return this.element(v,x,w)},g.prototype.nod=function(v,x,w){return this.node(v,x,w)},g.prototype.txt=function(v){return this.text(v)},g.prototype.dat=function(v){return this.cdata(v)},g.prototype.com=function(v){return this.comment(v)},g.prototype.ins=function(v,x){return this.instruction(v,x)},g.prototype.doc=function(){return this.document()},g.prototype.dec=function(v,x,w){return this.declaration(v,x,w)},g.prototype.dtd=function(v,x){return this.doctype(v,x)},g.prototype.e=function(v,x,w){return this.element(v,x,w)},g.prototype.n=function(v,x,w){return this.node(v,x,w)},g.prototype.t=function(v){return this.text(v)},g.prototype.d=function(v){return this.cdata(v)},g.prototype.c=function(v){return this.comment(v)},g.prototype.r=function(v){return this.raw(v)},g.prototype.i=function(v,x){return this.instruction(v,x)},g.prototype.u=function(){return this.up()},g.prototype.importXMLBuilder=function(v){return this.importDocument(v)},g}()}).call(Wot)),dM.exports}var CM={exports:{}},Vot=CM.exports,_Z;function C0e(){return _Z||(_Z=1,(function(){var r=function(n,i){return function(){return n.apply(i,arguments)}},e={}.hasOwnProperty;CM.exports=function(){function n(i){this.assertLegalChar=r(this.assertLegalChar,this);var o,a,s;i||(i={}),this.noDoubleEncoding=i.noDoubleEncoding,a=i.stringify||{};for(o in a)e.call(a,o)&&(s=a[o],this[o]=s)}return n.prototype.eleName=function(i){return i=""+i||"",this.assertLegalChar(i)},n.prototype.eleText=function(i){return i=""+i||"",this.assertLegalChar(this.elEscape(i))},n.prototype.cdata=function(i){return i=""+i||"",i=i.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(i)},n.prototype.comment=function(i){if(i=""+i||"",i.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+i);return this.assertLegalChar(i)},n.prototype.raw=function(i){return""+i||""},n.prototype.attName=function(i){return i=""+i||""},n.prototype.attValue=function(i){return i=""+i||"",this.attEscape(i)},n.prototype.insTarget=function(i){return""+i||""},n.prototype.insValue=function(i){if(i=""+i||"",i.match(/\?>/))throw new Error("Invalid processing instruction value: "+i);return i},n.prototype.xmlVersion=function(i){if(i=""+i||"",!i.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+i);return i},n.prototype.xmlEncoding=function(i){if(i=""+i||"",!i.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+i);return i},n.prototype.xmlStandalone=function(i){return i?"yes":"no"},n.prototype.dtdPubID=function(i){return""+i||""},n.prototype.dtdSysID=function(i){return""+i||""},n.prototype.dtdElementValue=function(i){return""+i||""},n.prototype.dtdAttType=function(i){return""+i||""},n.prototype.dtdAttDefault=function(i){return i!=null?""+i||"":i},n.prototype.dtdEntityValue=function(i){return""+i||""},n.prototype.dtdNData=function(i){return""+i||""},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(i){var o;if(o=i.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),o)throw new Error("Invalid character in string: "+i+" at index "+o.index);return i},n.prototype.elEscape=function(i){var o;return o=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,i.replace(o,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},n.prototype.attEscape=function(i){var o;return o=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,i.replace(o,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},n}()}).call(Vot)),CM.exports}var _M={exports:{}},AM={exports:{}},qot=AM.exports,AZ;function _0e(){return AZ||(AZ=1,(function(){var r={}.hasOwnProperty;AM.exports=function(){function e(n){var i,o,a,s,l,c,u,d,h;n||(n={}),this.pretty=n.pretty||!1,this.allowEmpty=(o=n.allowEmpty)!=null?o:!1,this.pretty?(this.indent=(a=n.indent)!=null?a:"  ",this.newline=(s=n.newline)!=null?s:`
`,this.offset=(l=n.offset)!=null?l:0,this.dontprettytextnodes=(c=n.dontprettytextnodes)!=null?c:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(u=n.spacebeforeslash)!=null?u:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,d=n.writer||{};for(i in d)r.call(d,i)&&(h=d[i],this[i]=h)}return e.prototype.set=function(n){var i,o,a;n||(n={}),"pretty"in n&&(this.pretty=n.pretty),"allowEmpty"in n&&(this.allowEmpty=n.allowEmpty),this.pretty?(this.indent="indent"in n?n.indent:"  ",this.newline="newline"in n?n.newline:`
`,this.offset="offset"in n?n.offset:0,this.dontprettytextnodes="dontprettytextnodes"in n?n.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in n?n.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,o=n.writer||{};for(i in o)r.call(o,i)&&(a=o[i],this[i]=a);return this},e.prototype.space=function(n){var i;return this.pretty?(i=(n||0)+this.offset+1,i>0?new Array(i).join(this.indent):""):""},e}()}).call(qot)),AM.exports}var Got=_M.exports,DZ;function bI(){return DZ||(DZ=1,(function(){var r,e,n,i,o,a,s,l,c,u,d,h,f,m,b=function(v,x){for(var w in x)g.call(x,w)&&(v[w]=x[w]);function k(){this.constructor=v}return k.prototype=x.prototype,v.prototype=new k,v.__super__=x.prototype,v},g={}.hasOwnProperty;s=N6(),l=z6(),r=M6(),e=R6(),u=D6(),h=L6(),f=U6(),d=B6(),c=yI(),n=O6(),i=I6(),o=P6(),a=$6(),m=_0e(),_M.exports=function(v){b(x,v);function x(w){x.__super__.constructor.call(this,w)}return x.prototype.document=function(w){var k,T,_,D,I;for(this.textispresent=!1,D="",I=w.children,T=0,_=I.length;T<_;T++)k=I[T],!(k instanceof c)&&(D+=(function(){switch(!1){case!(k instanceof s):return this.declaration(k);case!(k instanceof l):return this.docType(k);case!(k instanceof e):return this.comment(k);case!(k instanceof d):return this.processingInstruction(k);default:return this.element(k,0)}}).call(this));return this.pretty&&D.slice(-this.newline.length)===this.newline&&(D=D.slice(0,-this.newline.length)),D},x.prototype.attribute=function(w){return" "+w.name+'="'+w.value+'"'},x.prototype.cdata=function(w,k){return this.space(k)+"<![CDATA["+w.text+"]]>"+this.newline},x.prototype.comment=function(w,k){return this.space(k)+"<!-- "+w.text+" -->"+this.newline},x.prototype.declaration=function(w,k){var T;return T=this.space(k),T+='<?xml version="'+w.version+'"',w.encoding!=null&&(T+=' encoding="'+w.encoding+'"'),w.standalone!=null&&(T+=' standalone="'+w.standalone+'"'),T+=this.spacebeforeslash+"?>",T+=this.newline,T},x.prototype.docType=function(w,k){var T,_,D,I,L;if(k||(k=0),I=this.space(k),I+="<!DOCTYPE "+w.root().name,w.pubID&&w.sysID?I+=' PUBLIC "'+w.pubID+'" "'+w.sysID+'"':w.sysID&&(I+=' SYSTEM "'+w.sysID+'"'),w.children.length>0){for(I+=" [",I+=this.newline,L=w.children,_=0,D=L.length;_<D;_++)T=L[_],I+=(function(){switch(!1){case!(T instanceof n):return this.dtdAttList(T,k+1);case!(T instanceof i):return this.dtdElement(T,k+1);case!(T instanceof o):return this.dtdEntity(T,k+1);case!(T instanceof a):return this.dtdNotation(T,k+1);case!(T instanceof r):return this.cdata(T,k+1);case!(T instanceof e):return this.comment(T,k+1);case!(T instanceof d):return this.processingInstruction(T,k+1);default:throw new Error("Unknown DTD node type: "+T.constructor.name)}}).call(this);I+="]"}return I+=this.spacebeforeslash+">",I+=this.newline,I},x.prototype.element=function(w,k){var T,_,D,I,L,O,W,Z,$,F,A,Q,H;k||(k=0),H=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),Q=this.space(k),Z="",Z+=Q+"<"+w.name,$=w.attributes;for(W in $)g.call($,W)&&(T=$[W],Z+=this.attribute(T));if(w.children.length===0||w.children.every(function(G){return G.value===""}))this.allowEmpty?Z+="></"+w.name+">"+this.newline:Z+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&w.children.length===1&&w.children[0].value!=null)Z+=">",Z+=w.children[0].value,Z+="</"+w.name+">"+this.newline;else{if(this.dontprettytextnodes){for(F=w.children,D=0,L=F.length;D<L;D++)if(_=F[D],_.value!=null){this.textispresent++,H=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,Q=this.space(k)),Z+=">"+this.newline,A=w.children,I=0,O=A.length;I<O;I++)_=A[I],Z+=(function(){switch(!1){case!(_ instanceof r):return this.cdata(_,k+1);case!(_ instanceof e):return this.comment(_,k+1);case!(_ instanceof u):return this.element(_,k+1);case!(_ instanceof h):return this.raw(_,k+1);case!(_ instanceof f):return this.text(_,k+1);case!(_ instanceof d):return this.processingInstruction(_,k+1);case!(_ instanceof c):return"";default:throw new Error("Unknown XML node type: "+_.constructor.name)}}).call(this);H&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),Z+=Q+"</"+w.name+">"+this.newline}return Z},x.prototype.processingInstruction=function(w,k){var T;return T=this.space(k)+"<?"+w.target,w.value&&(T+=" "+w.value),T+=this.spacebeforeslash+"?>"+this.newline,T},x.prototype.raw=function(w,k){return this.space(k)+w.value+this.newline},x.prototype.text=function(w,k){return this.space(k)+w.value+this.newline},x.prototype.dtdAttList=function(w,k){var T;return T=this.space(k)+"<!ATTLIST "+w.elementName+" "+w.attributeName+" "+w.attributeType,w.defaultValueType!=="#DEFAULT"&&(T+=" "+w.defaultValueType),w.defaultValue&&(T+=' "'+w.defaultValue+'"'),T+=this.spacebeforeslash+">"+this.newline,T},x.prototype.dtdElement=function(w,k){return this.space(k)+"<!ELEMENT "+w.name+" "+w.value+this.spacebeforeslash+">"+this.newline},x.prototype.dtdEntity=function(w,k){var T;return T=this.space(k)+"<!ENTITY",w.pe&&(T+=" %"),T+=" "+w.name,w.value?T+=' "'+w.value+'"':(w.pubID&&w.sysID?T+=' PUBLIC "'+w.pubID+'" "'+w.sysID+'"':w.sysID&&(T+=' SYSTEM "'+w.sysID+'"'),w.nData&&(T+=" NDATA "+w.nData)),T+=this.spacebeforeslash+">"+this.newline,T},x.prototype.dtdNotation=function(w,k){var T;return T=this.space(k)+"<!NOTATION "+w.name,w.pubID&&w.sysID?T+=' PUBLIC "'+w.pubID+'" "'+w.sysID+'"':w.pubID?T+=' PUBLIC "'+w.pubID+'"':w.sysID&&(T+=' SYSTEM "'+w.sysID+'"'),T+=this.spacebeforeslash+">"+this.newline,T},x.prototype.openNode=function(w,k){var T,_,D,I;if(k||(k=0),w instanceof u){D=this.space(k)+"<"+w.name,I=w.attributes;for(_ in I)g.call(I,_)&&(T=I[_],D+=this.attribute(T));return D+=(w.children?">":"/>")+this.newline,D}else return D=this.space(k)+"<!DOCTYPE "+w.rootNodeName,w.pubID&&w.sysID?D+=' PUBLIC "'+w.pubID+'" "'+w.sysID+'"':w.sysID&&(D+=' SYSTEM "'+w.sysID+'"'),D+=(w.children?" [":">")+this.newline,D},x.prototype.closeNode=function(w,k){switch(k||(k=0),!1){case!(w instanceof u):return this.space(k)+"</"+w.name+">"+this.newline;case!(w instanceof l):return this.space(k)+"]>"+this.newline}},x}(m)}).call(Got)),_M.exports}var Kot=uM.exports,MZ;function Xot(){return MZ||(MZ=1,(function(){var r,e,n,i,o=function(s,l){for(var c in l)a.call(l,c)&&(s[c]=l[c]);function u(){this.constructor=s}return u.prototype=l.prototype,s.prototype=new u,s.__super__=l.prototype,s},a={}.hasOwnProperty;i=hh().isPlainObject,r=Fo(),n=C0e(),e=bI(),uM.exports=function(s){o(l,s);function l(c){l.__super__.constructor.call(this,null),this.name="?xml",c||(c={}),c.writer||(c.writer=new e),this.options=c,this.stringify=new n(c),this.isDocument=!0}return l.prototype.end=function(c){var u;return c?i(c)&&(u=c,c=this.options.writer.set(u)):c=this.options.writer,c.document(this)},l.prototype.toString=function(c){return this.options.writer.set(c).document(this)},l}(r)}).call(Kot)),uM.exports}var DM={exports:{}},Yot=DM.exports,RZ;function Zot(){return RZ||(RZ=1,(function(){var r,e,n,i,o,a,s,l,c,u,d,h,f,m,b,g,v,x,w,k,T={}.hasOwnProperty;k=hh(),x=k.isObject,v=k.isFunction,w=k.isPlainObject,g=k.getValue,u=D6(),e=M6(),n=R6(),h=L6(),b=U6(),d=B6(),l=N6(),c=z6(),i=O6(),a=P6(),o=I6(),s=$6(),r=E0e(),m=C0e(),f=bI(),DM.exports=function(){function _(D,I,L){var O;this.name="?xml",D||(D={}),D.writer?w(D.writer)&&(O=D.writer,D.writer=new f(O)):D.writer=new f(D),this.options=D,this.writer=D.writer,this.stringify=new m(D),this.onDataCallback=I||function(){},this.onEndCallback=L||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return _.prototype.node=function(D,I,L){var O,W;if(D==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(D));return this.openCurrent(),D=g(D),I===null&&L==null&&(O=[{},null],I=O[0],L=O[1]),I==null&&(I={}),I=g(I),x(I)||(W=[I,L],L=W[0],I=W[1]),this.currentNode=new u(this,D,I),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,L!=null&&this.text(L),this},_.prototype.element=function(D,I,L){return this.currentNode&&this.currentNode instanceof c?this.dtdElement.apply(this,arguments):this.node(D,I,L)},_.prototype.attribute=function(D,I){var L,O;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(D));if(D!=null&&(D=g(D)),x(D))for(L in D)T.call(D,L)&&(O=D[L],this.attribute(L,O));else v(I)&&(I=I.apply()),(!this.options.skipNullAttributes||I!=null)&&(this.currentNode.attributes[D]=new r(this,D,I));return this},_.prototype.text=function(D){var I;return this.openCurrent(),I=new b(this,D),this.onData(this.writer.text(I,this.currentLevel+1),this.currentLevel+1),this},_.prototype.cdata=function(D){var I;return this.openCurrent(),I=new e(this,D),this.onData(this.writer.cdata(I,this.currentLevel+1),this.currentLevel+1),this},_.prototype.comment=function(D){var I;return this.openCurrent(),I=new n(this,D),this.onData(this.writer.comment(I,this.currentLevel+1),this.currentLevel+1),this},_.prototype.raw=function(D){var I;return this.openCurrent(),I=new h(this,D),this.onData(this.writer.raw(I,this.currentLevel+1),this.currentLevel+1),this},_.prototype.instruction=function(D,I){var L,O,W,Z,$;if(this.openCurrent(),D!=null&&(D=g(D)),I!=null&&(I=g(I)),Array.isArray(D))for(L=0,Z=D.length;L<Z;L++)O=D[L],this.instruction(O);else if(x(D))for(O in D)T.call(D,O)&&(W=D[O],this.instruction(O,W));else v(I)&&(I=I.apply()),$=new d(this,D,I),this.onData(this.writer.processingInstruction($,this.currentLevel+1),this.currentLevel+1);return this},_.prototype.declaration=function(D,I,L){var O;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return O=new l(this,D,I,L),this.onData(this.writer.declaration(O,this.currentLevel+1),this.currentLevel+1),this},_.prototype.doctype=function(D,I,L){if(this.openCurrent(),D==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new c(this,I,L),this.currentNode.rootNodeName=D,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},_.prototype.dtdElement=function(D,I){var L;return this.openCurrent(),L=new o(this,D,I),this.onData(this.writer.dtdElement(L,this.currentLevel+1),this.currentLevel+1),this},_.prototype.attList=function(D,I,L,O,W){var Z;return this.openCurrent(),Z=new i(this,D,I,L,O,W),this.onData(this.writer.dtdAttList(Z,this.currentLevel+1),this.currentLevel+1),this},_.prototype.entity=function(D,I){var L;return this.openCurrent(),L=new a(this,!1,D,I),this.onData(this.writer.dtdEntity(L,this.currentLevel+1),this.currentLevel+1),this},_.prototype.pEntity=function(D,I){var L;return this.openCurrent(),L=new a(this,!0,D,I),this.onData(this.writer.dtdEntity(L,this.currentLevel+1),this.currentLevel+1),this},_.prototype.notation=function(D,I){var L;return this.openCurrent(),L=new s(this,D,I),this.onData(this.writer.dtdNotation(L,this.currentLevel+1),this.currentLevel+1),this},_.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},_.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},_.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},_.prototype.openNode=function(D){if(!D.isOpen)return!this.root&&this.currentLevel===0&&D instanceof u&&(this.root=D),this.onData(this.writer.openNode(D,this.currentLevel),this.currentLevel),D.isOpen=!0},_.prototype.closeNode=function(D){if(!D.isClosed)return this.onData(this.writer.closeNode(D,this.currentLevel),this.currentLevel),D.isClosed=!0},_.prototype.onData=function(D,I){return this.documentStarted=!0,this.onDataCallback(D,I+1)},_.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},_.prototype.debugInfo=function(D){return D==null?"":"node: <"+D+">"},_.prototype.ele=function(){return this.element.apply(this,arguments)},_.prototype.nod=function(D,I,L){return this.node(D,I,L)},_.prototype.txt=function(D){return this.text(D)},_.prototype.dat=function(D){return this.cdata(D)},_.prototype.com=function(D){return this.comment(D)},_.prototype.ins=function(D,I){return this.instruction(D,I)},_.prototype.dec=function(D,I,L){return this.declaration(D,I,L)},_.prototype.dtd=function(D,I,L){return this.doctype(D,I,L)},_.prototype.e=function(D,I,L){return this.element(D,I,L)},_.prototype.n=function(D,I,L){return this.node(D,I,L)},_.prototype.t=function(D){return this.text(D)},_.prototype.d=function(D){return this.cdata(D)},_.prototype.c=function(D){return this.comment(D)},_.prototype.r=function(D){return this.raw(D)},_.prototype.i=function(D,I){return this.instruction(D,I)},_.prototype.att=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},_.prototype.a=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},_.prototype.ent=function(D,I){return this.entity(D,I)},_.prototype.pent=function(D,I){return this.pEntity(D,I)},_.prototype.not=function(D,I){return this.notation(D,I)},_}()}).call(Yot)),DM.exports}var MM={exports:{}},Jot=MM.exports,NZ;function Qot(){return NZ||(NZ=1,(function(){var r,e,n,i,o,a,s,l,c,u,d,h,f,m,b=function(v,x){for(var w in x)g.call(x,w)&&(v[w]=x[w]);function k(){this.constructor=v}return k.prototype=x.prototype,v.prototype=new k,v.__super__=x.prototype,v},g={}.hasOwnProperty;s=N6(),l=z6(),r=M6(),e=R6(),u=D6(),h=L6(),f=U6(),d=B6(),c=yI(),n=O6(),i=I6(),o=P6(),a=$6(),m=_0e(),MM.exports=function(v){b(x,v);function x(w,k){x.__super__.constructor.call(this,k),this.stream=w}return x.prototype.document=function(w){var k,T,_,D,I,L,O,W;for(L=w.children,T=0,D=L.length;T<D;T++)k=L[T],k.isLastRootNode=!1;for(w.children[w.children.length-1].isLastRootNode=!0,O=w.children,W=[],_=0,I=O.length;_<I;_++)if(k=O[_],!(k instanceof c))switch(!1){case!(k instanceof s):W.push(this.declaration(k));break;case!(k instanceof l):W.push(this.docType(k));break;case!(k instanceof e):W.push(this.comment(k));break;case!(k instanceof d):W.push(this.processingInstruction(k));break;default:W.push(this.element(k))}return W},x.prototype.attribute=function(w){return this.stream.write(" "+w.name+'="'+w.value+'"')},x.prototype.cdata=function(w,k){return this.stream.write(this.space(k)+"<![CDATA["+w.text+"]]>"+this.endline(w))},x.prototype.comment=function(w,k){return this.stream.write(this.space(k)+"<!-- "+w.text+" -->"+this.endline(w))},x.prototype.declaration=function(w,k){return this.stream.write(this.space(k)),this.stream.write('<?xml version="'+w.version+'"'),w.encoding!=null&&this.stream.write(' encoding="'+w.encoding+'"'),w.standalone!=null&&this.stream.write(' standalone="'+w.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(w))},x.prototype.docType=function(w,k){var T,_,D,I;if(k||(k=0),this.stream.write(this.space(k)),this.stream.write("<!DOCTYPE "+w.root().name),w.pubID&&w.sysID?this.stream.write(' PUBLIC "'+w.pubID+'" "'+w.sysID+'"'):w.sysID&&this.stream.write(' SYSTEM "'+w.sysID+'"'),w.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(w)),I=w.children,_=0,D=I.length;_<D;_++)switch(T=I[_],!1){case!(T instanceof n):this.dtdAttList(T,k+1);break;case!(T instanceof i):this.dtdElement(T,k+1);break;case!(T instanceof o):this.dtdEntity(T,k+1);break;case!(T instanceof a):this.dtdNotation(T,k+1);break;case!(T instanceof r):this.cdata(T,k+1);break;case!(T instanceof e):this.comment(T,k+1);break;case!(T instanceof d):this.processingInstruction(T,k+1);break;default:throw new Error("Unknown DTD node type: "+T.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(w))},x.prototype.element=function(w,k){var T,_,D,I,L,O,W,Z;k||(k=0),Z=this.space(k),this.stream.write(Z+"<"+w.name),O=w.attributes;for(L in O)g.call(O,L)&&(T=O[L],this.attribute(T));if(w.children.length===0||w.children.every(function($){return $.value===""}))this.allowEmpty?this.stream.write("></"+w.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&w.children.length===1&&w.children[0].value!=null)this.stream.write(">"),this.stream.write(w.children[0].value),this.stream.write("</"+w.name+">");else{for(this.stream.write(">"+this.newline),W=w.children,D=0,I=W.length;D<I;D++)switch(_=W[D],!1){case!(_ instanceof r):this.cdata(_,k+1);break;case!(_ instanceof e):this.comment(_,k+1);break;case!(_ instanceof u):this.element(_,k+1);break;case!(_ instanceof h):this.raw(_,k+1);break;case!(_ instanceof f):this.text(_,k+1);break;case!(_ instanceof d):this.processingInstruction(_,k+1);break;case!(_ instanceof c):break;default:throw new Error("Unknown XML node type: "+_.constructor.name)}this.stream.write(Z+"</"+w.name+">")}return this.stream.write(this.endline(w))},x.prototype.processingInstruction=function(w,k){return this.stream.write(this.space(k)+"<?"+w.target),w.value&&this.stream.write(" "+w.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(w))},x.prototype.raw=function(w,k){return this.stream.write(this.space(k)+w.value+this.endline(w))},x.prototype.text=function(w,k){return this.stream.write(this.space(k)+w.value+this.endline(w))},x.prototype.dtdAttList=function(w,k){return this.stream.write(this.space(k)+"<!ATTLIST "+w.elementName+" "+w.attributeName+" "+w.attributeType),w.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+w.defaultValueType),w.defaultValue&&this.stream.write(' "'+w.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(w))},x.prototype.dtdElement=function(w,k){return this.stream.write(this.space(k)+"<!ELEMENT "+w.name+" "+w.value),this.stream.write(this.spacebeforeslash+">"+this.endline(w))},x.prototype.dtdEntity=function(w,k){return this.stream.write(this.space(k)+"<!ENTITY"),w.pe&&this.stream.write(" %"),this.stream.write(" "+w.name),w.value?this.stream.write(' "'+w.value+'"'):(w.pubID&&w.sysID?this.stream.write(' PUBLIC "'+w.pubID+'" "'+w.sysID+'"'):w.sysID&&this.stream.write(' SYSTEM "'+w.sysID+'"'),w.nData&&this.stream.write(" NDATA "+w.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(w))},x.prototype.dtdNotation=function(w,k){return this.stream.write(this.space(k)+"<!NOTATION "+w.name),w.pubID&&w.sysID?this.stream.write(' PUBLIC "'+w.pubID+'" "'+w.sysID+'"'):w.pubID?this.stream.write(' PUBLIC "'+w.pubID+'"'):w.sysID&&this.stream.write(' SYSTEM "'+w.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(w))},x.prototype.endline=function(w){return w.isLastRootNode?"":this.newline},x}(m)}).call(Jot)),MM.exports}var OZ;function eat(){return OZ||(OZ=1,(function(){var r,e,n,i,o,a,s;s=hh(),o=s.assign,a=s.isFunction,r=Xot(),e=Zot(),i=bI(),n=Qot(),Am.create=function(l,c,u,d){var h,f;if(l==null)throw new Error("Root element needs a name.");return d=o({},c,u,d),h=new r(d),f=h.element(l),d.headless||(h.declaration(d),(d.pubID!=null||d.sysID!=null)&&h.doctype(d)),f},Am.begin=function(l,c,u){var d;return a(l)&&(d=[l,c],c=d[0],u=d[1],l={}),c?new e(l,c,u):new r(l)},Am.stringWriter=function(l){return new i(l)},Am.streamWriter=function(l,c){return new n(l,c)}}).call(Am)),Am}var PZ;function tat(){if(PZ)return I_;PZ=1;var r=Fr,e=eat();I_.writeString=n;function n(o,a){var s=r.invert(a),l={element:u,text:i};function c(f,m){return l[m.type](f,m)}function u(f,m){var b=f.element(d(m.name),m.attributes);m.children.forEach(function(g){c(b,g)})}function d(f){var m=/^\{(.*)\}(.*)$/.exec(f);if(m){var b=s[m[1]];return b+(b===""?"":":")+m[2]}else return f}function h(f){var m=e.create(d(f.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return r.forEach(a,function(b,g){var v="xmlns"+(g===""?"":":"+g);m.attribute(v,b)}),f.children.forEach(function(b){c(m,b)}),m.end()}return h(o)}function i(o,a){o.text(a.value)}return I_}var IZ;function vI(){if(IZ)return Wu;IZ=1;var r=T0e();return Wu.Element=r.Element,Wu.element=r.element,Wu.emptyElement=r.emptyElement,Wu.text=r.text,Wu.readString=Dot().readString,Wu.writeString=tat().writeString,Wu}var $Z;function nat(){if($Z)return b2;$Z=1;var r=Fr,e=dh(),n=vI();b2.read=o,b2.readXmlFromZipFile=a;var i={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word","http://schemas.microsoft.com/office/word/2010/wordml":"wordml"};function o(c){return n.readString(c,i).then(function(u){return l(u)[0]})}function a(c,u){return c.exists(u)?c.read(u,"utf-8").then(s).then(o):e.resolve(null)}function s(c){return c.replace(/^\uFEFF/g,"")}function l(c){return c.type==="element"?c.name==="mc:AlternateContent"?c.first("mc:Fallback").children:(c.children=r.flatten(c.children.map(l,!0)),[c]):[c]}return b2}var w2={},ps={},S2={},zZ;function rat(){if(zZ)return S2;zZ=1,Object.defineProperty(S2,"__esModule",{value:!0});var r=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];return S2.default=r,S2}var LZ;function iat(){if(LZ)return ps;LZ=1;var r=ps&&ps.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(ps,"__esModule",{value:!0}),ps.hex=ps.dec=ps.codePoint=void 0;for(var e=r(rat()),n={},i=String.fromCodePoint?String.fromCodePoint:f,o=0,a=e.default;o<a.length;o++){var s=a[o],l=parseInt(s["Unicode dec"],10),c={codePoint:l,string:i(l)};n[s["Typeface name"].toUpperCase()+"_"+s["Dingbat dec"]]=c}function u(m,b){return n[m.toUpperCase()+"_"+b]}ps.codePoint=u;function d(m,b){return u(m,parseInt(b,10))}ps.dec=d;function h(m,b){return u(m,parseInt(b,16))}ps.hex=h;function f(m){if(m<=65535)return String.fromCharCode(m);var b=Math.floor((m-65536)/1024)+55296,g=(m-65536)%1024+56320;return String.fromCharCode(b,g)}return ps}var k2={},UZ;function oat(){if(UZ)return k2;UZ=1,k2.uriToZipEntryName=r,k2.replaceFragment=e;function r(n,i){return i.charAt(0)==="/"?i.substr(1):n+"/"+i}function e(n,i){var o=n.indexOf("#");return o!==-1&&(n=n.substring(0,o)),n+"#"+i}return k2}var BZ;function aat(){if(BZ)return w2;BZ=1,w2.createBodyReader=l,w2._readNumberingProperties=u;var r=iat(),e=Fr,n=Tp(),i=Jc().Result,o=Jc().warning,a=vI(),s=oat();function l(T){return{readXmlElement:function(_){return new c(T).readXmlElement(_)},readXmlElements:function(_){return new c(T).readXmlElements(_)}}}function c(T){var _=[],D=[],I=[],L=T.relationships,O=T.contentTypes,W=T.docxFile,Z=T.files,$=T.numbering,F=T.styles;function A(Ne){var Ye=Ne.map(Q);return x(Ye)}function Q(Ne){if(Ne.type==="element"){var Ye=V[Ne.name];if(Ye)return Ye(Ne);if(!Object.prototype.hasOwnProperty.call(h,Ne.name)){var Ze=o("An unrecognised element was ignored: "+Ne.name);return f([Ze])}}return m()}function H(Ne){return ae(Ne).map(function(Ye){return{type:"paragraphProperties",styleId:Ye.styleId,styleName:Ye.name,alignment:Ne.firstOrEmpty("w:jc").attributes["w:val"],numbering:u(Ye.styleId,Ne.firstOrEmpty("w:numPr"),$),indent:G(Ne.firstOrEmpty("w:ind"))}})}function G(Ne){return{start:Ne.attributes["w:start"]||Ne.attributes["w:left"],end:Ne.attributes["w:end"]||Ne.attributes["w:right"],firstLine:Ne.attributes["w:firstLine"],hanging:Ne.attributes["w:hanging"]}}function ne(Ne){return re(Ne).map(function(Ye){var Ze=Ne.firstOrEmpty("w:sz").attributes["w:val"],Pe=/^[0-9]+$/.test(Ze)?parseInt(Ze,10)/2:null;return{type:"runProperties",styleId:Ye.styleId,styleName:Ye.name,verticalAlignment:Ne.firstOrEmpty("w:vertAlign").attributes["w:val"],font:Ne.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:Pe,isBold:ee(Ne.first("w:b")),isUnderline:J(Ne.first("w:u")),isItalic:ee(Ne.first("w:i")),isStrikethrough:ee(Ne.first("w:strike")),isAllCaps:ee(Ne.first("w:caps")),isSmallCaps:ee(Ne.first("w:smallCaps")),highlight:j(Ne.firstOrEmpty("w:highlight").attributes["w:val"])}})}function J(Ne){if(Ne){var Ye=Ne.attributes["w:val"];return Ye!==void 0&&Ye!=="false"&&Ye!=="0"&&Ye!=="none"}else return!1}function ee(Ne){if(Ne){var Ye=Ne.attributes["w:val"];return Ye!=="false"&&Ye!=="0"}else return!1}function X(Ne){return Ne!=="false"&&Ne!=="0"}function j(Ne){return!Ne||Ne==="none"?null:Ne}function ae(Ne){return me(Ne,"w:pStyle","Paragraph",F.findParagraphStyleById)}function re(Ne){return me(Ne,"w:rStyle","Run",F.findCharacterStyleById)}function de(Ne){return me(Ne,"w:tblStyle","Table",F.findTableStyleById)}function me(Ne,Ye,Ze,Pe){var Qe=[],Ce=Ne.first(Ye),$e=null,vt=null;if(Ce&&($e=Ce.attributes["w:val"],$e)){var zt=Pe($e);zt?vt=zt.name:Qe.push(jt(Ze,$e))}return g({styleId:$e,name:vt},Qe)}function K(Ne){var Ye=Ne.attributes["w:fldCharType"];if(Ye==="begin")_.push({type:"begin",fldChar:Ne}),D=[];else if(Ye==="end"){var Ze=_.pop();if(Ze.type==="begin"&&(Ze=be(Ze)),Ze.type==="checkbox")return b(n.checkbox({checked:Ze.checked}))}else if(Ye==="separate"){var Pe=_.pop(),Qe=be(Pe);_.push(Qe)}return m()}function q(){var Ne=e.last(_.filter(function(Ye){return Ye.type==="hyperlink"}));return Ne?Ne.options:null}function be(Ne){return pe(D.join(""),Ne.type==="begin"?Ne.fldChar:a.emptyElement)}function pe(Ne,Ye){var Ze=/\s*HYPERLINK "(.*)"/.exec(Ne);if(Ze)return{type:"hyperlink",options:{href:Ze[1]}};var Pe=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(Ne);if(Pe)return{type:"hyperlink",options:{anchor:Pe[1]}};var Qe=/\s*FORMCHECKBOX\s*/.exec(Ne);if(Qe){var Ce=Ye.firstOrEmpty("w:ffData").firstOrEmpty("w:checkBox"),$e=Ce.first("w:checked"),vt=$e==null?ee(Ce.first("w:default")):ee($e);return{type:"checkbox",checked:vt}}return{type:"unknown"}}function ie(Ne){return D.push(Ne.text()),m()}function le(Ne){var Ye=Ne.attributes["w:font"],Ze=Ne.attributes["w:char"],Pe=r.hex(Ye,Ze);return Pe==null&&/^F0..$/.test(Ze)&&(Pe=r.hex(Ye,Ze.substring(2))),Pe==null?f([o("A w:sym element with an unsupported character was ignored: char "+Ze+" in font "+Ye)]):b(new n.Text(Pe.string))}function Ee(Ne){return function(Ye){var Ze=Ye.attributes["w:id"];return b(new n.NoteReference({noteType:Ne,noteId:Ze}))}}function M(Ne){return b(n.commentReference({commentId:Ne.attributes["w:id"]}))}function he(Ne){return A(Ne.children)}var V={"w:p":function(Ne){var Ye=Ne.firstOrEmpty("w:pPr"),Ze=!!Ye.firstOrEmpty("w:rPr").first("w:del");if(Ze)return Ne.children.forEach(function(Qe){I.push(Qe)}),m();var Pe=Ne.children;return I.length>0&&(Pe=I.concat(Pe),I=[]),v.map(H(Ye),A(Pe),function(Qe,Ce){return new n.Paragraph(Ce,Qe)}).insertExtra()},"w:r":function(Ne){return v.map(ne(Ne.firstOrEmpty("w:rPr")),A(Ne.children),function(Ye,Ze){var Pe=q();return Pe!==null&&(Ze=[new n.Hyperlink(Ze,Pe)]),new n.Run(Ze,Ye)})},"w:fldChar":K,"w:instrText":ie,"w:t":function(Ne){return b(new n.Text(Ne.text()))},"w:tab":function(Ne){return b(new n.Tab)},"w:noBreakHyphen":function(){return b(new n.Text(""))},"w:softHyphen":function(Ne){return b(new n.Text(""))},"w:sym":le,"w:hyperlink":function(Ne){var Ye=Ne.attributes["r:id"],Ze=Ne.attributes["w:anchor"];return A(Ne.children).map(function(Pe){function Qe($e){var vt=Ne.attributes["w:tgtFrame"]||null;return new n.Hyperlink(Pe,e.extend({targetFrame:vt},$e))}if(Ye){var Ce=L.findTargetByRelationshipId(Ye);return Ze&&(Ce=s.replaceFragment(Ce,Ze)),Qe({href:Ce})}else return Ze?Qe({anchor:Ze}):Pe})},"w:tbl":R,"w:tr":B,"w:tc":ue,"w:footnoteReference":Ee("footnote"),"w:endnoteReference":Ee("endnote"),"w:commentReference":M,"w:br":function(Ne){var Ye=Ne.attributes["w:type"];return Ye==null||Ye==="textWrapping"?b(n.lineBreak):Ye==="page"?b(n.pageBreak):Ye==="column"?b(n.columnBreak):f([o("Unsupported break type: "+Ye)])},"w:bookmarkStart":function(Ne){var Ye=Ne.attributes["w:name"];return Ye==="_GoBack"?m():b(new n.BookmarkStart({name:Ye}))},"mc:AlternateContent":function(Ne){return he(Ne.first("mc:Fallback"))},"w:sdt":function(Ne){var Ye=Ne.firstOrEmpty("w:sdtPr").first("wordml:checkbox");if(Ye){var Ze=Ye.first("wordml:checked"),Pe=!!Ze&&X(Ze.attributes["wordml:val"]);return b(n.checkbox({checked:Pe}))}else return A(Ne.firstOrEmpty("w:sdtContent").children)},"w:ins":he,"w:object":he,"w:smartTag":he,"w:drawing":he,"w:pict":function(Ne){return he(Ne).toExtra()},"v:roundrect":he,"v:shape":he,"v:textbox":he,"w:txbxContent":he,"wp:inline":ge,"wp:anchor":ge,"v:imagedata":Le,"v:group":he,"v:rect":he};return{readXmlElement:Q,readXmlElements:A};function R(Ne){var Ye=N(Ne.firstOrEmpty("w:tblPr"));return A(Ne.children).flatMap(se).flatMap(function(Ze){return Ye.map(function(Pe){return n.Table(Ze,Pe)})})}function N(Ne){return de(Ne).map(function(Ye){return{styleId:Ye.styleId,styleName:Ye.name}})}function B(Ne){var Ye=Ne.firstOrEmpty("w:trPr"),Ze=!!Ye.first("w:tblHeader");return A(Ne.children).map(function(Pe){return n.TableRow(Pe,{isHeader:Ze})})}function ue(Ne){return A(Ne.children).map(function(Ye){var Ze=Ne.firstOrEmpty("w:tcPr"),Pe=Ze.firstOrEmpty("w:gridSpan").attributes["w:val"],Qe=Pe?parseInt(Pe,10):1,Ce=n.TableCell(Ye,{colSpan:Qe});return Ce._vMerge=ve(Ze),Ce})}function ve(Ne){var Ye=Ne.first("w:vMerge");if(Ye){var Ze=Ye.attributes["w:val"];return Ze==="continue"||!Ze}else return null}function se(Ne){var Ye=e.any(Ne,function(Qe){return Qe.type!==n.types.tableRow});if(Ye)return g(Ne,[o("unexpected non-row element in table, cell merging may be incorrect")]);var Ze=e.any(Ne,function(Qe){return e.any(Qe.children,function(Ce){return Ce.type!==n.types.tableCell})});if(Ze)return g(Ne,[o("unexpected non-cell element in table row, cell merging may be incorrect")]);var Pe={};return Ne.forEach(function(Qe){var Ce=0;Qe.children.forEach(function($e){$e._vMerge&&Pe[Ce]?Pe[Ce].rowSpan++:(Pe[Ce]=$e,$e._vMerge=!1),Ce+=$e.colSpan})}),Ne.forEach(function(Qe){Qe.children=Qe.children.filter(function(Ce){return!Ce._vMerge}),Qe.children.forEach(function(Ce){delete Ce._vMerge})}),b(Ne)}function ge(Ne){var Ye=Ne.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return x(Ye.map(Se.bind(null,Ne)))}function Se(Ne,Ye){var Ze=Ne.first("wp:docPr").attributes,Pe=Te(Ze.descr)?Ze.title:Ze.descr,Qe=De(Ye);return Qe===null?f([o("Could not find image file for a:blip element")]):pt(Qe,Pe)}function Te(Ne){return Ne==null||/^\s*$/.test(Ne)}function De(Ne){var Ye=Ne.attributes["r:embed"],Ze=Ne.attributes["r:link"];if(Ye)return Ke(Ye);if(Ze){var Pe=L.findTargetByRelationshipId(Ze);return{path:Pe,read:Z.read.bind(Z,Pe)}}else return null}function Le(Ne){var Ye=Ne.attributes["r:id"];return Ye?pt(Ke(Ye),Ne.attributes["o:title"]):f([o("A v:imagedata element without a relationship ID was ignored")])}function Ke(Ne){var Ye=s.uriToZipEntryName("word",L.findTargetByRelationshipId(Ne));return{path:Ye,read:W.read.bind(W,Ye)}}function pt(Ne,Ye){var Ze=O.findContentType(Ne.path),Pe=n.Image({readImage:Ne.read,altText:Ye,contentType:Ze}),Qe=d[Ze]?[]:o("Image of type "+Ze+" is unlikely to display in web browsers");return g(Pe,Qe)}function jt(Ne,Ye){return o(Ne+" style with ID "+Ye+" was referenced but not defined in the document")}}function u(T,_,D){var I=_.firstOrEmpty("w:ilvl").attributes["w:val"],L=_.firstOrEmpty("w:numId").attributes["w:val"];if(I!==void 0&&L!==void 0)return D.findLevel(L,I);if(T!=null){var O=D.findLevelByParagraphStyleId(T);if(O!=null)return O}return null}var d={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},h={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function f(T){return new v(null,null,T)}function m(){return new v(null)}function b(T){return new v(T)}function g(T,_){return new v(T,null,_)}function v(T,_,D){this.value=T||[],this.extra=_||[],this._result=new i({element:this.value,extra:_},D),this.messages=this._result.messages}v.prototype.toExtra=function(){return new v(null,w(this.extra,this.value),this.messages)},v.prototype.insertExtra=function(){var T=this.extra;return T&&T.length?new v(w(this.value,T),null,this.messages):this},v.prototype.map=function(T){var _=this._result.map(function(D){return T(D.element)});return new v(_.value,this.extra,_.messages)},v.prototype.flatMap=function(T){var _=this._result.flatMap(function(D){return T(D.element)._result});return new v(_.value.element,w(this.extra,_.value.extra),_.messages)},v.map=function(T,_,D){return new v(D(T.value,_.value),w(T.extra,_.extra),T.messages.concat(_.messages))};function x(T){var _=i.combine(e.pluck(T,"_result"));return new v(e.flatten(e.pluck(_.value,"element")),e.filter(e.flatten(e.pluck(_.value,"extra")),k),_.messages)}function w(T,_){return e.flatten([T,_])}function k(T){return T}return w2}var $_={},jZ;function sat(){if(jZ)return $_;jZ=1,$_.DocumentXmlReader=n;var r=Tp(),e=Jc().Result;function n(i){var o=i.bodyReader;function a(s){var l=s.first("w:body");if(l==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var c=o.readXmlElements(l.children).map(function(u){return new r.Document(u,{notes:i.notes,comments:i.comments})});return new e(c.value,c.messages)}return{convertXmlToDocument:a}}return $_}var X1={},FZ;function lat(){if(FZ)return X1;FZ=1,X1.readRelationships=r,X1.defaultValue=new e([]),X1.Relationships=e;function r(n){var i=[];return n.children.forEach(function(o){if(o.name==="relationships:Relationship"){var a={relationshipId:o.attributes.Id,target:o.attributes.Target,type:o.attributes.Type};i.push(a)}}),new e(i)}function e(n){var i={};n.forEach(function(a){i[a.relationshipId]=a.target});var o={};return n.forEach(function(a){o[a.type]||(o[a.type]=[]),o[a.type].push(a.target)}),{findTargetByRelationshipId:function(a){return i[a]},findTargetsByType:function(a){return o[a]||[]}}}return X1}var T2={},HZ;function cat(){if(HZ)return T2;HZ=1,T2.readContentTypesFromXml=e;var r={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};T2.defaultContentTypes=n({},{});function e(i){var o={},a={};return i.children.forEach(function(s){if(s.name==="content-types:Default"&&(o[s.attributes.Extension]=s.attributes.ContentType),s.name==="content-types:Override"){var l=s.attributes.PartName;l.charAt(0)==="/"&&(l=l.substring(1)),a[l]=s.attributes.ContentType}}),n(a,o)}function n(i,o){return{findContentType:function(a){var s=i[a];if(s)return s;var l=a.split("."),c=l[l.length-1];if(o.hasOwnProperty(c))return o[c];var u=r[c.toLowerCase()];return u?"image/"+u:null}}}return T2}var Y1={},WZ;function uat(){if(WZ)return Y1;WZ=1;var r=Fr;Y1.readNumberingXml=n,Y1.Numbering=e,Y1.defaultNumbering=new e({},{});function e(s,l,c){var u=r.flatten(r.values(l).map(function(m){return r.values(m.levels)})),d=r.indexBy(u.filter(function(m){return m.paragraphStyleId!=null}),"paragraphStyleId");function h(m,b){var g=s[m];if(g){var v=l[g.abstractNumId];if(v){if(v.numStyleLink==null)return l[g.abstractNumId].levels[b];var x=c.findNumberingStyleById(v.numStyleLink);return h(x.numId,b)}else return null}else return null}function f(m){return d[m]||null}return{findLevel:h,findLevelByParagraphStyleId:f}}function n(s,l){if(!l||!l.styles)throw new Error("styles is missing");var c=i(s),u=a(s);return new e(u,c,l.styles)}function i(s){var l={};return s.getElementsByTagName("w:abstractNum").forEach(function(c){var u=c.attributes["w:abstractNumId"];l[u]=o(c)}),l}function o(s){var l={};s.getElementsByTagName("w:lvl").forEach(function(u){var d=u.attributes["w:ilvl"],h=u.firstOrEmpty("w:numFmt").attributes["w:val"],f=u.firstOrEmpty("w:pStyle").attributes["w:val"];l[d]={isOrdered:h!=="bullet",level:d,paragraphStyleId:f}});var c=s.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:l,numStyleLink:c}}function a(s){var l={};return s.getElementsByTagName("w:num").forEach(function(c){var u=c.attributes["w:numId"],d=c.first("w:abstractNumId").attributes["w:val"];l[u]={abstractNumId:d}}),l}return Y1}var Z1={},VZ;function dat(){if(VZ)return Z1;VZ=1,Z1.readStylesXml=e,Z1.Styles=r,Z1.defaultStyles=new r({},{});function r(a,s,l,c){return{findParagraphStyleById:function(u){return a[u]},findCharacterStyleById:function(u){return s[u]},findTableStyleById:function(u){return l[u]},findNumberingStyleById:function(u){return c[u]}}}r.EMPTY=new r({},{},{},{});function e(a){var s={},l={},c={},u={},d={paragraph:s,character:l,table:c};return a.getElementsByTagName("w:style").forEach(function(h){var f=n(h);if(f.type==="numbering")u[f.styleId]=o(h);else{var m=d[f.type];m&&(m[f.styleId]=f)}}),new r(s,l,c,u)}function n(a){var s=a.attributes["w:type"],l=a.attributes["w:styleId"],c=i(a);return{type:s,styleId:l,name:c}}function i(a){var s=a.first("w:name");return s?s.attributes["w:val"]:null}function o(a){var s=a.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{numId:s}}return Z1}var Dm={},qZ;function hat(){if(qZ)return Dm;qZ=1;var r=Tp(),e=Jc().Result;Dm.createFootnotesReader=n.bind(Dm,"footnote"),Dm.createEndnotesReader=n.bind(Dm,"endnote");function n(i,o){function a(c){return e.combine(c.getElementsByTagName("w:"+i).filter(s).map(l))}function s(c){var u=c.attributes["w:type"];return u!=="continuationSeparator"&&u!=="separator"}function l(c){var u=c.attributes["w:id"];return o.readXmlElements(c.children).map(function(d){return r.Note({noteType:i,noteId:u,body:d})})}return a}return Dm}var z_={},GZ;function fat(){if(GZ)return z_;GZ=1;var r=Tp(),e=Jc().Result;function n(i){function o(s){return e.combine(s.getElementsByTagName("w:comment").map(a))}function a(s){var l=s.attributes["w:id"];function c(u){return(s.attributes[u]||"").trim()||null}return i.readXmlElements(s.children).map(function(u){return r.comment({commentId:l,body:u,authorName:c("w:author"),authorInitials:c("w:initials")})})}return o}return z_.createCommentsReader=n,z_}var L_={},KZ;function pat(){if(KZ)return L_;KZ=1;var r=dh();L_.Files=e;function e(){function n(i){return r.reject(new Error("could not open external image: '"+i+`'
cannot open linked files from a web browser`))}return{read:n}}return L_}var XZ;function mat(){if(XZ)return p2;XZ=1,p2.read=b,p2._findPartPaths=g;var r=dh(),e=Tp(),n=Jc().Result,i=k0e(),o=nat().readXmlFromZipFile,a=aat().createBodyReader,s=sat().DocumentXmlReader,l=lat(),c=cat(),u=uat(),d=dat(),h=hat(),f=fat(),m=pat().Files;function b(O,W){return W=W||{},r.props({contentTypes:_(O),partPaths:g(O),docxFile:O,files:W.path?m.relativeToFile(W.path):new m(null)}).also(function(Z){return{styles:I(O,Z.partPaths.styles)}}).also(function(Z){return{numbering:D(O,Z.partPaths.numbering,Z.styles)}}).also(function(Z){return{footnotes:k(Z.partPaths.footnotes,Z,function($,F){return F?h.createFootnotesReader($)(F):new n([])}),endnotes:k(Z.partPaths.endnotes,Z,function($,F){return F?h.createEndnotesReader($)(F):new n([])}),comments:k(Z.partPaths.comments,Z,function($,F){return F?f.createCommentsReader($)(F):new n([])})}}).also(function(Z){return{notes:Z.footnotes.flatMap(function($){return Z.endnotes.map(function(F){return new e.Notes($.concat(F))})})}}).then(function(Z){return k(Z.partPaths.mainDocument,Z,function($,F){return Z.notes.flatMap(function(A){return Z.comments.flatMap(function(Q){var H=new s({bodyReader:$,notes:A,comments:Q});return H.convertXmlToDocument(F)})})})})}function g(O){return L(O).then(function(W){var Z=v({docxFile:O,relationships:W,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!O.exists(Z))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return w({filename:T(Z),readElement:l.readRelationships,defaultValue:l.defaultValue})(O).then(function($){function F(A){return v({docxFile:O,relationships:$,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+A,basePath:i.splitPath(Z).dirname,fallbackPath:"word/"+A+".xml"})}return{mainDocument:Z,comments:F("comments"),endnotes:F("endnotes"),footnotes:F("footnotes"),numbering:F("numbering"),styles:F("styles")}})})}function v(O){var W=O.docxFile,Z=O.relationships,$=O.relationshipType,F=O.basePath,A=O.fallbackPath,Q=Z.findTargetsByType($),H=Q.map(function(ne){return x(i.joinPath(F,ne),"/")}),G=H.filter(function(ne){return W.exists(ne)});return G.length===0?A:G[0]}function x(O,W){return O.substring(0,W.length)===W?O.substring(W.length):O}function w(O){return function(W){return o(W,O.filename).then(function(Z){return Z?O.readElement(Z):O.defaultValue})}}function k(O,W,Z){var $=w({filename:T(O),readElement:l.readRelationships,defaultValue:l.defaultValue});return $(W.docxFile).then(function(F){var A=new a({relationships:F,contentTypes:W.contentTypes,docxFile:W.docxFile,numbering:W.numbering,styles:W.styles,files:W.files});return o(W.docxFile,O).then(function(Q){return Z(A,Q)})})}function T(O){var W=i.splitPath(O);return i.joinPath(W.dirname,"_rels",W.basename+".rels")}var _=w({filename:"[Content_Types].xml",readElement:c.readContentTypesFromXml,defaultValue:c.defaultContentTypes});function D(O,W,Z){return w({filename:W,readElement:function($){return u.readNumberingXml($,{styles:Z})},defaultValue:u.defaultNumbering})(O)}function I(O,W){return w({filename:W,readElement:d.readStylesXml,defaultValue:d.defaultStyles})(O)}var L=w({filename:"_rels/.rels",readElement:l.readRelationships,defaultValue:l.defaultValue});return p2}var E2={},YZ;function gat(){if(YZ)return E2;YZ=1;var r=Fr,e=dh(),n=vI();E2.writeStyleMap=s,E2.readStyleMap=d;var i="http://schemas.zwobble.org/mammoth/style-map",o="mammoth/style-map",a="/"+o;function s(h,f){return h.write(o,f),l(h).then(function(){return c(h)})}function l(h){var f="word/_rels/document.xml.rels",m="http://schemas.openxmlformats.org/package/2006/relationships",b="{"+m+"}Relationship";return h.read(f,"utf8").then(n.readString).then(function(g){var v=g.children;u(v,b,"Id",{Id:"rMammothStyleMap",Type:i,Target:a});var x={"":m};return h.write(f,n.writeString(g,x))})}function c(h){var f="[Content_Types].xml",m="http://schemas.openxmlformats.org/package/2006/content-types",b="{"+m+"}Override";return h.read(f,"utf8").then(n.readString).then(function(g){var v=g.children;u(v,b,"PartName",{PartName:a,ContentType:"text/prs.mammoth.style-map"});var x={"":m};return h.write(f,n.writeString(g,x))})}function u(h,f,m,b){var g=r.find(h,function(v){return v.name===f&&v.attributes[m]===b[m]});g?g.attributes=b:h.push(n.element(f,b))}function d(h){return h.exists(o)?h.read(o,"utf8"):e.resolve(null)}return E2}var C2={},Vh={},dc={},Vu={},ZZ;function A0e(){if(ZZ)return Vu;ZZ=1;var r=F6();function e(c,u,d){return i(r.element(c,u,{fresh:!1}),d)}function n(c,u,d){var h=r.element(c,u,{fresh:!0});return i(h,d)}function i(c,u){return{type:"element",tag:c,children:u||[]}}function o(c){return{type:"text",value:c}}var a={type:"forceWrite"};Vu.freshElement=n,Vu.nonFreshElement=e,Vu.elementWithTag=i,Vu.text=o,Vu.forceWrite=a;var s={br:!0,hr:!0,img:!0,input:!0};function l(c){return c.children.length===0&&s[c.tag.tagName]}return Vu.isVoidElement=l,Vu}var U_,JZ;function yat(){if(JZ)return U_;JZ=1;var r=Fr,e=A0e();function n(g){return i(u(g))}function i(g){var v=[];return g.map(o).forEach(function(x){c(v,x)}),v}function o(g){return a[g.type](g)}var a={element:s,text:l,forceWrite:l};function s(g){return e.elementWithTag(g.tag,i(g.children))}function l(g){return g}function c(g,v){var x=g[g.length-1];v.type==="element"&&!v.tag.fresh&&x&&x.type==="element"&&v.tag.matchesElement(x.tag)?(v.tag.separator&&c(x.children,e.text(v.tag.separator)),v.children.forEach(function(w){c(x.children,w)})):g.push(v)}function u(g){return d(g,function(v){return h[v.type](v)})}function d(g,v){return r.flatten(r.map(g,v),!0)}var h={element:m,text:b,forceWrite:f};function f(g){return[g]}function m(g){var v=u(g.children);return v.length===0&&!e.isVoidElement(g)?[]:[e.elementWithTag(g.tag,v)]}function b(g){return g.value.length===0?[]:[g]}return U_=n,U_}var QZ;function j6(){if(QZ)return dc;QZ=1;var r=A0e();dc.freshElement=r.freshElement,dc.nonFreshElement=r.nonFreshElement,dc.elementWithTag=r.elementWithTag,dc.text=r.text,dc.forceWrite=r.forceWrite,dc.simplify=yat();function e(s,l){l.forEach(function(c){n(s,c)})}function n(s,l){i[l.type](s,l)}var i={element:o,text:a,forceWrite:function(){}};function o(s,l){r.isVoidElement(l)?s.selfClosing(l.tag.tagName,l.tag.attributes):(s.open(l.tag.tagName,l.tag.attributes),e(s,l.children),s.close(l.tag.tagName))}function a(s,l){s.text(l.value)}return dc.write=e,dc}var eJ;function F6(){if(eJ)return Vh;eJ=1;var r=Fr,e=j6();Vh.topLevelElement=n,Vh.elements=i,Vh.element=a;function n(l,c){return i([a(l,c,{fresh:!0})])}function i(l){return new o(l.map(function(c){return r.isString(c)?a(c):c}))}function o(l){this._elements=l}o.prototype.wrap=function(l){for(var c=l(),u=this._elements.length-1;u>=0;u--)c=this._elements[u].wrapNodes(c);return c};function a(l,c,u){return u=u||{},new s(l,c,u)}function s(l,c,u){var d={};r.isArray(l)?(l.forEach(function(h){d[h]=!0}),l=l[0]):d[l]=!0,this.tagName=l,this.tagNames=d,this.attributes=c||{},this.fresh=u.fresh,this.separator=u.separator}return s.prototype.matchesElement=function(l){return this.tagNames[l.tagName]&&r.isEqual(this.attributes||{},l.attributes||{})},s.prototype.wrap=function(l){return this.wrapNodes(l())},s.prototype.wrapNodes=function(l){return[e.elementWithTag(this,l)]},Vh.empty=i([]),Vh.ignore={wrap:function(){return[]}},Vh}var tJ={},nJ;function D0e(){return nJ||(nJ=1,function(r){var e=Fr,n=dh(),i=j6();r.imgElement=o;function o(a){return function(s,l){return n.when(a(s)).then(function(c){var u={};return s.altText&&(u.alt=s.altText),e.extend(u,c),[i.freshElement("img",u)]})}}r.inline=r.imgElement,r.dataUri=o(function(a){return a.readAsBase64String().then(function(s){return{src:"data:"+a.contentType+";base64,"+s}})})}(tJ)),tJ}var B_={},j_={},rJ;function bat(){if(rJ)return j_;rJ=1;var r=Fr;j_.writer=e;function e(l){return l=l||{},l.prettyPrint?i():o()}var n={div:!0,p:!0,ul:!0,li:!0};function i(){var l=0,c="  ",u=[],d=!0,h=!1,f=o();function m(_,D){n[_]&&k(),u.push(_),f.open(_,D),n[_]&&l++,d=!1}function b(_){n[_]&&(l--,k()),u.pop(),f.close(_)}function g(_){w();var D=T()?_:_.replace(`
`,`
`+c);f.text(D)}function v(_,D){k(),f.selfClosing(_,D)}function x(){return u.length===0||n[u[u.length-1]]}function w(){h||(k(),h=!0)}function k(){if(h=!1,!d&&x()&&!T()){f._append(`
`);for(var _=0;_<l;_++)f._append(c)}}function T(){return r.some(u,function(_){return _==="pre"})}return{asString:f.asString,open:m,close:b,text:g,selfClosing:v}}function o(){var l=[];function c(g,v){var x=h(v);l.push("<"+g+x+">")}function u(g){l.push("</"+g+">")}function d(g,v){var x=h(v);l.push("<"+g+x+" />")}function h(g){return r.map(g,function(v,x){return" "+x+'="'+s(v)+'"'}).join("")}function f(g){l.push(a(g))}function m(g){l.push(g)}function b(){return l.join("")}return{asString:b,open:c,close:u,text:f,selfClosing:d,_append:m}}function a(l){return l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function s(l){return l.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return j_}var F_={},iJ;function vat(){if(iJ)return F_;iJ=1;var r=Fr;function e(h){return n(h,h)}function n(h,f){return function(){return{start:h,end:f}}}function i(h){var f=h.href||"";return f?{start:"[",end:"]("+f+")",anchorPosition:"before"}:{}}function o(h){var f=h.src||"",m=h.alt||"";return f||m?{start:"!["+m+"]("+f+")"}:{}}function a(h){return function(f,m){return{start:m?`
`:"",end:m?"":`
`,list:{isOrdered:h.isOrdered,indent:m?m.indent+1:0,count:0}}}}function s(h,f,m){f=f||{indent:0,isOrdered:!1,count:0},f.count++,m.hasClosed=!1;var b=f.isOrdered?f.count+".":"-",g=c("	",f.indent)+b+" ";return{start:g,end:function(){if(!m.hasClosed)return m.hasClosed=!0,`
`}}}var l={p:n("",`

`),br:n("",`  
`),ul:a({isOrdered:!1}),ol:a({isOrdered:!0}),li:s,strong:e("__"),em:e("*"),a:i,img:o};(function(){for(var h=1;h<=6;h++)l["h"+h]=n(c("#",h)+" ",`

`)})();function c(h,f){return new Array(f+1).join(h)}function u(){var h=[],f=[],m=null,b={};function g(_,D){D=D||{};var I=l[_]||function(){return{}},L=I(D,m,b);f.push({end:L.end,list:m}),L.list&&(m=L.list);var O=L.anchorPosition==="before";O&&v(D),h.push(L.start||""),O||v(D)}function v(_){_.id&&h.push('<a id="'+_.id+'"></a>')}function x(_){var D=f.pop();m=D.list;var I=r.isFunction(D.end)?D.end():D.end;h.push(I||"")}function w(_,D){g(_,D),x()}function k(_){h.push(d(_))}function T(){return h.join("")}return{asString:T,open:g,close:x,text:k,selfClosing:w}}F_.writer=u;function d(h){return h.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}return F_}var oJ;function xat(){if(oJ)return B_;oJ=1;var r=bat(),e=vat();B_.writer=n;function n(i){return i=i||{},i.outputFormat==="markdown"?e.writer():r.writer(i)}return B_}var aJ;function wat(){if(aJ)return C2;aJ=1;var r=Fr,e=dh(),n=Tp(),i=F6(),o=Jc(),a=D0e(),s=j6(),l=xat();C2.DocumentConverter=c;function c(v){return{convertToHtml:function(x){var w=r.indexBy(x.type===n.types.document?x.comments:[],"commentId"),k=new u(v,w);return k.convertToHtml(x)}}}function u(v,x){var w=1,k=[],T=[];v=r.extend({ignoreEmptyParagraphs:!0},v);var _=v.idPrefix===void 0?"":v.idPrefix,D=v.ignoreEmptyParagraphs,I=i.topLevelElement("p"),L=v.styleMap||[];function O(M){var he=[],V=Z(M,he,{}),R=[];b(V,function(B){B.type==="deferred"&&R.push(B)});var N={};return e.mapSeries(R,function(B){return B.value().then(function(ue){N[B.id]=ue})}).then(function(){function B(ve){return m(ve,function(se){return se.type==="deferred"?N[se.id]:se.children?[r.extend({},se,{children:B(se.children)})]:[se]})}var ue=l.writer({prettyPrint:v.prettyPrint,outputFormat:v.outputFormat});return s.write(ue,s.simplify(B(V))),new o.Result(ue.asString(),he)})}function W(M,he,V){return m(M,function(R){return Z(R,he,V)})}function Z(M,he,V){if(!V)throw new Error("options not set");var R=Ee[M.type];return R?R(M,he,V):[]}function $(M,he,V){return F(M,he).wrap(function(){var R=W(M.children,he,V);return D?R:[s.forceWrite].concat(R)})}function F(M,he){var V=G(M);return V?V.to:(M.styleId&&he.push(f("paragraph",M)),I)}function A(M,he,V){var R=function(){return W(M.children,he,V)},N=[];if(M.highlight!==null){var B=H({type:"highlight",color:M.highlight});B&&N.push(B)}M.isSmallCaps&&N.push(Q("smallCaps")),M.isAllCaps&&N.push(Q("allCaps")),M.isStrikethrough&&N.push(Q("strikethrough","s")),M.isUnderline&&N.push(Q("underline")),M.verticalAlignment===n.verticalAlignment.subscript&&N.push(i.element("sub",{},{fresh:!1})),M.verticalAlignment===n.verticalAlignment.superscript&&N.push(i.element("sup",{},{fresh:!1})),M.isItalic&&N.push(Q("italic","em")),M.isBold&&N.push(Q("bold","strong"));var ue=i.empty,ve=G(M);return ve?ue=ve.to:M.styleId&&he.push(f("run",M)),N.push(ue),N.forEach(function(se){R=se.wrap.bind(se,R)}),R()}function Q(M,he){var V=H({type:M});return V||(he?i.element(he,{},{fresh:!1}):i.empty)}function H(M,he){var V=G(M);return V?V.to:he}function G(M){for(var he=0;he<L.length;he++)if(L[he].from.matches(M))return L[he]}function ne(M){return function(he,V){return e.attempt(function(){return M(he,V)}).caught(function(R){return V.push(o.error(R)),[]})}}function J(M){return X(M.noteType,M.noteId)}function ee(M){return j(M.noteType,M.noteId)}function X(M,he){return ae(M+"-"+he)}function j(M,he){return ae(M+"-ref-"+he)}function ae(M){return _+M}var re=i.elements([i.element("table",{},{fresh:!0})]);function de(M,he,V){return H(M,re).wrap(function(){return me(M,he,V)})}function me(M,he,V){var R=r.findIndex(M.children,function(ve){return!ve.type===n.types.tableRow||!ve.isHeader});R===-1&&(R=M.children.length);var N;if(R===0)N=W(M.children,he,r.extend({},V,{isTableHeader:!1}));else{var B=W(M.children.slice(0,R),he,r.extend({},V,{isTableHeader:!0})),ue=W(M.children.slice(R),he,r.extend({},V,{isTableHeader:!1}));N=[s.freshElement("thead",{},B),s.freshElement("tbody",{},ue)]}return[s.forceWrite].concat(N)}function K(M,he,V){var R=W(M.children,he,V);return[s.freshElement("tr",{},[s.forceWrite].concat(R))]}function q(M,he,V){var R=V.isTableHeader?"th":"td",N=W(M.children,he,V),B={};return M.colSpan!==1&&(B.colspan=M.colSpan.toString()),M.rowSpan!==1&&(B.rowspan=M.rowSpan.toString()),[s.freshElement(R,B,[s.forceWrite].concat(N))]}function be(M,he,V){return H(M,i.ignore).wrap(function(){var R=x[M.commentId],N=T.length+1,B="["+g(R)+N+"]";return T.push({label:B,comment:R}),[s.freshElement("a",{href:"#"+X("comment",M.commentId),id:j("comment",M.commentId)},[s.text(B)])]})}function pe(M,he,V){var R=M.label,N=M.comment,B=W(N.body,he,V).concat([s.nonFreshElement("p",{},[s.text(" "),s.freshElement("a",{href:"#"+j("comment",N.commentId)},[s.text("")])])]);return[s.freshElement("dt",{id:X("comment",N.commentId)},[s.text("Comment "+R)]),s.freshElement("dd",{},B)]}function ie(M,he,V){return le(M).wrap(function(){return[]})}function le(M){var he=G(M);return he?he.to:M.breakType==="line"?i.topLevelElement("br"):i.empty}var Ee={document:function(M,he,V){var R=W(M.children,he,V),N=k.map(function(ue){return M.notes.resolve(ue)}),B=W(N,he,V);return R.concat([s.freshElement("ol",{},B),s.freshElement("dl",{},m(T,function(ue){return pe(ue,he,V)}))])},paragraph:$,run:A,text:function(M,he,V){return[s.text(M.value)]},tab:function(M,he,V){return[s.text("	")]},hyperlink:function(M,he,V){var R=M.anchor?"#"+ae(M.anchor):M.href,N={href:R};M.targetFrame!=null&&(N.target=M.targetFrame);var B=W(M.children,he,V);return[s.nonFreshElement("a",N,B)]},checkbox:function(M){var he={type:"checkbox"};return M.checked&&(he.checked="checked"),[s.freshElement("input",he)]},bookmarkStart:function(M,he,V){var R=s.freshElement("a",{id:ae(M.name)},[s.forceWrite]);return[R]},noteReference:function(M,he,V){k.push(M);var R=s.freshElement("a",{href:"#"+J(M),id:ee(M)},[s.text("["+w+++"]")]);return[s.freshElement("sup",{},[R])]},note:function(M,he,V){var R=W(M.body,he,V),N=s.elementWithTag(i.element("p",{},{fresh:!1}),[s.text(" "),s.freshElement("a",{href:"#"+ee(M)},[s.text("")])]),B=R.concat([N]);return s.freshElement("li",{id:J(M)},B)},commentReference:be,comment:pe,image:h(ne(v.convertImage||a.dataUri)),table:de,tableRow:K,tableCell:q,break:ie};return{convertToHtml:O}}var d=1;function h(v){return function(x,w,k){return[{type:"deferred",id:d++,value:function(){return v(x,w,k)}}]}}function f(v,x){return o.warning("Unrecognised "+v+" style: '"+x.styleName+"' (Style ID: "+x.styleId+")")}function m(v,x){return r.flatten(v.map(x),!0)}function b(v,x){v.forEach(function(w){x(w),w.children&&b(w.children,x)})}var g=C2.commentAuthorLabel=function(v){return v.authorInitials||""};return C2}var H_={},sJ;function Sat(){if(sJ)return H_;sJ=1;var r=Tp();function e(n){if(n.type==="text")return n.value;if(n.type===r.types.tab)return"	";var i=n.type==="paragraph"?`

`:"";return(n.children||[]).map(e).join("")+i}return H_.convertElementToRawText=e,H_}var J1={},qs={},W_={},V_={exports:{}},lJ;function kat(){if(lJ)return V_.exports;lJ=1;var r=V_.exports=function(e,n){this._tokens=e,this._startIndex=n||0};return r.prototype.head=function(){return this._tokens[this._startIndex]},r.prototype.tail=function(e){return new r(this._tokens,this._startIndex+1)},r.prototype.toArray=function(){return this._tokens.slice(this._startIndex)},r.prototype.end=function(){return this._tokens[this._tokens.length-1]},r.prototype.to=function(e){var n=this.head().source,i=e.head()||e.end();return n.to(i.source)},V_.exports}var cJ;function Tat(){if(cJ)return W_;cJ=1;var r=kat();return W_.Parser=function(e){var n=function(i,o){return i(new r(o))};return{parseTokens:n}},W_}var uJ={},dJ={},hJ;function Eat(){return hJ||(hJ=1,function(r){r.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return r.none},flatMap:function(){return r.none},filter:function(){return r.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(i){return typeof i=="function"?i():i}r.some=function(i){return new n(i)};var n=function(i){this._value=i};n.prototype.value=function(){return this._value},n.prototype.isNone=function(){return!1},n.prototype.isSome=function(){return!0},n.prototype.map=function(i){return new n(i(this._value))},n.prototype.flatMap=function(i){return i(this._value)},n.prototype.filter=function(i){return i(this._value)?this:r.none},n.prototype.toArray=function(){return[this._value]},n.prototype.orElse=function(i){return this},n.prototype.valueOrElse=function(i){return this._value},r.isOption=function(i){return i===r.none||i instanceof n},r.fromNullable=function(i){return i==null?r.none:new n(i)}}(dJ)),dJ}var q_,fJ;function xI(){if(fJ)return q_;fJ=1,q_={failure:function(e,n){if(e.length<1)throw new Error("Failure must have errors");return new r({status:"failure",remaining:n,errors:e})},error:function(e,n){if(e.length<1)throw new Error("Failure must have errors");return new r({status:"error",remaining:n,errors:e})},success:function(e,n,i){return new r({status:"success",value:e,source:i,remaining:n,errors:[]})},cut:function(e){return new r({status:"cut",remaining:e,errors:[]})}};var r=function(e){this._value=e.value,this._status=e.status,this._hasValue=e.value!==void 0,this._remaining=e.remaining,this._source=e.source,this._errors=e.errors};return r.prototype.map=function(e){return this._hasValue?new r({value:e(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this},r.prototype.changeRemaining=function(e){return new r({value:this._value,status:this._status,remaining:e,source:this._source,errors:this._errors})},r.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"},r.prototype.isFailure=function(){return this._status==="failure"},r.prototype.isError=function(){return this._status==="error"},r.prototype.isCut=function(){return this._status==="cut"},r.prototype.value=function(){return this._value},r.prototype.remaining=function(){return this._remaining},r.prototype.source=function(){return this._source},r.prototype.errors=function(){return this._errors},q_}var G_={},pJ;function M0e(){if(pJ)return G_;pJ=1,G_.error=function(e){return new r(e)};var r=function(e){this.expected=e.expected,this.actual=e.actual,this._location=e.location};return r.prototype.describe=function(){var e=this._location?this._location.describe()+`:
`:"";return e+"Expected "+this.expected+`
but got `+this.actual},r.prototype.lineNumber=function(){return this._location.lineNumber()},r.prototype.characterNumber=function(){return this._location.characterNumber()},G_}var K_={},mJ;function Cat(){if(mJ)return K_;mJ=1,K_.fromArray=function(e){var n=0,i=function(){return n<e.length};return new r({hasNext:i,next:function(){if(i())return e[n++];throw new Error("No more elements")}})};var r=function(e){this._iterator=e};return r.prototype.map=function(e){var n=this._iterator;return new r({hasNext:function(){return n.hasNext()},next:function(){return e(n.next())}})},r.prototype.filter=function(e){var n=this._iterator,i=!1,o=!1,a,s=function(){if(!i)for(i=!0,o=!1;n.hasNext()&&!o;)a=n.next(),o=e(a)};return new r({hasNext:function(){return s(),o},next:function(){s();var l=a;return i=!1,l}})},r.prototype.first=function(){var e=this._iterator;return this._iterator.hasNext()?e.next():null},r.prototype.toArray=function(){for(var e=[];this._iterator.hasNext();)e.push(this._iterator.next());return e},K_}var gJ;function R0e(){return gJ||(gJ=1,function(r){var e=Fr,n=Eat(),i=xI(),o=M0e(),a=Cat();r.token=function(f,m){var b=m!==void 0;return function(g){var v=g.head();if(v&&v.name===f&&(!b||v.value===m))return i.success(v.value,g.tail(),v.source);var x=d({name:f,value:m});return h(g,x)}},r.tokenOfType=function(f){return r.token(f)},r.firstOf=function(f,m){return e.isArray(m)||(m=Array.prototype.slice.call(arguments,1)),function(b){return a.fromArray(m).map(function(g){return g(b)}).filter(function(g){return g.isSuccess()||g.isError()}).first()||h(b,f)}},r.then=function(f,m){return function(b){var g=f(b);return g.map||console.log(g),g.map(m)}},r.sequence=function(){var f=Array.prototype.slice.call(arguments,0),m=function(g){var v=e.foldl(f,function(w,k){var T=w.result,_=w.hasCut;if(!T.isSuccess())return{result:T,hasCut:_};var D=k(T.remaining());if(D.isCut())return{result:T,hasCut:!0};if(D.isSuccess()){var I;k.isCaptured?I=T.value().withValue(k,D.value()):I=T.value();var L=D.remaining(),O=g.to(L);return{result:i.success(I,L,O),hasCut:_}}else return _?{result:i.error(D.errors(),D.remaining()),hasCut:_}:{result:D,hasCut:_}},{result:i.success(new s,g),hasCut:!1}).result,x=g.to(v.remaining());return v.map(function(w){return w.withValue(r.sequence.source,x)})};m.head=function(){var g=e.find(f,b);return r.then(m,r.sequence.extract(g))},m.map=function(g){return r.then(m,function(v){return g.apply(this,v.toArray())})};function b(g){return g.isCaptured}return m};var s=function(f,m){this._values=f||{},this._valuesArray=m||[]};s.prototype.withValue=function(f,m){if(f.captureName&&f.captureName in this._values)throw new Error('Cannot add second value for capture "'+f.captureName+'"');var b=e.clone(this._values);b[f.captureName]=m;var g=this._valuesArray.concat([m]);return new s(b,g)},s.prototype.get=function(f){if(f.captureName in this._values)return this._values[f.captureName];throw new Error('No value for capture "'+f.captureName+'"')},s.prototype.toArray=function(){return this._valuesArray},r.sequence.capture=function(f,m){var b=function(){return f.apply(this,arguments)};return b.captureName=m,b.isCaptured=!0,b},r.sequence.extract=function(f){return function(m){return m.get(f)}},r.sequence.applyValues=function(f){var m=Array.prototype.slice.call(arguments,1);return function(b){var g=m.map(function(v){return b.get(v)});return f.apply(this,g)}},r.sequence.source={captureName:"source"},r.sequence.cut=function(){return function(f){return i.cut(f)}},r.optional=function(f){return function(m){var b=f(m);return b.isSuccess()?b.map(n.some):b.isFailure()?i.success(n.none,m):b}},r.zeroOrMoreWithSeparator=function(f,m){return u(f,m,!1)},r.oneOrMoreWithSeparator=function(f,m){return u(f,m,!0)};var l=r.zeroOrMore=function(f){return function(m){for(var b=[],g;(g=f(m))&&g.isSuccess();)m=g.remaining(),b.push(g.value());return g.isError()?g:i.success(b,m)}};r.oneOrMore=function(f){return r.oneOrMoreWithSeparator(f,c)};function c(f){return i.success(null,f)}var u=function(f,m,b){return function(g){var v=f(g);if(v.isSuccess()){var x=r.sequence.capture(f,"main"),w=l(r.then(r.sequence(m,x),r.sequence.extract(x))),k=w(v.remaining());return i.success([v.value()].concat(k.value()),k.remaining())}else return b||v.isError()?v:i.success([],g)}};r.leftAssociative=function(f,m,b){var g;b?g=[{func:b,rule:m}]:g=m,g=g.map(function(x){return r.then(x.rule,function(w){return function(k,T){return x.func(k,w,T)}})});var v=r.firstOf.apply(null,["rules"].concat(g));return function(x){var w=x,k=f(x);if(!k.isSuccess())return k;for(var T=v(k.remaining());T.isSuccess();){var _=T.remaining(),D=w.to(T.remaining()),I=T.value();k=i.success(I(k.value(),D),_,D),T=v(k.remaining())}return T.isError()?T:k}},r.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},r.nonConsuming=function(f){return function(m){return f(m).changeRemaining(m)}};var d=function(f){return f.value?f.name+' "'+f.value+'"':f.name};function h(f,m){var b,g=f.head();return g?b=o.error({expected:m,actual:d(g),location:g.source}):b=o.error({expected:m,actual:"end of tokens"}),i.failure([b],f)}}(uJ)),uJ}var X_={exports:{}},yJ;function N0e(){if(yJ)return X_.exports;yJ=1,X_.exports=function(e,n){var i={asString:function(){return e},range:function(o,a){return new r(e,n,o,a)}};return i};var r=function(e,n,i,o){this._string=e,this._description=n,this._startIndex=i,this._endIndex=o};return r.prototype.to=function(e){return new r(this._string,this._description,this._startIndex,e._endIndex)},r.prototype.describe=function(){var e=this._position(),n=this._description?this._description+`
`:"";return n+"Line number: "+e.lineNumber+`
Character number: `+e.characterNumber},r.prototype.lineNumber=function(){return this._position().lineNumber},r.prototype.characterNumber=function(){return this._position().characterNumber},r.prototype._position=function(){for(var e=this,n=0,i=function(){return e._string.indexOf(`
`,n)},o=1;i()!==-1&&i()<this._startIndex;)n=i()+1,o+=1;var a=this._startIndex-n+1;return{lineNumber:o,characterNumber:a}},X_.exports}var bJ,vJ;function O0e(){return vJ||(vJ=1,bJ=function(r,e,n){this.name=r,this.value=e,n&&(this.source=n)}),bJ}var xJ={},wJ;function _at(){return wJ||(wJ=1,function(r){var e=R0e(),n=xI();r.parser=function(a,s,l){var c={rule:f,leftAssociative:m,rightAssociative:b},u=new i(l.map(h)),d=e.firstOf(a,s);function h(x){return{name:x.name,rule:o(x.ruleBuilder.bind(null,c))}}function f(){return g(u)}function m(x){return g(u.untilExclusive(x))}function b(x){return g(u.untilInclusive(x))}function g(x){return v.bind(null,x)}function v(x,w){var k=d(w);return k.isSuccess()?x.apply(k):k}return c};function i(a){function s(h){return new i(a.slice(0,c().indexOf(h)))}function l(h){return new i(a.slice(0,c().indexOf(h)+1))}function c(){return a.map(function(h){return h.name})}function u(h){for(var f,m;;)if(f=d(h.remaining()),f.isSuccess())m=h.source().to(f.source()),h=n.success(f.value()(h.value(),m),f.remaining(),m);else return f.isFailure()?h:f}function d(h){return e.firstOf("infix",a.map(function(f){return f.rule}))(h)}return{apply:u,untilExclusive:s,untilInclusive:l}}r.infix=function(a,s){function l(c){return r.infix(a,function(u){var d=s(u);return function(h){var f=d(h);return f.map(function(m){return function(b,g){return c(b,m,g)}})}})}return{name:a,ruleBuilder:s,map:l}};var o=function(a){var s;return function(l){return s||(s=a()),s(l)}}}(xJ)),xJ}var Y_={},SJ;function Aat(){if(SJ)return Y_;SJ=1;var r=O0e(),e=N0e();Y_.RegexTokeniser=n;function n(i){i=i.map(function(l){return{name:l.name,regex:new RegExp(l.regex.source,"g")}});function o(l,c){for(var u=new e(l,c),d=0,h=[];d<l.length;){var f=a(l,d,u);d=f.endIndex,h.push(f.token)}return h.push(s(l,u)),h}function a(l,c,u){for(var d=0;d<i.length;d++){var h=i[d].regex;h.lastIndex=c;var f=h.exec(l);if(f){var b=c+f[0].length;if(f.index===c&&b>c){var m=f[1],g=new r(i[d].name,m,u.range(c,b));return{token:g,endIndex:b}}}}var b=c+1,g=new r("unrecognisedCharacter",l.substring(c,b),u.range(c,b));return{token:g,endIndex:b}}function s(l,c){return new r("end",null,c.range(l.length,l.length))}return{tokenise:o}}return Y_}var kJ;function P0e(){return kJ||(kJ=1,qs.Parser=Tat().Parser,qs.rules=R0e(),qs.errors=M0e(),qs.results=xI(),qs.StringSource=N0e(),qs.Token=O0e(),qs.bottomUp=_at(),qs.RegexTokeniser=Aat().RegexTokeniser,qs.rule=function(r){var e;return function(n){return e||(e=r()),e(n)}}),qs}var si={},TJ;function Dat(){if(TJ)return si;TJ=1,si.paragraph=r,si.run=e,si.table=n,si.bold=new o("bold"),si.italic=new o("italic"),si.underline=new o("underline"),si.strikethrough=new o("strikethrough"),si.allCaps=new o("allCaps"),si.smallCaps=new o("smallCaps"),si.highlight=i,si.commentReference=new o("commentReference"),si.lineBreak=new s({breakType:"line"}),si.pageBreak=new s({breakType:"page"}),si.columnBreak=new s({breakType:"column"}),si.equalTo=c,si.startsWith=u;function r(f){return new o("paragraph",f)}function e(f){return new o("run",f)}function n(f){return new o("table",f)}function i(f){return new a(f)}function o(f,m){m=m||{},this._elementType=f,this._styleId=m.styleId,this._styleName=m.styleName,m.list&&(this._listIndex=m.list.levelIndex,this._listIsOrdered=m.list.isOrdered)}o.prototype.matches=function(f){return f.type===this._elementType&&(this._styleId===void 0||f.styleId===this._styleId)&&(this._styleName===void 0||f.styleName&&this._styleName.operator(this._styleName.operand,f.styleName))&&(this._listIndex===void 0||l(f,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===f.breakType)};function a(f){f=f||{},this._color=f.color}a.prototype.matches=function(f){return f.type==="highlight"&&(this._color===void 0||f.color===this._color)};function s(f){f=f||{},this._breakType=f.breakType}s.prototype.matches=function(f){return f.type==="break"&&(this._breakType===void 0||f.breakType===this._breakType)};function l(f,m,b){return f.numbering&&f.numbering.level==m&&f.numbering.isOrdered==b}function c(f){return{operator:d,operand:f}}function u(f){return{operator:h,operand:f}}function d(f,m){return f.toUpperCase()===m.toUpperCase()}function h(f,m){return m.toUpperCase().indexOf(f.toUpperCase())===0}return si}var Z_={},EJ;function Mat(){if(EJ)return Z_;EJ=1;var r=P0e(),e=r.RegexTokeniser;Z_.tokenise=i;var n="'((?:\\\\.|[^'])*)";function i(o){var a="(?:[a-zA-Z\\-_]|\\\\.)",s=new e([{name:"identifier",regex:new RegExp("("+a+"(?:"+a+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(n+"'")},{name:"unterminated-string",regex:new RegExp(n)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return s.tokenise(o)}return Z_}var CJ;function Rat(){if(CJ)return J1;CJ=1;var r=Fr,e=P0e(),n=Dat(),i=F6(),o=Mat().tokenise,a=Jc();J1.readHtmlPath=d,J1.readDocumentMatcher=c,J1.readStyle=s;function s(L){return T(I,L)}function l(){return e.rules.sequence(e.rules.sequence.capture(u()),e.rules.tokenOfType("whitespace"),e.rules.tokenOfType("arrow"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("whitespace"),e.rules.sequence.capture(h())).head())),e.rules.tokenOfType("end")).map(function(L,O){return{from:L,to:O.valueOrElse(i.empty)}})}function c(L){return T(u(),L)}function u(){var L=e.rules.sequence,O=function(pe,ie){return e.rules.then(e.rules.token("identifier",pe),function(){return ie})},W=O("p",n.paragraph),Z=O("r",n.run),$=e.rules.firstOf("p or r or table",W,Z),F=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(f)).map(function(pe){return{styleId:pe}}),A=e.rules.firstOf("style name matcher",e.rules.then(e.rules.sequence(e.rules.tokenOfType("equals"),e.rules.sequence.cut(),e.rules.sequence.capture(b)).head(),function(pe){return{styleName:n.equalTo(pe)}}),e.rules.then(e.rules.sequence(e.rules.tokenOfType("startsWith"),e.rules.sequence.cut(),e.rules.sequence.capture(b)).head(),function(pe){return{styleName:n.startsWith(pe)}})),Q=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","style-name"),e.rules.sequence.capture(A),e.rules.tokenOfType("close-square-bracket")).head(),H=e.rules.firstOf("list type",O("ordered-list",{isOrdered:!0}),O("unordered-list",{isOrdered:!1})),G=L(e.rules.tokenOfType("colon"),L.capture(H),L.cut(),e.rules.tokenOfType("open-paren"),L.capture(m),e.rules.tokenOfType("close-paren")).map(function(pe,ie){return{list:{isOrdered:pe.isOrdered,levelIndex:ie-1}}});function ne(pe){var ie=e.rules.firstOf.apply(e.rules.firstOf,["matcher suffix"].concat(pe)),le=e.rules.zeroOrMore(ie);return e.rules.then(le,function(Ee){var M={};return Ee.forEach(function(he){r.extend(M,he)}),M})}var J=L(L.capture($),L.capture(ne([F,Q,G]))).map(function(pe,ie){return pe(ie)}),ee=L(e.rules.token("identifier","table"),L.capture(ne([F,Q]))).map(function(pe){return n.table(pe)}),X=O("b",n.bold),j=O("i",n.italic),ae=O("u",n.underline),re=O("strike",n.strikethrough),de=O("all-caps",n.allCaps),me=O("small-caps",n.smallCaps),K=L(e.rules.token("identifier","highlight"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","color"),e.rules.tokenOfType("equals"),e.rules.sequence.capture(b),e.rules.tokenOfType("close-square-bracket")).head()))).map(function(pe){return n.highlight({color:pe.valueOrElse(void 0)})}),q=O("comment-reference",n.commentReference),be=L(e.rules.token("identifier","br"),L.cut(),e.rules.tokenOfType("open-square-bracket"),e.rules.token("identifier","type"),e.rules.tokenOfType("equals"),L.capture(b),e.rules.tokenOfType("close-square-bracket")).map(function(pe){switch(pe){case"line":return n.lineBreak;case"page":return n.pageBreak;case"column":return n.columnBreak}});return e.rules.firstOf("element type",J,ee,X,j,ae,re,de,me,K,q,be)}function d(L){return T(h(),L)}function h(){var L=e.rules.sequence.capture,O=e.rules.tokenOfType("whitespace"),W=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","fresh"))),function(A){return A.map(function(){return!0}).valueOrElse(!1)}),Z=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","separator"),e.rules.tokenOfType("open-paren"),L(b),e.rules.tokenOfType("close-paren")).head()),function(A){return A.valueOrElse("")}),$=e.rules.oneOrMoreWithSeparator(f,e.rules.tokenOfType("choice")),F=e.rules.sequence(L($),L(e.rules.zeroOrMore(k)),L(W),L(Z)).map(function(A,Q,H,G){var ne={},J={};return Q.forEach(function(ee){ee.append&&ne[ee.name]?ne[ee.name]+=" "+ee.value:ne[ee.name]=ee.value}),H&&(J.fresh=!0),G&&(J.separator=G),i.element(A,ne,J)});return e.rules.firstOf("html path",e.rules.then(e.rules.tokenOfType("bang"),function(){return i.ignore}),e.rules.then(e.rules.zeroOrMoreWithSeparator(F,e.rules.sequence(O,e.rules.tokenOfType("gt"),O)),i.elements))}var f=e.rules.then(e.rules.tokenOfType("identifier"),v),m=e.rules.tokenOfType("integer"),b=e.rules.then(e.rules.tokenOfType("string"),v),g={n:`
`,r:"\r",t:"	"};function v(L){return L.replace(/\\(.)/g,function(O,W){return g[W]||W})}var x=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.sequence.capture(f),e.rules.tokenOfType("equals"),e.rules.sequence.capture(b),e.rules.tokenOfType("close-square-bracket")).map(function(L,O){return{name:L,value:O,append:!1}}),w=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(f)).map(function(L){return{name:"class",value:L,append:!0}}),k=e.rules.firstOf("attribute or class",x,w);function T(L,O){var W=o(O),Z=e.Parser(),$=Z.parseTokens(L,W);return $.isSuccess()?a.success($.value()):new a.Result(null,[a.warning(_(O,$))])}function _(L,O){return"Did not understand this style mapping, so ignored it: "+L+`
`+O.errors().map(D).join(`
`)}function D(L){return"Error was at character number "+L.characterNumber()+": Expected "+L.expected+" but got "+L.actual}var I=l();return J1}var Q1={},_J;function Nat(){if(_J)return Q1;_J=1,Q1.readOptions=i;var r=Fr,e=Q1._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh"],n=Q1._standardOptions={transformDocument:a,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function i(s){return s=s||{},r.extend({},n,s,{customStyleMap:o(s.styleMap),readStyleMap:function(){var l=this.customStyleMap;return this.includeEmbeddedStyleMap&&(l=l.concat(o(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(l=l.concat(e)),l}})}function o(s){return s?r.isString(s)?s.split(`
`).map(function(l){return l.trim()}).filter(function(l){return l!==""&&l.charAt(0)!=="#"}):s:[]}function a(s){return s}return Q1}var J_={},AJ;function Oat(){if(AJ)return J_;AJ=1;var r=dh(),e=k0e();J_.openZip=n;function n(i){return i.arrayBuffer?r.resolve(e.openArrayBuffer(i.arrayBuffer)):r.reject(new Error("Could not find file in options"))}return J_}var qh={},DJ;function Pat(){if(DJ)return qh;DJ=1;var r=Fr;qh.paragraph=e,qh.run=n,qh._elements=o,qh.getDescendantsOfType=a,qh.getDescendants=s;function e(c){return i("paragraph",c)}function n(c){return i("run",c)}function i(c,u){return o(function(d){return d.type===c?u(d):d})}function o(c){return function u(d){if(d.children){var h=r.map(d.children,u);d=r.extend(d,{children:h})}return c(d)}}function a(c,u){return s(c).filter(function(d){return d.type===u})}function s(c){var u=[];return l(c,function(d){u.push(d)}),u}function l(c,u){c.children&&c.children.forEach(function(d){l(d,u),u(d)})}return qh}var Q_={},MJ;function Iat(){if(MJ)return Q_;MJ=1;var r=F6(),e=j6();Q_.element=n;function n(i){return function(o){return e.elementWithTag(r.element(i),[o])}}return Q_}var RJ;function $at(){if(RJ)return Ia;RJ=1;var r=Fr,e=mat(),n=gat(),i=wat().DocumentConverter,o=Sat().convertElementToRawText,a=Rat().readStyle,s=Nat().readOptions,l=Oat(),c=Jc().Result;Ia.convertToHtml=u,Ia.convertToMarkdown=d,Ia.convert=h,Ia.extractRawText=g,Ia.images=D0e(),Ia.transforms=Pat(),Ia.underline=Iat(),Ia.embedStyleMap=v,Ia.readEmbeddedStyleMap=f;function u(x,w){return h(x,w)}function d(x,w){var k=Object.create(w||{});return k.outputFormat="markdown",h(x,k)}function h(x,w){return w=s(w),l.openZip(x).tap(function(k){return n.readStyleMap(k).then(function(T){w.embeddedStyleMap=T})}).then(function(k){return e.read(k,x).then(function(T){return T.map(w.transformDocument)}).then(function(T){return m(T,w)})})}function f(x){return l.openZip(x).then(n.readStyleMap)}function m(x,w){var k=b(w.readStyleMap()),T=r.extend({},w,{styleMap:k.value}),_=new i(T);return x.flatMapThen(function(D){return k.flatMapThen(function(I){return _.convertToHtml(D)})})}function b(x){return c.combine((x||[]).map(a)).map(function(w){return w.filter(function(k){return!!k})})}function g(x){return l.openZip(x).then(e.read).then(function(w){return w.map(o)})}function v(x,w){return l.openZip(x).tap(function(k){return n.writeStyleMap(k,w)}).then(function(k){return k.toArrayBuffer()}).then(function(k){return{toArrayBuffer:function(){return k},toBuffer:function(){return Buffer.from(k)}}})}return Ia.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)},Ia}var zat=$at();const Lat=nO(zat);function Uat(r,e){const n=atob(r.split(",")[1]),i=Array.from({length:n.length});for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);const o=new Uint8Array(i);return new Blob([o],{type:e})}function Bat(r,e){return new File([r],e,{type:r.type})}function jat(r){const{toast:e}=gle(),{t:n}=Cn(),[i,o]=P.useState(!1),a=P.useRef(null);function s(){var h;(h=a.current)==null||h.click()}function l(h){const f=h.target.files[0];if(f){if(f.size>r.limit){e({variant:"destructive",title:n("editor.importWord.limitSize")});return}u(f)}}async function c(h){var f;const m=new DOMParser().parseFromString(h,"text/html"),b=m.querySelectorAll("img");if(b.length===0)return m.body.innerHTML;if(lle(r.editor,"image")){const g=(f=r.editor.extensionManager.extensions.find(v=>v.name==="importWord"))==null?void 0:f.options;if(g&&typeof g.upload=="function"){const v=[];for(const w of b){const k=w.getAttribute("src"),T=Uat(k,"image/jpeg"),_=Bat(T,"image.jpeg");v.push(_)}const x=await g.upload(v);for(const[w,k]of b.entries()){k.setAttribute("src",x[w].src);const T=k.parentElement;(T==null?void 0:T.tagName)==="P"&&(T.insertAdjacentElement("beforebegin",k),!T.hasChildNodes()&&T.textContent===""&&T.remove())}return m.body.innerHTML}else return console.warn("Image Upload method found, skip image conversion"),m.body.innerHTML}else return console.error("Image extension not found, unable to convert image"),m.body.innerHTML}async function u(h){o(!0);try{if(r.convert){const f=await r.convert(h);d(f)}else{const f=await h.arrayBuffer(),{value:m}=await Lat.convertToHtml({arrayBuffer:f},r==null?void 0:r.mammothOptions);d(m)}}finally{o(!1)}}async function d(h){const f=await c(h);r.editor.chain().setContent(f,!0).run()}return E.jsxs("div",{children:[E.jsx(ft,{action:s,disabled:r==null?void 0:r.disabled,icon:r==null?void 0:r.icon,loading:i,tooltip:r==null?void 0:r.tooltip}),E.jsx("input",{accept:".docx",onChange:l,ref:a,type:"file",style:{display:"none"}})]})}const Fat=Sn.create({name:"importWord",addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),upload:void 0,convert:void 0,limit:1024*1024*10,button:({editor:e,extension:n,t:i})=>{const{convert:o,limit:a,mammothOptions:s}=n.options;return{component:jat,componentProps:{editor:e,convert:o,limit:a,mammothOptions:s,action:()=>e.commands.setHorizontalRule(),disabled:!e.can().setHorizontalRule(),icon:"Word",shortcutKeys:["alt","mod","S"],tooltip:i("editor.importWord.tooltip")}}}}}}),Hat=Sn.create({name:"indent",addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),types:["paragraph","heading","blockquote"],minIndent:of.min,maxIndent:of.max,button({editor:e,t:n}){return[{component:ft,componentProps:{action:()=>{e.commands.indent()},shortcutKeys:["Tab"],icon:"IndentIncrease",tooltip:n("editor.indent.tooltip")}},{component:ft,componentProps:{action:()=>{e.commands.outdent()},shortcutKeys:["Shift","Tab"],icon:"IndentDecrease",tooltip:n("editor.outdent.tooltip")}}]}}},addGlobalAttributes(){return[{types:this.options.types,attributes:{indent:{default:0,parseHTML:r=>{const e=r.dataset.indent;return(e?Number.parseInt(e,10):0)||0},renderHTML:r=>r.indent?{"data-indent":r.indent}:{}}}}]},addCommands(){return{indent:()=>YF({delta:of.more,types:this.options.types}),outdent:()=>YF({delta:of.less,types:this.options.types})}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.indent(),"Shift-Tab":()=>this.editor.commands.outdent()}}}),Wat=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Vat=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,qat=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Gat=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Kat=Os.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:r=>r.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:r=>r.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:r}){return["em",en(this.options.HTMLAttributes,r),0]},addCommands(){return{setItalic:()=>({commands:r})=>r.setMark(this.name),toggleItalic:()=>({commands:r})=>r.toggleMark(this.name),unsetItalic:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Bf({find:Wat,type:this.type}),Bf({find:qat,type:this.type})]},addPasteRules(){return[Cd({find:Vat,type:this.type}),Cd({find:Gat,type:this.type})]}}),Xat=Kat.extend({addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),button({editor:e,t:n}){return{component:ft,componentProps:{action:()=>e.commands.toggleItalic(),isActive:()=>e.isActive("italic")||!1,disabled:!1,shortcutKeys:["mod","I"],icon:"Italic",tooltip:n("editor.italic.tooltip")}}}}}});function Yat(r){return Number.parseFloat(r.replace("%",""))/100}function Zat(r){const{t:e}=Cn(),[n,i]=P.useState("default");function o(s){s==="default"?r.editor.commands.unsetLineHeight():r.editor.commands.setLineHeight(s),i(s)}const a=P.useMemo(()=>{const s=r.editor.extensionManager.extensions.find(l=>l.name==="lineHeight").options.lineHeights.map(l=>({label:Yat(l),value:l}));return s.unshift({label:e("editor.default"),value:"default"}),s},[r]);return E.jsxs(cp,{children:[E.jsx(up,{asChild:!0,disabled:r==null?void 0:r.disabled,children:E.jsx(ft,{customClass:"!richtext-w-12 richtext-h-12",disabled:r==null?void 0:r.disabled,icon:"LineHeight",tooltip:r==null?void 0:r.tooltip,children:E.jsx(wn,{className:"richtext-ml-1 richtext-size-3 richtext-text-zinc-500",name:"MenuDown"})})}),E.jsx(th,{className:"richtext-min-w-24",children:a==null?void 0:a.map((s,l)=>E.jsx(dp,{checked:s.value===n,onClick:()=>o(s.value),children:s.label},`lineHeight-${l}`))})]})}const Jat=["paragraph","heading","list_item","todo_item"];function Qat(r,e){const{selection:n,doc:i}=r;if(!n||!i||!(n instanceof Ht||n instanceof Cs))return r;const{from:o,to:a}=n,s=[],l=e&&e!==Tre?e:null;if(i.nodesBetween(o,a,(c,u)=>{const d=c.type;return Jat.includes(d.name)?((c.attrs.lineHeight||null)!==l&&s.push({node:c,pos:u,nodeType:d}),d.name!=="list_item"&&d.name!=="todo_item"):!0}),s.length===0)return r;for(const c of s){const{node:u,pos:d,nodeType:h}=c;let{attrs:f}=u;f={...f,lineHeight:l},r=r.setNodeMarkup(d,h,f,u.marks)}return r}function est(r){return({state:e,dispatch:n})=>{const{selection:i}=e;let{tr:o}=e;return o=o.setSelection(i),o=Qat(o,r),o.docChanged?(n&&n(o),!0):!1}}const tst=Sn.create({name:"lineHeight",addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),types:["paragraph","heading","list_item","todo_item"],lineHeights:Vke,defaultHeight:Tre,button({editor:e,t:n}){return{component:Zat,componentProps:{editor:e,tooltip:n("editor.lineheight.tooltip")}}}}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:r=>r.style.lineHeight||this.options.defaultHeight,renderHTML:r=>r.lineHeight===this.options.defaultHeight||!r.lineHeight?{}:{style:`line-height: ${r.lineHeight}`}}}}]},addCommands(){return{setLineHeight:r=>est(r),unsetLineHeight:()=>({commands:r})=>this.options.types.every(e=>r.resetAttributes(e,"lineHeight"))}}}),nst="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",rst="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",V0=(r,e)=>{for(const n in e)r[n]=e[n];return r},RM="numeric",NM="ascii",OM="alpha",Fy="asciinumeric",Ty="alphanumeric",PM="domain",I0e="emoji",ist="scheme",ost="slashscheme",eA="whitespace";function ast(r,e){return r in e||(e[r]=[]),e[r]}function uf(r,e,n){e[RM]&&(e[Fy]=!0,e[Ty]=!0),e[NM]&&(e[Fy]=!0,e[OM]=!0),e[Fy]&&(e[Ty]=!0),e[OM]&&(e[Ty]=!0),e[Ty]&&(e[PM]=!0),e[I0e]&&(e[PM]=!0);for(const i in e){const o=ast(i,n);o.indexOf(r)<0&&o.push(r)}}function sst(r,e){const n={};for(const i in e)e[i].indexOf(r)>=0&&(n[i]=!0);return n}function _o(r=null){this.j={},this.jr=[],this.jd=null,this.t=r}_o.groups={};_o.prototype={accepts(){return!!this.t},go(r){const e=this,n=e.j[r];if(n)return n;for(let i=0;i<e.jr.length;i++){const o=e.jr[i][0],a=e.jr[i][1];if(a&&o.test(r))return a}return e.jd},has(r,e=!1){return e?r in this.j:!!this.go(r)},ta(r,e,n,i){for(let o=0;o<r.length;o++)this.tt(r[o],e,n,i)},tr(r,e,n,i){i=i||_o.groups;let o;return e&&e.j?o=e:(o=new _o(e),n&&i&&uf(e,n,i)),this.jr.push([r,o]),o},ts(r,e,n,i){let o=this;const a=r.length;if(!a)return o;for(let s=0;s<a-1;s++)o=o.tt(r[s]);return o.tt(r[a-1],e,n,i)},tt(r,e,n,i){i=i||_o.groups;const o=this;if(e&&e.j)return o.j[r]=e,e;const a=e;let s,l=o.go(r);if(l?(s=new _o,V0(s.j,l.j),s.jr.push.apply(s.jr,l.jr),s.jd=l.jd,s.t=l.t):s=new _o,a){if(i)if(s.t&&typeof s.t=="string"){const c=V0(sst(s.t,i),n);uf(a,c,i)}else n&&uf(a,n,i);s.t=a}return o.j[r]=s,s}};const un=(r,e,n,i,o)=>r.ta(e,n,i,o),Rr=(r,e,n,i,o)=>r.tr(e,n,i,o),NJ=(r,e,n,i,o)=>r.ts(e,n,i,o),ct=(r,e,n,i,o)=>r.tt(e,n,i,o),pc="WORD",IM="UWORD",$0e="ASCIINUMERICAL",z0e="ALPHANUMERICAL",Ib="LOCALHOST",$M="TLD",zM="UTLD",k4="SCHEME",Hm="SLASH_SCHEME",wI="NUM",LM="WS",SI="NL",Hy="OPENBRACE",Wy="CLOSEBRACE",j3="OPENBRACKET",F3="CLOSEBRACKET",H3="OPENPAREN",W3="CLOSEPAREN",V3="OPENANGLEBRACKET",q3="CLOSEANGLEBRACKET",G3="FULLWIDTHLEFTPAREN",K3="FULLWIDTHRIGHTPAREN",X3="LEFTCORNERBRACKET",Y3="RIGHTCORNERBRACKET",Z3="LEFTWHITECORNERBRACKET",J3="RIGHTWHITECORNERBRACKET",Q3="FULLWIDTHLESSTHAN",e5="FULLWIDTHGREATERTHAN",t5="AMPERSAND",kI="APOSTROPHE",n5="ASTERISK",rd="AT",r5="BACKSLASH",i5="BACKTICK",o5="CARET",od="COLON",TI="COMMA",a5="DOLLAR",Ys="DOT",s5="EQUALS",EI="EXCLAMATION",Ua="HYPHEN",Vy="PERCENT",l5="PIPE",c5="PLUS",u5="POUND",qy="QUERY",CI="QUOTE",L0e="FULLWIDTHMIDDLEDOT",_I="SEMI",Zs="SLASH",Gy="TILDE",d5="UNDERSCORE",U0e="EMOJI",h5="SYM";var B0e=Object.freeze({__proto__:null,WORD:pc,UWORD:IM,ASCIINUMERICAL:$0e,ALPHANUMERICAL:z0e,LOCALHOST:Ib,TLD:$M,UTLD:zM,SCHEME:k4,SLASH_SCHEME:Hm,NUM:wI,WS:LM,NL:SI,OPENBRACE:Hy,CLOSEBRACE:Wy,OPENBRACKET:j3,CLOSEBRACKET:F3,OPENPAREN:H3,CLOSEPAREN:W3,OPENANGLEBRACKET:V3,CLOSEANGLEBRACKET:q3,FULLWIDTHLEFTPAREN:G3,FULLWIDTHRIGHTPAREN:K3,LEFTCORNERBRACKET:X3,RIGHTCORNERBRACKET:Y3,LEFTWHITECORNERBRACKET:Z3,RIGHTWHITECORNERBRACKET:J3,FULLWIDTHLESSTHAN:Q3,FULLWIDTHGREATERTHAN:e5,AMPERSAND:t5,APOSTROPHE:kI,ASTERISK:n5,AT:rd,BACKSLASH:r5,BACKTICK:i5,CARET:o5,COLON:od,COMMA:TI,DOLLAR:a5,DOT:Ys,EQUALS:s5,EXCLAMATION:EI,HYPHEN:Ua,PERCENT:Vy,PIPE:l5,PLUS:c5,POUND:u5,QUERY:qy,QUOTE:CI,FULLWIDTHMIDDLEDOT:L0e,SEMI:_I,SLASH:Zs,TILDE:Gy,UNDERSCORE:d5,EMOJI:U0e,SYM:h5});const hc=/[a-z]/,ey=new RegExp("\\p{L}","u"),tA=new RegExp("\\p{Emoji}","u"),fc=/\d/,nA=/\s/,OJ="\r",rA=`
`,lst="",cst="",iA="";let _2=null,A2=null;function ust(r=[]){const e={};_o.groups=e;const n=new _o;_2==null&&(_2=PJ(nst)),A2==null&&(A2=PJ(rst)),ct(n,"'",kI),ct(n,"{",Hy),ct(n,"}",Wy),ct(n,"[",j3),ct(n,"]",F3),ct(n,"(",H3),ct(n,")",W3),ct(n,"<",V3),ct(n,">",q3),ct(n,"",G3),ct(n,"",K3),ct(n,"",X3),ct(n,"",Y3),ct(n,"",Z3),ct(n,"",J3),ct(n,"",Q3),ct(n,"",e5),ct(n,"&",t5),ct(n,"*",n5),ct(n,"@",rd),ct(n,"`",i5),ct(n,"^",o5),ct(n,":",od),ct(n,",",TI),ct(n,"$",a5),ct(n,".",Ys),ct(n,"=",s5),ct(n,"!",EI),ct(n,"-",Ua),ct(n,"%",Vy),ct(n,"|",l5),ct(n,"+",c5),ct(n,"#",u5),ct(n,"?",qy),ct(n,'"',CI),ct(n,"/",Zs),ct(n,";",_I),ct(n,"~",Gy),ct(n,"_",d5),ct(n,"\\",r5),ct(n,"",L0e);const i=Rr(n,fc,wI,{[RM]:!0});Rr(i,fc,i);const o=Rr(i,hc,$0e,{[Fy]:!0}),a=Rr(i,ey,z0e,{[Ty]:!0}),s=Rr(n,hc,pc,{[NM]:!0});Rr(s,fc,o),Rr(s,hc,s),Rr(o,fc,o),Rr(o,hc,o);const l=Rr(n,ey,IM,{[OM]:!0});Rr(l,hc),Rr(l,fc,a),Rr(l,ey,l),Rr(a,fc,a),Rr(a,hc),Rr(a,ey,a);const c=ct(n,rA,SI,{[eA]:!0}),u=ct(n,OJ,LM,{[eA]:!0}),d=Rr(n,nA,LM,{[eA]:!0});ct(n,iA,d),ct(u,rA,c),ct(u,iA,d),Rr(u,nA,d),ct(d,OJ),ct(d,rA),Rr(d,nA,d),ct(d,iA,d);const h=Rr(n,tA,U0e,{[I0e]:!0});ct(h,"#"),Rr(h,tA,h),ct(h,lst,h);const f=ct(h,cst);ct(f,"#"),Rr(f,tA,h);const m=[[hc,s],[fc,o]],b=[[hc,null],[ey,l],[fc,a]];for(let g=0;g<_2.length;g++)qu(n,_2[g],$M,pc,m);for(let g=0;g<A2.length;g++)qu(n,A2[g],zM,IM,b);uf($M,{tld:!0,ascii:!0},e),uf(zM,{utld:!0,alpha:!0},e),qu(n,"file",k4,pc,m),qu(n,"mailto",k4,pc,m),qu(n,"http",Hm,pc,m),qu(n,"https",Hm,pc,m),qu(n,"ftp",Hm,pc,m),qu(n,"ftps",Hm,pc,m),uf(k4,{scheme:!0,ascii:!0},e),uf(Hm,{slashscheme:!0,ascii:!0},e),r=r.sort((g,v)=>g[0]>v[0]?1:-1);for(let g=0;g<r.length;g++){const v=r[g][0],x=r[g][1]?{[ist]:!0}:{[ost]:!0};v.indexOf("-")>=0?x[PM]=!0:hc.test(v)?fc.test(v)?x[Fy]=!0:x[NM]=!0:x[RM]=!0,NJ(n,v,v,x)}return NJ(n,"localhost",Ib,{ascii:!0}),n.jd=new _o(h5),{start:n,tokens:V0({groups:e},B0e)}}function j0e(r,e){const n=dst(e.replace(/[A-Z]/g,l=>l.toLowerCase())),i=n.length,o=[];let a=0,s=0;for(;s<i;){let l=r,c=null,u=0,d=null,h=-1,f=-1;for(;s<i&&(c=l.go(n[s]));)l=c,l.accepts()?(h=0,f=0,d=l):h>=0&&(h+=n[s].length,f++),u+=n[s].length,a+=n[s].length,s++;a-=h,s-=f,u-=h,o.push({t:d.t,v:e.slice(a-u,a),s:a-u,e:a})}return o}function dst(r){const e=[],n=r.length;let i=0;for(;i<n;){let o=r.charCodeAt(i),a,s=o<55296||o>56319||i+1===n||(a=r.charCodeAt(i+1))<56320||a>57343?r[i]:r.slice(i,i+2);e.push(s),i+=s.length}return e}function qu(r,e,n,i,o){let a;const s=e.length;for(let l=0;l<s-1;l++){const c=e[l];r.j[c]?a=r.j[c]:(a=new _o(i),a.jr=o.slice(),r.j[c]=a),r=a}return a=new _o(n),a.jr=o.slice(),r.j[e[s-1]]=a,a}function PJ(r){const e=[],n=[];let i=0,o="0123456789";for(;i<r.length;){let a=0;for(;o.indexOf(r[i+a])>=0;)a++;if(a>0){e.push(n.join(""));for(let s=parseInt(r.substring(i,i+a),10);s>0;s--)n.pop();i+=a}else n.push(r[i]),i++}return e}const $b={defaultProtocol:"http",events:null,format:IJ,formatHref:IJ,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function AI(r,e=null){let n=V0({},$b);r&&(n=V0(n,r instanceof AI?r.o:r));const i=n.ignoreTags,o=[];for(let a=0;a<i.length;a++)o.push(i[a].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=o}AI.prototype={o:$b,ignoreTags:[],defaultRender(r){return r},check(r){return this.get("validate",r.toString(),r)},get(r,e,n){const i=e!=null;let o=this.o[r];return o&&(typeof o=="object"?(o=n.t in o?o[n.t]:$b[r],typeof o=="function"&&i&&(o=o(e,n))):typeof o=="function"&&i&&(o=o(e,n.t,n)),o)},getObj(r,e,n){let i=this.o[r];return typeof i=="function"&&e!=null&&(i=i(e,n.t,n)),i},render(r){const e=r.render(this);return(this.get("render",null,r)||this.defaultRender)(e,r.t,r)}};function IJ(r){return r}function F0e(r,e){this.t="token",this.v=r,this.tk=e}F0e.prototype={isLink:!1,toString(){return this.v},toHref(r){return this.toString()},toFormattedString(r){const e=this.toString(),n=r.get("truncate",e,this),i=r.get("format",e,this);return n&&i.length>n?i.substring(0,n)+"":i},toFormattedHref(r){return r.get("formatHref",this.toHref(r.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(r=$b.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(r),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(r){return{type:this.t,value:this.toFormattedString(r),isLink:this.isLink,href:this.toFormattedHref(r),start:this.startIndex(),end:this.endIndex()}},validate(r){return r.get("validate",this.toString(),this)},render(r){const e=this,n=this.toHref(r.get("defaultProtocol")),i=r.get("formatHref",n,this),o=r.get("tagName",n,e),a=this.toFormattedString(r),s={},l=r.get("className",n,e),c=r.get("target",n,e),u=r.get("rel",n,e),d=r.getObj("attributes",n,e),h=r.getObj("events",n,e);return s.href=i,l&&(s.class=l),c&&(s.target=c),u&&(s.rel=u),d&&V0(s,d),{tagName:o,attributes:s,content:a,eventListeners:h}}};function H6(r,e){class n extends F0e{constructor(o,a){super(o,a),this.t=r}}for(const i in e)n.prototype[i]=e[i];return n.t=r,n}const $J=H6("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),zJ=H6("text"),hst=H6("nl"),D2=H6("url",{isLink:!0,toHref(r=$b.defaultProtocol){return this.hasProtocol()?this.v:`${r}://${this.v}`},hasProtocol(){const r=this.tk;return r.length>=2&&r[0].t!==Ib&&r[1].t===od}}),za=r=>new _o(r);function fst({groups:r}){const e=r.domain.concat([t5,n5,rd,r5,i5,o5,a5,s5,Ua,wI,Vy,l5,c5,u5,Zs,h5,Gy,d5]),n=[od,TI,Ys,EI,Vy,qy,CI,_I,V3,q3,Hy,Wy,F3,j3,H3,W3,G3,K3,X3,Y3,Z3,J3,Q3,e5],i=[t5,kI,n5,r5,i5,o5,a5,s5,Ua,Hy,Wy,Vy,l5,c5,u5,qy,Zs,h5,Gy,d5],o=za(),a=ct(o,Gy);un(a,i,a),un(a,r.domain,a);const s=za(),l=za(),c=za();un(o,r.domain,s),un(o,r.scheme,l),un(o,r.slashscheme,c),un(s,i,a),un(s,r.domain,s);const u=ct(s,rd);ct(a,rd,u),ct(l,rd,u),ct(c,rd,u);const d=ct(a,Ys);un(d,i,a),un(d,r.domain,a);const h=za();un(u,r.domain,h),un(h,r.domain,h);const f=ct(h,Ys);un(f,r.domain,h);const m=za($J);un(f,r.tld,m),un(f,r.utld,m),ct(u,Ib,m);const b=ct(h,Ua);ct(b,Ua,b),un(b,r.domain,h),un(m,r.domain,h),ct(m,Ys,f),ct(m,Ua,b);const g=ct(m,od);un(g,r.numeric,$J);const v=ct(s,Ua),x=ct(s,Ys);ct(v,Ua,v),un(v,r.domain,s),un(x,i,a),un(x,r.domain,s);const w=za(D2);un(x,r.tld,w),un(x,r.utld,w),un(w,r.domain,s),un(w,i,a),ct(w,Ys,x),ct(w,Ua,v),ct(w,rd,u);const k=ct(w,od),T=za(D2);un(k,r.numeric,T);const _=za(D2),D=za();un(_,e,_),un(_,n,D),un(D,e,_),un(D,n,D),ct(w,Zs,_),ct(T,Zs,_);const I=ct(l,od),L=ct(c,od),O=ct(L,Zs),W=ct(O,Zs);un(l,r.domain,s),ct(l,Ys,x),ct(l,Ua,v),un(c,r.domain,s),ct(c,Ys,x),ct(c,Ua,v),un(I,r.domain,_),ct(I,Zs,_),ct(I,qy,_),un(W,r.domain,_),un(W,e,_),ct(W,Zs,_);const Z=[[Hy,Wy],[j3,F3],[H3,W3],[V3,q3],[G3,K3],[X3,Y3],[Z3,J3],[Q3,e5]];for(let $=0;$<Z.length;$++){const[F,A]=Z[$],Q=ct(_,F);ct(D,F,Q),ct(Q,A,_);const H=za(D2);un(Q,e,H);const G=za();un(Q,n),un(H,e,H),un(H,n,G),un(G,e,H),un(G,n,G),ct(H,A,_),ct(G,A,_)}return ct(o,Ib,w),ct(o,SI,hst),{start:o,tokens:B0e}}function pst(r,e,n){let i=n.length,o=0,a=[],s=[];for(;o<i;){let l=r,c=null,u=null,d=0,h=null,f=-1;for(;o<i&&!(c=l.go(n[o].t));)s.push(n[o++]);for(;o<i&&(u=c||l.go(n[o].t));)c=null,l=u,l.accepts()?(f=0,h=l):f>=0&&f++,o++,d++;if(f<0)o-=d,o<i&&(s.push(n[o]),o++);else{s.length>0&&(a.push(oA(zJ,e,s)),s=[]),o-=f,d-=f;const m=h.t,b=n.slice(o-d,o);a.push(oA(m,e,b))}}return s.length>0&&a.push(oA(zJ,e,s)),a}function oA(r,e,n){const i=n[0].s,o=n[n.length-1].e,a=e.slice(i,o);return new r(a,n)}const mst=typeof console<"u"&&console&&console.warn||(()=>{}),gst="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",fr={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function yst(){return _o.groups={},fr.scanner=null,fr.parser=null,fr.tokenQueue=[],fr.pluginQueue=[],fr.customSchemes=[],fr.initialized=!1,fr}function LJ(r,e=!1){if(fr.initialized&&mst(`linkifyjs: already initialized - will not register custom scheme "${r}" ${gst}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(r))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);fr.customSchemes.push([r,e])}function bst(){fr.scanner=ust(fr.customSchemes);for(let r=0;r<fr.tokenQueue.length;r++)fr.tokenQueue[r][1]({scanner:fr.scanner});fr.parser=fst(fr.scanner.tokens);for(let r=0;r<fr.pluginQueue.length;r++)fr.pluginQueue[r][1]({scanner:fr.scanner,parser:fr.parser});return fr.initialized=!0,fr}function DI(r){return fr.initialized||bst(),pst(fr.parser.start,r,j0e(fr.scanner.start,r))}DI.scan=j0e;function H0e(r,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const i=new AI(n),o=DI(r),a=[];for(let s=0;s<o.length;s++){const l=o[s];l.isLink&&(!e||l.t===e)&&i.check(l)&&a.push(l.toFormattedObject(i))}return a}function vst(r){return r.length===1?r[0].isLink:r.length===3&&r[1].isLink?["()","[]"].includes(r[0].value+r[2].value):!1}function xst(r){return new $n({key:new Ln("autolink"),appendTransaction:(e,n,i)=>{const o=e.some(c=>c.docChanged)&&!n.doc.eq(i.doc),a=e.some(c=>c.getMeta("preventAutolink"));if(!o||a)return;const{tr:s}=i,l=L5e(n.doc,[...e]);if(V5e(l).forEach(({newRange:c})=>{const u=B5e(i.doc,c,f=>f.isTextblock);let d,h;if(u.length>1?(d=u[0],h=i.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ")):u.length&&i.doc.textBetween(c.from,c.to," "," ").endsWith(" ")&&(d=u[0],h=i.doc.textBetween(d.pos,c.to,void 0," ")),d&&h){const f=h.split(" ").filter(v=>v!=="");if(f.length<=0)return!1;const m=f[f.length-1],b=d.pos+h.lastIndexOf(m);if(!m)return!1;const g=DI(m).map(v=>v.toObject(r.defaultProtocol));if(!vst(g))return!1;g.filter(v=>v.isLink).map(v=>({...v,from:b+v.start+1,to:b+v.end+1})).filter(v=>i.schema.marks.code?!i.doc.rangeHasMark(v.from,v.to,i.schema.marks.code):!0).filter(v=>r.validate(v.value)).filter(v=>r.shouldAutoLink(v.value)).forEach(v=>{GR(v.from,v.to,i.doc).some(x=>x.mark.type===r.type)||s.addMark(v.from,v.to,r.type.create({href:v.href}))})}}),!!s.steps.length)return s}})}function wst(r){return new $n({key:new Ln("handleClickLink"),props:{handleClick:(e,n,i)=>{var o,a;if(i.button!==0||!e.editable)return!1;let s=i.target;const l=[];for(;s.nodeName!=="DIV";)l.push(s),s=s.parentNode;if(!l.find(f=>f.nodeName==="A"))return!1;const c=Xne(e.state,r.type.name),u=i.target,d=(o=u==null?void 0:u.href)!==null&&o!==void 0?o:c.href,h=(a=u==null?void 0:u.target)!==null&&a!==void 0?a:c.target;return u&&d?(window.open(d,h),!0):!1}}})}function Sst(r){return new $n({key:new Ln("handlePasteLink"),props:{handlePaste:(e,n,i)=>{const{state:o}=e,{selection:a}=o,{empty:s}=a;if(s)return!1;let l="";i.content.forEach(u=>{l+=u.textContent});const c=H0e(l,{defaultProtocol:r.defaultProtocol}).find(u=>u.isLink&&u.value===l);return!l||!c?!1:r.editor.commands.setMark(r.type,{href:c.href})}}})}const kst=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function Gh(r,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(i=>{const o=typeof i=="string"?i:i.scheme;o&&n.push(o)}),!r||r.replace(kst,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const Tst=Os.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(r=>{if(typeof r=="string"){LJ(r);return}LJ(r.scheme,r.optionalSlashes)})},onDestroy(){yst()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(r,e)=>!!Gh(r,e.protocols),validate:r=>!!r,shouldAutoLink:r=>!!r}},addAttributes(){return{href:{default:null,parseHTML(r){return r.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:r=>{const e=r.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Gh(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:r}){return this.options.isAllowedUri(r.href,{defaultValidate:e=>!!Gh(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",en(this.options.HTMLAttributes,r),0]:["a",en(this.options.HTMLAttributes,{...r,href:""}),0]},addCommands(){return{setLink:r=>({chain:e})=>{const{href:n}=r;return this.options.isAllowedUri(n,{defaultValidate:i=>!!Gh(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,r).setMeta("preventAutolink",!0).run():!1},toggleLink:r=>({chain:e})=>{const{href:n}=r;return this.options.isAllowedUri(n,{defaultValidate:i=>!!Gh(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,r,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:r})=>r().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Cd({find:r=>{const e=[];if(r){const{protocols:n,defaultProtocol:i}=this.options,o=H0e(r).filter(a=>a.isLink&&this.options.isAllowedUri(a.value,{defaultValidate:s=>!!Gh(s,n),protocols:n,defaultProtocol:i}));o.length&&o.forEach(a=>e.push({text:a.value,data:{href:a.href},index:a.start}))}return e},type:this.type,getAttributes:r=>{var e;return{href:(e=r.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const r=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&r.push(xst({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:i=>this.options.isAllowedUri(i,{defaultValidate:o=>!!Gh(o,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&r.push(wst({type:this.type})),this.options.linkOnPaste&&r.push(Sst({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),r}});function Est(r){const[e,n]=P.useState(!1);function i(o,a,s){r.action&&(r.action({link:o,text:a,openInNewTab:s}),n(!1))}return E.jsxs(as,{modal:!0,open:e,onOpenChange:n,children:[E.jsx(ss,{disabled:r==null?void 0:r.disabled,asChild:!0,children:E.jsx(ft,{tooltip:r==null?void 0:r.tooltip,isActive:r==null?void 0:r.isActive,disabled:r==null?void 0:r.disabled,children:E.jsx(wn,{name:r==null?void 0:r.icon})})}),E.jsx(wa,{hideWhenDetached:!0,className:"richtext-w-full",align:"start",side:"bottom",children:E.jsx(tle,{editor:r.editor,onSetLink:i})})]})}const Cst=Tst.extend({inclusive:!1,parseHTML(){return[{tag:'a[href]:not([data-type="button"]):not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:r}){return["a",en(this.options.HTMLAttributes,r,{class:"link"}),0]},addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),openOnClick:!0,button:({editor:e,t:n})=>({component:Est,componentProps:{editor:e,action:i=>{const{link:o,text:a,openInNewTab:s}=i;e.chain().extendMarkRange("link").insertContent({type:"text",text:a,marks:[{type:"link",attrs:{href:o,target:s?"_blank":""}}]}).setLink({href:o}).focus().run()},id:"linkk",isActive:()=>e.isActive("link")||!1,disabled:!e.can().setLink({href:""}),icon:"Link",tooltip:n("editor.link.tooltip")}})}},addProseMirrorPlugins(){return[new $n({props:{handleClick:(r,e)=>{const{schema:n,doc:i,tr:o}=r.state,a=L5(i.resolve(e),n.marks.link);if(!a)return!1;const s=i.resolve(a.from),l=i.resolve(a.to),c=o.setSelection(new Ht(s,l));r.dispatch(c)}}})]}}),_st=new Ln("mention"),Ast=Un.create({name:"mention",priority:101,addOptions(){return{HTMLAttributes:{},renderText({options:r,node:e}){var n;return`${r.suggestion.char}${(n=e.attrs.label)!==null&&n!==void 0?n:e.attrs.id}`},deleteTriggerWithBackspace:!1,renderHTML({options:r,node:e}){var n;return["span",en(this.HTMLAttributes,r.HTMLAttributes),`${r.suggestion.char}${(n=e.attrs.label)!==null&&n!==void 0?n:e.attrs.id}`]},suggestion:{char:"@",pluginKey:_st,command:({editor:r,range:e,props:n})=>{var i,o,a;const s=r.view.state.selection.$to.nodeAfter;!((i=s==null?void 0:s.text)===null||i===void 0)&&i.startsWith(" ")&&(e.to+=1),r.chain().focus().insertContentAt(e,[{type:this.name,attrs:n},{type:"text",text:" "}]).run(),(a=(o=r.view.dom.ownerDocument.defaultView)===null||o===void 0?void 0:o.getSelection())===null||a===void 0||a.collapseToEnd()},allow:({state:r,range:e})=>{const n=r.doc.resolve(e.from),i=r.schema.nodes[this.name];return!!n.parent.type.contentMatch.matchType(i)}}}},group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes(){return{id:{default:null,parseHTML:r=>r.getAttribute("data-id"),renderHTML:r=>r.id?{"data-id":r.id}:{}},label:{default:null,parseHTML:r=>r.getAttribute("data-label"),renderHTML:r=>r.label?{"data-label":r.label}:{}}}},parseHTML(){return[{tag:`span[data-type="${this.name}"]`}]},renderHTML({node:r,HTMLAttributes:e}){if(this.options.renderLabel!==void 0)return console.warn("renderLabel is deprecated use renderText and renderHTML instead"),["span",en({"data-type":this.name},this.options.HTMLAttributes,e),this.options.renderLabel({options:this.options,node:r})];const n={...this.options};n.HTMLAttributes=en({"data-type":this.name},this.options.HTMLAttributes,e);const i=this.options.renderHTML({options:n,node:r});return typeof i=="string"?["span",en({"data-type":this.name},this.options.HTMLAttributes,e),i]:i},renderText({node:r}){return this.options.renderLabel!==void 0?(console.warn("renderLabel is deprecated use renderText and renderHTML instead"),this.options.renderLabel({options:this.options,node:r})):this.options.renderText({options:this.options,node:r})},addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.command(({tr:r,state:e})=>{let n=!1;const{selection:i}=e,{empty:o,anchor:a}=i;return o?(e.doc.nodesBetween(a-1,a,(s,l)=>{if(s.type.name===this.name)return n=!0,r.insertText(this.options.deleteTriggerWithBackspace?"":this.options.suggestion.char||"",l,l+s.nodeSize),!1}),n):!1})}},addProseMirrorPlugins(){return[sP({editor:this.editor,...this.options.suggestion})]}}),Dst="_listUsers_en3pm_1",Mst="_itemUser_en3pm_10",Rst="_selectedUser_en3pm_31",M2={listUsers:Dst,itemUser:Mst,selectedUser:Rst},Nst=P.forwardRef((r,e)=>{const n=P.useRef(null),[i,o]=P.useState(0),a=u=>{const d=r.items[u];d&&r.command({id:d,label:d})},s=()=>{o((i+r.items.length-1)%r.items.length)},l=()=>{o((i+1)%r.items.length)},c=()=>{a(i)};return P.useEffect(()=>o(0),[r.items]),P.useEffect(()=>{if(Number.isNaN(i+1))return;const u=n.current.querySelector(`span:nth-of-type(${i+1})`);u&&dP(u,{behavior:"smooth",scrollMode:"if-needed"})},[i]),P.useImperativeHandle(e,()=>({onKeyDown:({event:u})=>u.key==="ArrowUp"?(s(),!0):u.key==="ArrowDown"?(l(),!0):u.key==="Enter"?(c(),!0):!1})),E.jsx("div",{className:pr("listUsers",M2.listUsers),children:E.jsx("div",{ref:n,children:r.items.length>0?r.items.map((u,d)=>E.jsx("span",{className:pr("itemUser",M2.itemUser,d===i?M2.selectedUser:""),onClick:()=>a(d),children:u},d)):E.jsx("div",{className:pr("itemUserEmpty",M2.itemUser),children:"Empty"})})})}),Ost=[{id:"1",name:"John Doe"},{id:"2",name:"Jane Doe"},{id:"3",name:"Alice"},{id:"4",name:"Bob"}],Pst={items:async({query:r})=>Ost.map(e=>e.name).filter(e=>e.toLowerCase().startsWith(r.toLowerCase())),render:()=>{let r,e;return{onStart:n=>{r=new W5(Nst,{props:n,editor:n.editor}),e=eu("body",{getReferenceClientRect:n.clientRect,appendTo:()=>document.body,content:r.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start"})},onUpdate(n){r.updateProps(n),e[0].setProps({getReferenceClientRect:n.clientRect})},onKeyDown(n){var i;return n.event.key==="Escape"?(e[0].hide(),!0):(i=r.ref)==null?void 0:i.onKeyDown(n)},onExit(){e[0].destroy(),r.destroy()}}}},Ist=Ast.extend({addAttributes(){return{id:{default:"",parseHTML:ro("id")},label:{default:"",parseHTML:ro("label")}}}}).configure({HTMLAttributes:{class:"mention"},suggestion:Pst}),$st=Os.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(r){return r!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:r}){return["sub",en(this.options.HTMLAttributes,r),0]},addCommands(){return{setSubscript:()=>({commands:r})=>r.setMark(this.name),toggleSubscript:()=>({commands:r})=>r.toggleMark(this.name),unsetSubscript:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),zst=Os.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(r){return r!=="super"?!1:null}}]},renderHTML({HTMLAttributes:r}){return["sup",en(this.options.HTMLAttributes,r),0]},addCommands(){return{setSuperscript:()=>({commands:r})=>r.setMark(this.name),toggleSuperscript:()=>({commands:r})=>r.toggleMark(this.name),unsetSuperscript:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}});function Lst(r){var e;const n=P.useMemo(()=>{var i;const o=(i=r==null?void 0:r.items)==null?void 0:i.find(a=>a.isActive());return o&&!o.default?{...o,icon:o!=null&&o.icon?o==null?void 0:o.icon:r==null?void 0:r.icon}:{title:r.tooltip,icon:r.icon,isActive:()=>!1}},[r]);return E.jsxs(cp,{children:[E.jsx(up,{asChild:!0,disabled:r==null?void 0:r.disabled,children:E.jsx(ft,{customClass:"!richtext-w-12 richtext-h-12",disabled:r==null?void 0:r.disabled,icon:r==null?void 0:r.icon,tooltip:r==null?void 0:r.tooltip,children:E.jsx(Zse,{className:"richtext-size-3 richtext-text-gray-500"})})}),E.jsx(th,{className:"w-full",children:(e=r==null?void 0:r.items)==null?void 0:e.map((i,o)=>E.jsxs(dp,{checked:n.title===i.title,className:"richtext-flex richtext-items-center richtext-gap-3",onClick:i.action,children:[E.jsx(wn,{name:i==null?void 0:i.icon}),E.jsx("span",{className:"richtext-ml-1",children:i.title}),!!(i!=null&&i.shortcutKeys)&&E.jsx("span",{className:"richtext-ml-auto richtext-text-xs richtext-tracking-widest richtext-opacity-60",children:TS(i.shortcutKeys)})]},`more-mark-${o}`))})]})}const Ust=Sn.create({name:"moreMark",addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),button({editor:e,extension:n,t:i}){const o=n.options.subscript,a=n.options.superscript,s={action:()=>e.commands.toggleSubscript(),isActive:()=>e.isActive("subscript")||!1,disabled:!e.can().toggleSubscript(),icon:"Subscript",title:i("editor.subscript.tooltip"),shortcutKeys:["mod","."]},l={action:()=>e.commands.toggleSuperscript(),isActive:()=>e.isActive("superscript")||!1,disabled:!e.can().toggleSuperscript(),icon:"Superscript",title:i("editor.superscript.tooltip"),shortcutKeys:["mod",","]},c=[];return o!==!1&&c.push(s),a!==!1&&c.push(l),{component:Lst,componentProps:{icon:"Type",tooltip:i("editor.moremark"),disabled:!e.isEditable,items:c}}}}},addExtensions(){const r=[];return this.options.subscript!==!1&&r.push($st.configure(this.options.subscript)),this.options.superscript!==!1&&r.push(zst.configure(this.options.superscript)),r}}),Bst="listItem",UJ="textStyle",BJ=/^(\d+)\.\s$/,jst=Un.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:r=>r.hasAttribute("start")?parseInt(r.getAttribute("start")||"",10):1},type:{default:null,parseHTML:r=>r.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:r}){const{start:e,...n}=r;return e===1?["ol",en(this.options.HTMLAttributes,n),0]:["ol",en(this.options.HTMLAttributes,r),0]},addCommands(){return{toggleOrderedList:()=>({commands:r,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Bst,this.editor.getAttributes(UJ)).run():r.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let r=E0({find:BJ,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(r=E0({find:BJ,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(UJ)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[r]}}),Fst=jst.extend({addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),button:({editor:e,t:n})=>({component:ft,componentProps:{action:()=>e.commands.toggleOrderedList(),isActive:()=>e.isActive("orderedList")||!1,disabled:!1,icon:"ListOrdered",shortcutKeys:["mod","shift","7"],tooltip:n("editor.orderedlist.tooltip")}})}}});function Hst({editor:r,...e}){const{t:n}=Cn(),[i,o]=P.useState(-1),[a,s]=P.useState([]),[l,c]=P.useState(""),[u,d]=P.useState(""),[h,f]=P.useState(!1),[m,b]=P.useState(!1);return P.useEffect(()=>{h||(c(""),d(""),o(-1),s([]),r.commands.setSearchTerm(""),r.commands.setReplaceTerm(""))},[r,h]),P.useEffect(()=>{h&&r&&r.commands&&r.commands.setSearchTerm&&r.commands.setSearchTerm(l)},[h,l,r]),P.useEffect(()=>{h&&r&&r.commands&&r.commands.setReplaceTerm&&r.commands.setReplaceTerm(u)},[h,u,r]),P.useEffect(()=>{if(!r)return;const g=r.extensionManager.extensions.find(x=>x.name===W0e.name);if(!g)return;const v=()=>{if(!h)return;const x=g?g.storage.currentIndex:-1,w=g?g.storage.results:[];o(k=>k!==x?x:k),s(k=>fO(k,w)?k:w)};return O0(zi.SEARCH_REPLCE,v),()=>{g&&O0(zi.SEARCH_REPLCE,v)}},[h,r]),E.jsxs(as,{onOpenChange:f,open:h,children:[E.jsx(ss,{asChild:!0,disabled:e==null?void 0:e.disabled,children:E.jsx(ft,{disabled:e==null?void 0:e.disabled,isActive:e==null?void 0:e.isActive,tooltip:e==null?void 0:e.tooltip,children:E.jsx(wn,{name:e==null?void 0:e.icon})})}),E.jsxs(wa,{align:"start",className:"richtext-w-full",hideWhenDetached:!0,side:"bottom",children:[E.jsxs("div",{className:"richtext-mb-[6px] richtext-flex richtext-items-center richtext-justify-between",children:[E.jsx(ha,{children:n("editor.search.dialog.text")}),E.jsx("span",{className:"richtext-font-semibold",children:a.length>0?`${i+1}/${a.length}`:"0/0"})]}),E.jsxs("div",{className:"richtext-mb-[10px] richtext-flex richtext-w-full richtext-max-w-sm richtext-items-center richtext-gap-1.5",children:[E.jsx(lo,{autoFocus:!0,className:"richtext-w-full",onChange:g=>c(g.target.value),placeholder:"Text",required:!0,type:"text",value:l}),E.jsx(Nn,{className:"richtext-flex-1",disabled:a.length===0,onClick:r.commands.goToPrevSearchResult,children:E.jsx(wn,{name:"ChevronUp"})}),E.jsx(Nn,{className:"richtext-flex-1",disabled:a.length===0,onClick:r.commands.goToNextSearchResult,children:E.jsx(wn,{name:"ChevronDown"})})]}),E.jsx(ha,{className:"richtext-mb-[6px]",children:n("editor.replace.dialog.text")}),E.jsx("div",{className:"richtext-mb-[5px] richtext-flex richtext-w-full richtext-max-w-sm richtext-items-center richtext-gap-1.5",children:E.jsx("div",{className:"richtext-relative richtext-w-full richtext-max-w-sm richtext-items-center",children:E.jsx(lo,{className:"richtext-w-80",onChange:g=>d(g.target.value),placeholder:"Text",required:!0,type:"text",value:u})})}),E.jsxs("div",{className:"richtext-mb-[10px] richtext-flex richtext-items-center richtext-space-x-2",children:[E.jsx(eO,{checked:m,onCheckedChange:g=>{b(g),r.commands.setCaseSensitive(g)}}),E.jsx(ha,{children:n("editor.replace.caseSensitive")})]}),E.jsxs("div",{className:"richtext-flex richtext-items-center richtext-gap-[10px]",children:[E.jsx(Nn,{className:"richtext-flex-1",disabled:a.length===0,onClick:r.commands.replace,children:n("editor.replace.dialog.text")}),E.jsx(Nn,{className:"richtext-flex-1",disabled:a.length===0,onClick:r.commands.replaceAll,children:n("editor.replaceAll.dialog.text")})]})]})]})}const ty=(r,e)=>e(r.tr);function Wst(r,e,n){return RegExp(e?r.replace(/[$()*+./?[\\\]^{|}-]/g,String.raw`\$&`):r,n?"gu":"gui")}function Vst(r,e,n){const i=[];let o=[];const a=[];let s=0;if(!e)return{decorationsToReturn:[],results:[]};r==null||r.descendants((l,c)=>{l.isText?o[s]?o[s]={text:o[s].text+l.text,pos:o[s].pos}:o[s]={text:`${l.text}`,pos:c}:s+=1}),o=o.filter(Boolean);for(const{text:l,pos:c}of o){const u=[...l.matchAll(e)];for(const d of u){if(d[0]==="")break;d.index!==void 0&&a.push({from:c+d.index,to:c+d.index+d[0].length})}}for(const l of a)i.push(hi.inline(l.from,l.to,{class:n}));return{decorationsToReturn:i,results:a}}function jJ(r,e,{state:n,dispatch:i}){if(!e[0])return;const{from:o,to:a}=e[0];i&&i(n.tr.insertText(r,o,a))}function qst(r,e,n,i){const o=e+1;if(!i[o])return null;const{from:a,to:s}=i[e],l=s-a-r.length+n,{from:c,to:u}=i[o];return i[o]={to:u-l,from:c-l},[l,i]}function Gst(r,e,{tr:n,dispatch:i}){let o=0,a=e.slice();if(a.length===0)return!1;for(let s=0;s<a.length;s+=1){const{from:l,to:c}=a[s];n.insertText(r,l,c);const u=qst(r,s,o,a);u&&(o=u[0],a=u[1])}return i(n),!0}function FJ({view:r,tr:e,searchResults:n,searchResultCurrentClass:i,gotoIndex:o}){const a=n[o];if(a){const s=e.setMeta("directDecoration",{fromPos:a.from,toPos:a.to,attrs:{class:i}});return r==null||r.dispatch(s),setTimeout(()=>{const l=window.document.querySelector(`.${i}`);l&&dP(l,{behavior:"smooth",scrollMode:"if-needed"})},0),!0}return!1}const W0e=Sn.create({name:"search",addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),searchTerm:"",replaceTerm:"",results:[],currentIndex:0,searchResultClass:"search-result",searchResultCurrentClass:"search-result-current",caseSensitive:!1,disableRegex:!1,onChange:()=>{},button:({editor:e,t:n})=>({component:Hst,componentProps:{action:()=>{},icon:"SearchAndReplace",tooltip:n("editor.searchAndReplace.tooltip"),isActive:()=>!1,disabled:!1,editor:e}})}},addStorage(){return{results:[],currentIndex:-1}},addCommands(){return{setSearchTerm:r=>({state:e,dispatch:n})=>(this.options.searchTerm=r,this.storage.results=[],this.storage.currentIndex=0,tl(zi.SEARCH_REPLCE),ty(e,n),!1),setReplaceTerm:r=>({state:e,dispatch:n})=>(this.options.replaceTerm=r,ty(e,n),!1),setCaseSensitive:r=>({state:e,dispatch:n})=>(this.options.caseSensitive=r,ty(e,n),!1),replace:()=>({state:r,dispatch:e})=>{const{replaceTerm:n}=this.options,{currentIndex:i,results:o}=this.storage,a=o[i];return a?(jJ(n,[a],{state:r,dispatch:e}),this.storage.results.splice(i,1)):(jJ(n,o,{state:r,dispatch:e}),this.storage.results.shift()),tl(zi.SEARCH_REPLCE),ty(r,e),!1},replaceAll:()=>({state:r,tr:e,dispatch:n})=>{const{replaceTerm:i}=this.options,{results:o}=this.storage;return Gst(i,o,{tr:e,dispatch:n}),this.storage.currentIndex=-1,this.storage.results=[],tl(zi.SEARCH_REPLCE),ty(r,n),!1},goToPrevSearchResult:()=>({view:r,tr:e})=>{const{searchResultCurrentClass:n}=this.options,{currentIndex:i,results:o}=this.storage,a=(i+o.length-1)%o.length;return this.storage.currentIndex=a,tl(zi.SEARCH_REPLCE),FJ({view:r,tr:e,searchResults:o,searchResultCurrentClass:n,gotoIndex:a})},goToNextSearchResult:()=>({view:r,tr:e})=>{const{searchResultCurrentClass:n}=this.options,{currentIndex:i,results:o}=this.storage,a=(i+1)%o.length;return this.storage.currentIndex=a,this.options.onChange&&this.options.onChange(),tl(zi.SEARCH_REPLCE),FJ({view:r,tr:e,searchResults:o,searchResultCurrentClass:n,gotoIndex:a})}}},addProseMirrorPlugins(){const r=this;return[new $n({key:new Ln("search"),state:{init(){return Cr.empty},apply(e){const{doc:n,docChanged:i}=e,{searchTerm:o,searchResultClass:a,searchResultCurrentClass:s,disableRegex:l,caseSensitive:c}=r.options;if(i||o){const{decorationsToReturn:u,results:d}=Vst(n,Wst(o,l,c),a);if(r.storage.results=d,r.storage.currentIndex>d.length-1&&(r.storage.currentIndex=0),tl(zi.SEARCH_REPLCE),e.getMeta("directDecoration")){const{fromPos:h,toPos:f,attrs:m}=e.getMeta("directDecoration");u.push(hi.inline(h,f,m))}else d.length>0&&(u[0]=hi.inline(d[0].from,d[0].to,{class:s}));return Cr.create(n,u)}return Cr.empty}},props:{decorations(e){return this.getState(e)}}})]}});function Kst(r,e){var n,i;const[o,a]=P.useState(0),[s,l]=P.useState(0),c=P.useRef(null),{t:u}=Cn(),d=P.useRef([]);P.useImperativeHandle(e,()=>({onKeyDown:h})),P.useEffect(()=>{if(!c.current)return;const w=s*1e3+o,k=d.current[w];k&&k.scrollIntoView({behavior:"smooth",block:"nearest"})},[o,s]);function h({event:w}){return w.key==="ArrowUp"?(f(),!0):w.key==="ArrowDown"?(m(),!0):w.key==="Enter"?(b(),!0):!1}function f(){var w;if(r.items.length===0)return!1;let k=o-1,T=s;k<0&&(T=s-1,k=((w=r.items[T])==null?void 0:w.commands.length)-1||0),T<0&&(T=r.items.length-1,k=r.items[T].commands.length-1),a(k),l(T)}function m(){if(r.items.length===0)return!1;const w=r.items[s].commands;let k=o+1,T=s;w.length-1<k&&(k=0,T=s+1),r.items.length-1<T&&(T=0),a(k),l(T)}function b(){if(r.items.length===0||s===-1||o===-1)return!1;g(s,o)}function g(w,k){const T=r.items[w].commands[k];r.command(T)}function v(w,k){g(w,k)}function x(w,k,T){d.current[w*1e3+k]=T}return E.jsx("div",{className:"richtext-mb-8 richtext-max-h-[min(80vh,24rem)] richtext-flex-wrap richtext-overflow-auto richtext-rounded-lg !richtext-border !richtext-border-neutral-200 !richtext-bg-white richtext-p-1 !richtext-text-black richtext-shadow-sm dark:!richtext-border-neutral-800 dark:!richtext-bg-black",ref:c,children:(n=r==null?void 0:r.items)!=null&&n.length?E.jsx("div",{className:"richtext-grid richtext-min-w-48 richtext-grid-cols-1 richtext-gap-0.5",children:(i=r==null?void 0:r.items)==null?void 0:i.map((w,k)=>E.jsxs(P.Fragment,{children:[E.jsx("div",{className:"richtext-col-[1/-1] richtext-mx-2 richtext-mt-2 richtext-select-none richtext-text-[0.65rem] richtext-font-semibold richtext-uppercase richtext-tracking-wider !richtext-text-neutral-500 first:richtext-mt-0.5",children:w.title}),w.commands.map((T,_)=>E.jsxs("button",{onClick:()=>v(k,_),ref:D=>x(k,_,D),className:wt("richtext-flex richtext-items-center richtext-gap-3 richtext-px-2 richtext-py-1.5 richtext-text-sm !richtext-text-neutral-800 dark:!richtext-text-neutral-200 richtext-text-left richtext-w-full richtext-rounded-sm richtext-outline-none richtext-transition-colors !richtext-bg-transparent hover:!richtext-bg-accent ",{"slash-command-active":s===k&&o===_}),children:[T.iconUrl&&E.jsx("img",{alt:"",className:"richtext-size-6",src:T.iconUrl}),T.iconName&&E.jsx(wn,{className:"!richtext-mr-1 !richtext-text-lg",name:T.iconName}),T.label]},`command-${_}`))]},`slash-${w.title}`))}):E.jsx("div",{className:"richtext-p-3",children:E.jsx("span",{className:"richtext-text-xs richtext-text-gray-800 dark:richtext-text-gray-100",children:u("editor.slash.empty")})})})}const Xst=P.forwardRef(Kst),Yst={setOpen:(r,e)=>{tl(zi.UPLOAD_VIDEO(r),e)}};function Zst(r,e){const n=[{name:"format",title:An.t("editor.slash.format"),commands:[]},{name:"insert",title:An.t("editor.slash.insert"),commands:[]}];return r.forEach(i=>{i.name.toLowerCase()==="heading"&&i.options.levels.forEach(o=>{n[0].commands.push({name:`heading${o}`,label:An.t(`editor.heading.h${o}.tooltip`),aliases:[`h${o}`,"bt",`bt${o}`],iconName:`Heading${o}`,action:({editor:a,range:s})=>{a.chain().focus().deleteRange(s).setHeading({level:o}).run()}})}),i.name.toLowerCase()==="bulletlist"&&n[0].commands.push({name:"bulletList",label:An.t("editor.bulletlist.tooltip"),aliases:["ul","yxlb"],iconName:"List",action:({editor:o,range:a})=>{o.chain().focus().deleteRange(a).toggleBulletList().run()}}),i.name.toLowerCase()==="orderedlist"&&n[0].commands.push({name:"numberedList",label:An.t("editor.orderedlist.tooltip"),aliases:["ol","yxlb"],iconName:"ListOrdered",action:({editor:o,range:a})=>{o.chain().focus().deleteRange(a).toggleOrderedList().run()}}),i.name.toLowerCase()==="tasklist"&&n[0].commands.push({name:"taskList",label:An.t("editor.tasklist.tooltip"),iconName:"ListTodo",description:"Task list with todo items",aliases:["todo"],action:({editor:o,range:a})=>{o.chain().focus().deleteRange(a).toggleTaskList().run()}}),i.name.toLowerCase()==="blockquote"&&n[0].commands.push({name:"blockquote",label:An.t("editor.blockquote.tooltip"),description:"",aliases:["yr"],iconName:"TextQuote",action:({editor:o,range:a})=>{o.chain().focus().deleteRange(a).setBlockquote().run()}}),i.name.toLowerCase()==="codeblock"&&n[0].commands.push({name:"codeBlock",label:An.t("editor.codeblock.tooltip"),iconName:"Code2",description:"Code block with syntax highlighting",shouldBeHidden:o=>o.isActive("columns"),action:({editor:o,range:a})=>{o.chain().focus().deleteRange(a).setCodeBlock().run()}}),i.name.toLowerCase()===Vf.name&&n[1].commands.push({name:"image",label:An.t("editor.image.tooltip"),iconName:"ImageUp",description:"Insert a image",aliases:["image","tp","tupian"],shouldBeHidden:o=>o.isActive("columns"),action:({editor:o,range:a})=>{o.chain().focus().deleteRange(a).run(),sle.setOpen(o.id,!0)}}),i.name.toLowerCase()===AS.name&&n[1].commands.push({name:"video",label:An.t("editor.video.tooltip"),iconName:"Video",description:"Insert a video",aliases:["video","sp","shipin"],shouldBeHidden:o=>o.isActive("columns"),action:({editor:o,range:a})=>{o.chain().focus().deleteRange(a).run(),Yst.setOpen(o.id,!0)}}),i.name.toLowerCase()==="table"&&n[1].commands.push({name:"table",label:An.t("editor.table.tooltip"),iconName:"Table",description:"Insert a table",aliases:["table","bg","biaoge","biao"],shouldBeHidden:o=>o.isActive("columns"),action:({editor:o,range:a})=>{o.chain().focus().deleteRange(a).insertTable({rows:3,cols:3,withHeaderRow:!1}).run()}}),i.name.toLowerCase()==="horizontalrule"&&n[1].commands.push({name:"horizontalRule",label:An.t("editor.horizontalrule.tooltip"),iconName:"Minus",description:"Insert a horizontal divider",aliases:["hr","fgx","fg"],action:({editor:o,range:a})=>{o.chain().focus().deleteRange(a).setHorizontalRule().run()}}),i.name.toLowerCase()==="columns"&&n[1].commands.push({name:"columns",label:An.t("editor.columns.tooltip"),iconName:"Columns2",description:"Add two column content",action:({editor:o})=>{o.chain().focus().insertColumns({cols:2}).run()}}),e==null||e(i,n)}),n}const Kh="slashCommand";let ei;const Jst=Sn.create({name:Kh,priority:200,onCreate(){ei=eu("body",{interactive:!0,trigger:"manual",placement:"bottom-start",theme:"slash-command",maxWidth:"16rem",offset:[16,8],popperOptions:{strategy:"fixed",modifiers:[{name:"flip",enabled:!1}]}})},addProseMirrorPlugins(){return[sP({editor:this.editor,char:"/",allowSpaces:!0,startOfLine:!0,pluginKey:new Ln(Kh),allow:({state:r,range:e})=>{var n,i,o;const a=r.doc.resolve(e.from),s=a.depth===1,l=a.parent.type.name==="paragraph",c=((n=a.parent.textContent)==null?void 0:n.charAt(0))==="/",u=this.editor.isActive("column"),d=(o=a.parent.textContent)==null?void 0:o.slice(Math.max(0,(i=a.parent.textContent)==null?void 0:i.indexOf("/"))),h=!(d!=null&&d.endsWith("  "));return(s&&l&&c||u&&l&&c)&&h},command:({editor:r,range:e,props:n})=>{const{view:i}=r;n.action({editor:r,range:e}),i.focus()},items:({query:r,editor:e})=>Zst(e.extensionManager.extensions,this.options.renderGroupItem).map(n=>({...n,commands:n.commands.filter(i=>{const o=i.label.toLowerCase().trim(),a=r.toLowerCase().trim();if(i.aliases){const s=i.aliases.map(u=>u.toLowerCase().trim()),l=o.match(a),c=s.some(u=>u.match(a));return l||c}return o.match(a)}).filter(i=>i.shouldBeHidden?!i.shouldBeHidden(this.editor):!0)})).filter(n=>n.commands.length>0).map(n=>({...n,commands:n.commands.map(i=>({...i,isEnabled:!0}))})),render:()=>{let r,e=null;return{onStart:n=>{var i;r=new W5(Xst,{props:n,editor:n.editor});const{view:o}=n.editor,a=()=>{if(!n.clientRect)return n.editor.storage[Kh].rect;const s=n.clientRect();if(!s)return n.editor.storage[Kh].rect;let l=s.y;if(s.top+r.element.offsetHeight+40>window.innerHeight){const c=s.top+r.element.offsetHeight-window.innerHeight+40;l=s.y-c}return new DOMRect(s.x,l,s.width,s.height)};e=()=>{ei==null||ei[0].setProps({getReferenceClientRect:a})},(i=o.dom.parentElement)==null||i.addEventListener("scroll",e),ei==null||ei[0].setProps({getReferenceClientRect:a,appendTo:()=>document.body,content:r.element}),ei==null||ei[0].show()},onUpdate(n){var i;r.updateProps(n);const{view:o}=n.editor,a=()=>{if(!n.clientRect)return n.editor.storage[Kh].rect;const l=n.clientRect();return l?new DOMRect(l.x,l.y,l.width,l.height):n.editor.storage[Kh].rect},s=()=>{ei==null||ei[0].setProps({getReferenceClientRect:a})};(i=o.dom.parentElement)==null||i.addEventListener("scroll",s),n.editor.storage[Kh].rect=n.clientRect?a():{width:0,height:0,left:0,top:0,right:0,bottom:0},ei==null||ei[0].setProps({getReferenceClientRect:a})},onKeyDown(n){var i;return n.event.key==="Escape"?(ei==null||ei[0].hide(),!0):(ei!=null&&ei[0].state.isShown||ei==null||ei[0].show(),(i=r.ref)==null?void 0:i.onKeyDown(n))},onExit(n){var i;if(ei==null||ei[0].hide(),e){const{view:o}=n.editor;(i=o.dom.parentElement)==null||i.removeEventListener("scroll",e)}r.destroy()}}}})]},addStorage(){return{rect:{width:0,height:0,left:0,top:0,right:0,bottom:0}}}}),Qst=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,elt=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,tlt=Os.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:r=>r.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:r}){return["s",en(this.options.HTMLAttributes,r),0]},addCommands(){return{setStrike:()=>({commands:r})=>r.setMark(this.name),toggleStrike:()=>({commands:r})=>r.toggleMark(this.name),unsetStrike:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Bf({find:Qst,type:this.type})]},addPasteRules(){return[Cd({find:elt,type:this.type})]}}),nlt=tlt.extend({addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),button:({editor:e,t:n})=>({component:ft,componentProps:{action:()=>e.commands.toggleStrike(),isActive:()=>e.isActive("strike")||!1,disabled:!1,icon:"Strikethrough",shortcutKeys:["shift","mod","S"],tooltip:n("editor.strike.tooltip")}})}}});var UM,BM;if(typeof WeakMap<"u"){let r=new WeakMap;UM=e=>r.get(e),BM=(e,n)=>(r.set(e,n),n)}else{const r=[];let e=0;UM=n=>{for(let i=0;i<r.length;i+=2)if(r[i]==n)return r[i+1]},BM=(n,i)=>(e==10&&(e=0),r[e++]=n,r[e++]=i)}var Or=class{constructor(r,e,n,i){this.width=r,this.height=e,this.map=n,this.problems=i}findCell(r){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=r)continue;const i=e%this.width,o=e/this.width|0;let a=i+1,s=o+1;for(let l=1;a<this.width&&this.map[e+l]==n;l++)a++;for(let l=1;s<this.height&&this.map[e+this.width*l]==n;l++)s++;return{left:i,top:o,right:a,bottom:s}}throw new RangeError(`No cell with offset ${r} found`)}colCount(r){for(let e=0;e<this.map.length;e++)if(this.map[e]==r)return e%this.width;throw new RangeError(`No cell with offset ${r} found`)}nextCell(r,e,n){const{left:i,right:o,top:a,bottom:s}=this.findCell(r);return e=="horiz"?(n<0?i==0:o==this.width)?null:this.map[a*this.width+(n<0?i-1:o)]:(n<0?a==0:s==this.height)?null:this.map[i+this.width*(n<0?a-1:s)]}rectBetween(r,e){const{left:n,right:i,top:o,bottom:a}=this.findCell(r),{left:s,right:l,top:c,bottom:u}=this.findCell(e);return{left:Math.min(n,s),top:Math.min(o,c),right:Math.max(i,l),bottom:Math.max(a,u)}}cellsInRect(r){const e=[],n={};for(let i=r.top;i<r.bottom;i++)for(let o=r.left;o<r.right;o++){const a=i*this.width+o,s=this.map[a];n[s]||(n[s]=!0,!(o==r.left&&o&&this.map[a-1]==s||i==r.top&&i&&this.map[a-this.width]==s)&&e.push(s))}return e}positionAt(r,e,n){for(let i=0,o=0;;i++){const a=o+n.child(i).nodeSize;if(i==r){let s=e+r*this.width;const l=(r+1)*this.width;for(;s<l&&this.map[s]<o;)s++;return s==l?a-1:this.map[s]}o=a}}static get(r){return UM(r)||BM(r,rlt(r))}};function rlt(r){if(r.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+r.type.name);const e=ilt(r),n=r.childCount,i=[];let o=0,a=null;const s=[];for(let u=0,d=e*n;u<d;u++)i[u]=0;for(let u=0,d=0;u<n;u++){const h=r.child(u);d++;for(let b=0;;b++){for(;o<i.length&&i[o]!=0;)o++;if(b==h.childCount)break;const g=h.child(b),{colspan:v,rowspan:x,colwidth:w}=g.attrs;for(let k=0;k<x;k++){if(k+u>=n){(a||(a=[])).push({type:"overlong_rowspan",pos:d,n:x-k});break}const T=o+k*e;for(let _=0;_<v;_++){i[T+_]==0?i[T+_]=d:(a||(a=[])).push({type:"collision",row:u,pos:d,n:v-_});const D=w&&w[_];if(D){const I=(T+_)%e*2,L=s[I];L==null||L!=D&&s[I+1]==1?(s[I]=D,s[I+1]=1):L==D&&s[I+1]++}}}o+=v,d+=g.nodeSize}const f=(u+1)*e;let m=0;for(;o<f;)i[o++]==0&&m++;m&&(a||(a=[])).push({type:"missing",row:u,n:m}),d++}(e===0||n===0)&&(a||(a=[])).push({type:"zero_sized"});const l=new Or(e,n,i,a);let c=!1;for(let u=0;!c&&u<s.length;u+=2)s[u]!=null&&s[u+1]<n&&(c=!0);return c&&olt(l,s,r),l}function ilt(r){let e=-1,n=!1;for(let i=0;i<r.childCount;i++){const o=r.child(i);let a=0;if(n)for(let s=0;s<i;s++){const l=r.child(s);for(let c=0;c<l.childCount;c++){const u=l.child(c);s+u.attrs.rowspan>i&&(a+=u.attrs.colspan)}}for(let s=0;s<o.childCount;s++){const l=o.child(s);a+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}e==-1?e=a:e!=a&&(e=Math.max(e,a))}return e}function olt(r,e,n){r.problems||(r.problems=[]);const i={};for(let o=0;o<r.map.length;o++){const a=r.map[o];if(i[a])continue;i[a]=!0;const s=n.nodeAt(a);if(!s)throw new RangeError(`No cell with offset ${a} found`);let l=null;const c=s.attrs;for(let u=0;u<c.colspan;u++){const d=(o+u)%r.width,h=e[d*2];h!=null&&(!c.colwidth||c.colwidth[u]!=h)&&((l||(l=alt(c)))[u]=h)}l&&r.problems.unshift({type:"colwidth mismatch",pos:a,colwidth:l})}}function alt(r){if(r.colwidth)return r.colwidth.slice();const e=[];for(let n=0;n<r.colspan;n++)e.push(0);return e}function Hi(r){let e=r.cached.tableNodeTypes;if(!e){e=r.cached.tableNodeTypes={};for(const n in r.nodes){const i=r.nodes[n],o=i.spec.tableRole;o&&(e[o]=i)}}return e}var ad=new Ln("selectingCells");function wg(r){for(let e=r.depth-1;e>0;e--)if(r.node(e).type.spec.tableRole=="row")return r.node(0).resolve(r.before(e+1));return null}function slt(r){for(let e=r.depth;e>0;e--){const n=r.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return r.node(e)}return null}function $s(r){const e=r.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function W6(r){const e=r.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=wg(e.$head)||llt(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function llt(r){for(let e=r.nodeAfter,n=r.pos;e;e=e.firstChild,n++){const i=e.type.spec.tableRole;if(i=="cell"||i=="header_cell")return r.doc.resolve(n)}for(let e=r.nodeBefore,n=r.pos;e;e=e.lastChild,n--){const i=e.type.spec.tableRole;if(i=="cell"||i=="header_cell")return r.doc.resolve(n-e.nodeSize)}}function jM(r){return r.parent.type.spec.tableRole=="row"&&!!r.nodeAfter}function clt(r){return r.node(0).resolve(r.pos+r.nodeAfter.nodeSize)}function MI(r,e){return r.depth==e.depth&&r.pos>=e.start(-1)&&r.pos<=e.end(-1)}function V0e(r,e,n){const i=r.node(-1),o=Or.get(i),a=r.start(-1),s=o.nextCell(r.pos-a,e,n);return s==null?null:r.node(0).resolve(a+s)}function ep(r,e,n=1){const i={...r,colspan:r.colspan-n};return i.colwidth&&(i.colwidth=i.colwidth.slice(),i.colwidth.splice(e,n),i.colwidth.some(o=>o>0)||(i.colwidth=null)),i}function q0e(r,e,n=1){const i={...r,colspan:r.colspan+n};if(i.colwidth){i.colwidth=i.colwidth.slice();for(let o=0;o<n;o++)i.colwidth.splice(e,0,0)}return i}function ult(r,e,n){const i=Hi(e.type.schema).header_cell;for(let o=0;o<r.height;o++)if(e.nodeAt(r.map[n+o*r.width]).type!=i)return!1;return!0}var tr=class mc extends Xt{constructor(e,n=e){const i=e.node(-1),o=Or.get(i),a=e.start(-1),s=o.rectBetween(e.pos-a,n.pos-a),l=e.node(0),c=o.cellsInRect(s).filter(d=>d!=n.pos-a);c.unshift(n.pos-a);const u=c.map(d=>{const h=i.nodeAt(d);if(!h)throw RangeError(`No cell with offset ${d} found`);const f=a+d+1;return new MR(l.resolve(f),l.resolve(f+h.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=e,this.$headCell=n}map(e,n){const i=e.resolve(n.map(this.$anchorCell.pos)),o=e.resolve(n.map(this.$headCell.pos));if(jM(i)&&jM(o)&&MI(i,o)){const a=this.$anchorCell.node(-1)!=i.node(-1);return a&&this.isRowSelection()?mc.rowSelection(i,o):a&&this.isColSelection()?mc.colSelection(i,o):new mc(i,o)}return Ht.between(i,o)}content(){const e=this.$anchorCell.node(-1),n=Or.get(e),i=this.$anchorCell.start(-1),o=n.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i),a={},s=[];for(let c=o.top;c<o.bottom;c++){const u=[];for(let d=c*n.width+o.left,h=o.left;h<o.right;h++,d++){const f=n.map[d];if(a[f])continue;a[f]=!0;const m=n.findCell(f);let b=e.nodeAt(f);if(!b)throw RangeError(`No cell with offset ${f} found`);const g=o.left-m.left,v=m.right-o.right;if(g>0||v>0){let x=b.attrs;if(g>0&&(x=ep(x,0,g)),v>0&&(x=ep(x,x.colspan-v,v)),m.left<o.left){if(b=b.type.createAndFill(x),!b)throw RangeError(`Could not create cell with attrs ${JSON.stringify(x)}`)}else b=b.type.create(x,b.content)}if(m.top<o.top||m.bottom>o.bottom){const x={...b.attrs,rowspan:Math.min(m.bottom,o.bottom)-Math.max(m.top,o.top)};m.top<o.top?b=b.type.createAndFill(x):b=b.type.create(x,b.content)}u.push(b)}s.push(e.child(c).copy(st.from(u)))}const l=this.isColSelection()&&this.isRowSelection()?e:s;return new Et(st.from(l),1,1)}replace(e,n=Et.empty){const i=e.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){const{$from:l,$to:c}=o[s],u=e.mapping.slice(i);e.replace(u.map(l.pos),u.map(c.pos),s?Et.empty:n)}const a=Xt.findFrom(e.doc.resolve(e.mapping.slice(i).map(this.to)),-1);a&&e.setSelection(a)}replaceWith(e,n){this.replace(e,new Et(st.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),i=Or.get(n),o=this.$anchorCell.start(-1),a=i.cellsInRect(i.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o));for(let s=0;s<a.length;s++)e(n.nodeAt(a[s]),o+a[s])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const i=e+this.$anchorCell.nodeAfter.attrs.rowspan,o=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(i,o)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const i=e.node(-1),o=Or.get(i),a=e.start(-1),s=o.findCell(e.pos-a),l=o.findCell(n.pos-a),c=e.node(0);return s.top<=l.top?(s.top>0&&(e=c.resolve(a+o.map[s.left])),l.bottom<o.height&&(n=c.resolve(a+o.map[o.width*(o.height-1)+l.right-1]))):(l.top>0&&(n=c.resolve(a+o.map[l.left])),s.bottom<o.height&&(e=c.resolve(a+o.map[o.width*(o.height-1)+s.right-1]))),new mc(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Or.get(e),i=this.$anchorCell.start(-1),o=n.colCount(this.$anchorCell.pos-i),a=n.colCount(this.$headCell.pos-i);if(Math.min(o,a)>0)return!1;const s=o+this.$anchorCell.nodeAfter.attrs.colspan,l=a+this.$headCell.nodeAfter.attrs.colspan;return Math.max(s,l)==n.width}eq(e){return e instanceof mc&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const i=e.node(-1),o=Or.get(i),a=e.start(-1),s=o.findCell(e.pos-a),l=o.findCell(n.pos-a),c=e.node(0);return s.left<=l.left?(s.left>0&&(e=c.resolve(a+o.map[s.top*o.width])),l.right<o.width&&(n=c.resolve(a+o.map[o.width*(l.top+1)-1]))):(l.left>0&&(n=c.resolve(a+o.map[l.top*o.width])),s.right<o.width&&(e=c.resolve(a+o.map[o.width*(s.top+1)-1]))),new mc(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new mc(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,i=n){return new mc(e.resolve(n),e.resolve(i))}getBookmark(){return new dlt(this.$anchorCell.pos,this.$headCell.pos)}};tr.prototype.visible=!1;Xt.jsonID("cell",tr);var dlt=class G0e{constructor(e,n){this.anchor=e,this.head=n}map(e){return new G0e(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),i=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&i.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&i.index()<i.parent.childCount&&MI(n,i)?new tr(n,i):Xt.near(i,1)}};function hlt(r){if(!(r.selection instanceof tr))return null;const e=[];return r.selection.forEachCell((n,i)=>{e.push(hi.node(i,i+n.nodeSize,{class:"selectedCell"}))}),Cr.create(r.doc,e)}function flt({$from:r,$to:e}){if(r.pos==e.pos||r.pos<e.pos-6)return!1;let n=r.pos,i=e.pos,o=r.depth;for(;o>=0&&!(r.after(o+1)<r.end(o));o--,n++);for(let a=e.depth;a>=0&&!(e.before(a+1)>e.start(a));a--,i--);return n==i&&/row|table/.test(r.node(o).type.spec.tableRole)}function plt({$from:r,$to:e}){let n,i;for(let o=r.depth;o>0;o--){const a=r.node(o);if(a.type.spec.tableRole==="cell"||a.type.spec.tableRole==="header_cell"){n=a;break}}for(let o=e.depth;o>0;o--){const a=e.node(o);if(a.type.spec.tableRole==="cell"||a.type.spec.tableRole==="header_cell"){i=a;break}}return n!==i&&e.parentOffset===0}function mlt(r,e,n){const i=(e||r).selection,o=(e||r).doc;let a,s;if(i instanceof Gt&&(s=i.node.type.spec.tableRole)){if(s=="cell"||s=="header_cell")a=tr.create(o,i.from);else if(s=="row"){const l=o.resolve(i.from+1);a=tr.rowSelection(l,l)}else if(!n){const l=Or.get(i.node),c=i.from+1,u=c+l.map[l.width*l.height-1];a=tr.create(o,c+1,u)}}else i instanceof Ht&&flt(i)?a=Ht.create(o,i.from):i instanceof Ht&&plt(i)&&(a=Ht.create(o,i.$from.start(),i.$from.end()));return a&&(e||(e=r.tr)).setSelection(a),e}var glt=new Ln("fix-tables");function K0e(r,e,n,i){const o=r.childCount,a=e.childCount;e:for(let s=0,l=0;s<a;s++){const c=e.child(s);for(let u=l,d=Math.min(o,s+3);u<d;u++)if(r.child(u)==c){l=u+1,n+=c.nodeSize;continue e}i(c,n),l<o&&r.child(l).sameMarkup(c)?K0e(r.child(l),c,n+1,i):c.nodesBetween(0,c.content.size,i,n+1),n+=c.nodeSize}}function X0e(r,e){let n;const i=(o,a)=>{o.type.spec.tableRole=="table"&&(n=ylt(r,o,a,n))};return e?e.doc!=r.doc&&K0e(e.doc,r.doc,0,i):r.doc.descendants(i),n}function ylt(r,e,n,i){const o=Or.get(e);if(!o.problems)return i;i||(i=r.tr);const a=[];for(let c=0;c<o.height;c++)a.push(0);for(let c=0;c<o.problems.length;c++){const u=o.problems[c];if(u.type=="collision"){const d=e.nodeAt(u.pos);if(!d)continue;const h=d.attrs;for(let f=0;f<h.rowspan;f++)a[u.row+f]+=u.n;i.setNodeMarkup(i.mapping.map(n+1+u.pos),null,ep(h,h.colspan-u.n,u.n))}else if(u.type=="missing")a[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const d=e.nodeAt(u.pos);if(!d)continue;i.setNodeMarkup(i.mapping.map(n+1+u.pos),null,{...d.attrs,rowspan:d.attrs.rowspan-u.n})}else if(u.type=="colwidth mismatch"){const d=e.nodeAt(u.pos);if(!d)continue;i.setNodeMarkup(i.mapping.map(n+1+u.pos),null,{...d.attrs,colwidth:u.colwidth})}else if(u.type=="zero_sized"){const d=i.mapping.map(n);i.delete(d,d+e.nodeSize)}}let s,l;for(let c=0;c<a.length;c++)a[c]&&(s==null&&(s=c),l=c);for(let c=0,u=n+1;c<o.height;c++){const d=e.child(c),h=u+d.nodeSize,f=a[c];if(f>0){let m="cell";d.firstChild&&(m=d.firstChild.type.spec.tableRole);const b=[];for(let v=0;v<f;v++){const x=Hi(r.schema)[m].createAndFill();x&&b.push(x)}const g=(c==0||s==c-1)&&l==c?u+1:h-1;i.insert(i.mapping.map(g),b)}u=h}return i.setMeta(glt,{fixTables:!0})}function $l(r){const e=r.selection,n=W6(r),i=n.node(-1),o=n.start(-1),a=Or.get(i);return{...e instanceof tr?a.rectBetween(e.$anchorCell.pos-o,e.$headCell.pos-o):a.findCell(n.pos-o),tableStart:o,map:a,table:i}}function Y0e(r,{map:e,tableStart:n,table:i},o){let a=o>0?-1:0;ult(e,i,o+a)&&(a=o==0||o==e.width?null:0);for(let s=0;s<e.height;s++){const l=s*e.width+o;if(o>0&&o<e.width&&e.map[l-1]==e.map[l]){const c=e.map[l],u=i.nodeAt(c);r.setNodeMarkup(r.mapping.map(n+c),null,q0e(u.attrs,o-e.colCount(c))),s+=u.attrs.rowspan-1}else{const c=a==null?Hi(i.type.schema).cell:i.nodeAt(e.map[l+a]).type,u=e.positionAt(s,o,i);r.insert(r.mapping.map(n+u),c.createAndFill())}}return r}function blt(r,e){if(!$s(r))return!1;if(e){const n=$l(r);e(Y0e(r.tr,n,n.left))}return!0}function vlt(r,e){if(!$s(r))return!1;if(e){const n=$l(r);e(Y0e(r.tr,n,n.right))}return!0}function xlt(r,{map:e,table:n,tableStart:i},o){const a=r.mapping.maps.length;for(let s=0;s<e.height;){const l=s*e.width+o,c=e.map[l],u=n.nodeAt(c),d=u.attrs;if(o>0&&e.map[l-1]==c||o<e.width-1&&e.map[l+1]==c)r.setNodeMarkup(r.mapping.slice(a).map(i+c),null,ep(d,o-e.colCount(c)));else{const h=r.mapping.slice(a).map(i+c);r.delete(h,h+u.nodeSize)}s+=d.rowspan}}function wlt(r,e){if(!$s(r))return!1;if(e){const n=$l(r),i=r.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let o=n.right-1;xlt(i,n,o),o!=n.left;o--){const a=n.tableStart?i.doc.nodeAt(n.tableStart-1):i.doc;if(!a)throw RangeError("No table found");n.table=a,n.map=Or.get(a)}e(i)}return!0}function Slt(r,e,n){var i;const o=Hi(e.type.schema).header_cell;for(let a=0;a<r.width;a++)if(((i=e.nodeAt(r.map[a+n*r.width]))==null?void 0:i.type)!=o)return!1;return!0}function Z0e(r,{map:e,tableStart:n,table:i},o){var a;let s=n;for(let u=0;u<o;u++)s+=i.child(u).nodeSize;const l=[];let c=o>0?-1:0;Slt(e,i,o+c)&&(c=o==0||o==e.height?null:0);for(let u=0,d=e.width*o;u<e.width;u++,d++)if(o>0&&o<e.height&&e.map[d]==e.map[d-e.width]){const h=e.map[d],f=i.nodeAt(h).attrs;r.setNodeMarkup(n+h,null,{...f,rowspan:f.rowspan+1}),u+=f.colspan-1}else{const h=c==null?Hi(i.type.schema).cell:(a=i.nodeAt(e.map[d+c*e.width]))==null?void 0:a.type,f=h==null?void 0:h.createAndFill();f&&l.push(f)}return r.insert(s,Hi(i.type.schema).row.create(null,l)),r}function klt(r,e){if(!$s(r))return!1;if(e){const n=$l(r);e(Z0e(r.tr,n,n.top))}return!0}function Tlt(r,e){if(!$s(r))return!1;if(e){const n=$l(r);e(Z0e(r.tr,n,n.bottom))}return!0}function Elt(r,{map:e,table:n,tableStart:i},o){let a=0;for(let u=0;u<o;u++)a+=n.child(u).nodeSize;const s=a+n.child(o).nodeSize,l=r.mapping.maps.length;r.delete(a+i,s+i);const c=new Set;for(let u=0,d=o*e.width;u<e.width;u++,d++){const h=e.map[d];if(!c.has(h)){if(c.add(h),o>0&&h==e.map[d-e.width]){const f=n.nodeAt(h).attrs;r.setNodeMarkup(r.mapping.slice(l).map(h+i),null,{...f,rowspan:f.rowspan-1}),u+=f.colspan-1}else if(o<e.height&&h==e.map[d+e.width]){const f=n.nodeAt(h),m=f.attrs,b=f.type.create({...m,rowspan:f.attrs.rowspan-1},f.content),g=e.positionAt(o+1,u,n);r.insert(r.mapping.slice(l).map(i+g),b),u+=m.colspan-1}}}}function Clt(r,e){if(!$s(r))return!1;if(e){const n=$l(r),i=r.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let o=n.bottom-1;Elt(i,n,o),o!=n.top;o--){const a=n.tableStart?i.doc.nodeAt(n.tableStart-1):i.doc;if(!a)throw RangeError("No table found");n.table=a,n.map=Or.get(n.table)}e(i)}return!0}function HJ(r){const e=r.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function _lt({width:r,height:e,map:n},i){let o=i.top*r+i.left,a=o,s=(i.bottom-1)*r+i.left,l=o+(i.right-i.left-1);for(let c=i.top;c<i.bottom;c++){if(i.left>0&&n[a]==n[a-1]||i.right<r&&n[l]==n[l+1])return!0;a+=r,l+=r}for(let c=i.left;c<i.right;c++){if(i.top>0&&n[o]==n[o-r]||i.bottom<e&&n[s]==n[s+r])return!0;o++,s++}return!1}function WJ(r,e){const n=r.selection;if(!(n instanceof tr)||n.$anchorCell.pos==n.$headCell.pos)return!1;const i=$l(r),{map:o}=i;if(_lt(o,i))return!1;if(e){const a=r.tr,s={};let l=st.empty,c,u;for(let d=i.top;d<i.bottom;d++)for(let h=i.left;h<i.right;h++){const f=o.map[d*o.width+h],m=i.table.nodeAt(f);if(!(s[f]||!m))if(s[f]=!0,c==null)c=f,u=m;else{HJ(m)||(l=l.append(m.content));const b=a.mapping.map(f+i.tableStart);a.delete(b,b+m.nodeSize)}}if(c==null||u==null)return!0;if(a.setNodeMarkup(c+i.tableStart,null,{...q0e(u.attrs,u.attrs.colspan,i.right-i.left-u.attrs.colspan),rowspan:i.bottom-i.top}),l.size){const d=c+1+u.content.size,h=HJ(u)?c+1:d;a.replaceWith(h+i.tableStart,d+i.tableStart,l)}a.setSelection(new tr(a.doc.resolve(c+i.tableStart))),e(a)}return!0}function VJ(r,e){const n=Hi(r.schema);return Alt(({node:i})=>n[i.type.spec.tableRole])(r,e)}function Alt(r){return(e,n)=>{var i;const o=e.selection;let a,s;if(o instanceof tr){if(o.$anchorCell.pos!=o.$headCell.pos)return!1;a=o.$anchorCell.nodeAfter,s=o.$anchorCell.pos}else{if(a=slt(o.$from),!a)return!1;s=(i=wg(o.$from))==null?void 0:i.pos}if(a==null||s==null||a.attrs.colspan==1&&a.attrs.rowspan==1)return!1;if(n){let l=a.attrs;const c=[],u=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const d=$l(e),h=e.tr;for(let m=0;m<d.right-d.left;m++)c.push(u?{...l,colwidth:u&&u[m]?[u[m]]:null}:l);let f;for(let m=d.top;m<d.bottom;m++){let b=d.map.positionAt(m,d.left,d.table);m==d.top&&(b+=a.nodeSize);for(let g=d.left,v=0;g<d.right;g++,v++)g==d.left&&m==d.top||h.insert(f=h.mapping.map(b+d.tableStart,1),r({node:a,row:m,col:g}).createAndFill(c[v]))}h.setNodeMarkup(s,r({node:a,row:d.top,col:d.left}),c[0]),o instanceof tr&&h.setSelection(new tr(h.doc.resolve(o.$anchorCell.pos),f?h.doc.resolve(f):void 0)),n(h)}return!0}}function Dlt(r,e){return function(n,i){if(!$s(n))return!1;const o=W6(n);if(o.nodeAfter.attrs[r]===e)return!1;if(i){const a=n.tr;n.selection instanceof tr?n.selection.forEachCell((s,l)=>{s.attrs[r]!==e&&a.setNodeMarkup(l,null,{...s.attrs,[r]:e})}):a.setNodeMarkup(o.pos,null,{...o.nodeAfter.attrs,[r]:e}),i(a)}return!0}}function Mlt(r){return function(e,n){if(!$s(e))return!1;if(n){const i=Hi(e.schema),o=$l(e),a=e.tr,s=o.map.cellsInRect(r=="column"?{left:o.left,top:0,right:o.right,bottom:o.map.height}:r=="row"?{left:0,top:o.top,right:o.map.width,bottom:o.bottom}:o),l=s.map(c=>o.table.nodeAt(c));for(let c=0;c<s.length;c++)l[c].type==i.header_cell&&a.setNodeMarkup(o.tableStart+s[c],i.cell,l[c].attrs);if(a.steps.length==0)for(let c=0;c<s.length;c++)a.setNodeMarkup(o.tableStart+s[c],i.header_cell,l[c].attrs);n(a)}return!0}}function qJ(r,e,n){const i=e.map.cellsInRect({left:0,top:0,right:r=="row"?e.map.width:1,bottom:r=="column"?e.map.height:1});for(let o=0;o<i.length;o++){const a=e.table.nodeAt(i[o]);if(a&&a.type!==n.header_cell)return!1}return!0}function zb(r,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?Mlt(r):function(n,i){if(!$s(n))return!1;if(i){const o=Hi(n.schema),a=$l(n),s=n.tr,l=qJ("row",a,o),c=qJ("column",a,o),u=(r==="column"?l:r==="row"&&c)?1:0,d=r=="column"?{left:0,top:u,right:1,bottom:a.map.height}:r=="row"?{left:u,top:0,right:a.map.width,bottom:1}:a,h=r=="column"?c?o.cell:o.header_cell:r=="row"?l?o.cell:o.header_cell:o.cell;a.map.cellsInRect(d).forEach(f=>{const m=f+a.tableStart,b=s.doc.nodeAt(m);b&&s.setNodeMarkup(m,h,b.attrs)}),i(s)}return!0}}zb("row",{useDeprecatedLogic:!0});zb("column",{useDeprecatedLogic:!0});var Rlt=zb("cell",{useDeprecatedLogic:!0});function Nlt(r,e){if(e<0){const n=r.nodeBefore;if(n)return r.pos-n.nodeSize;for(let i=r.index(-1)-1,o=r.before();i>=0;i--){const a=r.node(-1).child(i),s=a.lastChild;if(s)return o-1-s.nodeSize;o-=a.nodeSize}}else{if(r.index()<r.parent.childCount-1)return r.pos+r.nodeAfter.nodeSize;const n=r.node(-1);for(let i=r.indexAfter(-1),o=r.after();i<n.childCount;i++){const a=n.child(i);if(a.childCount)return o+1;o+=a.nodeSize}}return null}function GJ(r){return function(e,n){if(!$s(e))return!1;const i=Nlt(W6(e),r);if(i==null)return!1;if(n){const o=e.doc.resolve(i);n(e.tr.setSelection(Ht.between(o,clt(o))).scrollIntoView())}return!0}}function Olt(r,e){const n=r.selection.$anchor;for(let i=n.depth;i>0;i--)if(n.node(i).type.spec.tableRole=="table")return e&&e(r.tr.delete(n.before(i),n.after(i)).scrollIntoView()),!0;return!1}function R2(r,e){const n=r.selection;if(!(n instanceof tr))return!1;if(e){const i=r.tr,o=Hi(r.schema).cell.createAndFill().content;n.forEachCell((a,s)=>{a.content.eq(o)||i.replace(i.mapping.map(s+1),i.mapping.map(s+a.nodeSize-1),new Et(o,0,0))}),i.docChanged&&e(i)}return!0}function Plt(r){if(!r.size)return null;let{content:e,openStart:n,openEnd:i}=r;for(;e.childCount==1&&(n>0&&i>0||e.child(0).type.spec.tableRole=="table");)n--,i--,e=e.child(0).content;const o=e.child(0),a=o.type.spec.tableRole,s=o.type.schema,l=[];if(a=="row")for(let c=0;c<e.childCount;c++){let u=e.child(c).content;const d=c?0:Math.max(0,n-1),h=c<e.childCount-1?0:Math.max(0,i-1);(d||h)&&(u=FM(Hi(s).row,new Et(u,d,h)).content),l.push(u)}else if(a=="cell"||a=="header_cell")l.push(n||i?FM(Hi(s).row,new Et(e,n,i)).content:e);else return null;return Ilt(s,l)}function Ilt(r,e){const n=[];for(let o=0;o<e.length;o++){const a=e[o];for(let s=a.childCount-1;s>=0;s--){const{rowspan:l,colspan:c}=a.child(s).attrs;for(let u=o;u<o+l;u++)n[u]=(n[u]||0)+c}}let i=0;for(let o=0;o<n.length;o++)i=Math.max(i,n[o]);for(let o=0;o<n.length;o++)if(o>=e.length&&e.push(st.empty),n[o]<i){const a=Hi(r).cell.createAndFill(),s=[];for(let l=n[o];l<i;l++)s.push(a);e[o]=e[o].append(st.from(s))}return{height:e.length,width:i,rows:e}}function FM(r,e){const n=r.createAndFill();return new DR(n).replace(0,n.content.size,e).doc}function $lt({width:r,height:e,rows:n},i,o){if(r!=i){const a=[],s=[];for(let l=0;l<n.length;l++){const c=n[l],u=[];for(let d=a[l]||0,h=0;d<i;h++){let f=c.child(h%c.childCount);d+f.attrs.colspan>i&&(f=f.type.createChecked(ep(f.attrs,f.attrs.colspan,d+f.attrs.colspan-i),f.content)),u.push(f),d+=f.attrs.colspan;for(let m=1;m<f.attrs.rowspan;m++)a[l+m]=(a[l+m]||0)+f.attrs.colspan}s.push(st.from(u))}n=s,r=i}if(e!=o){const a=[];for(let s=0,l=0;s<o;s++,l++){const c=[],u=n[l%e];for(let d=0;d<u.childCount;d++){let h=u.child(d);s+h.attrs.rowspan>o&&(h=h.type.create({...h.attrs,rowspan:Math.max(1,o-h.attrs.rowspan)},h.content)),c.push(h)}a.push(st.from(c))}n=a,e=o}return{width:r,height:e,rows:n}}function zlt(r,e,n,i,o,a,s){const l=r.doc.type.schema,c=Hi(l);let u,d;if(o>e.width)for(let h=0,f=0;h<e.height;h++){const m=n.child(h);f+=m.nodeSize;const b=[];let g;m.lastChild==null||m.lastChild.type==c.cell?g=u||(u=c.cell.createAndFill()):g=d||(d=c.header_cell.createAndFill());for(let v=e.width;v<o;v++)b.push(g);r.insert(r.mapping.slice(s).map(f-1+i),b)}if(a>e.height){const h=[];for(let b=0,g=(e.height-1)*e.width;b<Math.max(e.width,o);b++){const v=b>=e.width?!1:n.nodeAt(e.map[g+b]).type==c.header_cell;h.push(v?d||(d=c.header_cell.createAndFill()):u||(u=c.cell.createAndFill()))}const f=c.row.create(null,st.from(h)),m=[];for(let b=e.height;b<a;b++)m.push(f);r.insert(r.mapping.slice(s).map(i+n.nodeSize-2),m)}return!!(u||d)}function KJ(r,e,n,i,o,a,s,l){if(s==0||s==e.height)return!1;let c=!1;for(let u=o;u<a;u++){const d=s*e.width+u,h=e.map[d];if(e.map[d-e.width]==h){c=!0;const f=n.nodeAt(h),{top:m,left:b}=e.findCell(h);r.setNodeMarkup(r.mapping.slice(l).map(h+i),null,{...f.attrs,rowspan:s-m}),r.insert(r.mapping.slice(l).map(e.positionAt(s,b,n)),f.type.createAndFill({...f.attrs,rowspan:m+f.attrs.rowspan-s})),u+=f.attrs.colspan-1}}return c}function XJ(r,e,n,i,o,a,s,l){if(s==0||s==e.width)return!1;let c=!1;for(let u=o;u<a;u++){const d=u*e.width+s,h=e.map[d];if(e.map[d-1]==h){c=!0;const f=n.nodeAt(h),m=e.colCount(h),b=r.mapping.slice(l).map(h+i);r.setNodeMarkup(b,null,ep(f.attrs,s-m,f.attrs.colspan-(s-m))),r.insert(b+f.nodeSize,f.type.createAndFill(ep(f.attrs,0,s-m))),u+=f.attrs.rowspan-1}}return c}function YJ(r,e,n,i,o){let a=n?r.doc.nodeAt(n-1):r.doc;if(!a)throw new Error("No table found");let s=Or.get(a);const{top:l,left:c}=i,u=c+o.width,d=l+o.height,h=r.tr;let f=0;function m(){if(a=n?h.doc.nodeAt(n-1):h.doc,!a)throw new Error("No table found");s=Or.get(a),f=h.mapping.maps.length}zlt(h,s,a,n,u,d,f)&&m(),KJ(h,s,a,n,c,u,l,f)&&m(),KJ(h,s,a,n,c,u,d,f)&&m(),XJ(h,s,a,n,l,d,c,f)&&m(),XJ(h,s,a,n,l,d,u,f)&&m();for(let b=l;b<d;b++){const g=s.positionAt(b,c,a),v=s.positionAt(b,u,a);h.replace(h.mapping.slice(f).map(g+n),h.mapping.slice(f).map(v+n),new Et(o.rows[b-l],0,0))}m(),h.setSelection(new tr(h.doc.resolve(n+s.positionAt(l,c,a)),h.doc.resolve(n+s.positionAt(d-1,u-1,a)))),e(h)}var Llt=UR({ArrowLeft:N2("horiz",-1),ArrowRight:N2("horiz",1),ArrowUp:N2("vert",-1),ArrowDown:N2("vert",1),"Shift-ArrowLeft":O2("horiz",-1),"Shift-ArrowRight":O2("horiz",1),"Shift-ArrowUp":O2("vert",-1),"Shift-ArrowDown":O2("vert",1),Backspace:R2,"Mod-Backspace":R2,Delete:R2,"Mod-Delete":R2});function T4(r,e,n){return n.eq(r.selection)?!1:(e&&e(r.tr.setSelection(n).scrollIntoView()),!0)}function N2(r,e){return(n,i,o)=>{if(!o)return!1;const a=n.selection;if(a instanceof tr)return T4(n,i,Xt.near(a.$headCell,e));if(r!="horiz"&&!a.empty)return!1;const s=J0e(o,r,e);if(s==null)return!1;if(r=="horiz")return T4(n,i,Xt.near(n.doc.resolve(a.head+e),e));{const l=n.doc.resolve(s),c=V0e(l,r,e);let u;return c?u=Xt.near(c,1):e<0?u=Xt.near(n.doc.resolve(l.before(-1)),-1):u=Xt.near(n.doc.resolve(l.after(-1)),1),T4(n,i,u)}}}function O2(r,e){return(n,i,o)=>{if(!o)return!1;const a=n.selection;let s;if(a instanceof tr)s=a;else{const c=J0e(o,r,e);if(c==null)return!1;s=new tr(n.doc.resolve(c))}const l=V0e(s.$headCell,r,e);return l?T4(n,i,new tr(s.$anchorCell,l)):!1}}function Ult(r,e){const n=r.state.doc,i=wg(n.resolve(e));return i?(r.dispatch(r.state.tr.setSelection(new tr(i))),!0):!1}function Blt(r,e,n){if(!$s(r.state))return!1;let i=Plt(n);const o=r.state.selection;if(o instanceof tr){i||(i={width:1,height:1,rows:[st.from(FM(Hi(r.state.schema).cell,n))]});const a=o.$anchorCell.node(-1),s=o.$anchorCell.start(-1),l=Or.get(a).rectBetween(o.$anchorCell.pos-s,o.$headCell.pos-s);return i=$lt(i,l.right-l.left,l.bottom-l.top),YJ(r.state,r.dispatch,s,l,i),!0}else if(i){const a=W6(r.state),s=a.start(-1);return YJ(r.state,r.dispatch,s,Or.get(a.node(-1)).findCell(a.pos-s),i),!0}else return!1}function jlt(r,e){var n;if(e.ctrlKey||e.metaKey)return;const i=ZJ(r,e.target);let o;if(e.shiftKey&&r.state.selection instanceof tr)a(r.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&i&&(o=wg(r.state.selection.$anchor))!=null&&((n=aA(r,e))==null?void 0:n.pos)!=o.pos)a(o,e),e.preventDefault();else if(!i)return;function a(c,u){let d=aA(r,u);const h=ad.getState(r.state)==null;if(!d||!MI(c,d))if(h)d=c;else return;const f=new tr(c,d);if(h||!r.state.selection.eq(f)){const m=r.state.tr.setSelection(f);h&&m.setMeta(ad,c.pos),r.dispatch(m)}}function s(){r.root.removeEventListener("mouseup",s),r.root.removeEventListener("dragstart",s),r.root.removeEventListener("mousemove",l),ad.getState(r.state)!=null&&r.dispatch(r.state.tr.setMeta(ad,-1))}function l(c){const u=c,d=ad.getState(r.state);let h;if(d!=null)h=r.state.doc.resolve(d);else if(ZJ(r,u.target)!=i&&(h=aA(r,e),!h))return s();h&&a(h,u)}r.root.addEventListener("mouseup",s),r.root.addEventListener("dragstart",s),r.root.addEventListener("mousemove",l)}function J0e(r,e,n){if(!(r.state.selection instanceof Ht))return null;const{$head:i}=r.state.selection;for(let o=i.depth-1;o>=0;o--){const a=i.node(o);if((n<0?i.index(o):i.indexAfter(o))!=(n<0?0:a.childCount))return null;if(a.type.spec.tableRole=="cell"||a.type.spec.tableRole=="header_cell"){const s=i.before(o),l=e=="vert"?n>0?"down":"up":n>0?"right":"left";return r.endOfTextblock(l)?s:null}}return null}function ZJ(r,e){for(;e&&e!=r.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function aA(r,e){const n=r.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?wg(r.state.doc.resolve(n.pos)):null}var Flt=class{constructor(r,e){this.node=r,this.defaultCellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${e}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),HM(r,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(r){return r.type!=this.node.type?!1:(this.node=r,HM(r,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(r){return r.type=="attributes"&&(r.target==this.table||this.colgroup.contains(r.target))}};function HM(r,e,n,i,o,a){var s;let l=0,c=!0,u=e.firstChild;const d=r.firstChild;if(d){for(let h=0,f=0;h<d.childCount;h++){const{colspan:m,colwidth:b}=d.child(h).attrs;for(let g=0;g<m;g++,f++){const v=o==f?a:b&&b[g],x=v?v+"px":"";if(l+=v||i,v||(c=!1),u)u.style.width!=x&&(u.style.width=x),u=u.nextSibling;else{const w=document.createElement("col");w.style.width=x,e.appendChild(w)}}}for(;u;){const h=u.nextSibling;(s=u.parentNode)==null||s.removeChild(u),u=h}c?(n.style.width=l+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=l+"px")}}var aa=new Ln("tableColumnResizing");function Hlt({handleWidth:r=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:i=Flt,lastColumnResizable:o=!0}={}){const a=new $n({key:aa,state:{init(s,l){var c,u;const d=(u=(c=a.spec)==null?void 0:c.props)==null?void 0:u.nodeViews,h=Hi(l.schema).table.name;return i&&d&&(d[h]=(f,m)=>new i(f,n,m)),new Wlt(-1,!1)},apply(s,l){return l.apply(s)}},props:{attributes:s=>{const l=aa.getState(s);return l&&l.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(s,l)=>{Vlt(s,l,r,o)},mouseleave:s=>{qlt(s)},mousedown:(s,l)=>{Glt(s,l,e,n)}},decorations:s=>{const l=aa.getState(s);if(l&&l.activeHandle>-1)return Jlt(s,l.activeHandle)},nodeViews:{}}});return a}var Wlt=class E4{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,i=e.getMeta(aa);if(i&&i.setHandle!=null)return new E4(i.setHandle,!1);if(i&&i.setDragging!==void 0)return new E4(n.activeHandle,i.setDragging);if(n.activeHandle>-1&&e.docChanged){let o=e.mapping.map(n.activeHandle,-1);return jM(e.doc.resolve(o))||(o=-1),new E4(o,n.dragging)}return n}};function Vlt(r,e,n,i){if(!r.editable)return;const o=aa.getState(r.state);if(o&&!o.dragging){const a=Xlt(e.target);let s=-1;if(a){const{left:l,right:c}=a.getBoundingClientRect();e.clientX-l<=n?s=JJ(r,e,"left",n):c-e.clientX<=n&&(s=JJ(r,e,"right",n))}if(s!=o.activeHandle){if(!i&&s!==-1){const l=r.state.doc.resolve(s),c=l.node(-1),u=Or.get(c),d=l.start(-1);if(u.colCount(l.pos-d)+l.nodeAfter.attrs.colspan-1==u.width-1)return}Q0e(r,s)}}}function qlt(r){if(!r.editable)return;const e=aa.getState(r.state);e&&e.activeHandle>-1&&!e.dragging&&Q0e(r,-1)}function Glt(r,e,n,i){var o;if(!r.editable)return!1;const a=(o=r.dom.ownerDocument.defaultView)!=null?o:window,s=aa.getState(r.state);if(!s||s.activeHandle==-1||s.dragging)return!1;const l=r.state.doc.nodeAt(s.activeHandle),c=Klt(r,s.activeHandle,l.attrs);r.dispatch(r.state.tr.setMeta(aa,{setDragging:{startX:e.clientX,startWidth:c}}));function u(h){a.removeEventListener("mouseup",u),a.removeEventListener("mousemove",d);const f=aa.getState(r.state);f!=null&&f.dragging&&(Ylt(r,f.activeHandle,QJ(f.dragging,h,n)),r.dispatch(r.state.tr.setMeta(aa,{setDragging:null})))}function d(h){if(!h.which)return u(h);const f=aa.getState(r.state);if(f&&f.dragging){const m=QJ(f.dragging,h,n);eQ(r,f.activeHandle,m,i)}}return eQ(r,s.activeHandle,c,i),a.addEventListener("mouseup",u),a.addEventListener("mousemove",d),e.preventDefault(),!0}function Klt(r,e,{colspan:n,colwidth:i}){const o=i&&i[i.length-1];if(o)return o;const a=r.domAtPos(e);let s=a.node.childNodes[a.offset].offsetWidth,l=n;if(i)for(let c=0;c<n;c++)i[c]&&(s-=i[c],l--);return s/l}function Xlt(r){for(;r&&r.nodeName!="TD"&&r.nodeName!="TH";)r=r.classList&&r.classList.contains("ProseMirror")?null:r.parentNode;return r}function JJ(r,e,n,i){const o=n=="right"?-i:i,a=r.posAtCoords({left:e.clientX+o,top:e.clientY});if(!a)return-1;const{pos:s}=a,l=wg(r.state.doc.resolve(s));if(!l)return-1;if(n=="right")return l.pos;const c=Or.get(l.node(-1)),u=l.start(-1),d=c.map.indexOf(l.pos-u);return d%c.width==0?-1:u+c.map[d-1]}function QJ(r,e,n){const i=e.clientX-r.startX;return Math.max(n,r.startWidth+i)}function Q0e(r,e){r.dispatch(r.state.tr.setMeta(aa,{setHandle:e}))}function Ylt(r,e,n){const i=r.state.doc.resolve(e),o=i.node(-1),a=Or.get(o),s=i.start(-1),l=a.colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1,c=r.state.tr;for(let u=0;u<a.height;u++){const d=u*a.width+l;if(u&&a.map[d]==a.map[d-a.width])continue;const h=a.map[d],f=o.nodeAt(h).attrs,m=f.colspan==1?0:l-a.colCount(h);if(f.colwidth&&f.colwidth[m]==n)continue;const b=f.colwidth?f.colwidth.slice():Zlt(f.colspan);b[m]=n,c.setNodeMarkup(s+h,null,{...f,colwidth:b})}c.docChanged&&r.dispatch(c)}function eQ(r,e,n,i){const o=r.state.doc.resolve(e),a=o.node(-1),s=o.start(-1),l=Or.get(a).colCount(o.pos-s)+o.nodeAfter.attrs.colspan-1;let c=r.domAtPos(o.start(-1)).node;for(;c&&c.nodeName!="TABLE";)c=c.parentNode;c&&HM(a,c.firstChild,c,i,l,n)}function Zlt(r){return Array(r).fill(0)}function Jlt(r,e){var n;const i=[],o=r.doc.resolve(e),a=o.node(-1);if(!a)return Cr.empty;const s=Or.get(a),l=o.start(-1),c=s.colCount(o.pos-l)+o.nodeAfter.attrs.colspan-1;for(let u=0;u<s.height;u++){const d=c+u*s.width;if((c==s.width-1||s.map[d]!=s.map[d+1])&&(u==0||s.map[d]!=s.map[d-s.width])){const h=s.map[d],f=l+h+a.nodeAt(h).nodeSize-1,m=document.createElement("div");m.className="column-resize-handle",(n=aa.getState(r))!=null&&n.dragging&&i.push(hi.node(l+h,l+h+a.nodeAt(h).nodeSize,{class:"column-resize-dragging"})),i.push(hi.widget(f,m))}}return Cr.create(r.doc,i)}function Qlt({allowTableNodeSelection:r=!1}={}){return new $n({key:ad,state:{init(){return null},apply(e,n){const i=e.getMeta(ad);if(i!=null)return i==-1?null:i;if(n==null||!e.docChanged)return n;const{deleted:o,pos:a}=e.mapping.mapResult(n);return o?null:a}},props:{decorations:hlt,handleDOMEvents:{mousedown:jlt},createSelectionBetween(e){return ad.getState(e.state)!=null?e.state.selection:null},handleTripleClick:Ult,handleKeyDown:Llt,handlePaste:Blt},appendTransaction(e,n,i){return mlt(i,X0e(i,n),r)}})}function WM(r,e){return e?["width",`${Math.max(e,r)}px`]:["min-width",`${r}px`]}function tQ(r,e,n,i,o,a){var s;let l=0,c=!0,u=e.firstChild;const d=r.firstChild;if(d!==null)for(let h=0,f=0;h<d.childCount;h+=1){const{colspan:m,colwidth:b}=d.child(h).attrs;for(let g=0;g<m;g+=1,f+=1){const v=o===f?a:b&&b[g],x=v?`${v}px`:"";if(l+=v||i,v||(c=!1),u){if(u.style.width!==x){const[w,k]=WM(i,v);u.style.setProperty(w,k)}u=u.nextSibling}else{const w=document.createElement("col"),[k,T]=WM(i,v);w.style.setProperty(k,T),e.appendChild(w)}}}for(;u;){const h=u.nextSibling;(s=u.parentNode)===null||s===void 0||s.removeChild(u),u=h}c?(n.style.width=`${l}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${l}px`)}class ect{constructor(e,n){this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),tQ(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,tQ(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}}function tct(r,e,n,i){let o=0,a=!0;const s=[],l=r.firstChild;if(!l)return{};for(let d=0,h=0;d<l.childCount;d+=1){const{colspan:f,colwidth:m}=l.child(d).attrs;for(let b=0;b<f;b+=1,h+=1){const g=n===h?i:m&&m[b];o+=g||e,g||(a=!1);const[v,x]=WM(e,g);s.push(["col",{style:`${v}: ${x}`}])}}const c=a?`${o}px`:"",u=a?"":`${o}px`;return{colgroup:["colgroup",{},...s],tableWidth:c,tableMinWidth:u}}function nQ(r,e){return r.createAndFill()}function nct(r){if(r.cached.tableNodeTypes)return r.cached.tableNodeTypes;const e={};return Object.keys(r.nodes).forEach(n=>{const i=r.nodes[n];i.spec.tableRole&&(e[i.spec.tableRole]=i)}),r.cached.tableNodeTypes=e,e}function rct(r,e,n,i,o){const a=nct(r),s=[],l=[];for(let u=0;u<n;u+=1){const d=nQ(a.cell);if(d&&l.push(d),i){const h=nQ(a.header_cell);h&&s.push(h)}}const c=[];for(let u=0;u<e;u+=1)c.push(a.row.createChecked(null,i&&u===0?s:l));return a.table.createChecked(null,c)}function ict(r){return r instanceof tr}const P2=({editor:r})=>{const{selection:e}=r.state;if(!ict(e))return!1;let n=0;const i=Kne(e.ranges[0].$from,o=>o.type.name==="table");return i==null||i.node.descendants(o=>{if(o.type.name==="table")return!1;["tableCell","tableHeader"].includes(o.type.name)&&(n+=1)}),n===e.ranges.length?(r.commands.deleteTable(),!0):!1},oct=Un.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:ect,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:r,HTMLAttributes:e}){const{colgroup:n,tableWidth:i,tableMinWidth:o}=tct(r,this.options.cellMinWidth);return["table",en(this.options.HTMLAttributes,e,{style:i?`width: ${i}`:`min-width: ${o}`}),n,["tbody",0]]},addCommands(){return{insertTable:({rows:r=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:i,dispatch:o,editor:a})=>{const s=rct(a.schema,r,e,n);if(o){const l=i.selection.from+1;i.replaceSelectionWith(s).scrollIntoView().setSelection(Ht.near(i.doc.resolve(l)))}return!0},addColumnBefore:()=>({state:r,dispatch:e})=>blt(r,e),addColumnAfter:()=>({state:r,dispatch:e})=>vlt(r,e),deleteColumn:()=>({state:r,dispatch:e})=>wlt(r,e),addRowBefore:()=>({state:r,dispatch:e})=>klt(r,e),addRowAfter:()=>({state:r,dispatch:e})=>Tlt(r,e),deleteRow:()=>({state:r,dispatch:e})=>Clt(r,e),deleteTable:()=>({state:r,dispatch:e})=>Olt(r,e),mergeCells:()=>({state:r,dispatch:e})=>WJ(r,e),splitCell:()=>({state:r,dispatch:e})=>VJ(r,e),toggleHeaderColumn:()=>({state:r,dispatch:e})=>zb("column")(r,e),toggleHeaderRow:()=>({state:r,dispatch:e})=>zb("row")(r,e),toggleHeaderCell:()=>({state:r,dispatch:e})=>Rlt(r,e),mergeOrSplit:()=>({state:r,dispatch:e})=>WJ(r,e)?!0:VJ(r,e),setCellAttribute:(r,e)=>({state:n,dispatch:i})=>Dlt(r,e)(n,i),goToNextCell:()=>({state:r,dispatch:e})=>GJ(1)(r,e),goToPreviousCell:()=>({state:r,dispatch:e})=>GJ(-1)(r,e),fixTables:()=>({state:r,dispatch:e})=>(e&&X0e(r),!0),setCellSelection:r=>({tr:e,dispatch:n})=>{if(n){const i=tr.create(e.doc,r.anchorCell,r.headCell);e.setSelection(i)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:P2,"Mod-Backspace":P2,Delete:P2,"Mod-Delete":P2}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[Hlt({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],Qlt({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(r){const e={name:r.name,options:r.options,storage:r.storage};return{tableRole:on(Rt(r,"tableRole",e))}}}),act=Un.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:r=>{const e=r.getAttribute("colwidth");return e?e.split(",").map(n=>parseInt(n,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:r}){return["th",en(this.options.HTMLAttributes,r),0]}}),sct=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,lct=/CrOS/,cct=/android|ipad|playbook|silk/i;function rQ(r={}){let e=r.ua||typeof navigator<"u"&&navigator.userAgent;return e&&typeof e=="object"&&e.headers&&typeof e.headers["user-agent"]=="string"&&(e=e.headers["user-agent"]),typeof e!="string"?!1:!!(sct.test(e)&&!lct.test(e)||r.tablet&&cct.test(e)||r.tablet&&r.featureDetect&&navigator&&navigator.maxTouchPoints>1&&e.includes("Macintosh")&&e.includes("Safari"))}const iQ=r=>Array.from({length:r}).map((e,n)=>n+1);function uct(r){var e;const[n,i]=P.useState(!0),[o,a]=P.useState({rows:rQ()?hw:dw,cols:rQ()?hw:dw}),[s,l]=P.useState({rows:fw,cols:fw});function c(h,f){h===o.rows&&a(m=>({...m,rows:Math.min(h+1,hw)})),f===o.cols&&a(m=>({...m,cols:Math.min(f+1,hw)})),l({rows:h,cols:f})}function u(h,f){r==null||r.createTable({rows:h,cols:f,withHeaderRow:n}),d()}function d(){i(!1),a({rows:dw,cols:dw}),l({rows:fw,cols:fw})}return E.jsxs(as,{modal:!0,children:[E.jsx(ss,{asChild:!0,children:r==null?void 0:r.children}),E.jsx(wa,{align:"start",className:"richtext-w-full !richtext-p-2",side:"bottom",children:E.jsxs("div",{className:"table-grid-size-editor richtext-p-0",children:[E.jsx("div",{className:"richtext-flex richtext-flex-col richtext-flex-wrap richtext-justify-between richtext-gap-1",children:(e=iQ(o==null?void 0:o.rows))==null?void 0:e.map(h=>{var f;return E.jsx("div",{className:"richtext-flex richtext-gap-1",children:(f=iQ(o==null?void 0:o.cols))==null?void 0:f.map(m=>E.jsx("div",{onMouseDown:()=>u(h,m),onMouseOver:()=>c(h,m),className:`richtext-cursor-pointer richtext-border-border ${m<=s.cols&&h<=s.rows&&"tableCellActive !richtext-bg-foreground"}`,children:E.jsx("div",{className:"richtext-box-border richtext-size-4 richtext-rounded-[2px] !richtext-border richtext-border-solid !richtext-border-border richtext-p-1"})},`c-${m}`))},`r-${h}`)})}),E.jsxs("div",{className:"richtext-mt-2 richtext-text-center richtext-text-sm richtext-text-zinc-600",children:[s.rows," ","x",s.cols]})]})})]})}function dct(r){function e(n){r.disabled||r.editor.chain().focus().insertTable({...n,withHeaderRow:!1}).run()}return E.jsx(uct,{createTable:e,children:E.jsx(ft,{icon:r==null?void 0:r.icon,tooltip:r==null?void 0:r.tooltip,disabled:r==null?void 0:r.disabled,color:r==null?void 0:r.color,action:r==null?void 0:r.action,isActive:r==null?void 0:r.isActive})})}function hct(r,e,n){if(!r.doc)return r;const i=r.doc.nodeAt(e);if(!i||n===i.attrs.backgroundColor)return r;const o={...i.attrs,backgroundColor:n};return r.setNodeMarkup(e,i.type,o,i.marks)}function fct(r,e,n){const{doc:i,selection:o}=r;return!i||!o||!(o instanceof tr)||o.forEachCell((a,s)=>{r=hct(r,s,n)}),r}function oQ(r,e){return({tr:n,state:i,dispatch:o})=>{const{selection:a}=i;return n=n.setSelection(a),n=fct(n,e,r),n.docChanged?(o==null||o(n),!0):!1}}const pct=Sn.create({name:"tableCellBackground",addOptions(){return{types:["tableCell"],HTMLAttributes:{}}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{parseHTML:r=>r.style.backgroundColor||"",renderHTML:r=>!r.backgroundColor||r.backgroundColor===""?{}:{style:`background-color: ${r.backgroundColor}`}}}}]},addCommands(){return{setTableCellBackground:r=>oQ(r,this.options),unsetTableCellBackground:()=>oQ("",this.options)}}}),mct=Un.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:r}){return["tr",en(this.options.HTMLAttributes,r),0]}}),gct=mct.extend({addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),HTMLAttributes:{style:"border-bottom: 1px solid #000;"}}}}),yct=Un.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:r=>{const e=r.getAttribute("colwidth");return e?e.split(",").map(n=>parseInt(n,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:r}){return["td",en(this.options.HTMLAttributes,r),0]}}),bct=yct.extend({addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),HTMLAttributes:{style:`
            border-right: 1px solid #000; 
            padding: 8px 12px;            
            &:last-child {
              border-right: none;        
            }
          `}}}}),vct=oct.extend({addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),HTMLAttributes:{style:`
          border: 1px solid #000;         
          border-collapse: collapse;     
          width: 100%;
        `},resizable:!0,lastColumnResizable:!0,allowTableNodeSelection:!1,button:({editor:e,t:n})=>({component:dct,componentProps:{disabled:e.isActive("table")||!1,icon:"Table",tooltip:n("editor.table.tooltip"),editor:e}})}},addExtensions(){return[gct.configure(this.options.tableRow),act.configure(this.options.tableHeader),bct.configure(this.options.tableCell),pct.configure(this.options.tableCellBackground)]}}),xct="_toc_aag8a_1",wct="_visible_aag8a_7",Sct="_list_aag8a_11",kct="_item_aag8a_16",I2={toc:xct,visible:wct,list:Sct,item:kct};function Tct(r){const e=[],n=[e];return r.forEach(i=>{let o=-1,a=n[i.level+o];for(;!a;)o-=1,a=n[i.level+o];a.push({...i,children:n[i.level]=[]})}),e}function Ect({editor:r}){const e=MS(),[n,i]=P.useState([]),{t:o}=Cn(),a=P.useCallback(()=>{const s=[],l=r.state.tr;r.state.doc.descendants((c,u)=>{if(c.type.name==="heading"){const d=`heading-${s.length+1}`;c.attrs.id!==d&&l.setNodeMarkup(u,void 0,{...c.attrs,id:d}),s.push({level:c.attrs.level,text:c.textContent,id:d})}}),l.setMeta("addToHistory",!1),l.setMeta("preventUpdate",!0),r.view.dispatch(l),i(s),r.eventEmitter&&r.eventEmitter.emit("TableOfContents",Tct(s))},[r]);return P.useEffect(()=>{if(r){if(!r.options.editable){a();return}return r.on("update",a),()=>{r.off("update",a)}}},[r,a]),P.useEffect(()=>{a()},[]),E.jsx(ua,{className:pr("tableOfContent",I2.toc,e&&I2.visible),children:e?E.jsxs("div",{style:{position:"relative"},children:[E.jsx("p",{className:"text-[20px] richtext-mb-[8px] richtext-font-semibold",children:o("editor.table_of_content")}),E.jsx("ul",{className:I2.list,children:n.map((s,l)=>E.jsx("li",{className:I2.item,style:{paddingLeft:`${s.level-1}rem`},children:E.jsx("a",{href:`#${s.id}`,children:s.text})},`table-of-content-${l}`))})]}):null})}function Cct(r,...e){const[n,i]=P.useState(!1);return P.useEffect(()=>{const o=()=>{i(r.isActive.apply(r,e))};return r.on("selectionUpdate",o),r.on("transaction",o),()=>{r.off("selectionUpdate",o),r.off("transaction",o)}},[r,e,i]),n}function _ct({editor:r,icon:e,tooltip:n}){const i=Cct(r,ege.name),o=P.useCallback(()=>{if(i){r.chain().focus().removeTableOfContents().run();return}r.chain().focus().setTableOfContents().run()},[r,i]);return E.jsx(ft,{action:o,isActive:()=>i||!1,icon:e,tooltip:n})}function Act(r){return r&&r.type.name==="title"}function Dct(r,e){const n=[r.getJSON()],i=[];for(;n.length>0;){const o=n.shift();o.type===e&&i.push(o),o.content&&o.content.length>0&&n.push(...o.content)}return i}const ege=Un.create({name:"tableOfContents",group:"block",atom:!0,addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),onHasOneBeforeInsert:()=>{},resizable:!0,lastColumnResizable:!0,allowTableNodeSelection:!1,button:({editor:e,t:n})=>({component:_ct,componentProps:{disabled:!1,icon:"BookMarked",tooltip:n("editor.table_of_content"),editor:e}})}},parseHTML(){return[{tag:"toc"}]},renderHTML({HTMLAttributes:r}){return["toc",en(r)]},addNodeView(){return Ps(Ect)},addCommands(){return{setTableOfContents:()=>({commands:r,editor:e,view:n})=>{if(Dct(e,this.name).length>0){this.options.onHasOneBeforeInsert();return}const i=n.props.state.doc.content.firstChild;if(Act(i)){const o=(i.firstChild&&i.firstChild.nodeSize||0)+1;return r.insertContentAt(o,{type:this.name})}return r.insertContent({type:this.name})},removeTableOfContents:()=>({state:r,dispatch:e})=>{const{tr:n}=r,i=r.schema.nodes.tableOfContents;return r.doc.descendants((o,a)=>{if(o.type===i){const s=a,l=a+o.nodeSize;n.delete(s,l)}}),n.docChanged?(e(n),!0):!1}}},addGlobalAttributes(){return[{types:["heading"],attributes:{id:{default:null}}}]}}),Mct=/^\s*(\[([( |x])?\])\s$/,Rct=Un.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:r=>{const e=r.getAttribute("data-checked");return e===""||e==="true"},renderHTML:r=>({"data-checked":r.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:r,HTMLAttributes:e}){return["li",en(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:r.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const r={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...r,Tab:()=>this.editor.commands.sinkListItem(this.name)}:r},addNodeView(){return({node:r,HTMLAttributes:e,getPos:n,editor:i})=>{const o=document.createElement("li"),a=document.createElement("label"),s=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div");return a.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",u=>u.preventDefault()),l.addEventListener("change",u=>{if(!i.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:d}=u.target;i.isEditable&&typeof n=="function"&&i.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:h})=>{const f=n();if(typeof f!="number")return!1;const m=h.doc.nodeAt(f);return h.setNodeMarkup(f,void 0,{...m==null?void 0:m.attrs,checked:d}),!0}).run(),!i.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(r,d)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,d])=>{o.setAttribute(u,d)}),o.dataset.checked=r.attrs.checked,l.checked=r.attrs.checked,a.append(l,s),o.append(a,c),Object.entries(e).forEach(([u,d])=>{o.setAttribute(u,d)}),{dom:o,contentDOM:c,update:u=>u.type!==this.type?!1:(o.dataset.checked=u.attrs.checked,l.checked=u.attrs.checked,!0)}}},addInputRules(){return[E0({find:Mct,type:this.type,getAttributes:r=>({checked:r[r.length-1]==="x"})})]}}),Nct=Un.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:r}){return["ul",en(this.options.HTMLAttributes,r,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:r})=>r.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),Oct=Nct.extend({addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),HTMLAttributes:{class:"task-list"},taskItem:{HTMLAttributes:{class:"task-list-item"}},button:({editor:e,t:n})=>({component:ft,componentProps:{action:()=>e.commands.toggleTaskList(),isActive:()=>e.isActive("taskList")||!1,disabled:!1,icon:"ListTodo",shortcutKeys:["shift","mod","9"],tooltip:n("editor.tasklist.tooltip")}})}},addExtensions(){return[Rct.configure(this.options.taskItem)]}}),Pct=Sn.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:r=>{const e=r.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:r=>r.textAlign?{style:`text-align: ${r.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:r=>({commands:e})=>this.options.alignments.includes(r)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:r})).every(n=>n):!1,unsetTextAlign:()=>({commands:r})=>this.options.types.map(e=>r.resetAttributes(e,"textAlign")).every(e=>e)}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}});function Ict(r){var e;const n=P.useMemo(()=>{var i;const o=(i=r==null?void 0:r.items)==null?void 0:i.find(a=>a.isActive());return o&&!o.default?{...o,icon:o.icon?o.icon:r.icon}:{title:r==null?void 0:r.tooltip,icon:r.icon,isActive:()=>!1}},[r]);return E.jsxs(as,{modal:!0,children:[E.jsx(ss,{asChild:!0,disabled:r==null?void 0:r.disabled,children:E.jsx(ft,{customClass:"!richtext-w-12 richtext-h-12",disabled:r==null?void 0:r.disabled,icon:r==null?void 0:r.icon,tooltip:r==null?void 0:r.tooltip,children:E.jsx(wn,{className:"richtext-ml-1 richtext-size-3 richtext-text-zinc-500",name:"MenuDown"})})}),E.jsx(wa,{align:"start",className:"richtext-flex richtext-w-full richtext-min-w-4 richtext-flex-row richtext-gap-1 !richtext-p-[4px]",side:"bottom",children:(e=r==null?void 0:r.items)==null?void 0:e.map((i,o)=>{var a,s;return E.jsxs(ig,{children:[E.jsx(og,{asChild:!0,children:E.jsx(kv,{className:"richtext-size-7 richtext-p-1","data-state":n.title===i.title?"on":"off",onClick:i==null?void 0:i.action,pressed:n.title===i.title,size:"sm",children:(i==null?void 0:i.icon)&&E.jsx(wn,{name:i.icon})})}),E.jsxs(hp,{className:"richtext-flex richtext-flex-col richtext-items-center",children:[E.jsx("span",{children:i.title}),!!((a=i.shortcutKeys)!=null&&a.length)&&E.jsx("span",{children:(s=i.shortcutKeys)==null?void 0:s.map(l=>kS(l)).join(" ")})]})]},`text-align-${o}`)})})]})}const $ct=Pct.extend({addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),types:["heading","paragraph","list_item","title"],button({editor:e,extension:n,t:i}){var o;const a=((o=n.options)==null?void 0:o.alignments)||[],s={left:["mod","Shift","L"],center:["mod","Shift","E"],right:["mod","Shift","R"],justify:["mod","Shift","J"]},l={left:"AlignLeft",center:"AlignCenter",right:"AlignRight",justify:"AlignJustify"},c=a.map(d=>{var h,f,m;return{title:i(`editor.textalign.${d}.tooltip`),icon:l[d],shortcutKeys:s[d],isActive:()=>e.isActive({textAlign:d})||!1,action:()=>{var b,g;return(g=(b=e.commands)==null?void 0:b.setTextAlign)==null?void 0:g.call(b,d)},disabled:!((m=(f=(h=e==null?void 0:e.can)==null?void 0:h.call(e))==null?void 0:f.setTextAlign)!=null&&m.call(f,d))}}),u=c.filter(d=>d.disabled).length===c.length;return{component:Ict,componentProps:{icon:"AlignJustify",tooltip:i("editor.textalign.tooltip"),disabled:u,items:c}}}}}}),zct=Os.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:r=>r.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:r}){return["u",en(this.options.HTMLAttributes,r),0]},addCommands(){return{setUnderline:()=>({commands:r})=>r.setMark(this.name),toggleUnderline:()=>({commands:r})=>r.toggleMark(this.name),unsetUnderline:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),Lct=zct.extend({addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),button({editor:e,t:n}){return{component:ft,componentProps:{action:()=>e.commands.toggleUnderline(),isActive:()=>e.isActive("underline")||!1,disabled:!1,icon:"Underline",shortcutKeys:["mod","U"],tooltip:n("editor.underline.tooltip")}}}}}});function Uct(r){var e;const n=P.useMemo(()=>{var i;const o=(i=r==null?void 0:r.items)==null?void 0:i.find(a=>a.isActive());return o&&!o.default?{...o,icon:o.icon?o.icon:r.icon}:{title:r==null?void 0:r.tooltip,icon:r.icon,isActive:()=>!1}},[r]);return E.jsxs(as,{modal:!0,children:[E.jsx(ss,{asChild:!0,disabled:r==null?void 0:r.disabled,children:E.jsx(ft,{customClass:"!richtext-w-12 richtext-h-12",disabled:r==null?void 0:r.disabled,icon:r==null?void 0:r.icon,tooltip:r==null?void 0:r.tooltip,children:E.jsx(wn,{className:"richtext-ml-1 richtext-size-3 richtext-text-zinc-500",name:"MenuDown"})})}),E.jsx(wa,{align:"start",className:"richtext-flex richtext-w-full richtext-min-w-4 richtext-flex-row richtext-gap-1 !richtext-p-[4px]",side:"bottom",children:(e=r==null?void 0:r.items)==null?void 0:e.map((i,o)=>{var a,s;return E.jsxs(ig,{children:[E.jsx(og,{asChild:!0,children:E.jsx(kv,{className:"richtext-size-7 richtext-p-1","data-state":n.title===i.title?"on":"off",onClick:i==null?void 0:i.action,pressed:n.title===i.title,size:"sm",children:(i==null?void 0:i.icon)&&E.jsx(wn,{name:i.icon})})}),E.jsxs(hp,{className:"richtext-flex richtext-flex-col richtext-items-center",children:[E.jsx("span",{children:i.title}),!!((a=i.shortcutKeys)!=null&&a.length)&&E.jsx("span",{children:(s=i.shortcutKeys)==null?void 0:s.map(l=>kS(l)).join(" ")})]})]},`text-align-${o}`)})})]})}const Bct=Sn.create({name:"text-direction",addOptions(){var r;return{...(r=this.parent)==null?void 0:r.call(this),types:["heading","paragraph"],directions:["auto","ltr","rtl"],defaultDirection:"auto",button({editor:e,extension:n,t:i}){var o;const a=((o=n.options)==null?void 0:o.directions)||[],s={auto:"TextDirection",ltr:"LeftToRight",rtl:"RightToLeft"},l=a.map(u=>({title:i(`editor.textDirection.${u}.tooltip`),icon:s[u],isActive:()=>!1,action:()=>{var d,h,f,m;if(u==="auto"){(h=(d=e.commands)==null?void 0:d.unsetTextDirection)==null||h.call(d);return}(m=(f=e.commands)==null?void 0:f.setTextDirection)==null||m.call(f,u)},disabled:!1})),c=l.filter(u=>u.disabled).length===l.length;return{component:Uct,componentProps:{icon:"TextDirection",tooltip:i("editor.textDirection.tooltip"),disabled:c,items:l}}}}},addGlobalAttributes(){return[{types:this.options.types,attributes:{dir:{default:this.options.defaultDirection,parseHTML:r=>r.attributes.dir&&this.options.directions.includes(r.attributes.dir)?r.attributes.dir.value:this.options.defaultDirection,renderHTML:r=>({dir:r.dir})}}}]},addCommands(){return{setTextDirection:r=>({commands:e})=>this.options.directions.includes(r)?this.options.types.every(n=>e.updateAttributes(n,{dir:r})):!1,unsetTextDirection:()=>({commands:r})=>this.options.types.every(e=>r.resetAttributes(e,"dir"))}}});function wi(r){this.content=r}wi.prototype={constructor:wi,find:function(r){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===r)return e;return-1},get:function(r){var e=this.find(r);return e==-1?void 0:this.content[e+1]},update:function(r,e,n){var i=n&&n!=r?this.remove(n):this,o=i.find(r),a=i.content.slice();return o==-1?a.push(n||r,e):(a[o+1]=e,n&&(a[o]=n)),new wi(a)},remove:function(r){var e=this.find(r);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new wi(n)},addToStart:function(r,e){return new wi([r,e].concat(this.remove(r).content))},addToEnd:function(r,e){var n=this.remove(r).content.slice();return n.push(r,e),new wi(n)},addBefore:function(r,e,n){var i=this.remove(e),o=i.content.slice(),a=i.find(r);return o.splice(a==-1?o.length:a,0,e,n),new wi(o)},forEach:function(r){for(var e=0;e<this.content.length;e+=2)r(this.content[e],this.content[e+1])},prepend:function(r){return r=wi.from(r),r.size?new wi(r.content.concat(this.subtract(r).content)):this},append:function(r){return r=wi.from(r),r.size?new wi(this.subtract(r).content.concat(r.content)):this},subtract:function(r){var e=this;r=wi.from(r);for(var n=0;n<r.content.length;n+=2)e=e.remove(r.content[n]);return e},toObject:function(){var r={};return this.forEach(function(e,n){r[e]=n}),r},get size(){return this.content.length>>1}};wi.from=function(r){if(r instanceof wi)return r;var e=[];if(r)for(var n in r)e.push(n,r[n]);return new wi(e)};function tge(r,e,n){for(let i=0;;i++){if(i==r.childCount||i==e.childCount)return r.childCount==e.childCount?null:n;let o=r.child(i),a=e.child(i);if(o==a){n+=o.nodeSize;continue}if(!o.sameMarkup(a))return n;if(o.isText&&o.text!=a.text){for(let s=0;o.text[s]==a.text[s];s++)n++;return n}if(o.content.size||a.content.size){let s=tge(o.content,a.content,n+1);if(s!=null)return s}n+=o.nodeSize}}function nge(r,e,n,i){for(let o=r.childCount,a=e.childCount;;){if(o==0||a==0)return o==a?null:{a:n,b:i};let s=r.child(--o),l=e.child(--a),c=s.nodeSize;if(s==l){n-=c,i-=c;continue}if(!s.sameMarkup(l))return{a:n,b:i};if(s.isText&&s.text!=l.text){let u=0,d=Math.min(s.text.length,l.text.length);for(;u<d&&s.text[s.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,i--;return{a:n,b:i}}if(s.content.size||l.content.size){let u=nge(s.content,l.content,n-1,i-1);if(u)return u}n-=c,i-=c}}class nt{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let i=0;i<e.length;i++)this.size+=e[i].nodeSize}nodesBetween(e,n,i,o=0,a){for(let s=0,l=0;l<n;s++){let c=this.content[s],u=l+c.nodeSize;if(u>e&&i(c,o+l,a||null,s)!==!1&&c.content.size){let d=l+1;c.nodesBetween(Math.max(0,e-d),Math.min(c.content.size,n-d),i,o+d)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,i,o){let a="",s=!0;return this.nodesBetween(e,n,(l,c)=>{let u=l.isText?l.text.slice(Math.max(e,c)-c,n-c):l.isLeaf?o?typeof o=="function"?o(l):o:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&i&&(s?s=!1:a+=i),a+=u},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,i=e.firstChild,o=this.content.slice(),a=0;for(n.isText&&n.sameMarkup(i)&&(o[o.length-1]=n.withText(n.text+i.text),a=1);a<e.content.length;a++)o.push(e.content[a]);return new nt(o,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let i=[],o=0;if(n>e)for(let a=0,s=0;s<n;a++){let l=this.content[a],c=s+l.nodeSize;c>e&&((s<e||c>n)&&(l.isText?l=l.cut(Math.max(0,e-s),Math.min(l.text.length,n-s)):l=l.cut(Math.max(0,e-s-1),Math.min(l.content.size,n-s-1))),i.push(l),o+=l.nodeSize),s=c}return new nt(i,o)}cutByIndex(e,n){return e==n?nt.empty:e==0&&n==this.content.length?this:new nt(this.content.slice(e,n))}replaceChild(e,n){let i=this.content[e];if(i==n)return this;let o=this.content.slice(),a=this.size+n.nodeSize-i.nodeSize;return o[e]=n,new nt(o,a)}addToStart(e){return new nt([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new nt(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,i=0;n<this.content.length;n++){let o=this.content[n];e(o,i,n),i+=o.nodeSize}}findDiffStart(e,n=0){return tge(this,e,n)}findDiffEnd(e,n=this.size,i=e.size){return nge(this,e,n,i)}findIndex(e,n=-1){if(e==0)return $2(0,e);if(e==this.size)return $2(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let i=0,o=0;;i++){let a=this.child(i),s=o+a.nodeSize;if(s>=e)return s==e||n>0?$2(i+1,s):$2(i,o);o=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return nt.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new nt(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return nt.empty;let n,i=0;for(let o=0;o<e.length;o++){let a=e[o];i+=a.nodeSize,o&&a.isText&&e[o-1].sameMarkup(a)?(n||(n=e.slice(0,o)),n[n.length-1]=a.withText(n[n.length-1].text+a.text)):n&&n.push(a)}return new nt(n||e,i)}static from(e){if(!e)return nt.empty;if(e instanceof nt)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new nt([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}nt.empty=new nt([],0);const sA={index:0,offset:0};function $2(r,e){return sA.index=r,sA.offset=e,sA}function f5(r,e){if(r===e)return!0;if(!(r&&typeof r=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(r);if(Array.isArray(e)!=n)return!1;if(n){if(r.length!=e.length)return!1;for(let i=0;i<r.length;i++)if(!f5(r[i],e[i]))return!1}else{for(let i in r)if(!(i in e)||!f5(r[i],e[i]))return!1;for(let i in e)if(!(i in r))return!1}return!0}class Qn{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,i=!1;for(let o=0;o<e.length;o++){let a=e[o];if(this.eq(a))return e;if(this.type.excludes(a.type))n||(n=e.slice(0,o));else{if(a.type.excludes(this.type))return e;!i&&a.type.rank>this.type.rank&&(n||(n=e.slice(0,o)),n.push(this),i=!0),n&&n.push(a)}}return n||(n=e.slice()),i||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&f5(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let i=e.marks[n.type];if(!i)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=i.create(n.attrs);return i.checkAttrs(o.attrs),o}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].eq(n[i]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Qn.none;if(e instanceof Qn)return[e];let n=e.slice();return n.sort((i,o)=>i.type.rank-o.type.rank),n}}Qn.none=[];class p5 extends Error{}class xt{constructor(e,n,i){this.content=e,this.openStart=n,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let i=ige(this.content,e+this.openStart,n);return i&&new xt(i,this.openStart,this.openEnd)}removeBetween(e,n){return new xt(rge(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return xt.empty;let i=n.openStart||0,o=n.openEnd||0;if(typeof i!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new xt(nt.fromJSON(e,n.content),i,o)}static maxOpen(e,n=!0){let i=0,o=0;for(let a=e.firstChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.firstChild)i++;for(let a=e.lastChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.lastChild)o++;return new xt(e,i,o)}}xt.empty=new xt(nt.empty,0,0);function rge(r,e,n){let{index:i,offset:o}=r.findIndex(e),a=r.maybeChild(i),{index:s,offset:l}=r.findIndex(n);if(o==e||a.isText){if(l!=n&&!r.child(s).isText)throw new RangeError("Removing non-flat range");return r.cut(0,e).append(r.cut(n))}if(i!=s)throw new RangeError("Removing non-flat range");return r.replaceChild(i,a.copy(rge(a.content,e-o-1,n-o-1)))}function ige(r,e,n,i){let{index:o,offset:a}=r.findIndex(e),s=r.maybeChild(o);if(a==e||s.isText)return r.cut(0,e).append(n).append(r.cut(e));let l=ige(s.content,e-a-1,n);return l&&r.replaceChild(o,s.copy(l))}function jct(r,e,n){if(n.openStart>r.depth)throw new p5("Inserted content deeper than insertion position");if(r.depth-n.openStart!=e.depth-n.openEnd)throw new p5("Inconsistent open depths");return oge(r,e,n,0)}function oge(r,e,n,i){let o=r.index(i),a=r.node(i);if(o==e.index(i)&&i<r.depth-n.openStart){let s=oge(r,e,n,i+1);return a.copy(a.content.replaceChild(o,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&r.depth==i&&e.depth==i){let s=r.parent,l=s.content;return Of(s,l.cut(0,r.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:s,end:l}=Fct(n,r);return Of(a,sge(r,s,l,e,i))}else return Of(a,m5(r,e,i))}function age(r,e){if(!e.type.compatibleContent(r.type))throw new p5("Cannot join "+e.type.name+" onto "+r.type.name)}function VM(r,e,n){let i=r.node(n);return age(i,e.node(n)),i}function Nf(r,e){let n=e.length-1;n>=0&&r.isText&&r.sameMarkup(e[n])?e[n]=r.withText(e[n].text+r.text):e.push(r)}function Ky(r,e,n,i){let o=(e||r).node(n),a=0,s=e?e.index(n):o.childCount;r&&(a=r.index(n),r.depth>n?a++:r.textOffset&&(Nf(r.nodeAfter,i),a++));for(let l=a;l<s;l++)Nf(o.child(l),i);e&&e.depth==n&&e.textOffset&&Nf(e.nodeBefore,i)}function Of(r,e){return r.type.checkContent(e),r.copy(e)}function sge(r,e,n,i,o){let a=r.depth>o&&VM(r,e,o+1),s=i.depth>o&&VM(n,i,o+1),l=[];return Ky(null,r,o,l),a&&s&&e.index(o)==n.index(o)?(age(a,s),Nf(Of(a,sge(r,e,n,i,o+1)),l)):(a&&Nf(Of(a,m5(r,e,o+1)),l),Ky(e,n,o,l),s&&Nf(Of(s,m5(n,i,o+1)),l)),Ky(i,null,o,l),new nt(l)}function m5(r,e,n){let i=[];if(Ky(null,r,n,i),r.depth>n){let o=VM(r,e,n+1);Nf(Of(o,m5(r,e,n+1)),i)}return Ky(e,null,n,i),new nt(i)}function Fct(r,e){let n=e.depth-r.openStart,o=e.node(n).copy(r.content);for(let a=n-1;a>=0;a--)o=e.node(a).copy(nt.from(o));return{start:o.resolveNoCache(r.openStart+n),end:o.resolveNoCache(o.content.size-r.openEnd-n)}}class Lb{constructor(e,n,i){this.pos=e,this.path=n,this.parentOffset=i,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let i=this.pos-this.path[this.path.length-1],o=e.child(n);return i?e.child(n).cut(i):o}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let i=this.path[n*3],o=n==0?0:this.path[n*3-1]+1;for(let a=0;a<e;a++)o+=i.child(a).nodeSize;return o}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Qn.none;if(this.textOffset)return e.child(n).marks;let i=e.maybeChild(n-1),o=e.maybeChild(n);if(!i){let l=i;i=o,o=l}let a=i.marks;for(var s=0;s<a.length;s++)a[s].type.spec.inclusive===!1&&(!o||!a[s].isInSet(o.marks))&&(a=a[s--].removeFromSet(a));return a}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let i=n.marks,o=e.parent.maybeChild(e.index());for(var a=0;a<i.length;a++)i[a].type.spec.inclusive===!1&&(!o||!i[a].isInSet(o.marks))&&(i=i[a--].removeFromSet(i));return i}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);i>=0;i--)if(e.pos<=this.end(i)&&(!n||n(this.node(i))))return new g5(this,e,i);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let i=[],o=0,a=n;for(let s=e;;){let{index:l,offset:c}=s.content.findIndex(a),u=a-c;if(i.push(s,l,o+c),!u||(s=s.child(l),s.isText))break;a=u-1,o+=c+1}return new Lb(n,i,a)}static resolveCached(e,n){let i=aQ.get(e);if(i)for(let a=0;a<i.elts.length;a++){let s=i.elts[a];if(s.pos==n)return s}else aQ.set(e,i=new Hct);let o=i.elts[i.i]=Lb.resolve(e,n);return i.i=(i.i+1)%Wct,o}}class Hct{constructor(){this.elts=[],this.i=0}}const Wct=12,aQ=new WeakMap;class g5{constructor(e,n,i){this.$from=e,this.$to=n,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Vct=Object.create(null);let Pf=class qM{constructor(e,n,i,o=Qn.none){this.type=e,this.attrs=n,this.marks=o,this.content=i||nt.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,i,o=0){this.content.nodesBetween(e,n,i,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,i,o){return this.content.textBetween(e,n,i,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,i){return this.type==e&&f5(this.attrs,n||e.defaultAttrs||Vct)&&Qn.sameSet(this.marks,i||Qn.none)}copy(e=null){return e==this.content?this:new qM(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new qM(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,i=!1){if(e==n)return xt.empty;let o=this.resolve(e),a=this.resolve(n),s=i?0:o.sharedDepth(n),l=o.start(s),u=o.node(s).content.cut(o.pos-l,a.pos-l);return new xt(u,o.depth-s,a.depth-s)}replace(e,n,i){return jct(this.resolve(e),this.resolve(n),i)}nodeAt(e){for(let n=this;;){let{index:i,offset:o}=n.content.findIndex(e);if(n=n.maybeChild(i),!n)return null;if(o==e||n.isText)return n;e-=o+1}}childAfter(e){let{index:n,offset:i}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:i}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:i}=this.content.findIndex(e);if(i<e)return{node:this.content.child(n),index:n,offset:i};let o=this.content.child(n-1);return{node:o,index:n-1,offset:i-o.nodeSize}}resolve(e){return Lb.resolveCached(this,e)}resolveNoCache(e){return Lb.resolve(this,e)}rangeHasMark(e,n,i){let o=!1;return n>e&&this.nodesBetween(e,n,a=>(i.isInSet(a.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),lge(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,i=nt.empty,o=0,a=i.childCount){let s=this.contentMatchAt(e).matchFragment(i,o,a),l=s&&s.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let c=o;c<a;c++)if(!this.type.allowsMarks(i.child(c).marks))return!1;return!0}canReplaceWith(e,n,i,o){if(o&&!this.type.allowsMarks(o))return!1;let a=this.contentMatchAt(e).matchType(i),s=a&&a.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Qn.none;for(let n=0;n<this.marks.length;n++){let i=this.marks[n];i.type.checkAttrs(i.attrs),e=i.addToSet(e)}if(!Qn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let i;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,i)}let o=nt.fromJSON(e,n.content),a=e.nodeType(n.type).create(n.attrs,o,i);return a.type.checkAttrs(a.attrs),a}};Pf.prototype.text=void 0;class y5 extends Pf{constructor(e,n,i,o){if(super(e,n,null,o),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):lge(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new y5(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new y5(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function lge(r,e){for(let n=r.length-1;n>=0;n--)e=r[n].type.name+"("+e+")";return e}class tp{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let i=new qct(e,n);if(i.next==null)return tp.empty;let o=cge(i);i.next&&i.err("Unexpected trailing text");let a=Qct(Jct(o));return eut(a,i),a}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,i=e.childCount){let o=this;for(let a=n;o&&a<i;a++)o=o.matchType(e.child(a).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let i=0;i<e.next.length;i++)if(this.next[n].type==e.next[i].type)return!0;return!1}fillBefore(e,n=!1,i=0){let o=[this];function a(s,l){let c=s.matchFragment(e,i);if(c&&(!n||c.validEnd))return nt.from(l.map(u=>u.createAndFill()));for(let u=0;u<s.next.length;u++){let{type:d,next:h}=s.next[u];if(!(d.isText||d.hasRequiredAttrs())&&o.indexOf(h)==-1){o.push(h);let f=a(h,l.concat(d));if(f)return f}}return null}return a(this,[])}findWrapping(e){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==e)return this.wrapCache[i+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let o=i.shift(),a=o.match;if(a.matchType(e)){let s=[];for(let l=o;l.type;l=l.via)s.push(l.type);return s.reverse()}for(let s=0;s<a.next.length;s++){let{type:l,next:c}=a.next[s];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!o.type||c.validEnd)&&(i.push({match:l.contentMatch,type:l,via:o}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(i){e.push(i);for(let o=0;o<i.next.length;o++)e.indexOf(i.next[o].next)==-1&&n(i.next[o].next)}return n(this),e.map((i,o)=>{let a=o+(i.validEnd?"*":" ")+" ";for(let s=0;s<i.next.length;s++)a+=(s?", ":"")+i.next[s].type.name+"->"+e.indexOf(i.next[s].next);return a}).join(`
`)}}tp.empty=new tp(!0);class qct{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function cge(r){let e=[];do e.push(Gct(r));while(r.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Gct(r){let e=[];do e.push(Kct(r));while(r.next&&r.next!=")"&&r.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Kct(r){let e=Zct(r);for(;;)if(r.eat("+"))e={type:"plus",expr:e};else if(r.eat("*"))e={type:"star",expr:e};else if(r.eat("?"))e={type:"opt",expr:e};else if(r.eat("{"))e=Xct(r,e);else break;return e}function sQ(r){/\D/.test(r.next)&&r.err("Expected number, got '"+r.next+"'");let e=Number(r.next);return r.pos++,e}function Xct(r,e){let n=sQ(r),i=n;return r.eat(",")&&(r.next!="}"?i=sQ(r):i=-1),r.eat("}")||r.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:e}}function Yct(r,e){let n=r.nodeTypes,i=n[e];if(i)return[i];let o=[];for(let a in n){let s=n[a];s.isInGroup(e)&&o.push(s)}return o.length==0&&r.err("No node type or group '"+e+"' found"),o}function Zct(r){if(r.eat("(")){let e=cge(r);return r.eat(")")||r.err("Missing closing paren"),e}else if(/\W/.test(r.next))r.err("Unexpected token '"+r.next+"'");else{let e=Yct(r,r.next).map(n=>(r.inline==null?r.inline=n.isInline:r.inline!=n.isInline&&r.err("Mixing inline and block content"),{type:"name",value:n}));return r.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Jct(r){let e=[[]];return o(a(r,0),n()),e;function n(){return e.push([])-1}function i(s,l,c){let u={term:c,to:l};return e[s].push(u),u}function o(s,l){s.forEach(c=>c.to=l)}function a(s,l){if(s.type=="choice")return s.exprs.reduce((c,u)=>c.concat(a(u,l)),[]);if(s.type=="seq")for(let c=0;;c++){let u=a(s.exprs[c],l);if(c==s.exprs.length-1)return u;o(u,l=n())}else if(s.type=="star"){let c=n();return i(l,c),o(a(s.expr,c),c),[i(c)]}else if(s.type=="plus"){let c=n();return o(a(s.expr,l),c),o(a(s.expr,c),c),[i(c)]}else{if(s.type=="opt")return[i(l)].concat(a(s.expr,l));if(s.type=="range"){let c=l;for(let u=0;u<s.min;u++){let d=n();o(a(s.expr,c),d),c=d}if(s.max==-1)o(a(s.expr,c),c);else for(let u=s.min;u<s.max;u++){let d=n();i(c,d),o(a(s.expr,c),d),c=d}return[i(c)]}else{if(s.type=="name")return[i(l,void 0,s.value)];throw new Error("Unknown expr type")}}}}function uge(r,e){return e-r}function lQ(r,e){let n=[];return i(e),n.sort(uge);function i(o){let a=r[o];if(a.length==1&&!a[0].term)return i(a[0].to);n.push(o);for(let s=0;s<a.length;s++){let{term:l,to:c}=a[s];!l&&n.indexOf(c)==-1&&i(c)}}}function Qct(r){let e=Object.create(null);return n(lQ(r,0));function n(i){let o=[];i.forEach(s=>{r[s].forEach(({term:l,to:c})=>{if(!l)return;let u;for(let d=0;d<o.length;d++)o[d][0]==l&&(u=o[d][1]);lQ(r,c).forEach(d=>{u||o.push([l,u=[]]),u.indexOf(d)==-1&&u.push(d)})})});let a=e[i.join(",")]=new tp(i.indexOf(r.length-1)>-1);for(let s=0;s<o.length;s++){let l=o[s][1].sort(uge);a.next.push({type:o[s][0],next:e[l.join(",")]||n(l)})}return a}}function eut(r,e){for(let n=0,i=[r];n<i.length;n++){let o=i[n],a=!o.validEnd,s=[];for(let l=0;l<o.next.length;l++){let{type:c,next:u}=o.next[l];s.push(c.name),a&&!(c.isText||c.hasRequiredAttrs())&&(a=!1),i.indexOf(u)==-1&&i.push(u)}a&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function dge(r){let e=Object.create(null);for(let n in r){let i=r[n];if(!i.hasDefault)return null;e[n]=i.default}return e}function hge(r,e){let n=Object.create(null);for(let i in r){let o=e&&e[i];if(o===void 0){let a=r[i];if(a.hasDefault)o=a.default;else throw new RangeError("No value supplied for attribute "+i)}n[i]=o}return n}function fge(r,e,n,i){for(let o in e)if(!(o in r))throw new RangeError(`Unsupported attribute ${o} for ${n} of type ${o}`);for(let o in r){let a=r[o];a.validate&&a.validate(e[o])}}function pge(r,e){let n=Object.create(null);if(e)for(let i in e)n[i]=new nut(r,i,e[i]);return n}let cQ=class mge{constructor(e,n,i){this.name=e,this.schema=n,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=pge(e,i.attrs),this.defaultAttrs=dge(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==tp.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:hge(this.attrs,e)}create(e=null,n,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Pf(this,this.computeAttrs(e),nt.from(n),Qn.setFrom(i))}createChecked(e=null,n,i){return n=nt.from(n),this.checkContent(n),new Pf(this,this.computeAttrs(e),n,Qn.setFrom(i))}createAndFill(e=null,n,i){if(e=this.computeAttrs(e),n=nt.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let o=this.contentMatch.matchFragment(n),a=o&&o.fillBefore(nt.empty,!0);return a?new Pf(this,e,n.append(a),Qn.setFrom(i)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let i=0;i<e.childCount;i++)if(!this.allowsMarks(e.child(i).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){fge(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let i=0;i<e.length;i++)this.allowsMarkType(e[i].type)?n&&n.push(e[i]):n||(n=e.slice(0,i));return n?n.length?n:Qn.none:e}static compile(e,n){let i=Object.create(null);e.forEach((a,s)=>i[a]=new mge(a,n,s));let o=n.spec.topNode||"doc";if(!i[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let a in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function tut(r,e,n){let i=n.split("|");return o=>{let a=o===null?"null":typeof o;if(i.indexOf(a)<0)throw new RangeError(`Expected value of type ${i} for attribute ${e} on type ${r}, got ${a}`)}}class nut{constructor(e,n,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?tut(e,n,i.validate):i.validate}get isRequired(){return!this.hasDefault}}class V6{constructor(e,n,i,o){this.name=e,this.rank=n,this.schema=i,this.spec=o,this.attrs=pge(e,o.attrs),this.excluded=null;let a=dge(this.attrs);this.instance=a?new Qn(this,a):null}create(e=null){return!e&&this.instance?this.instance:new Qn(this,hge(this.attrs,e))}static compile(e,n){let i=Object.create(null),o=0;return e.forEach((a,s)=>i[a]=new V6(a,o++,n,s)),i}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){fge(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class rut{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let o in e)n[o]=e[o];n.nodes=wi.from(e.nodes),n.marks=wi.from(e.marks||{}),this.nodes=cQ.compile(this.spec.nodes,this),this.marks=V6.compile(this.spec.marks,this);let i=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let a=this.nodes[o],s=a.spec.content||"",l=a.spec.marks;if(a.contentMatch=i[s]||(i[s]=tp.parse(s,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=l=="_"?null:l?uQ(this,l.split(" ")):l==""||!a.inlineContent?[]:null}for(let o in this.marks){let a=this.marks[o],s=a.spec.excludes;a.excluded=s==null?[a]:s==""?[]:uQ(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,i,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof cQ){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,i,o)}text(e,n){let i=this.nodes.text;return new y5(i,i.defaultAttrs,e,Qn.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Pf.fromJSON(this,e)}markFromJSON(e){return Qn.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function uQ(r,e){let n=[];for(let i=0;i<e.length;i++){let o=e[i],a=r.marks[o],s=a;if(a)n.push(a);else for(let l in r.marks){let c=r.marks[l];(o=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=c)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return n}function iut(r){return r.tag!=null}function out(r){return r.style!=null}let C4=class GM{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let i=this.matchedStyles=[];n.forEach(o=>{if(iut(o))this.tags.push(o);else if(out(o)){let a=/[^=]*/.exec(o.style)[0];i.indexOf(a)<0&&i.push(a),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let a=e.nodes[o.node];return a.contentMatch.matchType(a)})}parse(e,n={}){let i=new hQ(this,n,!1);return i.addAll(e,Qn.none,n.from,n.to),i.finish()}parseSlice(e,n={}){let i=new hQ(this,n,!0);return i.addAll(e,Qn.none,n.from,n.to),xt.maxOpen(i.finish())}matchTag(e,n,i){for(let o=i?this.tags.indexOf(i)+1:0;o<this.tags.length;o++){let a=this.tags[o];if(lut(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||n.matchesContext(a.context))){if(a.getAttrs){let s=a.getAttrs(e);if(s===!1)continue;a.attrs=s||void 0}return a}}}matchStyle(e,n,i,o){for(let a=o?this.styles.indexOf(o)+1:0;a<this.styles.length;a++){let s=this.styles[a],l=s.style;if(!(l.indexOf(e)!=0||s.context&&!i.matchesContext(s.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(s.getAttrs){let c=s.getAttrs(n);if(c===!1)continue;s.attrs=c||void 0}return s}}}static schemaRules(e){let n=[];function i(o){let a=o.priority==null?50:o.priority,s=0;for(;s<n.length;s++){let l=n[s];if((l.priority==null?50:l.priority)<a)break}n.splice(s,0,o)}for(let o in e.marks){let a=e.marks[o].spec.parseDOM;a&&a.forEach(s=>{i(s=fQ(s)),s.mark||s.ignore||s.clearMark||(s.mark=o)})}for(let o in e.nodes){let a=e.nodes[o].spec.parseDOM;a&&a.forEach(s=>{i(s=fQ(s)),s.node||s.ignore||s.mark||(s.node=o)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new GM(e,GM.schemaRules(e)))}};const gge={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},aut={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},yge={ol:!0,ul:!0},Ub=1,KM=2,_4=4;function dQ(r,e,n){return e!=null?(e?Ub:0)|(e==="full"?KM:0):r&&r.whitespace=="pre"?Ub|KM:n&-5}class z2{constructor(e,n,i,o,a,s){this.type=e,this.attrs=n,this.marks=i,this.solid=o,this.options=s,this.content=[],this.activeMarks=Qn.none,this.match=a||(s&_4?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(nt.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let i=this.type.contentMatch,o;return(o=i.findWrapping(e.type))?(this.match=i,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Ub)){let i=this.content[this.content.length-1],o;if(i&&i.isText&&(o=/[ \t\r\n\u000c]+$/.exec(i.text))){let a=i;i.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-o[0].length))}}let n=nt.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(nt.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!gge.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class hQ{constructor(e,n,i){this.parser=e,this.options=n,this.isOpen=i,this.open=0,this.localPreserveWS=!1;let o=n.topNode,a,s=dQ(null,n.preserveWhitespace,0)|(i?_4:0);o?a=new z2(o.type,o.attrs,Qn.none,!0,n.topMatch||o.type.contentMatch,s):i?a=new z2(null,null,Qn.none,!0,null,s):a=new z2(e.schema.topNodeType,null,Qn.none,!0,null,s),this.nodes=[a],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let i=e.nodeValue,o=this.top,a=o.options&KM?"full":this.localPreserveWS||(o.options&Ub)>0;if(a==="full"||o.inlineContext(e)||/[^ \t\r\n\u000c]/.test(i)){if(a)a!=="full"?i=i.replace(/\r?\n|\r/g," "):i=i.replace(/\r\n?/g,`
`);else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let s=o.content[o.content.length-1],l=e.previousSibling;(!s||l&&l.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(i=i.slice(1))}i&&this.insertNode(this.parser.schema.text(i),n,!/\S/.test(i)),this.findInText(e)}else this.findInside(e)}addElement(e,n,i){let o=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),l;yge.hasOwnProperty(s)&&this.parser.normalizeLists&&sut(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,i));e:if(c?c.ignore:aut.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,n);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let u,d=this.needsBlock;if(gge.hasOwnProperty(s))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),u=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let h=c&&c.skip?n:this.readStyles(e,n);h&&this.addAll(e,h),u&&this.sync(a),this.needsBlock=d}else{let u=this.readStyles(e,n);u&&this.addElementByRule(e,c,u,c.consuming===!1?l:void 0)}this.localPreserveWS=o}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let i=e.style;if(i&&i.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let a=this.parser.matchedStyles[o],s=i.getPropertyValue(a);if(s)for(let l=void 0;;){let c=this.parser.matchStyle(a,s,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?n=n.filter(u=>!c.clearMark(u)):n=n.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return n}addElementByRule(e,n,i,o){let a,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),i,e.nodeName=="BR")||this.leafFallback(e,i);else{let c=this.enter(s,n.attrs||null,i,n.preserveWhitespace);c&&(a=!0,i=c)}else{let c=this.parser.schema.marks[n.mark];i=i.concat(c.create(n.attrs))}let l=this.top;if(s&&s.isLeaf)this.findInside(e);else if(o)this.addElement(e,i,o);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,i,!1));else{let c=e;typeof n.contentElement=="string"?c=e.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(e):n.contentElement&&(c=n.contentElement),this.findAround(e,c,!0),this.addAll(c,i),this.findAround(e,c,!1)}a&&this.sync(l)&&this.open--}addAll(e,n,i,o){let a=i||0;for(let s=i?e.childNodes[i]:e.firstChild,l=o==null?null:e.childNodes[o];s!=l;s=s.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(s,n);this.findAtPoint(e,a)}findPlace(e,n,i){let o,a;for(let s=this.open,l=0;s>=0;s--){let c=this.nodes[s],u=c.findWrapping(e);if(u&&(!o||o.length>u.length+l)&&(o=u,a=c,!u.length))break;if(c.solid){if(i)break;l+=2}}if(!o)return null;this.sync(a);for(let s=0;s<o.length;s++)n=this.enterInner(o[s],null,n,!1);return n}insertNode(e,n,i){if(e.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(n=this.enterInner(a,null,n))}let o=this.findPlace(e,n,i);if(o){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(e.type));let s=Qn.none;for(let l of o.concat(e.marks))(a.type?a.type.allowsMarkType(l.type):pQ(l.type,e.type))&&(s=l.addToSet(s));return a.content.push(e.mark(s)),!0}return!1}enter(e,n,i,o){let a=this.findPlace(e.create(n),i,!1);return a&&(a=this.enterInner(e,n,i,!0,o)),a}enterInner(e,n,i,o=!1,a){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let l=dQ(e,a,s.options);s.options&_4&&s.content.length==0&&(l|=_4);let c=Qn.none;return i=i.filter(u=>(s.type?s.type.allowsMarkType(u.type):pQ(u.type,e))?(c=u.addToSet(c),!1):!0),this.nodes.push(new z2(e,n,c,o,null,l)),this.open++,i}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Ub)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let i=this.nodes[n].content;for(let o=i.length-1;o>=0;o--)e+=i[o].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==e&&this.find[i].offset==n&&(this.find[i].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,i){if(e!=n&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&n.compareDocumentPosition(this.find[o].node)&(i?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),i=this.options.context,o=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),a=-(i?i.depth+1:0)+(o?0:1),s=(l,c)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;c>=a;c--)if(s(l-1,c))return!0;return!1}else{let d=c>0||c==0&&o?this.nodes[c].type:i&&c>=a?i.node(c-a).type:null;if(!d||d.name!=u&&!d.isInGroup(u))return!1;c--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let n in this.parser.schema.nodes){let i=this.parser.schema.nodes[n];if(i.isTextblock&&i.defaultAttrs)return i}}}function sut(r){for(let e=r.firstChild,n=null;e;e=e.nextSibling){let i=e.nodeType==1?e.nodeName.toLowerCase():null;i&&yge.hasOwnProperty(i)&&n?(n.appendChild(e),e=n):i=="li"?n=e:i&&(n=null)}}function lut(r,e){return(r.matches||r.msMatchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector).call(r,e)}function fQ(r){let e={};for(let n in r)e[n]=r[n];return e}function pQ(r,e){let n=e.schema.nodes;for(let i in n){let o=n[i];if(!o.allowsMarkType(r))continue;let a=[],s=l=>{a.push(l);for(let c=0;c<l.edgeCount;c++){let{type:u,next:d}=l.edge(c);if(u==e||a.indexOf(d)<0&&s(d))return!0}};if(s(o.contentMatch))return!0}}class q6{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},i){i||(i=lA(n).createDocumentFragment());let o=i,a=[];return e.forEach(s=>{if(a.length||s.marks.length){let l=0,c=0;for(;l<a.length&&c<s.marks.length;){let u=s.marks[c];if(!this.marks[u.type.name]){c++;continue}if(!u.eq(a[l][0])||u.type.spec.spanning===!1)break;l++,c++}for(;l<a.length;)o=a.pop()[1];for(;c<s.marks.length;){let u=s.marks[c++],d=this.serializeMark(u,s.isInline,n);d&&(a.push([u,o]),o.appendChild(d.dom),o=d.contentDOM||d.dom)}}o.appendChild(this.serializeNodeInner(s,n))}),i}serializeNodeInner(e,n){let{dom:i,contentDOM:o}=A4(lA(n),this.nodes[e.type.name](e),null,e.attrs);if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,o)}return i}serializeNode(e,n={}){let i=this.serializeNodeInner(e,n);for(let o=e.marks.length-1;o>=0;o--){let a=this.serializeMark(e.marks[o],e.isInline,n);a&&((a.contentDOM||a.dom).appendChild(i),i=a.dom)}return i}serializeMark(e,n,i={}){let o=this.marks[e.type.name];return o&&A4(lA(i),o(e,n),null,e.attrs)}static renderSpec(e,n,i=null,o){return A4(e,n,i,o)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new q6(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=mQ(e.nodes);return n.text||(n.text=i=>i.text),n}static marksFromSchema(e){return mQ(e.marks)}}function mQ(r){let e={};for(let n in r){let i=r[n].spec.toDOM;i&&(e[n]=i)}return e}function lA(r){return r.document||window.document}const gQ=new WeakMap;function cut(r){let e=gQ.get(r);return e===void 0&&gQ.set(r,e=uut(r)),e}function uut(r){let e=null;function n(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")e||(e=[]),e.push(i);else for(let o=0;o<i.length;o++)n(i[o]);else for(let o in i)n(i[o])}return n(r),e}function A4(r,e,n,i){if(typeof e=="string")return{dom:r.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let o=e[0],a;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(a=cut(i))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=o.indexOf(" ");s>0&&(n=o.slice(0,s),o=o.slice(s+1));let l,c=n?r.createElementNS(n,o):r.createElement(o),u=e[1],d=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){d=2;for(let h in u)if(u[h]!=null){let f=h.indexOf(" ");f>0?c.setAttributeNS(h.slice(0,f),h.slice(f+1),u[h]):c.setAttribute(h,u[h])}}for(let h=d;h<e.length;h++){let f=e[h];if(f===0){if(h<e.length-1||h>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:m,contentDOM:b}=A4(r,f,n,i);if(c.appendChild(m),b){if(l)throw new RangeError("Multiple content holes");l=b}}}return{dom:c,contentDOM:l}}const bge=65535,vge=Math.pow(2,16);function dut(r,e){return r+e*vge}function yQ(r){return r&bge}function hut(r){return(r-(r&bge))/vge}const xge=1,wge=2,D4=4,Sge=8;class XM{constructor(e,n,i){this.pos=e,this.delInfo=n,this.recover=i}get deleted(){return(this.delInfo&Sge)>0}get deletedBefore(){return(this.delInfo&(xge|D4))>0}get deletedAfter(){return(this.delInfo&(wge|D4))>0}get deletedAcross(){return(this.delInfo&D4)>0}}class sa{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&sa.empty)return sa.empty}recover(e){let n=0,i=yQ(e);if(!this.inverted)for(let o=0;o<i;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[i*3]+n+hut(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,i){let o=0,a=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?o:0);if(c>e)break;let u=this.ranges[l+a],d=this.ranges[l+s],h=c+u;if(e<=h){let f=u?e==c?-1:e==h?1:n:n,m=c+o+(f<0?0:d);if(i)return m;let b=e==(n<0?c:h)?null:dut(l/3,e-c),g=e==c?wge:e==h?xge:D4;return(n<0?e!=c:e!=h)&&(g|=Sge),new XM(m,g,b)}o+=d-u}return i?e+o:new XM(e+o,0,null)}touches(e,n){let i=0,o=yQ(n),a=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?i:0);if(c>e)break;let u=this.ranges[l+a],d=c+u;if(e<=d&&l==o*3)return!0;i+=this.ranges[l+s]-u}return!1}forEach(e){let n=this.inverted?2:1,i=this.inverted?1:2;for(let o=0,a=0;o<this.ranges.length;o+=3){let s=this.ranges[o],l=s-(this.inverted?a:0),c=s+(this.inverted?0:a),u=this.ranges[o+n],d=this.ranges[o+i];e(l,l+u,c,c+d),a+=d-u}}invert(){return new sa(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?sa.empty:new sa(e<0?[0,-e,0]:[0,0,e])}}sa.empty=new sa([]);class b5{constructor(e,n,i=0,o=e?e.length:0){this.mirror=n,this.from=i,this.to=o,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new b5(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,i=this._maps.length;n<e._maps.length;n++){let o=e.getMirror(n);this.appendMap(e._maps[n],o!=null&&o<n?i+o:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,i=this._maps.length+e._maps.length;n>=0;n--){let o=e.getMirror(n);this.appendMap(e._maps[n].invert(),o!=null&&o>n?i-o-1:void 0)}}invert(){let e=new b5;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let i=this.from;i<this.to;i++)e=this._maps[i].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,i){let o=0;for(let a=this.from;a<this.to;a++){let s=this._maps[a],l=s.mapResult(e,n);if(l.recover!=null){let c=this.getMirror(a);if(c!=null&&c>a&&c<this.to){a=c,e=this._maps[c].recover(l.recover);continue}}o|=l.delInfo,e=l.pos}return i?e:new XM(e,o,null)}}const cA=Object.create(null);class Yi{getMap(){return sa.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=cA[n.stepType];if(!i)throw new RangeError(`No step type ${n.stepType} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in cA)throw new RangeError("Duplicate use of step JSON ID "+e);return cA[e]=n,n.prototype.jsonID=e,n}}class Kr{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Kr(e,null)}static fail(e){return new Kr(null,e)}static fromReplace(e,n,i,o){try{return Kr.ok(e.replace(n,i,o))}catch(a){if(a instanceof p5)return Kr.fail(a.message);throw a}}}function RI(r,e,n){let i=[];for(let o=0;o<r.childCount;o++){let a=r.child(o);a.content.size&&(a=a.copy(RI(a.content,e,a))),a.isInline&&(a=e(a,n,o)),i.push(a)}return nt.fromArray(i)}class yd extends Yi{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=e.resolve(this.from),o=i.node(i.sharedDepth(this.to)),a=new xt(RI(n.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),o),n.openStart,n.openEnd);return Kr.fromReplace(e,this.from,this.to,a)}invert(){return new pl(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new yd(n.pos,i.pos,this.mark)}merge(e){return e instanceof yd&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new yd(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new yd(n.from,n.to,e.markFromJSON(n.mark))}}Yi.jsonID("addMark",yd);class pl extends Yi{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=new xt(RI(n.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),n.openStart,n.openEnd);return Kr.fromReplace(e,this.from,this.to,i)}invert(){return new yd(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new pl(n.pos,i.pos,this.mark)}merge(e){return e instanceof pl&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new pl(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new pl(n.from,n.to,e.markFromJSON(n.mark))}}Yi.jsonID("removeMark",pl);class bd extends Yi{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Kr.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Kr.fromReplace(e,this.pos,this.pos+1,new xt(nt.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let i=this.mark.addToSet(n.marks);if(i.length==n.marks.length){for(let o=0;o<n.marks.length;o++)if(!n.marks[o].isInSet(i))return new bd(this.pos,n.marks[o]);return new bd(this.pos,this.mark)}}return new np(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new bd(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new bd(n.pos,e.markFromJSON(n.mark))}}Yi.jsonID("addNodeMark",bd);class np extends Yi{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Kr.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Kr.fromReplace(e,this.pos,this.pos+1,new xt(nt.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new bd(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new np(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new np(n.pos,e.markFromJSON(n.mark))}}Yi.jsonID("removeNodeMark",np);class ci extends Yi{constructor(e,n,i,o=!1){super(),this.from=e,this.to=n,this.slice=i,this.structure=o}apply(e){return this.structure&&YM(e,this.from,this.to)?Kr.fail("Structure replace would overwrite content"):Kr.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new sa([this.from,this.to-this.from,this.slice.size])}invert(e){return new ci(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deletedAcross&&i.deletedAcross?null:new ci(n.pos,Math.max(n.pos,i.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ci)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?xt.empty:new xt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ci(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?xt.empty:new xt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ci(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ci(n.from,n.to,xt.fromJSON(e,n.slice),!!n.structure)}}Yi.jsonID("replace",ci);class di extends Yi{constructor(e,n,i,o,a,s,l=!1){super(),this.from=e,this.to=n,this.gapFrom=i,this.gapTo=o,this.slice=a,this.insert=s,this.structure=l}apply(e){if(this.structure&&(YM(e,this.from,this.gapFrom)||YM(e,this.gapTo,this.to)))return Kr.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Kr.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,n.content);return i?Kr.fromReplace(e,this.from,this.to,i):Kr.fail("Content does not fit in gap")}getMap(){return new sa([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new di(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),o=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?i.pos:e.map(this.gapTo,1);return n.deletedAcross&&i.deletedAcross||o<n.pos||a>i.pos?null:new di(n.pos,i.pos,o,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new di(n.from,n.to,n.gapFrom,n.gapTo,xt.fromJSON(e,n.slice),n.insert,!!n.structure)}}Yi.jsonID("replaceAround",di);function YM(r,e,n){let i=r.resolve(e),o=n-e,a=i.depth;for(;o>0&&a>0&&i.indexAfter(a)==i.node(a).childCount;)a--,o--;if(o>0){let s=i.node(a).maybeChild(i.indexAfter(a));for(;o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}}return!1}function fut(r,e,n,i){let o=[],a=[],s,l;r.doc.nodesBetween(e,n,(c,u,d)=>{if(!c.isInline)return;let h=c.marks;if(!i.isInSet(h)&&d.type.allowsMarkType(i.type)){let f=Math.max(u,e),m=Math.min(u+c.nodeSize,n),b=i.addToSet(h);for(let g=0;g<h.length;g++)h[g].isInSet(b)||(s&&s.to==f&&s.mark.eq(h[g])?s.to=m:o.push(s=new pl(f,m,h[g])));l&&l.to==f?l.to=m:a.push(l=new yd(f,m,i))}}),o.forEach(c=>r.step(c)),a.forEach(c=>r.step(c))}function put(r,e,n,i){let o=[],a=0;r.doc.nodesBetween(e,n,(s,l)=>{if(!s.isInline)return;a++;let c=null;if(i instanceof V6){let u=s.marks,d;for(;d=i.isInSet(u);)(c||(c=[])).push(d),u=d.removeFromSet(u)}else i?i.isInSet(s.marks)&&(c=[i]):c=s.marks;if(c&&c.length){let u=Math.min(l+s.nodeSize,n);for(let d=0;d<c.length;d++){let h=c[d],f;for(let m=0;m<o.length;m++){let b=o[m];b.step==a-1&&h.eq(o[m].style)&&(f=b)}f?(f.to=u,f.step=a):o.push({style:h,from:Math.max(l,e),to:u,step:a})}}}),o.forEach(s=>r.step(new pl(s.from,s.to,s.style)))}function NI(r,e,n,i=n.contentMatch,o=!0){let a=r.doc.nodeAt(e),s=[],l=e+1;for(let c=0;c<a.childCount;c++){let u=a.child(c),d=l+u.nodeSize,h=i.matchType(u.type);if(!h)s.push(new ci(l,d,xt.empty));else{i=h;for(let f=0;f<u.marks.length;f++)n.allowsMarkType(u.marks[f].type)||r.step(new pl(l,d,u.marks[f]));if(o&&u.isText&&n.whitespace!="pre"){let f,m=/\r?\n|\r/g,b;for(;f=m.exec(u.text);)b||(b=new xt(nt.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),s.push(new ci(l+f.index,l+f.index+f[0].length,b))}}l=d}if(!i.validEnd){let c=i.fillBefore(nt.empty,!0);r.replace(l,l,new xt(c,0,0))}for(let c=s.length-1;c>=0;c--)r.step(s[c])}function mut(r,e,n){return(e==0||r.canReplace(e,r.childCount))&&(n==r.childCount||r.canReplace(0,n))}function Sg(r){let n=r.parent.content.cutByIndex(r.startIndex,r.endIndex);for(let i=r.depth;;--i){let o=r.$from.node(i),a=r.$from.index(i),s=r.$to.indexAfter(i);if(i<r.depth&&o.canReplace(a,s,n))return i;if(i==0||o.type.spec.isolating||!mut(o,a,s))break}return null}function gut(r,e,n){let{$from:i,$to:o,depth:a}=e,s=i.before(a+1),l=o.after(a+1),c=s,u=l,d=nt.empty,h=0;for(let b=a,g=!1;b>n;b--)g||i.index(b)>0?(g=!0,d=nt.from(i.node(b).copy(d)),h++):c--;let f=nt.empty,m=0;for(let b=a,g=!1;b>n;b--)g||o.after(b+1)<o.end(b)?(g=!0,f=nt.from(o.node(b).copy(f)),m++):u++;r.step(new di(c,u,s,l,new xt(d.append(f),h,m),d.size-h,!0))}function kge(r,e,n=null,i=r){let o=yut(r,e),a=o&&but(i,e);return a?o.map(bQ).concat({type:e,attrs:n}).concat(a.map(bQ)):null}function bQ(r){return{type:r,attrs:null}}function yut(r,e){let{parent:n,startIndex:i,endIndex:o}=r,a=n.contentMatchAt(i).findWrapping(e);if(!a)return null;let s=a.length?a[0]:e;return n.canReplaceWith(i,o,s)?a:null}function but(r,e){let{parent:n,startIndex:i,endIndex:o}=r,a=n.child(i),s=e.contentMatch.findWrapping(a.type);if(!s)return null;let c=(s.length?s[s.length-1]:e).contentMatch;for(let u=i;c&&u<o;u++)c=c.matchType(n.child(u).type);return!c||!c.validEnd?null:s}function vut(r,e,n){let i=nt.empty;for(let s=n.length-1;s>=0;s--){if(i.size){let l=n[s].type.contentMatch.matchFragment(i);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=nt.from(n[s].type.create(n[s].attrs,i))}let o=e.start,a=e.end;r.step(new di(o,a,o,a,new xt(i,0,0),n.length,!0))}function xut(r,e,n,i,o){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=r.steps.length;r.doc.nodesBetween(e,n,(s,l)=>{let c=typeof o=="function"?o(s):o;if(s.isTextblock&&!s.hasMarkup(i,c)&&wut(r.doc,r.mapping.slice(a).map(l),i)){let u=null;if(i.schema.linebreakReplacement){let m=i.whitespace=="pre",b=!!i.contentMatch.matchType(i.schema.linebreakReplacement);m&&!b?u=!1:!m&&b&&(u=!0)}u===!1&&Ege(r,s,l,a),NI(r,r.mapping.slice(a).map(l,1),i,void 0,u===null);let d=r.mapping.slice(a),h=d.map(l,1),f=d.map(l+s.nodeSize,1);return r.step(new di(h,f,h+1,f-1,new xt(nt.from(i.create(c,null,s.marks)),0,0),1,!0)),u===!0&&Tge(r,s,l,a),!1}})}function Tge(r,e,n,i){e.forEach((o,a)=>{if(o.isText){let s,l=/\r?\n|\r/g;for(;s=l.exec(o.text);){let c=r.mapping.slice(i).map(n+1+a+s.index);r.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function Ege(r,e,n,i){e.forEach((o,a)=>{if(o.type==o.type.schema.linebreakReplacement){let s=r.mapping.slice(i).map(n+1+a);r.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function wut(r,e,n){let i=r.resolve(e),o=i.index();return i.parent.canReplaceWith(o,o+1,n)}function Sut(r,e,n,i,o){let a=r.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");n||(n=a.type);let s=n.create(i,null,o||a.marks);if(a.isLeaf)return r.replaceWith(e,e+a.nodeSize,s);if(!n.validContent(a.content))throw new RangeError("Invalid content for node type "+n.name);r.step(new di(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new xt(nt.from(s),0,0),1,!0))}function jc(r,e,n=1,i){let o=r.resolve(e),a=o.depth-n,s=i&&i[i.length-1]||o.parent;if(a<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let u=o.depth-1,d=n-2;u>a;u--,d--){let h=o.node(u),f=o.index(u);if(h.type.spec.isolating)return!1;let m=h.content.cutByIndex(f,h.childCount),b=i&&i[d+1];b&&(m=m.replaceChild(0,b.type.create(b.attrs)));let g=i&&i[d]||h;if(!h.canReplace(f+1,h.childCount)||!g.type.validContent(m))return!1}let l=o.indexAfter(a),c=i&&i[0];return o.node(a).canReplaceWith(l,l,c?c.type:o.node(a+1).type)}function kut(r,e,n=1,i){let o=r.doc.resolve(e),a=nt.empty,s=nt.empty;for(let l=o.depth,c=o.depth-n,u=n-1;l>c;l--,u--){a=nt.from(o.node(l).copy(a));let d=i&&i[u];s=nt.from(d?d.type.create(d.attrs,s):o.node(l).copy(s))}r.step(new ci(e,e,new xt(a.append(s),n,n),!0))}function Ep(r,e){let n=r.resolve(e),i=n.index();return Cge(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function Tut(r,e){e.content.size||r.type.compatibleContent(e.type);let n=r.contentMatchAt(r.childCount),{linebreakReplacement:i}=r.type.schema;for(let o=0;o<e.childCount;o++){let a=e.child(o),s=a.type==i?r.type.schema.nodes.text:a.type;if(n=n.matchType(s),!n||!r.type.allowsMarks(a.marks))return!1}return n.validEnd}function Cge(r,e){return!!(r&&e&&!r.isLeaf&&Tut(r,e))}function G6(r,e,n=-1){let i=r.resolve(e);for(let o=i.depth;;o--){let a,s,l=i.index(o);if(o==i.depth?(a=i.nodeBefore,s=i.nodeAfter):n>0?(a=i.node(o+1),l++,s=i.node(o).maybeChild(l)):(a=i.node(o).maybeChild(l-1),s=i.node(o+1)),a&&!a.isTextblock&&Cge(a,s)&&i.node(o).canReplace(l,l+1))return e;if(o==0)break;e=n<0?i.before(o):i.after(o)}}function Eut(r,e,n){let i=null,{linebreakReplacement:o}=r.doc.type.schema,a=r.doc.resolve(e-n),s=a.node().type;if(o&&s.inlineContent){let d=s.whitespace=="pre",h=!!s.contentMatch.matchType(o);d&&!h?i=!1:!d&&h&&(i=!0)}let l=r.steps.length;if(i===!1){let d=r.doc.resolve(e+n);Ege(r,d.node(),d.before(),l)}s.inlineContent&&NI(r,e+n-1,s,a.node().contentMatchAt(a.index()),i==null);let c=r.mapping.slice(l),u=c.map(e-n);if(r.step(new ci(u,c.map(e+n,-1),xt.empty,!0)),i===!0){let d=r.doc.resolve(u);Tge(r,d.node(),d.before(),r.steps.length)}return r}function Cut(r,e,n){let i=r.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),n))return e;if(i.parentOffset==0)for(let o=i.depth-1;o>=0;o--){let a=i.index(o);if(i.node(o).canReplaceWith(a,a,n))return i.before(o+1);if(a>0)return null}if(i.parentOffset==i.parent.content.size)for(let o=i.depth-1;o>=0;o--){let a=i.indexAfter(o);if(i.node(o).canReplaceWith(a,a,n))return i.after(o+1);if(a<i.node(o).childCount)return null}return null}function _ut(r,e,n){let i=r.resolve(e);if(!n.content.size)return e;let o=n.content;for(let a=0;a<n.openStart;a++)o=o.firstChild.content;for(let a=1;a<=(n.openStart==0&&n.size?2:1);a++)for(let s=i.depth;s>=0;s--){let l=s==i.depth?0:i.pos<=(i.start(s+1)+i.end(s+1))/2?-1:1,c=i.index(s)+(l>0?1:0),u=i.node(s),d=!1;if(a==1)d=u.canReplace(c,c,o);else{let h=u.contentMatchAt(c).findWrapping(o.firstChild.type);d=h&&u.canReplaceWith(c,c,h[0])}if(d)return l==0?i.pos:l<0?i.before(s+1):i.after(s+1)}return null}function K6(r,e,n=e,i=xt.empty){if(e==n&&!i.size)return null;let o=r.resolve(e),a=r.resolve(n);return _ge(o,a,i)?new ci(e,n,i):new Aut(o,a,i).fit()}function _ge(r,e,n){return!n.openStart&&!n.openEnd&&r.start()==e.start()&&r.parent.canReplace(r.index(),e.index(),n.content)}class Aut{constructor(e,n,i){this.$from=e,this.$to=n,this.unplaced=i,this.frontier=[],this.placed=nt.empty;for(let o=0;o<=e.depth;o++){let a=e.node(o);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=nt.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,o=this.close(e<0?this.$to:i.doc.resolve(e));if(!o)return null;let a=this.placed,s=i.depth,l=o.depth;for(;s&&l&&a.childCount==1;)a=a.firstChild.content,s--,l--;let c=new xt(a,s,l);return e>-1?new di(i.pos,e,this.$to.pos,this.$to.end(),c,n):c.size||i.pos!=this.$to.pos?new ci(i.pos,o.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,i=0,o=this.unplaced.openEnd;i<e;i++){let a=n.firstChild;if(n.childCount>1&&(o=0),a.type.spec.isolating&&o<=i){e=i;break}n=a.content}for(let n=1;n<=2;n++)for(let i=n==1?e:this.unplaced.openStart;i>=0;i--){let o,a=null;i?(a=uA(this.unplaced.content,i-1).firstChild,o=a.content):o=this.unplaced.content;let s=o.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:u}=this.frontier[l],d,h=null;if(n==1&&(s?u.matchType(s.type)||(h=u.fillBefore(nt.from(s),!1)):a&&c.compatibleContent(a.type)))return{sliceDepth:i,frontierDepth:l,parent:a,inject:h};if(n==2&&s&&(d=u.findWrapping(s.type)))return{sliceDepth:i,frontierDepth:l,parent:a,wrap:d};if(a&&u.matchType(a.type))break}}}openMore(){let{content:e,openStart:n,openEnd:i}=this.unplaced,o=uA(e,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new xt(e,n+1,Math.max(i,o.size+n>=e.size-i?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:i}=this.unplaced,o=uA(e,n);if(o.childCount<=1&&n>0){let a=e.size-n<=n+o.size;this.unplaced=new xt(Ey(e,n-1,1),n-1,a?n-1:i)}else this.unplaced=new xt(Ey(e,n,1),n,i)}placeNodes({sliceDepth:e,frontierDepth:n,parent:i,inject:o,wrap:a}){for(;this.depth>n;)this.closeFrontierNode();if(a)for(let g=0;g<a.length;g++)this.openFrontierNode(a[g]);let s=this.unplaced,l=i?i.content:s.content,c=s.openStart-e,u=0,d=[],{match:h,type:f}=this.frontier[n];if(o){for(let g=0;g<o.childCount;g++)d.push(o.child(g));h=h.matchFragment(o)}let m=l.size+e-(s.content.size-s.openEnd);for(;u<l.childCount;){let g=l.child(u),v=h.matchType(g.type);if(!v)break;u++,(u>1||c==0||g.content.size)&&(h=v,d.push(Age(g.mark(f.allowedMarks(g.marks)),u==1?c:0,u==l.childCount?m:-1)))}let b=u==l.childCount;b||(m=-1),this.placed=Cy(this.placed,n,nt.from(d)),this.frontier[n].match=h,b&&m<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,v=l;g<m;g++){let x=v.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),v=x.content}this.unplaced=b?e==0?xt.empty:new xt(Ey(s.content,e-1,1),e-1,m<0?s.openEnd:e-1):new xt(Ey(s.content,e,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!dA(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:i}=this.$to,o=this.$to.after(i);for(;i>1&&o==this.$to.end(--i);)++o;return o}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:i,type:o}=this.frontier[n],a=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=dA(e,n,o,i,a);if(s){for(let l=n-1;l>=0;l--){let{match:c,type:u}=this.frontier[l],d=dA(e,l,u,c,!0);if(!d||d.childCount)continue e}return{depth:n,fit:s,move:a?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Cy(this.placed,n.depth,n.fit)),e=n.move;for(let i=n.depth+1;i<=e.depth;i++){let o=e.node(i),a=o.type.contentMatch.fillBefore(o.content,!0,e.index(i));this.openFrontierNode(o.type,o.attrs,a)}return e}openFrontierNode(e,n=null,i){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=Cy(this.placed,this.depth,nt.from(e.create(n,i))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(nt.empty,!0);n.childCount&&(this.placed=Cy(this.placed,this.frontier.length,n))}}function Ey(r,e,n){return e==0?r.cutByIndex(n,r.childCount):r.replaceChild(0,r.firstChild.copy(Ey(r.firstChild.content,e-1,n)))}function Cy(r,e,n){return e==0?r.append(n):r.replaceChild(r.childCount-1,r.lastChild.copy(Cy(r.lastChild.content,e-1,n)))}function uA(r,e){for(let n=0;n<e;n++)r=r.firstChild.content;return r}function Age(r,e,n){if(e<=0)return r;let i=r.content;return e>1&&(i=i.replaceChild(0,Age(i.firstChild,e-1,i.childCount==1?n-1:0))),e>0&&(i=r.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(r.type.contentMatch.matchFragment(i).fillBefore(nt.empty,!0)))),r.copy(i)}function dA(r,e,n,i,o){let a=r.node(e),s=o?r.indexAfter(e):r.index(e);if(s==a.childCount&&!n.compatibleContent(a.type))return null;let l=i.fillBefore(a.content,!0,s);return l&&!Dut(n,a.content,s)?l:null}function Dut(r,e,n){for(let i=n;i<e.childCount;i++)if(!r.allowsMarks(e.child(i).marks))return!0;return!1}function Mut(r){return r.spec.defining||r.spec.definingForContent}function Rut(r,e,n,i){if(!i.size)return r.deleteRange(e,n);let o=r.doc.resolve(e),a=r.doc.resolve(n);if(_ge(o,a,i))return r.step(new ci(e,n,i));let s=Mge(o,r.doc.resolve(n));s[s.length-1]==0&&s.pop();let l=-(o.depth+1);s.unshift(l);for(let f=o.depth,m=o.pos-1;f>0;f--,m--){let b=o.node(f).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;s.indexOf(f)>-1?l=f:o.before(f)==m&&s.splice(1,0,-f)}let c=s.indexOf(l),u=[],d=i.openStart;for(let f=i.content,m=0;;m++){let b=f.firstChild;if(u.push(b),m==i.openStart)break;f=b.content}for(let f=d-1;f>=0;f--){let m=u[f],b=Mut(m.type);if(b&&!m.sameMarkup(o.node(Math.abs(l)-1)))d=f;else if(b||!m.type.isTextblock)break}for(let f=i.openStart;f>=0;f--){let m=(f+d+1)%(i.openStart+1),b=u[m];if(b)for(let g=0;g<s.length;g++){let v=s[(g+c)%s.length],x=!0;v<0&&(x=!1,v=-v);let w=o.node(v-1),k=o.index(v-1);if(w.canReplaceWith(k,k,b.type,b.marks))return r.replace(o.before(v),x?a.after(v):n,new xt(Dge(i.content,0,i.openStart,m),m,i.openEnd))}}let h=r.steps.length;for(let f=s.length-1;f>=0&&(r.replace(e,n,i),!(r.steps.length>h));f--){let m=s[f];m<0||(e=o.before(m),n=a.after(m))}}function Dge(r,e,n,i,o){if(e<n){let a=r.firstChild;r=r.replaceChild(0,a.copy(Dge(a.content,e+1,n,i,a)))}if(e>i){let a=o.contentMatchAt(0),s=a.fillBefore(r).append(r);r=s.append(a.matchFragment(s).fillBefore(nt.empty,!0))}return r}function Nut(r,e,n,i){if(!i.isInline&&e==n&&r.doc.resolve(e).parent.content.size){let o=Cut(r.doc,e,i.type);o!=null&&(e=n=o)}r.replaceRange(e,n,new xt(nt.from(i),0,0))}function Out(r,e,n){let i=r.doc.resolve(e),o=r.doc.resolve(n),a=Mge(i,o);for(let s=0;s<a.length;s++){let l=a[s],c=s==a.length-1;if(c&&l==0||i.node(l).type.contentMatch.validEnd)return r.delete(i.start(l),o.end(l));if(l>0&&(c||i.node(l-1).canReplace(i.index(l-1),o.indexAfter(l-1))))return r.delete(i.before(l),o.after(l))}for(let s=1;s<=i.depth&&s<=o.depth;s++)if(e-i.start(s)==i.depth-s&&n>i.end(s)&&o.end(s)-n!=o.depth-s&&i.start(s-1)==o.start(s-1)&&i.node(s-1).canReplace(i.index(s-1),o.index(s-1)))return r.delete(i.before(s),n);r.delete(e,n)}function Mge(r,e){let n=[],i=Math.min(r.depth,e.depth);for(let o=i;o>=0;o--){let a=r.start(o);if(a<r.pos-(r.depth-o)||e.end(o)>e.pos+(e.depth-o)||r.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(a==e.start(o)||o==r.depth&&o==e.depth&&r.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==a-1)&&n.push(o)}return n}class f0 extends Yi{constructor(e,n,i){super(),this.pos=e,this.attr=n,this.value=i}apply(e){let n=e.nodeAt(this.pos);if(!n)return Kr.fail("No node at attribute step's position");let i=Object.create(null);for(let a in n.attrs)i[a]=n.attrs[a];i[this.attr]=this.value;let o=n.type.create(i,null,n.marks);return Kr.fromReplace(e,this.pos,this.pos+1,new xt(nt.from(o),0,n.isLeaf?0:1))}getMap(){return sa.empty}invert(e){return new f0(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new f0(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new f0(n.pos,n.attr,n.value)}}Yi.jsonID("attr",f0);class Bb extends Yi{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let o in e.attrs)n[o]=e.attrs[o];n[this.attr]=this.value;let i=e.type.create(n,e.content,e.marks);return Kr.ok(i)}getMap(){return sa.empty}invert(e){return new Bb(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Bb(n.attr,n.value)}}Yi.jsonID("docAttr",Bb);let q0=class extends Error{};q0=function r(e){let n=Error.call(this,e);return n.__proto__=r.prototype,n};q0.prototype=Object.create(Error.prototype);q0.prototype.constructor=q0;q0.prototype.name="TransformError";class Put{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new b5}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new q0(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,i=xt.empty){let o=K6(this.doc,e,n,i);return o&&this.step(o),this}replaceWith(e,n,i){return this.replace(e,n,new xt(nt.from(i),0,0))}delete(e,n){return this.replace(e,n,xt.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,i){return Rut(this,e,n,i),this}replaceRangeWith(e,n,i){return Nut(this,e,n,i),this}deleteRange(e,n){return Out(this,e,n),this}lift(e,n){return gut(this,e,n),this}join(e,n=1){return Eut(this,e,n),this}wrap(e,n){return vut(this,e,n),this}setBlockType(e,n=e,i,o=null){return xut(this,e,n,i,o),this}setNodeMarkup(e,n,i=null,o){return Sut(this,e,n,i,o),this}setNodeAttribute(e,n,i){return this.step(new f0(e,n,i)),this}setDocAttribute(e,n){return this.step(new Bb(e,n)),this}addNodeMark(e,n){return this.step(new bd(e,n)),this}removeNodeMark(e,n){let i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at position "+e);if(n instanceof Qn)n.isInSet(i.marks)&&this.step(new np(e,n));else{let o=i.marks,a,s=[];for(;a=n.isInSet(o);)s.push(new np(e,a)),o=a.removeFromSet(o);for(let l=s.length-1;l>=0;l--)this.step(s[l])}return this}split(e,n=1,i){return kut(this,e,n,i),this}addMark(e,n,i){return fut(this,e,n,i),this}removeMark(e,n,i){return put(this,e,n,i),this}clearIncompatible(e,n,i){return NI(this,e,n,i),this}}const hA=Object.create(null);class ln{constructor(e,n,i){this.$anchor=e,this.$head=n,this.ranges=i||[new Rge(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=xt.empty){let i=n.content.lastChild,o=null;for(let l=0;l<n.openEnd;l++)o=i,i=i.lastChild;let a=e.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:c,$to:u}=s[l],d=e.mapping.slice(a);e.replaceRange(d.map(c.pos),d.map(u.pos),l?xt.empty:n),l==0&&wQ(e,a,(i?i.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,n){let i=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:s,$to:l}=o[a],c=e.mapping.slice(i),u=c.map(s.pos),d=c.map(l.pos);a?e.deleteRange(u,d):(e.replaceRangeWith(u,d,n),wQ(e,i,n.isInline?-1:1))}}static findFrom(e,n,i=!1){let o=e.parent.inlineContent?new rn(e):Wm(e.node(0),e.parent,e.pos,e.index(),n,i);if(o)return o;for(let a=e.depth-1;a>=0;a--){let s=n<0?Wm(e.node(0),e.node(a),e.before(a+1),e.index(a),n,i):Wm(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,n,i);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new fa(e.node(0))}static atStart(e){return Wm(e,e,0,0,1)||new fa(e)}static atEnd(e){return Wm(e,e,e.content.size,e.childCount,-1)||new fa(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=hA[n.type];if(!i)throw new RangeError(`No selection type ${n.type} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in hA)throw new RangeError("Duplicate use of selection JSON ID "+e);return hA[e]=n,n.prototype.jsonID=e,n}getBookmark(){return rn.between(this.$anchor,this.$head).getBookmark()}}ln.prototype.visible=!0;class Rge{constructor(e,n){this.$from=e,this.$to=n}}let vQ=!1;function xQ(r){!vQ&&!r.parent.inlineContent&&(vQ=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+r.parent.type.name+")"))}class rn extends ln{constructor(e,n=e){xQ(e),xQ(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let i=e.resolve(n.map(this.head));if(!i.parent.inlineContent)return ln.near(i);let o=e.resolve(n.map(this.anchor));return new rn(o.parent.inlineContent?o:i,i)}replace(e,n=xt.empty){if(super.replace(e,n),n==xt.empty){let i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}}eq(e){return e instanceof rn&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new X6(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new rn(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,i=n){let o=e.resolve(n);return new this(o,i==n?o:e.resolve(i))}static between(e,n,i){let o=e.pos-n.pos;if((!i||o)&&(i=o>=0?1:-1),!n.parent.inlineContent){let a=ln.findFrom(n,i,!0)||ln.findFrom(n,-i,!0);if(a)n=a.$head;else return ln.near(n,i)}return e.parent.inlineContent||(o==0?e=n:(e=(ln.findFrom(e,-i,!0)||ln.findFrom(e,i,!0)).$anchor,e.pos<n.pos!=o<0&&(e=n))),new rn(e,n)}}ln.jsonID("text",rn);class X6{constructor(e,n){this.anchor=e,this.head=n}map(e){return new X6(e.map(this.anchor),e.map(this.head))}resolve(e){return rn.between(e.resolve(this.anchor),e.resolve(this.head))}}class Qt extends ln{constructor(e){let n=e.nodeAfter,i=e.node(0).resolve(e.pos+n.nodeSize);super(e,i),this.node=n}map(e,n){let{deleted:i,pos:o}=n.mapResult(this.anchor),a=e.resolve(o);return i?ln.near(a):new Qt(a)}content(){return new xt(nt.from(this.node),0,0)}eq(e){return e instanceof Qt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new OI(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Qt(e.resolve(n.anchor))}static create(e,n){return new Qt(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Qt.prototype.visible=!1;ln.jsonID("node",Qt);class OI{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:i}=e.mapResult(this.anchor);return n?new X6(i,i):new OI(i)}resolve(e){let n=e.resolve(this.anchor),i=n.nodeAfter;return i&&Qt.isSelectable(i)?new Qt(n):ln.near(n)}}class fa extends ln{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=xt.empty){if(n==xt.empty){e.delete(0,e.doc.content.size);let i=ln.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new fa(e)}map(e){return new fa(e)}eq(e){return e instanceof fa}getBookmark(){return Iut}}ln.jsonID("all",fa);const Iut={map(){return this},resolve(r){return new fa(r)}};function Wm(r,e,n,i,o,a=!1){if(e.inlineContent)return rn.create(r,n);for(let s=i-(o>0?0:1);o>0?s<e.childCount:s>=0;s+=o){let l=e.child(s);if(l.isAtom){if(!a&&Qt.isSelectable(l))return Qt.create(r,n-(o<0?l.nodeSize:0))}else{let c=Wm(r,l,n+o,o<0?l.childCount:0,o,a);if(c)return c}n+=l.nodeSize*o}return null}function wQ(r,e,n){let i=r.steps.length-1;if(i<e)return;let o=r.steps[i];if(!(o instanceof ci||o instanceof di))return;let a=r.mapping.maps[i],s;a.forEach((l,c,u,d)=>{s==null&&(s=d)}),r.setSelection(ln.near(r.doc.resolve(s),n))}function SQ(r,e){return!e||!r?r:r.bind(e)}class L2{constructor(e,n,i){this.name=e,this.init=SQ(n.init,i),this.apply=SQ(n.apply,i)}}new L2("doc",{init(r){return r.doc||r.schema.topNodeType.createAndFill()},apply(r){return r.doc}}),new L2("selection",{init(r,e){return r.selection||ln.atStart(e.doc)},apply(r){return r.selection}}),new L2("storedMarks",{init(r){return r.storedMarks||null},apply(r,e,n,i){return i.selection.$cursor?r.storedMarks:null}}),new L2("scrollToSelection",{init(){return 0},apply(r,e){return r.scrolledIntoView?e+1:e}});function Nge(r,e,n){for(let i in r){let o=r[i];o instanceof Function?o=o.bind(e):i=="handleDOMEvents"&&(o=Nge(o,e,{})),n[i]=o}return n}class zs{constructor(e){this.spec=e,this.props={},e.props&&Nge(e.props,this,this.props),this.key=e.key?e.key.key:Oge("plugin")}getState(e){return e[this.key]}}const fA=Object.create(null);function Oge(r){return r in fA?r+"$"+ ++fA[r]:(fA[r]=0,r+"$")}class cs{constructor(e="key"){this.key=Oge(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Cp=function(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e},Pge=function(r,e,n,i){return n&&(kQ(r,e,n,i,-1)||kQ(r,e,n,i,1))},$ut=/^(img|br|input|textarea|hr)$/i;function kQ(r,e,n,i,o){for(;;){if(r==n&&e==i)return!0;if(e==(o<0?0:v5(r))){let a=r.parentNode;if(!a||a.nodeType!=1||PI(r)||$ut.test(r.nodeName)||r.contentEditable=="false")return!1;e=Cp(r)+(o<0?0:1),r=a}else if(r.nodeType==1){if(r=r.childNodes[e+(o<0?-1:0)],r.contentEditable=="false")return!1;e=o<0?v5(r):0}else return!1}}function v5(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function zut(r,e,n){for(let i=e==0,o=e==v5(r);i||o;){if(r==n)return!0;let a=Cp(r);if(r=r.parentNode,!r)return!1;i=i&&a==0,o=o&&a==v5(r)}}function PI(r){let e;for(let n=r;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==r||e.contentDOM==r)}const Ige=function(r){return r.focusNode&&Pge(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)};function $ge(r,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=r,n.key=n.code=e,n}const _l=typeof navigator<"u"?navigator:null,TQ=typeof document<"u"?document:null,fh=_l&&_l.userAgent||"",ZM=/Edge\/(\d+)/.exec(fh),zge=/MSIE \d/.exec(fh),JM=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fh),Bv=!!(zge||JM||ZM),Lge=zge?document.documentMode:JM?+JM[1]:ZM?+ZM[1]:0,Y6=!Bv&&/gecko\/(\d+)/i.test(fh);Y6&&+(/Firefox\/(\d+)/.exec(fh)||[0,0])[1];const QM=!Bv&&/Chrome\/(\d+)/.exec(fh),ph=!!QM,Uge=QM?+QM[1]:0,_p=!Bv&&!!_l&&/Apple Computer/.test(_l.vendor),II=_p&&(/Mobile\/\w+/.test(fh)||!!_l&&_l.maxTouchPoints>2),Fa=II||(_l?/Mac/.test(_l.platform):!1),Lut=_l?/Win/.test(_l.platform):!1,jv=/Android \d/.test(fh),$I=!!TQ&&"webkitFontSmoothing"in TQ.documentElement.style,Uut=$I?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function But(r,e=null){let n=r.domSelectionRange(),i=r.state.doc;if(!n.focusNode)return null;let o=r.docView.nearestDesc(n.focusNode),a=o&&o.size==0,s=r.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=i.resolve(s),c,u;if(Ige(n)){for(c=s;o&&!o.node;)o=o.parent;let h=o.node;if(o&&h.isAtom&&Qt.isSelectable(h)&&o.parent&&!(h.isInline&&zut(n.focusNode,n.focusOffset,o.dom))){let f=o.posBefore;u=new Qt(s==f?l:i.resolve(f))}}else{if(n instanceof r.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let h=s,f=s;for(let m=0;m<n.rangeCount;m++){let b=n.getRangeAt(m);h=Math.min(h,r.docView.posFromDOM(b.startContainer,b.startOffset,1)),f=Math.max(f,r.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(h<0)return null;[c,s]=f==r.state.selection.anchor?[f,h]:[h,f],l=i.resolve(s)}else c=r.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null}let d=i.resolve(c);if(!u){let h=e=="pointer"||r.state.selection.head<l.pos&&!a?1:-1;u=jge(r,d,l,h)}return u}function Bge(r){return r.editable?r.hasFocus():Wut(r)&&document.activeElement&&document.activeElement.contains(r.dom)}function zI(r,e=!1){let n=r.state.selection;if(Hut(r,n),!!Bge(r)){if(!e&&r.input.mouseDown&&r.input.mouseDown.allowDefault&&ph){let i=r.domSelectionRange(),o=r.domObserver.currentSelection;if(i.anchorNode&&o.anchorNode&&Pge(i.anchorNode,i.anchorOffset,o.anchorNode,o.anchorOffset)){r.input.mouseDown.delayedSelectionSync=!0,r.domObserver.setCurSelection();return}}if(r.domObserver.disconnectSelection(),r.cursorWrapper)Fut(r);else{let{anchor:i,head:o}=n,a,s;EQ&&!(n instanceof rn)&&(n.$from.parent.inlineContent||(a=CQ(r,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=CQ(r,n.to))),r.docView.setSelection(i,o,r,e),EQ&&(a&&_Q(a),s&&_Q(s)),n.visible?r.dom.classList.remove("ProseMirror-hideselection"):(r.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&jut(r))}r.domObserver.setCurSelection(),r.domObserver.connectSelection()}}const EQ=_p||ph&&Uge<63;function CQ(r,e){let{node:n,offset:i}=r.docView.domFromPos(e,0),o=i<n.childNodes.length?n.childNodes[i]:null,a=i?n.childNodes[i-1]:null;if(_p&&o&&o.contentEditable=="false")return pA(o);if((!o||o.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(o)return pA(o);if(a)return pA(a)}}function pA(r){return r.contentEditable="true",_p&&r.draggable&&(r.draggable=!1,r.wasDraggable=!0),r}function _Q(r){r.contentEditable="false",r.wasDraggable&&(r.draggable=!0,r.wasDraggable=null)}function jut(r){let e=r.dom.ownerDocument;e.removeEventListener("selectionchange",r.input.hideSelectionGuard);let n=r.domSelectionRange(),i=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",r.input.hideSelectionGuard=()=>{(n.anchorNode!=i||n.anchorOffset!=o)&&(e.removeEventListener("selectionchange",r.input.hideSelectionGuard),setTimeout(()=>{(!Bge(r)||r.state.selection.visible)&&r.dom.classList.remove("ProseMirror-hideselection")},20))})}function Fut(r){let e=r.domSelection(),n=document.createRange();if(!e)return;let i=r.cursorWrapper.dom,o=i.nodeName=="IMG";o?n.setStart(i.parentNode,Cp(i)+1):n.setStart(i,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!o&&!r.state.selection.visible&&Bv&&Lge<=11&&(i.disabled=!0,i.disabled=!1)}function Hut(r,e){if(e instanceof Qt){let n=r.docView.descAt(e.from);n!=r.lastSelectedViewDesc&&(AQ(r),n&&n.selectNode(),r.lastSelectedViewDesc=n)}else AQ(r)}function AQ(r){r.lastSelectedViewDesc&&(r.lastSelectedViewDesc.parent&&r.lastSelectedViewDesc.deselectNode(),r.lastSelectedViewDesc=void 0)}function jge(r,e,n,i){return r.someProp("createSelectionBetween",o=>o(r,e,n))||rn.between(e,n,i)}function Wut(r){let e=r.domSelectionRange();if(!e.anchorNode)return!1;try{return r.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(r.editable||r.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function eR(r,e){let{$anchor:n,$head:i}=r.selection,o=e>0?n.max(i):n.min(i),a=o.parent.inlineContent?o.depth?r.doc.resolve(e>0?o.after():o.before()):null:o;return a&&ln.findFrom(a,e)}function id(r,e){return r.dispatch(r.state.tr.setSelection(e).scrollIntoView()),!0}function DQ(r,e,n){let i=r.state.selection;if(i instanceof rn)if(n.indexOf("s")>-1){let{$head:o}=i,a=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let s=r.state.doc.resolve(o.pos+a.nodeSize*(e<0?-1:1));return id(r,new rn(i.$anchor,s))}else if(i.empty){if(r.endOfTextblock(e>0?"forward":"backward")){let o=eR(r.state,e);return o&&o instanceof Qt?id(r,o):!1}else if(!(Fa&&n.indexOf("m")>-1)){let o=i.$head,a=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,s;if(!a||a.isText)return!1;let l=e<0?o.pos-a.nodeSize:o.pos;return a.isAtom||(s=r.docView.descAt(l))&&!s.contentDOM?Qt.isSelectable(a)?id(r,new Qt(e<0?r.state.doc.resolve(o.pos-a.nodeSize):o)):$I?id(r,new rn(r.state.doc.resolve(e<0?l:l+a.nodeSize))):!1:!1}}else return!1;else{if(i instanceof Qt&&i.node.isInline)return id(r,new rn(e>0?i.$to:i.$from));{let o=eR(r.state,e);return o?id(r,o):!1}}}function x5(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function Xy(r,e){let n=r.pmViewDesc;return n&&n.size==0&&(e<0||r.nextSibling||r.nodeName!="BR")}function Mm(r,e){return e<0?Vut(r):qut(r)}function Vut(r){let e=r.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let o,a,s=!1;for(Y6&&n.nodeType==1&&i<x5(n)&&Xy(n.childNodes[i],-1)&&(s=!0);;)if(i>0){if(n.nodeType!=1)break;{let l=n.childNodes[i-1];if(Xy(l,-1))o=n,a=--i;else if(l.nodeType==3)n=l,i=n.nodeValue.length;else break}}else{if(Fge(n))break;{let l=n.previousSibling;for(;l&&Xy(l,-1);)o=n.parentNode,a=Cp(l),l=l.previousSibling;if(l)n=l,i=x5(n);else{if(n=n.parentNode,n==r.dom)break;i=0}}}s?tR(r,n,i):o&&tR(r,o,a)}function qut(r){let e=r.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let o=x5(n),a,s;for(;;)if(i<o){if(n.nodeType!=1)break;let l=n.childNodes[i];if(Xy(l,1))a=n,s=++i;else break}else{if(Fge(n))break;{let l=n.nextSibling;for(;l&&Xy(l,1);)a=l.parentNode,s=Cp(l)+1,l=l.nextSibling;if(l)n=l,i=0,o=x5(n);else{if(n=n.parentNode,n==r.dom)break;i=o=0}}}a&&tR(r,a,s)}function Fge(r){let e=r.pmViewDesc;return e&&e.node&&e.node.isBlock}function Gut(r,e){for(;r&&e==r.childNodes.length&&!PI(r);)e=Cp(r)+1,r=r.parentNode;for(;r&&e<r.childNodes.length;){let n=r.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;r=n,e=0}}function Kut(r,e){for(;r&&!e&&!PI(r);)e=Cp(r),r=r.parentNode;for(;r&&e;){let n=r.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;r=n,e=r.childNodes.length}}function tR(r,e,n){if(e.nodeType!=3){let a,s;(s=Gut(e,n))?(e=s,n=0):(a=Kut(e,n))&&(e=a,n=a.nodeValue.length)}let i=r.domSelection();if(!i)return;if(Ige(i)){let a=document.createRange();a.setEnd(e,n),a.setStart(e,n),i.removeAllRanges(),i.addRange(a)}else i.extend&&i.extend(e,n);r.domObserver.setCurSelection();let{state:o}=r;setTimeout(()=>{r.state==o&&zI(r)},50)}function MQ(r,e){let n=r.state.doc.resolve(e);if(!(ph||Lut)&&n.parent.inlineContent){let o=r.coordsAtPos(e);if(e>n.start()){let a=r.coordsAtPos(e-1),s=(a.top+a.bottom)/2;if(s>o.top&&s<o.bottom&&Math.abs(a.left-o.left)>1)return a.left<o.left?"ltr":"rtl"}if(e<n.end()){let a=r.coordsAtPos(e+1),s=(a.top+a.bottom)/2;if(s>o.top&&s<o.bottom&&Math.abs(a.left-o.left)>1)return a.left>o.left?"ltr":"rtl"}}return getComputedStyle(r.dom).direction=="rtl"?"rtl":"ltr"}function RQ(r,e,n){let i=r.state.selection;if(i instanceof rn&&!i.empty||n.indexOf("s")>-1||Fa&&n.indexOf("m")>-1)return!1;let{$from:o,$to:a}=i;if(!o.parent.inlineContent||r.endOfTextblock(e<0?"up":"down")){let s=eR(r.state,e);if(s&&s instanceof Qt)return id(r,s)}if(!o.parent.inlineContent){let s=e<0?o:a,l=i instanceof fa?ln.near(s,e):ln.findFrom(s,e);return l?id(r,l):!1}return!1}function NQ(r,e){if(!(r.state.selection instanceof rn))return!0;let{$head:n,$anchor:i,empty:o}=r.state.selection;if(!n.sameParent(i))return!0;if(!o)return!1;if(r.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(a&&!a.isText){let s=r.state.tr;return e<0?s.delete(n.pos-a.nodeSize,n.pos):s.delete(n.pos,n.pos+a.nodeSize),r.dispatch(s),!0}return!1}function OQ(r,e,n){r.domObserver.stop(),e.contentEditable=n,r.domObserver.start()}function Xut(r){if(!_p||r.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=r.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let i=e.firstChild;OQ(r,i,"true"),setTimeout(()=>OQ(r,i,"false"),20)}return!1}function Yut(r){let e="";return r.ctrlKey&&(e+="c"),r.metaKey&&(e+="m"),r.altKey&&(e+="a"),r.shiftKey&&(e+="s"),e}function Zut(r,e){let n=e.keyCode,i=Yut(e);if(n==8||Fa&&n==72&&i=="c")return NQ(r,-1)||Mm(r,-1);if(n==46&&!e.shiftKey||Fa&&n==68&&i=="c")return NQ(r,1)||Mm(r,1);if(n==13||n==27)return!0;if(n==37||Fa&&n==66&&i=="c"){let o=n==37?MQ(r,r.state.selection.from)=="ltr"?-1:1:-1;return DQ(r,o,i)||Mm(r,o)}else if(n==39||Fa&&n==70&&i=="c"){let o=n==39?MQ(r,r.state.selection.from)=="ltr"?1:-1:1;return DQ(r,o,i)||Mm(r,o)}else{if(n==38||Fa&&n==80&&i=="c")return RQ(r,-1,i)||Mm(r,-1);if(n==40||Fa&&n==78&&i=="c")return Xut(r)||RQ(r,1,i)||Mm(r,1);if(i==(Fa?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Hge(r,e){r.someProp("transformCopied",m=>{e=m(e,r)});let n=[],{content:i,openStart:o,openEnd:a}=e;for(;o>1&&a>1&&i.childCount==1&&i.firstChild.childCount==1;){o--,a--;let m=i.firstChild;n.push(m.type.name,m.attrs!=m.type.defaultAttrs?m.attrs:null),i=m.content}let s=r.someProp("clipboardSerializer")||q6.fromSchema(r.state.schema),l=Xge(),c=l.createElement("div");c.appendChild(s.serializeFragment(i,{document:l}));let u=c.firstChild,d,h=0;for(;u&&u.nodeType==1&&(d=Kge[u.nodeName.toLowerCase()]);){for(let m=d.length-1;m>=0;m--){let b=l.createElement(d[m]);for(;c.firstChild;)b.appendChild(c.firstChild);c.appendChild(b),h++}u=c.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${o} ${a}${h?` -${h}`:""} ${JSON.stringify(n)}`);let f=r.someProp("clipboardTextSerializer",m=>m(e,r))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:f,slice:e}}function Wge(r,e,n,i,o){let a=o.parent.type.spec.code,s,l;if(!n&&!e)return null;let c=e&&(i||a||!n);if(c){if(r.someProp("transformPastedText",f=>{e=f(e,a||i,r)}),a)return e?new xt(nt.from(r.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):xt.empty;let h=r.someProp("clipboardTextParser",f=>f(e,o,i,r));if(h)l=h;else{let f=o.marks(),{schema:m}=r.state,b=q6.fromSchema(m);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let v=s.appendChild(document.createElement("p"));g&&v.appendChild(b.serializeNode(m.text(g,f)))})}}else r.someProp("transformPastedHTML",h=>{n=h(n,r)}),s=tdt(n),$I&&ndt(s);let u=s&&s.querySelector("[data-pm-slice]"),d=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let h=+d[3];h>0;h--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(l||(l=(r.someProp("clipboardParser")||r.someProp("domParser")||C4.fromSchema(r.state.schema)).parseSlice(s,{preserveWhitespace:!!(c||d),context:o,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!Jut.test(f.parentNode.nodeName)?{ignore:!0}:null}})),d)l=rdt(PQ(l,+d[1],+d[2]),d[4]);else if(l=xt.maxOpen(Qut(l.content,o),!0),l.openStart||l.openEnd){let h=0,f=0;for(let m=l.content.firstChild;h<l.openStart&&!m.type.spec.isolating;h++,m=m.firstChild);for(let m=l.content.lastChild;f<l.openEnd&&!m.type.spec.isolating;f++,m=m.lastChild);l=PQ(l,h,f)}return r.someProp("transformPasted",h=>{l=h(l,r)}),l}const Jut=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Qut(r,e){if(r.childCount<2)return r;for(let n=e.depth;n>=0;n--){let o=e.node(n).contentMatchAt(e.index(n)),a,s=[];if(r.forEach(l=>{if(!s)return;let c=o.findWrapping(l.type),u;if(!c)return s=null;if(u=s.length&&a.length&&qge(c,a,l,s[s.length-1],0))s[s.length-1]=u;else{s.length&&(s[s.length-1]=Gge(s[s.length-1],a.length));let d=Vge(l,c);s.push(d),o=o.matchType(d.type),a=c}}),s)return nt.from(s)}return r}function Vge(r,e,n=0){for(let i=e.length-1;i>=n;i--)r=e[i].create(null,nt.from(r));return r}function qge(r,e,n,i,o){if(o<r.length&&o<e.length&&r[o]==e[o]){let a=qge(r,e,n,i.lastChild,o+1);if(a)return i.copy(i.content.replaceChild(i.childCount-1,a));if(i.contentMatchAt(i.childCount).matchType(o==r.length-1?n.type:r[o+1]))return i.copy(i.content.append(nt.from(Vge(n,r,o+1))))}}function Gge(r,e){if(e==0)return r;let n=r.content.replaceChild(r.childCount-1,Gge(r.lastChild,e-1)),i=r.contentMatchAt(r.childCount).fillBefore(nt.empty,!0);return r.copy(n.append(i))}function nR(r,e,n,i,o,a){let s=e<0?r.firstChild:r.lastChild,l=s.content;return r.childCount>1&&(a=0),o<i-1&&(l=nR(l,e,n,i,o+1,a)),o>=n&&(l=e<0?s.contentMatchAt(0).fillBefore(l,a<=o).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(nt.empty,!0))),r.replaceChild(e<0?0:r.childCount-1,s.copy(l))}function PQ(r,e,n){return e<r.openStart&&(r=new xt(nR(r.content,-1,e,r.openStart,0,r.openEnd),e,r.openEnd)),n<r.openEnd&&(r=new xt(nR(r.content,1,n,r.openEnd,0,0),r.openStart,n)),r}const Kge={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let IQ=null;function Xge(){return IQ||(IQ=document.implementation.createHTMLDocument("title"))}let mA=null;function edt(r){let e=window.trustedTypes;return e?(mA||(mA=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),mA.createHTML(r)):r}function tdt(r){let e=/^(\s*<meta [^>]*>)*/.exec(r);e&&(r=r.slice(e[0].length));let n=Xge().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(r),o;if((o=i&&Kge[i[1].toLowerCase()])&&(r=o.map(a=>"<"+a+">").join("")+r+o.map(a=>"</"+a+">").reverse().join("")),n.innerHTML=edt(r),o)for(let a=0;a<o.length;a++)n=n.querySelector(o[a])||n;return n}function ndt(r){let e=r.querySelectorAll(ph?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let i=e[n];i.childNodes.length==1&&i.textContent==""&&i.parentNode&&i.parentNode.replaceChild(r.ownerDocument.createTextNode(" "),i)}}function rdt(r,e){if(!r.size)return r;let n=r.content.firstChild.type.schema,i;try{i=JSON.parse(e)}catch{return r}let{content:o,openStart:a,openEnd:s}=r;for(let l=i.length-2;l>=0;l-=2){let c=n.nodes[i[l]];if(!c||c.hasRequiredAttrs())break;o=nt.from(c.create(i[l+1],o)),a++,s++}return new xt(o,a,s)}const Ls={},ba={};function vd(r,e){r.input.lastSelectionOrigin=e,r.input.lastSelectionTime=Date.now()}ba.keydown=(r,e)=>{let n=e;if(r.input.shiftKey=n.keyCode==16||n.shiftKey,!Zge(r,n)&&(r.input.lastKeyCode=n.keyCode,r.input.lastKeyCodeTime=Date.now(),!(jv&&ph&&n.keyCode==13)))if(n.keyCode!=229&&r.domObserver.forceFlush(),II&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let i=Date.now();r.input.lastIOSEnter=i,r.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{r.input.lastIOSEnter==i&&(r.someProp("handleKeyDown",o=>o(r,$ge(13,"Enter"))),r.input.lastIOSEnter=0)},200)}else r.someProp("handleKeyDown",i=>i(r,n))||Zut(r,n)?n.preventDefault():vd(r,"key")};ba.keyup=(r,e)=>{e.keyCode==16&&(r.input.shiftKey=!1)};ba.keypress=(r,e)=>{let n=e;if(Zge(r,n)||!n.charCode||n.ctrlKey&&!n.altKey||Fa&&n.metaKey)return;if(r.someProp("handleKeyPress",o=>o(r,n))){n.preventDefault();return}let i=r.state.selection;if(!(i instanceof rn)||!i.$from.sameParent(i.$to)){let o=String.fromCharCode(n.charCode);!/[\r\n]/.test(o)&&!r.someProp("handleTextInput",a=>a(r,i.$from.pos,i.$to.pos,o))&&r.dispatch(r.state.tr.insertText(o).scrollIntoView()),n.preventDefault()}};function Z6(r){return{left:r.clientX,top:r.clientY}}function idt(r,e){let n=e.x-r.clientX,i=e.y-r.clientY;return n*n+i*i<100}function LI(r,e,n,i,o){if(i==-1)return!1;let a=r.state.doc.resolve(i);for(let s=a.depth+1;s>0;s--)if(r.someProp(e,l=>s>a.depth?l(r,n,a.nodeAfter,a.before(s),o,!0):l(r,n,a.node(s),a.before(s),o,!1)))return!0;return!1}function p0(r,e,n){if(r.focused||r.focus(),r.state.selection.eq(e))return;let i=r.state.tr.setSelection(e);i.setMeta("pointer",!0),r.dispatch(i)}function odt(r,e){if(e==-1)return!1;let n=r.state.doc.resolve(e),i=n.nodeAfter;return i&&i.isAtom&&Qt.isSelectable(i)?(p0(r,new Qt(n)),!0):!1}function adt(r,e){if(e==-1)return!1;let n=r.state.selection,i,o;n instanceof Qt&&(i=n.node);let a=r.state.doc.resolve(e);for(let s=a.depth+1;s>0;s--){let l=s>a.depth?a.nodeAfter:a.node(s);if(Qt.isSelectable(l)){i&&n.$from.depth>0&&s>=n.$from.depth&&a.before(n.$from.depth+1)==n.$from.pos?o=a.before(n.$from.depth):o=a.before(s);break}}return o!=null?(p0(r,Qt.create(r.state.doc,o)),!0):!1}function sdt(r,e,n,i,o){return LI(r,"handleClickOn",e,n,i)||r.someProp("handleClick",a=>a(r,e,i))||(o?adt(r,n):odt(r,n))}function ldt(r,e,n,i){return LI(r,"handleDoubleClickOn",e,n,i)||r.someProp("handleDoubleClick",o=>o(r,e,i))}function cdt(r,e,n,i){return LI(r,"handleTripleClickOn",e,n,i)||r.someProp("handleTripleClick",o=>o(r,e,i))||udt(r,n,i)}function udt(r,e,n){if(n.button!=0)return!1;let i=r.state.doc;if(e==-1)return i.inlineContent?(p0(r,rn.create(i,0,i.content.size)),!0):!1;let o=i.resolve(e);for(let a=o.depth+1;a>0;a--){let s=a>o.depth?o.nodeAfter:o.node(a),l=o.before(a);if(s.inlineContent)p0(r,rn.create(i,l+1,l+1+s.content.size));else if(Qt.isSelectable(s))p0(r,Qt.create(i,l));else continue;return!0}}function UI(r){return w5(r)}const Yge=Fa?"metaKey":"ctrlKey";Ls.mousedown=(r,e)=>{let n=e;r.input.shiftKey=n.shiftKey;let i=UI(r),o=Date.now(),a="singleClick";o-r.input.lastClick.time<500&&idt(n,r.input.lastClick)&&!n[Yge]&&r.input.lastClick.button==n.button&&(r.input.lastClick.type=="singleClick"?a="doubleClick":r.input.lastClick.type=="doubleClick"&&(a="tripleClick")),r.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:a,button:n.button};let s=r.posAtCoords(Z6(n));s&&(a=="singleClick"?(r.input.mouseDown&&r.input.mouseDown.done(),r.input.mouseDown=new ddt(r,s,n,!!i)):(a=="doubleClick"?ldt:cdt)(r,s.pos,s.inside,n)?n.preventDefault():vd(r,"pointer"))};class ddt{constructor(e,n,i,o){this.view=e,this.pos=n,this.event=i,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!i[Yge],this.allowDefault=i.shiftKey;let a,s;if(n.inside>-1)a=e.state.doc.nodeAt(n.inside),s=n.inside;else{let d=e.state.doc.resolve(n.pos);a=d.parent,s=d.depth?d.before():0}const l=o?null:i.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c&&c.dom.nodeType==1?c.dom:null;let{selection:u}=e.state;(i.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||u instanceof Qt&&u.from<=s&&u.to>s)&&(this.mightDrag={node:a,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Y6&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),vd(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>zI(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Z6(e))),this.updateAllowDefault(e),this.allowDefault||!n?vd(this.view,"pointer"):sdt(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||_p&&this.mightDrag&&!this.mightDrag.node.isAtom||ph&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(p0(this.view,ln.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):vd(this.view,"pointer")}move(e){this.updateAllowDefault(e),vd(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Ls.touchstart=r=>{r.input.lastTouch=Date.now(),UI(r),vd(r,"pointer")};Ls.touchmove=r=>{r.input.lastTouch=Date.now(),vd(r,"pointer")};Ls.contextmenu=r=>UI(r);function Zge(r,e){return r.composing?!0:_p&&Math.abs(e.timeStamp-r.input.compositionEndedAt)<500?(r.input.compositionEndedAt=-2e8,!0):!1}const hdt=jv?5e3:-1;ba.compositionstart=ba.compositionupdate=r=>{if(!r.composing){r.domObserver.flush();let{state:e}=r,n=e.selection.$to;if(e.selection instanceof rn&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)))r.markCursor=r.state.storedMarks||n.marks(),w5(r,!0),r.markCursor=null;else if(w5(r,!e.selection.empty),Y6&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let i=r.domSelectionRange();for(let o=i.focusNode,a=i.focusOffset;o&&o.nodeType==1&&a!=0;){let s=a<0?o.lastChild:o.childNodes[a-1];if(!s)break;if(s.nodeType==3){let l=r.domSelection();l&&l.collapse(s,s.nodeValue.length);break}else o=s,a=-1}}r.input.composing=!0}Jge(r,hdt)};ba.compositionend=(r,e)=>{r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=e.timeStamp,r.input.compositionPendingChanges=r.domObserver.pendingRecords().length?r.input.compositionID:0,r.input.compositionNode=null,r.input.compositionPendingChanges&&Promise.resolve().then(()=>r.domObserver.flush()),r.input.compositionID++,Jge(r,20))};function Jge(r,e){clearTimeout(r.input.composingTimeout),e>-1&&(r.input.composingTimeout=setTimeout(()=>w5(r),e))}function fdt(r){for(r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=pdt());r.input.compositionNodes.length>0;)r.input.compositionNodes.pop().markParentsDirty()}function pdt(){let r=document.createEvent("Event");return r.initEvent("event",!0,!0),r.timeStamp}function w5(r,e=!1){if(!(jv&&r.domObserver.flushingSoon>=0)){if(r.domObserver.forceFlush(),fdt(r),e||r.docView&&r.docView.dirty){let n=But(r),i=r.state.selection;return n&&!n.eq(i)?r.dispatch(r.state.tr.setSelection(n)):(r.markCursor||e)&&!i.$from.node(i.$from.sharedDepth(i.to)).inlineContent?r.dispatch(r.state.tr.deleteSelection()):r.updateState(r.state),!0}return!1}}function mdt(r,e){if(!r.dom.parentNode)return;let n=r.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),o=document.createRange();o.selectNodeContents(e),r.dom.blur(),i.removeAllRanges(),i.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),r.focus()},50)}const jb=Bv&&Lge<15||II&&Uut<604;Ls.copy=ba.cut=(r,e)=>{let n=e,i=r.state.selection,o=n.type=="cut";if(i.empty)return;let a=jb?null:n.clipboardData,s=i.content(),{dom:l,text:c}=Hge(r,s);a?(n.preventDefault(),a.clearData(),a.setData("text/html",l.innerHTML),a.setData("text/plain",c)):mdt(r,l),o&&r.dispatch(r.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function gdt(r){return r.openStart==0&&r.openEnd==0&&r.content.childCount==1?r.content.firstChild:null}function ydt(r,e){if(!r.dom.parentNode)return;let n=r.input.shiftKey||r.state.selection.$from.parent.type.spec.code,i=r.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let o=r.input.shiftKey&&r.input.lastKeyCode!=45;setTimeout(()=>{r.focus(),i.parentNode&&i.parentNode.removeChild(i),n?rR(r,i.value,null,o,e):rR(r,i.textContent,i.innerHTML,o,e)},50)}function rR(r,e,n,i,o){let a=Wge(r,e,n,i,r.state.selection.$from);if(r.someProp("handlePaste",c=>c(r,o,a||xt.empty)))return!0;if(!a)return!1;let s=gdt(a),l=s?r.state.tr.replaceSelectionWith(s,i):r.state.tr.replaceSelection(a);return r.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Qge(r){let e=r.getData("text/plain")||r.getData("Text");if(e)return e;let n=r.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ba.paste=(r,e)=>{let n=e;if(r.composing&&!jv)return;let i=jb?null:n.clipboardData,o=r.input.shiftKey&&r.input.lastKeyCode!=45;i&&rR(r,Qge(i),i.getData("text/html"),o,n)?n.preventDefault():ydt(r,n)};class bdt{constructor(e,n,i){this.slice=e,this.move=n,this.node=i}}const vdt=Fa?"altKey":"ctrlKey";function e1e(r,e){let n=r.someProp("dragCopies",i=>!i(e));return n??!e[vdt]}Ls.dragstart=(r,e)=>{let n=e,i=r.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let o=r.state.selection,a=o.empty?null:r.posAtCoords(Z6(n)),s;if(!(a&&a.pos>=o.from&&a.pos<=(o instanceof Qt?o.to-1:o.to))){if(i&&i.mightDrag)s=Qt.create(r.state.doc,i.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let h=r.docView.nearestDesc(n.target,!0);h&&h.node.type.spec.draggable&&h!=r.docView&&(s=Qt.create(r.state.doc,h.posBefore))}}let l=(s||r.state.selection).content(),{dom:c,text:u,slice:d}=Hge(r,l);(!n.dataTransfer.files.length||!ph||Uge>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(jb?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",jb||n.dataTransfer.setData("text/plain",u),r.dragging=new bdt(d,e1e(r,n),s)};Ls.dragend=r=>{let e=r.dragging;window.setTimeout(()=>{r.dragging==e&&(r.dragging=null)},50)};ba.dragover=ba.dragenter=(r,e)=>e.preventDefault();ba.drop=(r,e)=>{let n=e,i=r.dragging;if(r.dragging=null,!n.dataTransfer)return;let o=r.posAtCoords(Z6(n));if(!o)return;let a=r.state.doc.resolve(o.pos),s=i&&i.slice;s?r.someProp("transformPasted",b=>{s=b(s,r)}):s=Wge(r,Qge(n.dataTransfer),jb?null:n.dataTransfer.getData("text/html"),!1,a);let l=!!(i&&e1e(r,n));if(r.someProp("handleDrop",b=>b(r,n,s||xt.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let c=s?_ut(r.state.doc,a.pos,s):a.pos;c==null&&(c=a.pos);let u=r.state.tr;if(l){let{node:b}=i;b?b.replace(u):u.deleteSelection()}let d=u.mapping.map(c),h=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=u.doc;if(h?u.replaceRangeWith(d,d,s.content.firstChild):u.replaceRange(d,d,s),u.doc.eq(f))return;let m=u.doc.resolve(d);if(h&&Qt.isSelectable(s.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new Qt(m));else{let b=u.mapping.map(c);u.mapping.maps[u.mapping.maps.length-1].forEach((g,v,x,w)=>b=w),u.setSelection(jge(r,m,u.doc.resolve(b)))}r.focus(),r.dispatch(u.setMeta("uiEvent","drop"))};Ls.focus=r=>{r.input.lastFocus=Date.now(),r.focused||(r.domObserver.stop(),r.dom.classList.add("ProseMirror-focused"),r.domObserver.start(),r.focused=!0,setTimeout(()=>{r.docView&&r.hasFocus()&&!r.domObserver.currentSelection.eq(r.domSelectionRange())&&zI(r)},20))};Ls.blur=(r,e)=>{let n=e;r.focused&&(r.domObserver.stop(),r.dom.classList.remove("ProseMirror-focused"),r.domObserver.start(),n.relatedTarget&&r.dom.contains(n.relatedTarget)&&r.domObserver.currentSelection.clear(),r.focused=!1)};Ls.beforeinput=(r,e)=>{if(ph&&jv&&e.inputType=="deleteContentBackward"){r.domObserver.flushSoon();let{domChangeCount:i}=r.input;setTimeout(()=>{if(r.input.domChangeCount!=i||(r.dom.blur(),r.focus(),r.someProp("handleKeyDown",a=>a(r,$ge(8,"Backspace")))))return;let{$cursor:o}=r.state.selection;o&&o.pos>0&&r.dispatch(r.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let r in ba)Ls[r]=ba[r];function Fb(r,e){if(r==e)return!0;for(let n in r)if(r[n]!==e[n])return!1;for(let n in e)if(!(n in r))return!1;return!0}class S5{constructor(e,n){this.toDOM=e,this.spec=n||If,this.side=this.spec.side||0}map(e,n,i,o){let{pos:a,deleted:s}=e.mapResult(n.from+o,this.side<0?-1:1);return s?null:new Ao(a-i,a-i,this)}valid(){return!0}eq(e){return this==e||e instanceof S5&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Fb(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Td{constructor(e,n){this.attrs=e,this.spec=n||If}map(e,n,i,o){let a=e.map(n.from+o,this.spec.inclusiveStart?-1:1)-i,s=e.map(n.to+o,this.spec.inclusiveEnd?1:-1)-i;return a>=s?null:new Ao(a,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Td&&Fb(this.attrs,e.attrs)&&Fb(this.spec,e.spec)}static is(e){return e.type instanceof Td}destroy(){}}class BI{constructor(e,n){this.attrs=e,this.spec=n||If}map(e,n,i,o){let a=e.mapResult(n.from+o,1);if(a.deleted)return null;let s=e.mapResult(n.to+o,-1);return s.deleted||s.pos<=a.pos?null:new Ao(a.pos-i,s.pos-i,this)}valid(e,n){let{index:i,offset:o}=e.content.findIndex(n.from),a;return o==n.from&&!(a=e.child(i)).isText&&o+a.nodeSize==n.to}eq(e){return this==e||e instanceof BI&&Fb(this.attrs,e.attrs)&&Fb(this.spec,e.spec)}destroy(){}}class Ao{constructor(e,n,i){this.from=e,this.to=n,this.type=i}copy(e,n){return new Ao(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,i){return this.type.map(e,this,n,i)}static widget(e,n,i){return new Ao(e,e,new S5(n,i))}static inline(e,n,i,o){return new Ao(e,n,new Td(i,o))}static node(e,n,i,o){return new Ao(e,n,new BI(i,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof Td}get widget(){return this.type instanceof S5}}const Vm=[],If={};class Nr{constructor(e,n){this.local=e.length?e:Vm,this.children=n.length?n:Vm}static create(e,n){return n.length?k5(n,e,0,If):eo}find(e,n,i){let o=[];return this.findInner(e??0,n??1e9,o,0,i),o}findInner(e,n,i,o,a){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=e&&(!a||a(l.spec))&&i.push(l.copy(l.from+o,l.to+o))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let l=this.children[s]+1;this.children[s+2].findInner(e-l,n-l,i,o+l,a)}}map(e,n,i){return this==eo||e.maps.length==0?this:this.mapInner(e,n,0,0,i||If)}mapInner(e,n,i,o,a){let s;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,i,o);c&&c.type.valid(n,c)?(s||(s=[])).push(c):a.onRemove&&a.onRemove(this.local[l].spec)}return this.children.length?xdt(this.children,s||[],e,n,i,o,a):s?new Nr(s.sort($f),Vm):eo}add(e,n){return n.length?this==eo?Nr.create(e,n):this.addInner(e,n,0):this}addInner(e,n,i){let o,a=0;e.forEach((l,c)=>{let u=c+i,d;if(d=n1e(n,l,u)){for(o||(o=this.children.slice());a<o.length&&o[a]<c;)a+=3;o[a]==c?o[a+2]=o[a+2].addInner(l,d,u+1):o.splice(a,0,c,c+l.nodeSize,k5(d,l,u+1,If)),a+=3}});let s=t1e(a?r1e(n):n,-i);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||s.splice(l--,1);return new Nr(s.length?this.local.concat(s).sort($f):this.local,o||this.children)}remove(e){return e.length==0||this==eo?this:this.removeInner(e,0)}removeInner(e,n){let i=this.children,o=this.local;for(let a=0;a<i.length;a+=3){let s,l=i[a]+n,c=i[a+1]+n;for(let d=0,h;d<e.length;d++)(h=e[d])&&h.from>l&&h.to<c&&(e[d]=null,(s||(s=[])).push(h));if(!s)continue;i==this.children&&(i=this.children.slice());let u=i[a+2].removeInner(s,l+1);u!=eo?i[a+2]=u:(i.splice(a,3),a-=3)}if(o.length){for(let a=0,s;a<e.length;a++)if(s=e[a])for(let l=0;l<o.length;l++)o[l].eq(s,n)&&(o==this.local&&(o=this.local.slice()),o.splice(l--,1))}return i==this.children&&o==this.local?this:o.length||i.length?new Nr(o,i):eo}forChild(e,n){if(this==eo)return this;if(n.isLeaf)return Nr.empty;let i,o;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(i=this.children[l+2]);break}let a=e+1,s=a+n.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<s&&c.to>a&&c.type instanceof Td){let u=Math.max(a,c.from)-a,d=Math.min(s,c.to)-a;u<d&&(o||(o=[])).push(c.copy(u,d))}}if(o){let l=new Nr(o.sort($f),Vm);return i?new tf([l,i]):l}return i||eo}eq(e){if(this==e)return!0;if(!(e instanceof Nr)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return jI(this.localsInner(e))}localsInner(e){if(this==eo)return Vm;if(e.inlineContent||!this.local.some(Td.is))return this.local;let n=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof Td||n.push(this.local[i]);return n}forEachSet(e){e(this)}}Nr.empty=new Nr([],[]);Nr.removeOverlap=jI;const eo=Nr.empty;class tf{constructor(e){this.members=e}map(e,n){const i=this.members.map(o=>o.map(e,n,If));return tf.from(i)}forChild(e,n){if(n.isLeaf)return Nr.empty;let i=[];for(let o=0;o<this.members.length;o++){let a=this.members[o].forChild(e,n);a!=eo&&(a instanceof tf?i=i.concat(a.members):i.push(a))}return tf.from(i)}eq(e){if(!(e instanceof tf)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,i=!0;for(let o=0;o<this.members.length;o++){let a=this.members[o].localsInner(e);if(a.length)if(!n)n=a;else{i&&(n=n.slice(),i=!1);for(let s=0;s<a.length;s++)n.push(a[s])}}return n?jI(i?n:n.sort($f)):Vm}static from(e){switch(e.length){case 0:return eo;case 1:return e[0];default:return new tf(e.every(n=>n instanceof Nr)?e:e.reduce((n,i)=>n.concat(i instanceof Nr?i:i.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function xdt(r,e,n,i,o,a,s){let l=r.slice();for(let u=0,d=a;u<n.maps.length;u++){let h=0;n.maps[u].forEach((f,m,b,g)=>{let v=g-b-(m-f);for(let x=0;x<l.length;x+=3){let w=l[x+1];if(w<0||f>w+d-h)continue;let k=l[x]+d-h;m>=k?l[x+1]=f<=k?-2:-1:f>=d&&v&&(l[x]+=v,l[x+1]+=v)}h+=v}),d=n.maps[u].map(d,-1)}let c=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){c=!0,l[u+1]=-1;continue}let d=n.map(r[u]+a),h=d-o;if(h<0||h>=i.content.size){c=!0;continue}let f=n.map(r[u+1]+a,-1),m=f-o,{index:b,offset:g}=i.content.findIndex(h),v=i.maybeChild(b);if(v&&g==h&&g+v.nodeSize==m){let x=l[u+2].mapInner(n,v,d+1,r[u]+a+1,s);x!=eo?(l[u]=h,l[u+1]=m,l[u+2]=x):(l[u+1]=-2,c=!0)}else c=!0}if(c){let u=wdt(l,r,e,n,o,a,s),d=k5(u,i,0,s);e=d.local;for(let h=0;h<l.length;h+=3)l[h+1]<0&&(l.splice(h,3),h-=3);for(let h=0,f=0;h<d.children.length;h+=3){let m=d.children[h];for(;f<l.length&&l[f]<m;)f+=3;l.splice(f,0,d.children[h],d.children[h+1],d.children[h+2])}}return new Nr(e.sort($f),l)}function t1e(r,e){if(!e||!r.length)return r;let n=[];for(let i=0;i<r.length;i++){let o=r[i];n.push(new Ao(o.from+e,o.to+e,o.type))}return n}function wdt(r,e,n,i,o,a,s){function l(c,u){for(let d=0;d<c.local.length;d++){let h=c.local[d].map(i,o,u);h?n.push(h):s.onRemove&&s.onRemove(c.local[d].spec)}for(let d=0;d<c.children.length;d+=3)l(c.children[d+2],c.children[d]+u+1)}for(let c=0;c<r.length;c+=3)r[c+1]==-1&&l(r[c+2],e[c]+a+1);return n}function n1e(r,e,n){if(e.isLeaf)return null;let i=n+e.nodeSize,o=null;for(let a=0,s;a<r.length;a++)(s=r[a])&&s.from>n&&s.to<i&&((o||(o=[])).push(s),r[a]=null);return o}function r1e(r){let e=[];for(let n=0;n<r.length;n++)r[n]!=null&&e.push(r[n]);return e}function k5(r,e,n,i){let o=[],a=!1;e.forEach((l,c)=>{let u=n1e(r,l,c+n);if(u){a=!0;let d=k5(u,l,n+c+1,i);d!=eo&&o.push(c,c+l.nodeSize,d)}});let s=t1e(a?r1e(r):r,-n).sort($f);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||(i.onRemove&&i.onRemove(s[l].spec),s.splice(l--,1));return s.length||o.length?new Nr(s,o):eo}function $f(r,e){return r.from-e.from||r.to-e.to}function jI(r){let e=r;for(let n=0;n<e.length-1;n++){let i=e[n];if(i.from!=i.to)for(let o=n+1;o<e.length;o++){let a=e[o];if(a.from==i.from){a.to!=i.to&&(e==r&&(e=r.slice()),e[o]=a.copy(a.from,i.to),$Q(e,o+1,a.copy(i.to,a.to)));continue}else{a.from<i.to&&(e==r&&(e=r.slice()),e[n]=i.copy(i.from,a.from),$Q(e,o,i.copy(a.from,i.to)));break}}}return e}function $Q(r,e,n){for(;e<r.length&&$f(n,r[e])>0;)e++;r.splice(e,0,n)}var Hd={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},T5={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Sdt=typeof navigator<"u"&&/Mac/.test(navigator.platform),kdt=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ti=0;Ti<10;Ti++)Hd[48+Ti]=Hd[96+Ti]=String(Ti);for(var Ti=1;Ti<=24;Ti++)Hd[Ti+111]="F"+Ti;for(var Ti=65;Ti<=90;Ti++)Hd[Ti]=String.fromCharCode(Ti+32),T5[Ti]=String.fromCharCode(Ti);for(var gA in Hd)T5.hasOwnProperty(gA)||(T5[gA]=Hd[gA]);function Tdt(r){var e=Sdt&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||kdt&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",n=!e&&r.key||(r.shiftKey?T5:Hd)[r.keyCode]||r.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Edt=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Cdt=typeof navigator<"u"&&/Win/.test(navigator.platform);function _dt(r){let e=r.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let i,o,a,s;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))s=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))a=!0;else if(/^mod$/i.test(c))Edt?s=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(n="Alt-"+n),o&&(n="Ctrl-"+n),s&&(n="Meta-"+n),a&&(n="Shift-"+n),n}function Adt(r){let e=Object.create(null);for(let n in r)e[_dt(n)]=r[n];return e}function yA(r,e,n=!0){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),n&&e.shiftKey&&(r="Shift-"+r),r}function Ddt(r){let e=Adt(r);return function(n,i){let o=Tdt(i),a,s=e[yA(o,i)];if(s&&s(n.state,n.dispatch,n))return!0;if(o.length==1&&o!=" "){if(i.shiftKey){let l=e[yA(o,i,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((i.altKey||i.metaKey||i.ctrlKey)&&!(Cdt&&i.ctrlKey&&i.altKey)&&(a=Hd[i.keyCode])&&a!=o){let l=e[yA(a,i)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const FI=(r,e)=>r.selection.empty?!1:(e&&e(r.tr.deleteSelection().scrollIntoView()),!0);function i1e(r,e){let{$cursor:n}=r.selection;return!n||(e?!e.endOfTextblock("backward",r):n.parentOffset>0)?null:n}const o1e=(r,e,n)=>{let i=i1e(r,n);if(!i)return!1;let o=HI(i);if(!o){let s=i.blockRange(),l=s&&Sg(s);return l==null?!1:(e&&e(r.tr.lift(s,l).scrollIntoView()),!0)}let a=o.nodeBefore;if(p1e(r,o,e,-1))return!0;if(i.parent.content.size==0&&(G0(a,"end")||Qt.isSelectable(a)))for(let s=i.depth;;s--){let l=K6(r.doc,i.before(s),i.after(s),xt.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=r.tr.step(l);c.setSelection(G0(a,"end")?ln.findFrom(c.doc.resolve(c.mapping.map(o.pos,-1)),-1):Qt.create(c.doc,o.pos-a.nodeSize)),e(c.scrollIntoView())}return!0}if(s==1||i.node(s-1).childCount>1)break}return a.isAtom&&o.depth==i.depth-1?(e&&e(r.tr.delete(o.pos-a.nodeSize,o.pos).scrollIntoView()),!0):!1},Mdt=(r,e,n)=>{let i=i1e(r,n);if(!i)return!1;let o=HI(i);return o?a1e(r,o,e):!1},Rdt=(r,e,n)=>{let i=l1e(r,n);if(!i)return!1;let o=WI(i);return o?a1e(r,o,e):!1};function a1e(r,e,n){let i=e.nodeBefore,o=i,a=e.pos-1;for(;!o.isTextblock;a--){if(o.type.spec.isolating)return!1;let d=o.lastChild;if(!d)return!1;o=d}let s=e.nodeAfter,l=s,c=e.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let d=l.firstChild;if(!d)return!1;l=d}let u=K6(r.doc,a,c,xt.empty);if(!u||u.from!=a||u instanceof ci&&u.slice.size>=c-a)return!1;if(n){let d=r.tr.step(u);d.setSelection(rn.create(d.doc,a)),n(d.scrollIntoView())}return!0}function G0(r,e,n=!1){for(let i=r;i;i=e=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(n&&i.childCount!=1)return!1}return!1}const s1e=(r,e,n)=>{let{$head:i,empty:o}=r.selection,a=i;if(!o)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",r):i.parentOffset>0)return!1;a=HI(i)}let s=a&&a.nodeBefore;return!s||!Qt.isSelectable(s)?!1:(e&&e(r.tr.setSelection(Qt.create(r.doc,a.pos-s.nodeSize)).scrollIntoView()),!0)};function HI(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){if(r.index(e)>0)return r.doc.resolve(r.before(e+1));if(r.node(e).type.spec.isolating)break}return null}function l1e(r,e){let{$cursor:n}=r.selection;return!n||(e?!e.endOfTextblock("forward",r):n.parentOffset<n.parent.content.size)?null:n}const c1e=(r,e,n)=>{let i=l1e(r,n);if(!i)return!1;let o=WI(i);if(!o)return!1;let a=o.nodeAfter;if(p1e(r,o,e,1))return!0;if(i.parent.content.size==0&&(G0(a,"start")||Qt.isSelectable(a))){let s=K6(r.doc,i.before(),i.after(),xt.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=r.tr.step(s);l.setSelection(G0(a,"start")?ln.findFrom(l.doc.resolve(l.mapping.map(o.pos)),1):Qt.create(l.doc,l.mapping.map(o.pos))),e(l.scrollIntoView())}return!0}}return a.isAtom&&o.depth==i.depth-1?(e&&e(r.tr.delete(o.pos,o.pos+a.nodeSize).scrollIntoView()),!0):!1},u1e=(r,e,n)=>{let{$head:i,empty:o}=r.selection,a=i;if(!o)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",r):i.parentOffset<i.parent.content.size)return!1;a=WI(i)}let s=a&&a.nodeAfter;return!s||!Qt.isSelectable(s)?!1:(e&&e(r.tr.setSelection(Qt.create(r.doc,a.pos)).scrollIntoView()),!0)};function WI(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){let n=r.node(e);if(r.index(e)+1<n.childCount)return r.doc.resolve(r.after(e+1));if(n.type.spec.isolating)break}return null}const Ndt=(r,e)=>{let n=r.selection,i=n instanceof Qt,o;if(i){if(n.node.isTextblock||!Ep(r.doc,n.from))return!1;o=n.from}else if(o=G6(r.doc,n.from,-1),o==null)return!1;if(e){let a=r.tr.join(o);i&&a.setSelection(Qt.create(a.doc,o-r.doc.resolve(o).nodeBefore.nodeSize)),e(a.scrollIntoView())}return!0},Odt=(r,e)=>{let n=r.selection,i;if(n instanceof Qt){if(n.node.isTextblock||!Ep(r.doc,n.to))return!1;i=n.to}else if(i=G6(r.doc,n.to,1),i==null)return!1;return e&&e(r.tr.join(i).scrollIntoView()),!0},Pdt=(r,e)=>{let{$from:n,$to:i}=r.selection,o=n.blockRange(i),a=o&&Sg(o);return a==null?!1:(e&&e(r.tr.lift(o,a).scrollIntoView()),!0)},d1e=(r,e)=>{let{$head:n,$anchor:i}=r.selection;return!n.parent.type.spec.code||!n.sameParent(i)?!1:(e&&e(r.tr.insertText(`
`).scrollIntoView()),!0)};function VI(r){for(let e=0;e<r.edgeCount;e++){let{type:n}=r.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Idt=(r,e)=>{let{$head:n,$anchor:i}=r.selection;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;let o=n.node(-1),a=n.indexAfter(-1),s=VI(o.contentMatchAt(a));if(!s||!o.canReplaceWith(a,a,s))return!1;if(e){let l=n.after(),c=r.tr.replaceWith(l,l,s.createAndFill());c.setSelection(ln.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},h1e=(r,e)=>{let n=r.selection,{$from:i,$to:o}=n;if(n instanceof fa||i.parent.inlineContent||o.parent.inlineContent)return!1;let a=VI(o.parent.contentMatchAt(o.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let s=(!i.parentOffset&&o.index()<o.parent.childCount?i:o).pos,l=r.tr.insert(s,a.createAndFill());l.setSelection(rn.create(l.doc,s+1)),e(l.scrollIntoView())}return!0},f1e=(r,e)=>{let{$cursor:n}=r.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let a=n.before();if(jc(r.doc,a))return e&&e(r.tr.split(a).scrollIntoView()),!0}let i=n.blockRange(),o=i&&Sg(i);return o==null?!1:(e&&e(r.tr.lift(i,o).scrollIntoView()),!0)};function $dt(r){return(e,n)=>{let{$from:i,$to:o}=e.selection;if(e.selection instanceof Qt&&e.selection.node.isBlock)return!i.parentOffset||!jc(e.doc,i.pos)?!1:(n&&n(e.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;let a=[],s,l,c=!1,u=!1;for(let m=i.depth;;m--)if(i.node(m).isBlock){c=i.end(m)==i.pos+(i.depth-m),u=i.start(m)==i.pos-(i.depth-m),l=VI(i.node(m-1).contentMatchAt(i.indexAfter(m-1))),a.unshift(c&&l?{type:l}:null),s=m;break}else{if(m==1)return!1;a.unshift(null)}let d=e.tr;(e.selection instanceof rn||e.selection instanceof fa)&&d.deleteSelection();let h=d.mapping.map(i.pos),f=jc(d.doc,h,a.length,a);if(f||(a[0]=l?{type:l}:null,f=jc(d.doc,h,a.length,a)),!f)return!1;if(d.split(h,a.length,a),!c&&u&&i.node(s).type!=l){let m=d.mapping.map(i.before(s)),b=d.doc.resolve(m);l&&i.node(s-1).canReplaceWith(b.index(),b.index()+1,l)&&d.setNodeMarkup(d.mapping.map(i.before(s)),l)}return n&&n(d.scrollIntoView()),!0}}const zdt=$dt(),Ldt=(r,e)=>{let{$from:n,to:i}=r.selection,o,a=n.sharedDepth(i);return a==0?!1:(o=n.before(a),e&&e(r.tr.setSelection(Qt.create(r.doc,o))),!0)};function Udt(r,e,n){let i=e.nodeBefore,o=e.nodeAfter,a=e.index();return!i||!o||!i.type.compatibleContent(o.type)?!1:!i.content.size&&e.parent.canReplace(a-1,a)?(n&&n(r.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(o.isTextblock||Ep(r.doc,e.pos))?!1:(n&&n(r.tr.join(e.pos).scrollIntoView()),!0)}function p1e(r,e,n,i){let o=e.nodeBefore,a=e.nodeAfter,s,l,c=o.type.spec.isolating||a.type.spec.isolating;if(!c&&Udt(r,e,n))return!0;let u=!c&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(s=(l=o.contentMatchAt(o.childCount)).findWrapping(a.type))&&l.matchType(s[0]||a.type).validEnd){if(n){let m=e.pos+a.nodeSize,b=nt.empty;for(let x=s.length-1;x>=0;x--)b=nt.from(s[x].create(null,b));b=nt.from(o.copy(b));let g=r.tr.step(new di(e.pos-1,m,e.pos,m,new xt(b,1,0),s.length,!0)),v=g.doc.resolve(m+2*s.length);v.nodeAfter&&v.nodeAfter.type==o.type&&Ep(g.doc,v.pos)&&g.join(v.pos),n(g.scrollIntoView())}return!0}let d=a.type.spec.isolating||i>0&&c?null:ln.findFrom(e,1),h=d&&d.$from.blockRange(d.$to),f=h&&Sg(h);if(f!=null&&f>=e.depth)return n&&n(r.tr.lift(h,f).scrollIntoView()),!0;if(u&&G0(a,"start",!0)&&G0(o,"end")){let m=o,b=[];for(;b.push(m),!m.isTextblock;)m=m.lastChild;let g=a,v=1;for(;!g.isTextblock;g=g.firstChild)v++;if(m.canReplace(m.childCount,m.childCount,g.content)){if(n){let x=nt.empty;for(let k=b.length-1;k>=0;k--)x=nt.from(b[k].copy(x));let w=r.tr.step(new di(e.pos-b.length,e.pos+a.nodeSize,e.pos+v,e.pos+a.nodeSize-v,new xt(x,b.length,0),0,!0));n(w.scrollIntoView())}return!0}}return!1}function m1e(r){return function(e,n){let i=e.selection,o=r<0?i.$from:i.$to,a=o.depth;for(;o.node(a).isInline;){if(!a)return!1;a--}return o.node(a).isTextblock?(n&&n(e.tr.setSelection(rn.create(e.doc,r<0?o.start(a):o.end(a)))),!0):!1}}const Bdt=m1e(-1),jdt=m1e(1);function Fdt(r,e=null){return function(n,i){let{$from:o,$to:a}=n.selection,s=o.blockRange(a),l=s&&kge(s,r,e);return l?(i&&i(n.tr.wrap(s,l).scrollIntoView()),!0):!1}}function zQ(r,e=null){return function(n,i){let o=!1;for(let a=0;a<n.selection.ranges.length&&!o;a++){let{$from:{pos:s},$to:{pos:l}}=n.selection.ranges[a];n.doc.nodesBetween(s,l,(c,u)=>{if(o)return!1;if(!(!c.isTextblock||c.hasMarkup(r,e)))if(c.type==r)o=!0;else{let d=n.doc.resolve(u),h=d.index();o=d.parent.canReplaceWith(h,h+1,r)}})}if(!o)return!1;if(i){let a=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[s];a.setBlockType(l,c,r,e)}i(a.scrollIntoView())}return!0}}function qI(...r){return function(e,n,i){for(let o=0;o<r.length;o++)if(r[o](e,n,i))return!0;return!1}}qI(FI,o1e,s1e);qI(FI,c1e,u1e);qI(d1e,h1e,f1e,zdt);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Hdt(r,e=null){return function(n,i){let{$from:o,$to:a}=n.selection,s=o.blockRange(a);if(!s)return!1;let l=i?n.tr:null;return Wdt(l,s,r,e)?(i&&i(l.scrollIntoView()),!0):!1}}function Wdt(r,e,n,i=null){let o=!1,a=e,s=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=s.resolve(e.start-2);a=new g5(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new g5(e.$from,s.resolve(e.$to.end(e.depth)),e.depth)),o=!0}let l=kge(a,n,i,e);return l?(r&&Vdt(r,e,l,o,n),!0):!1}function Vdt(r,e,n,i,o){let a=nt.empty;for(let d=n.length-1;d>=0;d--)a=nt.from(n[d].type.create(n[d].attrs,a));r.step(new di(e.start-(i?2:0),e.end,e.start,e.end,new xt(a,0,0),n.length,!0));let s=0;for(let d=0;d<n.length;d++)n[d].type==o&&(s=d+1);let l=n.length-s,c=e.start+n.length-(i?2:0),u=e.parent;for(let d=e.startIndex,h=e.endIndex,f=!0;d<h;d++,f=!1)!f&&jc(r.doc,c,l)&&(r.split(c,l),c+=2*l),c+=u.child(d).nodeSize;return r}function qdt(r){return function(e,n){let{$from:i,$to:o}=e.selection,a=i.blockRange(o,s=>s.childCount>0&&s.firstChild.type==r);return a?n?i.node(a.depth-1).type==r?Gdt(e,n,r,a):Kdt(e,n,a):!0:!1}}function Gdt(r,e,n,i){let o=r.tr,a=i.end,s=i.$to.end(i.depth);a<s&&(o.step(new di(a-1,s,a,s,new xt(nt.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new g5(o.doc.resolve(i.$from.pos),o.doc.resolve(s),i.depth));const l=Sg(i);if(l==null)return!1;o.lift(i,l);let c=o.doc.resolve(o.mapping.map(a,-1)-1);return Ep(o.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&o.join(c.pos),e(o.scrollIntoView()),!0}function Kdt(r,e,n){let i=r.tr,o=n.parent;for(let m=n.end,b=n.endIndex-1,g=n.startIndex;b>g;b--)m-=o.child(b).nodeSize,i.delete(m-1,m+1);let a=i.doc.resolve(n.start),s=a.nodeAfter;if(i.mapping.map(n.end)!=n.start+a.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,c=n.endIndex==o.childCount,u=a.node(-1),d=a.index(-1);if(!u.canReplace(d+(l?0:1),d+1,s.content.append(c?nt.empty:nt.from(o))))return!1;let h=a.pos,f=h+s.nodeSize;return i.step(new di(h-(l?1:0),f+(c?1:0),h+1,f-1,new xt((l?nt.empty:nt.from(o.copy(nt.empty))).append(c?nt.empty:nt.from(o.copy(nt.empty))),l?0:1,c?0:1),l?0:1)),e(i.scrollIntoView()),!0}function Xdt(r){return function(e,n){let{$from:i,$to:o}=e.selection,a=i.blockRange(o,u=>u.childCount>0&&u.firstChild.type==r);if(!a)return!1;let s=a.startIndex;if(s==0)return!1;let l=a.parent,c=l.child(s-1);if(c.type!=r)return!1;if(n){let u=c.lastChild&&c.lastChild.type==l.type,d=nt.from(u?r.create():null),h=new xt(nt.from(r.create(null,nt.from(l.type.create(null,d)))),u?3:1,0),f=a.start,m=a.end;n(e.tr.step(new di(f-(u?3:1),m,f,m,h,1,!0)).scrollIntoView())}return!0}}function g1e(r){const{state:e,transaction:n}=r;let{selection:i}=n,{doc:o}=n,{storedMarks:a}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return a},get selection(){return i},get doc(){return o},get tr(){return i=n.selection,o=n.doc,a=n.storedMarks,n}}}class Ydt{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:i}=this,{view:o}=n,{tr:a}=i,s=this.buildProps(a);return Object.fromEntries(Object.entries(e).map(([l,c])=>[l,(...d)=>{const h=c(...d)(s);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(a),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:i,editor:o,state:a}=this,{view:s}=o,l=[],c=!!e,u=e||a.tr,d=()=>(!c&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),l.every(f=>f===!0)),h={...Object.fromEntries(Object.entries(i).map(([f,m])=>[f,(...g)=>{const v=this.buildProps(u,n),x=m(...g)(v);return l.push(x),h}])),run:d};return h}createCan(e){const{rawCommands:n,state:i}=this,o=!1,a=e||i.tr,s=this.buildProps(a,o);return{...Object.fromEntries(Object.entries(n).map(([c,u])=>[c,(...d)=>u(...d)({...s,dispatch:void 0})])),chain:()=>this.createChain(a,o)}}buildProps(e,n=!0){const{rawCommands:i,editor:o,state:a}=this,{view:s}=o,l={tr:e,editor:o,view:s,state:g1e({state:a,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(i).map(([c,u])=>[c,(...d)=>u(...d)(l)]))}};return l}}function qa(r,e,n){return r.config[e]===void 0&&r.parent?qa(r.parent,e,n):typeof r.config[e]=="function"?r.config[e].bind({...n,parent:r.parent?qa(r.parent,e,n):null}):r.config[e]}function Zdt(r){const e=r.filter(o=>o.type==="extension"),n=r.filter(o=>o.type==="node"),i=r.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:i}}function Wi(r,e){if(typeof r=="string"){if(!e.nodes[r])throw Error(`There is no node type named '${r}'. Maybe you forgot to add the extension?`);return e.nodes[r]}return r}function Fv(...r){return r.filter(e=>!!e).reduce((e,n)=>{const i={...e};return Object.entries(n).forEach(([o,a])=>{if(!i[o]){i[o]=a;return}if(o==="class"){const l=a?String(a).split(" "):[],c=i[o]?i[o].split(" "):[],u=l.filter(d=>!c.includes(d));i[o]=[...c,...u].join(" ")}else if(o==="style"){const l=a?a.split(";").map(d=>d.trim()).filter(Boolean):[],c=i[o]?i[o].split(";").map(d=>d.trim()).filter(Boolean):[],u=new Map;c.forEach(d=>{const[h,f]=d.split(":").map(m=>m.trim());u.set(h,f)}),l.forEach(d=>{const[h,f]=d.split(":").map(m=>m.trim());u.set(h,f)}),i[o]=Array.from(u.entries()).map(([d,h])=>`${d}: ${h}`).join("; ")}else i[o]=a}),i},{})}function Jdt(r){return typeof r=="function"}function ml(r,e=void 0,...n){return Jdt(r)?e?r.bind(e)(...n):r(...n):r}function Qdt(r){return Object.prototype.toString.call(r)==="[object RegExp]"}function eht(r){return Object.prototype.toString.call(r).slice(8,-1)}function U2(r){return eht(r)!=="Object"?!1:r.constructor===Object&&Object.getPrototypeOf(r)===Object.prototype}function GI(r,e){const n={...r};return U2(r)&&U2(e)&&Object.keys(e).forEach(i=>{U2(e[i])&&U2(r[i])?n[i]=GI(r[i],e[i]):n[i]=e[i]}),n}class is{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ml(qa(this,"addOptions",{name:this.name}))),this.storage=ml(qa(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new is(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>GI(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new is({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ml(qa(n,"addOptions",{name:n.name})),n.storage=ml(qa(n,"addStorage",{name:n.name,options:n.options})),n}}function tht(r,e,n){const{from:i,to:o}=e,{blockSeparator:a=`

`,textSerializers:s={}}=n||{};let l="";return r.nodesBetween(i,o,(c,u,d,h)=>{var f;c.isBlock&&u>i&&(l+=a);const m=s==null?void 0:s[c.type.name];if(m)return d&&(l+=m({node:c,pos:u,parent:d,index:h,range:e})),!1;c.isText&&(l+=(f=c==null?void 0:c.text)===null||f===void 0?void 0:f.slice(Math.max(i,u)-u,o-u))}),l}function nht(r){return Object.fromEntries(Object.entries(r.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}is.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new zs({key:new cs("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:r}=this,{state:e,schema:n}=r,{doc:i,selection:o}=e,{ranges:a}=o,s=Math.min(...a.map(d=>d.$from.pos)),l=Math.max(...a.map(d=>d.$to.pos)),c=nht(n);return tht(i,{from:s,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}});const rht=()=>({editor:r,view:e})=>(requestAnimationFrame(()=>{var n;r.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),iht=(r=!1)=>({commands:e})=>e.setContent("",r),oht=()=>({state:r,tr:e,dispatch:n})=>{const{selection:i}=e,{ranges:o}=i;return n&&o.forEach(({$from:a,$to:s})=>{r.doc.nodesBetween(a.pos,s.pos,(l,c)=>{if(l.type.isText)return;const{doc:u,mapping:d}=e,h=u.resolve(d.map(c)),f=u.resolve(d.map(c+l.nodeSize)),m=h.blockRange(f);if(!m)return;const b=Sg(m);if(l.type.isTextblock){const{defaultType:g}=h.parent.contentMatchAt(h.index());e.setNodeMarkup(m.start,g)}(b||b===0)&&e.lift(m,b)})}),!0},aht=r=>e=>r(e),sht=()=>({state:r,dispatch:e})=>h1e(r,e),lht=(r,e)=>({editor:n,tr:i})=>{const{state:o}=n,a=o.doc.slice(r.from,r.to);i.deleteRange(r.from,r.to);const s=i.mapping.map(e);return i.insert(s,a.content),i.setSelection(new rn(i.doc.resolve(s-1))),!0},cht=()=>({tr:r,dispatch:e})=>{const{selection:n}=r,i=n.$anchor.node();if(i.content.size>0)return!1;const o=r.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===i.type){if(e){const l=o.before(a),c=o.after(a);r.delete(l,c).scrollIntoView()}return!0}return!1},uht=r=>({tr:e,state:n,dispatch:i})=>{const o=Wi(r,n.schema),a=e.selection.$anchor;for(let s=a.depth;s>0;s-=1)if(a.node(s).type===o){if(i){const c=a.before(s),u=a.after(s);e.delete(c,u).scrollIntoView()}return!0}return!1},dht=r=>({tr:e,dispatch:n})=>{const{from:i,to:o}=r;return n&&e.delete(i,o),!0},hht=()=>({state:r,dispatch:e})=>FI(r,e),fht=()=>({commands:r})=>r.keyboardShortcut("Enter"),pht=()=>({state:r,dispatch:e})=>Idt(r,e);function E5(r,e,n={strict:!0}){const i=Object.keys(e);return i.length?i.every(o=>n.strict?e[o]===r[o]:Qdt(e[o])?e[o].test(r[o]):e[o]===r[o]):!0}function y1e(r,e,n={}){return r.find(i=>i.type===e&&E5(Object.fromEntries(Object.keys(n).map(o=>[o,i.attrs[o]])),n))}function LQ(r,e,n={}){return!!y1e(r,e,n)}function b1e(r,e,n){var i;if(!r||!e)return;let o=r.parent.childAfter(r.parentOffset);if((!o.node||!o.node.marks.some(d=>d.type===e))&&(o=r.parent.childBefore(r.parentOffset)),!o.node||!o.node.marks.some(d=>d.type===e)||(n=n||((i=o.node.marks[0])===null||i===void 0?void 0:i.attrs),!y1e([...o.node.marks],e,n)))return;let s=o.index,l=r.start()+o.offset,c=s+1,u=l+o.node.nodeSize;for(;s>0&&LQ([...r.parent.child(s-1).marks],e,n);)s-=1,l-=r.parent.child(s).nodeSize;for(;c<r.parent.childCount&&LQ([...r.parent.child(c).marks],e,n);)u+=r.parent.child(c).nodeSize,c+=1;return{from:l,to:u}}function mh(r,e){if(typeof r=="string"){if(!e.marks[r])throw Error(`There is no mark type named '${r}'. Maybe you forgot to add the extension?`);return e.marks[r]}return r}const mht=(r,e={})=>({tr:n,state:i,dispatch:o})=>{const a=mh(r,i.schema),{doc:s,selection:l}=n,{$from:c,from:u,to:d}=l;if(o){const h=b1e(c,a,e);if(h&&h.from<=u&&h.to>=d){const f=rn.create(s,h.from,h.to);n.setSelection(f)}}return!0},ght=r=>e=>{const n=typeof r=="function"?r(e):r;for(let i=0;i<n.length;i+=1)if(n[i](e))return!0;return!1};function v1e(r){return r instanceof rn}function df(r=0,e=0,n=0){return Math.min(Math.max(r,e),n)}function yht(r,e=null){if(!e)return null;const n=ln.atStart(r),i=ln.atEnd(r);if(e==="start"||e===!0)return n;if(e==="end")return i;const o=n.from,a=i.to;return e==="all"?rn.create(r,df(0,o,a),df(r.content.size,o,a)):rn.create(r,df(e,o,a),df(e,o,a))}function bht(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function KI(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const vht=(r=null,e={})=>({editor:n,view:i,tr:o,dispatch:a})=>{e={scrollIntoView:!0,...e};const s=()=>{(KI()||bht())&&i.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(i.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(i.hasFocus()&&r===null||r===!1)return!0;if(a&&r===null&&!v1e(n.state.selection))return s(),!0;const l=yht(o.doc,r)||n.state.selection,c=n.state.selection.eq(l);return a&&(c||o.setSelection(l),c&&o.storedMarks&&o.setStoredMarks(o.storedMarks),s()),!0},xht=(r,e)=>n=>r.every((i,o)=>e(i,{...n,index:o})),wht=(r,e)=>({tr:n,commands:i})=>i.insertContentAt({from:n.selection.from,to:n.selection.to},r,e),x1e=r=>{const e=r.childNodes;for(let n=e.length-1;n>=0;n-=1){const i=e[n];i.nodeType===3&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?r.removeChild(i):i.nodeType===1&&x1e(i)}return r};function B2(r){const e=`<body>${r}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return x1e(n)}function C5(r,e,n){if(r instanceof Pf||r instanceof nt)return r;n={slice:!0,parseOptions:{},...n};const i=typeof r=="object"&&r!==null,o=typeof r=="string";if(i)try{if(Array.isArray(r)&&r.length>0)return nt.fromArray(r.map(l=>e.nodeFromJSON(l)));const s=e.nodeFromJSON(r);return n.errorOnInvalidContent&&s.check(),s}catch(a){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",r,"Error:",a),C5("",e,n)}if(o){if(n.errorOnInvalidContent){let s=!1,l="";const c=new rut({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(s=!0,l=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?C4.fromSchema(c).parseSlice(B2(r),n.parseOptions):C4.fromSchema(c).parse(B2(r),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const a=C4.fromSchema(e);return n.slice?a.parseSlice(B2(r),n.parseOptions).content:a.parse(B2(r),n.parseOptions)}return C5("",e,n)}function Sht(r,e,n){const i=r.steps.length-1;if(i<e)return;const o=r.steps[i];if(!(o instanceof ci||o instanceof di))return;const a=r.mapping.maps[i];let s=0;a.forEach((l,c,u,d)=>{s===0&&(s=d)}),r.setSelection(ln.near(r.doc.resolve(s),n))}const kht=r=>!("type"in r),Tht=(r,e,n)=>({tr:i,dispatch:o,editor:a})=>{var s;if(o){n={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;try{l=C5(e,a.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(s=n.errorOnInvalidContent)!==null&&s!==void 0?s:a.options.enableContentCheck})}catch(b){return a.emit("contentError",{editor:a,error:b,disableCollaboration:()=>{a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}}),!1}let{from:c,to:u}=typeof r=="number"?{from:r,to:r}:{from:r.from,to:r.to},d=!0,h=!0;if((kht(l)?l:[l]).forEach(b=>{b.check(),d=d?b.isText&&b.marks.length===0:!1,h=h?b.isBlock:!1}),c===u&&h){const{parent:b}=i.doc.resolve(c);b.isTextblock&&!b.type.spec.code&&!b.childCount&&(c-=1,u+=1)}let m;if(d){if(Array.isArray(e))m=e.map(b=>b.text||"").join("");else if(e instanceof nt){let b="";e.forEach(g=>{g.text&&(b+=g.text)}),m=b}else typeof e=="object"&&e&&e.text?m=e.text:m=e;i.insertText(m,c,u)}else m=l,i.replaceWith(c,u,m);n.updateSelection&&Sht(i,i.steps.length-1,-1),n.applyInputRules&&i.setMeta("applyInputRules",{from:c,text:m}),n.applyPasteRules&&i.setMeta("applyPasteRules",{from:c,text:m})}return!0},Eht=()=>({state:r,dispatch:e})=>Ndt(r,e),Cht=()=>({state:r,dispatch:e})=>Odt(r,e),_ht=()=>({state:r,dispatch:e})=>o1e(r,e),Aht=()=>({state:r,dispatch:e})=>c1e(r,e),Dht=()=>({state:r,dispatch:e,tr:n})=>{try{const i=G6(r.doc,r.selection.$from.pos,-1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},Mht=()=>({state:r,dispatch:e,tr:n})=>{try{const i=G6(r.doc,r.selection.$from.pos,1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},Rht=()=>({state:r,dispatch:e})=>Mdt(r,e),Nht=()=>({state:r,dispatch:e})=>Rdt(r,e);function w1e(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Oht(r){const e=r.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let i,o,a,s;for(let l=0;l<e.length-1;l+=1){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))s=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))a=!0;else if(/^mod$/i.test(c))KI()||w1e()?s=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return i&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),a&&(n=`Shift-${n}`),n}const Pht=r=>({editor:e,view:n,tr:i,dispatch:o})=>{const a=Oht(r).split(/-(?!$)/),s=a.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,l))});return c==null||c.steps.forEach(u=>{const d=u.map(i.mapping);d&&o&&i.maybeStep(d)}),!0};function XI(r,e,n={}){const{from:i,to:o,empty:a}=r.selection,s=e?Wi(e,r.schema):null,l=[];r.doc.nodesBetween(i,o,(h,f)=>{if(h.isText)return;const m=Math.max(i,f),b=Math.min(o,f+h.nodeSize);l.push({node:h,from:m,to:b})});const c=o-i,u=l.filter(h=>s?s.name===h.node.type.name:!0).filter(h=>E5(h.node.attrs,n,{strict:!1}));return a?!!u.length:u.reduce((h,f)=>h+f.to-f.from,0)>=c}const Iht=(r,e={})=>({state:n,dispatch:i})=>{const o=Wi(r,n.schema);return XI(n,o,e)?Pdt(n,i):!1},$ht=()=>({state:r,dispatch:e})=>f1e(r,e),zht=r=>({state:e,dispatch:n})=>{const i=Wi(r,e.schema);return qdt(i)(e,n)},Lht=()=>({state:r,dispatch:e})=>d1e(r,e);function S1e(r,e){return e.nodes[r]?"node":e.marks[r]?"mark":null}function UQ(r,e){const n=typeof e=="string"?[e]:e;return Object.keys(r).reduce((i,o)=>(n.includes(o)||(i[o]=r[o]),i),{})}const Uht=(r,e)=>({tr:n,state:i,dispatch:o})=>{let a=null,s=null;const l=S1e(typeof r=="string"?r:r.name,i.schema);return l?(l==="node"&&(a=Wi(r,i.schema)),l==="mark"&&(s=mh(r,i.schema)),o&&n.selection.ranges.forEach(c=>{i.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{a&&a===u.type&&n.setNodeMarkup(d,void 0,UQ(u.attrs,e)),s&&u.marks.length&&u.marks.forEach(h=>{s===h.type&&n.addMark(d,d+u.nodeSize,s.create(UQ(h.attrs,e)))})})}),!0):!1},Bht=()=>({tr:r,dispatch:e})=>(e&&r.scrollIntoView(),!0),jht=()=>({tr:r,dispatch:e})=>{if(e){const n=new fa(r.doc);r.setSelection(n)}return!0},Fht=()=>({state:r,dispatch:e})=>s1e(r,e),Hht=()=>({state:r,dispatch:e})=>u1e(r,e),Wht=()=>({state:r,dispatch:e})=>Ldt(r,e),Vht=()=>({state:r,dispatch:e})=>jdt(r,e),qht=()=>({state:r,dispatch:e})=>Bdt(r,e);function Ght(r,e,n={},i={}){return C5(r,e,{slice:!1,parseOptions:n,errorOnInvalidContent:i.errorOnInvalidContent})}const Kht=(r,e=!1,n={},i={})=>({editor:o,tr:a,dispatch:s,commands:l})=>{var c,u;const{doc:d}=a;if(n.preserveWhitespace!=="full"){const h=Ght(r,o.schema,n,{errorOnInvalidContent:(c=i.errorOnInvalidContent)!==null&&c!==void 0?c:o.options.enableContentCheck});return s&&a.replaceWith(0,d.content.size,h).setMeta("preventUpdate",!e),!0}return s&&a.setMeta("preventUpdate",!e),l.insertContentAt({from:0,to:d.content.size},r,{parseOptions:n,errorOnInvalidContent:(u=i.errorOnInvalidContent)!==null&&u!==void 0?u:o.options.enableContentCheck})};function Xht(r,e){const n=mh(e,r.schema),{from:i,to:o,empty:a}=r.selection,s=[];a?(r.storedMarks&&s.push(...r.storedMarks),s.push(...r.selection.$head.marks())):r.doc.nodesBetween(i,o,c=>{s.push(...c.marks)});const l=s.find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function Yht(r){for(let e=0;e<r.edgeCount;e+=1){const{type:n}=r.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function k1e(r,e){for(let n=r.depth;n>0;n-=1){const i=r.node(n);if(e(i))return{pos:n>0?r.before(n):0,start:r.start(n),depth:n,node:i}}}function YI(r){return e=>k1e(e.$from,r)}function M4(r,e,n){return Object.fromEntries(Object.entries(n).filter(([i])=>{const o=r.find(a=>a.type===e&&a.name===i);return o?o.attribute.keepOnSplit:!1}))}function Zht(r,e,n={}){const{empty:i,ranges:o}=r.selection,a=e?mh(e,r.schema):null;if(i)return!!(r.storedMarks||r.selection.$from.marks()).filter(h=>a?a.name===h.type.name:!0).find(h=>E5(h.attrs,n,{strict:!1}));let s=0;const l=[];if(o.forEach(({$from:h,$to:f})=>{const m=h.pos,b=f.pos;r.doc.nodesBetween(m,b,(g,v)=>{if(!g.isText&&!g.marks.length)return;const x=Math.max(m,v),w=Math.min(b,v+g.nodeSize),k=w-x;s+=k,l.push(...g.marks.map(T=>({mark:T,from:x,to:w})))})}),s===0)return!1;const c=l.filter(h=>a?a.name===h.mark.type.name:!0).filter(h=>E5(h.mark.attrs,n,{strict:!1})).reduce((h,f)=>h+f.to-f.from,0),u=l.filter(h=>a?h.mark.type!==a&&h.mark.type.excludes(a):!0).reduce((h,f)=>h+f.to-f.from,0);return(c>0?c+u:c)>=s}function BQ(r,e){const{nodeExtensions:n}=Zdt(e),i=n.find(s=>s.name===r);if(!i)return!1;const o={name:i.name,options:i.options,storage:i.storage},a=ml(qa(i,"group",o));return typeof a!="string"?!1:a.split(" ").includes("list")}function T1e(r,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var i;if(n){if(r.type.name==="hardBreak")return!0;if(r.isText)return/^\s*$/m.test((i=r.text)!==null&&i!==void 0?i:"")}if(r.isText)return!r.text;if(r.isAtom||r.isLeaf)return!1;if(r.content.childCount===0)return!0;if(e){let o=!0;return r.content.forEach(a=>{o!==!1&&(T1e(a,{ignoreWhitespace:n,checkChildren:e})||(o=!1))}),o}return!1}function Jht(r,e,n){var i;const{selection:o}=e;let a=null;if(v1e(o)&&(a=o.$cursor),a){const l=(i=r.storedMarks)!==null&&i!==void 0?i:a.marks();return!!n.isInSet(l)||!l.some(c=>c.type.excludes(n))}const{ranges:s}=o;return s.some(({$from:l,$to:c})=>{let u=l.depth===0?r.doc.inlineContent&&r.doc.type.allowsMarkType(n):!1;return r.doc.nodesBetween(l.pos,c.pos,(d,h,f)=>{if(u)return!1;if(d.isInline){const m=!f||f.type.allowsMarkType(n),b=!!n.isInSet(d.marks)||!d.marks.some(g=>g.type.excludes(n));u=m&&b}return!u}),u})}const Qht=(r,e={})=>({tr:n,state:i,dispatch:o})=>{const{selection:a}=n,{empty:s,ranges:l}=a,c=mh(r,i.schema);if(o)if(s){const u=Xht(i,c);n.addStoredMark(c.create({...u,...e}))}else l.forEach(u=>{const d=u.$from.pos,h=u.$to.pos;i.doc.nodesBetween(d,h,(f,m)=>{const b=Math.max(m,d),g=Math.min(m+f.nodeSize,h);f.marks.find(x=>x.type===c)?f.marks.forEach(x=>{c===x.type&&n.addMark(b,g,c.create({...x.attrs,...e}))}):n.addMark(b,g,c.create(e))})});return Jht(i,n,c)},eft=(r,e)=>({tr:n})=>(n.setMeta(r,e),!0),tft=(r,e={})=>({state:n,dispatch:i,chain:o})=>{const a=Wi(r,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),a.isTextblock?o().command(({commands:l})=>zQ(a,{...s,...e})(n)?!0:l.clearNodes()).command(({state:l})=>zQ(a,{...s,...e})(l,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},nft=r=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,o=df(r,0,i.content.size),a=Qt.create(i,o);e.setSelection(a)}return!0},rft=r=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,{from:o,to:a}=typeof r=="number"?{from:r,to:r}:r,s=rn.atStart(i).from,l=rn.atEnd(i).to,c=df(o,s,l),u=df(a,s,l),d=rn.create(i,c,u);e.setSelection(d)}return!0},ift=r=>({state:e,dispatch:n})=>{const i=Wi(r,e.schema);return Xdt(i)(e,n)};function jQ(r,e){const n=r.storedMarks||r.selection.$to.parentOffset&&r.selection.$from.marks();if(n){const i=n.filter(o=>e==null?void 0:e.includes(o.type.name));r.tr.ensureMarks(i)}}const oft=({keepMarks:r=!0}={})=>({tr:e,state:n,dispatch:i,editor:o})=>{const{selection:a,doc:s}=e,{$from:l,$to:c}=a,u=o.extensionManager.attributes,d=M4(u,l.node().type.name,l.node().attrs);if(a instanceof Qt&&a.node.isBlock)return!l.parentOffset||!jc(s,l.pos)?!1:(i&&(r&&jQ(n,o.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const h=c.parentOffset===c.parent.content.size,f=l.depth===0?void 0:Yht(l.node(-1).contentMatchAt(l.indexAfter(-1)));let m=h&&f?[{type:f,attrs:d}]:void 0,b=jc(e.doc,e.mapping.map(l.pos),1,m);if(!m&&!b&&jc(e.doc,e.mapping.map(l.pos),1,f?[{type:f}]:void 0)&&(b=!0,m=f?[{type:f,attrs:d}]:void 0),i){if(b&&(a instanceof rn&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,m),f&&!h&&!l.parentOffset&&l.parent.type!==f)){const g=e.mapping.map(l.before()),v=e.doc.resolve(g);l.node(-1).canReplaceWith(v.index(),v.index()+1,f)&&e.setNodeMarkup(e.mapping.map(l.before()),f)}r&&jQ(n,o.extensionManager.splittableMarks),e.scrollIntoView()}return b},aft=(r,e={})=>({tr:n,state:i,dispatch:o,editor:a})=>{var s;const l=Wi(r,i.schema),{$from:c,$to:u}=i.selection,d=i.selection.node;if(d&&d.isBlock||c.depth<2||!c.sameParent(u))return!1;const h=c.node(-1);if(h.type!==l)return!1;const f=a.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(o){let x=nt.empty;const w=c.index(-1)?1:c.index(-2)?2:3;for(let L=c.depth-w;L>=c.depth-3;L-=1)x=nt.from(c.node(L).copy(x));const k=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,T={...M4(f,c.node().type.name,c.node().attrs),...e},_=((s=l.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(T))||void 0;x=x.append(nt.from(l.createAndFill(null,_)||void 0));const D=c.before(c.depth-(w-1));n.replace(D,c.after(-k),new xt(x,4-w,0));let I=-1;n.doc.nodesBetween(D,n.doc.content.size,(L,O)=>{if(I>-1)return!1;L.isTextblock&&L.content.size===0&&(I=O+1)}),I>-1&&n.setSelection(rn.near(n.doc.resolve(I))),n.scrollIntoView()}return!0}const m=u.pos===c.end()?h.contentMatchAt(0).defaultType:null,b={...M4(f,h.type.name,h.attrs),...e},g={...M4(f,c.node().type.name,c.node().attrs),...e};n.delete(c.pos,u.pos);const v=m?[{type:l,attrs:b},{type:m,attrs:g}]:[{type:l,attrs:b}];if(!jc(n.doc,c.pos,2))return!1;if(o){const{selection:x,storedMarks:w}=i,{splittableMarks:k}=a.extensionManager,T=w||x.$to.parentOffset&&x.$from.marks();if(n.split(c.pos,2,v).scrollIntoView(),!T||!o)return!0;const _=T.filter(D=>k.includes(D.type.name));n.ensureMarks(_)}return!0},bA=(r,e)=>{const n=YI(s=>s.type===e)(r.selection);if(!n)return!0;const i=r.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(i===void 0)return!0;const o=r.doc.nodeAt(i);return n.node.type===(o==null?void 0:o.type)&&Ep(r.doc,n.pos)&&r.join(n.pos),!0},vA=(r,e)=>{const n=YI(s=>s.type===e)(r.selection);if(!n)return!0;const i=r.doc.resolve(n.start).after(n.depth);if(i===void 0)return!0;const o=r.doc.nodeAt(i);return n.node.type===(o==null?void 0:o.type)&&Ep(r.doc,i)&&r.join(i),!0},sft=(r,e,n,i={})=>({editor:o,tr:a,state:s,dispatch:l,chain:c,commands:u,can:d})=>{const{extensions:h,splittableMarks:f}=o.extensionManager,m=Wi(r,s.schema),b=Wi(e,s.schema),{selection:g,storedMarks:v}=s,{$from:x,$to:w}=g,k=x.blockRange(w),T=v||g.$to.parentOffset&&g.$from.marks();if(!k)return!1;const _=YI(D=>BQ(D.type.name,h))(g);if(k.depth>=1&&_&&k.depth-_.depth<=1){if(_.node.type===m)return u.liftListItem(b);if(BQ(_.node.type.name,h)&&m.validContent(_.node.content)&&l)return c().command(()=>(a.setNodeMarkup(_.pos,m),!0)).command(()=>bA(a,m)).command(()=>vA(a,m)).run()}return!n||!T||!l?c().command(()=>d().wrapInList(m,i)?!0:u.clearNodes()).wrapInList(m,i).command(()=>bA(a,m)).command(()=>vA(a,m)).run():c().command(()=>{const D=d().wrapInList(m,i),I=T.filter(L=>f.includes(L.type.name));return a.ensureMarks(I),D?!0:u.clearNodes()}).wrapInList(m,i).command(()=>bA(a,m)).command(()=>vA(a,m)).run()},lft=(r,e={},n={})=>({state:i,commands:o})=>{const{extendEmptyMarkRange:a=!1}=n,s=mh(r,i.schema);return Zht(i,s,e)?o.unsetMark(s,{extendEmptyMarkRange:a}):o.setMark(s,e)},cft=(r,e,n={})=>({state:i,commands:o})=>{const a=Wi(r,i.schema),s=Wi(e,i.schema),l=XI(i,a,n);let c;return i.selection.$anchor.sameParent(i.selection.$head)&&(c=i.selection.$anchor.parent.attrs),l?o.setNode(s,c):o.setNode(a,{...c,...n})},uft=(r,e={})=>({state:n,commands:i})=>{const o=Wi(r,n.schema);return XI(n,o,e)?i.lift(o):i.wrapIn(o,e)},dft=()=>({state:r,dispatch:e})=>{const n=r.plugins;for(let i=0;i<n.length;i+=1){const o=n[i];let a;if(o.spec.isInputRules&&(a=o.getState(r))){if(e){const s=r.tr,l=a.transform;for(let c=l.steps.length-1;c>=0;c-=1)s.step(l.steps[c].invert(l.docs[c]));if(a.text){const c=s.doc.resolve(a.from).marks();s.replaceWith(a.from,a.to,r.schema.text(a.text,c))}else s.delete(a.from,a.to)}return!0}}return!1},hft=()=>({tr:r,dispatch:e})=>{const{selection:n}=r,{empty:i,ranges:o}=n;return i||e&&o.forEach(a=>{r.removeMark(a.$from.pos,a.$to.pos)}),!0},fft=(r,e={})=>({tr:n,state:i,dispatch:o})=>{var a;const{extendEmptyMarkRange:s=!1}=e,{selection:l}=n,c=mh(r,i.schema),{$from:u,empty:d,ranges:h}=l;if(!o)return!0;if(d&&s){let{from:f,to:m}=l;const b=(a=u.marks().find(v=>v.type===c))===null||a===void 0?void 0:a.attrs,g=b1e(u,c,b);g&&(f=g.from,m=g.to),n.removeMark(f,m,c)}else h.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,c)});return n.removeStoredMark(c),!0},pft=(r,e={})=>({tr:n,state:i,dispatch:o})=>{let a=null,s=null;const l=S1e(typeof r=="string"?r:r.name,i.schema);return l?(l==="node"&&(a=Wi(r,i.schema)),l==="mark"&&(s=mh(r,i.schema)),o&&n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let h,f,m,b;n.selection.empty?i.doc.nodesBetween(u,d,(g,v)=>{a&&a===g.type&&(m=Math.max(v,u),b=Math.min(v+g.nodeSize,d),h=v,f=g)}):i.doc.nodesBetween(u,d,(g,v)=>{v<u&&a&&a===g.type&&(m=Math.max(v,u),b=Math.min(v+g.nodeSize,d),h=v,f=g),v>=u&&v<=d&&(a&&a===g.type&&n.setNodeMarkup(v,void 0,{...g.attrs,...e}),s&&g.marks.length&&g.marks.forEach(x=>{if(s===x.type){const w=Math.max(v,u),k=Math.min(v+g.nodeSize,d);n.addMark(w,k,s.create({...x.attrs,...e}))}}))}),f&&(h!==void 0&&n.setNodeMarkup(h,void 0,{...f.attrs,...e}),s&&f.marks.length&&f.marks.forEach(g=>{s===g.type&&n.addMark(m,b,s.create({...g.attrs,...e}))}))}),!0):!1},mft=(r,e={})=>({state:n,dispatch:i})=>{const o=Wi(r,n.schema);return Fdt(o,e)(n,i)},gft=(r,e={})=>({state:n,dispatch:i})=>{const o=Wi(r,n.schema);return Hdt(o,e)(n,i)};var yft=Object.freeze({__proto__:null,blur:rht,clearContent:iht,clearNodes:oht,command:aht,createParagraphNear:sht,cut:lht,deleteCurrentNode:cht,deleteNode:uht,deleteRange:dht,deleteSelection:hht,enter:fht,exitCode:pht,extendMarkRange:mht,first:ght,focus:vht,forEach:xht,insertContent:wht,insertContentAt:Tht,joinBackward:_ht,joinDown:Cht,joinForward:Aht,joinItemBackward:Dht,joinItemForward:Mht,joinTextblockBackward:Rht,joinTextblockForward:Nht,joinUp:Eht,keyboardShortcut:Pht,lift:Iht,liftEmptyBlock:$ht,liftListItem:zht,newlineInCode:Lht,resetAttributes:Uht,scrollIntoView:Bht,selectAll:jht,selectNodeBackward:Fht,selectNodeForward:Hht,selectParentNode:Wht,selectTextblockEnd:Vht,selectTextblockStart:qht,setContent:Kht,setMark:Qht,setMeta:eft,setNode:tft,setNodeSelection:nft,setTextSelection:rft,sinkListItem:ift,splitBlock:oft,splitListItem:aft,toggleList:sft,toggleMark:lft,toggleNode:cft,toggleWrap:uft,undoInputRule:dft,unsetAllMarks:hft,unsetMark:fft,updateAttributes:pft,wrapIn:mft,wrapInList:gft});is.create({name:"commands",addCommands(){return{...yft}}});is.create({name:"drop",addProseMirrorPlugins(){return[new zs({key:new cs("tiptapDrop"),props:{handleDrop:(r,e,n,i)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:i})}}})]}});is.create({name:"editable",addProseMirrorPlugins(){return[new zs({key:new cs("editable"),props:{editable:()=>this.editor.options.editable}})]}});const bft=new cs("focusEvents");is.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:r}=this;return[new zs({key:bft,props:{handleDOMEvents:{focus:(e,n)=>{r.isFocused=!0;const i=r.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1},blur:(e,n)=>{r.isFocused=!1;const i=r.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1}}}})]}});is.create({name:"keymap",addKeyboardShortcuts(){const r=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:l})=>{const{selection:c,doc:u}=l,{empty:d,$anchor:h}=c,{pos:f,parent:m}=h,b=h.parent.isTextblock&&f>0?l.doc.resolve(f-1):h,g=b.parent.type.spec.isolating,v=h.pos-h.parentOffset,x=g&&b.parent.childCount===1?v===h.pos:ln.atStart(u).from===f;return!d||!m.type.isTextblock||m.textContent.length||!x||x&&h.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),i={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:r,"Mod-Backspace":r,"Shift-Backspace":r,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o={...i},a={...i,"Ctrl-h":r,"Alt-Backspace":r,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return KI()||w1e()?a:o},addProseMirrorPlugins(){return[new zs({key:new cs("clearDocument"),appendTransaction:(r,e,n)=>{if(r.some(g=>g.getMeta("composition")))return;const i=r.some(g=>g.docChanged)&&!e.doc.eq(n.doc),o=r.some(g=>g.getMeta("preventClearDocument"));if(!i||o)return;const{empty:a,from:s,to:l}=e.selection,c=ln.atStart(e.doc).from,u=ln.atEnd(e.doc).to;if(a||!(s===c&&l===u)||!T1e(n.doc))return;const f=n.tr,m=g1e({state:n,transaction:f}),{commands:b}=new Ydt({editor:this.editor,state:m});if(b.clearNodes(),!!f.steps.length)return f}})]}});is.create({name:"paste",addProseMirrorPlugins(){return[new zs({key:new cs("tiptapPaste"),props:{handlePaste:(r,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}});is.create({name:"tabindex",addProseMirrorPlugins(){return[new zs({key:new cs("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});let Hv=class iR{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ml(qa(this,"addOptions",{name:this.name}))),this.storage=ml(qa(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new iR(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>GI(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new iR(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ml(qa(n,"addOptions",{name:n.name})),n.storage=ml(qa(n,"addStorage",{name:n.name,options:n.options})),n}};const vft="PAGE_COUNT_META_KEY",xft=is.create({name:"PaginationPlus",addOptions(){return{pageHeight:800,pageGap:50,pageGapBorderSize:1,pageBreakBackground:"#ffffff",pageHeaderHeight:10,footerRight:"{page}",footerLeft:"",headerRight:"",headerLeft:""}},onCreate(){const r=this.editor.view.dom;r.classList.add("rm-with-pagination");const e={attributes:!0},n=this.options.pageHeaderHeight,i=this.options.pageHeight-n*2,o=document.createElement("style");o.dataset.rmPaginationStyle="",o.textContent=`
      .rm-with-pagination {
        counter-reset: page-number;
      }
      .rm-with-pagination .rm-page-footer {
        counter-increment: page-number;
      }
      .rm-with-pagination .rm-page-break:last-child .rm-pagination-gap {
        display: none;
      }
      .rm-with-pagination .rm-page-break:last-child .rm-page-header {
        display: none;
      }
      
      .rm-with-pagination table tr td,
      .rm-with-pagination table tr th {
        word-break: break-all;
      }
      .rm-with-pagination table > tr {
        display: grid;
        min-width: 100%;
      }
      .rm-with-pagination table {
        border-collapse: collapse;
        width: 100%;
        display: contents;
      }
      .rm-with-pagination table tbody{
        display: table;
        max-height: 300px;
        overflow-y: auto;
      }
      .rm-with-pagination table tbody > tr{
        display: table-row !important;
      }
      .rm-with-pagination p:has(br.ProseMirror-trailingBreak:only-child) {
        display: table;
        width: 100%;
      }
      .rm-with-pagination .table-row-group {
        max-height: ${i}px;
        overflow-y: auto;
        width: 100%;
      }
      .rm-with-pagination .rm-page-footer-left,
      .rm-with-pagination .rm-page-footer-right,
      .rm-with-pagination .rm-page-header-left,
      .rm-with-pagination .rm-page-header-right {
        display: inline-block;
      }
      .rm-with-pagination .rm-page-header-left,
      .rm-with-pagination .rm-page-header-right{
        padding-top: 15px !important;
      }

      .rm-with-pagination .rm-page-header-left,
      .rm-with-pagination .rm-page-footer-left{
        float: left;
        margin-left: 25px;
      }
      .rm-with-pagination .rm-page-header-right,
      .rm-with-pagination .rm-page-footer-right{
        float: right;
        margin-right: 25px;
      }
      .rm-with-pagination .rm-page-number::before {
        content: counter(page-number);
      }
      .rm-with-pagination .rm-first-page-header{
        display: inline-flex;
        justify-content: space-between;
        width: 100%;
        padding-top: 15px !important;
      }
    `,document.head.appendChild(o);const a=c=>{var u;const d=c.querySelector("[data-rm-pagination]");if(d){const h=(u=d.lastElementChild)===null||u===void 0?void 0:u.querySelector(".breaker");if(h){const f=h.offsetTop+h.offsetHeight;c.style.minHeight=`${f}px`}}},s=(c,u)=>{if(c.length>0&&c[0].target){const d=c[0].target;if(d.classList.contains("rm-with-pagination")){const h=oR(this.editor.view),f=aR(this.editor.view,this.options);if(h!==f){const m=this.editor.view.state.tr.setMeta(vft,Date.now());this.editor.view.dispatch(m)}a(d)}}};new MutationObserver(s).observe(r,e),a(r)},addProseMirrorPlugins(){const r=this.options,e=this.editor;return[new zs({key:new cs("pagination"),state:{init(n,i){const o=FQ(i,r);return Nr.create(i.doc,o)},apply(n,i,o,a){const s=aR(e.view,r),l=oR(e.view);if(s!==l){const c=FQ(a,r);return Nr.create(a.doc,[...c])}return i}},props:{decorations(n){return this.getState(n)}}})]}}),oR=r=>{const n=r.dom.querySelector("[data-rm-pagination]");return n?n.children.length:0},aR=(r,e)=>{var n;const i=r.dom,o=e.pageHeight-e.pageHeaderHeight*2,a=i.querySelector("[data-rm-pagination]"),s=oR(r);if(a){const l=i.lastElementChild,c=(n=a.lastElementChild)===null||n===void 0?void 0:n.querySelector(".breaker");if(l&&c){const u=l.getBoundingClientRect().bottom-c.getBoundingClientRect().bottom;if(u>0){const d=Math.ceil(u/o);return s+d}else{const d=-e.pageHeaderHeight,h=-(e.pageHeight-e.pageHeaderHeight);if(u>h&&u<d)return s;if(u<h){const f=e.pageHeight+e.pageGap,m=Math.floor(u/f);return s+m}else return s}}return 1}else{const l=i.scrollHeight,c=Math.ceil(l/o);return c<=0?1:c}};function FQ(r,e,n=!1){const i=Ao.widget(0,a=>{const s=e.pageGap,l=e.pageHeaderHeight,c=e.pageHeight-l*2,u=e.pageBreakBackground,d=a.dom.clientWidth,h=document.createElement("div");h.dataset.rmPagination="true";const f=({firstPage:x=!1,lastPage:w=!1})=>{const k=document.createElement("div");k.classList.add("rm-page-break");const T=document.createElement("div");T.classList.add("page"),T.style.position="relative",T.style.float="left",T.style.clear="both",T.style.marginTop=x?`calc(${l}px + ${c}px)`:c+"px";const _=document.createElement("div");_.classList.add("breaker"),_.style.width=`calc(${d}px)`,_.style.marginLeft=`calc(calc(calc(${d}px - 100%) / 2) - calc(${d}px - 100%))`,_.style.marginRight=`calc(calc(calc(${d}px - 100%) / 2) - calc(${d}px - 100%))`,_.style.position="relative",_.style.float="left",_.style.clear="both",_.style.left="0px",_.style.right="0px",_.style.zIndex="2";const D=document.createElement("div");D.classList.add("rm-page-footer"),D.style.height=l+"px";const I=e.footerRight.replace("{page}",'<span class="rm-page-number"></span>'),L=e.footerLeft.replace("{page}",'<span class="rm-page-number"></span>'),O=document.createElement("div");O.classList.add("rm-page-footer-left"),O.innerHTML=L;const W=document.createElement("div");W.classList.add("rm-page-footer-right"),W.innerHTML=I,D.append(O),D.append(W);const Z=document.createElement("div");Z.classList.add("rm-pagination-gap"),Z.style.height=s+"px",Z.style.borderLeft="1px solid",Z.style.borderRight="1px solid",Z.style.position="relative",Z.style.setProperty("width","calc(100% + 2px)","important"),Z.style.left="-1px",Z.style.backgroundColor=u,Z.style.borderLeftColor=u,Z.style.borderRightColor=u;const $=document.createElement("div");$.classList.add("rm-page-header"),$.style.height=l+"px";const F=document.createElement("div");F.classList.add("rm-page-header-left"),F.innerHTML=e.headerLeft;const A=document.createElement("div");return A.classList.add("rm-page-header-right"),A.innerHTML=e.headerRight,$.append(F,A),_.append(D,Z,$),k.append(T,_),k},m=f({firstPage:!1,lastPage:!1}),b=f({firstPage:!0,lastPage:!1}),g=document.createDocumentFragment(),v=aR(a,e);for(let x=0;x<v;x++)x===0?g.appendChild(b.cloneNode(!0)):g.appendChild(m.cloneNode(!0));return h.append(g),h.id="pages",h},{side:-1}),o=Ao.widget(0,()=>{const a=document.createElement("div");a.style.position="relative",a.classList.add("rm-first-page-header");const s=document.createElement("div");s.classList.add("rm-first-page-header-left"),s.innerHTML=e.headerLeft,a.append(s);const l=document.createElement("div");return l.classList.add("rm-first-page-header-right"),l.innerHTML=e.headerRight,a.append(l),a.style.height=`${e.pageHeaderHeight}px`,a},{side:-1});return n?[i]:[i,o]}var sR,lR;if(typeof WeakMap<"u"){let r=new WeakMap;sR=e=>r.get(e),lR=(e,n)=>(r.set(e,n),n)}else{const r=[];let n=0;sR=i=>{for(let o=0;o<r.length;o+=2)if(r[o]==i)return r[o+1]},lR=(i,o)=>(n==10&&(n=0),r[n++]=i,r[n++]=o)}var Pr=class{constructor(r,e,n,i){this.width=r,this.height=e,this.map=n,this.problems=i}findCell(r){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=r)continue;const i=e%this.width,o=e/this.width|0;let a=i+1,s=o+1;for(let l=1;a<this.width&&this.map[e+l]==n;l++)a++;for(let l=1;s<this.height&&this.map[e+this.width*l]==n;l++)s++;return{left:i,top:o,right:a,bottom:s}}throw new RangeError(`No cell with offset ${r} found`)}colCount(r){for(let e=0;e<this.map.length;e++)if(this.map[e]==r)return e%this.width;throw new RangeError(`No cell with offset ${r} found`)}nextCell(r,e,n){const{left:i,right:o,top:a,bottom:s}=this.findCell(r);return e=="horiz"?(n<0?i==0:o==this.width)?null:this.map[a*this.width+(n<0?i-1:o)]:(n<0?a==0:s==this.height)?null:this.map[i+this.width*(n<0?a-1:s)]}rectBetween(r,e){const{left:n,right:i,top:o,bottom:a}=this.findCell(r),{left:s,right:l,top:c,bottom:u}=this.findCell(e);return{left:Math.min(n,s),top:Math.min(o,c),right:Math.max(i,l),bottom:Math.max(a,u)}}cellsInRect(r){const e=[],n={};for(let i=r.top;i<r.bottom;i++)for(let o=r.left;o<r.right;o++){const a=i*this.width+o,s=this.map[a];n[s]||(n[s]=!0,!(o==r.left&&o&&this.map[a-1]==s||i==r.top&&i&&this.map[a-this.width]==s)&&e.push(s))}return e}positionAt(r,e,n){for(let i=0,o=0;;i++){const a=o+n.child(i).nodeSize;if(i==r){let s=e+r*this.width;const l=(r+1)*this.width;for(;s<l&&this.map[s]<o;)s++;return s==l?a-1:this.map[s]}o=a}}static get(r){return sR(r)||lR(r,wft(r))}};function wft(r){if(r.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+r.type.name);const e=Sft(r),n=r.childCount,i=[];let o=0,a=null;const s=[];for(let u=0,d=e*n;u<d;u++)i[u]=0;for(let u=0,d=0;u<n;u++){const h=r.child(u);d++;for(let b=0;;b++){for(;o<i.length&&i[o]!=0;)o++;if(b==h.childCount)break;const g=h.child(b),{colspan:v,rowspan:x,colwidth:w}=g.attrs;for(let k=0;k<x;k++){if(k+u>=n){(a||(a=[])).push({type:"overlong_rowspan",pos:d,n:x-k});break}const T=o+k*e;for(let _=0;_<v;_++){i[T+_]==0?i[T+_]=d:(a||(a=[])).push({type:"collision",row:u,pos:d,n:v-_});const D=w&&w[_];if(D){const I=(T+_)%e*2,L=s[I];L==null||L!=D&&s[I+1]==1?(s[I]=D,s[I+1]=1):L==D&&s[I+1]++}}}o+=v,d+=g.nodeSize}const f=(u+1)*e;let m=0;for(;o<f;)i[o++]==0&&m++;m&&(a||(a=[])).push({type:"missing",row:u,n:m}),d++}(e===0||n===0)&&(a||(a=[])).push({type:"zero_sized"});const l=new Pr(e,n,i,a);let c=!1;for(let u=0;!c&&u<s.length;u+=2)s[u]!=null&&s[u+1]<n&&(c=!0);return c&&kft(l,s,r),l}function Sft(r){let e=-1,n=!1;for(let i=0;i<r.childCount;i++){const o=r.child(i);let a=0;if(n)for(let s=0;s<i;s++){const l=r.child(s);for(let c=0;c<l.childCount;c++){const u=l.child(c);s+u.attrs.rowspan>i&&(a+=u.attrs.colspan)}}for(let s=0;s<o.childCount;s++){const l=o.child(s);a+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}e==-1?e=a:e!=a&&(e=Math.max(e,a))}return e}function kft(r,e,n){r.problems||(r.problems=[]);const i={};for(let o=0;o<r.map.length;o++){const a=r.map[o];if(i[a])continue;i[a]=!0;const s=n.nodeAt(a);if(!s)throw new RangeError(`No cell with offset ${a} found`);let l=null;const c=s.attrs;for(let u=0;u<c.colspan;u++){const d=(o+u)%r.width,h=e[d*2];h!=null&&(!c.colwidth||c.colwidth[u]!=h)&&((l||(l=Tft(c)))[u]=h)}l&&r.problems.unshift({type:"colwidth mismatch",pos:a,colwidth:l})}}function Tft(r){if(r.colwidth)return r.colwidth.slice();const e=[];for(let n=0;n<r.colspan;n++)e.push(0);return e}function Vi(r){let e=r.cached.tableNodeTypes;if(!e){e=r.cached.tableNodeTypes={};for(const n in r.nodes){const i=r.nodes[n],o=i.spec.tableRole;o&&(e[o]=i)}}return e}var sd=new cs("selectingCells");function kg(r){for(let e=r.depth-1;e>0;e--)if(r.node(e).type.spec.tableRole=="row")return r.node(0).resolve(r.before(e+1));return null}function Eft(r){for(let e=r.depth;e>0;e--){const n=r.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return r.node(e)}return null}function Us(r){const e=r.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function J6(r){const e=r.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=kg(e.$head)||Cft(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function Cft(r){for(let e=r.nodeAfter,n=r.pos;e;e=e.firstChild,n++){const i=e.type.spec.tableRole;if(i=="cell"||i=="header_cell")return r.doc.resolve(n)}for(let e=r.nodeBefore,n=r.pos;e;e=e.lastChild,n--){const i=e.type.spec.tableRole;if(i=="cell"||i=="header_cell")return r.doc.resolve(n-e.nodeSize)}}function cR(r){return r.parent.type.spec.tableRole=="row"&&!!r.nodeAfter}function _ft(r){return r.node(0).resolve(r.pos+r.nodeAfter.nodeSize)}function ZI(r,e){return r.depth==e.depth&&r.pos>=e.start(-1)&&r.pos<=e.end(-1)}function E1e(r,e,n){const i=r.node(-1),o=Pr.get(i),a=r.start(-1),s=o.nextCell(r.pos-a,e,n);return s==null?null:r.node(0).resolve(a+s)}function rp(r,e,n=1){const i={...r,colspan:r.colspan-n};return i.colwidth&&(i.colwidth=i.colwidth.slice(),i.colwidth.splice(e,n),i.colwidth.some(o=>o>0)||(i.colwidth=null)),i}function C1e(r,e,n=1){const i={...r,colspan:r.colspan+n};if(i.colwidth){i.colwidth=i.colwidth.slice();for(let o=0;o<n;o++)i.colwidth.splice(e,0,0)}return i}function Aft(r,e,n){const i=Vi(e.type.schema).header_cell;for(let o=0;o<r.height;o++)if(e.nodeAt(r.map[n+o*r.width]).type!=i)return!1;return!0}var ar=class gc extends ln{constructor(e,n=e){const i=e.node(-1),o=Pr.get(i),a=e.start(-1),s=o.rectBetween(e.pos-a,n.pos-a),l=e.node(0),c=o.cellsInRect(s).filter(d=>d!=n.pos-a);c.unshift(n.pos-a);const u=c.map(d=>{const h=i.nodeAt(d);if(!h)throw RangeError(`No cell with offset ${d} found`);const f=a+d+1;return new Rge(l.resolve(f),l.resolve(f+h.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=e,this.$headCell=n}map(e,n){const i=e.resolve(n.map(this.$anchorCell.pos)),o=e.resolve(n.map(this.$headCell.pos));if(cR(i)&&cR(o)&&ZI(i,o)){const a=this.$anchorCell.node(-1)!=i.node(-1);return a&&this.isRowSelection()?gc.rowSelection(i,o):a&&this.isColSelection()?gc.colSelection(i,o):new gc(i,o)}return rn.between(i,o)}content(){const e=this.$anchorCell.node(-1),n=Pr.get(e),i=this.$anchorCell.start(-1),o=n.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i),a={},s=[];for(let c=o.top;c<o.bottom;c++){const u=[];for(let d=c*n.width+o.left,h=o.left;h<o.right;h++,d++){const f=n.map[d];if(a[f])continue;a[f]=!0;const m=n.findCell(f);let b=e.nodeAt(f);if(!b)throw RangeError(`No cell with offset ${f} found`);const g=o.left-m.left,v=m.right-o.right;if(g>0||v>0){let x=b.attrs;if(g>0&&(x=rp(x,0,g)),v>0&&(x=rp(x,x.colspan-v,v)),m.left<o.left){if(b=b.type.createAndFill(x),!b)throw RangeError(`Could not create cell with attrs ${JSON.stringify(x)}`)}else b=b.type.create(x,b.content)}if(m.top<o.top||m.bottom>o.bottom){const x={...b.attrs,rowspan:Math.min(m.bottom,o.bottom)-Math.max(m.top,o.top)};m.top<o.top?b=b.type.createAndFill(x):b=b.type.create(x,b.content)}u.push(b)}s.push(e.child(c).copy(nt.from(u)))}const l=this.isColSelection()&&this.isRowSelection()?e:s;return new xt(nt.from(l),1,1)}replace(e,n=xt.empty){const i=e.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){const{$from:l,$to:c}=o[s],u=e.mapping.slice(i);e.replace(u.map(l.pos),u.map(c.pos),s?xt.empty:n)}const a=ln.findFrom(e.doc.resolve(e.mapping.slice(i).map(this.to)),-1);a&&e.setSelection(a)}replaceWith(e,n){this.replace(e,new xt(nt.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),i=Pr.get(n),o=this.$anchorCell.start(-1),a=i.cellsInRect(i.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o));for(let s=0;s<a.length;s++)e(n.nodeAt(a[s]),o+a[s])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const i=e+this.$anchorCell.nodeAfter.attrs.rowspan,o=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(i,o)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const i=e.node(-1),o=Pr.get(i),a=e.start(-1),s=o.findCell(e.pos-a),l=o.findCell(n.pos-a),c=e.node(0);return s.top<=l.top?(s.top>0&&(e=c.resolve(a+o.map[s.left])),l.bottom<o.height&&(n=c.resolve(a+o.map[o.width*(o.height-1)+l.right-1]))):(l.top>0&&(n=c.resolve(a+o.map[l.left])),s.bottom<o.height&&(e=c.resolve(a+o.map[o.width*(o.height-1)+s.right-1]))),new gc(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Pr.get(e),i=this.$anchorCell.start(-1),o=n.colCount(this.$anchorCell.pos-i),a=n.colCount(this.$headCell.pos-i);if(Math.min(o,a)>0)return!1;const s=o+this.$anchorCell.nodeAfter.attrs.colspan,l=a+this.$headCell.nodeAfter.attrs.colspan;return Math.max(s,l)==n.width}eq(e){return e instanceof gc&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const i=e.node(-1),o=Pr.get(i),a=e.start(-1),s=o.findCell(e.pos-a),l=o.findCell(n.pos-a),c=e.node(0);return s.left<=l.left?(s.left>0&&(e=c.resolve(a+o.map[s.top*o.width])),l.right<o.width&&(n=c.resolve(a+o.map[o.width*(l.top+1)-1]))):(l.left>0&&(n=c.resolve(a+o.map[l.top*o.width])),s.right<o.width&&(e=c.resolve(a+o.map[o.width*(s.top+1)-1]))),new gc(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new gc(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,i=n){return new gc(e.resolve(n),e.resolve(i))}getBookmark(){return new Dft(this.$anchorCell.pos,this.$headCell.pos)}};ar.prototype.visible=!1;ln.jsonID("cell",ar);var Dft=class _1e{constructor(e,n){this.anchor=e,this.head=n}map(e){return new _1e(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),i=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&i.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&i.index()<i.parent.childCount&&ZI(n,i)?new ar(n,i):ln.near(i,1)}};function Mft(r){if(!(r.selection instanceof ar))return null;const e=[];return r.selection.forEachCell((n,i)=>{e.push(Ao.node(i,i+n.nodeSize,{class:"selectedCell"}))}),Nr.create(r.doc,e)}function Rft({$from:r,$to:e}){if(r.pos==e.pos||r.pos<e.pos-6)return!1;let n=r.pos,i=e.pos,o=r.depth;for(;o>=0&&!(r.after(o+1)<r.end(o));o--,n++);for(let a=e.depth;a>=0&&!(e.before(a+1)>e.start(a));a--,i--);return n==i&&/row|table/.test(r.node(o).type.spec.tableRole)}function Nft({$from:r,$to:e}){let n,i;for(let o=r.depth;o>0;o--){const a=r.node(o);if(a.type.spec.tableRole==="cell"||a.type.spec.tableRole==="header_cell"){n=a;break}}for(let o=e.depth;o>0;o--){const a=e.node(o);if(a.type.spec.tableRole==="cell"||a.type.spec.tableRole==="header_cell"){i=a;break}}return n!==i&&e.parentOffset===0}function Oft(r,e,n){const i=(e||r).selection,o=(e||r).doc;let a,s;if(i instanceof Qt&&(s=i.node.type.spec.tableRole)){if(s=="cell"||s=="header_cell")a=ar.create(o,i.from);else if(s=="row"){const l=o.resolve(i.from+1);a=ar.rowSelection(l,l)}else if(!n){const l=Pr.get(i.node),c=i.from+1,u=c+l.map[l.width*l.height-1];a=ar.create(o,c+1,u)}}else i instanceof rn&&Rft(i)?a=rn.create(o,i.from):i instanceof rn&&Nft(i)&&(a=rn.create(o,i.$from.start(),i.$from.end()));return a&&(e||(e=r.tr)).setSelection(a),e}var Pft=new cs("fix-tables");function A1e(r,e,n,i){const o=r.childCount,a=e.childCount;e:for(let s=0,l=0;s<a;s++){const c=e.child(s);for(let u=l,d=Math.min(o,s+3);u<d;u++)if(r.child(u)==c){l=u+1,n+=c.nodeSize;continue e}i(c,n),l<o&&r.child(l).sameMarkup(c)?A1e(r.child(l),c,n+1,i):c.nodesBetween(0,c.content.size,i,n+1),n+=c.nodeSize}}function D1e(r,e){let n;const i=(o,a)=>{o.type.spec.tableRole=="table"&&(n=Ift(r,o,a,n))};return e?e.doc!=r.doc&&A1e(e.doc,r.doc,0,i):r.doc.descendants(i),n}function Ift(r,e,n,i){const o=Pr.get(e);if(!o.problems)return i;i||(i=r.tr);const a=[];for(let c=0;c<o.height;c++)a.push(0);for(let c=0;c<o.problems.length;c++){const u=o.problems[c];if(u.type=="collision"){const d=e.nodeAt(u.pos);if(!d)continue;const h=d.attrs;for(let f=0;f<h.rowspan;f++)a[u.row+f]+=u.n;i.setNodeMarkup(i.mapping.map(n+1+u.pos),null,rp(h,h.colspan-u.n,u.n))}else if(u.type=="missing")a[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const d=e.nodeAt(u.pos);if(!d)continue;i.setNodeMarkup(i.mapping.map(n+1+u.pos),null,{...d.attrs,rowspan:d.attrs.rowspan-u.n})}else if(u.type=="colwidth mismatch"){const d=e.nodeAt(u.pos);if(!d)continue;i.setNodeMarkup(i.mapping.map(n+1+u.pos),null,{...d.attrs,colwidth:u.colwidth})}else if(u.type=="zero_sized"){const d=i.mapping.map(n);i.delete(d,d+e.nodeSize)}}let s,l;for(let c=0;c<a.length;c++)a[c]&&(s==null&&(s=c),l=c);for(let c=0,u=n+1;c<o.height;c++){const d=e.child(c),h=u+d.nodeSize,f=a[c];if(f>0){let m="cell";d.firstChild&&(m=d.firstChild.type.spec.tableRole);const b=[];for(let v=0;v<f;v++){const x=Vi(r.schema)[m].createAndFill();x&&b.push(x)}const g=(c==0||s==c-1)&&l==c?u+1:h-1;i.insert(i.mapping.map(g),b)}u=h}return i.setMeta(Pft,{fixTables:!0})}function zl(r){const e=r.selection,n=J6(r),i=n.node(-1),o=n.start(-1),a=Pr.get(i);return{...e instanceof ar?a.rectBetween(e.$anchorCell.pos-o,e.$headCell.pos-o):a.findCell(n.pos-o),tableStart:o,map:a,table:i}}function M1e(r,{map:e,tableStart:n,table:i},o){let a=o>0?-1:0;Aft(e,i,o+a)&&(a=o==0||o==e.width?null:0);for(let s=0;s<e.height;s++){const l=s*e.width+o;if(o>0&&o<e.width&&e.map[l-1]==e.map[l]){const c=e.map[l],u=i.nodeAt(c);r.setNodeMarkup(r.mapping.map(n+c),null,C1e(u.attrs,o-e.colCount(c))),s+=u.attrs.rowspan-1}else{const c=a==null?Vi(i.type.schema).cell:i.nodeAt(e.map[l+a]).type,u=e.positionAt(s,o,i);r.insert(r.mapping.map(n+u),c.createAndFill())}}return r}function $ft(r,e){if(!Us(r))return!1;if(e){const n=zl(r);e(M1e(r.tr,n,n.left))}return!0}function zft(r,e){if(!Us(r))return!1;if(e){const n=zl(r);e(M1e(r.tr,n,n.right))}return!0}function Lft(r,{map:e,table:n,tableStart:i},o){const a=r.mapping.maps.length;for(let s=0;s<e.height;){const l=s*e.width+o,c=e.map[l],u=n.nodeAt(c),d=u.attrs;if(o>0&&e.map[l-1]==c||o<e.width-1&&e.map[l+1]==c)r.setNodeMarkup(r.mapping.slice(a).map(i+c),null,rp(d,o-e.colCount(c)));else{const h=r.mapping.slice(a).map(i+c);r.delete(h,h+u.nodeSize)}s+=d.rowspan}}function Uft(r,e){if(!Us(r))return!1;if(e){const n=zl(r),i=r.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let o=n.right-1;Lft(i,n,o),o!=n.left;o--){const a=n.tableStart?i.doc.nodeAt(n.tableStart-1):i.doc;if(!a)throw RangeError("No table found");n.table=a,n.map=Pr.get(a)}e(i)}return!0}function Bft(r,e,n){var i;const o=Vi(e.type.schema).header_cell;for(let a=0;a<r.width;a++)if(((i=e.nodeAt(r.map[a+n*r.width]))==null?void 0:i.type)!=o)return!1;return!0}function R1e(r,{map:e,tableStart:n,table:i},o){var a;let s=n;for(let u=0;u<o;u++)s+=i.child(u).nodeSize;const l=[];let c=o>0?-1:0;Bft(e,i,o+c)&&(c=o==0||o==e.height?null:0);for(let u=0,d=e.width*o;u<e.width;u++,d++)if(o>0&&o<e.height&&e.map[d]==e.map[d-e.width]){const h=e.map[d],f=i.nodeAt(h).attrs;r.setNodeMarkup(n+h,null,{...f,rowspan:f.rowspan+1}),u+=f.colspan-1}else{const h=c==null?Vi(i.type.schema).cell:(a=i.nodeAt(e.map[d+c*e.width]))==null?void 0:a.type,f=h==null?void 0:h.createAndFill();f&&l.push(f)}return r.insert(s,Vi(i.type.schema).row.create(null,l)),r}function jft(r,e){if(!Us(r))return!1;if(e){const n=zl(r);e(R1e(r.tr,n,n.top))}return!0}function Fft(r,e){if(!Us(r))return!1;if(e){const n=zl(r);e(R1e(r.tr,n,n.bottom))}return!0}function Hft(r,{map:e,table:n,tableStart:i},o){let a=0;for(let u=0;u<o;u++)a+=n.child(u).nodeSize;const s=a+n.child(o).nodeSize,l=r.mapping.maps.length;r.delete(a+i,s+i);const c=new Set;for(let u=0,d=o*e.width;u<e.width;u++,d++){const h=e.map[d];if(!c.has(h)){if(c.add(h),o>0&&h==e.map[d-e.width]){const f=n.nodeAt(h).attrs;r.setNodeMarkup(r.mapping.slice(l).map(h+i),null,{...f,rowspan:f.rowspan-1}),u+=f.colspan-1}else if(o<e.height&&h==e.map[d+e.width]){const f=n.nodeAt(h),m=f.attrs,b=f.type.create({...m,rowspan:f.attrs.rowspan-1},f.content),g=e.positionAt(o+1,u,n);r.insert(r.mapping.slice(l).map(i+g),b),u+=m.colspan-1}}}}function Wft(r,e){if(!Us(r))return!1;if(e){const n=zl(r),i=r.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let o=n.bottom-1;Hft(i,n,o),o!=n.top;o--){const a=n.tableStart?i.doc.nodeAt(n.tableStart-1):i.doc;if(!a)throw RangeError("No table found");n.table=a,n.map=Pr.get(n.table)}e(i)}return!0}function HQ(r){const e=r.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function Vft({width:r,height:e,map:n},i){let o=i.top*r+i.left,a=o,s=(i.bottom-1)*r+i.left,l=o+(i.right-i.left-1);for(let c=i.top;c<i.bottom;c++){if(i.left>0&&n[a]==n[a-1]||i.right<r&&n[l]==n[l+1])return!0;a+=r,l+=r}for(let c=i.left;c<i.right;c++){if(i.top>0&&n[o]==n[o-r]||i.bottom<e&&n[s]==n[s+r])return!0;o++,s++}return!1}function WQ(r,e){const n=r.selection;if(!(n instanceof ar)||n.$anchorCell.pos==n.$headCell.pos)return!1;const i=zl(r),{map:o}=i;if(Vft(o,i))return!1;if(e){const a=r.tr,s={};let l=nt.empty,c,u;for(let d=i.top;d<i.bottom;d++)for(let h=i.left;h<i.right;h++){const f=o.map[d*o.width+h],m=i.table.nodeAt(f);if(!(s[f]||!m))if(s[f]=!0,c==null)c=f,u=m;else{HQ(m)||(l=l.append(m.content));const b=a.mapping.map(f+i.tableStart);a.delete(b,b+m.nodeSize)}}if(c==null||u==null)return!0;if(a.setNodeMarkup(c+i.tableStart,null,{...C1e(u.attrs,u.attrs.colspan,i.right-i.left-u.attrs.colspan),rowspan:i.bottom-i.top}),l.size){const d=c+1+u.content.size,h=HQ(u)?c+1:d;a.replaceWith(h+i.tableStart,d+i.tableStart,l)}a.setSelection(new ar(a.doc.resolve(c+i.tableStart))),e(a)}return!0}function VQ(r,e){const n=Vi(r.schema);return qft(({node:i})=>n[i.type.spec.tableRole])(r,e)}function qft(r){return(e,n)=>{var i;const o=e.selection;let a,s;if(o instanceof ar){if(o.$anchorCell.pos!=o.$headCell.pos)return!1;a=o.$anchorCell.nodeAfter,s=o.$anchorCell.pos}else{if(a=Eft(o.$from),!a)return!1;s=(i=kg(o.$from))==null?void 0:i.pos}if(a==null||s==null||a.attrs.colspan==1&&a.attrs.rowspan==1)return!1;if(n){let l=a.attrs;const c=[],u=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const d=zl(e),h=e.tr;for(let m=0;m<d.right-d.left;m++)c.push(u?{...l,colwidth:u&&u[m]?[u[m]]:null}:l);let f;for(let m=d.top;m<d.bottom;m++){let b=d.map.positionAt(m,d.left,d.table);m==d.top&&(b+=a.nodeSize);for(let g=d.left,v=0;g<d.right;g++,v++)g==d.left&&m==d.top||h.insert(f=h.mapping.map(b+d.tableStart,1),r({node:a,row:m,col:g}).createAndFill(c[v]))}h.setNodeMarkup(s,r({node:a,row:d.top,col:d.left}),c[0]),o instanceof ar&&h.setSelection(new ar(h.doc.resolve(o.$anchorCell.pos),f?h.doc.resolve(f):void 0)),n(h)}return!0}}function Gft(r,e){return function(n,i){if(!Us(n))return!1;const o=J6(n);if(o.nodeAfter.attrs[r]===e)return!1;if(i){const a=n.tr;n.selection instanceof ar?n.selection.forEachCell((s,l)=>{s.attrs[r]!==e&&a.setNodeMarkup(l,null,{...s.attrs,[r]:e})}):a.setNodeMarkup(o.pos,null,{...o.nodeAfter.attrs,[r]:e}),i(a)}return!0}}function Kft(r){return function(e,n){if(!Us(e))return!1;if(n){const i=Vi(e.schema),o=zl(e),a=e.tr,s=o.map.cellsInRect(r=="column"?{left:o.left,top:0,right:o.right,bottom:o.map.height}:r=="row"?{left:0,top:o.top,right:o.map.width,bottom:o.bottom}:o),l=s.map(c=>o.table.nodeAt(c));for(let c=0;c<s.length;c++)l[c].type==i.header_cell&&a.setNodeMarkup(o.tableStart+s[c],i.cell,l[c].attrs);if(a.steps.length==0)for(let c=0;c<s.length;c++)a.setNodeMarkup(o.tableStart+s[c],i.header_cell,l[c].attrs);n(a)}return!0}}function qQ(r,e,n){const i=e.map.cellsInRect({left:0,top:0,right:r=="row"?e.map.width:1,bottom:r=="column"?e.map.height:1});for(let o=0;o<i.length;o++){const a=e.table.nodeAt(i[o]);if(a&&a.type!==n.header_cell)return!1}return!0}function Hb(r,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?Kft(r):function(n,i){if(!Us(n))return!1;if(i){const o=Vi(n.schema),a=zl(n),s=n.tr,l=qQ("row",a,o),c=qQ("column",a,o),d=(r==="column"?l:r==="row"?c:!1)?1:0,h=r=="column"?{left:0,top:d,right:1,bottom:a.map.height}:r=="row"?{left:d,top:0,right:a.map.width,bottom:1}:a,f=r=="column"?c?o.cell:o.header_cell:r=="row"?l?o.cell:o.header_cell:o.cell;a.map.cellsInRect(h).forEach(m=>{const b=m+a.tableStart,g=s.doc.nodeAt(b);g&&s.setNodeMarkup(b,f,g.attrs)}),i(s)}return!0}}Hb("row",{useDeprecatedLogic:!0});Hb("column",{useDeprecatedLogic:!0});var Xft=Hb("cell",{useDeprecatedLogic:!0});function Yft(r,e){if(e<0){const n=r.nodeBefore;if(n)return r.pos-n.nodeSize;for(let i=r.index(-1)-1,o=r.before();i>=0;i--){const a=r.node(-1).child(i),s=a.lastChild;if(s)return o-1-s.nodeSize;o-=a.nodeSize}}else{if(r.index()<r.parent.childCount-1)return r.pos+r.nodeAfter.nodeSize;const n=r.node(-1);for(let i=r.indexAfter(-1),o=r.after();i<n.childCount;i++){const a=n.child(i);if(a.childCount)return o+1;o+=a.nodeSize}}return null}function GQ(r){return function(e,n){if(!Us(e))return!1;const i=Yft(J6(e),r);if(i==null)return!1;if(n){const o=e.doc.resolve(i);n(e.tr.setSelection(rn.between(o,_ft(o))).scrollIntoView())}return!0}}function Zft(r,e){const n=r.selection.$anchor;for(let i=n.depth;i>0;i--)if(n.node(i).type.spec.tableRole=="table")return e&&e(r.tr.delete(n.before(i),n.after(i)).scrollIntoView()),!0;return!1}function j2(r,e){const n=r.selection;if(!(n instanceof ar))return!1;if(e){const i=r.tr,o=Vi(r.schema).cell.createAndFill().content;n.forEachCell((a,s)=>{a.content.eq(o)||i.replace(i.mapping.map(s+1),i.mapping.map(s+a.nodeSize-1),new xt(o,0,0))}),i.docChanged&&e(i)}return!0}function Jft(r){if(!r.size)return null;let{content:e,openStart:n,openEnd:i}=r;for(;e.childCount==1&&(n>0&&i>0||e.child(0).type.spec.tableRole=="table");)n--,i--,e=e.child(0).content;const o=e.child(0),a=o.type.spec.tableRole,s=o.type.schema,l=[];if(a=="row")for(let c=0;c<e.childCount;c++){let u=e.child(c).content;const d=c?0:Math.max(0,n-1),h=c<e.childCount-1?0:Math.max(0,i-1);(d||h)&&(u=uR(Vi(s).row,new xt(u,d,h)).content),l.push(u)}else if(a=="cell"||a=="header_cell")l.push(n||i?uR(Vi(s).row,new xt(e,n,i)).content:e);else return null;return Qft(s,l)}function Qft(r,e){const n=[];for(let o=0;o<e.length;o++){const a=e[o];for(let s=a.childCount-1;s>=0;s--){const{rowspan:l,colspan:c}=a.child(s).attrs;for(let u=o;u<o+l;u++)n[u]=(n[u]||0)+c}}let i=0;for(let o=0;o<n.length;o++)i=Math.max(i,n[o]);for(let o=0;o<n.length;o++)if(o>=e.length&&e.push(nt.empty),n[o]<i){const a=Vi(r).cell.createAndFill(),s=[];for(let l=n[o];l<i;l++)s.push(a);e[o]=e[o].append(nt.from(s))}return{height:e.length,width:i,rows:e}}function uR(r,e){const n=r.createAndFill();return new Put(n).replace(0,n.content.size,e).doc}function ept({width:r,height:e,rows:n},i,o){if(r!=i){const a=[],s=[];for(let l=0;l<n.length;l++){const c=n[l],u=[];for(let d=a[l]||0,h=0;d<i;h++){let f=c.child(h%c.childCount);d+f.attrs.colspan>i&&(f=f.type.createChecked(rp(f.attrs,f.attrs.colspan,d+f.attrs.colspan-i),f.content)),u.push(f),d+=f.attrs.colspan;for(let m=1;m<f.attrs.rowspan;m++)a[l+m]=(a[l+m]||0)+f.attrs.colspan}s.push(nt.from(u))}n=s,r=i}if(e!=o){const a=[];for(let s=0,l=0;s<o;s++,l++){const c=[],u=n[l%e];for(let d=0;d<u.childCount;d++){let h=u.child(d);s+h.attrs.rowspan>o&&(h=h.type.create({...h.attrs,rowspan:Math.max(1,o-h.attrs.rowspan)},h.content)),c.push(h)}a.push(nt.from(c))}n=a,e=o}return{width:r,height:e,rows:n}}function tpt(r,e,n,i,o,a,s){const l=r.doc.type.schema,c=Vi(l);let u,d;if(o>e.width)for(let h=0,f=0;h<e.height;h++){const m=n.child(h);f+=m.nodeSize;const b=[];let g;m.lastChild==null||m.lastChild.type==c.cell?g=u||(u=c.cell.createAndFill()):g=d||(d=c.header_cell.createAndFill());for(let v=e.width;v<o;v++)b.push(g);r.insert(r.mapping.slice(s).map(f-1+i),b)}if(a>e.height){const h=[];for(let b=0,g=(e.height-1)*e.width;b<Math.max(e.width,o);b++){const v=b>=e.width?!1:n.nodeAt(e.map[g+b]).type==c.header_cell;h.push(v?d||(d=c.header_cell.createAndFill()):u||(u=c.cell.createAndFill()))}const f=c.row.create(null,nt.from(h)),m=[];for(let b=e.height;b<a;b++)m.push(f);r.insert(r.mapping.slice(s).map(i+n.nodeSize-2),m)}return!!(u||d)}function KQ(r,e,n,i,o,a,s,l){if(s==0||s==e.height)return!1;let c=!1;for(let u=o;u<a;u++){const d=s*e.width+u,h=e.map[d];if(e.map[d-e.width]==h){c=!0;const f=n.nodeAt(h),{top:m,left:b}=e.findCell(h);r.setNodeMarkup(r.mapping.slice(l).map(h+i),null,{...f.attrs,rowspan:s-m}),r.insert(r.mapping.slice(l).map(e.positionAt(s,b,n)),f.type.createAndFill({...f.attrs,rowspan:m+f.attrs.rowspan-s})),u+=f.attrs.colspan-1}}return c}function XQ(r,e,n,i,o,a,s,l){if(s==0||s==e.width)return!1;let c=!1;for(let u=o;u<a;u++){const d=u*e.width+s,h=e.map[d];if(e.map[d-1]==h){c=!0;const f=n.nodeAt(h),m=e.colCount(h),b=r.mapping.slice(l).map(h+i);r.setNodeMarkup(b,null,rp(f.attrs,s-m,f.attrs.colspan-(s-m))),r.insert(b+f.nodeSize,f.type.createAndFill(rp(f.attrs,0,s-m))),u+=f.attrs.rowspan-1}}return c}function YQ(r,e,n,i,o){let a=n?r.doc.nodeAt(n-1):r.doc;if(!a)throw new Error("No table found");let s=Pr.get(a);const{top:l,left:c}=i,u=c+o.width,d=l+o.height,h=r.tr;let f=0;function m(){if(a=n?h.doc.nodeAt(n-1):h.doc,!a)throw new Error("No table found");s=Pr.get(a),f=h.mapping.maps.length}tpt(h,s,a,n,u,d,f)&&m(),KQ(h,s,a,n,c,u,l,f)&&m(),KQ(h,s,a,n,c,u,d,f)&&m(),XQ(h,s,a,n,l,d,c,f)&&m(),XQ(h,s,a,n,l,d,u,f)&&m();for(let b=l;b<d;b++){const g=s.positionAt(b,c,a),v=s.positionAt(b,u,a);h.replace(h.mapping.slice(f).map(g+n),h.mapping.slice(f).map(v+n),new xt(o.rows[b-l],0,0))}m(),h.setSelection(new ar(h.doc.resolve(n+s.positionAt(l,c,a)),h.doc.resolve(n+s.positionAt(d-1,u-1,a)))),e(h)}var npt=Ddt({ArrowLeft:F2("horiz",-1),ArrowRight:F2("horiz",1),ArrowUp:F2("vert",-1),ArrowDown:F2("vert",1),"Shift-ArrowLeft":H2("horiz",-1),"Shift-ArrowRight":H2("horiz",1),"Shift-ArrowUp":H2("vert",-1),"Shift-ArrowDown":H2("vert",1),Backspace:j2,"Mod-Backspace":j2,Delete:j2,"Mod-Delete":j2});function R4(r,e,n){return n.eq(r.selection)?!1:(e&&e(r.tr.setSelection(n).scrollIntoView()),!0)}function F2(r,e){return(n,i,o)=>{if(!o)return!1;const a=n.selection;if(a instanceof ar)return R4(n,i,ln.near(a.$headCell,e));if(r!="horiz"&&!a.empty)return!1;const s=N1e(o,r,e);if(s==null)return!1;if(r=="horiz")return R4(n,i,ln.near(n.doc.resolve(a.head+e),e));{const l=n.doc.resolve(s),c=E1e(l,r,e);let u;return c?u=ln.near(c,1):e<0?u=ln.near(n.doc.resolve(l.before(-1)),-1):u=ln.near(n.doc.resolve(l.after(-1)),1),R4(n,i,u)}}}function H2(r,e){return(n,i,o)=>{if(!o)return!1;const a=n.selection;let s;if(a instanceof ar)s=a;else{const c=N1e(o,r,e);if(c==null)return!1;s=new ar(n.doc.resolve(c))}const l=E1e(s.$headCell,r,e);return l?R4(n,i,new ar(s.$anchorCell,l)):!1}}function rpt(r,e){const n=r.state.doc,i=kg(n.resolve(e));return i?(r.dispatch(r.state.tr.setSelection(new ar(i))),!0):!1}function ipt(r,e,n){if(!Us(r.state))return!1;let i=Jft(n);const o=r.state.selection;if(o instanceof ar){i||(i={width:1,height:1,rows:[nt.from(uR(Vi(r.state.schema).cell,n))]});const a=o.$anchorCell.node(-1),s=o.$anchorCell.start(-1),l=Pr.get(a).rectBetween(o.$anchorCell.pos-s,o.$headCell.pos-s);return i=ept(i,l.right-l.left,l.bottom-l.top),YQ(r.state,r.dispatch,s,l,i),!0}else if(i){const a=J6(r.state),s=a.start(-1);return YQ(r.state,r.dispatch,s,Pr.get(a.node(-1)).findCell(a.pos-s),i),!0}else return!1}function opt(r,e){var n;if(e.ctrlKey||e.metaKey)return;const i=ZQ(r,e.target);let o;if(e.shiftKey&&r.state.selection instanceof ar)a(r.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&i&&(o=kg(r.state.selection.$anchor))!=null&&((n=xA(r,e))==null?void 0:n.pos)!=o.pos)a(o,e),e.preventDefault();else if(!i)return;function a(c,u){let d=xA(r,u);const h=sd.getState(r.state)==null;if(!d||!ZI(c,d))if(h)d=c;else return;const f=new ar(c,d);if(h||!r.state.selection.eq(f)){const m=r.state.tr.setSelection(f);h&&m.setMeta(sd,c.pos),r.dispatch(m)}}function s(){r.root.removeEventListener("mouseup",s),r.root.removeEventListener("dragstart",s),r.root.removeEventListener("mousemove",l),sd.getState(r.state)!=null&&r.dispatch(r.state.tr.setMeta(sd,-1))}function l(c){const u=c,d=sd.getState(r.state);let h;if(d!=null)h=r.state.doc.resolve(d);else if(ZQ(r,u.target)!=i&&(h=xA(r,e),!h))return s();h&&a(h,u)}r.root.addEventListener("mouseup",s),r.root.addEventListener("dragstart",s),r.root.addEventListener("mousemove",l)}function N1e(r,e,n){if(!(r.state.selection instanceof rn))return null;const{$head:i}=r.state.selection;for(let o=i.depth-1;o>=0;o--){const a=i.node(o);if((n<0?i.index(o):i.indexAfter(o))!=(n<0?0:a.childCount))return null;if(a.type.spec.tableRole=="cell"||a.type.spec.tableRole=="header_cell"){const l=i.before(o),c=e=="vert"?n>0?"down":"up":n>0?"right":"left";return r.endOfTextblock(c)?l:null}}return null}function ZQ(r,e){for(;e&&e!=r.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function xA(r,e){const n=r.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?kg(r.state.doc.resolve(n.pos)):null}var apt=class{constructor(e,n){this.node=e,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),dR(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,dR(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function dR(r,e,n,i,o,a){var s;let l=0,c=!0,u=e.firstChild;const d=r.firstChild;if(d){for(let h=0,f=0;h<d.childCount;h++){const{colspan:m,colwidth:b}=d.child(h).attrs;for(let g=0;g<m;g++,f++){const v=o==f?a:b&&b[g],x=v?v+"px":"";if(l+=v||i,v||(c=!1),u)u.style.width!=x&&(u.style.width=x),u=u.nextSibling;else{const w=document.createElement("col");w.style.width=x,e.appendChild(w)}}}for(;u;){const h=u.nextSibling;(s=u.parentNode)==null||s.removeChild(u),u=h}c?(n.style.width=l+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=l+"px")}}var la=new cs("tableColumnResizing");function spt({handleWidth:r=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:i=apt,lastColumnResizable:o=!0}={}){const a=new zs({key:la,state:{init(s,l){var c,u;const d=(u=(c=a.spec)==null?void 0:c.props)==null?void 0:u.nodeViews,h=Vi(l.schema).table.name;return i&&d&&(d[h]=(f,m)=>new i(f,n,m)),new lpt(-1,!1)},apply(s,l){return l.apply(s)}},props:{attributes:s=>{const l=la.getState(s);return l&&l.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(s,l)=>{cpt(s,l,r,o)},mouseleave:s=>{upt(s)},mousedown:(s,l)=>{dpt(s,l,e,n)}},decorations:s=>{const l=la.getState(s);if(l&&l.activeHandle>-1)return gpt(s,l.activeHandle)},nodeViews:{}}});return a}var lpt=class N4{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,i=e.getMeta(la);if(i&&i.setHandle!=null)return new N4(i.setHandle,!1);if(i&&i.setDragging!==void 0)return new N4(n.activeHandle,i.setDragging);if(n.activeHandle>-1&&e.docChanged){let o=e.mapping.map(n.activeHandle,-1);return cR(e.doc.resolve(o))||(o=-1),new N4(o,n.dragging)}return n}};function cpt(r,e,n,i){if(!r.editable)return;const o=la.getState(r.state);if(o&&!o.dragging){const a=fpt(e.target);let s=-1;if(a){const{left:l,right:c}=a.getBoundingClientRect();e.clientX-l<=n?s=JQ(r,e,"left",n):c-e.clientX<=n&&(s=JQ(r,e,"right",n))}if(s!=o.activeHandle){if(!i&&s!==-1){const l=r.state.doc.resolve(s),c=l.node(-1),u=Pr.get(c),d=l.start(-1);if(u.colCount(l.pos-d)+l.nodeAfter.attrs.colspan-1==u.width-1)return}O1e(r,s)}}}function upt(r){if(!r.editable)return;const e=la.getState(r.state);e&&e.activeHandle>-1&&!e.dragging&&O1e(r,-1)}function dpt(r,e,n,i){var o;if(!r.editable)return!1;const a=(o=r.dom.ownerDocument.defaultView)!=null?o:window,s=la.getState(r.state);if(!s||s.activeHandle==-1||s.dragging)return!1;const l=r.state.doc.nodeAt(s.activeHandle),c=hpt(r,s.activeHandle,l.attrs);r.dispatch(r.state.tr.setMeta(la,{setDragging:{startX:e.clientX,startWidth:c}}));function u(h){a.removeEventListener("mouseup",u),a.removeEventListener("mousemove",d);const f=la.getState(r.state);f!=null&&f.dragging&&(ppt(r,f.activeHandle,QQ(f.dragging,h,n)),r.dispatch(r.state.tr.setMeta(la,{setDragging:null})))}function d(h){if(!h.which)return u(h);const f=la.getState(r.state);if(f&&f.dragging){const m=QQ(f.dragging,h,n);eee(r,f.activeHandle,m,i)}}return eee(r,s.activeHandle,c,i),a.addEventListener("mouseup",u),a.addEventListener("mousemove",d),e.preventDefault(),!0}function hpt(r,e,{colspan:n,colwidth:i}){const o=i&&i[i.length-1];if(o)return o;const a=r.domAtPos(e);let l=a.node.childNodes[a.offset].offsetWidth,c=n;if(i)for(let u=0;u<n;u++)i[u]&&(l-=i[u],c--);return l/c}function fpt(r){for(;r&&r.nodeName!="TD"&&r.nodeName!="TH";)r=r.classList&&r.classList.contains("ProseMirror")?null:r.parentNode;return r}function JQ(r,e,n,i){const o=n=="right"?-i:i,a=r.posAtCoords({left:e.clientX+o,top:e.clientY});if(!a)return-1;const{pos:s}=a,l=kg(r.state.doc.resolve(s));if(!l)return-1;if(n=="right")return l.pos;const c=Pr.get(l.node(-1)),u=l.start(-1),d=c.map.indexOf(l.pos-u);return d%c.width==0?-1:u+c.map[d-1]}function QQ(r,e,n){const i=e.clientX-r.startX;return Math.max(n,r.startWidth+i)}function O1e(r,e){r.dispatch(r.state.tr.setMeta(la,{setHandle:e}))}function ppt(r,e,n){const i=r.state.doc.resolve(e),o=i.node(-1),a=Pr.get(o),s=i.start(-1),l=a.colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1,c=r.state.tr;for(let u=0;u<a.height;u++){const d=u*a.width+l;if(u&&a.map[d]==a.map[d-a.width])continue;const h=a.map[d],f=o.nodeAt(h).attrs,m=f.colspan==1?0:l-a.colCount(h);if(f.colwidth&&f.colwidth[m]==n)continue;const b=f.colwidth?f.colwidth.slice():mpt(f.colspan);b[m]=n,c.setNodeMarkup(s+h,null,{...f,colwidth:b})}c.docChanged&&r.dispatch(c)}function eee(r,e,n,i){const o=r.state.doc.resolve(e),a=o.node(-1),s=o.start(-1),l=Pr.get(a).colCount(o.pos-s)+o.nodeAfter.attrs.colspan-1;let c=r.domAtPos(o.start(-1)).node;for(;c&&c.nodeName!="TABLE";)c=c.parentNode;c&&dR(a,c.firstChild,c,i,l,n)}function mpt(r){return Array(r).fill(0)}function gpt(r,e){var n;const i=[],o=r.doc.resolve(e),a=o.node(-1);if(!a)return Nr.empty;const s=Pr.get(a),l=o.start(-1),c=s.colCount(o.pos-l)+o.nodeAfter.attrs.colspan-1;for(let u=0;u<s.height;u++){const d=c+u*s.width;if((c==s.width-1||s.map[d]!=s.map[d+1])&&(u==0||s.map[d]!=s.map[d-s.width])){const h=s.map[d],f=l+h+a.nodeAt(h).nodeSize-1,m=document.createElement("div");m.className="column-resize-handle",(n=la.getState(r))!=null&&n.dragging&&i.push(Ao.node(l+h,l+h+a.nodeAt(h).nodeSize,{class:"column-resize-dragging"})),i.push(Ao.widget(f,m))}}return Nr.create(r.doc,i)}function ypt({allowTableNodeSelection:r=!1}={}){return new zs({key:sd,state:{init(){return null},apply(e,n){const i=e.getMeta(sd);if(i!=null)return i==-1?null:i;if(n==null||!e.docChanged)return n;const{deleted:o,pos:a}=e.mapping.mapResult(n);return o?null:a}},props:{decorations:Mft,handleDOMEvents:{mousedown:opt},createSelectionBetween(e){return sd.getState(e.state)!=null?e.state.selection:null},handleTripleClick:rpt,handleKeyDown:npt,handlePaste:ipt},appendTransaction(e,n,i){return Oft(i,D1e(i,n),r)}})}function hR(r,e){return e?["width",`${Math.max(e,r)}px`]:["min-width",`${r}px`]}function tee(r,e,n,i,o,a){var s;let l=0,c=!0,u=e.firstChild;const d=r.firstChild;if(d!==null)for(let h=0,f=0;h<d.childCount;h+=1){const{colspan:m,colwidth:b}=d.child(h).attrs;for(let g=0;g<m;g+=1,f+=1){const v=o===f?a:b&&b[g],x=v?`${v}px`:"";if(l+=v||i,v||(c=!1),u){if(u.style.width!==x){const[w,k]=hR(i,v);u.style.setProperty(w,k)}u=u.nextSibling}else{const w=document.createElement("col"),[k,T]=hR(i,v);w.style.setProperty(k,T),e.appendChild(w)}}}for(;u;){const h=u.nextSibling;(s=u.parentNode)===null||s===void 0||s.removeChild(u),u=h}c?(n.style.width=`${l}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${l}px`)}class bpt{constructor(e,n){this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),tee(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,tee(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}}function vpt(r,e,n,i){let o=0,a=!0;const s=[],l=r.firstChild;if(!l)return{};for(let h=0,f=0;h<l.childCount;h+=1){const{colspan:m,colwidth:b}=l.child(h).attrs;for(let g=0;g<m;g+=1,f+=1){const v=n===f?i:b&&b[g];o+=v||e,v||(a=!1);const[x,w]=hR(e,v);s.push(["col",{style:`${x}: ${w}`}])}}const c=a?`${o}px`:"",u=a?"":`${o}px`;return{colgroup:["colgroup",{},...s],tableWidth:c,tableMinWidth:u}}function nee(r,e){return r.createAndFill()}function xpt(r){if(r.cached.tableNodeTypes)return r.cached.tableNodeTypes;const e={};return Object.keys(r.nodes).forEach(n=>{const i=r.nodes[n];i.spec.tableRole&&(e[i.spec.tableRole]=i)}),r.cached.tableNodeTypes=e,e}function wpt(r,e,n,i,o){const a=xpt(r),s=[],l=[];for(let u=0;u<n;u+=1){const d=nee(a.cell);if(d&&l.push(d),i){const h=nee(a.header_cell);h&&s.push(h)}}const c=[];for(let u=0;u<e;u+=1)c.push(a.row.createChecked(null,i&&u===0?s:l));return a.table.createChecked(null,c)}function Spt(r){return r instanceof ar}const W2=({editor:r})=>{const{selection:e}=r.state;if(!Spt(e))return!1;let n=0;const i=k1e(e.ranges[0].$from,a=>a.type.name==="table");return i==null||i.node.descendants(a=>{if(a.type.name==="table")return!1;["tableCell","tableHeader"].includes(a.type.name)&&(n+=1)}),n===e.ranges.length?(r.commands.deleteTable(),!0):!1},kpt=Hv.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:bpt,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:r,HTMLAttributes:e}){const{colgroup:n,tableWidth:i,tableMinWidth:o}=vpt(r,this.options.cellMinWidth);return["table",Fv(this.options.HTMLAttributes,e,{style:i?`width: ${i}`:`min-width: ${o}`}),n,["tbody",0]]},addCommands(){return{insertTable:({rows:r=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:i,dispatch:o,editor:a})=>{const s=wpt(a.schema,r,e,n);if(o){const l=i.selection.from+1;i.replaceSelectionWith(s).scrollIntoView().setSelection(rn.near(i.doc.resolve(l)))}return!0},addColumnBefore:()=>({state:r,dispatch:e})=>$ft(r,e),addColumnAfter:()=>({state:r,dispatch:e})=>zft(r,e),deleteColumn:()=>({state:r,dispatch:e})=>Uft(r,e),addRowBefore:()=>({state:r,dispatch:e})=>jft(r,e),addRowAfter:()=>({state:r,dispatch:e})=>Fft(r,e),deleteRow:()=>({state:r,dispatch:e})=>Wft(r,e),deleteTable:()=>({state:r,dispatch:e})=>Zft(r,e),mergeCells:()=>({state:r,dispatch:e})=>WQ(r,e),splitCell:()=>({state:r,dispatch:e})=>VQ(r,e),toggleHeaderColumn:()=>({state:r,dispatch:e})=>Hb("column")(r,e),toggleHeaderRow:()=>({state:r,dispatch:e})=>Hb("row")(r,e),toggleHeaderCell:()=>({state:r,dispatch:e})=>Xft(r,e),mergeOrSplit:()=>({state:r,dispatch:e})=>WQ(r,e)?!0:VQ(r,e),setCellAttribute:(r,e)=>({state:n,dispatch:i})=>Gft(r,e)(n,i),goToNextCell:()=>({state:r,dispatch:e})=>GQ(1)(r,e),goToPreviousCell:()=>({state:r,dispatch:e})=>GQ(-1)(r,e),fixTables:()=>({state:r,dispatch:e})=>(e&&D1e(r),!0),setCellSelection:r=>({tr:e,dispatch:n})=>{if(n){const i=ar.create(e.doc,r.anchorCell,r.headCell);e.setSelection(i)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:W2,"Mod-Backspace":W2,Delete:W2,"Mod-Delete":W2}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[spt({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],ypt({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(r){const e={name:r.name,options:r.options,storage:r.storage};return{tableRole:ml(qa(r,"tableRole",e))}}}),Tpt=Hv.create({name:"tableRowGroup",group:"tableRowGroup",content:"tableRow+",tableRole:"table",parseHTML(){return[{tag:"tbody"}]},addNodeView(){return({node:r})=>{const e=document.createElement("div");e.classList.add("table-row-group");const n=document.createElement("tbody");return e.appendChild(n),{dom:e,contentDOM:n}}},renderHTML(){return["tbody",{},0]},addProseMirrorPlugins(){const{editor:r}=this;return[new zs({key:new cs("tableRowGroupKey"),appendTransaction(e,n,i){const{doc:o,tr:a}=i;let s=!1;return o.descendants((l,c)=>{if(l.type.name!=="table")return!1;const u=[],d=[],h={};l.forEach((g,v,x)=>{g.type.name==="tableRowGroup"?(h[x]=g.childCount,g.forEach(w=>{w.type.name==="tableRow"&&d.push(w)})):g.type.name==="tableRow"&&(h[x]=1,d.push(g))});let f={};for(let g=0;g<d.length;g++)f[g+1]=Ept(d[g]);const m=I1e(Cpt(d.length,f)),b=Object.assign({},m.map(g=>g.length));if(!P1e(h,b)){const g=r.schema.nodes.tableRowGroup,v=m.findIndex(k=>k.length>1);for(let k=0;k<m.length;k++){const T=d.slice(Math.min(...m[k])-1,Math.max(...m[k]));T.length>0&&(v!==-1?u.push(g.createAndFill(null,T)):u.push(T[0]))}const w=r.schema.nodes.table.createAndFill(null,u);a.replaceWith(c,c+l.nodeSize,w),s=!0}return!1}),s?a:null}})]}}),Ept=r=>{let e=0;return r.forEach(n=>{const i=n.attrs.rowspan||1;i>e&&(e=i)}),e};function P1e(r,e){if(typeof r!="object"||r===null||typeof e!="object"||e===null)return r===e;const n=Object.keys(r),i=Object.keys(e);if(n.length!==i.length)return!1;for(let o of n)if(!e.hasOwnProperty(o)||!P1e(r[o],e[o]))return!1;return!0}const Cpt=(r,e)=>{const n=[];for(let i=1;i<=r;i++){const o=e[i]||1,a=[];for(let s=0;s<o&&i+s<=r;s++)a.push(i+s);n.push(a)}return n},I1e=r=>{const e=[];for(const i of r){let o=!1;const a=new Set(i);for(let s=0;s<e.length;s++){const l=new Set(e[s]);if(Array.from(a).some(u=>l.has(u))){e[s]=Array.from(new Set([...e[s],...i])),o=!0;break}}o||e.push([...i])}const n=e.map(i=>new Set(i));for(let i=0;i<n.length;i++)for(let o=i+1;o<n.length;o++)if(Array.from(n[i]).some(s=>n[o].has(s)))return I1e(e.map(s=>[...s]));return e.map(i=>Array.from(new Set(i)).sort((o,a)=>o-a))};kpt.extend({content:"(tableRowGroup|tableRow)+",addExtensions(){return[Tpt]},renderHTML({node:r,HTMLAttributes:e}){return["table",Fv(this.options.HTMLAttributes,e,{border:1}),0]},addNodeView(){return({node:r})=>{const e=document.createElement("table");let n=0;return r.forEach(i=>{i.type.name==="tableRowGroup"?i.forEach(o=>{o.type.name==="tableRow"&&o.childCount>n&&(n=o.childCount)}):i.type.name==="tableRow"&&i.childCount>n&&(n=i.childCount)}),e.style.setProperty("--cell-count",n.toString()),{dom:e,contentDOM:e}}}});const _pt=Hv.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:r=>{const e=r.getAttribute("colwidth");return e?e.split(",").map(i=>parseInt(i,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:r}){return["td",Fv(this.options.HTMLAttributes,r),0]}});_pt.extend({addNodeView(){return({node:r})=>{const e=document.createElement("td");let n=r.attrs.colspan,i=r.attrs.rowspan;const o=(a,s)=>{e.style.gridColumn=`auto / span ${a||1}`,e.rowSpan=s||1,e.setAttribute("colspan",`${a||1}`)};return o(n,i),{dom:e,contentDOM:e,update(a){if(a.type.name!=="tableCell")return!1;const s=a.attrs.colspan;return s!==n&&(n=s,o(s,i)),!0}}}}});const Apt=Hv.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:r=>{const e=r.getAttribute("colwidth");return e?e.split(",").map(i=>parseInt(i,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:r}){return["th",Fv(this.options.HTMLAttributes,r),0]}});Apt.extend({addNodeView(){return({node:r})=>{const e=document.createElement("th");let n=r.attrs.colspan,i=r.attrs.rowspan;const o=(a,s)=>{e.style.gridColumn=`auto / span ${a||1}`,e.rowSpan=s||1,e.setAttribute("colspan",`${a||1}`)};return o(n,i),{dom:e,contentDOM:e,update(a){if(a.type.name!=="tableHeader")return!1;const s=a.attrs.colspan;return s!==n&&(n=s,o(s,i)),!0}}}}});const Dpt=Hv.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:r}){return["tr",Fv(this.options.HTMLAttributes,r),0]}});Dpt.extend({addNodeView(){return({node:r})=>{const e=document.createElement("tr");e.style.display="grid";let n=r.children.map(o=>o.attrs.colspan).reduce((o,a)=>o+a,0);const i=o=>{e.style.gridTemplateColumns=`repeat(${o||1}, 1fr)`};return i(n),{dom:e,contentDOM:e,update(o){if(o.type.name!=="tableRow")return!1;const a=o.children.map(s=>s.attrs.colspan).reduce((s,l)=>s+l,0);return a!==n&&(n=a,i(a)),!0}}}}});function wA(r){const e=r.split(","),n=e[0].match(/:(.*?);/)[1],i=atob(e[1]);let o=i.length;const a=new Uint8Array(o);for(;o--;)a[o]=i.charCodeAt(o);return new Blob([a],{type:n})}const Mpt=[Qze.configure({focus:!1,selection:!1,placeholder:{showOnlyCurrent:!0},characterCount:{limit:5e4}}),mit,W0e,ege,Xrt.configure({spacer:!0}),mKe,qrt,Jrt.configure({spacer:!0}),Krt,dKe,Xat,Lct,nlt,Ust,rZe,XXe.configure({spacer:!0}),nit,pKe,Fst,$ct.configure({types:["heading","paragraph"],spacer:!0}),Hat,tst,Oct.configure({spacer:!0,taskItem:{nested:!0}}),Cst,Vf.configure({upload:r=>new Promise(e=>{setTimeout(()=>{e(URL.createObjectURL(r))},500)})}),AS.configure({upload:r=>new Promise(e=>{setTimeout(()=>{e(URL.createObjectURL(r))},500)})}),XN.configure({}),oKe,Jst,yit,vKe.configure({toolbar:!1}),nfe,wIe,vct,Qh,aZe.configure({spacer:!0}),Fat.configure({upload:r=>{const e=r.map(n=>({src:URL.createObjectURL(n),alt:n.name}));return Promise.resolve(e)}}),Hrt,Bct,Ist,nKe.configure({upload:r=>{const e=new FileReader;return e.readAsDataURL(r),new Promise(n=>{setTimeout(()=>{const i=wA(e.result);n(URL.createObjectURL(i))},300)})}}),af,ef,FD.configure({upload:r=>{const e=new FileReader;return e.readAsDataURL(r),new Promise(n=>{setTimeout(()=>{const i=wA(e.result);n(URL.createObjectURL(i))},300)})}}),A9.configure({upload:r=>{const e=new FileReader;return e.readAsDataURL(r),new Promise(n=>{setTimeout(()=>{const i=wA(e.result);n(URL.createObjectURL(i))},300)})}}),l3,xft],Rpt={type:"doc",content:[{type:"heading",attrs:{level:1},content:[{type:"text",text:"History of India"}]},{type:"heading",attrs:{level:2},content:[{type:"text",text:"Ancient India"}]},{type:"heading",attrs:{level:3},content:[{type:"text",text:"Indus Valley Civilization"}]},{type:"paragraph",content:[{type:"text",text:"The history of India dates back to ancient times, with one of the earliest known civilizations being the Indus Valley Civilization. Flourishing around 2600-1900 BCE, this civilization was located in what is now modern-day Pakistan and northwest India. Known for its advanced urban planning, sophisticated drainage systems, and intricate trade networks, the Indus Valley Civilization is a testament to the early ingenuity of Indian civilization."}]},{type:"heading",attrs:{level:3},content:[{type:"text",text:"Vedic Period"}]},{type:"paragraph",content:[{type:"text",text:"Following the decline of the Indus Valley Civilization, the Vedic Period emerged around 1500-500 BCE. This period is characterized by the composition of the Vedas, ancient sacred texts that form the foundation of Hinduism. The Vedic people were pastoral nomads who eventually settled in the Gangetic plains, establishing early forms of governance and social structures that laid the groundwork for future Indian society."}]},{type:"heading",attrs:{level:3},content:[{type:"text",text:"Maurya Empire"}]},{type:"paragraph",content:[{type:"text",text:"The Maurya Empire, founded by Chandragupta Maurya in 322 BCE, marked a significant period in Indian history. Under the rule of Emperor Ashoka, the Maurya Empire expanded to encompass most of the Indian subcontinent. Ashoka's conversion to Buddhism and his promotion of non-violence and social welfare policies left a lasting impact on Indian culture and governance. The Maurya Empire is remembered for its administrative innovations, including the establishment of a centralized bureaucracy and a network of roads connecting the empire."}]},{type:"heading",attrs:{level:2},content:[{type:"text",text:"Medieval India"}]},{type:"heading",attrs:{level:3},content:[{type:"text",text:"Delhi Sultanate"}]},{type:"paragraph",content:[{type:"text",text:"The Delhi Sultanate, established in 1206 by Qutb-ud-din Aibak, marked the beginning of medieval India. This period saw the influx of Islamic culture and governance in the Indian subcontinent. The Delhi Sultanate was characterized by a series of Turkic and Afghan dynasties ruling from Delhi, bringing significant changes to Indian society, architecture, and administration. Notable rulers of the Delhi Sultanate include Alauddin Khilji and Muhammad bin Tughlaq, known for their military conquests and administrative reforms."}]},{type:"heading",attrs:{level:3},content:[{type:"text",text:"Mughal Empire"}]},{type:"paragraph",content:[{type:"text",text:"The Mughal Empire, founded by Babur in 1526, marked a golden age in Indian history. The Mughals, of Central Asian descent, established a powerful empire known for its cultural richness, architectural marvels, and religious tolerance. Under emperors like Akbar, Jahangir, and Shah Jahan, the Mughal Empire reached its zenith, with achievements in art, literature, and governance. The Taj Mahal, a UNESCO World Heritage Site, stands as a symbol of Mughal architectural brilliance and love."}]},{type:"heading",attrs:{level:3},content:[{type:"text",text:"Vijayanagara Empire"}]},{type:"paragraph",content:[{type:"text",text:"The Vijayanagara Empire, founded in 1336 by Harihara and Bukka, was a powerful South Indian empire that flourished in the Deccan region. Known for its grandeur and military prowess, the Vijayanagara Empire played a crucial role in preserving Hindu culture and traditions during a period of Islamic invasions. The empire's capital, Hampi, was a center of art, architecture, and trade, attracting merchants and travelers from far and wide. The fall of the Vijayanagara Empire in 1565 marked the end of an era but left a lasting legacy in South Indian history."}]}]};function Npt(r,e){let n;return function(...i){clearTimeout(n),n=setTimeout(()=>r.apply(this,i),e)}}const Opt=()=>{const[r,e]=P.useState(()=>{const _=localStorage.getItem("editorContent");try{return _?JSON.parse(_):"<p><b>And this.</b></p>"}catch{return Rpt}}),[n]=P.useState("light"),[i,o]=P.useState(!1),[a,s]=P.useState("Untitled Document"),[l,c]=P.useState(!1),[u,d]=P.useState("English (By default)"),[h,f]=P.useState("All Pages (1-8)"),[m,b]=P.useState("PDF"),g=P.useCallback(Npt(_=>{e(_);try{localStorage.setItem("editorContent",JSON.stringify(_))}catch(D){console.error("Failed to save content to localStorage:",D)}},300),[]),v=()=>{console.log("Share clicked")},x=()=>{o(!i)},w=()=>{c(!0)},k=()=>c(!1),T=()=>{c(!1)};return E.jsxs("div",{className:" flex flex-col w-full max-w-screen-lg gap-[24px] mx-[auto] my-0",style:{maxWidth:1024},children:[E.jsxs("div",{className:"flex items-center justify-between border-b border-[#e5e7eb]   mb-6 relative min-h-[56px]",children:[E.jsx("div",{className:"absolute left-0 right-0 flex justify-center pointer-events-none",children:E.jsx("input",{type:"text",value:a,onChange:_=>s(_.target.value),className:"text-base sm:text-lg md:text-xl font-semibold text-center bg-transparent border-none focus:outline-none focus:ring-0 px-2 pointer-events-auto w-full max-w-lg truncate",style:{boxShadow:"none"},placeholder:"Untitled Document"})}),E.jsxs("div",{className:"flex gap-2 ml-auto z-10",children:[E.jsx("button",{onClick:v,className:"flex items-center gap-2 border border-[#e5e7eb] bg-white hover:bg-[#f3f4f6] text-gray-700 font-medium rounded-md px-3 py-1.5 transition-colors",children:E.jsx(Cwe,{className:"w-5 h-5"})}),E.jsx("button",{onClick:x,className:"flex items-center gap-2 border border-[#e5e7eb] bg-white hover:bg-[#f3f4f6] text-gray-700 font-medium rounded-md px-3 py-1.5 transition-colors",children:"Modify"}),E.jsxs("button",{onClick:w,className:"flex items-center gap-2 border border-[#e5e7eb] bg-white hover:bg-[#f3f4f6] text-gray-700 font-medium rounded-md px-3 py-1.5 transition-colors",children:[E.jsx(rB,{className:"w-5 h-5"}),"Download"]})]})]}),l&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-xs p-6 relative animate-fade-in",children:[E.jsx("button",{onClick:k,className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 text-xl",children:""}),E.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Download your project"}),E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{className:"block text-xs font-medium mb-1",children:"Choose language"}),E.jsxs("select",{value:u,onChange:_=>d(_.target.value),className:"w-full border rounded px-2 py-1 text-sm",children:[E.jsx("option",{children:"English (By default)"}),E.jsx("option",{children:"Hindi"}),E.jsx("option",{children:"Spanish"})]})]}),E.jsx("div",{className:"mb-3",children:E.jsxs("select",{value:h,onChange:_=>f(_.target.value),className:"w-full border rounded px-2 py-1 text-sm",children:[E.jsx("option",{children:"All Pages (1-8)"}),E.jsx("option",{children:"Page 1"}),E.jsx("option",{children:"Page 2"}),E.jsx("option",{children:"Page 3"})]})}),E.jsx("div",{className:"mb-3",children:E.jsxs("div",{className:"flex flex-col gap-1",children:[E.jsxs("button",{onClick:()=>b("DOCX"),className:`flex items-center gap-2 px-2 py-2 rounded ${m==="DOCX"?"bg-gray-100 border border-blue-400":"hover:bg-gray-50"} text-left`,children:[" ",E.jsx(Awe,{className:"text-blue-500"})," ",E.jsxs("div",{children:[E.jsx("div",{className:"font-medium text-xs",children:"DOCX"}),E.jsx("div",{className:"text-xs text-gray-500",children:"Ideal for digital sharing and editable content"})]})]}),E.jsxs("button",{onClick:()=>b("PDF"),className:`flex items-center gap-2 px-2 py-2 rounded ${m==="PDF"?"bg-gray-100 border border-blue-400":"hover:bg-gray-50"} text-left`,children:[" ",E.jsx(_we,{className:"text-red-500"})," ",E.jsxs("div",{children:[E.jsx("div",{className:"font-medium text-xs",children:"PDF"}),E.jsx("div",{className:"text-xs text-gray-500",children:"Best for sharing and printing documents"})]})]}),E.jsxs("button",{onClick:()=>b("JPEG"),className:`flex items-center gap-2 px-2 py-2 rounded ${m==="JPEG"?"bg-gray-100 border border-blue-400":"hover:bg-gray-50"} text-left`,children:[" ",E.jsx(iB,{className:"text-blue-400"})," ",E.jsxs("div",{children:[E.jsx("div",{className:"font-medium text-xs",children:"JPEG"}),E.jsx("div",{className:"text-xs text-gray-500",children:"Best for sharing and space saving"})]})]}),E.jsxs("button",{onClick:()=>b("PNG"),className:`flex items-center gap-2 px-2 py-2 rounded ${m==="PNG"?"bg-gray-100 border border-blue-400":"hover:bg-gray-50"} text-left`,children:[" ",E.jsx(iB,{className:"text-yellow-500"})," ",E.jsxs("div",{children:[E.jsx("div",{className:"font-medium text-xs",children:"PNG"}),E.jsx("div",{className:"text-xs text-gray-500",children:"Ideal for digital sharing and complex images"})]})]})]})}),E.jsxs("button",{onClick:T,className:"w-full mt-2 bg-[#1a2747] hover:bg-[#223366] text-white font-semibold py-2 rounded flex items-center justify-center gap-2",children:[E.jsx(rB,{})," Download"]})]})}),E.jsx(Eze,{output:"json",content:r,onChangeContent:g,extensions:i?[]:Mpt,dark:n==="dark",disabled:i,hideToolbar:i,bubbleMenu:{render({extensionsNames:_,editor:D,disabled:I},L){return E.jsxs(E.Fragment,{children:[L,_.includes("twitter")?E.jsx(WGe,{disabled:I,editor:D},"twitter"):null,_.includes("katex")?E.jsx(VGe,{disabled:I,editor:D},"katex"):null,_.includes("excalidraw")?E.jsx(HGe,{disabled:I,editor:D},"excalidraw"):null,_.includes("mermaid")?E.jsx(jGe,{disabled:I,editor:D},"mermaid"):null,_.includes("drawer")?E.jsx(YGe,{disabled:I,editor:D},"drawer"):null]})}}}),typeof r=="object"&&E.jsx("textarea",{style:{marginTop:20,height:500},readOnly:!0,value:JSON.stringify(r,null,2)})]})};function Ppt(){return E.jsx("div",{className:"max-w-4xl mx-auto px-2 relative",children:E.jsx(Opt,{})})}const Ipt=P.createContext({});function $1e(r){const e=P.useRef(null);return e.current===null&&(e.current=r()),e.current}const $pt=typeof window<"u",zpt=$pt?P.useLayoutEffect:P.useEffect,z1e=P.createContext(null);function Lpt(r){return typeof r=="object"&&r!==null}function Upt(r){return Lpt(r)&&"offsetHeight"in r}const Bpt=P.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});class jpt extends P.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,o=Upt(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=o-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Fpt({children:r,isPresent:e,anchorX:n}){const i=P.useId(),o=P.useRef(null),a=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=P.useContext(Bpt);return P.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:d,right:h}=a.current;if(e||!o.current||!l||!c)return;const f=n==="left"?`left: ${d}`:`right: ${h}`;o.current.dataset.motionPopId=i;const m=document.createElement("style");return s&&(m.nonce=s),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[e]),E.jsx(jpt,{isPresent:e,childRef:o,sizeRef:a,children:P.cloneElement(r,{ref:o})})}const Hpt=({children:r,initial:e,isPresent:n,onExitComplete:i,custom:o,presenceAffectsLayout:a,mode:s,anchorX:l})=>{const c=$1e(Wpt),u=P.useId();let d=!0,h=P.useMemo(()=>(d=!1,{id:u,initial:e,isPresent:n,custom:o,onExitComplete:f=>{c.set(f,!0);for(const m of c.values())if(!m)return;i&&i()},register:f=>(c.set(f,!1),()=>c.delete(f))}),[n,c,i]);return a&&d&&(h={...h}),P.useMemo(()=>{c.forEach((f,m)=>c.set(m,!1))},[n]),P.useEffect(()=>{!n&&!c.size&&i&&i()},[n]),s==="popLayout"&&(r=E.jsx(Fpt,{isPresent:n,anchorX:l,children:r})),E.jsx(z1e.Provider,{value:h,children:r})};function Wpt(){return new Map}function Vpt(r=!0){const e=P.useContext(z1e);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,a=P.useId();P.useEffect(()=>{if(r)return o(a)},[r]);const s=P.useCallback(()=>r&&i&&i(a),[a,i,r]);return!n&&i?[!1,s]:[!0]}const V2=r=>r.key||"";function ree(r){const e=[];return P.Children.forEach(r,n=>{P.isValidElement(n)&&e.push(n)}),e}const qpt=({children:r,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:a="sync",propagate:s=!1,anchorX:l="left"})=>{const[c,u]=Vpt(s),d=P.useMemo(()=>ree(r),[r]),h=s&&!c?[]:d.map(V2),f=P.useRef(!0),m=P.useRef(d),b=$1e(()=>new Map),[g,v]=P.useState(d),[x,w]=P.useState(d);zpt(()=>{f.current=!1,m.current=d;for(let _=0;_<x.length;_++){const D=V2(x[_]);h.includes(D)?b.delete(D):b.get(D)!==!0&&b.set(D,!1)}},[x,h.length,h.join("-")]);const k=[];if(d!==g){let _=[...d];for(let D=0;D<x.length;D++){const I=x[D],L=V2(I);h.includes(L)||(_.splice(D,0,I),k.push(I))}return a==="wait"&&k.length&&(_=k),w(ree(_)),v(d),null}const{forceRender:T}=P.useContext(Ipt);return E.jsx(E.Fragment,{children:x.map(_=>{const D=V2(_),I=s&&!c?!1:d===x||h.includes(D),L=()=>{if(b.has(D))b.set(D,!0);else return;let O=!0;b.forEach(W=>{W||(O=!1)}),O&&(T==null||T(),w(m.current),s&&(u==null||u()),i&&i())};return E.jsx(Hpt,{isPresent:I,initial:!f.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:a,onExitComplete:I?void 0:L,anchorX:l,children:_},D)})})};let Gpt="/";const Kpt=Gpt;function Xpt(){return E.jsx(E.Fragment,{children:E.jsx(P.Suspense,{fallback:E.jsx(Ypt,{}),children:E.jsx(vxe,{basename:Kpt,children:E.jsx(qpt,{mode:"wait",children:E.jsx(Xve,{children:E.jsx(Mee,{path:"*",element:E.jsx(Ppt,{})})})})})})})}const Ypt=({className:r})=>E.jsx("div",{className:"flex justify-center items-center w-full h-screen",children:E.jsx($xe,{className:bwe("animate-spin w-15 h-15",r)})});rve.createRoot(document.getElementById("root")).render(E.jsx(P.StrictMode,{children:E.jsx(Xpt,{})}));export{PS as _,Ybe as a,bee as b,pR as g,o0t as k,mR as r};
